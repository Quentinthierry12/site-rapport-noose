function RF(n, e) { for (var t = 0; t < e.length; t++) { const r = e[t]; if (typeof r != "string" && !Array.isArray(r)) { for (const i in r) if (i !== "default" && !(i in n)) { const s = Object.getOwnPropertyDescriptor(r, i); s && Object.defineProperty(n, i, s.get ? s : { enumerable: !0, get: () => r[i] }) } } } return Object.freeze(Object.defineProperty(n, Symbol.toStringTag, { value: "Module" })) } (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const i of document.querySelectorAll('link[rel="modulepreload"]')) r(i); new MutationObserver(i => { for (const s of i) if (s.type === "childList") for (const a of s.addedNodes) a.tagName === "LINK" && a.rel === "modulepreload" && r(a) }).observe(document, { childList: !0, subtree: !0 }); function t(i) { const s = {}; return i.integrity && (s.integrity = i.integrity), i.referrerPolicy && (s.referrerPolicy = i.referrerPolicy), i.crossOrigin === "use-credentials" ? s.credentials = "include" : i.crossOrigin === "anonymous" ? s.credentials = "omit" : s.credentials = "same-origin", s } function r(i) { if (i.ep) return; i.ep = !0; const s = t(i); fetch(i.href, s) } })(); var ty = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function Pg(n) { return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, "default") ? n.default : n } function T8(n) { if (Object.prototype.hasOwnProperty.call(n, "__esModule")) return n; var e = n.default; if (typeof e == "function") { var t = function r() { var i = !1; try { i = this instanceof r } catch { } return i ? Reflect.construct(e, arguments, this.constructor) : e.apply(this, arguments) }; t.prototype = e.prototype } else t = {}; return Object.defineProperty(t, "__esModule", { value: !0 }), Object.keys(n).forEach(function (r) { var i = Object.getOwnPropertyDescriptor(n, r); Object.defineProperty(t, r, i.get ? i : { enumerable: !0, get: function () { return n[r] } }) }), t } var j2 = { exports: {} }, Tm = {}; var A4; function F8() { if (A4) return Tm; A4 = 1; var n = Symbol.for("react.transitional.element"), e = Symbol.for("react.fragment"); function t(r, i, s) { var a = null; if (s !== void 0 && (a = "" + s), i.key !== void 0 && (a = "" + i.key), "key" in i) { s = {}; for (var o in i) o !== "key" && (s[o] = i[o]) } else s = i; return i = s.ref, { $$typeof: n, type: r, key: a, ref: i !== void 0 ? i : null, props: s } } return Tm.Fragment = e, Tm.jsx = t, Tm.jsxs = t, Tm } var c4; function U8() { return c4 || (c4 = 1, j2.exports = F8()), j2.exports } var g = U8(), z2 = { exports: {} }, tr = {}; var u4; function O8() { if (u4) return tr; u4 = 1; var n = Symbol.for("react.transitional.element"), e = Symbol.for("react.portal"), t = Symbol.for("react.fragment"), r = Symbol.for("react.strict_mode"), i = Symbol.for("react.profiler"), s = Symbol.for("react.consumer"), a = Symbol.for("react.context"), o = Symbol.for("react.forward_ref"), A = Symbol.for("react.suspense"), u = Symbol.for("react.memo"), f = Symbol.for("react.lazy"), h = Symbol.for("react.activity"), m = Symbol.iterator; function p(j) { return j === null || typeof j != "object" ? null : (j = m && j[m] || j["@@iterator"], typeof j == "function" ? j : null) } var b = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, y = Object.assign, E = {}; function _(j, L, re) { this.props = j, this.context = L, this.refs = E, this.updater = re || b } _.prototype.isReactComponent = {}, _.prototype.setState = function (j, L) { if (typeof j != "object" && typeof j != "function" && j != null) throw Error("takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, j, L, "setState") }, _.prototype.forceUpdate = function (j) { this.updater.enqueueForceUpdate(this, j, "forceUpdate") }; function O() { } O.prototype = _.prototype; function I(j, L, re) { this.props = j, this.context = L, this.refs = E, this.updater = re || b } var D = I.prototype = new O; D.constructor = I, y(D, _.prototype), D.isPureReactComponent = !0; var z = Array.isArray; function X() { } var q = { H: null, A: null, T: null, S: null }, W = Object.prototype.hasOwnProperty; function G(j, L, re) { var ie = re.ref; return { $$typeof: n, type: j, key: L, ref: ie !== void 0 ? ie : null, props: re } } function fe(j, L) { return G(j.type, L, j.props) } function ne(j) { return typeof j == "object" && j !== null && j.$$typeof === n } function V(j) { var L = { "=": "=0", ":": "=2" }; return "$" + j.replace(/[=:]/g, function (re) { return L[re] }) } var se = /\/+/g; function M(j, L) { return typeof j == "object" && j !== null && j.key != null ? V("" + j.key) : L.toString(36) } function pe(j) { switch (j.status) { case "fulfilled": return j.value; case "rejected": throw j.reason; default: switch (typeof j.status == "string" ? j.then(X, X) : (j.status = "pending", j.then(function (L) { j.status === "pending" && (j.status = "fulfilled", j.value = L) }, function (L) { j.status === "pending" && (j.status = "rejected", j.reason = L) })), j.status) { case "fulfilled": return j.value; case "rejected": throw j.reason } }throw j } function Z(j, L, re, ie, oe) { var de = typeof j; (de === "undefined" || de === "boolean") && (j = null); var Be = !1; if (j === null) Be = !0; else switch (de) { case "bigint": case "string": case "number": Be = !0; break; case "object": switch (j.$$typeof) { case n: case e: Be = !0; break; case f: return Be = j._init, Z(Be(j._payload), L, re, ie, oe) } }if (Be) return oe = oe(j), Be = ie === "" ? "." + M(j, 0) : ie, z(oe) ? (re = "", Be != null && (re = Be.replace(se, "$&/") + "/"), Z(oe, L, re, "", function (Ye) { return Ye })) : oe != null && (ne(oe) && (oe = fe(oe, re + (oe.key == null || j && j.key === oe.key ? "" : ("" + oe.key).replace(se, "$&/") + "/") + Be)), L.push(oe)), 1; Be = 0; var Re = ie === "" ? "." : ie + ":"; if (z(j)) for (var Ie = 0; Ie < j.length; Ie++)ie = j[Ie], de = Re + M(ie, Ie), Be += Z(ie, L, re, de, oe); else if (Ie = p(j), typeof Ie == "function") for (j = Ie.call(j), Ie = 0; !(ie = j.next()).done;)ie = ie.value, de = Re + M(ie, Ie++), Be += Z(ie, L, re, de, oe); else if (de === "object") { if (typeof j.then == "function") return Z(pe(j), L, re, ie, oe); throw L = String(j), Error("Objects are not valid as a React child (found: " + (L === "[object Object]" ? "object with keys {" + Object.keys(j).join(", ") + "}" : L) + "). If you meant to render a collection of children, use an array instead.") } return Be } function ae(j, L, re) { if (j == null) return j; var ie = [], oe = 0; return Z(j, ie, "", "", function (de) { return L.call(re, de, oe++) }), ie } function me(j) { if (j._status === -1) { var L = j._result; L = L(), L.then(function (re) { (j._status === 0 || j._status === -1) && (j._status = 1, j._result = re) }, function (re) { (j._status === 0 || j._status === -1) && (j._status = 2, j._result = re) }), j._status === -1 && (j._status = 0, j._result = L) } if (j._status === 1) return j._result.default; throw j._result } var ke = typeof reportError == "function" ? reportError : function (j) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var L = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof j == "object" && j !== null && typeof j.message == "string" ? String(j.message) : String(j), error: j }); if (!window.dispatchEvent(L)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", j); return } console.error(j) }, Ce = { map: ae, forEach: function (j, L, re) { ae(j, function () { L.apply(this, arguments) }, re) }, count: function (j) { var L = 0; return ae(j, function () { L++ }), L }, toArray: function (j) { return ae(j, function (L) { return L }) || [] }, only: function (j) { if (!ne(j)) throw Error("React.Children.only expected to receive a single React element child."); return j } }; return tr.Activity = h, tr.Children = Ce, tr.Component = _, tr.Fragment = t, tr.Profiler = i, tr.PureComponent = I, tr.StrictMode = r, tr.Suspense = A, tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = q, tr.__COMPILER_RUNTIME = { __proto__: null, c: function (j) { return q.H.useMemoCache(j) } }, tr.cache = function (j) { return function () { return j.apply(null, arguments) } }, tr.cacheSignal = function () { return null }, tr.cloneElement = function (j, L, re) { if (j == null) throw Error("The argument must be a React element, but you passed " + j + "."); var ie = y({}, j.props), oe = j.key; if (L != null) for (de in L.key !== void 0 && (oe = "" + L.key), L) !W.call(L, de) || de === "key" || de === "__self" || de === "__source" || de === "ref" && L.ref === void 0 || (ie[de] = L[de]); var de = arguments.length - 2; if (de === 1) ie.children = re; else if (1 < de) { for (var Be = Array(de), Re = 0; Re < de; Re++)Be[Re] = arguments[Re + 2]; ie.children = Be } return G(j.type, oe, ie) }, tr.createContext = function (j) { return j = { $$typeof: a, _currentValue: j, _currentValue2: j, _threadCount: 0, Provider: null, Consumer: null }, j.Provider = j, j.Consumer = { $$typeof: s, _context: j }, j }, tr.createElement = function (j, L, re) { var ie, oe = {}, de = null; if (L != null) for (ie in L.key !== void 0 && (de = "" + L.key), L) W.call(L, ie) && ie !== "key" && ie !== "__self" && ie !== "__source" && (oe[ie] = L[ie]); var Be = arguments.length - 2; if (Be === 1) oe.children = re; else if (1 < Be) { for (var Re = Array(Be), Ie = 0; Ie < Be; Ie++)Re[Ie] = arguments[Ie + 2]; oe.children = Re } if (j && j.defaultProps) for (ie in Be = j.defaultProps, Be) oe[ie] === void 0 && (oe[ie] = Be[ie]); return G(j, de, oe) }, tr.createRef = function () { return { current: null } }, tr.forwardRef = function (j) { return { $$typeof: o, render: j } }, tr.isValidElement = ne, tr.lazy = function (j) { return { $$typeof: f, _payload: { _status: -1, _result: j }, _init: me } }, tr.memo = function (j, L) { return { $$typeof: u, type: j, compare: L === void 0 ? null : L } }, tr.startTransition = function (j) { var L = q.T, re = {}; q.T = re; try { var ie = j(), oe = q.S; oe !== null && oe(re, ie), typeof ie == "object" && ie !== null && typeof ie.then == "function" && ie.then(X, ke) } catch (de) { ke(de) } finally { L !== null && re.types !== null && (L.types = re.types), q.T = L } }, tr.unstable_useCacheRefresh = function () { return q.H.useCacheRefresh() }, tr.use = function (j) { return q.H.use(j) }, tr.useActionState = function (j, L, re) { return q.H.useActionState(j, L, re) }, tr.useCallback = function (j, L) { return q.H.useCallback(j, L) }, tr.useContext = function (j) { return q.H.useContext(j) }, tr.useDebugValue = function () { }, tr.useDeferredValue = function (j, L) { return q.H.useDeferredValue(j, L) }, tr.useEffect = function (j, L) { return q.H.useEffect(j, L) }, tr.useEffectEvent = function (j) { return q.H.useEffectEvent(j) }, tr.useId = function () { return q.H.useId() }, tr.useImperativeHandle = function (j, L, re) { return q.H.useImperativeHandle(j, L, re) }, tr.useInsertionEffect = function (j, L) { return q.H.useInsertionEffect(j, L) }, tr.useLayoutEffect = function (j, L) { return q.H.useLayoutEffect(j, L) }, tr.useMemo = function (j, L) { return q.H.useMemo(j, L) }, tr.useOptimistic = function (j, L) { return q.H.useOptimistic(j, L) }, tr.useReducer = function (j, L, re) { return q.H.useReducer(j, L, re) }, tr.useRef = function (j) { return q.H.useRef(j) }, tr.useState = function (j) { return q.H.useState(j) }, tr.useSyncExternalStore = function (j, L, re) { return q.H.useSyncExternalStore(j, L, re) }, tr.useTransition = function () { return q.H.useTransition() }, tr.version = "19.2.0", tr } var f4; function lp() { return f4 || (f4 = 1, z2.exports = O8()), z2.exports } var F = lp(); const Xa = Pg(F), O5 = RF({ __proto__: null, default: Xa }, [F]); var K2 = { exports: {} }, Fm = {}, V2 = { exports: {} }, G2 = {}; var d4; function R8() { return d4 || (d4 = 1, (function (n) { function e(Z, ae) { var me = Z.length; Z.push(ae); e: for (; 0 < me;) { var ke = me - 1 >>> 1, Ce = Z[ke]; if (0 < i(Ce, ae)) Z[ke] = ae, Z[me] = Ce, me = ke; else break e } } function t(Z) { return Z.length === 0 ? null : Z[0] } function r(Z) { if (Z.length === 0) return null; var ae = Z[0], me = Z.pop(); if (me !== ae) { Z[0] = me; e: for (var ke = 0, Ce = Z.length, j = Ce >>> 1; ke < j;) { var L = 2 * (ke + 1) - 1, re = Z[L], ie = L + 1, oe = Z[ie]; if (0 > i(re, me)) ie < Ce && 0 > i(oe, re) ? (Z[ke] = oe, Z[ie] = me, ke = ie) : (Z[ke] = re, Z[L] = me, ke = L); else if (ie < Ce && 0 > i(oe, me)) Z[ke] = oe, Z[ie] = me, ke = ie; else break e } } return ae } function i(Z, ae) { var me = Z.sortIndex - ae.sortIndex; return me !== 0 ? me : Z.id - ae.id } if (n.unstable_now = void 0, typeof performance == "object" && typeof performance.now == "function") { var s = performance; n.unstable_now = function () { return s.now() } } else { var a = Date, o = a.now(); n.unstable_now = function () { return a.now() - o } } var A = [], u = [], f = 1, h = null, m = 3, p = !1, b = !1, y = !1, E = !1, _ = typeof setTimeout == "function" ? setTimeout : null, O = typeof clearTimeout == "function" ? clearTimeout : null, I = typeof setImmediate < "u" ? setImmediate : null; function D(Z) { for (var ae = t(u); ae !== null;) { if (ae.callback === null) r(u); else if (ae.startTime <= Z) r(u), ae.sortIndex = ae.expirationTime, e(A, ae); else break; ae = t(u) } } function z(Z) { if (y = !1, D(Z), !b) if (t(A) !== null) b = !0, X || (X = !0, V()); else { var ae = t(u); ae !== null && pe(z, ae.startTime - Z) } } var X = !1, q = -1, W = 5, G = -1; function fe() { return E ? !0 : !(n.unstable_now() - G < W) } function ne() { if (E = !1, X) { var Z = n.unstable_now(); G = Z; var ae = !0; try { e: { b = !1, y && (y = !1, O(q), q = -1), p = !0; var me = m; try { t: { for (D(Z), h = t(A); h !== null && !(h.expirationTime > Z && fe());) { var ke = h.callback; if (typeof ke == "function") { h.callback = null, m = h.priorityLevel; var Ce = ke(h.expirationTime <= Z); if (Z = n.unstable_now(), typeof Ce == "function") { h.callback = Ce, D(Z), ae = !0; break t } h === t(A) && r(A), D(Z) } else r(A); h = t(A) } if (h !== null) ae = !0; else { var j = t(u); j !== null && pe(z, j.startTime - Z), ae = !1 } } break e } finally { h = null, m = me, p = !1 } ae = void 0 } } finally { ae ? V() : X = !1 } } } var V; if (typeof I == "function") V = function () { I(ne) }; else if (typeof MessageChannel < "u") { var se = new MessageChannel, M = se.port2; se.port1.onmessage = ne, V = function () { M.postMessage(null) } } else V = function () { _(ne, 0) }; function pe(Z, ae) { q = _(function () { Z(n.unstable_now()) }, ae) } n.unstable_IdlePriority = 5, n.unstable_ImmediatePriority = 1, n.unstable_LowPriority = 4, n.unstable_NormalPriority = 3, n.unstable_Profiling = null, n.unstable_UserBlockingPriority = 2, n.unstable_cancelCallback = function (Z) { Z.callback = null }, n.unstable_forceFrameRate = function (Z) { 0 > Z || 125 < Z ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : W = 0 < Z ? Math.floor(1e3 / Z) : 5 }, n.unstable_getCurrentPriorityLevel = function () { return m }, n.unstable_next = function (Z) { switch (m) { case 1: case 2: case 3: var ae = 3; break; default: ae = m }var me = m; m = ae; try { return Z() } finally { m = me } }, n.unstable_requestPaint = function () { E = !0 }, n.unstable_runWithPriority = function (Z, ae) { switch (Z) { case 1: case 2: case 3: case 4: case 5: break; default: Z = 3 }var me = m; m = Z; try { return ae() } finally { m = me } }, n.unstable_scheduleCallback = function (Z, ae, me) { var ke = n.unstable_now(); switch (typeof me == "object" && me !== null ? (me = me.delay, me = typeof me == "number" && 0 < me ? ke + me : ke) : me = ke, Z) { case 1: var Ce = -1; break; case 2: Ce = 250; break; case 5: Ce = 1073741823; break; case 4: Ce = 1e4; break; default: Ce = 5e3 }return Ce = me + Ce, Z = { id: f++, callback: ae, priorityLevel: Z, startTime: me, expirationTime: Ce, sortIndex: -1 }, me > ke ? (Z.sortIndex = me, e(u, Z), t(A) === null && Z === t(u) && (y ? (O(q), q = -1) : y = !0, pe(z, me - ke))) : (Z.sortIndex = Ce, e(A, Z), b || p || (b = !0, X || (X = !0, V()))), Z }, n.unstable_shouldYield = fe, n.unstable_wrapCallback = function (Z) { var ae = m; return function () { var me = m; m = ae; try { return Z.apply(this, arguments) } finally { m = me } } } })(G2)), G2 } var h4; function I8() { return h4 || (h4 = 1, V2.exports = R8()), V2.exports } var W2 = { exports: {} }, pl = {}; var p4; function L8() { if (p4) return pl; p4 = 1; var n = lp(); function e(A) { var u = "https://react.dev/errors/" + A; if (1 < arguments.length) { u += "?args[]=" + encodeURIComponent(arguments[1]); for (var f = 2; f < arguments.length; f++)u += "&args[]=" + encodeURIComponent(arguments[f]) } return "Minified React error #" + A + "; visit " + u + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function t() { } var r = { d: { f: t, r: function () { throw Error(e(522)) }, D: t, C: t, L: t, m: t, X: t, S: t, M: t }, p: 0, findDOMNode: null }, i = Symbol.for("react.portal"); function s(A, u, f) { var h = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: i, key: h == null ? null : "" + h, children: A, containerInfo: u, implementation: f } } var a = n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; function o(A, u) { if (A === "font") return ""; if (typeof u == "string") return u === "use-credentials" ? u : "" } return pl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = r, pl.createPortal = function (A, u) { var f = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!u || u.nodeType !== 1 && u.nodeType !== 9 && u.nodeType !== 11) throw Error(e(299)); return s(A, u, null, f) }, pl.flushSync = function (A) { var u = a.T, f = r.p; try { if (a.T = null, r.p = 2, A) return A() } finally { a.T = u, r.p = f, r.d.f() } }, pl.preconnect = function (A, u) { typeof A == "string" && (u ? (u = u.crossOrigin, u = typeof u == "string" ? u === "use-credentials" ? u : "" : void 0) : u = null, r.d.C(A, u)) }, pl.prefetchDNS = function (A) { typeof A == "string" && r.d.D(A) }, pl.preinit = function (A, u) { if (typeof A == "string" && u && typeof u.as == "string") { var f = u.as, h = o(f, u.crossOrigin), m = typeof u.integrity == "string" ? u.integrity : void 0, p = typeof u.fetchPriority == "string" ? u.fetchPriority : void 0; f === "style" ? r.d.S(A, typeof u.precedence == "string" ? u.precedence : void 0, { crossOrigin: h, integrity: m, fetchPriority: p }) : f === "script" && r.d.X(A, { crossOrigin: h, integrity: m, fetchPriority: p, nonce: typeof u.nonce == "string" ? u.nonce : void 0 }) } }, pl.preinitModule = function (A, u) { if (typeof A == "string") if (typeof u == "object" && u !== null) { if (u.as == null || u.as === "script") { var f = o(u.as, u.crossOrigin); r.d.M(A, { crossOrigin: f, integrity: typeof u.integrity == "string" ? u.integrity : void 0, nonce: typeof u.nonce == "string" ? u.nonce : void 0 }) } } else u == null && r.d.M(A) }, pl.preload = function (A, u) { if (typeof A == "string" && typeof u == "object" && u !== null && typeof u.as == "string") { var f = u.as, h = o(f, u.crossOrigin); r.d.L(A, f, { crossOrigin: h, integrity: typeof u.integrity == "string" ? u.integrity : void 0, nonce: typeof u.nonce == "string" ? u.nonce : void 0, type: typeof u.type == "string" ? u.type : void 0, fetchPriority: typeof u.fetchPriority == "string" ? u.fetchPriority : void 0, referrerPolicy: typeof u.referrerPolicy == "string" ? u.referrerPolicy : void 0, imageSrcSet: typeof u.imageSrcSet == "string" ? u.imageSrcSet : void 0, imageSizes: typeof u.imageSizes == "string" ? u.imageSizes : void 0, media: typeof u.media == "string" ? u.media : void 0 }) } }, pl.preloadModule = function (A, u) { if (typeof A == "string") if (u) { var f = o(u.as, u.crossOrigin); r.d.m(A, { as: typeof u.as == "string" && u.as !== "script" ? u.as : void 0, crossOrigin: f, integrity: typeof u.integrity == "string" ? u.integrity : void 0 }) } else r.d.m(A) }, pl.requestFormReset = function (A) { r.d.r(A) }, pl.unstable_batchedUpdates = function (A, u) { return A(u) }, pl.useFormState = function (A, u, f) { return a.H.useFormState(A, u, f) }, pl.useFormStatus = function () { return a.H.useHostTransitionStatus() }, pl.version = "19.2.0", pl } var g4; function Zw() { if (g4) return W2.exports; g4 = 1; function n() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n) } catch (e) { console.error(e) } } return n(), W2.exports = L8(), W2.exports } var m4; function M8() {
  if (m4) return Fm; m4 = 1; var n = I8(), e = lp(), t = Zw(); function r(l) { var c = "https://react.dev/errors/" + l; if (1 < arguments.length) { c += "?args[]=" + encodeURIComponent(arguments[1]); for (var d = 2; d < arguments.length; d++)c += "&args[]=" + encodeURIComponent(arguments[d]) } return "Minified React error #" + l + "; visit " + c + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function i(l) { return !(!l || l.nodeType !== 1 && l.nodeType !== 9 && l.nodeType !== 11) } function s(l) { var c = l, d = l; if (l.alternate) for (; c.return;)c = c.return; else { l = c; do c = l, (c.flags & 4098) !== 0 && (d = c.return), l = c.return; while (l) } return c.tag === 3 ? d : null } function a(l) { if (l.tag === 13) { var c = l.memoizedState; if (c === null && (l = l.alternate, l !== null && (c = l.memoizedState)), c !== null) return c.dehydrated } return null } function o(l) { if (l.tag === 31) { var c = l.memoizedState; if (c === null && (l = l.alternate, l !== null && (c = l.memoizedState)), c !== null) return c.dehydrated } return null } function A(l) { if (s(l) !== l) throw Error(r(188)) } function u(l) { var c = l.alternate; if (!c) { if (c = s(l), c === null) throw Error(r(188)); return c !== l ? null : l } for (var d = l, v = c; ;) { var N = d.return; if (N === null) break; var U = N.alternate; if (U === null) { if (v = N.return, v !== null) { d = v; continue } break } if (N.child === U.child) { for (U = N.child; U;) { if (U === d) return A(N), l; if (U === v) return A(N), c; U = U.sibling } throw Error(r(188)) } if (d.return !== v.return) d = N, v = U; else { for (var te = !1, ve = N.child; ve;) { if (ve === d) { te = !0, d = N, v = U; break } if (ve === v) { te = !0, v = N, d = U; break } ve = ve.sibling } if (!te) { for (ve = U.child; ve;) { if (ve === d) { te = !0, d = U, v = N; break } if (ve === v) { te = !0, v = U, d = N; break } ve = ve.sibling } if (!te) throw Error(r(189)) } } if (d.alternate !== v) throw Error(r(190)) } if (d.tag !== 3) throw Error(r(188)); return d.stateNode.current === d ? l : c } function f(l) { var c = l.tag; if (c === 5 || c === 26 || c === 27 || c === 6) return l; for (l = l.child; l !== null;) { if (c = f(l), c !== null) return c; l = l.sibling } return null } var h = Object.assign, m = Symbol.for("react.element"), p = Symbol.for("react.transitional.element"), b = Symbol.for("react.portal"), y = Symbol.for("react.fragment"), E = Symbol.for("react.strict_mode"), _ = Symbol.for("react.profiler"), O = Symbol.for("react.consumer"), I = Symbol.for("react.context"), D = Symbol.for("react.forward_ref"), z = Symbol.for("react.suspense"), X = Symbol.for("react.suspense_list"), q = Symbol.for("react.memo"), W = Symbol.for("react.lazy"), G = Symbol.for("react.activity"), fe = Symbol.for("react.memo_cache_sentinel"), ne = Symbol.iterator; function V(l) { return l === null || typeof l != "object" ? null : (l = ne && l[ne] || l["@@iterator"], typeof l == "function" ? l : null) } var se = Symbol.for("react.client.reference"); function M(l) { if (l == null) return null; if (typeof l == "function") return l.$$typeof === se ? null : l.displayName || l.name || null; if (typeof l == "string") return l; switch (l) { case y: return "Fragment"; case _: return "Profiler"; case E: return "StrictMode"; case z: return "Suspense"; case X: return "SuspenseList"; case G: return "Activity" }if (typeof l == "object") switch (l.$$typeof) { case b: return "Portal"; case I: return l.displayName || "Context"; case O: return (l._context.displayName || "Context") + ".Consumer"; case D: var c = l.render; return l = l.displayName, l || (l = c.displayName || c.name || "", l = l !== "" ? "ForwardRef(" + l + ")" : "ForwardRef"), l; case q: return c = l.displayName || null, c !== null ? c : M(l.type) || "Memo"; case W: c = l._payload, l = l._init; try { return M(l(c)) } catch { } }return null } var pe = Array.isArray, Z = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, ae = t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, me = { pending: !1, data: null, method: null, action: null }, ke = [], Ce = -1; function j(l) { return { current: l } } function L(l) { 0 > Ce || (l.current = ke[Ce], ke[Ce] = null, Ce--) } function re(l, c) { Ce++, ke[Ce] = l.current, l.current = c } var ie = j(null), oe = j(null), de = j(null), Be = j(null); function Re(l, c) { switch (re(de, c), re(oe, l), re(ie, null), c.nodeType) { case 9: case 11: l = (l = c.documentElement) && (l = l.namespaceURI) ? U_(l) : 0; break; default: if (l = c.tagName, c = c.namespaceURI) c = U_(c), l = O_(c, l); else switch (l) { case "svg": l = 1; break; case "math": l = 2; break; default: l = 0 } }L(ie), re(ie, l) } function Ie() { L(ie), L(oe), L(de) } function Ye(l) { l.memoizedState !== null && re(Be, l); var c = ie.current, d = O_(c, l.type); c !== d && (re(oe, l), re(ie, d)) } function $e(l) { oe.current === l && (L(ie), L(oe)), Be.current === l && (L(Be), Sm._currentValue = me) } var yt, at; function $(l) {
    if (yt === void 0) try { throw Error() } catch (d) {
      var c = d.stack.trim().match(/\n( *(at )?)/); yt = c && c[1] || "", at = -1 < d.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < d.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ yt + l + at
  } var Ae = !1; function Me(l, c) {
    if (!l || Ae) return ""; Ae = !0; var d = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var v = { DetermineComponentFrameRoot: function () { try { if (c) { var Et = function () { throw Error() }; if (Object.defineProperty(Et.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(Et, []) } catch (dt) { var ct = dt } Reflect.construct(l, [], Et) } else { try { Et.call() } catch (dt) { ct = dt } l.call(Et.prototype) } } else { try { throw Error() } catch (dt) { ct = dt } (Et = l()) && typeof Et.catch == "function" && Et.catch(function () { }) } } catch (dt) { if (dt && ct && typeof dt.stack == "string") return [dt.stack, ct.stack] } return [null, null] } }; v.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var N = Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot, "name"); N && N.configurable && Object.defineProperty(v.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var U = v.DetermineComponentFrameRoot(), te = U[0], ve = U[1]; if (te && ve) {
        var Le = te.split(`
`), it = ve.split(`
`); for (N = v = 0; v < Le.length && !Le[v].includes("DetermineComponentFrameRoot");)v++; for (; N < it.length && !it[N].includes("DetermineComponentFrameRoot");)N++; if (v === Le.length || N === it.length) for (v = Le.length - 1, N = it.length - 1; 1 <= v && 0 <= N && Le[v] !== it[N];)N--; for (; 1 <= v && 0 <= N; v--, N--)if (Le[v] !== it[N]) {
          if (v !== 1 || N !== 1) do if (v--, N--, 0 > N || Le[v] !== it[N]) {
            var mt = `
`+ Le[v].replace(" at new ", " at "); return l.displayName && mt.includes("<anonymous>") && (mt = mt.replace("<anonymous>", l.displayName)), mt
          } while (1 <= v && 0 <= N); break
        }
      }
    } finally { Ae = !1, Error.prepareStackTrace = d } return (d = l ? l.displayName || l.name : "") ? $(d) : ""
  } function _e(l, c) { switch (l.tag) { case 26: case 27: case 5: return $(l.type); case 16: return $("Lazy"); case 13: return l.child !== c && c !== null ? $("Suspense Fallback") : $("Suspense"); case 19: return $("SuspenseList"); case 0: case 15: return Me(l.type, !1); case 11: return Me(l.type.render, !1); case 1: return Me(l.type, !0); case 31: return $("Activity"); default: return "" } } function we(l) {
    try { var c = "", d = null; do c += _e(l, d), d = l, l = l.return; while (l); return c } catch (v) {
      return `
Error generating stack: `+ v.message + `
`+ v.stack
    }
  } var Ne = Object.prototype.hasOwnProperty, tt = n.unstable_scheduleCallback, Je = n.unstable_cancelCallback, Qe = n.unstable_shouldYield, lt = n.unstable_requestPaint, Bt = n.unstable_now, st = n.unstable_getCurrentPriorityLevel, Ct = n.unstable_ImmediatePriority, Xt = n.unstable_UserBlockingPriority, Lt = n.unstable_NormalPriority, Ft = n.unstable_LowPriority, bn = n.unstable_IdlePriority, Pt = n.log, Br = n.unstable_setDisableYieldValue, en = null, nn = null; function vn(l) { if (typeof Pt == "function" && Br(l), nn && typeof nn.setStrictMode == "function") try { nn.setStrictMode(en, l) } catch { } } var En = Math.clz32 ? Math.clz32 : Qt, rn = Math.log, Fr = Math.LN2; function Qt(l) { return l >>>= 0, l === 0 ? 32 : 31 - (rn(l) / Fr | 0) | 0 } var Wt = 256, Cr = 262144, hn = 4194304; function Zt(l) { var c = l & 42; if (c !== 0) return c; switch (l & -l) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: return 64; case 128: return 128; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: return l & 261888; case 262144: case 524288: case 1048576: case 2097152: return l & 3932160; case 4194304: case 8388608: case 16777216: case 33554432: return l & 62914560; case 67108864: return 67108864; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 0; default: return l } } function ar(l, c, d) { var v = l.pendingLanes; if (v === 0) return 0; var N = 0, U = l.suspendedLanes, te = l.pingedLanes; l = l.warmLanes; var ve = v & 134217727; return ve !== 0 ? (v = ve & ~U, v !== 0 ? N = Zt(v) : (te &= ve, te !== 0 ? N = Zt(te) : d || (d = ve & ~l, d !== 0 && (N = Zt(d))))) : (ve = v & ~U, ve !== 0 ? N = Zt(ve) : te !== 0 ? N = Zt(te) : d || (d = v & ~l, d !== 0 && (N = Zt(d)))), N === 0 ? 0 : c !== 0 && c !== N && (c & U) === 0 && (U = N & -N, d = c & -c, U >= d || U === 32 && (d & 4194048) !== 0) ? c : N } function Xs(l, c) { return (l.pendingLanes & ~(l.suspendedLanes & ~l.pingedLanes) & c) === 0 } function $r(l, c) { switch (l) { case 1: case 2: case 4: case 8: case 64: return c + 250; case 16: case 32: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return c + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: return -1; case 67108864: case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function So() { var l = hn; return hn <<= 1, (hn & 62914560) === 0 && (hn = 4194304), l } function Qa(l) { for (var c = [], d = 0; 31 > d; d++)c.push(l); return c } function pn(l, c) { l.pendingLanes |= c, c !== 268435456 && (l.suspendedLanes = 0, l.pingedLanes = 0, l.warmLanes = 0) } function rl(l, c, d, v, N, U) { var te = l.pendingLanes; l.pendingLanes = d, l.suspendedLanes = 0, l.pingedLanes = 0, l.warmLanes = 0, l.expiredLanes &= d, l.entangledLanes &= d, l.errorRecoveryDisabledLanes &= d, l.shellSuspendCounter = 0; var ve = l.entanglements, Le = l.expirationTimes, it = l.hiddenUpdates; for (d = te & ~d; 0 < d;) { var mt = 31 - En(d), Et = 1 << mt; ve[mt] = 0, Le[mt] = -1; var ct = it[mt]; if (ct !== null) for (it[mt] = null, mt = 0; mt < ct.length; mt++) { var dt = ct[mt]; dt !== null && (dt.lane &= -536870913) } d &= ~Et } v !== 0 && ma(l, v, 0), U !== 0 && N === 0 && l.tag !== 0 && (l.suspendedLanes |= U & ~(te & ~c)) } function ma(l, c, d) { l.pendingLanes |= c, l.suspendedLanes &= ~c; var v = 31 - En(c); l.entangledLanes |= c, l.entanglements[v] = l.entanglements[v] | 1073741824 | d & 261930 } function Cs(l, c) { var d = l.entangledLanes |= c; for (l = l.entanglements; d;) { var v = 31 - En(d), N = 1 << v; N & c | l[v] & c && (l[v] |= c), d &= ~N } } function Mr(l, c) { var d = c & -c; return d = (d & 42) !== 0 ? 1 : Ar(d), (d & (l.suspendedLanes | c)) !== 0 ? 0 : d } function Ar(l) { switch (l) { case 2: l = 1; break; case 8: l = 4; break; case 32: l = 16; break; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: l = 128; break; case 268435456: l = 134217728; break; default: l = 0 }return l } function Kn(l) { return l &= -l, 2 < l ? 8 < l ? (l & 134217727) !== 0 ? 32 : 268435456 : 8 : 2 } function Li() { var l = ae.p; return l !== 0 ? l : (l = window.event, l === void 0 ? 32 : n4(l.type)) } function Vi(l, c) { var d = ae.p; try { return ae.p = l, c() } finally { ae.p = d } } var rr = Math.random().toString(36).slice(2), Kr = "__reactFiber$" + rr, fi = "__reactProps$" + rr, cs = "__reactContainer$" + rr, va = "__reactEvents$" + rr, Is = "__reactListeners$" + rr, Vl = "__reactHandles$" + rr, $n = "__reactResources$" + rr, cr = "__reactMarker$" + rr; function $a(l) { delete l[Kr], delete l[fi], delete l[va], delete l[Is], delete l[Vl] } function mi(l) { var c = l[Kr]; if (c) return c; for (var d = l.parentNode; d;) { if (c = d[cs] || d[Kr]) { if (d = c.alternate, c.child !== null || d !== null && d.child !== null) for (l = P_(l); l !== null;) { if (d = l[Kr]) return d; l = P_(l) } return c } l = d, d = l.parentNode } return null } function _o(l) { if (l = l[Kr] || l[cs]) { var c = l.tag; if (c === 5 || c === 6 || c === 13 || c === 31 || c === 26 || c === 27 || c === 3) return l } return null } function _l(l) { var c = l.tag; if (c === 5 || c === 26 || c === 27 || c === 6) return l.stateNode; throw Error(r(33)) } function No(l) { var c = l[$n]; return c || (c = l[$n] = { hoistableStyles: new Map, hoistableScripts: new Map }), c } function Si(l) { l[cr] = !0 } var xc = new Set, Es = {}; function Qr(l, c) { eo(l, c), eo(l + "Capture", c) } function eo(l, c) { for (Es[l] = c, l = 0; l < c.length; l++)xc.add(c[l]) } var Gl = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), to = {}, Wl = {}; function su(l) { return Ne.call(Wl, l) ? !0 : Ne.call(to, l) ? !1 : Gl.test(l) ? Wl[l] = !0 : (to[l] = !0, !1) } function Da(l, c, d) { if (su(c)) if (d === null) l.removeAttribute(c); else { switch (typeof d) { case "undefined": case "function": case "symbol": l.removeAttribute(c); return; case "boolean": var v = c.toLowerCase().slice(0, 5); if (v !== "data-" && v !== "aria-") { l.removeAttribute(c); return } }l.setAttribute(c, "" + d) } } function ya(l, c, d) { if (d === null) l.removeAttribute(c); else { switch (typeof d) { case "undefined": case "function": case "symbol": case "boolean": l.removeAttribute(c); return }l.setAttribute(c, "" + d) } } function wa(l, c, d, v) { if (v === null) l.removeAttribute(d); else { switch (typeof v) { case "undefined": case "function": case "symbol": case "boolean": l.removeAttribute(d); return }l.setAttributeNS(c, d, "" + v) } } function hr(l) { switch (typeof l) { case "bigint": case "boolean": case "number": case "string": case "undefined": return l; case "object": return l; default: return "" } } function no(l) { var c = l.type; return (l = l.nodeName) && l.toLowerCase() === "input" && (c === "checkbox" || c === "radio") } function ro(l, c, d) { var v = Object.getOwnPropertyDescriptor(l.constructor.prototype, c); if (!l.hasOwnProperty(c) && typeof v < "u" && typeof v.get == "function" && typeof v.set == "function") { var N = v.get, U = v.set; return Object.defineProperty(l, c, { configurable: !0, get: function () { return N.call(this) }, set: function (te) { d = "" + te, U.call(this, te) } }), Object.defineProperty(l, c, { enumerable: v.enumerable }), { getValue: function () { return d }, setValue: function (te) { d = "" + te }, stopTracking: function () { l._valueTracker = null, delete l[c] } } } } function Yl(l) { if (!l._valueTracker) { var c = no(l) ? "checked" : "value"; l._valueTracker = ro(l, c, "" + l[c]) } } function Nl(l) { if (!l) return !1; var c = l._valueTracker; if (!c) return !0; var d = c.getValue(), v = ""; return l && (v = no(l) ? l.checked ? "true" : "false" : l.value), l = v, l !== d ? (c.setValue(l), !0) : !1 } function pr(l) { if (l = l || (typeof document < "u" ? document : void 0), typeof l > "u") return null; try { return l.activeElement || l.body } catch { return l.body } } var si = /[\n"\\]/g; function vi(l) { return l.replace(si, function (c) { return "\\" + c.charCodeAt(0).toString(16) + " " }) } function Jl(l, c, d, v, N, U, te, ve) { l.name = "", te != null && typeof te != "function" && typeof te != "symbol" && typeof te != "boolean" ? l.type = te : l.removeAttribute("type"), c != null ? te === "number" ? (c === 0 && l.value === "" || l.value != c) && (l.value = "" + hr(c)) : l.value !== "" + hr(c) && (l.value = "" + hr(c)) : te !== "submit" && te !== "reset" || l.removeAttribute("value"), c != null ? yA(l, te, hr(c)) : d != null ? yA(l, te, hr(d)) : v != null && l.removeAttribute("value"), N == null && U != null && (l.defaultChecked = !!U), N != null && (l.checked = N && typeof N != "function" && typeof N != "symbol"), ve != null && typeof ve != "function" && typeof ve != "symbol" && typeof ve != "boolean" ? l.name = "" + hr(ve) : l.removeAttribute("name") } function ko(l, c, d, v, N, U, te, ve) { if (U != null && typeof U != "function" && typeof U != "symbol" && typeof U != "boolean" && (l.type = U), c != null || d != null) { if (!(U !== "submit" && U !== "reset" || c != null)) { Yl(l); return } d = d != null ? "" + hr(d) : "", c = c != null ? "" + hr(c) : d, ve || c === l.value || (l.value = c), l.defaultValue = c } v = v ?? N, v = typeof v != "function" && typeof v != "symbol" && !!v, l.checked = ve ? l.checked : !!v, l.defaultChecked = !!v, te != null && typeof te != "function" && typeof te != "symbol" && typeof te != "boolean" && (l.name = te), Yl(l) } function yA(l, c, d) { c === "number" && pr(l.ownerDocument) === l || l.defaultValue === "" + d || (l.defaultValue = "" + d) } function Ss(l, c, d, v) { if (l = l.options, c) { c = {}; for (var N = 0; N < d.length; N++)c["$" + d[N]] = !0; for (d = 0; d < l.length; d++)N = c.hasOwnProperty("$" + l[d].value), l[d].selected !== N && (l[d].selected = N), N && v && (l[d].defaultSelected = !0) } else { for (d = "" + hr(d), c = null, N = 0; N < l.length; N++) { if (l[N].value === d) { l[N].selected = !0, v && (l[N].defaultSelected = !0); return } c !== null || l[N].disabled || (c = l[N]) } c !== null && (c.selected = !0) } } function io(l, c, d) { if (c != null && (c = "" + hr(c), c !== l.value && (l.value = c), d == null)) { l.defaultValue !== c && (l.defaultValue = c); return } l.defaultValue = d != null ? "" + hr(d) : "" } function WA(l, c, d, v) { if (c == null) { if (v != null) { if (d != null) throw Error(r(92)); if (pe(v)) { if (1 < v.length) throw Error(r(93)); v = v[0] } d = v } d == null && (d = ""), c = d } d = hr(c), l.defaultValue = d, v = l.textContent, v === d && v !== "" && v !== null && (l.value = v), Yl(l) } function To(l, c) { if (c) { var d = l.firstChild; if (d && d === l.lastChild && d.nodeType === 3) { d.nodeValue = c; return } } l.textContent = c } var Pa = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")); function wA(l, c, d) { var v = c.indexOf("--") === 0; d == null || typeof d == "boolean" || d === "" ? v ? l.setProperty(c, "") : c === "float" ? l.cssFloat = "" : l[c] = "" : v ? l.setProperty(c, d) : typeof d != "number" || d === 0 || Pa.has(c) ? c === "float" ? l.cssFloat = d : l[c] = ("" + d).trim() : l[c] = d + "px" } function au(l, c, d) { if (c != null && typeof c != "object") throw Error(r(62)); if (l = l.style, d != null) { for (var v in d) !d.hasOwnProperty(v) || c != null && c.hasOwnProperty(v) || (v.indexOf("--") === 0 ? l.setProperty(v, "") : v === "float" ? l.cssFloat = "" : l[v] = ""); for (var N in c) v = c[N], c.hasOwnProperty(N) && d[N] !== v && wA(l, N, v) } else for (var U in c) c.hasOwnProperty(U) && wA(l, U, c[U]) } function Bc(l) { if (l.indexOf("-") === -1) return !1; switch (l) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var Cc = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), us = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function ei(l) { return us.test("" + l) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : l } function Fo() { } var so = null; function il(l) { return l = l.target || l.srcElement || window, l.correspondingUseElement && (l = l.correspondingUseElement), l.nodeType === 3 ? l.parentNode : l } var Xl = null, xn = null; function ao(l) { var c = _o(l); if (c && (l = c.stateNode)) { var d = l[fi] || null; e: switch (l = c.stateNode, c.type) { case "input": if (Jl(l, d.value, d.defaultValue, d.defaultValue, d.checked, d.defaultChecked, d.type, d.name), c = d.name, d.type === "radio" && c != null) { for (d = l; d.parentNode;)d = d.parentNode; for (d = d.querySelectorAll('input[name="' + vi("" + c) + '"][type="radio"]'), c = 0; c < d.length; c++) { var v = d[c]; if (v !== l && v.form === l.form) { var N = v[fi] || null; if (!N) throw Error(r(90)); Jl(v, N.value, N.defaultValue, N.defaultValue, N.checked, N.defaultChecked, N.type, N.name) } } for (c = 0; c < d.length; c++)v = d[c], v.form === l.form && Nl(v) } break e; case "textarea": io(l, d.value, d.defaultValue); break e; case "select": c = d.value, c != null && Ss(l, !!d.multiple, c, !1) } } } var bA = !1; function YA(l, c, d) { if (bA) return l(c, d); bA = !0; try { var v = l(c); return v } finally { if (bA = !1, (Xl !== null || xn !== null) && (Ov(), Xl && (c = Xl, l = xn, xn = Xl = null, ao(c), l))) for (c = 0; c < l.length; c++)ao(l[c]) } } function Zs(l, c) { var d = l.stateNode; if (d === null) return null; var v = d[fi] || null; if (v === null) return null; d = v[c]; e: switch (c) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (v = !v.disabled) || (l = l.type, v = !(l === "button" || l === "input" || l === "select" || l === "textarea")), l = !v; break e; default: l = !1 }if (l) return null; if (d && typeof d != "function") throw Error(r(231, c, typeof d)); return d } var Gi = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), Ur = !1; if (Gi) try { var Uo = {}; Object.defineProperty(Uo, "passive", { get: function () { Ur = !0 } }), window.addEventListener("test", Uo, Uo), window.removeEventListener("test", Uo, Uo) } catch { Ur = !1 } var Ls = null, Oo = null, ba = null; function Zl() { if (ba) return ba; var l, c = Oo, d = c.length, v, N = "value" in Ls ? Ls.value : Ls.textContent, U = N.length; for (l = 0; l < d && c[l] === N[l]; l++); var te = d - l; for (v = 1; v <= te && c[d - v] === N[U - v]; v++); return ba = N.slice(l, 1 < v ? 1 - v : void 0) } function qs(l) { var c = l.keyCode; return "charCode" in l ? (l = l.charCode, l === 0 && c === 13 && (l = 13)) : l = c, l === 10 && (l = 13), 32 <= l || l === 13 ? l : 0 } function Ro() { return !0 } function Ha() { return !1 } function Mi(l) { function c(d, v, N, U, te) { this._reactName = d, this._targetInst = N, this.type = v, this.nativeEvent = U, this.target = te, this.currentTarget = null; for (var ve in l) l.hasOwnProperty(ve) && (d = l[ve], this[ve] = d ? d(U) : U[ve]); return this.isDefaultPrevented = (U.defaultPrevented != null ? U.defaultPrevented : U.returnValue === !1) ? Ro : Ha, this.isPropagationStopped = Ha, this } return h(c.prototype, { preventDefault: function () { this.defaultPrevented = !0; var d = this.nativeEvent; d && (d.preventDefault ? d.preventDefault() : typeof d.returnValue != "unknown" && (d.returnValue = !1), this.isDefaultPrevented = Ro) }, stopPropagation: function () { var d = this.nativeEvent; d && (d.stopPropagation ? d.stopPropagation() : typeof d.cancelBubble != "unknown" && (d.cancelBubble = !0), this.isPropagationStopped = Ro) }, persist: function () { }, isPersistent: Ro }), c } var fs = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (l) { return l.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, ja = Mi(fs), Io = h({}, fs, { view: 0, detail: 0 }), Lo = Mi(Io), Mo, sl, al, ql = h({}, Io, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: Sn, button: 0, buttons: 0, relatedTarget: function (l) { return l.relatedTarget === void 0 ? l.fromElement === l.srcElement ? l.toElement : l.fromElement : l.relatedTarget }, movementX: function (l) { return "movementX" in l ? l.movementX : (l !== al && (al && l.type === "mousemove" ? (Mo = l.screenX - al.screenX, sl = l.screenY - al.screenY) : sl = Mo = 0, al = l), Mo) }, movementY: function (l) { return "movementY" in l ? l.movementY : sl } }), Ec = Mi(ql), kl = h({}, ql, { dataTransfer: 0 }), Tl = Mi(kl), ou = h({}, Io, { relatedTarget: 0 }), Qo = Mi(ou), Sc = h({}, fs, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), Q = Mi(Sc), le = h({}, fs, { clipboardData: function (l) { return "clipboardData" in l ? l.clipboardData : window.clipboardData } }), Fe = Mi(le), De = h({}, fs, { data: 0 }), Ge = Mi(De), gt = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, xt = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, Gt = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function tn(l) { var c = this.nativeEvent; return c.getModifierState ? c.getModifierState(l) : (l = Gt[l]) ? !!c[l] : !1 } function Sn() { return tn } var On = h({}, Io, { key: function (l) { if (l.key) { var c = gt[l.key] || l.key; if (c !== "Unidentified") return c } return l.type === "keypress" ? (l = qs(l), l === 13 ? "Enter" : String.fromCharCode(l)) : l.type === "keydown" || l.type === "keyup" ? xt[l.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: Sn, charCode: function (l) { return l.type === "keypress" ? qs(l) : 0 }, keyCode: function (l) { return l.type === "keydown" || l.type === "keyup" ? l.keyCode : 0 }, which: function (l) { return l.type === "keypress" ? qs(l) : l.type === "keydown" || l.type === "keyup" ? l.keyCode : 0 } }), vr = Mi(On), yi = h({}, ql, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), Qi = Mi(yi), Vn = h({}, Io, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: Sn }), di = Mi(Vn), _i = h({}, fs, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), Wi = Mi(_i), ol = h({}, ql, { deltaX: function (l) { return "deltaX" in l ? l.deltaX : "wheelDeltaX" in l ? -l.wheelDeltaX : 0 }, deltaY: function (l) { return "deltaY" in l ? l.deltaY : "wheelDeltaY" in l ? -l.wheelDeltaY : "wheelDelta" in l ? -l.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), _s = Mi(ol), Ms = h({}, fs, { newState: 0, oldState: 0 }), Fl = Mi(Ms), za = [9, 13, 27, 32], ai = Gi && "CompositionEvent" in window, Qs = null; Gi && "documentMode" in document && (Qs = document.documentMode); var Er = Gi && "TextEvent" in window && !Qs, ds = Gi && (!ai || Qs && 8 < Qs && 11 >= Qs), Yi = " ", oo = !1; function Ul(l, c) { switch (l) { case "keyup": return za.indexOf(c.keyCode) !== -1; case "keydown": return c.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function $l(l) { return l = l.detail, typeof l == "object" && "data" in l ? l.data : null } var Do = !1; function hs(l, c) { switch (l) { case "compositionend": return $l(c); case "keypress": return c.which !== 32 ? null : (oo = !0, Yi); case "textInput": return l = c.data, l === Yi && oo ? null : l; default: return null } } function lo(l, c) { if (Do) return l === "compositionend" || !ai && Ul(l, c) ? (l = Zl(), ba = Oo = Ls = null, Do = !1, l) : null; switch (l) { case "paste": return null; case "keypress": if (!(c.ctrlKey || c.altKey || c.metaKey) || c.ctrlKey && c.altKey) { if (c.char && 1 < c.char.length) return c.char; if (c.which) return String.fromCharCode(c.which) } return null; case "compositionend": return ds && c.locale !== "ko" ? null : c.data; default: return null } } var Ns = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function xA(l) { var c = l && l.nodeName && l.nodeName.toLowerCase(); return c === "input" ? !!Ns[l.type] : c === "textarea" } function Ds(l, c, d, v) { Xl ? xn ? xn.push(v) : xn = [v] : Xl = v, c = Pv(c, "onChange"), 0 < c.length && (d = new ja("onChange", "change", null, d, v), l.push({ event: d, listeners: c })) } var $s = null, Ao = null; function eA(l) { S_(l, 0) } function xa(l) { var c = _l(l); if (Nl(c)) return l } function Po(l, c) { if (l === "change") return c } var Nr = !1; if (Gi) { var ea; if (Gi) { var Ps = "oninput" in document; if (!Ps) { var co = document.createElement("div"); co.setAttribute("oninput", "return;"), Ps = typeof co.oninput == "function" } ea = Ps } else ea = !1; Nr = ea && (!document.documentMode || 9 < document.documentMode) } function Ho() { $s && ($s.detachEvent("onpropertychange", tA), Ao = $s = null) } function tA(l) { if (l.propertyName === "value" && xa(Ao)) { var c = []; Ds(c, Ao, l, il(l)), YA(eA, c) } } function Ol(l, c, d) { l === "focusin" ? (Ho(), $s = c, Ao = d, $s.attachEvent("onpropertychange", tA)) : l === "focusout" && Ho() } function oi(l) { if (l === "selectionchange" || l === "keyup" || l === "keydown") return xa(Ao) } function jo(l, c) { if (l === "click") return xa(c) } function zo(l, c) { if (l === "input" || l === "change") return xa(c) } function Hs(l, c) { return l === c && (l !== 0 || 1 / l === 1 / c) || l !== l && c !== c } var Di = typeof Object.is == "function" ? Object.is : Hs; function ta(l, c) { if (Di(l, c)) return !0; if (typeof l != "object" || l === null || typeof c != "object" || c === null) return !1; var d = Object.keys(l), v = Object.keys(c); if (d.length !== v.length) return !1; for (v = 0; v < d.length; v++) { var N = d[v]; if (!Ne.call(c, N) || !Di(l[N], c[N])) return !1 } return !0 } function Ko(l) { for (; l && l.firstChild;)l = l.firstChild; return l } function uo(l, c) { var d = Ko(l); l = 0; for (var v; d;) { if (d.nodeType === 3) { if (v = l + d.textContent.length, l <= c && v >= c) return { node: d, offset: c - l }; l = v } e: { for (; d;) { if (d.nextSibling) { d = d.nextSibling; break e } d = d.parentNode } d = void 0 } d = Ko(d) } } function na(l, c) { return l && c ? l === c ? !0 : l && l.nodeType === 3 ? !1 : c && c.nodeType === 3 ? na(l, c.parentNode) : "contains" in l ? l.contains(c) : l.compareDocumentPosition ? !!(l.compareDocumentPosition(c) & 16) : !1 : !1 } function Vo(l) { l = l != null && l.ownerDocument != null && l.ownerDocument.defaultView != null ? l.ownerDocument.defaultView : window; for (var c = pr(l.document); c instanceof l.HTMLIFrameElement;) { try { var d = typeof c.contentWindow.location.href == "string" } catch { d = !1 } if (d) l = c.contentWindow; else break; c = pr(l.document) } return c } function Go(l) { var c = l && l.nodeName && l.nodeName.toLowerCase(); return c && (c === "input" && (l.type === "text" || l.type === "search" || l.type === "tel" || l.type === "url" || l.type === "password") || c === "textarea" || l.contentEditable === "true") } var Ka = Gi && "documentMode" in document && 11 >= document.documentMode, ks = null, fo = null, Ni = null, ra = !1; function Sr(l, c, d) { var v = d.window === d ? d.document : d.nodeType === 9 ? d : d.ownerDocument; ra || ks == null || ks !== pr(v) || (v = ks, "selectionStart" in v && Go(v) ? v = { start: v.selectionStart, end: v.selectionEnd } : (v = (v.ownerDocument && v.ownerDocument.defaultView || window).getSelection(), v = { anchorNode: v.anchorNode, anchorOffset: v.anchorOffset, focusNode: v.focusNode, focusOffset: v.focusOffset }), Ni && ta(Ni, v) || (Ni = v, v = Pv(fo, "onSelect"), 0 < v.length && (c = new ja("onSelect", "select", null, c, d), l.push({ event: c, listeners: v }), c.target = ks))) } function Gn(l, c) { var d = {}; return d[l.toLowerCase()] = c.toLowerCase(), d["Webkit" + l] = "webkit" + c, d["Moz" + l] = "moz" + c, d } var Dr = { animationend: Gn("Animation", "AnimationEnd"), animationiteration: Gn("Animation", "AnimationIteration"), animationstart: Gn("Animation", "AnimationStart"), transitionrun: Gn("Transition", "TransitionRun"), transitionstart: Gn("Transition", "TransitionStart"), transitioncancel: Gn("Transition", "TransitionCancel"), transitionend: Gn("Transition", "TransitionEnd") }, wi = {}, x = {}; Gi && (x = document.createElement("div").style, "AnimationEvent" in window || (delete Dr.animationend.animation, delete Dr.animationiteration.animation, delete Dr.animationstart.animation), "TransitionEvent" in window || delete Dr.transitionend.transition); function S(l) { if (wi[l]) return wi[l]; if (!Dr[l]) return l; var c = Dr[l], d; for (d in c) if (c.hasOwnProperty(d) && d in x) return wi[l] = c[d]; return l } var R = S("animationend"), K = S("animationiteration"), ee = S("animationstart"), be = S("transitionrun"), Ue = S("transitionstart"), ot = S("transitioncancel"), ze = S("transitionend"), At = new Map, wt = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); wt.push("scrollEnd"); function ft(l, c) { At.set(l, c), Qr(c, [l]) } var Ot = typeof reportError == "function" ? reportError : function (l) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var c = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof l == "object" && l !== null && typeof l.message == "string" ? String(l.message) : String(l), error: l }); if (!window.dispatchEvent(c)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", l); return } console.error(l) }, qt = [], Wn = 0, Pn = 0; function Mn() { for (var l = Wn, c = Pn = Wn = 0; c < l;) { var d = qt[c]; qt[c++] = null; var v = qt[c]; qt[c++] = null; var N = qt[c]; qt[c++] = null; var U = qt[c]; if (qt[c++] = null, v !== null && N !== null) { var te = v.pending; te === null ? N.next = N : (N.next = te.next, te.next = N), v.pending = N } U !== 0 && Xr(d, N, U) } } function Ln(l, c, d, v) { qt[Wn++] = l, qt[Wn++] = c, qt[Wn++] = d, qt[Wn++] = v, Pn |= v, l.lanes |= v, l = l.alternate, l !== null && (l.lanes |= v) } function zn(l, c, d, v) { return Ln(l, c, d, v), Tn(l) } function _r(l, c) { return Ln(l, null, null, c), Tn(l) } function Xr(l, c, d) { l.lanes |= d; var v = l.alternate; v !== null && (v.lanes |= d); for (var N = !1, U = l.return; U !== null;)U.childLanes |= d, v = U.alternate, v !== null && (v.childLanes |= d), U.tag === 22 && (l = U.stateNode, l === null || l._visibility & 1 || (N = !0)), l = U, U = U.return; return l.tag === 3 ? (U = l.stateNode, N && c !== null && (N = 31 - En(d), l = U.hiddenUpdates, v = l[N], v === null ? l[N] = [c] : v.push(c), c.lane = d | 536870912), U) : null } function Tn(l) { if (50 < ym) throw ym = 0, f2 = null, Error(r(185)); for (var c = l.return; c !== null;)l = c, c = l.return; return l.tag === 3 ? l.stateNode : null } var Rn = {}; function ir(l, c, d, v) { this.tag = l, this.key = d, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = c, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = v, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function Pr(l, c, d, v) { return new ir(l, c, d, v) } function or(l) { return l = l.prototype, !(!l || !l.isReactComponent) } function hi(l, c) { var d = l.alternate; return d === null ? (d = Pr(l.tag, c, l.key, l.mode), d.elementType = l.elementType, d.type = l.type, d.stateNode = l.stateNode, d.alternate = l, l.alternate = d) : (d.pendingProps = c, d.type = l.type, d.flags = 0, d.subtreeFlags = 0, d.deletions = null), d.flags = l.flags & 65011712, d.childLanes = l.childLanes, d.lanes = l.lanes, d.child = l.child, d.memoizedProps = l.memoizedProps, d.memoizedState = l.memoizedState, d.updateQueue = l.updateQueue, c = l.dependencies, d.dependencies = c === null ? null : { lanes: c.lanes, firstContext: c.firstContext }, d.sibling = l.sibling, d.index = l.index, d.ref = l.ref, d.refCleanup = l.refCleanup, d } function yr(l, c) { l.flags &= 65011714; var d = l.alternate; return d === null ? (l.childLanes = 0, l.lanes = c, l.child = null, l.subtreeFlags = 0, l.memoizedProps = null, l.memoizedState = null, l.updateQueue = null, l.dependencies = null, l.stateNode = null) : (l.childLanes = d.childLanes, l.lanes = d.lanes, l.child = d.child, l.subtreeFlags = 0, l.deletions = null, l.memoizedProps = d.memoizedProps, l.memoizedState = d.memoizedState, l.updateQueue = d.updateQueue, l.type = d.type, c = d.dependencies, l.dependencies = c === null ? null : { lanes: c.lanes, firstContext: c.firstContext }), l } function li(l, c, d, v, N, U) { var te = 0; if (v = l, typeof l == "function") or(l) && (te = 1); else if (typeof l == "string") te = v8(l, d, ie.current) ? 26 : l === "html" || l === "head" || l === "body" ? 27 : 5; else e: switch (l) { case G: return l = Pr(31, d, c, N), l.elementType = G, l.lanes = U, l; case y: return ti(d.children, N, U, c); case E: te = 8, N |= 24; break; case _: return l = Pr(12, d, c, N | 2), l.elementType = _, l.lanes = U, l; case z: return l = Pr(13, d, c, N), l.elementType = z, l.lanes = U, l; case X: return l = Pr(19, d, c, N), l.elementType = X, l.lanes = U, l; default: if (typeof l == "object" && l !== null) switch (l.$$typeof) { case I: te = 10; break e; case O: te = 9; break e; case D: te = 11; break e; case q: te = 14; break e; case W: te = 16, v = null; break e }te = 29, d = Error(r(130, l === null ? "null" : typeof l, "")), v = null }return c = Pr(te, d, c, N), c.elementType = l, c.type = v, c.lanes = U, c } function ti(l, c, d, v) { return l = Pr(7, l, v, c), l.lanes = d, l } function Vr(l, c, d) { return l = Pr(6, l, null, c), l.lanes = d, l } function ps(l) { var c = Pr(18, null, null, 0); return c.stateNode = l, c } function ho(l, c, d) { return c = Pr(4, l.children !== null ? l.children : [], l.key, c), c.lanes = d, c.stateNode = { containerInfo: l.containerInfo, pendingChildren: null, implementation: l.implementation }, c } var js = new WeakMap; function zs(l, c) { if (typeof l == "object" && l !== null) { var d = js.get(l); return d !== void 0 ? d : (c = { value: l, source: c, stack: we(c) }, js.set(l, c), c) } return { value: l, source: c, stack: we(c) } } var Wo = [], ki = 0, ia = null, sa = 0, Ti = [], Ji = 0, aa = null, Hr = 1, gs = ""; function Ts(l, c) { Wo[ki++] = sa, Wo[ki++] = ia, ia = l, sa = c } function lu(l, c, d) { Ti[Ji++] = Hr, Ti[Ji++] = gs, Ti[Ji++] = aa, aa = l; var v = Hr; l = gs; var N = 32 - En(v) - 1; v &= ~(1 << N), d += 1; var U = 32 - En(c) + N; if (30 < U) { var te = N - N % 5; U = (v & (1 << te) - 1).toString(32), v >>= te, N -= te, Hr = 1 << 32 - En(c) + N | d << N | v, gs = U + l } else Hr = 1 << U | d << N | v, gs = l } function _c(l) { l.return !== null && (Ts(l, 1), lu(l, 1, 0)) } function Nc(l) { for (; l === ia;)ia = Wo[--ki], Wo[ki] = null, sa = Wo[--ki], Wo[ki] = null; for (; l === aa;)aa = Ti[--Ji], Ti[Ji] = null, gs = Ti[--Ji], Ti[Ji] = null, Hr = Ti[--Ji], Ti[Ji] = null } function Au(l, c) { Ti[Ji++] = Hr, Ti[Ji++] = gs, Ti[Ji++] = aa, Hr = c.id, gs = c.overflow, aa = l } var Pi = null, ni = null, Yn = !1, pi = null, Gr = !1, Ba = Error(r(519)); function oa(l) { var c = Error(r(418, 1 < arguments.length && arguments[1] !== void 0 && arguments[1] ? "text" : "HTML", "")); throw ll(zs(c, l)), Ba } function kc(l) { var c = l.stateNode, d = l.type, v = l.memoizedProps; switch (c[Kr] = l, c[fi] = v, d) { case "dialog": Tr("cancel", c), Tr("close", c); break; case "iframe": case "object": case "embed": Tr("load", c); break; case "video": case "audio": for (d = 0; d < bm.length; d++)Tr(bm[d], c); break; case "source": Tr("error", c); break; case "img": case "image": case "link": Tr("error", c), Tr("load", c); break; case "details": Tr("toggle", c); break; case "input": Tr("invalid", c), ko(c, v.value, v.defaultValue, v.checked, v.defaultChecked, v.type, v.name, !0); break; case "select": Tr("invalid", c); break; case "textarea": Tr("invalid", c), WA(c, v.value, v.defaultValue, v.children) }d = v.children, typeof d != "string" && typeof d != "number" && typeof d != "bigint" || c.textContent === "" + d || v.suppressHydrationWarning === !0 || T_(c.textContent, d) ? (v.popover != null && (Tr("beforetoggle", c), Tr("toggle", c)), v.onScroll != null && Tr("scroll", c), v.onScrollEnd != null && Tr("scrollend", c), v.onClick != null && (c.onclick = Fo), c = !0) : c = !1, c || oa(l, !0) } function Xi(l) { for (Pi = l.return; Pi;)switch (Pi.tag) { case 5: case 31: case 13: Gr = !1; return; case 27: case 3: Gr = !0; return; default: Pi = Pi.return } } function Hi(l) { if (l !== Pi) return !1; if (!Yn) return Xi(l), Yn = !0, !1; var c = l.tag, d; if ((d = c !== 3 && c !== 27) && ((d = c === 5) && (d = l.type, d = !(d !== "form" && d !== "button") || _2(l.type, l.memoizedProps)), d = !d), d && ni && oa(l), Xi(l), c === 13) { if (l = l.memoizedState, l = l !== null ? l.dehydrated : null, !l) throw Error(r(317)); ni = D_(l) } else if (c === 31) { if (l = l.memoizedState, l = l !== null ? l.dehydrated : null, !l) throw Error(r(317)); ni = D_(l) } else c === 27 ? (c = ni, zf(l.type) ? (l = U2, U2 = null, ni = l) : ni = c) : ni = Pi ? tc(l.stateNode.nextSibling) : null; return !0 } function po() { ni = Pi = null, Yn = !1 } function nA() { var l = pi; return l !== null && (fA === null ? fA = l : fA.push.apply(fA, l), pi = null), l } function ll(l) { pi === null ? pi = [l] : pi.push(l) } var go = j(null), Al = null, Wr = null; function la(l, c, d) { re(go, c._currentValue), c._currentValue = d } function Fs(l) { l._currentValue = go.current, L(go) } function Va(l, c, d) { for (; l !== null;) { var v = l.alternate; if ((l.childLanes & c) !== c ? (l.childLanes |= c, v !== null && (v.childLanes |= c)) : v !== null && (v.childLanes & c) !== c && (v.childLanes |= c), l === d) break; l = l.return } } function cl(l, c, d, v) { var N = l.child; for (N !== null && (N.return = l); N !== null;) { var U = N.dependencies; if (U !== null) { var te = N.child; U = U.firstContext; e: for (; U !== null;) { var ve = U; U = N; for (var Le = 0; Le < c.length; Le++)if (ve.context === c[Le]) { U.lanes |= d, ve = U.alternate, ve !== null && (ve.lanes |= d), Va(U.return, d, l), v || (te = null); break e } U = ve.next } } else if (N.tag === 18) { if (te = N.return, te === null) throw Error(r(341)); te.lanes |= d, U = te.alternate, U !== null && (U.lanes |= d), Va(te, d, l), te = null } else te = N.child; if (te !== null) te.return = N; else for (te = N; te !== null;) { if (te === l) { te = null; break } if (N = te.sibling, N !== null) { N.return = te.return, te = N; break } te = te.return } N = te } } function ss(l, c, d, v) { l = null; for (var N = c, U = !1; N !== null;) { if (!U) { if ((N.flags & 524288) !== 0) U = !0; else if ((N.flags & 262144) !== 0) break } if (N.tag === 10) { var te = N.alternate; if (te === null) throw Error(r(387)); if (te = te.memoizedProps, te !== null) { var ve = N.type; Di(N.pendingProps.value, te.value) || (l !== null ? l.push(ve) : l = [ve]) } } else if (N === Be.current) { if (te = N.alternate, te === null) throw Error(r(387)); te.memoizedState.memoizedState !== N.memoizedState.memoizedState && (l !== null ? l.push(Sm) : l = [Sm]) } N = N.return } l !== null && cl(c, l, d, v), c.flags |= 262144 } function Yo(l) { for (l = l.firstContext; l !== null;) { if (!Di(l.context._currentValue, l.memoizedValue)) return !0; l = l.next } return !1 } function Ca(l) { Al = l, Wr = null, l = l.dependencies, l !== null && (l.firstContext = null) } function Yr(l) { return BA(Al, l) } function Zi(l, c) { return Al === null && Ca(l), BA(l, c) } function BA(l, c) { var d = c._currentValue; if (c = { context: c, memoizedValue: d, next: null }, Wr === null) { if (l === null) throw Error(r(308)); Wr = c, l.dependencies = { lanes: 0, firstContext: c }, l.flags |= 524288 } else Wr = Wr.next = c; return d } var Ks = typeof AbortController < "u" ? AbortController : function () { var l = [], c = this.signal = { aborted: !1, addEventListener: function (d, v) { l.push(v) } }; this.abort = function () { c.aborted = !0, l.forEach(function (d) { return d() }) } }, Lu = n.unstable_scheduleCallback, Tc = n.unstable_NormalPriority, Ai = { $$typeof: I, Consumer: null, Provider: null, _currentValue: null, _currentValue2: null, _threadCount: 0 }; function CA() { return { controller: new Ks, data: new Map, refCount: 0 } } function JA(l) { l.refCount--, l.refCount === 0 && Lu(Tc, function () { l.controller.abort() }) } var Ga = null, ul = 0, C = 0, k = null; function P(l, c) { if (Ga === null) { var d = Ga = []; ul = 0, C = v2(), k = { status: "pending", value: void 0, then: function (v) { d.push(v) } } } return ul++, c.then(J, J), c } function J() { if (--ul === 0 && Ga !== null) { k !== null && (k.status = "fulfilled"); var l = Ga; Ga = null, C = 0, k = null; for (var c = 0; c < l.length; c++)(0, l[c])() } } function ce(l, c) { var d = [], v = { status: "pending", value: null, reason: null, then: function (N) { d.push(N) } }; return l.then(function () { v.status = "fulfilled", v.value = c; for (var N = 0; N < d.length; N++)(0, d[N])(c) }, function (N) { for (v.status = "rejected", v.reason = N, N = 0; N < d.length; N++)(0, d[N])(void 0) }), v } var he = Z.S; Z.S = function (l, c) { e_ = Bt(), typeof c == "object" && c !== null && typeof c.then == "function" && P(l, c), he !== null && he(l, c) }; var ge = j(null); function ye() { var l = ge.current; return l !== null ? l : ji.pooledCache } function Ee(l, c) { c === null ? re(ge, ge.current) : re(ge, c.pool) } function Se() { var l = ye(); return l === null ? null : { parent: Ai._currentValue, pool: l } } var Pe = Error(r(460)), et = Error(r(474)), Te = Error(r(542)), Ke = { then: function () { } }; function Xe(l) { return l = l.status, l === "fulfilled" || l === "rejected" } function pt(l, c, d) { switch (d = l[d], d === void 0 ? l.push(c) : d !== c && (c.then(Fo, Fo), c = d), c.status) { case "fulfilled": return c.value; case "rejected": throw l = c.reason, Nt(l), l; default: if (typeof c.status == "string") c.then(Fo, Fo); else { if (l = ji, l !== null && 100 < l.shellSuspendCounter) throw Error(r(482)); l = c, l.status = "pending", l.then(function (v) { if (c.status === "pending") { var N = c; N.status = "fulfilled", N.value = v } }, function (v) { if (c.status === "pending") { var N = c; N.status = "rejected", N.reason = v } }) } switch (c.status) { case "fulfilled": return c.value; case "rejected": throw l = c.reason, Nt(l), l }throw ut = c, Pe } } function qe(l) { try { var c = l._init; return c(l._payload) } catch (d) { throw d !== null && typeof d == "object" && typeof d.then == "function" ? (ut = d, Pe) : d } } var ut = null; function ht() { if (ut === null) throw Error(r(459)); var l = ut; return ut = null, l } function Nt(l) { if (l === Pe || l === Te) throw Error(r(483)) } var vt = null, Yt = 0; function Mt(l) { var c = Yt; return Yt += 1, vt === null && (vt = []), pt(vt, l, c) } function Bn(l, c) { c = c.props.ref, l.ref = c !== void 0 ? c : null } function Dt(l, c) { throw c.$$typeof === m ? Error(r(525)) : (l = Object.prototype.toString.call(c), Error(r(31, l === "[object Object]" ? "object with keys {" + Object.keys(c).join(", ") + "}" : l))) } function Jn(l) { function c(Ze, Ve) { if (l) { var rt = Ze.deletions; rt === null ? (Ze.deletions = [Ve], Ze.flags |= 16) : rt.push(Ve) } } function d(Ze, Ve) { if (!l) return null; for (; Ve !== null;)c(Ze, Ve), Ve = Ve.sibling; return null } function v(Ze) { for (var Ve = new Map; Ze !== null;)Ze.key !== null ? Ve.set(Ze.key, Ze) : Ve.set(Ze.index, Ze), Ze = Ze.sibling; return Ve } function N(Ze, Ve) { return Ze = hi(Ze, Ve), Ze.index = 0, Ze.sibling = null, Ze } function U(Ze, Ve, rt) { return Ze.index = rt, l ? (rt = Ze.alternate, rt !== null ? (rt = rt.index, rt < Ve ? (Ze.flags |= 67108866, Ve) : rt) : (Ze.flags |= 67108866, Ve)) : (Ze.flags |= 1048576, Ve) } function te(Ze) { return l && Ze.alternate === null && (Ze.flags |= 67108866), Ze } function ve(Ze, Ve, rt, bt) { return Ve === null || Ve.tag !== 6 ? (Ve = Vr(rt, Ze.mode, bt), Ve.return = Ze, Ve) : (Ve = N(Ve, rt), Ve.return = Ze, Ve) } function Le(Ze, Ve, rt, bt) { var Nn = rt.type; return Nn === y ? mt(Ze, Ve, rt.props.children, bt, rt.key) : Ve !== null && (Ve.elementType === Nn || typeof Nn == "object" && Nn !== null && Nn.$$typeof === W && qe(Nn) === Ve.type) ? (Ve = N(Ve, rt.props), Bn(Ve, rt), Ve.return = Ze, Ve) : (Ve = li(rt.type, rt.key, rt.props, null, Ze.mode, bt), Bn(Ve, rt), Ve.return = Ze, Ve) } function it(Ze, Ve, rt, bt) { return Ve === null || Ve.tag !== 4 || Ve.stateNode.containerInfo !== rt.containerInfo || Ve.stateNode.implementation !== rt.implementation ? (Ve = ho(rt, Ze.mode, bt), Ve.return = Ze, Ve) : (Ve = N(Ve, rt.children || []), Ve.return = Ze, Ve) } function mt(Ze, Ve, rt, bt, Nn) { return Ve === null || Ve.tag !== 7 ? (Ve = ti(rt, Ze.mode, bt, Nn), Ve.return = Ze, Ve) : (Ve = N(Ve, rt), Ve.return = Ze, Ve) } function Et(Ze, Ve, rt) { if (typeof Ve == "string" && Ve !== "" || typeof Ve == "number" || typeof Ve == "bigint") return Ve = Vr("" + Ve, Ze.mode, rt), Ve.return = Ze, Ve; if (typeof Ve == "object" && Ve !== null) { switch (Ve.$$typeof) { case p: return rt = li(Ve.type, Ve.key, Ve.props, null, Ze.mode, rt), Bn(rt, Ve), rt.return = Ze, rt; case b: return Ve = ho(Ve, Ze.mode, rt), Ve.return = Ze, Ve; case W: return Ve = qe(Ve), Et(Ze, Ve, rt) }if (pe(Ve) || V(Ve)) return Ve = ti(Ve, Ze.mode, rt, null), Ve.return = Ze, Ve; if (typeof Ve.then == "function") return Et(Ze, Mt(Ve), rt); if (Ve.$$typeof === I) return Et(Ze, Zi(Ze, Ve), rt); Dt(Ze, Ve) } return null } function ct(Ze, Ve, rt, bt) { var Nn = Ve !== null ? Ve.key : null; if (typeof rt == "string" && rt !== "" || typeof rt == "number" || typeof rt == "bigint") return Nn !== null ? null : ve(Ze, Ve, "" + rt, bt); if (typeof rt == "object" && rt !== null) { switch (rt.$$typeof) { case p: return rt.key === Nn ? Le(Ze, Ve, rt, bt) : null; case b: return rt.key === Nn ? it(Ze, Ve, rt, bt) : null; case W: return rt = qe(rt), ct(Ze, Ve, rt, bt) }if (pe(rt) || V(rt)) return Nn !== null ? null : mt(Ze, Ve, rt, bt, null); if (typeof rt.then == "function") return ct(Ze, Ve, Mt(rt), bt); if (rt.$$typeof === I) return ct(Ze, Ve, Zi(Ze, rt), bt); Dt(Ze, rt) } return null } function dt(Ze, Ve, rt, bt, Nn) { if (typeof bt == "string" && bt !== "" || typeof bt == "number" || typeof bt == "bigint") return Ze = Ze.get(rt) || null, ve(Ve, Ze, "" + bt, Nn); if (typeof bt == "object" && bt !== null) { switch (bt.$$typeof) { case p: return Ze = Ze.get(bt.key === null ? rt : bt.key) || null, Le(Ve, Ze, bt, Nn); case b: return Ze = Ze.get(bt.key === null ? rt : bt.key) || null, it(Ve, Ze, bt, Nn); case W: return bt = qe(bt), dt(Ze, Ve, rt, bt, Nn) }if (pe(bt) || V(bt)) return Ze = Ze.get(rt) || null, mt(Ve, Ze, bt, Nn, null); if (typeof bt.then == "function") return dt(Ze, Ve, rt, Mt(bt), Nn); if (bt.$$typeof === I) return dt(Ze, Ve, rt, Zi(Ve, bt), Nn); Dt(Ve, bt) } return null } function an(Ze, Ve, rt, bt) { for (var Nn = null, ri = null, dn = Ve, fr = Ve = 0, Ir = null; dn !== null && fr < rt.length; fr++) { dn.index > fr ? (Ir = dn, dn = null) : Ir = dn.sibling; var ii = ct(Ze, dn, rt[fr], bt); if (ii === null) { dn === null && (dn = Ir); break } l && dn && ii.alternate === null && c(Ze, dn), Ve = U(ii, Ve, fr), ri === null ? Nn = ii : ri.sibling = ii, ri = ii, dn = Ir } if (fr === rt.length) return d(Ze, dn), Yn && Ts(Ze, fr), Nn; if (dn === null) { for (; fr < rt.length; fr++)dn = Et(Ze, rt[fr], bt), dn !== null && (Ve = U(dn, Ve, fr), ri === null ? Nn = dn : ri.sibling = dn, ri = dn); return Yn && Ts(Ze, fr), Nn } for (dn = v(dn); fr < rt.length; fr++)Ir = dt(dn, Ze, fr, rt[fr], bt), Ir !== null && (l && Ir.alternate !== null && dn.delete(Ir.key === null ? fr : Ir.key), Ve = U(Ir, Ve, fr), ri === null ? Nn = Ir : ri.sibling = Ir, ri = Ir); return l && dn.forEach(function (Yf) { return c(Ze, Yf) }), Yn && Ts(Ze, fr), Nn } function Qn(Ze, Ve, rt, bt) { if (rt == null) throw Error(r(151)); for (var Nn = null, ri = null, dn = Ve, fr = Ve = 0, Ir = null, ii = rt.next(); dn !== null && !ii.done; fr++, ii = rt.next()) { dn.index > fr ? (Ir = dn, dn = null) : Ir = dn.sibling; var Yf = ct(Ze, dn, ii.value, bt); if (Yf === null) { dn === null && (dn = Ir); break } l && dn && Yf.alternate === null && c(Ze, dn), Ve = U(Yf, Ve, fr), ri === null ? Nn = Yf : ri.sibling = Yf, ri = Yf, dn = Ir } if (ii.done) return d(Ze, dn), Yn && Ts(Ze, fr), Nn; if (dn === null) { for (; !ii.done; fr++, ii = rt.next())ii = Et(Ze, ii.value, bt), ii !== null && (Ve = U(ii, Ve, fr), ri === null ? Nn = ii : ri.sibling = ii, ri = ii); return Yn && Ts(Ze, fr), Nn } for (dn = v(dn); !ii.done; fr++, ii = rt.next())ii = dt(dn, Ze, fr, ii.value, bt), ii !== null && (l && ii.alternate !== null && dn.delete(ii.key === null ? fr : ii.key), Ve = U(ii, Ve, fr), ri === null ? Nn = ii : ri.sibling = ii, ri = ii); return l && dn.forEach(function (k8) { return c(Ze, k8) }), Yn && Ts(Ze, fr), Nn } function Oi(Ze, Ve, rt, bt) { if (typeof rt == "object" && rt !== null && rt.type === y && rt.key === null && (rt = rt.props.children), typeof rt == "object" && rt !== null) { switch (rt.$$typeof) { case p: e: { for (var Nn = rt.key; Ve !== null;) { if (Ve.key === Nn) { if (Nn = rt.type, Nn === y) { if (Ve.tag === 7) { d(Ze, Ve.sibling), bt = N(Ve, rt.props.children), bt.return = Ze, Ze = bt; break e } } else if (Ve.elementType === Nn || typeof Nn == "object" && Nn !== null && Nn.$$typeof === W && qe(Nn) === Ve.type) { d(Ze, Ve.sibling), bt = N(Ve, rt.props), Bn(bt, rt), bt.return = Ze, Ze = bt; break e } d(Ze, Ve); break } else c(Ze, Ve); Ve = Ve.sibling } rt.type === y ? (bt = ti(rt.props.children, Ze.mode, bt, rt.key), bt.return = Ze, Ze = bt) : (bt = li(rt.type, rt.key, rt.props, null, Ze.mode, bt), Bn(bt, rt), bt.return = Ze, Ze = bt) } return te(Ze); case b: e: { for (Nn = rt.key; Ve !== null;) { if (Ve.key === Nn) if (Ve.tag === 4 && Ve.stateNode.containerInfo === rt.containerInfo && Ve.stateNode.implementation === rt.implementation) { d(Ze, Ve.sibling), bt = N(Ve, rt.children || []), bt.return = Ze, Ze = bt; break e } else { d(Ze, Ve); break } else c(Ze, Ve); Ve = Ve.sibling } bt = ho(rt, Ze.mode, bt), bt.return = Ze, Ze = bt } return te(Ze); case W: return rt = qe(rt), Oi(Ze, Ve, rt, bt) }if (pe(rt)) return an(Ze, Ve, rt, bt); if (V(rt)) { if (Nn = V(rt), typeof Nn != "function") throw Error(r(150)); return rt = Nn.call(rt), Qn(Ze, Ve, rt, bt) } if (typeof rt.then == "function") return Oi(Ze, Ve, Mt(rt), bt); if (rt.$$typeof === I) return Oi(Ze, Ve, Zi(Ze, rt), bt); Dt(Ze, rt) } return typeof rt == "string" && rt !== "" || typeof rt == "number" || typeof rt == "bigint" ? (rt = "" + rt, Ve !== null && Ve.tag === 6 ? (d(Ze, Ve.sibling), bt = N(Ve, rt), bt.return = Ze, Ze = bt) : (d(Ze, Ve), bt = Vr(rt, Ze.mode, bt), bt.return = Ze, Ze = bt), te(Ze)) : d(Ze, Ve) } return function (Ze, Ve, rt, bt) { try { Yt = 0; var Nn = Oi(Ze, Ve, rt, bt); return vt = null, Nn } catch (dn) { if (dn === Pe || dn === Te) throw dn; var ri = Pr(29, dn, null, Ze.mode); return ri.lanes = bt, ri.return = Ze, ri } finally { } } } var wr = Jn(!0), Hn = Jn(!1), Ht = !1; function Tt(l) { l.updateQueue = { baseState: l.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, lanes: 0, hiddenCallbacks: null }, callbacks: null } } function Zr(l, c) { l = l.updateQueue, c.updateQueue === l && (c.updateQueue = { baseState: l.baseState, firstBaseUpdate: l.firstBaseUpdate, lastBaseUpdate: l.lastBaseUpdate, shared: l.shared, callbacks: null }) } function fn(l) { return { lane: l, tag: 0, payload: null, callback: null, next: null } } function _n(l, c, d) { var v = l.updateQueue; if (v === null) return null; if (v = v.shared, (ui & 2) !== 0) { var N = v.pending; return N === null ? c.next = c : (c.next = N.next, N.next = c), v.pending = c, c = Tn(l), Xr(l, null, d), c } return Ln(l, v, c, d), Tn(l) } function lr(l, c, d) { if (c = c.updateQueue, c !== null && (c = c.shared, (d & 4194048) !== 0)) { var v = c.lanes; v &= l.pendingLanes, d |= v, c.lanes = d, Cs(l, d) } } function Or(l, c) { var d = l.updateQueue, v = l.alternate; if (v !== null && (v = v.updateQueue, d === v)) { var N = null, U = null; if (d = d.firstBaseUpdate, d !== null) { do { var te = { lane: d.lane, tag: d.tag, payload: d.payload, callback: null, next: null }; U === null ? N = U = te : U = U.next = te, d = d.next } while (d !== null); U === null ? N = U = c : U = U.next = c } else N = U = c; d = { baseState: v.baseState, firstBaseUpdate: N, lastBaseUpdate: U, shared: v.shared, callbacks: v.callbacks }, l.updateQueue = d; return } l = d.lastBaseUpdate, l === null ? d.firstBaseUpdate = c : l.next = c, d.lastBaseUpdate = c } var qi = !1; function Jr() { if (qi) { var l = k; if (l !== null) throw l } } function ci(l, c, d, v) { qi = !1; var N = l.updateQueue; Ht = !1; var U = N.firstBaseUpdate, te = N.lastBaseUpdate, ve = N.shared.pending; if (ve !== null) { N.shared.pending = null; var Le = ve, it = Le.next; Le.next = null, te === null ? U = it : te.next = it, te = Le; var mt = l.alternate; mt !== null && (mt = mt.updateQueue, ve = mt.lastBaseUpdate, ve !== te && (ve === null ? mt.firstBaseUpdate = it : ve.next = it, mt.lastBaseUpdate = Le)) } if (U !== null) { var Et = N.baseState; te = 0, mt = it = Le = null, ve = U; do { var ct = ve.lane & -536870913, dt = ct !== ve.lane; if (dt ? (Rr & ct) === ct : (v & ct) === ct) { ct !== 0 && ct === C && (qi = !0), mt !== null && (mt = mt.next = { lane: 0, tag: ve.tag, payload: ve.payload, callback: null, next: null }); e: { var an = l, Qn = ve; ct = c; var Oi = d; switch (Qn.tag) { case 1: if (an = Qn.payload, typeof an == "function") { Et = an.call(Oi, Et, ct); break e } Et = an; break e; case 3: an.flags = an.flags & -65537 | 128; case 0: if (an = Qn.payload, ct = typeof an == "function" ? an.call(Oi, Et, ct) : an, ct == null) break e; Et = h({}, Et, ct); break e; case 2: Ht = !0 } } ct = ve.callback, ct !== null && (l.flags |= 64, dt && (l.flags |= 8192), dt = N.callbacks, dt === null ? N.callbacks = [ct] : dt.push(ct)) } else dt = { lane: ct, tag: ve.tag, payload: ve.payload, callback: ve.callback, next: null }, mt === null ? (it = mt = dt, Le = Et) : mt = mt.next = dt, te |= ct; if (ve = ve.next, ve === null) { if (ve = N.shared.pending, ve === null) break; dt = ve, ve = dt.next, dt.next = null, N.lastBaseUpdate = dt, N.shared.pending = null } } while (!0); mt === null && (Le = Et), N.baseState = Le, N.firstBaseUpdate = it, N.lastBaseUpdate = mt, U === null && (N.shared.lanes = 0), Qf |= te, l.lanes = te, l.memoizedState = Et } } function w(l, c) { if (typeof l != "function") throw Error(r(191, l)); l.call(c) } function B(l, c) { var d = l.callbacks; if (d !== null) for (l.callbacks = null, l = 0; l < d.length; l++)w(d[l], c) } var T = j(null), H = j(0); function Y(l, c) { l = Yu, re(H, l), re(T, c), Yu = l | c.baseLanes } function ue() { re(H, Yu), re(T, T.current) } function xe() { Yu = H.current, L(T), L(H) } var He = j(null), Oe = null; function je(l) { var c = l.alternate; re(zt, zt.current & 1), re(He, l), Oe === null && (c === null || T.current !== null || c.memoizedState !== null) && (Oe = l) } function We(l) { re(zt, zt.current), re(He, l), Oe === null && (Oe = l) } function nt(l) { l.tag === 22 ? (re(zt, zt.current), re(He, l), Oe === null && (Oe = l)) : _t() } function _t() { re(zt, zt.current), re(He, He.current) } function St(l) { L(He), Oe === l && (Oe = null), L(zt) } var zt = j(0); function gn(l) { for (var c = l; c !== null;) { if (c.tag === 13) { var d = c.memoizedState; if (d !== null && (d = d.dehydrated, d === null || T2(d) || F2(d))) return c } else if (c.tag === 19 && (c.memoizedProps.revealOrder === "forwards" || c.memoizedProps.revealOrder === "backwards" || c.memoizedProps.revealOrder === "unstable_legacy-backwards" || c.memoizedProps.revealOrder === "together")) { if ((c.flags & 128) !== 0) return c } else if (c.child !== null) { c.child.return = c, c = c.child; continue } if (c === l) break; for (; c.sibling === null;) { if (c.return === null || c.return === l) return null; c = c.return } c.sibling.return = c.return, c = c.sibling } return null } var un = 0, It = null, Rt = null, Fn = null, qr = !1, bi = !1, sn = !1, ur = 0, jr = 0, Fi = null, mo = 0; function In() { throw Error(r(321)) } function fl(l, c) { if (c === null) return !1; for (var d = 0; d < c.length && d < l.length; d++)if (!Di(l[d], c[d])) return !1; return !0 } function vo(l, c, d, v, N, U) { return un = U, It = c, c.memoizedState = null, c.updateQueue = null, c.lanes = 0, Z.H = l === null || l.memoizedState === null ? rh : fu, sn = !1, U = d(v, N), sn = !1, bi && (U = es(c, d, v, N)), $i(l), U } function $i(l) { Z.H = nh; var c = Rt !== null && Rt.next !== null; if (un = 0, Fn = Rt = It = null, qr = !1, jr = 0, Fi = null, c) throw Error(r(300)); l === null || Vs || (l = l.dependencies, l !== null && Yo(l) && (Vs = !0)) } function es(l, c, d, v) { It = l; var N = 0; do { if (bi && (Fi = null), jr = 0, bi = !1, 25 <= N) throw Error(r(301)); if (N += 1, Fn = Rt = null, l.updateQueue != null) { var U = l.updateQueue; U.lastEffect = null, U.events = null, U.stores = null, U.memoCache != null && (U.memoCache.index = 0) } Z.H = xv, U = c(d, v) } while (bi); return U } function Fc() { var l = Z.H, c = l.useState()[0]; return c = typeof c.then == "function" ? iA(c) : c, l = l.useState()[0], (Rt !== null ? Rt.memoizedState : null) !== l && (It.flags |= 1024), c } function EA() { var l = ur !== 0; return ur = 0, l } function Rl(l, c, d) { c.updateQueue = l.updateQueue, c.flags &= -2053, l.lanes &= ~d } function rA(l) { if (qr) { for (l = l.memoizedState; l !== null;) { var c = l.queue; c !== null && (c.pending = null), l = l.next } qr = !1 } un = 0, Fn = Rt = It = null, bi = !1, jr = ur = 0, Fi = null } function ts() { var l = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return Fn === null ? It.memoizedState = Fn = l : Fn = Fn.next = l, Fn } function zr() { if (Rt === null) { var l = It.alternate; l = l !== null ? l.memoizedState : null } else l = Rt.next; var c = Fn === null ? It.memoizedState : Fn.next; if (c !== null) Fn = c, Rt = l; else { if (l === null) throw It.alternate === null ? Error(r(467)) : Error(r(310)); Rt = l, l = { memoizedState: Rt.memoizedState, baseState: Rt.baseState, baseQueue: Rt.baseQueue, queue: Rt.queue, next: null }, Fn === null ? It.memoizedState = Fn = l : Fn = Fn.next = l } return Fn } function dl() { return { lastEffect: null, events: null, stores: null, memoCache: null } } function iA(l) { var c = jr; return jr += 1, Fi === null && (Fi = []), l = pt(Fi, l, c), c = It, (Fn === null ? c.memoizedState : Fn.next) === null && (c = c.alternate, Z.H = c === null || c.memoizedState === null ? rh : fu), l } function XA(l) { if (l !== null && typeof l == "object") { if (typeof l.then == "function") return iA(l); if (l.$$typeof === I) return Yr(l) } throw Error(r(438, String(l))) } function Il(l) { var c = null, d = It.updateQueue; if (d !== null && (c = d.memoCache), c == null) { var v = It.alternate; v !== null && (v = v.updateQueue, v !== null && (v = v.memoCache, v != null && (c = { data: v.data.map(function (N) { return N.slice() }), index: 0 }))) } if (c == null && (c = { data: [], index: 0 }), d === null && (d = dl(), It.updateQueue = d), d.memoCache = c, d = c.data[c.index], d === void 0) for (d = c.data[c.index] = Array(l), v = 0; v < l; v++)d[v] = fe; return c.index++, d } function ms(l, c) { return typeof c == "function" ? c(l) : c } function Mu(l) { var c = zr(); return sA(c, Rt, l) } function sA(l, c, d) { var v = l.queue; if (v === null) throw Error(r(311)); v.lastRenderedReducer = d; var N = l.baseQueue, U = v.pending; if (U !== null) { if (N !== null) { var te = N.next; N.next = U.next, U.next = te } c.baseQueue = N = U, v.pending = null } if (U = l.baseState, N === null) l.memoizedState = U; else { c = N.next; var ve = te = null, Le = null, it = c, mt = !1; do { var Et = it.lane & -536870913; if (Et !== it.lane ? (Rr & Et) === Et : (un & Et) === Et) { var ct = it.revertLane; if (ct === 0) Le !== null && (Le = Le.next = { lane: 0, revertLane: 0, gesture: null, action: it.action, hasEagerState: it.hasEagerState, eagerState: it.eagerState, next: null }), Et === C && (mt = !0); else if ((un & ct) === ct) { it = it.next, ct === C && (mt = !0); continue } else Et = { lane: 0, revertLane: it.revertLane, gesture: null, action: it.action, hasEagerState: it.hasEagerState, eagerState: it.eagerState, next: null }, Le === null ? (ve = Le = Et, te = U) : Le = Le.next = Et, It.lanes |= ct, Qf |= ct; Et = it.action, sn && d(U, Et), U = it.hasEagerState ? it.eagerState : d(U, Et) } else ct = { lane: Et, revertLane: it.revertLane, gesture: it.gesture, action: it.action, hasEagerState: it.hasEagerState, eagerState: it.eagerState, next: null }, Le === null ? (ve = Le = ct, te = U) : Le = Le.next = ct, It.lanes |= Et, Qf |= Et; it = it.next } while (it !== null && it !== c); if (Le === null ? te = U : Le.next = ve, !Di(U, l.memoizedState) && (Vs = !0, mt && (d = k, d !== null))) throw d; l.memoizedState = U, l.baseState = te, l.baseQueue = Le, v.lastRenderedState = U } return N === null && (v.lanes = 0), [l.memoizedState, v.dispatch] } function Qu(l) { var c = zr(), d = c.queue; if (d === null) throw Error(r(311)); d.lastRenderedReducer = l; var v = d.dispatch, N = d.pending, U = c.memoizedState; if (N !== null) { d.pending = null; var te = N = N.next; do U = l(U, te.action), te = te.next; while (te !== N); Di(U, c.memoizedState) || (Vs = !0), c.memoizedState = U, c.baseQueue === null && (c.baseState = U), d.lastRenderedState = U } return [U, v] } function Du(l, c, d) { var v = It, N = zr(), U = Yn; if (U) { if (d === void 0) throw Error(r(407)); d = d() } else d = c(); var te = !Di((Rt || N).memoizedState, d); if (te && (N.memoizedState = d, Vs = !0), N = N.queue, Hu(Cf.bind(null, v, N, l), [l]), N.getSnapshot !== c || te || Fn !== null && Fn.memoizedState.tag & 1) { if (v.flags |= 2048, $A(9, { destroy: void 0 }, Bf.bind(null, v, N, d, c), null), ji === null) throw Error(r(349)); U || (un & 127) !== 0 || aA(v, c, d) } return d } function aA(l, c, d) { l.flags |= 16384, l = { getSnapshot: c, value: d }, c = It.updateQueue, c === null ? (c = dl(), It.updateQueue = c, c.stores = [l]) : (d = c.stores, d === null ? c.stores = [l] : d.push(l)) } function Bf(l, c, d, v) { c.value = d, c.getSnapshot = v, Jd(c) && Uc(l) } function Cf(l, c, d) { return d(function () { Jd(c) && Uc(l) }) } function Jd(l) { var c = l.getSnapshot; l = l.value; try { var d = c(); return !Di(l, d) } catch { return !0 } } function Uc(l) { var c = _r(l, 2); c !== null && dA(c, l, 2) } function Ea(l) { var c = ts(); if (typeof l == "function") { var d = l; if (l = d(), sn) { vn(!0); try { d() } finally { vn(!1) } } } return c.memoizedState = c.baseState = l, c.queue = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: ms, lastRenderedState: l }, c } function Xd(l, c, d, v) { return l.baseState = d, sA(l, Rt, typeof v == "function" ? v : ms) } function Zd(l, c, d, v, N) { if (Ff(l)) throw Error(r(485)); if (l = c.action, l !== null) { var U = { payload: N, action: l, next: null, isTransition: !0, status: "pending", value: null, reason: null, listeners: [], then: function (te) { U.listeners.push(te) } }; Z.T !== null ? d(!0) : U.isTransition = !1, v(U), d = c.pending, d === null ? (U.next = c.pending = U, cu(c, U)) : (U.next = d.next, c.pending = d.next = U) } } function cu(l, c) { var d = c.action, v = c.payload, N = l.state; if (c.isTransition) { var U = Z.T, te = {}; Z.T = te; try { var ve = d(N, v), Le = Z.S; Le !== null && Le(te, ve), Ef(l, c, ve) } catch (it) { Ll(l, c, it) } finally { U !== null && te.types !== null && (U.types = te.types), Z.T = U } } else try { U = d(N, v), Ef(l, c, U) } catch (it) { Ll(l, c, it) } } function Ef(l, c, d) { d !== null && typeof d == "object" && typeof d.then == "function" ? d.then(function (v) { ZA(l, c, v) }, function (v) { return Ll(l, c, v) }) : ZA(l, c, d) } function ZA(l, c, d) { c.status = "fulfilled", c.value = d, qA(c), l.state = d, c = l.pending, c !== null && (d = c.next, d === c ? l.pending = null : (d = d.next, c.next = d, cu(l, d))) } function Ll(l, c, d) { var v = l.pending; if (l.pending = null, v !== null) { v = v.next; do c.status = "rejected", c.reason = d, qA(c), c = c.next; while (c !== v) } l.action = null } function qA(l) { l = l.listeners; for (var c = 0; c < l.length; c++)(0, l[c])() } function SA(l, c) { return c } function yo(l, c) { if (Yn) { var d = ji.formState; if (d !== null) { e: { var v = It; if (Yn) { if (ni) { t: { for (var N = ni, U = Gr; N.nodeType !== 8;) { if (!U) { N = null; break t } if (N = tc(N.nextSibling), N === null) { N = null; break t } } U = N.data, N = U === "F!" || U === "F" ? N : null } if (N) { ni = tc(N.nextSibling), v = N.data === "F!"; break e } } oa(v) } v = !1 } v && (c = d[0]) } } return d = ts(), d.memoizedState = d.baseState = c, v = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: SA, lastRenderedState: c }, d.queue = v, d = th.bind(null, It, v), v.dispatch = d, v = Ea(!1), U = Tf.bind(null, It, !1, v.queue), v = ts(), N = { state: c, dispatch: null, action: l, pending: null }, v.queue = N, d = Zd.bind(null, It, N, U, d), N.dispatch = d, v.memoizedState = l, [c, d, !1] } function Sa(l) { var c = zr(); return Ml(c, Rt, l) } function Ml(l, c, d) { if (c = sA(l, c, SA)[0], l = Mu(ms)[0], typeof c == "object" && c !== null && typeof c.then == "function") try { var v = iA(c) } catch (te) { throw te === Pe ? Te : te } else v = c; c = zr(); var N = c.queue, U = N.dispatch; return d !== c.memoizedState && (It.flags |= 2048, $A(9, { destroy: void 0 }, uu.bind(null, N, d), null)), [v, U, l] } function uu(l, c) { l.action = c } function oA(l) { var c = zr(), d = Rt; if (d !== null) return Ml(c, d, l); zr(), c = c.memoizedState, d = zr(); var v = d.queue.dispatch; return d.memoizedState = l, [c, v, !1] } function $A(l, c, d, v) { return l = { tag: l, create: d, deps: v, inst: c, next: null }, c = It.updateQueue, c === null && (c = dl(), It.updateQueue = c), d = c.lastEffect, d === null ? c.lastEffect = l.next = l : (v = d.next, d.next = l, l.next = v, c.lastEffect = l), l } function Pu() { return zr().memoizedState } function Oc(l, c, d, v) { var N = ts(); It.flags |= l, N.memoizedState = $A(1 | c, { destroy: void 0 }, d, v === void 0 ? null : v) } function lA(l, c, d, v) { var N = zr(); v = v === void 0 ? null : v; var U = N.memoizedState.inst; Rt !== null && v !== null && fl(v, Rt.memoizedState.deps) ? N.memoizedState = $A(c, U, d, v) : (It.flags |= l, N.memoizedState = $A(1 | c, U, d, v)) } function $g(l, c) { Oc(8390656, 8, l, c) } function Hu(l, c) { lA(2048, 8, l, c) } function qd(l) { It.flags |= 4; var c = It.updateQueue; if (c === null) c = dl(), It.updateQueue = c, c.events = [l]; else { var d = c.events; d === null ? c.events = [l] : d.push(l) } } function em(l) { var c = zr().memoizedState; return qd({ ref: c, nextImpl: l }), function () { if ((ui & 2) !== 0) throw Error(r(440)); return c.impl.apply(void 0, arguments) } } function tm(l, c) { return lA(4, 2, l, c) } function gv(l, c) { return lA(4, 4, l, c) } function mv(l, c) { if (typeof c == "function") { l = l(); var d = c(l); return function () { typeof d == "function" ? d() : c(null) } } if (c != null) return l = l(), c.current = l, function () { c.current = null } } function hp(l, c, d) { d = d != null ? d.concat([l]) : null, lA(4, 4, mv.bind(null, c, l), d) } function nm() { } function vv(l, c) { var d = zr(); c = c === void 0 ? null : c; var v = d.memoizedState; return c !== null && fl(c, v[1]) ? v[0] : (d.memoizedState = [l, c], l) } function yv(l, c) { var d = zr(); c = c === void 0 ? null : c; var v = d.memoizedState; if (c !== null && fl(c, v[1])) return v[0]; if (v = l(), sn) { vn(!0); try { l() } finally { vn(!1) } } return d.memoizedState = [v, c], v } function ec(l, c, d) { return d === void 0 || (un & 1073741824) !== 0 && (Rr & 261930) === 0 ? l.memoizedState = c : (l.memoizedState = d, l = n_(), It.lanes |= l, Qf |= l, d) } function $d(l, c, d, v) { return Di(d, c) ? d : T.current !== null ? (l = ec(l, d, v), Di(l, c) || (Vs = !0), l) : (un & 42) === 0 || (un & 1073741824) !== 0 && (Rr & 261930) === 0 ? (Vs = !0, l.memoizedState = d) : (l = n_(), It.lanes |= l, Qf |= l, c) } function Sf(l, c, d, v, N) { var U = ae.p; ae.p = U !== 0 && 8 > U ? U : 8; var te = Z.T, ve = {}; Z.T = ve, Tf(l, !1, c, d); try { var Le = N(), it = Z.S; if (it !== null && it(ve, Le), Le !== null && typeof Le == "object" && typeof Le.then == "function") { var mt = ce(Le, v); kf(l, c, mt, FA(l)) } else kf(l, c, v, FA(l)) } catch (Et) { kf(l, c, { then: function () { }, status: "rejected", reason: Et }, FA()) } finally { ae.p = U, te !== null && ve.types !== null && (te.types = ve.types), Z.T = te } } function _f() { } function Nf(l, c, d, v) { if (l.tag !== 5) throw Error(r(476)); var N = eh(l).queue; Sf(l, N, c, me, d === null ? _f : function () { return pp(l), d(v) }) } function eh(l) { var c = l.memoizedState; if (c !== null) return c; c = { memoizedState: me, baseState: me, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: ms, lastRenderedState: me }, next: null }; var d = {}; return c.next = { memoizedState: d, baseState: d, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: ms, lastRenderedState: d }, next: null }, l.memoizedState = c, l = l.alternate, l !== null && (l.memoizedState = c), c } function pp(l) { var c = eh(l); c.next === null && (c = l.alternate.memoizedState), kf(l, c.next.queue, {}, FA()) } function gp() { return Yr(Sm) } function wv() { return zr().memoizedState } function mp() { return zr().memoizedState } function bv(l) { for (var c = l.return; c !== null;) { switch (c.tag) { case 24: case 3: var d = FA(); l = fn(d); var v = _n(c, l, d); v !== null && (dA(v, c, d), lr(v, c, d)), c = { cache: CA() }, l.payload = c; return }c = c.return } } function vp(l, c, d) { var v = FA(); d = { lane: v, revertLane: 0, gesture: null, action: d, hasEagerState: !1, eagerState: null, next: null }, Ff(l) ? rm(c, d) : (d = zn(l, c, d, v), d !== null && (dA(d, l, v), im(d, c, v))) } function th(l, c, d) { var v = FA(); kf(l, c, d, v) } function kf(l, c, d, v) { var N = { lane: v, revertLane: 0, gesture: null, action: d, hasEagerState: !1, eagerState: null, next: null }; if (Ff(l)) rm(c, N); else { var U = l.alternate; if (l.lanes === 0 && (U === null || U.lanes === 0) && (U = c.lastRenderedReducer, U !== null)) try { var te = c.lastRenderedState, ve = U(te, d); if (N.hasEagerState = !0, N.eagerState = ve, Di(ve, te)) return Ln(l, c, N, 0), ji === null && Mn(), !1 } catch { } finally { } if (d = zn(l, c, N, v), d !== null) return dA(d, l, v), im(d, c, v), !0 } return !1 } function Tf(l, c, d, v) { if (v = { lane: 2, revertLane: v2(), gesture: null, action: v, hasEagerState: !1, eagerState: null, next: null }, Ff(l)) { if (c) throw Error(r(479)) } else c = zn(l, d, v, 2), c !== null && dA(c, l, 2) } function Ff(l) { var c = l.alternate; return l === It || c !== null && c === It } function rm(l, c) { bi = qr = !0; var d = l.pending; d === null ? c.next = c : (c.next = d.next, d.next = c), l.pending = c } function im(l, c, d) { if ((d & 4194048) !== 0) { var v = c.lanes; v &= l.pendingLanes, d |= v, c.lanes = d, Cs(l, d) } } var nh = { readContext: Yr, use: XA, useCallback: In, useContext: In, useEffect: In, useImperativeHandle: In, useLayoutEffect: In, useInsertionEffect: In, useMemo: In, useReducer: In, useRef: In, useState: In, useDebugValue: In, useDeferredValue: In, useTransition: In, useSyncExternalStore: In, useId: In, useHostTransitionStatus: In, useFormState: In, useActionState: In, useOptimistic: In, useMemoCache: In, useCacheRefresh: In }; nh.useEffectEvent = In; var rh = { readContext: Yr, use: XA, useCallback: function (l, c) { return ts().memoizedState = [l, c === void 0 ? null : c], l }, useContext: Yr, useEffect: $g, useImperativeHandle: function (l, c, d) { d = d != null ? d.concat([l]) : null, Oc(4194308, 4, mv.bind(null, c, l), d) }, useLayoutEffect: function (l, c) { return Oc(4194308, 4, l, c) }, useInsertionEffect: function (l, c) { Oc(4, 2, l, c) }, useMemo: function (l, c) { var d = ts(); c = c === void 0 ? null : c; var v = l(); if (sn) { vn(!0); try { l() } finally { vn(!1) } } return d.memoizedState = [v, c], v }, useReducer: function (l, c, d) { var v = ts(); if (d !== void 0) { var N = d(c); if (sn) { vn(!0); try { d(c) } finally { vn(!1) } } } else N = c; return v.memoizedState = v.baseState = N, l = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: l, lastRenderedState: N }, v.queue = l, l = l.dispatch = vp.bind(null, It, l), [v.memoizedState, l] }, useRef: function (l) { var c = ts(); return l = { current: l }, c.memoizedState = l }, useState: function (l) { l = Ea(l); var c = l.queue, d = th.bind(null, It, c); return c.dispatch = d, [l.memoizedState, d] }, useDebugValue: nm, useDeferredValue: function (l, c) { var d = ts(); return ec(d, l, c) }, useTransition: function () { var l = Ea(!1); return l = Sf.bind(null, It, l.queue, !0, !1), ts().memoizedState = l, [!1, l] }, useSyncExternalStore: function (l, c, d) { var v = It, N = ts(); if (Yn) { if (d === void 0) throw Error(r(407)); d = d() } else { if (d = c(), ji === null) throw Error(r(349)); (Rr & 127) !== 0 || aA(v, c, d) } N.memoizedState = d; var U = { value: d, getSnapshot: c }; return N.queue = U, $g(Cf.bind(null, v, U, l), [l]), v.flags |= 2048, $A(9, { destroy: void 0 }, Bf.bind(null, v, U, d, c), null), d }, useId: function () { var l = ts(), c = ji.identifierPrefix; if (Yn) { var d = gs, v = Hr; d = (v & ~(1 << 32 - En(v) - 1)).toString(32) + d, c = "_" + c + "R_" + d, d = ur++, 0 < d && (c += "H" + d.toString(32)), c += "_" } else d = mo++, c = "_" + c + "r_" + d.toString(32) + "_"; return l.memoizedState = c }, useHostTransitionStatus: gp, useFormState: yo, useActionState: yo, useOptimistic: function (l) { var c = ts(); c.memoizedState = c.baseState = l; var d = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: null, lastRenderedState: null }; return c.queue = d, c = Tf.bind(null, It, !0, d), d.dispatch = c, [l, c] }, useMemoCache: Il, useCacheRefresh: function () { return ts().memoizedState = bv.bind(null, It) }, useEffectEvent: function (l) { var c = ts(), d = { impl: l }; return c.memoizedState = d, function () { if ((ui & 2) !== 0) throw Error(r(440)); return d.impl.apply(void 0, arguments) } } }, fu = { readContext: Yr, use: XA, useCallback: vv, useContext: Yr, useEffect: Hu, useImperativeHandle: hp, useInsertionEffect: tm, useLayoutEffect: gv, useMemo: yv, useReducer: Mu, useRef: Pu, useState: function () { return Mu(ms) }, useDebugValue: nm, useDeferredValue: function (l, c) { var d = zr(); return $d(d, Rt.memoizedState, l, c) }, useTransition: function () { var l = Mu(ms)[0], c = zr().memoizedState; return [typeof l == "boolean" ? l : iA(l), c] }, useSyncExternalStore: Du, useId: wv, useHostTransitionStatus: gp, useFormState: Sa, useActionState: Sa, useOptimistic: function (l, c) { var d = zr(); return Xd(d, Rt, l, c) }, useMemoCache: Il, useCacheRefresh: mp }; fu.useEffectEvent = em; var xv = { readContext: Yr, use: XA, useCallback: vv, useContext: Yr, useEffect: Hu, useImperativeHandle: hp, useInsertionEffect: tm, useLayoutEffect: gv, useMemo: yv, useReducer: Qu, useRef: Pu, useState: function () { return Qu(ms) }, useDebugValue: nm, useDeferredValue: function (l, c) { var d = zr(); return Rt === null ? ec(d, l, c) : $d(d, Rt.memoizedState, l, c) }, useTransition: function () { var l = Qu(ms)[0], c = zr().memoizedState; return [typeof l == "boolean" ? l : iA(l), c] }, useSyncExternalStore: Du, useId: wv, useHostTransitionStatus: gp, useFormState: oA, useActionState: oA, useOptimistic: function (l, c) { var d = zr(); return Rt !== null ? Xd(d, Rt, l, c) : (d.baseState = l, [l, d.queue.dispatch]) }, useMemoCache: Il, useCacheRefresh: mp }; xv.useEffectEvent = em; function du(l, c, d, v) { c = l.memoizedState, d = d(v, c), d = d == null ? c : h({}, c, d), l.memoizedState = d, l.lanes === 0 && (l.updateQueue.baseState = d) } var yp = { enqueueSetState: function (l, c, d) { l = l._reactInternals; var v = FA(), N = fn(v); N.payload = c, d != null && (N.callback = d), c = _n(l, N, v), c !== null && (dA(c, l, v), lr(c, l, v)) }, enqueueReplaceState: function (l, c, d) { l = l._reactInternals; var v = FA(), N = fn(v); N.tag = 1, N.payload = c, d != null && (N.callback = d), c = _n(l, N, v), c !== null && (dA(c, l, v), lr(c, l, v)) }, enqueueForceUpdate: function (l, c) { l = l._reactInternals; var d = FA(), v = fn(d); v.tag = 2, c != null && (v.callback = c), c = _n(l, v, d), c !== null && (dA(c, l, d), lr(c, l, d)) } }; function Uf(l, c, d, v, N, U, te) { return l = l.stateNode, typeof l.shouldComponentUpdate == "function" ? l.shouldComponentUpdate(v, U, te) : c.prototype && c.prototype.isPureReactComponent ? !ta(d, v) || !ta(N, U) : !0 } function ih(l, c, d, v) { l = c.state, typeof c.componentWillReceiveProps == "function" && c.componentWillReceiveProps(d, v), typeof c.UNSAFE_componentWillReceiveProps == "function" && c.UNSAFE_componentWillReceiveProps(d, v), c.state !== l && yp.enqueueReplaceState(c, c.state, null) } function _A(l, c) { var d = c; if ("ref" in c) { d = {}; for (var v in c) v !== "ref" && (d[v] = c[v]) } if (l = l.defaultProps) { d === c && (d = h({}, d)); for (var N in l) d[N] === void 0 && (d[N] = l[N]) } return d } function sm(l) { Ot(l) } function hu(l) { console.error(l) } function am(l) { Ot(l) } function sh(l, c) { try { var d = l.onUncaughtError; d(c.value, { componentStack: c.stack }) } catch (v) { setTimeout(function () { throw v }) } } function ju(l, c, d) { try { var v = l.onCaughtError; v(d.value, { componentStack: d.stack, errorBoundary: c.tag === 1 ? c.stateNode : null }) } catch (N) { setTimeout(function () { throw N }) } } function wp(l, c, d) { return d = fn(d), d.tag = 3, d.payload = { element: null }, d.callback = function () { sh(l, c) }, d } function ah(l) { return l = fn(l), l.tag = 3, l } function bp(l, c, d, v) { var N = d.type.getDerivedStateFromError; if (typeof N == "function") { var U = v.value; l.payload = function () { return N(U) }, l.callback = function () { ju(c, d, v) } } var te = d.stateNode; te !== null && typeof te.componentDidCatch == "function" && (l.callback = function () { ju(c, d, v), typeof N != "function" && (Df === null ? Df = new Set([this]) : Df.add(this)); var ve = v.stack; this.componentDidCatch(v.value, { componentStack: ve !== null ? ve : "" }) }) } function oh(l, c, d, v, N) { if (d.flags |= 32768, v !== null && typeof v == "object" && typeof v.then == "function") { if (c = d.alternate, c !== null && ss(c, d, N, !0), d = He.current, d !== null) { switch (d.tag) { case 31: case 13: return Oe === null ? Rv() : d.alternate === null && Gs === 0 && (Gs = 3), d.flags &= -257, d.flags |= 65536, d.lanes = N, v === Ke ? d.flags |= 16384 : (c = d.updateQueue, c === null ? d.updateQueue = new Set([v]) : c.add(v), p2(l, v, N)), !1; case 22: return d.flags |= 65536, v === Ke ? d.flags |= 16384 : (c = d.updateQueue, c === null ? (c = { transitions: null, markerInstances: null, retryQueue: new Set([v]) }, d.updateQueue = c) : (d = c.retryQueue, d === null ? c.retryQueue = new Set([v]) : d.add(v)), p2(l, v, N)), !1 }throw Error(r(435, d.tag)) } return p2(l, v, N), Rv(), !1 } if (Yn) return c = He.current, c !== null ? ((c.flags & 65536) === 0 && (c.flags |= 256), c.flags |= 65536, c.lanes = N, v !== Ba && (l = Error(r(422), { cause: v }), ll(zs(l, d)))) : (v !== Ba && (c = Error(r(423), { cause: v }), ll(zs(c, d))), l = l.current.alternate, l.flags |= 65536, N &= -N, l.lanes |= N, v = zs(v, d), N = wp(l.stateNode, v, N), Or(l, N), Gs !== 4 && (Gs = 2)), !1; var U = Error(r(520), { cause: v }); if (U = zs(U, d), vm === null ? vm = [U] : vm.push(U), Gs !== 4 && (Gs = 2), c === null) return !0; v = zs(v, d), d = c; do { switch (d.tag) { case 3: return d.flags |= 65536, l = N & -N, d.lanes |= l, l = wp(d.stateNode, v, l), Or(d, l), !1; case 1: if (c = d.type, U = d.stateNode, (d.flags & 128) === 0 && (typeof c.getDerivedStateFromError == "function" || U !== null && typeof U.componentDidCatch == "function" && (Df === null || !Df.has(U)))) return d.flags |= 65536, N &= -N, d.lanes |= N, N = ah(N), bp(N, l, d, v), Or(d, N), !1 }d = d.return } while (d !== null); return !1 } var om = Error(r(461)), Vs = !1; function _a(l, c, d, v) { c.child = l === null ? Hn(c, null, d, v) : wr(c, l.child, d, v) } function Of(l, c, d, v, N) { d = d.render; var U = c.ref; if ("ref" in v) { var te = {}; for (var ve in v) ve !== "ref" && (te[ve] = v[ve]) } else te = v; return Ca(c), v = vo(l, c, d, te, U, N), ve = EA(), l !== null && !Vs ? (Rl(l, c, N), hl(l, c, N)) : (Yn && ve && _c(c), c.flags |= 1, _a(l, c, v, N), c.child) } function Rf(l, c, d, v, N) { if (l === null) { var U = d.type; return typeof U == "function" && !or(U) && U.defaultProps === void 0 && d.compare === null ? (c.tag = 15, c.type = U, If(l, c, U, v, N)) : (l = li(d.type, null, v, c, c.mode, N), l.ref = c.ref, l.return = c, c.child = l) } if (U = l.child, !Ql(l, N)) { var te = U.memoizedProps; if (d = d.compare, d = d !== null ? d : ta, d(te, v) && l.ref === c.ref) return hl(l, c, N) } return c.flags |= 1, l = hi(U, v), l.ref = c.ref, l.return = c, c.child = l } function If(l, c, d, v, N) { if (l !== null) { var U = l.memoizedProps; if (ta(U, v) && l.ref === c.ref) if (Vs = !1, c.pendingProps = v = U, Ql(l, N)) (l.flags & 131072) !== 0 && (Vs = !0); else return c.lanes = l.lanes, hl(l, c, N) } return Ah(l, c, d, v, N) } function lh(l, c, d, v) { var N = v.children, U = l !== null ? l.memoizedState : null; if (l === null && c.stateNode === null && (c.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }), v.mode === "hidden") { if ((c.flags & 128) !== 0) { if (U = U !== null ? U.baseLanes | d : d, l !== null) { for (v = c.child = l.child, N = 0; v !== null;)N = N | v.lanes | v.childLanes, v = v.sibling; v = N & ~U } else v = 0, c.child = null; return Bv(l, c, U, d, v) } if ((d & 536870912) !== 0) c.memoizedState = { baseLanes: 0, cachePool: null }, l !== null && Ee(c, U !== null ? U.cachePool : null), U !== null ? Y(c, U) : ue(), nt(c); else return v = c.lanes = 536870912, Bv(l, c, U !== null ? U.baseLanes | d : d, d, v) } else U !== null ? (Ee(c, U.cachePool), Y(c, U), _t(), c.memoizedState = null) : (l !== null && Ee(c, null), ue(), _t()); return _a(l, c, N, d), c.child } function NA(l, c) { return l !== null && l.tag === 22 || c.stateNode !== null || (c.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }), c.sibling } function Bv(l, c, d, v, N) { var U = ye(); return U = U === null ? null : { parent: Ai._currentValue, pool: U }, c.memoizedState = { baseLanes: d, cachePool: U }, l !== null && Ee(c, null), ue(), nt(c), l !== null && ss(l, c, v, !0), c.childLanes = N, null } function Aa(l, c) { return c = dh({ mode: c.mode, children: c.children }, l.mode), c.ref = l.ref, l.child = c, c.return = l, c } function Na(l, c, d) { return wr(c, l.child, null, d), l = Aa(c, c.pendingProps), l.flags |= 2, St(c), c.memoizedState = null, l } function Cv(l, c, d) { var v = c.pendingProps, N = (c.flags & 128) !== 0; if (c.flags &= -129, l === null) { if (Yn) { if (v.mode === "hidden") return l = Aa(c, v), c.lanes = 536870912, NA(null, l); if (We(c), (l = ni) ? (l = Q_(l, Gr), l = l !== null && l.data === "&" ? l : null, l !== null && (c.memoizedState = { dehydrated: l, treeContext: aa !== null ? { id: Hr, overflow: gs } : null, retryLane: 536870912, hydrationErrors: null }, d = ps(l), d.return = c, c.child = d, Pi = c, ni = null)) : l = null, l === null) throw oa(c); return c.lanes = 536870912, null } return Aa(c, v) } var U = l.memoizedState; if (U !== null) { var te = U.dehydrated; if (We(c), N) if (c.flags & 256) c.flags &= -257, c = Na(l, c, d); else if (c.memoizedState !== null) c.child = l.child, c.flags |= 128, c = null; else throw Error(r(558)); else if (Vs || ss(l, c, d, !1), N = (d & l.childLanes) !== 0, Vs || N) { if (v = ji, v !== null && (te = Mr(v, d), te !== 0 && te !== U.retryLane)) throw U.retryLane = te, _r(l, te), dA(v, l, te), om; Rv(), c = Na(l, c, d) } else l = U.treeContext, ni = tc(te.nextSibling), Pi = c, Yn = !0, pi = null, Gr = !1, l !== null && Au(c, l), c = Aa(c, v), c.flags |= 4096; return c } return l = hi(l.child, { mode: v.mode, children: v.children }), l.ref = c.ref, c.child = l, l.return = c, l } function Rc(l, c) { var d = c.ref; if (d === null) l !== null && l.ref !== null && (c.flags |= 4194816); else { if (typeof d != "function" && typeof d != "object") throw Error(r(284)); (l === null || l.ref !== d) && (c.flags |= 4194816) } } function Ah(l, c, d, v, N) { return Ca(c), d = vo(l, c, d, v, void 0, N), v = EA(), l !== null && !Vs ? (Rl(l, c, N), hl(l, c, N)) : (Yn && v && _c(c), c.flags |= 1, _a(l, c, d, N), c.child) } function pu(l, c, d, v, N, U) { return Ca(c), c.updateQueue = null, d = es(c, v, d, N), $i(l), v = EA(), l !== null && !Vs ? (Rl(l, c, U), hl(l, c, U)) : (Yn && v && _c(c), c.flags |= 1, _a(l, c, d, U), c.child) } function xp(l, c, d, v, N) { if (Ca(c), c.stateNode === null) { var U = Rn, te = d.contextType; typeof te == "object" && te !== null && (U = Yr(te)), U = new d(v, U), c.memoizedState = U.state !== null && U.state !== void 0 ? U.state : null, U.updater = yp, c.stateNode = U, U._reactInternals = c, U = c.stateNode, U.props = v, U.state = c.memoizedState, U.refs = {}, Tt(c), te = d.contextType, U.context = typeof te == "object" && te !== null ? Yr(te) : Rn, U.state = c.memoizedState, te = d.getDerivedStateFromProps, typeof te == "function" && (du(c, d, te, v), U.state = c.memoizedState), typeof d.getDerivedStateFromProps == "function" || typeof U.getSnapshotBeforeUpdate == "function" || typeof U.UNSAFE_componentWillMount != "function" && typeof U.componentWillMount != "function" || (te = U.state, typeof U.componentWillMount == "function" && U.componentWillMount(), typeof U.UNSAFE_componentWillMount == "function" && U.UNSAFE_componentWillMount(), te !== U.state && yp.enqueueReplaceState(U, U.state, null), ci(c, v, U, N), Jr(), U.state = c.memoizedState), typeof U.componentDidMount == "function" && (c.flags |= 4194308), v = !0 } else if (l === null) { U = c.stateNode; var ve = c.memoizedProps, Le = _A(d, ve); U.props = Le; var it = U.context, mt = d.contextType; te = Rn, typeof mt == "object" && mt !== null && (te = Yr(mt)); var Et = d.getDerivedStateFromProps; mt = typeof Et == "function" || typeof U.getSnapshotBeforeUpdate == "function", ve = c.pendingProps !== ve, mt || typeof U.UNSAFE_componentWillReceiveProps != "function" && typeof U.componentWillReceiveProps != "function" || (ve || it !== te) && ih(c, U, v, te), Ht = !1; var ct = c.memoizedState; U.state = ct, ci(c, v, U, N), Jr(), it = c.memoizedState, ve || ct !== it || Ht ? (typeof Et == "function" && (du(c, d, Et, v), it = c.memoizedState), (Le = Ht || Uf(c, d, Le, v, ct, it, te)) ? (mt || typeof U.UNSAFE_componentWillMount != "function" && typeof U.componentWillMount != "function" || (typeof U.componentWillMount == "function" && U.componentWillMount(), typeof U.UNSAFE_componentWillMount == "function" && U.UNSAFE_componentWillMount()), typeof U.componentDidMount == "function" && (c.flags |= 4194308)) : (typeof U.componentDidMount == "function" && (c.flags |= 4194308), c.memoizedProps = v, c.memoizedState = it), U.props = v, U.state = it, U.context = te, v = Le) : (typeof U.componentDidMount == "function" && (c.flags |= 4194308), v = !1) } else { U = c.stateNode, Zr(l, c), te = c.memoizedProps, mt = _A(d, te), U.props = mt, Et = c.pendingProps, ct = U.context, it = d.contextType, Le = Rn, typeof it == "object" && it !== null && (Le = Yr(it)), ve = d.getDerivedStateFromProps, (it = typeof ve == "function" || typeof U.getSnapshotBeforeUpdate == "function") || typeof U.UNSAFE_componentWillReceiveProps != "function" && typeof U.componentWillReceiveProps != "function" || (te !== Et || ct !== Le) && ih(c, U, v, Le), Ht = !1, ct = c.memoizedState, U.state = ct, ci(c, v, U, N), Jr(); var dt = c.memoizedState; te !== Et || ct !== dt || Ht || l !== null && l.dependencies !== null && Yo(l.dependencies) ? (typeof ve == "function" && (du(c, d, ve, v), dt = c.memoizedState), (mt = Ht || Uf(c, d, mt, v, ct, dt, Le) || l !== null && l.dependencies !== null && Yo(l.dependencies)) ? (it || typeof U.UNSAFE_componentWillUpdate != "function" && typeof U.componentWillUpdate != "function" || (typeof U.componentWillUpdate == "function" && U.componentWillUpdate(v, dt, Le), typeof U.UNSAFE_componentWillUpdate == "function" && U.UNSAFE_componentWillUpdate(v, dt, Le)), typeof U.componentDidUpdate == "function" && (c.flags |= 4), typeof U.getSnapshotBeforeUpdate == "function" && (c.flags |= 1024)) : (typeof U.componentDidUpdate != "function" || te === l.memoizedProps && ct === l.memoizedState || (c.flags |= 4), typeof U.getSnapshotBeforeUpdate != "function" || te === l.memoizedProps && ct === l.memoizedState || (c.flags |= 1024), c.memoizedProps = v, c.memoizedState = dt), U.props = v, U.state = dt, U.context = Le, v = mt) : (typeof U.componentDidUpdate != "function" || te === l.memoizedProps && ct === l.memoizedState || (c.flags |= 4), typeof U.getSnapshotBeforeUpdate != "function" || te === l.memoizedProps && ct === l.memoizedState || (c.flags |= 1024), v = !1) } return U = v, Rc(l, c), v = (c.flags & 128) !== 0, U || v ? (U = c.stateNode, d = v && typeof d.getDerivedStateFromError != "function" ? null : U.render(), c.flags |= 1, l !== null && v ? (c.child = wr(c, l.child, null, N), c.child = wr(c, null, d, N)) : _a(l, c, d, N), c.memoizedState = U.state, l = c.child) : l = hl(l, c, N), l } function lm(l, c, d, v) { return po(), c.flags |= 256, _a(l, c, d, v), c.child } var Ic = { dehydrated: null, treeContext: null, retryLane: 0, hydrationErrors: null }; function ch(l) { return { baseLanes: l, cachePool: Se() } } function uh(l, c, d) { return l = l !== null ? l.childLanes & ~d : 0, c && (l |= TA), l } function Am(l, c, d) { var v = c.pendingProps, N = !1, U = (c.flags & 128) !== 0, te; if ((te = U) || (te = l !== null && l.memoizedState === null ? !1 : (zt.current & 2) !== 0), te && (N = !0, c.flags &= -129), te = (c.flags & 32) !== 0, c.flags &= -33, l === null) { if (Yn) { if (N ? je(c) : _t(), (l = ni) ? (l = Q_(l, Gr), l = l !== null && l.data !== "&" ? l : null, l !== null && (c.memoizedState = { dehydrated: l, treeContext: aa !== null ? { id: Hr, overflow: gs } : null, retryLane: 536870912, hydrationErrors: null }, d = ps(l), d.return = c, c.child = d, Pi = c, ni = null)) : l = null, l === null) throw oa(c); return F2(l) ? c.lanes = 32 : c.lanes = 536870912, null } var ve = v.children; return v = v.fallback, N ? (_t(), N = c.mode, ve = dh({ mode: "hidden", children: ve }, N), v = ti(v, N, d, null), ve.return = c, v.return = c, ve.sibling = v, c.child = ve, v = c.child, v.memoizedState = ch(d), v.childLanes = uh(l, te, d), c.memoizedState = Ic, NA(null, v)) : (je(c), fh(c, ve)) } var Le = l.memoizedState; if (Le !== null && (ve = Le.dehydrated, ve !== null)) { if (U) c.flags & 256 ? (je(c), c.flags &= -257, c = hh(l, c, d)) : c.memoizedState !== null ? (_t(), c.child = l.child, c.flags |= 128, c = null) : (_t(), ve = v.fallback, N = c.mode, v = dh({ mode: "visible", children: v.children }, N), ve = ti(ve, N, d, null), ve.flags |= 2, v.return = c, ve.return = c, v.sibling = ve, c.child = v, wr(c, l.child, null, d), v = c.child, v.memoizedState = ch(d), v.childLanes = uh(l, te, d), c.memoizedState = Ic, c = NA(null, v)); else if (je(c), F2(ve)) { if (te = ve.nextSibling && ve.nextSibling.dataset, te) var it = te.dgst; te = it, v = Error(r(419)), v.stack = "", v.digest = te, ll({ value: v, source: null, stack: null }), c = hh(l, c, d) } else if (Vs || ss(l, c, d, !1), te = (d & l.childLanes) !== 0, Vs || te) { if (te = ji, te !== null && (v = Mr(te, d), v !== 0 && v !== Le.retryLane)) throw Le.retryLane = v, _r(l, v), dA(te, l, v), om; T2(ve) || Rv(), c = hh(l, c, d) } else T2(ve) ? (c.flags |= 192, c.child = l.child, c = null) : (l = Le.treeContext, ni = tc(ve.nextSibling), Pi = c, Yn = !0, pi = null, Gr = !1, l !== null && Au(c, l), c = fh(c, v.children), c.flags |= 4096); return c } return N ? (_t(), ve = v.fallback, N = c.mode, Le = l.child, it = Le.sibling, v = hi(Le, { mode: "hidden", children: v.children }), v.subtreeFlags = Le.subtreeFlags & 65011712, it !== null ? ve = hi(it, ve) : (ve = ti(ve, N, d, null), ve.flags |= 2), ve.return = c, v.return = c, v.sibling = ve, c.child = v, NA(null, v), v = c.child, ve = l.child.memoizedState, ve === null ? ve = ch(d) : (N = ve.cachePool, N !== null ? (Le = Ai._currentValue, N = N.parent !== Le ? { parent: Le, pool: Le } : N) : N = Se(), ve = { baseLanes: ve.baseLanes | d, cachePool: N }), v.memoizedState = ve, v.childLanes = uh(l, te, d), c.memoizedState = Ic, NA(l.child, v)) : (je(c), d = l.child, l = d.sibling, d = hi(d, { mode: "visible", children: v.children }), d.return = c, d.sibling = null, l !== null && (te = c.deletions, te === null ? (c.deletions = [l], c.flags |= 16) : te.push(l)), c.child = d, c.memoizedState = null, d) } function fh(l, c) { return c = dh({ mode: "visible", children: c }, l.mode), c.return = l, l.child = c } function dh(l, c) { return l = Pr(22, l, null, c), l.lanes = 0, l } function hh(l, c, d) { return wr(c, l.child, null, d), l = fh(c, c.pendingProps.children), l.flags |= 2, c.memoizedState = null, l } function cm(l, c, d) { l.lanes |= c; var v = l.alternate; v !== null && (v.lanes |= c), Va(l.return, c, d) } function ph(l, c, d, v, N, U) { var te = l.memoizedState; te === null ? l.memoizedState = { isBackwards: c, rendering: null, renderingStartTime: 0, last: v, tail: d, tailMode: N, treeForkCount: U } : (te.isBackwards = c, te.rendering = null, te.renderingStartTime = 0, te.last = v, te.tail = d, te.tailMode = N, te.treeForkCount = U) } function um(l, c, d) { var v = c.pendingProps, N = v.revealOrder, U = v.tail; v = v.children; var te = zt.current, ve = (te & 2) !== 0; if (ve ? (te = te & 1 | 2, c.flags |= 128) : te &= 1, re(zt, te), _a(l, c, v, d), v = Yn ? sa : 0, !ve && l !== null && (l.flags & 128) !== 0) e: for (l = c.child; l !== null;) { if (l.tag === 13) l.memoizedState !== null && cm(l, d, c); else if (l.tag === 19) cm(l, d, c); else if (l.child !== null) { l.child.return = l, l = l.child; continue } if (l === c) break e; for (; l.sibling === null;) { if (l.return === null || l.return === c) break e; l = l.return } l.sibling.return = l.return, l = l.sibling } switch (N) { case "forwards": for (d = c.child, N = null; d !== null;)l = d.alternate, l !== null && gn(l) === null && (N = d), d = d.sibling; d = N, d === null ? (N = c.child, c.child = null) : (N = d.sibling, d.sibling = null), ph(c, !1, N, d, U, v); break; case "backwards": case "unstable_legacy-backwards": for (d = null, N = c.child, c.child = null; N !== null;) { if (l = N.alternate, l !== null && gn(l) === null) { c.child = N; break } l = N.sibling, N.sibling = d, d = N, N = l } ph(c, !0, d, null, U, v); break; case "together": ph(c, !1, null, null, void 0, v); break; default: c.memoizedState = null }return c.child } function hl(l, c, d) { if (l !== null && (c.dependencies = l.dependencies), Qf |= c.lanes, (d & c.childLanes) === 0) if (l !== null) { if (ss(l, c, d, !1), (d & c.childLanes) === 0) return null } else return null; if (l !== null && c.child !== l.child) throw Error(r(153)); if (c.child !== null) { for (l = c.child, d = hi(l, l.pendingProps), c.child = d, d.return = c; l.sibling !== null;)l = l.sibling, d = d.sibling = hi(l, l.pendingProps), d.return = c; d.sibling = null } return c.child } function Ql(l, c) { return (l.lanes & c) !== 0 ? !0 : (l = l.dependencies, !!(l !== null && Yo(l))) } function Ev(l, c, d) { switch (c.tag) { case 3: Re(c, c.stateNode.containerInfo), la(c, Ai, l.memoizedState.cache), po(); break; case 27: case 5: Ye(c); break; case 4: Re(c, c.stateNode.containerInfo); break; case 10: la(c, c.type, c.memoizedProps.value); break; case 31: if (c.memoizedState !== null) return c.flags |= 128, We(c), null; break; case 13: var v = c.memoizedState; if (v !== null) return v.dehydrated !== null ? (je(c), c.flags |= 128, null) : (d & c.child.childLanes) !== 0 ? Am(l, c, d) : (je(c), l = hl(l, c, d), l !== null ? l.sibling : null); je(c); break; case 19: var N = (l.flags & 128) !== 0; if (v = (d & c.childLanes) !== 0, v || (ss(l, c, d, !1), v = (d & c.childLanes) !== 0), N) { if (v) return um(l, c, d); c.flags |= 128 } if (N = c.memoizedState, N !== null && (N.rendering = null, N.tail = null, N.lastEffect = null), re(zt, zt.current), v) break; return null; case 22: return c.lanes = 0, lh(l, c, d, c.pendingProps); case 24: la(c, Ai, l.memoizedState.cache) }return hl(l, c, d) } function OS(l, c, d) { if (l !== null) if (l.memoizedProps !== c.pendingProps) Vs = !0; else { if (!Ql(l, d) && (c.flags & 128) === 0) return Vs = !1, Ev(l, c, d); Vs = (l.flags & 131072) !== 0 } else Vs = !1, Yn && (c.flags & 1048576) !== 0 && lu(c, sa, c.index); switch (c.lanes = 0, c.tag) { case 16: e: { var v = c.pendingProps; if (l = qe(c.elementType), c.type = l, typeof l == "function") or(l) ? (v = _A(l, v), c.tag = 1, c = xp(null, c, l, v, d)) : (c.tag = 0, c = Ah(null, c, l, v, d)); else { if (l != null) { var N = l.$$typeof; if (N === D) { c.tag = 11, c = Of(null, c, l, v, d); break e } else if (N === q) { c.tag = 14, c = Rf(null, c, l, v, d); break e } } throw c = M(l) || l, Error(r(306, c, "")) } } return c; case 0: return Ah(l, c, c.type, c.pendingProps, d); case 1: return v = c.type, N = _A(v, c.pendingProps), xp(l, c, v, N, d); case 3: e: { if (Re(c, c.stateNode.containerInfo), l === null) throw Error(r(387)); v = c.pendingProps; var U = c.memoizedState; N = U.element, Zr(l, c), ci(c, v, null, d); var te = c.memoizedState; if (v = te.cache, la(c, Ai, v), v !== U.cache && cl(c, [Ai], d, !0), Jr(), v = te.element, U.isDehydrated) if (U = { element: v, isDehydrated: !1, cache: te.cache }, c.updateQueue.baseState = U, c.memoizedState = U, c.flags & 256) { c = lm(l, c, v, d); break e } else if (v !== N) { N = zs(Error(r(424)), c), ll(N), c = lm(l, c, v, d); break e } else { switch (l = c.stateNode.containerInfo, l.nodeType) { case 9: l = l.body; break; default: l = l.nodeName === "HTML" ? l.ownerDocument.body : l }for (ni = tc(l.firstChild), Pi = c, Yn = !0, pi = null, Gr = !0, d = Hn(c, null, v, d), c.child = d; d;)d.flags = d.flags & -3 | 4096, d = d.sibling } else { if (po(), v === N) { c = hl(l, c, d); break e } _a(l, c, v, d) } c = c.child } return c; case 26: return Rc(l, c), l === null ? (d = K_(c.type, null, c.pendingProps, null)) ? c.memoizedState = d : Yn || (d = c.type, l = c.pendingProps, v = Hv(de.current).createElement(d), v[Kr] = c, v[fi] = l, Jo(v, d, l), Si(v), c.stateNode = v) : c.memoizedState = K_(c.type, l.memoizedProps, c.pendingProps, l.memoizedState), null; case 27: return Ye(c), l === null && Yn && (v = c.stateNode = H_(c.type, c.pendingProps, de.current), Pi = c, Gr = !0, N = ni, zf(c.type) ? (U2 = N, ni = tc(v.firstChild)) : ni = N), _a(l, c, c.pendingProps.children, d), Rc(l, c), l === null && (c.flags |= 4194304), c.child; case 5: return l === null && Yn && ((N = v = ni) && (v = s8(v, c.type, c.pendingProps, Gr), v !== null ? (c.stateNode = v, Pi = c, ni = tc(v.firstChild), Gr = !1, N = !0) : N = !1), N || oa(c)), Ye(c), N = c.type, U = c.pendingProps, te = l !== null ? l.memoizedProps : null, v = U.children, _2(N, U) ? v = null : te !== null && _2(N, te) && (c.flags |= 32), c.memoizedState !== null && (N = vo(l, c, Fc, null, null, d), Sm._currentValue = N), Rc(l, c), _a(l, c, v, d), c.child; case 6: return l === null && Yn && ((l = d = ni) && (d = a8(d, c.pendingProps, Gr), d !== null ? (c.stateNode = d, Pi = c, ni = null, l = !0) : l = !1), l || oa(c)), null; case 13: return Am(l, c, d); case 4: return Re(c, c.stateNode.containerInfo), v = c.pendingProps, l === null ? c.child = wr(c, null, v, d) : _a(l, c, v, d), c.child; case 11: return Of(l, c, c.type, c.pendingProps, d); case 7: return _a(l, c, c.pendingProps, d), c.child; case 8: return _a(l, c, c.pendingProps.children, d), c.child; case 12: return _a(l, c, c.pendingProps.children, d), c.child; case 10: return v = c.pendingProps, la(c, c.type, v.value), _a(l, c, v.children, d), c.child; case 9: return N = c.type._context, v = c.pendingProps.children, Ca(c), N = Yr(N), v = v(N), c.flags |= 1, _a(l, c, v, d), c.child; case 14: return Rf(l, c, c.type, c.pendingProps, d); case 15: return If(l, c, c.type, c.pendingProps, d); case 19: return um(l, c, d); case 31: return Cv(l, c, d); case 22: return lh(l, c, d, c.pendingProps); case 24: return Ca(c), v = Yr(Ai), l === null ? (N = ye(), N === null && (N = ji, U = CA(), N.pooledCache = U, U.refCount++, U !== null && (N.pooledCacheLanes |= d), N = U), c.memoizedState = { parent: v, cache: N }, Tt(c), la(c, Ai, N)) : ((l.lanes & d) !== 0 && (Zr(l, c), ci(c, null, null, d), Jr()), N = l.memoizedState, U = c.memoizedState, N.parent !== v ? (N = { parent: v, cache: v }, c.memoizedState = N, c.lanes === 0 && (c.memoizedState = c.updateQueue.baseState = N), la(c, Ai, v)) : (v = U.cache, la(c, Ai, v), v !== N.cache && cl(c, [Ai], d, !0))), _a(l, c, c.pendingProps.children, d), c.child; case 29: throw c.pendingProps }throw Error(r(156, c.tag)) } function zu(l) { l.flags |= 4 } function e2(l, c, d, v, N) { if ((c = (l.mode & 32) !== 0) && (c = !1), c) { if (l.flags |= 16777216, (N & 335544128) === N) if (l.stateNode.complete) l.flags |= 8192; else if (a_()) l.flags |= 8192; else throw ut = Ke, et } else l.flags &= -16777217 } function RS(l, c) { if (c.type !== "stylesheet" || (c.state.loading & 4) !== 0) l.flags &= -16777217; else if (l.flags |= 16777216, !J_(c)) if (a_()) l.flags |= 8192; else throw ut = Ke, et } function Sv(l, c) { c !== null && (l.flags |= 4), l.flags & 16384 && (c = l.tag !== 22 ? So() : 536870912, l.lanes |= c, Sp |= c) } function fm(l, c) { if (!Yn) switch (l.tailMode) { case "hidden": c = l.tail; for (var d = null; c !== null;)c.alternate !== null && (d = c), c = c.sibling; d === null ? l.tail = null : d.sibling = null; break; case "collapsed": d = l.tail; for (var v = null; d !== null;)d.alternate !== null && (v = d), d = d.sibling; v === null ? c || l.tail === null ? l.tail = null : l.tail.sibling = null : v.sibling = null } } function as(l) { var c = l.alternate !== null && l.alternate.child === l.child, d = 0, v = 0; if (c) for (var N = l.child; N !== null;)d |= N.lanes | N.childLanes, v |= N.subtreeFlags & 65011712, v |= N.flags & 65011712, N.return = l, N = N.sibling; else for (N = l.child; N !== null;)d |= N.lanes | N.childLanes, v |= N.subtreeFlags, v |= N.flags, N.return = l, N = N.sibling; return l.subtreeFlags |= v, l.childLanes = d, c } function TD(l, c, d) { var v = c.pendingProps; switch (Nc(c), c.tag) { case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return as(c), null; case 1: return as(c), null; case 3: return d = c.stateNode, v = null, l !== null && (v = l.memoizedState.cache), c.memoizedState.cache !== v && (c.flags |= 2048), Fs(Ai), Ie(), d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null), (l === null || l.child === null) && (Hi(c) ? zu(c) : l === null || l.memoizedState.isDehydrated && (c.flags & 256) === 0 || (c.flags |= 1024, nA())), as(c), null; case 26: var N = c.type, U = c.memoizedState; return l === null ? (zu(c), U !== null ? (as(c), RS(c, U)) : (as(c), e2(c, N, null, v, d))) : U ? U !== l.memoizedState ? (zu(c), as(c), RS(c, U)) : (as(c), c.flags &= -16777217) : (l = l.memoizedProps, l !== v && zu(c), as(c), e2(c, N, l, v, d)), null; case 27: if ($e(c), d = de.current, N = c.type, l !== null && c.stateNode != null) l.memoizedProps !== v && zu(c); else { if (!v) { if (c.stateNode === null) throw Error(r(166)); return as(c), null } l = ie.current, Hi(c) ? kc(c) : (l = H_(N, v, d), c.stateNode = l, zu(c)) } return as(c), null; case 5: if ($e(c), N = c.type, l !== null && c.stateNode != null) l.memoizedProps !== v && zu(c); else { if (!v) { if (c.stateNode === null) throw Error(r(166)); return as(c), null } if (U = ie.current, Hi(c)) kc(c); else { var te = Hv(de.current); switch (U) { case 1: U = te.createElementNS("http://www.w3.org/2000/svg", N); break; case 2: U = te.createElementNS("http://www.w3.org/1998/Math/MathML", N); break; default: switch (N) { case "svg": U = te.createElementNS("http://www.w3.org/2000/svg", N); break; case "math": U = te.createElementNS("http://www.w3.org/1998/Math/MathML", N); break; case "script": U = te.createElement("div"), U.innerHTML = "<script><\/script>", U = U.removeChild(U.firstChild); break; case "select": U = typeof v.is == "string" ? te.createElement("select", { is: v.is }) : te.createElement("select"), v.multiple ? U.multiple = !0 : v.size && (U.size = v.size); break; default: U = typeof v.is == "string" ? te.createElement(N, { is: v.is }) : te.createElement(N) } }U[Kr] = c, U[fi] = v; e: for (te = c.child; te !== null;) { if (te.tag === 5 || te.tag === 6) U.appendChild(te.stateNode); else if (te.tag !== 4 && te.tag !== 27 && te.child !== null) { te.child.return = te, te = te.child; continue } if (te === c) break e; for (; te.sibling === null;) { if (te.return === null || te.return === c) break e; te = te.return } te.sibling.return = te.return, te = te.sibling } c.stateNode = U; e: switch (Jo(U, N, v), N) { case "button": case "input": case "select": case "textarea": v = !!v.autoFocus; break e; case "img": v = !0; break e; default: v = !1 }v && zu(c) } } return as(c), e2(c, c.type, l === null ? null : l.memoizedProps, c.pendingProps, d), null; case 6: if (l && c.stateNode != null) l.memoizedProps !== v && zu(c); else { if (typeof v != "string" && c.stateNode === null) throw Error(r(166)); if (l = de.current, Hi(c)) { if (l = c.stateNode, d = c.memoizedProps, v = null, N = Pi, N !== null) switch (N.tag) { case 27: case 5: v = N.memoizedProps }l[Kr] = c, l = !!(l.nodeValue === d || v !== null && v.suppressHydrationWarning === !0 || T_(l.nodeValue, d)), l || oa(c, !0) } else l = Hv(l).createTextNode(v), l[Kr] = c, c.stateNode = l } return as(c), null; case 31: if (d = c.memoizedState, l === null || l.memoizedState !== null) { if (v = Hi(c), d !== null) { if (l === null) { if (!v) throw Error(r(318)); if (l = c.memoizedState, l = l !== null ? l.dehydrated : null, !l) throw Error(r(557)); l[Kr] = c } else po(), (c.flags & 128) === 0 && (c.memoizedState = null), c.flags |= 4; as(c), l = !1 } else d = nA(), l !== null && l.memoizedState !== null && (l.memoizedState.hydrationErrors = d), l = !0; if (!l) return c.flags & 256 ? (St(c), c) : (St(c), null); if ((c.flags & 128) !== 0) throw Error(r(558)) } return as(c), null; case 13: if (v = c.memoizedState, l === null || l.memoizedState !== null && l.memoizedState.dehydrated !== null) { if (N = Hi(c), v !== null && v.dehydrated !== null) { if (l === null) { if (!N) throw Error(r(318)); if (N = c.memoizedState, N = N !== null ? N.dehydrated : null, !N) throw Error(r(317)); N[Kr] = c } else po(), (c.flags & 128) === 0 && (c.memoizedState = null), c.flags |= 4; as(c), N = !1 } else N = nA(), l !== null && l.memoizedState !== null && (l.memoizedState.hydrationErrors = N), N = !0; if (!N) return c.flags & 256 ? (St(c), c) : (St(c), null) } return St(c), (c.flags & 128) !== 0 ? (c.lanes = d, c) : (d = v !== null, l = l !== null && l.memoizedState !== null, d && (v = c.child, N = null, v.alternate !== null && v.alternate.memoizedState !== null && v.alternate.memoizedState.cachePool !== null && (N = v.alternate.memoizedState.cachePool.pool), U = null, v.memoizedState !== null && v.memoizedState.cachePool !== null && (U = v.memoizedState.cachePool.pool), U !== N && (v.flags |= 2048)), d !== l && d && (c.child.flags |= 8192), Sv(c, c.updateQueue), as(c), null); case 4: return Ie(), l === null && x2(c.stateNode.containerInfo), as(c), null; case 10: return Fs(c.type), as(c), null; case 19: if (L(zt), v = c.memoizedState, v === null) return as(c), null; if (N = (c.flags & 128) !== 0, U = v.rendering, U === null) if (N) fm(v, !1); else { if (Gs !== 0 || l !== null && (l.flags & 128) !== 0) for (l = c.child; l !== null;) { if (U = gn(l), U !== null) { for (c.flags |= 128, fm(v, !1), l = U.updateQueue, c.updateQueue = l, Sv(c, l), c.subtreeFlags = 0, l = d, d = c.child; d !== null;)yr(d, l), d = d.sibling; return re(zt, zt.current & 1 | 2), Yn && Ts(c, v.treeForkCount), c.child } l = l.sibling } v.tail !== null && Bt() > Fv && (c.flags |= 128, N = !0, fm(v, !1), c.lanes = 4194304) } else { if (!N) if (l = gn(U), l !== null) { if (c.flags |= 128, N = !0, l = l.updateQueue, c.updateQueue = l, Sv(c, l), fm(v, !0), v.tail === null && v.tailMode === "hidden" && !U.alternate && !Yn) return as(c), null } else 2 * Bt() - v.renderingStartTime > Fv && d !== 536870912 && (c.flags |= 128, N = !0, fm(v, !1), c.lanes = 4194304); v.isBackwards ? (U.sibling = c.child, c.child = U) : (l = v.last, l !== null ? l.sibling = U : c.child = U, v.last = U) } return v.tail !== null ? (l = v.tail, v.rendering = l, v.tail = l.sibling, v.renderingStartTime = Bt(), l.sibling = null, d = zt.current, re(zt, N ? d & 1 | 2 : d & 1), Yn && Ts(c, v.treeForkCount), l) : (as(c), null); case 22: case 23: return St(c), xe(), v = c.memoizedState !== null, l !== null ? l.memoizedState !== null !== v && (c.flags |= 8192) : v && (c.flags |= 8192), v ? (d & 536870912) !== 0 && (c.flags & 128) === 0 && (as(c), c.subtreeFlags & 6 && (c.flags |= 8192)) : as(c), d = c.updateQueue, d !== null && Sv(c, d.retryQueue), d = null, l !== null && l.memoizedState !== null && l.memoizedState.cachePool !== null && (d = l.memoizedState.cachePool.pool), v = null, c.memoizedState !== null && c.memoizedState.cachePool !== null && (v = c.memoizedState.cachePool.pool), v !== d && (c.flags |= 2048), l !== null && L(ge), null; case 24: return d = null, l !== null && (d = l.memoizedState.cache), c.memoizedState.cache !== d && (c.flags |= 2048), Fs(Ai), as(c), null; case 25: return null; case 30: return null }throw Error(r(156, c.tag)) } function FD(l, c) { switch (Nc(c), c.tag) { case 1: return l = c.flags, l & 65536 ? (c.flags = l & -65537 | 128, c) : null; case 3: return Fs(Ai), Ie(), l = c.flags, (l & 65536) !== 0 && (l & 128) === 0 ? (c.flags = l & -65537 | 128, c) : null; case 26: case 27: case 5: return $e(c), null; case 31: if (c.memoizedState !== null) { if (St(c), c.alternate === null) throw Error(r(340)); po() } return l = c.flags, l & 65536 ? (c.flags = l & -65537 | 128, c) : null; case 13: if (St(c), l = c.memoizedState, l !== null && l.dehydrated !== null) { if (c.alternate === null) throw Error(r(340)); po() } return l = c.flags, l & 65536 ? (c.flags = l & -65537 | 128, c) : null; case 19: return L(zt), null; case 4: return Ie(), null; case 10: return Fs(c.type), null; case 22: case 23: return St(c), xe(), l !== null && L(ge), l = c.flags, l & 65536 ? (c.flags = l & -65537 | 128, c) : null; case 24: return Fs(Ai), null; case 25: return null; default: return null } } function IS(l, c) { switch (Nc(c), c.tag) { case 3: Fs(Ai), Ie(); break; case 26: case 27: case 5: $e(c); break; case 4: Ie(); break; case 31: c.memoizedState !== null && St(c); break; case 13: St(c); break; case 19: L(zt); break; case 10: Fs(c.type); break; case 22: case 23: St(c), xe(), l !== null && L(ge); break; case 24: Fs(Ai) } } function dm(l, c) { try { var d = c.updateQueue, v = d !== null ? d.lastEffect : null; if (v !== null) { var N = v.next; d = N; do { if ((d.tag & l) === l) { v = void 0; var U = d.create, te = d.inst; v = U(), te.destroy = v } d = d.next } while (d !== N) } } catch (ve) { Bi(c, c.return, ve) } } function Lf(l, c, d) { try { var v = c.updateQueue, N = v !== null ? v.lastEffect : null; if (N !== null) { var U = N.next; v = U; do { if ((v.tag & l) === l) { var te = v.inst, ve = te.destroy; if (ve !== void 0) { te.destroy = void 0, N = c; var Le = d, it = ve; try { it() } catch (mt) { Bi(N, Le, mt) } } } v = v.next } while (v !== U) } } catch (mt) { Bi(c, c.return, mt) } } function LS(l) { var c = l.updateQueue; if (c !== null) { var d = l.stateNode; try { B(c, d) } catch (v) { Bi(l, l.return, v) } } } function MS(l, c, d) { d.props = _A(l.type, l.memoizedProps), d.state = l.memoizedState; try { d.componentWillUnmount() } catch (v) { Bi(l, c, v) } } function hm(l, c) { try { var d = l.ref; if (d !== null) { switch (l.tag) { case 26: case 27: case 5: var v = l.stateNode; break; case 30: v = l.stateNode; break; default: v = l.stateNode }typeof d == "function" ? l.refCleanup = d(v) : d.current = v } } catch (N) { Bi(l, c, N) } } function gu(l, c) { var d = l.ref, v = l.refCleanup; if (d !== null) if (typeof v == "function") try { v() } catch (N) { Bi(l, c, N) } finally { l.refCleanup = null, l = l.alternate, l != null && (l.refCleanup = null) } else if (typeof d == "function") try { d(null) } catch (N) { Bi(l, c, N) } else d.current = null } function QS(l) { var c = l.type, d = l.memoizedProps, v = l.stateNode; try { e: switch (c) { case "button": case "input": case "select": case "textarea": d.autoFocus && v.focus(); break e; case "img": d.src ? v.src = d.src : d.srcSet && (v.srcset = d.srcSet) } } catch (N) { Bi(l, l.return, N) } } function t2(l, c, d) { try { var v = l.stateNode; $D(v, l.type, d, c), v[fi] = c } catch (N) { Bi(l, l.return, N) } } function DS(l) { return l.tag === 5 || l.tag === 3 || l.tag === 26 || l.tag === 27 && zf(l.type) || l.tag === 4 } function n2(l) { e: for (; ;) { for (; l.sibling === null;) { if (l.return === null || DS(l.return)) return null; l = l.return } for (l.sibling.return = l.return, l = l.sibling; l.tag !== 5 && l.tag !== 6 && l.tag !== 18;) { if (l.tag === 27 && zf(l.type) || l.flags & 2 || l.child === null || l.tag === 4) continue e; l.child.return = l, l = l.child } if (!(l.flags & 2)) return l.stateNode } } function r2(l, c, d) { var v = l.tag; if (v === 5 || v === 6) l = l.stateNode, c ? (d.nodeType === 9 ? d.body : d.nodeName === "HTML" ? d.ownerDocument.body : d).insertBefore(l, c) : (c = d.nodeType === 9 ? d.body : d.nodeName === "HTML" ? d.ownerDocument.body : d, c.appendChild(l), d = d._reactRootContainer, d != null || c.onclick !== null || (c.onclick = Fo)); else if (v !== 4 && (v === 27 && zf(l.type) && (d = l.stateNode, c = null), l = l.child, l !== null)) for (r2(l, c, d), l = l.sibling; l !== null;)r2(l, c, d), l = l.sibling } function _v(l, c, d) { var v = l.tag; if (v === 5 || v === 6) l = l.stateNode, c ? d.insertBefore(l, c) : d.appendChild(l); else if (v !== 4 && (v === 27 && zf(l.type) && (d = l.stateNode), l = l.child, l !== null)) for (_v(l, c, d), l = l.sibling; l !== null;)_v(l, c, d), l = l.sibling } function PS(l) { var c = l.stateNode, d = l.memoizedProps; try { for (var v = l.type, N = c.attributes; N.length;)c.removeAttributeNode(N[0]); Jo(c, v, d), c[Kr] = l, c[fi] = d } catch (U) { Bi(l, l.return, U) } } var Ku = !1, ka = !1, i2 = !1, HS = typeof WeakSet == "function" ? WeakSet : Set, wo = null; function UD(l, c) { if (l = l.containerInfo, E2 = Yv, l = Vo(l), Go(l)) { if ("selectionStart" in l) var d = { start: l.selectionStart, end: l.selectionEnd }; else e: { d = (d = l.ownerDocument) && d.defaultView || window; var v = d.getSelection && d.getSelection(); if (v && v.rangeCount !== 0) { d = v.anchorNode; var N = v.anchorOffset, U = v.focusNode; v = v.focusOffset; try { d.nodeType, U.nodeType } catch { d = null; break e } var te = 0, ve = -1, Le = -1, it = 0, mt = 0, Et = l, ct = null; t: for (; ;) { for (var dt; Et !== d || N !== 0 && Et.nodeType !== 3 || (ve = te + N), Et !== U || v !== 0 && Et.nodeType !== 3 || (Le = te + v), Et.nodeType === 3 && (te += Et.nodeValue.length), (dt = Et.firstChild) !== null;)ct = Et, Et = dt; for (; ;) { if (Et === l) break t; if (ct === d && ++it === N && (ve = te), ct === U && ++mt === v && (Le = te), (dt = Et.nextSibling) !== null) break; Et = ct, ct = Et.parentNode } Et = dt } d = ve === -1 || Le === -1 ? null : { start: ve, end: Le } } else d = null } d = d || { start: 0, end: 0 } } else d = null; for (S2 = { focusedElem: l, selectionRange: d }, Yv = !1, wo = c; wo !== null;)if (c = wo, l = c.child, (c.subtreeFlags & 1028) !== 0 && l !== null) l.return = c, wo = l; else for (; wo !== null;) { switch (c = wo, U = c.alternate, l = c.flags, c.tag) { case 0: if ((l & 4) !== 0 && (l = c.updateQueue, l = l !== null ? l.events : null, l !== null)) for (d = 0; d < l.length; d++)N = l[d], N.ref.impl = N.nextImpl; break; case 11: case 15: break; case 1: if ((l & 1024) !== 0 && U !== null) { l = void 0, d = c, N = U.memoizedProps, U = U.memoizedState, v = d.stateNode; try { var an = _A(d.type, N); l = v.getSnapshotBeforeUpdate(an, U), v.__reactInternalSnapshotBeforeUpdate = l } catch (Qn) { Bi(d, d.return, Qn) } } break; case 3: if ((l & 1024) !== 0) { if (l = c.stateNode.containerInfo, d = l.nodeType, d === 9) k2(l); else if (d === 1) switch (l.nodeName) { case "HEAD": case "HTML": case "BODY": k2(l); break; default: l.textContent = "" } } break; case 5: case 26: case 27: case 6: case 4: case 17: break; default: if ((l & 1024) !== 0) throw Error(r(163)) }if (l = c.sibling, l !== null) { l.return = c.return, wo = l; break } wo = c.return } } function jS(l, c, d) { var v = d.flags; switch (d.tag) { case 0: case 11: case 15: Gu(l, d), v & 4 && dm(5, d); break; case 1: if (Gu(l, d), v & 4) if (l = d.stateNode, c === null) try { l.componentDidMount() } catch (te) { Bi(d, d.return, te) } else { var N = _A(d.type, c.memoizedProps); c = c.memoizedState; try { l.componentDidUpdate(N, c, l.__reactInternalSnapshotBeforeUpdate) } catch (te) { Bi(d, d.return, te) } } v & 64 && LS(d), v & 512 && hm(d, d.return); break; case 3: if (Gu(l, d), v & 64 && (l = d.updateQueue, l !== null)) { if (c = null, d.child !== null) switch (d.child.tag) { case 27: case 5: c = d.child.stateNode; break; case 1: c = d.child.stateNode }try { B(l, c) } catch (te) { Bi(d, d.return, te) } } break; case 27: c === null && v & 4 && PS(d); case 26: case 5: Gu(l, d), c === null && v & 4 && QS(d), v & 512 && hm(d, d.return); break; case 12: Gu(l, d); break; case 31: Gu(l, d), v & 4 && VS(l, d); break; case 13: Gu(l, d), v & 4 && GS(l, d), v & 64 && (l = d.memoizedState, l !== null && (l = l.dehydrated, l !== null && (d = HD.bind(null, d), o8(l, d)))); break; case 22: if (v = d.memoizedState !== null || Ku, !v) { c = c !== null && c.memoizedState !== null || ka, N = Ku; var U = ka; Ku = v, (ka = c) && !U ? Wu(l, d, (d.subtreeFlags & 8772) !== 0) : Gu(l, d), Ku = N, ka = U } break; case 30: break; default: Gu(l, d) } } function zS(l) { var c = l.alternate; c !== null && (l.alternate = null, zS(c)), l.child = null, l.deletions = null, l.sibling = null, l.tag === 5 && (c = l.stateNode, c !== null && $a(c)), l.stateNode = null, l.return = null, l.dependencies = null, l.memoizedProps = null, l.memoizedState = null, l.pendingProps = null, l.stateNode = null, l.updateQueue = null } var vs = null, AA = !1; function Vu(l, c, d) { for (d = d.child; d !== null;)KS(l, c, d), d = d.sibling } function KS(l, c, d) { if (nn && typeof nn.onCommitFiberUnmount == "function") try { nn.onCommitFiberUnmount(en, d) } catch { } switch (d.tag) { case 26: ka || gu(d, c), Vu(l, c, d), d.memoizedState ? d.memoizedState.count-- : d.stateNode && (d = d.stateNode, d.parentNode.removeChild(d)); break; case 27: ka || gu(d, c); var v = vs, N = AA; zf(d.type) && (vs = d.stateNode, AA = !1), Vu(l, c, d), Bm(d.stateNode), vs = v, AA = N; break; case 5: ka || gu(d, c); case 6: if (v = vs, N = AA, vs = null, Vu(l, c, d), vs = v, AA = N, vs !== null) if (AA) try { (vs.nodeType === 9 ? vs.body : vs.nodeName === "HTML" ? vs.ownerDocument.body : vs).removeChild(d.stateNode) } catch (U) { Bi(d, c, U) } else try { vs.removeChild(d.stateNode) } catch (U) { Bi(d, c, U) } break; case 18: vs !== null && (AA ? (l = vs, L_(l.nodeType === 9 ? l.body : l.nodeName === "HTML" ? l.ownerDocument.body : l, d.stateNode), Rp(l)) : L_(vs, d.stateNode)); break; case 4: v = vs, N = AA, vs = d.stateNode.containerInfo, AA = !0, Vu(l, c, d), vs = v, AA = N; break; case 0: case 11: case 14: case 15: Lf(2, d, c), ka || Lf(4, d, c), Vu(l, c, d); break; case 1: ka || (gu(d, c), v = d.stateNode, typeof v.componentWillUnmount == "function" && MS(d, c, v)), Vu(l, c, d); break; case 21: Vu(l, c, d); break; case 22: ka = (v = ka) || d.memoizedState !== null, Vu(l, c, d), ka = v; break; default: Vu(l, c, d) } } function VS(l, c) { if (c.memoizedState === null && (l = c.alternate, l !== null && (l = l.memoizedState, l !== null))) { l = l.dehydrated; try { Rp(l) } catch (d) { Bi(c, c.return, d) } } } function GS(l, c) { if (c.memoizedState === null && (l = c.alternate, l !== null && (l = l.memoizedState, l !== null && (l = l.dehydrated, l !== null)))) try { Rp(l) } catch (d) { Bi(c, c.return, d) } } function OD(l) { switch (l.tag) { case 31: case 13: case 19: var c = l.stateNode; return c === null && (c = l.stateNode = new HS), c; case 22: return l = l.stateNode, c = l._retryCache, c === null && (c = l._retryCache = new HS), c; default: throw Error(r(435, l.tag)) } } function Nv(l, c) { var d = OD(l); c.forEach(function (v) { if (!d.has(v)) { d.add(v); var N = jD.bind(null, l, v); v.then(N, N) } }) } function cA(l, c) { var d = c.deletions; if (d !== null) for (var v = 0; v < d.length; v++) { var N = d[v], U = l, te = c, ve = te; e: for (; ve !== null;) { switch (ve.tag) { case 27: if (zf(ve.type)) { vs = ve.stateNode, AA = !1; break e } break; case 5: vs = ve.stateNode, AA = !1; break e; case 3: case 4: vs = ve.stateNode.containerInfo, AA = !0; break e }ve = ve.return } if (vs === null) throw Error(r(160)); KS(U, te, N), vs = null, AA = !1, U = N.alternate, U !== null && (U.return = null), N.return = null } if (c.subtreeFlags & 13886) for (c = c.child; c !== null;)WS(c, l), c = c.sibling } var Lc = null; function WS(l, c) { var d = l.alternate, v = l.flags; switch (l.tag) { case 0: case 11: case 14: case 15: cA(c, l), uA(l), v & 4 && (Lf(3, l, l.return), dm(3, l), Lf(5, l, l.return)); break; case 1: cA(c, l), uA(l), v & 512 && (ka || d === null || gu(d, d.return)), v & 64 && Ku && (l = l.updateQueue, l !== null && (v = l.callbacks, v !== null && (d = l.shared.hiddenCallbacks, l.shared.hiddenCallbacks = d === null ? v : d.concat(v)))); break; case 26: var N = Lc; if (cA(c, l), uA(l), v & 512 && (ka || d === null || gu(d, d.return)), v & 4) { var U = d !== null ? d.memoizedState : null; if (v = l.memoizedState, d === null) if (v === null) if (l.stateNode === null) { e: { v = l.type, d = l.memoizedProps, N = N.ownerDocument || N; t: switch (v) { case "title": U = N.getElementsByTagName("title")[0], (!U || U[cr] || U[Kr] || U.namespaceURI === "http://www.w3.org/2000/svg" || U.hasAttribute("itemprop")) && (U = N.createElement(v), N.head.insertBefore(U, N.querySelector("head > title"))), Jo(U, v, d), U[Kr] = l, Si(U), v = U; break e; case "link": var te = W_("link", "href", N).get(v + (d.href || "")); if (te) { for (var ve = 0; ve < te.length; ve++)if (U = te[ve], U.getAttribute("href") === (d.href == null || d.href === "" ? null : d.href) && U.getAttribute("rel") === (d.rel == null ? null : d.rel) && U.getAttribute("title") === (d.title == null ? null : d.title) && U.getAttribute("crossorigin") === (d.crossOrigin == null ? null : d.crossOrigin)) { te.splice(ve, 1); break t } } U = N.createElement(v), Jo(U, v, d), N.head.appendChild(U); break; case "meta": if (te = W_("meta", "content", N).get(v + (d.content || ""))) { for (ve = 0; ve < te.length; ve++)if (U = te[ve], U.getAttribute("content") === (d.content == null ? null : "" + d.content) && U.getAttribute("name") === (d.name == null ? null : d.name) && U.getAttribute("property") === (d.property == null ? null : d.property) && U.getAttribute("http-equiv") === (d.httpEquiv == null ? null : d.httpEquiv) && U.getAttribute("charset") === (d.charSet == null ? null : d.charSet)) { te.splice(ve, 1); break t } } U = N.createElement(v), Jo(U, v, d), N.head.appendChild(U); break; default: throw Error(r(468, v)) }U[Kr] = l, Si(U), v = U } l.stateNode = v } else Y_(N, l.type, l.stateNode); else l.stateNode = G_(N, v, l.memoizedProps); else U !== v ? (U === null ? d.stateNode !== null && (d = d.stateNode, d.parentNode.removeChild(d)) : U.count--, v === null ? Y_(N, l.type, l.stateNode) : G_(N, v, l.memoizedProps)) : v === null && l.stateNode !== null && t2(l, l.memoizedProps, d.memoizedProps) } break; case 27: cA(c, l), uA(l), v & 512 && (ka || d === null || gu(d, d.return)), d !== null && v & 4 && t2(l, l.memoizedProps, d.memoizedProps); break; case 5: if (cA(c, l), uA(l), v & 512 && (ka || d === null || gu(d, d.return)), l.flags & 32) { N = l.stateNode; try { To(N, "") } catch (an) { Bi(l, l.return, an) } } v & 4 && l.stateNode != null && (N = l.memoizedProps, t2(l, N, d !== null ? d.memoizedProps : N)), v & 1024 && (i2 = !0); break; case 6: if (cA(c, l), uA(l), v & 4) { if (l.stateNode === null) throw Error(r(162)); v = l.memoizedProps, d = l.stateNode; try { d.nodeValue = v } catch (an) { Bi(l, l.return, an) } } break; case 3: if (Kv = null, N = Lc, Lc = jv(c.containerInfo), cA(c, l), Lc = N, uA(l), v & 4 && d !== null && d.memoizedState.isDehydrated) try { Rp(c.containerInfo) } catch (an) { Bi(l, l.return, an) } i2 && (i2 = !1, YS(l)); break; case 4: v = Lc, Lc = jv(l.stateNode.containerInfo), cA(c, l), uA(l), Lc = v; break; case 12: cA(c, l), uA(l); break; case 31: cA(c, l), uA(l), v & 4 && (v = l.updateQueue, v !== null && (l.updateQueue = null, Nv(l, v))); break; case 13: cA(c, l), uA(l), l.child.flags & 8192 && l.memoizedState !== null != (d !== null && d.memoizedState !== null) && (Tv = Bt()), v & 4 && (v = l.updateQueue, v !== null && (l.updateQueue = null, Nv(l, v))); break; case 22: N = l.memoizedState !== null; var Le = d !== null && d.memoizedState !== null, it = Ku, mt = ka; if (Ku = it || N, ka = mt || Le, cA(c, l), ka = mt, Ku = it, uA(l), v & 8192) e: for (c = l.stateNode, c._visibility = N ? c._visibility & -2 : c._visibility | 1, N && (d === null || Le || Ku || ka || gh(l)), d = null, c = l; ;) { if (c.tag === 5 || c.tag === 26) { if (d === null) { Le = d = c; try { if (U = Le.stateNode, N) te = U.style, typeof te.setProperty == "function" ? te.setProperty("display", "none", "important") : te.display = "none"; else { ve = Le.stateNode; var Et = Le.memoizedProps.style, ct = Et != null && Et.hasOwnProperty("display") ? Et.display : null; ve.style.display = ct == null || typeof ct == "boolean" ? "" : ("" + ct).trim() } } catch (an) { Bi(Le, Le.return, an) } } } else if (c.tag === 6) { if (d === null) { Le = c; try { Le.stateNode.nodeValue = N ? "" : Le.memoizedProps } catch (an) { Bi(Le, Le.return, an) } } } else if (c.tag === 18) { if (d === null) { Le = c; try { var dt = Le.stateNode; N ? M_(dt, !0) : M_(Le.stateNode, !1) } catch (an) { Bi(Le, Le.return, an) } } } else if ((c.tag !== 22 && c.tag !== 23 || c.memoizedState === null || c === l) && c.child !== null) { c.child.return = c, c = c.child; continue } if (c === l) break e; for (; c.sibling === null;) { if (c.return === null || c.return === l) break e; d === c && (d = null), c = c.return } d === c && (d = null), c.sibling.return = c.return, c = c.sibling } v & 4 && (v = l.updateQueue, v !== null && (d = v.retryQueue, d !== null && (v.retryQueue = null, Nv(l, d)))); break; case 19: cA(c, l), uA(l), v & 4 && (v = l.updateQueue, v !== null && (l.updateQueue = null, Nv(l, v))); break; case 30: break; case 21: break; default: cA(c, l), uA(l) } } function uA(l) { var c = l.flags; if (c & 2) { try { for (var d, v = l.return; v !== null;) { if (DS(v)) { d = v; break } v = v.return } if (d == null) throw Error(r(160)); switch (d.tag) { case 27: var N = d.stateNode, U = n2(l); _v(l, U, N); break; case 5: var te = d.stateNode; d.flags & 32 && (To(te, ""), d.flags &= -33); var ve = n2(l); _v(l, ve, te); break; case 3: case 4: var Le = d.stateNode.containerInfo, it = n2(l); r2(l, it, Le); break; default: throw Error(r(161)) } } catch (mt) { Bi(l, l.return, mt) } l.flags &= -3 } c & 4096 && (l.flags &= -4097) } function YS(l) { if (l.subtreeFlags & 1024) for (l = l.child; l !== null;) { var c = l; YS(c), c.tag === 5 && c.flags & 1024 && c.stateNode.reset(), l = l.sibling } } function Gu(l, c) { if (c.subtreeFlags & 8772) for (c = c.child; c !== null;)jS(l, c.alternate, c), c = c.sibling } function gh(l) { for (l = l.child; l !== null;) { var c = l; switch (c.tag) { case 0: case 11: case 14: case 15: Lf(4, c, c.return), gh(c); break; case 1: gu(c, c.return); var d = c.stateNode; typeof d.componentWillUnmount == "function" && MS(c, c.return, d), gh(c); break; case 27: Bm(c.stateNode); case 26: case 5: gu(c, c.return), gh(c); break; case 22: c.memoizedState === null && gh(c); break; case 30: gh(c); break; default: gh(c) }l = l.sibling } } function Wu(l, c, d) { for (d = d && (c.subtreeFlags & 8772) !== 0, c = c.child; c !== null;) { var v = c.alternate, N = l, U = c, te = U.flags; switch (U.tag) { case 0: case 11: case 15: Wu(N, U, d), dm(4, U); break; case 1: if (Wu(N, U, d), v = U, N = v.stateNode, typeof N.componentDidMount == "function") try { N.componentDidMount() } catch (it) { Bi(v, v.return, it) } if (v = U, N = v.updateQueue, N !== null) { var ve = v.stateNode; try { var Le = N.shared.hiddenCallbacks; if (Le !== null) for (N.shared.hiddenCallbacks = null, N = 0; N < Le.length; N++)w(Le[N], ve) } catch (it) { Bi(v, v.return, it) } } d && te & 64 && LS(U), hm(U, U.return); break; case 27: PS(U); case 26: case 5: Wu(N, U, d), d && v === null && te & 4 && QS(U), hm(U, U.return); break; case 12: Wu(N, U, d); break; case 31: Wu(N, U, d), d && te & 4 && VS(N, U); break; case 13: Wu(N, U, d), d && te & 4 && GS(N, U); break; case 22: U.memoizedState === null && Wu(N, U, d), hm(U, U.return); break; case 30: break; default: Wu(N, U, d) }c = c.sibling } } function s2(l, c) { var d = null; l !== null && l.memoizedState !== null && l.memoizedState.cachePool !== null && (d = l.memoizedState.cachePool.pool), l = null, c.memoizedState !== null && c.memoizedState.cachePool !== null && (l = c.memoizedState.cachePool.pool), l !== d && (l != null && l.refCount++, d != null && JA(d)) } function a2(l, c) { l = null, c.alternate !== null && (l = c.alternate.memoizedState.cache), c = c.memoizedState.cache, c !== l && (c.refCount++, l != null && JA(l)) } function Mc(l, c, d, v) { if (c.subtreeFlags & 10256) for (c = c.child; c !== null;)JS(l, c, d, v), c = c.sibling } function JS(l, c, d, v) { var N = c.flags; switch (c.tag) { case 0: case 11: case 15: Mc(l, c, d, v), N & 2048 && dm(9, c); break; case 1: Mc(l, c, d, v); break; case 3: Mc(l, c, d, v), N & 2048 && (l = null, c.alternate !== null && (l = c.alternate.memoizedState.cache), c = c.memoizedState.cache, c !== l && (c.refCount++, l != null && JA(l))); break; case 12: if (N & 2048) { Mc(l, c, d, v), l = c.stateNode; try { var U = c.memoizedProps, te = U.id, ve = U.onPostCommit; typeof ve == "function" && ve(te, c.alternate === null ? "mount" : "update", l.passiveEffectDuration, -0) } catch (Le) { Bi(c, c.return, Le) } } else Mc(l, c, d, v); break; case 31: Mc(l, c, d, v); break; case 13: Mc(l, c, d, v); break; case 23: break; case 22: U = c.stateNode, te = c.alternate, c.memoizedState !== null ? U._visibility & 2 ? Mc(l, c, d, v) : pm(l, c) : U._visibility & 2 ? Mc(l, c, d, v) : (U._visibility |= 2, Bp(l, c, d, v, (c.subtreeFlags & 10256) !== 0 || !1)), N & 2048 && s2(te, c); break; case 24: Mc(l, c, d, v), N & 2048 && a2(c.alternate, c); break; default: Mc(l, c, d, v) } } function Bp(l, c, d, v, N) { for (N = N && ((c.subtreeFlags & 10256) !== 0 || !1), c = c.child; c !== null;) { var U = l, te = c, ve = d, Le = v, it = te.flags; switch (te.tag) { case 0: case 11: case 15: Bp(U, te, ve, Le, N), dm(8, te); break; case 23: break; case 22: var mt = te.stateNode; te.memoizedState !== null ? mt._visibility & 2 ? Bp(U, te, ve, Le, N) : pm(U, te) : (mt._visibility |= 2, Bp(U, te, ve, Le, N)), N && it & 2048 && s2(te.alternate, te); break; case 24: Bp(U, te, ve, Le, N), N && it & 2048 && a2(te.alternate, te); break; default: Bp(U, te, ve, Le, N) }c = c.sibling } } function pm(l, c) { if (c.subtreeFlags & 10256) for (c = c.child; c !== null;) { var d = l, v = c, N = v.flags; switch (v.tag) { case 22: pm(d, v), N & 2048 && s2(v.alternate, v); break; case 24: pm(d, v), N & 2048 && a2(v.alternate, v); break; default: pm(d, v) }c = c.sibling } } var gm = 8192; function Cp(l, c, d) { if (l.subtreeFlags & gm) for (l = l.child; l !== null;)XS(l, c, d), l = l.sibling } function XS(l, c, d) { switch (l.tag) { case 26: Cp(l, c, d), l.flags & gm && l.memoizedState !== null && y8(d, Lc, l.memoizedState, l.memoizedProps); break; case 5: Cp(l, c, d); break; case 3: case 4: var v = Lc; Lc = jv(l.stateNode.containerInfo), Cp(l, c, d), Lc = v; break; case 22: l.memoizedState === null && (v = l.alternate, v !== null && v.memoizedState !== null ? (v = gm, gm = 16777216, Cp(l, c, d), gm = v) : Cp(l, c, d)); break; default: Cp(l, c, d) } } function ZS(l) { var c = l.alternate; if (c !== null && (l = c.child, l !== null)) { c.child = null; do c = l.sibling, l.sibling = null, l = c; while (l !== null) } } function mm(l) { var c = l.deletions; if ((l.flags & 16) !== 0) { if (c !== null) for (var d = 0; d < c.length; d++) { var v = c[d]; wo = v, $S(v, l) } ZS(l) } if (l.subtreeFlags & 10256) for (l = l.child; l !== null;)qS(l), l = l.sibling } function qS(l) { switch (l.tag) { case 0: case 11: case 15: mm(l), l.flags & 2048 && Lf(9, l, l.return); break; case 3: mm(l); break; case 12: mm(l); break; case 22: var c = l.stateNode; l.memoizedState !== null && c._visibility & 2 && (l.return === null || l.return.tag !== 13) ? (c._visibility &= -3, kv(l)) : mm(l); break; default: mm(l) } } function kv(l) { var c = l.deletions; if ((l.flags & 16) !== 0) { if (c !== null) for (var d = 0; d < c.length; d++) { var v = c[d]; wo = v, $S(v, l) } ZS(l) } for (l = l.child; l !== null;) { switch (c = l, c.tag) { case 0: case 11: case 15: Lf(8, c, c.return), kv(c); break; case 22: d = c.stateNode, d._visibility & 2 && (d._visibility &= -3, kv(c)); break; default: kv(c) }l = l.sibling } } function $S(l, c) { for (; wo !== null;) { var d = wo; switch (d.tag) { case 0: case 11: case 15: Lf(8, d, c); break; case 23: case 22: if (d.memoizedState !== null && d.memoizedState.cachePool !== null) { var v = d.memoizedState.cachePool.pool; v != null && v.refCount++ } break; case 24: JA(d.memoizedState.cache) }if (v = d.child, v !== null) v.return = d, wo = v; else e: for (d = l; wo !== null;) { v = wo; var N = v.sibling, U = v.return; if (zS(v), v === d) { wo = null; break e } if (N !== null) { N.return = U, wo = N; break e } wo = U } } } var RD = { getCacheForType: function (l) { var c = Yr(Ai), d = c.data.get(l); return d === void 0 && (d = l(), c.data.set(l, d)), d }, cacheSignal: function () { return Yr(Ai).controller.signal } }, ID = typeof WeakMap == "function" ? WeakMap : Map, ui = 0, ji = null, kr = null, Rr = 0, xi = 0, kA = null, Mf = !1, Ep = !1, o2 = !1, Yu = 0, Gs = 0, Qf = 0, mh = 0, l2 = 0, TA = 0, Sp = 0, vm = null, fA = null, A2 = !1, Tv = 0, e_ = 0, Fv = 1 / 0, Uv = null, Df = null, Wa = 0, Pf = null, _p = null, Ju = 0, c2 = 0, u2 = null, t_ = null, ym = 0, f2 = null; function FA() { return (ui & 2) !== 0 && Rr !== 0 ? Rr & -Rr : Z.T !== null ? v2() : Li() } function n_() { if (TA === 0) if ((Rr & 536870912) === 0 || Yn) { var l = Cr; Cr <<= 1, (Cr & 3932160) === 0 && (Cr = 262144), TA = l } else TA = 536870912; return l = He.current, l !== null && (l.flags |= 32), TA } function dA(l, c, d) { (l === ji && (xi === 2 || xi === 9) || l.cancelPendingCommit !== null) && (Np(l, 0), Hf(l, Rr, TA, !1)), pn(l, d), ((ui & 2) === 0 || l !== ji) && (l === ji && ((ui & 2) === 0 && (mh |= d), Gs === 4 && Hf(l, Rr, TA, !1)), mu(l)) } function r_(l, c, d) { if ((ui & 6) !== 0) throw Error(r(327)); var v = !d && (c & 127) === 0 && (c & l.expiredLanes) === 0 || Xs(l, c), N = v ? QD(l, c) : h2(l, c, !0), U = v; do { if (N === 0) { Ep && !v && Hf(l, c, 0, !1); break } else { if (d = l.current.alternate, U && !LD(d)) { N = h2(l, c, !1), U = !1; continue } if (N === 2) { if (U = c, l.errorRecoveryDisabledLanes & U) var te = 0; else te = l.pendingLanes & -536870913, te = te !== 0 ? te : te & 536870912 ? 536870912 : 0; if (te !== 0) { c = te; e: { var ve = l; N = vm; var Le = ve.current.memoizedState.isDehydrated; if (Le && (Np(ve, te).flags |= 256), te = h2(ve, te, !1), te !== 2) { if (o2 && !Le) { ve.errorRecoveryDisabledLanes |= U, mh |= U, N = 4; break e } U = fA, fA = N, U !== null && (fA === null ? fA = U : fA.push.apply(fA, U)) } N = te } if (U = !1, N !== 2) continue } } if (N === 1) { Np(l, 0), Hf(l, c, 0, !0); break } e: { switch (v = l, U = N, U) { case 0: case 1: throw Error(r(345)); case 4: if ((c & 4194048) !== c) break; case 6: Hf(v, c, TA, !Mf); break e; case 2: fA = null; break; case 3: case 5: break; default: throw Error(r(329)) }if ((c & 62914560) === c && (N = Tv + 300 - Bt(), 10 < N)) { if (Hf(v, c, TA, !Mf), ar(v, 0, !0) !== 0) break e; Ju = c, v.timeoutHandle = R_(i_.bind(null, v, d, fA, Uv, A2, c, TA, mh, Sp, Mf, U, "Throttled", -0, 0), N); break e } i_(v, d, fA, Uv, A2, c, TA, mh, Sp, Mf, U, null, -0, 0) } } break } while (!0); mu(l) } function i_(l, c, d, v, N, U, te, ve, Le, it, mt, Et, ct, dt) { if (l.timeoutHandle = -1, Et = c.subtreeFlags, Et & 8192 || (Et & 16785408) === 16785408) { Et = { stylesheets: null, count: 0, imgCount: 0, imgBytes: 0, suspenseyImages: [], waitingForImages: !0, waitingForViewTransition: !1, unsuspend: Fo }, XS(c, U, Et); var an = (U & 62914560) === U ? Tv - Bt() : (U & 4194048) === U ? e_ - Bt() : 0; if (an = w8(Et, an), an !== null) { Ju = U, l.cancelPendingCommit = an(f_.bind(null, l, c, U, d, v, N, te, ve, Le, mt, Et, null, ct, dt)), Hf(l, U, te, !it); return } } f_(l, c, U, d, v, N, te, ve, Le) } function LD(l) { for (var c = l; ;) { var d = c.tag; if ((d === 0 || d === 11 || d === 15) && c.flags & 16384 && (d = c.updateQueue, d !== null && (d = d.stores, d !== null))) for (var v = 0; v < d.length; v++) { var N = d[v], U = N.getSnapshot; N = N.value; try { if (!Di(U(), N)) return !1 } catch { return !1 } } if (d = c.child, c.subtreeFlags & 16384 && d !== null) d.return = c, c = d; else { if (c === l) break; for (; c.sibling === null;) { if (c.return === null || c.return === l) return !0; c = c.return } c.sibling.return = c.return, c = c.sibling } } return !0 } function Hf(l, c, d, v) { c &= ~l2, c &= ~mh, l.suspendedLanes |= c, l.pingedLanes &= ~c, v && (l.warmLanes |= c), v = l.expirationTimes; for (var N = c; 0 < N;) { var U = 31 - En(N), te = 1 << U; v[U] = -1, N &= ~te } d !== 0 && ma(l, d, c) } function Ov() { return (ui & 6) === 0 ? (wm(0), !1) : !0 } function d2() { if (kr !== null) { if (xi === 0) var l = kr.return; else l = kr, Wr = Al = null, rA(l), vt = null, Yt = 0, l = kr; for (; l !== null;)IS(l.alternate, l), l = l.return; kr = null } } function Np(l, c) { var d = l.timeoutHandle; d !== -1 && (l.timeoutHandle = -1, n8(d)), d = l.cancelPendingCommit, d !== null && (l.cancelPendingCommit = null, d()), Ju = 0, d2(), ji = l, kr = d = hi(l.current, null), Rr = c, xi = 0, kA = null, Mf = !1, Ep = Xs(l, c), o2 = !1, Sp = TA = l2 = mh = Qf = Gs = 0, fA = vm = null, A2 = !1, (c & 8) !== 0 && (c |= c & 32); var v = l.entangledLanes; if (v !== 0) for (l = l.entanglements, v &= c; 0 < v;) { var N = 31 - En(v), U = 1 << N; c |= l[N], v &= ~U } return Yu = c, Mn(), d } function s_(l, c) { It = null, Z.H = nh, c === Pe || c === Te ? (c = ht(), xi = 3) : c === et ? (c = ht(), xi = 4) : xi = c === om ? 8 : c !== null && typeof c == "object" && typeof c.then == "function" ? 6 : 1, kA = c, kr === null && (Gs = 1, sh(l, zs(c, l.current))) } function a_() { var l = He.current; return l === null ? !0 : (Rr & 4194048) === Rr ? Oe === null : (Rr & 62914560) === Rr || (Rr & 536870912) !== 0 ? l === Oe : !1 } function o_() { var l = Z.H; return Z.H = nh, l === null ? nh : l } function l_() { var l = Z.A; return Z.A = RD, l } function Rv() { Gs = 4, Mf || (Rr & 4194048) !== Rr && He.current !== null || (Ep = !0), (Qf & 134217727) === 0 && (mh & 134217727) === 0 || ji === null || Hf(ji, Rr, TA, !1) } function h2(l, c, d) { var v = ui; ui |= 2; var N = o_(), U = l_(); (ji !== l || Rr !== c) && (Uv = null, Np(l, c)), c = !1; var te = Gs; e: do try { if (xi !== 0 && kr !== null) { var ve = kr, Le = kA; switch (xi) { case 8: d2(), te = 6; break e; case 3: case 2: case 9: case 6: He.current === null && (c = !0); var it = xi; if (xi = 0, kA = null, kp(l, ve, Le, it), d && Ep) { te = 0; break e } break; default: it = xi, xi = 0, kA = null, kp(l, ve, Le, it) } } MD(), te = Gs; break } catch (mt) { s_(l, mt) } while (!0); return c && l.shellSuspendCounter++, Wr = Al = null, ui = v, Z.H = N, Z.A = U, kr === null && (ji = null, Rr = 0, Mn()), te } function MD() { for (; kr !== null;)A_(kr) } function QD(l, c) { var d = ui; ui |= 2; var v = o_(), N = l_(); ji !== l || Rr !== c ? (Uv = null, Fv = Bt() + 500, Np(l, c)) : Ep = Xs(l, c); e: do try { if (xi !== 0 && kr !== null) { c = kr; var U = kA; t: switch (xi) { case 1: xi = 0, kA = null, kp(l, c, U, 1); break; case 2: case 9: if (Xe(U)) { xi = 0, kA = null, c_(c); break } c = function () { xi !== 2 && xi !== 9 || ji !== l || (xi = 7), mu(l) }, U.then(c, c); break e; case 3: xi = 7; break e; case 4: xi = 5; break e; case 7: Xe(U) ? (xi = 0, kA = null, c_(c)) : (xi = 0, kA = null, kp(l, c, U, 7)); break; case 5: var te = null; switch (kr.tag) { case 26: te = kr.memoizedState; case 5: case 27: var ve = kr; if (te ? J_(te) : ve.stateNode.complete) { xi = 0, kA = null; var Le = ve.sibling; if (Le !== null) kr = Le; else { var it = ve.return; it !== null ? (kr = it, Iv(it)) : kr = null } break t } }xi = 0, kA = null, kp(l, c, U, 5); break; case 6: xi = 0, kA = null, kp(l, c, U, 6); break; case 8: d2(), Gs = 6; break e; default: throw Error(r(462)) } } DD(); break } catch (mt) { s_(l, mt) } while (!0); return Wr = Al = null, Z.H = v, Z.A = N, ui = d, kr !== null ? 0 : (ji = null, Rr = 0, Mn(), Gs) } function DD() { for (; kr !== null && !Qe();)A_(kr) } function A_(l) { var c = OS(l.alternate, l, Yu); l.memoizedProps = l.pendingProps, c === null ? Iv(l) : kr = c } function c_(l) { var c = l, d = c.alternate; switch (c.tag) { case 15: case 0: c = pu(d, c, c.pendingProps, c.type, void 0, Rr); break; case 11: c = pu(d, c, c.pendingProps, c.type.render, c.ref, Rr); break; case 5: rA(c); default: IS(d, c), c = kr = yr(c, Yu), c = OS(d, c, Yu) }l.memoizedProps = l.pendingProps, c === null ? Iv(l) : kr = c } function kp(l, c, d, v) { Wr = Al = null, rA(c), vt = null, Yt = 0; var N = c.return; try { if (oh(l, N, c, d, Rr)) { Gs = 1, sh(l, zs(d, l.current)), kr = null; return } } catch (U) { if (N !== null) throw kr = N, U; Gs = 1, sh(l, zs(d, l.current)), kr = null; return } c.flags & 32768 ? (Yn || v === 1 ? l = !0 : Ep || (Rr & 536870912) !== 0 ? l = !1 : (Mf = l = !0, (v === 2 || v === 9 || v === 3 || v === 6) && (v = He.current, v !== null && v.tag === 13 && (v.flags |= 16384))), u_(c, l)) : Iv(c) } function Iv(l) { var c = l; do { if ((c.flags & 32768) !== 0) { u_(c, Mf); return } l = c.return; var d = TD(c.alternate, c, Yu); if (d !== null) { kr = d; return } if (c = c.sibling, c !== null) { kr = c; return } kr = c = l } while (c !== null); Gs === 0 && (Gs = 5) } function u_(l, c) { do { var d = FD(l.alternate, l); if (d !== null) { d.flags &= 32767, kr = d; return } if (d = l.return, d !== null && (d.flags |= 32768, d.subtreeFlags = 0, d.deletions = null), !c && (l = l.sibling, l !== null)) { kr = l; return } kr = l = d } while (l !== null); Gs = 6, kr = null } function f_(l, c, d, v, N, U, te, ve, Le) { l.cancelPendingCommit = null; do Lv(); while (Wa !== 0); if ((ui & 6) !== 0) throw Error(r(327)); if (c !== null) { if (c === l.current) throw Error(r(177)); if (U = c.lanes | c.childLanes, U |= Pn, rl(l, d, U, te, ve, Le), l === ji && (kr = ji = null, Rr = 0), _p = c, Pf = l, Ju = d, c2 = U, u2 = N, t_ = v, (c.subtreeFlags & 10256) !== 0 || (c.flags & 10256) !== 0 ? (l.callbackNode = null, l.callbackPriority = 0, zD(Lt, function () { return m_(), null })) : (l.callbackNode = null, l.callbackPriority = 0), v = (c.flags & 13878) !== 0, (c.subtreeFlags & 13878) !== 0 || v) { v = Z.T, Z.T = null, N = ae.p, ae.p = 2, te = ui, ui |= 4; try { UD(l, c, d) } finally { ui = te, ae.p = N, Z.T = v } } Wa = 1, d_(), h_(), p_() } } function d_() { if (Wa === 1) { Wa = 0; var l = Pf, c = _p, d = (c.flags & 13878) !== 0; if ((c.subtreeFlags & 13878) !== 0 || d) { d = Z.T, Z.T = null; var v = ae.p; ae.p = 2; var N = ui; ui |= 4; try { WS(c, l); var U = S2, te = Vo(l.containerInfo), ve = U.focusedElem, Le = U.selectionRange; if (te !== ve && ve && ve.ownerDocument && na(ve.ownerDocument.documentElement, ve)) { if (Le !== null && Go(ve)) { var it = Le.start, mt = Le.end; if (mt === void 0 && (mt = it), "selectionStart" in ve) ve.selectionStart = it, ve.selectionEnd = Math.min(mt, ve.value.length); else { var Et = ve.ownerDocument || document, ct = Et && Et.defaultView || window; if (ct.getSelection) { var dt = ct.getSelection(), an = ve.textContent.length, Qn = Math.min(Le.start, an), Oi = Le.end === void 0 ? Qn : Math.min(Le.end, an); !dt.extend && Qn > Oi && (te = Oi, Oi = Qn, Qn = te); var Ze = uo(ve, Qn), Ve = uo(ve, Oi); if (Ze && Ve && (dt.rangeCount !== 1 || dt.anchorNode !== Ze.node || dt.anchorOffset !== Ze.offset || dt.focusNode !== Ve.node || dt.focusOffset !== Ve.offset)) { var rt = Et.createRange(); rt.setStart(Ze.node, Ze.offset), dt.removeAllRanges(), Qn > Oi ? (dt.addRange(rt), dt.extend(Ve.node, Ve.offset)) : (rt.setEnd(Ve.node, Ve.offset), dt.addRange(rt)) } } } } for (Et = [], dt = ve; dt = dt.parentNode;)dt.nodeType === 1 && Et.push({ element: dt, left: dt.scrollLeft, top: dt.scrollTop }); for (typeof ve.focus == "function" && ve.focus(), ve = 0; ve < Et.length; ve++) { var bt = Et[ve]; bt.element.scrollLeft = bt.left, bt.element.scrollTop = bt.top } } Yv = !!E2, S2 = E2 = null } finally { ui = N, ae.p = v, Z.T = d } } l.current = c, Wa = 2 } } function h_() { if (Wa === 2) { Wa = 0; var l = Pf, c = _p, d = (c.flags & 8772) !== 0; if ((c.subtreeFlags & 8772) !== 0 || d) { d = Z.T, Z.T = null; var v = ae.p; ae.p = 2; var N = ui; ui |= 4; try { jS(l, c.alternate, c) } finally { ui = N, ae.p = v, Z.T = d } } Wa = 3 } } function p_() { if (Wa === 4 || Wa === 3) { Wa = 0, lt(); var l = Pf, c = _p, d = Ju, v = t_; (c.subtreeFlags & 10256) !== 0 || (c.flags & 10256) !== 0 ? Wa = 5 : (Wa = 0, _p = Pf = null, g_(l, l.pendingLanes)); var N = l.pendingLanes; if (N === 0 && (Df = null), Kn(d), c = c.stateNode, nn && typeof nn.onCommitFiberRoot == "function") try { nn.onCommitFiberRoot(en, c, void 0, (c.current.flags & 128) === 128) } catch { } if (v !== null) { c = Z.T, N = ae.p, ae.p = 2, Z.T = null; try { for (var U = l.onRecoverableError, te = 0; te < v.length; te++) { var ve = v[te]; U(ve.value, { componentStack: ve.stack }) } } finally { Z.T = c, ae.p = N } } (Ju & 3) !== 0 && Lv(), mu(l), N = l.pendingLanes, (d & 261930) !== 0 && (N & 42) !== 0 ? l === f2 ? ym++ : (ym = 0, f2 = l) : ym = 0, wm(0) } } function g_(l, c) { (l.pooledCacheLanes &= c) === 0 && (c = l.pooledCache, c != null && (l.pooledCache = null, JA(c))) } function Lv() { return d_(), h_(), p_(), m_() } function m_() { if (Wa !== 5) return !1; var l = Pf, c = c2; c2 = 0; var d = Kn(Ju), v = Z.T, N = ae.p; try { ae.p = 32 > d ? 32 : d, Z.T = null, d = u2, u2 = null; var U = Pf, te = Ju; if (Wa = 0, _p = Pf = null, Ju = 0, (ui & 6) !== 0) throw Error(r(331)); var ve = ui; if (ui |= 4, qS(U.current), JS(U, U.current, te, d), ui = ve, wm(0, !1), nn && typeof nn.onPostCommitFiberRoot == "function") try { nn.onPostCommitFiberRoot(en, U) } catch { } return !0 } finally { ae.p = N, Z.T = v, g_(l, c) } } function v_(l, c, d) { c = zs(d, c), c = wp(l.stateNode, c, 2), l = _n(l, c, 2), l !== null && (pn(l, 2), mu(l)) } function Bi(l, c, d) { if (l.tag === 3) v_(l, l, d); else for (; c !== null;) { if (c.tag === 3) { v_(c, l, d); break } else if (c.tag === 1) { var v = c.stateNode; if (typeof c.type.getDerivedStateFromError == "function" || typeof v.componentDidCatch == "function" && (Df === null || !Df.has(v))) { l = zs(d, l), d = ah(2), v = _n(c, d, 2), v !== null && (bp(d, v, c, l), pn(v, 2), mu(v)); break } } c = c.return } } function p2(l, c, d) { var v = l.pingCache; if (v === null) { v = l.pingCache = new ID; var N = new Set; v.set(c, N) } else N = v.get(c), N === void 0 && (N = new Set, v.set(c, N)); N.has(d) || (o2 = !0, N.add(d), l = PD.bind(null, l, c, d), c.then(l, l)) } function PD(l, c, d) { var v = l.pingCache; v !== null && v.delete(c), l.pingedLanes |= l.suspendedLanes & d, l.warmLanes &= ~d, ji === l && (Rr & d) === d && (Gs === 4 || Gs === 3 && (Rr & 62914560) === Rr && 300 > Bt() - Tv ? (ui & 2) === 0 && Np(l, 0) : l2 |= d, Sp === Rr && (Sp = 0)), mu(l) } function y_(l, c) { c === 0 && (c = So()), l = _r(l, c), l !== null && (pn(l, c), mu(l)) } function HD(l) { var c = l.memoizedState, d = 0; c !== null && (d = c.retryLane), y_(l, d) } function jD(l, c) { var d = 0; switch (l.tag) { case 31: case 13: var v = l.stateNode, N = l.memoizedState; N !== null && (d = N.retryLane); break; case 19: v = l.stateNode; break; case 22: v = l.stateNode._retryCache; break; default: throw Error(r(314)) }v !== null && v.delete(c), y_(l, d) } function zD(l, c) { return tt(l, c) } var Mv = null, Tp = null, g2 = !1, Qv = !1, m2 = !1, jf = 0; function mu(l) { l !== Tp && l.next === null && (Tp === null ? Mv = Tp = l : Tp = Tp.next = l), Qv = !0, g2 || (g2 = !0, VD()) } function wm(l, c) { if (!m2 && Qv) { m2 = !0; do for (var d = !1, v = Mv; v !== null;) { if (l !== 0) { var N = v.pendingLanes; if (N === 0) var U = 0; else { var te = v.suspendedLanes, ve = v.pingedLanes; U = (1 << 31 - En(42 | l) + 1) - 1, U &= N & ~(te & ~ve), U = U & 201326741 ? U & 201326741 | 1 : U ? U | 2 : 0 } U !== 0 && (d = !0, B_(v, U)) } else U = Rr, U = ar(v, v === ji ? U : 0, v.cancelPendingCommit !== null || v.timeoutHandle !== -1), (U & 3) === 0 || Xs(v, U) || (d = !0, B_(v, U)); v = v.next } while (d); m2 = !1 } } function KD() { w_() } function w_() { Qv = g2 = !1; var l = 0; jf !== 0 && t8() && (l = jf); for (var c = Bt(), d = null, v = Mv; v !== null;) { var N = v.next, U = b_(v, c); U === 0 ? (v.next = null, d === null ? Mv = N : d.next = N, N === null && (Tp = d)) : (d = v, (l !== 0 || (U & 3) !== 0) && (Qv = !0)), v = N } Wa !== 0 && Wa !== 5 || wm(l), jf !== 0 && (jf = 0) } function b_(l, c) { for (var d = l.suspendedLanes, v = l.pingedLanes, N = l.expirationTimes, U = l.pendingLanes & -62914561; 0 < U;) { var te = 31 - En(U), ve = 1 << te, Le = N[te]; Le === -1 ? ((ve & d) === 0 || (ve & v) !== 0) && (N[te] = $r(ve, c)) : Le <= c && (l.expiredLanes |= ve), U &= ~ve } if (c = ji, d = Rr, d = ar(l, l === c ? d : 0, l.cancelPendingCommit !== null || l.timeoutHandle !== -1), v = l.callbackNode, d === 0 || l === c && (xi === 2 || xi === 9) || l.cancelPendingCommit !== null) return v !== null && v !== null && Je(v), l.callbackNode = null, l.callbackPriority = 0; if ((d & 3) === 0 || Xs(l, d)) { if (c = d & -d, c === l.callbackPriority) return c; switch (v !== null && Je(v), Kn(d)) { case 2: case 8: d = Xt; break; case 32: d = Lt; break; case 268435456: d = bn; break; default: d = Lt }return v = x_.bind(null, l), d = tt(d, v), l.callbackPriority = c, l.callbackNode = d, c } return v !== null && v !== null && Je(v), l.callbackPriority = 2, l.callbackNode = null, 2 } function x_(l, c) { if (Wa !== 0 && Wa !== 5) return l.callbackNode = null, l.callbackPriority = 0, null; var d = l.callbackNode; if (Lv() && l.callbackNode !== d) return null; var v = Rr; return v = ar(l, l === ji ? v : 0, l.cancelPendingCommit !== null || l.timeoutHandle !== -1), v === 0 ? null : (r_(l, v, c), b_(l, Bt()), l.callbackNode != null && l.callbackNode === d ? x_.bind(null, l) : null) } function B_(l, c) { if (Lv()) return null; r_(l, c, !0) } function VD() { r8(function () { (ui & 6) !== 0 ? tt(Ct, KD) : w_() }) } function v2() { if (jf === 0) { var l = C; l === 0 && (l = Wt, Wt <<= 1, (Wt & 261888) === 0 && (Wt = 256)), jf = l } return jf } function C_(l) { return l == null || typeof l == "symbol" || typeof l == "boolean" ? null : typeof l == "function" ? l : ei("" + l) } function E_(l, c) { var d = c.ownerDocument.createElement("input"); return d.name = c.name, d.value = c.value, l.id && d.setAttribute("form", l.id), c.parentNode.insertBefore(d, c), l = new FormData(l), d.parentNode.removeChild(d), l } function GD(l, c, d, v, N) { if (c === "submit" && d && d.stateNode === N) { var U = C_((N[fi] || null).action), te = v.submitter; te && (c = (c = te[fi] || null) ? C_(c.formAction) : te.getAttribute("formAction"), c !== null && (U = c, te = null)); var ve = new ja("action", "action", null, v, N); l.push({ event: ve, listeners: [{ instance: null, listener: function () { if (v.defaultPrevented) { if (jf !== 0) { var Le = te ? E_(N, te) : new FormData(N); Nf(d, { pending: !0, data: Le, method: N.method, action: U }, null, Le) } } else typeof U == "function" && (ve.preventDefault(), Le = te ? E_(N, te) : new FormData(N), Nf(d, { pending: !0, data: Le, method: N.method, action: U }, U, Le)) }, currentTarget: N }] }) } } for (var y2 = 0; y2 < wt.length; y2++) { var w2 = wt[y2], WD = w2.toLowerCase(), YD = w2[0].toUpperCase() + w2.slice(1); ft(WD, "on" + YD) } ft(R, "onAnimationEnd"), ft(K, "onAnimationIteration"), ft(ee, "onAnimationStart"), ft("dblclick", "onDoubleClick"), ft("focusin", "onFocus"), ft("focusout", "onBlur"), ft(be, "onTransitionRun"), ft(Ue, "onTransitionStart"), ft(ot, "onTransitionCancel"), ft(ze, "onTransitionEnd"), eo("onMouseEnter", ["mouseout", "mouseover"]), eo("onMouseLeave", ["mouseout", "mouseover"]), eo("onPointerEnter", ["pointerout", "pointerover"]), eo("onPointerLeave", ["pointerout", "pointerover"]), Qr("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), Qr("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), Qr("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), Qr("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), Qr("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), Qr("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var bm = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), JD = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bm)); function S_(l, c) { c = (c & 4) !== 0; for (var d = 0; d < l.length; d++) { var v = l[d], N = v.event; v = v.listeners; e: { var U = void 0; if (c) for (var te = v.length - 1; 0 <= te; te--) { var ve = v[te], Le = ve.instance, it = ve.currentTarget; if (ve = ve.listener, Le !== U && N.isPropagationStopped()) break e; U = ve, N.currentTarget = it; try { U(N) } catch (mt) { Ot(mt) } N.currentTarget = null, U = Le } else for (te = 0; te < v.length; te++) { if (ve = v[te], Le = ve.instance, it = ve.currentTarget, ve = ve.listener, Le !== U && N.isPropagationStopped()) break e; U = ve, N.currentTarget = it; try { U(N) } catch (mt) { Ot(mt) } N.currentTarget = null, U = Le } } } } function Tr(l, c) { var d = c[va]; d === void 0 && (d = c[va] = new Set); var v = l + "__bubble"; d.has(v) || (__(c, l, 2, !1), d.add(v)) } function b2(l, c, d) { var v = 0; c && (v |= 4), __(d, l, v, c) } var Dv = "_reactListening" + Math.random().toString(36).slice(2); function x2(l) { if (!l[Dv]) { l[Dv] = !0, xc.forEach(function (d) { d !== "selectionchange" && (JD.has(d) || b2(d, !1, l), b2(d, !0, l)) }); var c = l.nodeType === 9 ? l : l.ownerDocument; c === null || c[Dv] || (c[Dv] = !0, b2("selectionchange", !1, c)) } } function __(l, c, d, v) { switch (n4(c)) { case 2: var N = B8; break; case 8: N = C8; break; default: N = M2 }d = N.bind(null, c, d, l), N = void 0, !Ur || c !== "touchstart" && c !== "touchmove" && c !== "wheel" || (N = !0), v ? N !== void 0 ? l.addEventListener(c, d, { capture: !0, passive: N }) : l.addEventListener(c, d, !0) : N !== void 0 ? l.addEventListener(c, d, { passive: N }) : l.addEventListener(c, d, !1) } function B2(l, c, d, v, N) { var U = v; if ((c & 1) === 0 && (c & 2) === 0 && v !== null) e: for (; ;) { if (v === null) return; var te = v.tag; if (te === 3 || te === 4) { var ve = v.stateNode.containerInfo; if (ve === N) break; if (te === 4) for (te = v.return; te !== null;) { var Le = te.tag; if ((Le === 3 || Le === 4) && te.stateNode.containerInfo === N) return; te = te.return } for (; ve !== null;) { if (te = mi(ve), te === null) return; if (Le = te.tag, Le === 5 || Le === 6 || Le === 26 || Le === 27) { v = U = te; continue e } ve = ve.parentNode } } v = v.return } YA(function () { var it = U, mt = il(d), Et = []; e: { var ct = At.get(l); if (ct !== void 0) { var dt = ja, an = l; switch (l) { case "keypress": if (qs(d) === 0) break e; case "keydown": case "keyup": dt = vr; break; case "focusin": an = "focus", dt = Qo; break; case "focusout": an = "blur", dt = Qo; break; case "beforeblur": case "afterblur": dt = Qo; break; case "click": if (d.button === 2) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": dt = Ec; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": dt = Tl; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": dt = di; break; case R: case K: case ee: dt = Q; break; case ze: dt = Wi; break; case "scroll": case "scrollend": dt = Lo; break; case "wheel": dt = _s; break; case "copy": case "cut": case "paste": dt = Fe; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": dt = Qi; break; case "toggle": case "beforetoggle": dt = Fl }var Qn = (c & 4) !== 0, Oi = !Qn && (l === "scroll" || l === "scrollend"), Ze = Qn ? ct !== null ? ct + "Capture" : null : ct; Qn = []; for (var Ve = it, rt; Ve !== null;) { var bt = Ve; if (rt = bt.stateNode, bt = bt.tag, bt !== 5 && bt !== 26 && bt !== 27 || rt === null || Ze === null || (bt = Zs(Ve, Ze), bt != null && Qn.push(xm(Ve, bt, rt))), Oi) break; Ve = Ve.return } 0 < Qn.length && (ct = new dt(ct, an, null, d, mt), Et.push({ event: ct, listeners: Qn })) } } if ((c & 7) === 0) { e: { if (ct = l === "mouseover" || l === "pointerover", dt = l === "mouseout" || l === "pointerout", ct && d !== so && (an = d.relatedTarget || d.fromElement) && (mi(an) || an[cs])) break e; if ((dt || ct) && (ct = mt.window === mt ? mt : (ct = mt.ownerDocument) ? ct.defaultView || ct.parentWindow : window, dt ? (an = d.relatedTarget || d.toElement, dt = it, an = an ? mi(an) : null, an !== null && (Oi = s(an), Qn = an.tag, an !== Oi || Qn !== 5 && Qn !== 27 && Qn !== 6) && (an = null)) : (dt = null, an = it), dt !== an)) { if (Qn = Ec, bt = "onMouseLeave", Ze = "onMouseEnter", Ve = "mouse", (l === "pointerout" || l === "pointerover") && (Qn = Qi, bt = "onPointerLeave", Ze = "onPointerEnter", Ve = "pointer"), Oi = dt == null ? ct : _l(dt), rt = an == null ? ct : _l(an), ct = new Qn(bt, Ve + "leave", dt, d, mt), ct.target = Oi, ct.relatedTarget = rt, bt = null, mi(mt) === it && (Qn = new Qn(Ze, Ve + "enter", an, d, mt), Qn.target = rt, Qn.relatedTarget = Oi, bt = Qn), Oi = bt, dt && an) t: { for (Qn = XD, Ze = dt, Ve = an, rt = 0, bt = Ze; bt; bt = Qn(bt))rt++; bt = 0; for (var Nn = Ve; Nn; Nn = Qn(Nn))bt++; for (; 0 < rt - bt;)Ze = Qn(Ze), rt--; for (; 0 < bt - rt;)Ve = Qn(Ve), bt--; for (; rt--;) { if (Ze === Ve || Ve !== null && Ze === Ve.alternate) { Qn = Ze; break t } Ze = Qn(Ze), Ve = Qn(Ve) } Qn = null } else Qn = null; dt !== null && N_(Et, ct, dt, Qn, !1), an !== null && Oi !== null && N_(Et, Oi, an, Qn, !0) } } e: { if (ct = it ? _l(it) : window, dt = ct.nodeName && ct.nodeName.toLowerCase(), dt === "select" || dt === "input" && ct.type === "file") var ri = Po; else if (xA(ct)) if (Nr) ri = zo; else { ri = oi; var dn = Ol } else dt = ct.nodeName, !dt || dt.toLowerCase() !== "input" || ct.type !== "checkbox" && ct.type !== "radio" ? it && Bc(it.elementType) && (ri = Po) : ri = jo; if (ri && (ri = ri(l, it))) { Ds(Et, ri, d, mt); break e } dn && dn(l, ct, it), l === "focusout" && it && ct.type === "number" && it.memoizedProps.value != null && yA(ct, "number", ct.value) } switch (dn = it ? _l(it) : window, l) { case "focusin": (xA(dn) || dn.contentEditable === "true") && (ks = dn, fo = it, Ni = null); break; case "focusout": Ni = fo = ks = null; break; case "mousedown": ra = !0; break; case "contextmenu": case "mouseup": case "dragend": ra = !1, Sr(Et, d, mt); break; case "selectionchange": if (Ka) break; case "keydown": case "keyup": Sr(Et, d, mt) }var fr; if (ai) e: { switch (l) { case "compositionstart": var Ir = "onCompositionStart"; break e; case "compositionend": Ir = "onCompositionEnd"; break e; case "compositionupdate": Ir = "onCompositionUpdate"; break e }Ir = void 0 } else Do ? Ul(l, d) && (Ir = "onCompositionEnd") : l === "keydown" && d.keyCode === 229 && (Ir = "onCompositionStart"); Ir && (ds && d.locale !== "ko" && (Do || Ir !== "onCompositionStart" ? Ir === "onCompositionEnd" && Do && (fr = Zl()) : (Ls = mt, Oo = "value" in Ls ? Ls.value : Ls.textContent, Do = !0)), dn = Pv(it, Ir), 0 < dn.length && (Ir = new Ge(Ir, l, null, d, mt), Et.push({ event: Ir, listeners: dn }), fr ? Ir.data = fr : (fr = $l(d), fr !== null && (Ir.data = fr)))), (fr = Er ? hs(l, d) : lo(l, d)) && (Ir = Pv(it, "onBeforeInput"), 0 < Ir.length && (dn = new Ge("onBeforeInput", "beforeinput", null, d, mt), Et.push({ event: dn, listeners: Ir }), dn.data = fr)), GD(Et, l, it, d, mt) } S_(Et, c) }) } function xm(l, c, d) { return { instance: l, listener: c, currentTarget: d } } function Pv(l, c) { for (var d = c + "Capture", v = []; l !== null;) { var N = l, U = N.stateNode; if (N = N.tag, N !== 5 && N !== 26 && N !== 27 || U === null || (N = Zs(l, d), N != null && v.unshift(xm(l, N, U)), N = Zs(l, c), N != null && v.push(xm(l, N, U))), l.tag === 3) return v; l = l.return } return [] } function XD(l) { if (l === null) return null; do l = l.return; while (l && l.tag !== 5 && l.tag !== 27); return l || null } function N_(l, c, d, v, N) { for (var U = c._reactName, te = []; d !== null && d !== v;) { var ve = d, Le = ve.alternate, it = ve.stateNode; if (ve = ve.tag, Le !== null && Le === v) break; ve !== 5 && ve !== 26 && ve !== 27 || it === null || (Le = it, N ? (it = Zs(d, U), it != null && te.unshift(xm(d, it, Le))) : N || (it = Zs(d, U), it != null && te.push(xm(d, it, Le)))), d = d.return } te.length !== 0 && l.push({ event: c, listeners: te }) } var ZD = /\r\n?/g, qD = /\u0000|\uFFFD/g; function k_(l) {
    return (typeof l == "string" ? l : "" + l).replace(ZD, `
`).replace(qD, "")
  } function T_(l, c) { return c = k_(c), k_(l) === c } function Ui(l, c, d, v, N, U) { switch (d) { case "children": typeof v == "string" ? c === "body" || c === "textarea" && v === "" || To(l, v) : (typeof v == "number" || typeof v == "bigint") && c !== "body" && To(l, "" + v); break; case "className": ya(l, "class", v); break; case "tabIndex": ya(l, "tabindex", v); break; case "dir": case "role": case "viewBox": case "width": case "height": ya(l, d, v); break; case "style": au(l, v, U); break; case "data": if (c !== "object") { ya(l, "data", v); break } case "src": case "href": if (v === "" && (c !== "a" || d !== "href")) { l.removeAttribute(d); break } if (v == null || typeof v == "function" || typeof v == "symbol" || typeof v == "boolean") { l.removeAttribute(d); break } v = ei("" + v), l.setAttribute(d, v); break; case "action": case "formAction": if (typeof v == "function") { l.setAttribute(d, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"); break } else typeof U == "function" && (d === "formAction" ? (c !== "input" && Ui(l, c, "name", N.name, N, null), Ui(l, c, "formEncType", N.formEncType, N, null), Ui(l, c, "formMethod", N.formMethod, N, null), Ui(l, c, "formTarget", N.formTarget, N, null)) : (Ui(l, c, "encType", N.encType, N, null), Ui(l, c, "method", N.method, N, null), Ui(l, c, "target", N.target, N, null))); if (v == null || typeof v == "symbol" || typeof v == "boolean") { l.removeAttribute(d); break } v = ei("" + v), l.setAttribute(d, v); break; case "onClick": v != null && (l.onclick = Fo); break; case "onScroll": v != null && Tr("scroll", l); break; case "onScrollEnd": v != null && Tr("scrollend", l); break; case "dangerouslySetInnerHTML": if (v != null) { if (typeof v != "object" || !("__html" in v)) throw Error(r(61)); if (d = v.__html, d != null) { if (N.children != null) throw Error(r(60)); l.innerHTML = d } } break; case "multiple": l.multiple = v && typeof v != "function" && typeof v != "symbol"; break; case "muted": l.muted = v && typeof v != "function" && typeof v != "symbol"; break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "defaultValue": case "defaultChecked": case "innerHTML": case "ref": break; case "autoFocus": break; case "xlinkHref": if (v == null || typeof v == "function" || typeof v == "boolean" || typeof v == "symbol") { l.removeAttribute("xlink:href"); break } d = ei("" + v), l.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", d); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": v != null && typeof v != "function" && typeof v != "symbol" ? l.setAttribute(d, "" + v) : l.removeAttribute(d); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": v && typeof v != "function" && typeof v != "symbol" ? l.setAttribute(d, "") : l.removeAttribute(d); break; case "capture": case "download": v === !0 ? l.setAttribute(d, "") : v !== !1 && v != null && typeof v != "function" && typeof v != "symbol" ? l.setAttribute(d, v) : l.removeAttribute(d); break; case "cols": case "rows": case "size": case "span": v != null && typeof v != "function" && typeof v != "symbol" && !isNaN(v) && 1 <= v ? l.setAttribute(d, v) : l.removeAttribute(d); break; case "rowSpan": case "start": v == null || typeof v == "function" || typeof v == "symbol" || isNaN(v) ? l.removeAttribute(d) : l.setAttribute(d, v); break; case "popover": Tr("beforetoggle", l), Tr("toggle", l), Da(l, "popover", v); break; case "xlinkActuate": wa(l, "http://www.w3.org/1999/xlink", "xlink:actuate", v); break; case "xlinkArcrole": wa(l, "http://www.w3.org/1999/xlink", "xlink:arcrole", v); break; case "xlinkRole": wa(l, "http://www.w3.org/1999/xlink", "xlink:role", v); break; case "xlinkShow": wa(l, "http://www.w3.org/1999/xlink", "xlink:show", v); break; case "xlinkTitle": wa(l, "http://www.w3.org/1999/xlink", "xlink:title", v); break; case "xlinkType": wa(l, "http://www.w3.org/1999/xlink", "xlink:type", v); break; case "xmlBase": wa(l, "http://www.w3.org/XML/1998/namespace", "xml:base", v); break; case "xmlLang": wa(l, "http://www.w3.org/XML/1998/namespace", "xml:lang", v); break; case "xmlSpace": wa(l, "http://www.w3.org/XML/1998/namespace", "xml:space", v); break; case "is": Da(l, "is", v); break; case "innerText": case "textContent": break; default: (!(2 < d.length) || d[0] !== "o" && d[0] !== "O" || d[1] !== "n" && d[1] !== "N") && (d = Cc.get(d) || d, Da(l, d, v)) } } function C2(l, c, d, v, N, U) { switch (d) { case "style": au(l, v, U); break; case "dangerouslySetInnerHTML": if (v != null) { if (typeof v != "object" || !("__html" in v)) throw Error(r(61)); if (d = v.__html, d != null) { if (N.children != null) throw Error(r(60)); l.innerHTML = d } } break; case "children": typeof v == "string" ? To(l, v) : (typeof v == "number" || typeof v == "bigint") && To(l, "" + v); break; case "onScroll": v != null && Tr("scroll", l); break; case "onScrollEnd": v != null && Tr("scrollend", l); break; case "onClick": v != null && (l.onclick = Fo); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "innerHTML": case "ref": break; case "innerText": case "textContent": break; default: if (!Es.hasOwnProperty(d)) e: { if (d[0] === "o" && d[1] === "n" && (N = d.endsWith("Capture"), c = d.slice(2, N ? d.length - 7 : void 0), U = l[fi] || null, U = U != null ? U[d] : null, typeof U == "function" && l.removeEventListener(c, U, N), typeof v == "function")) { typeof U != "function" && U !== null && (d in l ? l[d] = null : l.hasAttribute(d) && l.removeAttribute(d)), l.addEventListener(c, v, N); break e } d in l ? l[d] = v : v === !0 ? l.setAttribute(d, "") : Da(l, d, v) } } } function Jo(l, c, d) { switch (c) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "img": Tr("error", l), Tr("load", l); var v = !1, N = !1, U; for (U in d) if (d.hasOwnProperty(U)) { var te = d[U]; if (te != null) switch (U) { case "src": v = !0; break; case "srcSet": N = !0; break; case "children": case "dangerouslySetInnerHTML": throw Error(r(137, c)); default: Ui(l, c, U, te, d, null) } } N && Ui(l, c, "srcSet", d.srcSet, d, null), v && Ui(l, c, "src", d.src, d, null); return; case "input": Tr("invalid", l); var ve = U = te = N = null, Le = null, it = null; for (v in d) if (d.hasOwnProperty(v)) { var mt = d[v]; if (mt != null) switch (v) { case "name": N = mt; break; case "type": te = mt; break; case "checked": Le = mt; break; case "defaultChecked": it = mt; break; case "value": U = mt; break; case "defaultValue": ve = mt; break; case "children": case "dangerouslySetInnerHTML": if (mt != null) throw Error(r(137, c)); break; default: Ui(l, c, v, mt, d, null) } } ko(l, U, ve, Le, it, te, N, !1); return; case "select": Tr("invalid", l), v = te = U = null; for (N in d) if (d.hasOwnProperty(N) && (ve = d[N], ve != null)) switch (N) { case "value": U = ve; break; case "defaultValue": te = ve; break; case "multiple": v = ve; default: Ui(l, c, N, ve, d, null) }c = U, d = te, l.multiple = !!v, c != null ? Ss(l, !!v, c, !1) : d != null && Ss(l, !!v, d, !0); return; case "textarea": Tr("invalid", l), U = N = v = null; for (te in d) if (d.hasOwnProperty(te) && (ve = d[te], ve != null)) switch (te) { case "value": v = ve; break; case "defaultValue": N = ve; break; case "children": U = ve; break; case "dangerouslySetInnerHTML": if (ve != null) throw Error(r(91)); break; default: Ui(l, c, te, ve, d, null) }WA(l, v, N, U); return; case "option": for (Le in d) if (d.hasOwnProperty(Le) && (v = d[Le], v != null)) switch (Le) { case "selected": l.selected = v && typeof v != "function" && typeof v != "symbol"; break; default: Ui(l, c, Le, v, d, null) }return; case "dialog": Tr("beforetoggle", l), Tr("toggle", l), Tr("cancel", l), Tr("close", l); break; case "iframe": case "object": Tr("load", l); break; case "video": case "audio": for (v = 0; v < bm.length; v++)Tr(bm[v], l); break; case "image": Tr("error", l), Tr("load", l); break; case "details": Tr("toggle", l); break; case "embed": case "source": case "link": Tr("error", l), Tr("load", l); case "area": case "base": case "br": case "col": case "hr": case "keygen": case "meta": case "param": case "track": case "wbr": case "menuitem": for (it in d) if (d.hasOwnProperty(it) && (v = d[it], v != null)) switch (it) { case "children": case "dangerouslySetInnerHTML": throw Error(r(137, c)); default: Ui(l, c, it, v, d, null) }return; default: if (Bc(c)) { for (mt in d) d.hasOwnProperty(mt) && (v = d[mt], v !== void 0 && C2(l, c, mt, v, d, void 0)); return } }for (ve in d) d.hasOwnProperty(ve) && (v = d[ve], v != null && Ui(l, c, ve, v, d, null)) } function $D(l, c, d, v) { switch (c) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "input": var N = null, U = null, te = null, ve = null, Le = null, it = null, mt = null; for (dt in d) { var Et = d[dt]; if (d.hasOwnProperty(dt) && Et != null) switch (dt) { case "checked": break; case "value": break; case "defaultValue": Le = Et; default: v.hasOwnProperty(dt) || Ui(l, c, dt, null, v, Et) } } for (var ct in v) { var dt = v[ct]; if (Et = d[ct], v.hasOwnProperty(ct) && (dt != null || Et != null)) switch (ct) { case "type": U = dt; break; case "name": N = dt; break; case "checked": it = dt; break; case "defaultChecked": mt = dt; break; case "value": te = dt; break; case "defaultValue": ve = dt; break; case "children": case "dangerouslySetInnerHTML": if (dt != null) throw Error(r(137, c)); break; default: dt !== Et && Ui(l, c, ct, dt, v, Et) } } Jl(l, te, ve, Le, it, mt, U, N); return; case "select": dt = te = ve = ct = null; for (U in d) if (Le = d[U], d.hasOwnProperty(U) && Le != null) switch (U) { case "value": break; case "multiple": dt = Le; default: v.hasOwnProperty(U) || Ui(l, c, U, null, v, Le) }for (N in v) if (U = v[N], Le = d[N], v.hasOwnProperty(N) && (U != null || Le != null)) switch (N) { case "value": ct = U; break; case "defaultValue": ve = U; break; case "multiple": te = U; default: U !== Le && Ui(l, c, N, U, v, Le) }c = ve, d = te, v = dt, ct != null ? Ss(l, !!d, ct, !1) : !!v != !!d && (c != null ? Ss(l, !!d, c, !0) : Ss(l, !!d, d ? [] : "", !1)); return; case "textarea": dt = ct = null; for (ve in d) if (N = d[ve], d.hasOwnProperty(ve) && N != null && !v.hasOwnProperty(ve)) switch (ve) { case "value": break; case "children": break; default: Ui(l, c, ve, null, v, N) }for (te in v) if (N = v[te], U = d[te], v.hasOwnProperty(te) && (N != null || U != null)) switch (te) { case "value": ct = N; break; case "defaultValue": dt = N; break; case "children": break; case "dangerouslySetInnerHTML": if (N != null) throw Error(r(91)); break; default: N !== U && Ui(l, c, te, N, v, U) }io(l, ct, dt); return; case "option": for (var an in d) if (ct = d[an], d.hasOwnProperty(an) && ct != null && !v.hasOwnProperty(an)) switch (an) { case "selected": l.selected = !1; break; default: Ui(l, c, an, null, v, ct) }for (Le in v) if (ct = v[Le], dt = d[Le], v.hasOwnProperty(Le) && ct !== dt && (ct != null || dt != null)) switch (Le) { case "selected": l.selected = ct && typeof ct != "function" && typeof ct != "symbol"; break; default: Ui(l, c, Le, ct, v, dt) }return; case "img": case "link": case "area": case "base": case "br": case "col": case "embed": case "hr": case "keygen": case "meta": case "param": case "source": case "track": case "wbr": case "menuitem": for (var Qn in d) ct = d[Qn], d.hasOwnProperty(Qn) && ct != null && !v.hasOwnProperty(Qn) && Ui(l, c, Qn, null, v, ct); for (it in v) if (ct = v[it], dt = d[it], v.hasOwnProperty(it) && ct !== dt && (ct != null || dt != null)) switch (it) { case "children": case "dangerouslySetInnerHTML": if (ct != null) throw Error(r(137, c)); break; default: Ui(l, c, it, ct, v, dt) }return; default: if (Bc(c)) { for (var Oi in d) ct = d[Oi], d.hasOwnProperty(Oi) && ct !== void 0 && !v.hasOwnProperty(Oi) && C2(l, c, Oi, void 0, v, ct); for (mt in v) ct = v[mt], dt = d[mt], !v.hasOwnProperty(mt) || ct === dt || ct === void 0 && dt === void 0 || C2(l, c, mt, ct, v, dt); return } }for (var Ze in d) ct = d[Ze], d.hasOwnProperty(Ze) && ct != null && !v.hasOwnProperty(Ze) && Ui(l, c, Ze, null, v, ct); for (Et in v) ct = v[Et], dt = d[Et], !v.hasOwnProperty(Et) || ct === dt || ct == null && dt == null || Ui(l, c, Et, ct, v, dt) } function F_(l) { switch (l) { case "css": case "script": case "font": case "img": case "image": case "input": case "link": return !0; default: return !1 } } function e8() { if (typeof performance.getEntriesByType == "function") { for (var l = 0, c = 0, d = performance.getEntriesByType("resource"), v = 0; v < d.length; v++) { var N = d[v], U = N.transferSize, te = N.initiatorType, ve = N.duration; if (U && ve && F_(te)) { for (te = 0, ve = N.responseEnd, v += 1; v < d.length; v++) { var Le = d[v], it = Le.startTime; if (it > ve) break; var mt = Le.transferSize, Et = Le.initiatorType; mt && F_(Et) && (Le = Le.responseEnd, te += mt * (Le < ve ? 1 : (ve - it) / (Le - it))) } if (--v, c += 8 * (U + te) / (N.duration / 1e3), l++, 10 < l) break } } if (0 < l) return c / l / 1e6 } return navigator.connection && (l = navigator.connection.downlink, typeof l == "number") ? l : 5 } var E2 = null, S2 = null; function Hv(l) { return l.nodeType === 9 ? l : l.ownerDocument } function U_(l) { switch (l) { case "http://www.w3.org/2000/svg": return 1; case "http://www.w3.org/1998/Math/MathML": return 2; default: return 0 } } function O_(l, c) { if (l === 0) switch (c) { case "svg": return 1; case "math": return 2; default: return 0 }return l === 1 && c === "foreignObject" ? 0 : l } function _2(l, c) { return l === "textarea" || l === "noscript" || typeof c.children == "string" || typeof c.children == "number" || typeof c.children == "bigint" || typeof c.dangerouslySetInnerHTML == "object" && c.dangerouslySetInnerHTML !== null && c.dangerouslySetInnerHTML.__html != null } var N2 = null; function t8() { var l = window.event; return l && l.type === "popstate" ? l === N2 ? !1 : (N2 = l, !0) : (N2 = null, !1) } var R_ = typeof setTimeout == "function" ? setTimeout : void 0, n8 = typeof clearTimeout == "function" ? clearTimeout : void 0, I_ = typeof Promise == "function" ? Promise : void 0, r8 = typeof queueMicrotask == "function" ? queueMicrotask : typeof I_ < "u" ? function (l) { return I_.resolve(null).then(l).catch(i8) } : R_; function i8(l) { setTimeout(function () { throw l }) } function zf(l) { return l === "head" } function L_(l, c) { var d = c, v = 0; do { var N = d.nextSibling; if (l.removeChild(d), N && N.nodeType === 8) if (d = N.data, d === "/$" || d === "/&") { if (v === 0) { l.removeChild(N), Rp(c); return } v-- } else if (d === "$" || d === "$?" || d === "$~" || d === "$!" || d === "&") v++; else if (d === "html") Bm(l.ownerDocument.documentElement); else if (d === "head") { d = l.ownerDocument.head, Bm(d); for (var U = d.firstChild; U;) { var te = U.nextSibling, ve = U.nodeName; U[cr] || ve === "SCRIPT" || ve === "STYLE" || ve === "LINK" && U.rel.toLowerCase() === "stylesheet" || d.removeChild(U), U = te } } else d === "body" && Bm(l.ownerDocument.body); d = N } while (d); Rp(c) } function M_(l, c) { var d = l; l = 0; do { var v = d.nextSibling; if (d.nodeType === 1 ? c ? (d._stashedDisplay = d.style.display, d.style.display = "none") : (d.style.display = d._stashedDisplay || "", d.getAttribute("style") === "" && d.removeAttribute("style")) : d.nodeType === 3 && (c ? (d._stashedText = d.nodeValue, d.nodeValue = "") : d.nodeValue = d._stashedText || ""), v && v.nodeType === 8) if (d = v.data, d === "/$") { if (l === 0) break; l-- } else d !== "$" && d !== "$?" && d !== "$~" && d !== "$!" || l++; d = v } while (d) } function k2(l) { var c = l.firstChild; for (c && c.nodeType === 10 && (c = c.nextSibling); c;) { var d = c; switch (c = c.nextSibling, d.nodeName) { case "HTML": case "HEAD": case "BODY": k2(d), $a(d); continue; case "SCRIPT": case "STYLE": continue; case "LINK": if (d.rel.toLowerCase() === "stylesheet") continue }l.removeChild(d) } } function s8(l, c, d, v) { for (; l.nodeType === 1;) { var N = d; if (l.nodeName.toLowerCase() !== c.toLowerCase()) { if (!v && (l.nodeName !== "INPUT" || l.type !== "hidden")) break } else if (v) { if (!l[cr]) switch (c) { case "meta": if (!l.hasAttribute("itemprop")) break; return l; case "link": if (U = l.getAttribute("rel"), U === "stylesheet" && l.hasAttribute("data-precedence")) break; if (U !== N.rel || l.getAttribute("href") !== (N.href == null || N.href === "" ? null : N.href) || l.getAttribute("crossorigin") !== (N.crossOrigin == null ? null : N.crossOrigin) || l.getAttribute("title") !== (N.title == null ? null : N.title)) break; return l; case "style": if (l.hasAttribute("data-precedence")) break; return l; case "script": if (U = l.getAttribute("src"), (U !== (N.src == null ? null : N.src) || l.getAttribute("type") !== (N.type == null ? null : N.type) || l.getAttribute("crossorigin") !== (N.crossOrigin == null ? null : N.crossOrigin)) && U && l.hasAttribute("async") && !l.hasAttribute("itemprop")) break; return l; default: return l } } else if (c === "input" && l.type === "hidden") { var U = N.name == null ? null : "" + N.name; if (N.type === "hidden" && l.getAttribute("name") === U) return l } else return l; if (l = tc(l.nextSibling), l === null) break } return null } function a8(l, c, d) { if (c === "") return null; for (; l.nodeType !== 3;)if ((l.nodeType !== 1 || l.nodeName !== "INPUT" || l.type !== "hidden") && !d || (l = tc(l.nextSibling), l === null)) return null; return l } function Q_(l, c) { for (; l.nodeType !== 8;)if ((l.nodeType !== 1 || l.nodeName !== "INPUT" || l.type !== "hidden") && !c || (l = tc(l.nextSibling), l === null)) return null; return l } function T2(l) { return l.data === "$?" || l.data === "$~" } function F2(l) { return l.data === "$!" || l.data === "$?" && l.ownerDocument.readyState !== "loading" } function o8(l, c) { var d = l.ownerDocument; if (l.data === "$~") l._reactRetry = c; else if (l.data !== "$?" || d.readyState !== "loading") c(); else { var v = function () { c(), d.removeEventListener("DOMContentLoaded", v) }; d.addEventListener("DOMContentLoaded", v), l._reactRetry = v } } function tc(l) { for (; l != null; l = l.nextSibling) { var c = l.nodeType; if (c === 1 || c === 3) break; if (c === 8) { if (c = l.data, c === "$" || c === "$!" || c === "$?" || c === "$~" || c === "&" || c === "F!" || c === "F") break; if (c === "/$" || c === "/&") return null } } return l } var U2 = null; function D_(l) { l = l.nextSibling; for (var c = 0; l;) { if (l.nodeType === 8) { var d = l.data; if (d === "/$" || d === "/&") { if (c === 0) return tc(l.nextSibling); c-- } else d !== "$" && d !== "$!" && d !== "$?" && d !== "$~" && d !== "&" || c++ } l = l.nextSibling } return null } function P_(l) { l = l.previousSibling; for (var c = 0; l;) { if (l.nodeType === 8) { var d = l.data; if (d === "$" || d === "$!" || d === "$?" || d === "$~" || d === "&") { if (c === 0) return l; c-- } else d !== "/$" && d !== "/&" || c++ } l = l.previousSibling } return null } function H_(l, c, d) { switch (c = Hv(d), l) { case "html": if (l = c.documentElement, !l) throw Error(r(452)); return l; case "head": if (l = c.head, !l) throw Error(r(453)); return l; case "body": if (l = c.body, !l) throw Error(r(454)); return l; default: throw Error(r(451)) } } function Bm(l) { for (var c = l.attributes; c.length;)l.removeAttributeNode(c[0]); $a(l) } var nc = new Map, j_ = new Set; function jv(l) { return typeof l.getRootNode == "function" ? l.getRootNode() : l.nodeType === 9 ? l : l.ownerDocument } var Xu = ae.d; ae.d = { f: l8, r: A8, D: c8, C: u8, L: f8, m: d8, X: p8, S: h8, M: g8 }; function l8() { var l = Xu.f(), c = Ov(); return l || c } function A8(l) { var c = _o(l); c !== null && c.tag === 5 && c.type === "form" ? pp(c) : Xu.r(l) } var Fp = typeof document > "u" ? null : document; function z_(l, c, d) { var v = Fp; if (v && typeof c == "string" && c) { var N = vi(c); N = 'link[rel="' + l + '"][href="' + N + '"]', typeof d == "string" && (N += '[crossorigin="' + d + '"]'), j_.has(N) || (j_.add(N), l = { rel: l, crossOrigin: d, href: c }, v.querySelector(N) === null && (c = v.createElement("link"), Jo(c, "link", l), Si(c), v.head.appendChild(c))) } } function c8(l) { Xu.D(l), z_("dns-prefetch", l, null) } function u8(l, c) { Xu.C(l, c), z_("preconnect", l, c) } function f8(l, c, d) { Xu.L(l, c, d); var v = Fp; if (v && l && c) { var N = 'link[rel="preload"][as="' + vi(c) + '"]'; c === "image" && d && d.imageSrcSet ? (N += '[imagesrcset="' + vi(d.imageSrcSet) + '"]', typeof d.imageSizes == "string" && (N += '[imagesizes="' + vi(d.imageSizes) + '"]')) : N += '[href="' + vi(l) + '"]'; var U = N; switch (c) { case "style": U = Up(l); break; case "script": U = Op(l) }nc.has(U) || (l = h({ rel: "preload", href: c === "image" && d && d.imageSrcSet ? void 0 : l, as: c }, d), nc.set(U, l), v.querySelector(N) !== null || c === "style" && v.querySelector(Cm(U)) || c === "script" && v.querySelector(Em(U)) || (c = v.createElement("link"), Jo(c, "link", l), Si(c), v.head.appendChild(c))) } } function d8(l, c) { Xu.m(l, c); var d = Fp; if (d && l) { var v = c && typeof c.as == "string" ? c.as : "script", N = 'link[rel="modulepreload"][as="' + vi(v) + '"][href="' + vi(l) + '"]', U = N; switch (v) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": U = Op(l) }if (!nc.has(U) && (l = h({ rel: "modulepreload", href: l }, c), nc.set(U, l), d.querySelector(N) === null)) { switch (v) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": if (d.querySelector(Em(U))) return }v = d.createElement("link"), Jo(v, "link", l), Si(v), d.head.appendChild(v) } } } function h8(l, c, d) { Xu.S(l, c, d); var v = Fp; if (v && l) { var N = No(v).hoistableStyles, U = Up(l); c = c || "default"; var te = N.get(U); if (!te) { var ve = { loading: 0, preload: null }; if (te = v.querySelector(Cm(U))) ve.loading = 5; else { l = h({ rel: "stylesheet", href: l, "data-precedence": c }, d), (d = nc.get(U)) && O2(l, d); var Le = te = v.createElement("link"); Si(Le), Jo(Le, "link", l), Le._p = new Promise(function (it, mt) { Le.onload = it, Le.onerror = mt }), Le.addEventListener("load", function () { ve.loading |= 1 }), Le.addEventListener("error", function () { ve.loading |= 2 }), ve.loading |= 4, zv(te, c, v) } te = { type: "stylesheet", instance: te, count: 1, state: ve }, N.set(U, te) } } } function p8(l, c) { Xu.X(l, c); var d = Fp; if (d && l) { var v = No(d).hoistableScripts, N = Op(l), U = v.get(N); U || (U = d.querySelector(Em(N)), U || (l = h({ src: l, async: !0 }, c), (c = nc.get(N)) && R2(l, c), U = d.createElement("script"), Si(U), Jo(U, "link", l), d.head.appendChild(U)), U = { type: "script", instance: U, count: 1, state: null }, v.set(N, U)) } } function g8(l, c) { Xu.M(l, c); var d = Fp; if (d && l) { var v = No(d).hoistableScripts, N = Op(l), U = v.get(N); U || (U = d.querySelector(Em(N)), U || (l = h({ src: l, async: !0, type: "module" }, c), (c = nc.get(N)) && R2(l, c), U = d.createElement("script"), Si(U), Jo(U, "link", l), d.head.appendChild(U)), U = { type: "script", instance: U, count: 1, state: null }, v.set(N, U)) } } function K_(l, c, d, v) { var N = (N = de.current) ? jv(N) : null; if (!N) throw Error(r(446)); switch (l) { case "meta": case "title": return null; case "style": return typeof d.precedence == "string" && typeof d.href == "string" ? (c = Up(d.href), d = No(N).hoistableStyles, v = d.get(c), v || (v = { type: "style", instance: null, count: 0, state: null }, d.set(c, v)), v) : { type: "void", instance: null, count: 0, state: null }; case "link": if (d.rel === "stylesheet" && typeof d.href == "string" && typeof d.precedence == "string") { l = Up(d.href); var U = No(N).hoistableStyles, te = U.get(l); if (te || (N = N.ownerDocument || N, te = { type: "stylesheet", instance: null, count: 0, state: { loading: 0, preload: null } }, U.set(l, te), (U = N.querySelector(Cm(l))) && !U._p && (te.instance = U, te.state.loading = 5), nc.has(l) || (d = { rel: "preload", as: "style", href: d.href, crossOrigin: d.crossOrigin, integrity: d.integrity, media: d.media, hrefLang: d.hrefLang, referrerPolicy: d.referrerPolicy }, nc.set(l, d), U || m8(N, l, d, te.state))), c && v === null) throw Error(r(528, "")); return te } if (c && v !== null) throw Error(r(529, "")); return null; case "script": return c = d.async, d = d.src, typeof d == "string" && c && typeof c != "function" && typeof c != "symbol" ? (c = Op(d), d = No(N).hoistableScripts, v = d.get(c), v || (v = { type: "script", instance: null, count: 0, state: null }, d.set(c, v)), v) : { type: "void", instance: null, count: 0, state: null }; default: throw Error(r(444, l)) } } function Up(l) { return 'href="' + vi(l) + '"' } function Cm(l) { return 'link[rel="stylesheet"][' + l + "]" } function V_(l) { return h({}, l, { "data-precedence": l.precedence, precedence: null }) } function m8(l, c, d, v) { l.querySelector('link[rel="preload"][as="style"][' + c + "]") ? v.loading = 1 : (c = l.createElement("link"), v.preload = c, c.addEventListener("load", function () { return v.loading |= 1 }), c.addEventListener("error", function () { return v.loading |= 2 }), Jo(c, "link", d), Si(c), l.head.appendChild(c)) } function Op(l) { return '[src="' + vi(l) + '"]' } function Em(l) { return "script[async]" + l } function G_(l, c, d) { if (c.count++, c.instance === null) switch (c.type) { case "style": var v = l.querySelector('style[data-href~="' + vi(d.href) + '"]'); if (v) return c.instance = v, Si(v), v; var N = h({}, d, { "data-href": d.href, "data-precedence": d.precedence, href: null, precedence: null }); return v = (l.ownerDocument || l).createElement("style"), Si(v), Jo(v, "style", N), zv(v, d.precedence, l), c.instance = v; case "stylesheet": N = Up(d.href); var U = l.querySelector(Cm(N)); if (U) return c.state.loading |= 4, c.instance = U, Si(U), U; v = V_(d), (N = nc.get(N)) && O2(v, N), U = (l.ownerDocument || l).createElement("link"), Si(U); var te = U; return te._p = new Promise(function (ve, Le) { te.onload = ve, te.onerror = Le }), Jo(U, "link", v), c.state.loading |= 4, zv(U, d.precedence, l), c.instance = U; case "script": return U = Op(d.src), (N = l.querySelector(Em(U))) ? (c.instance = N, Si(N), N) : (v = d, (N = nc.get(U)) && (v = h({}, d), R2(v, N)), l = l.ownerDocument || l, N = l.createElement("script"), Si(N), Jo(N, "link", v), l.head.appendChild(N), c.instance = N); case "void": return null; default: throw Error(r(443, c.type)) } else c.type === "stylesheet" && (c.state.loading & 4) === 0 && (v = c.instance, c.state.loading |= 4, zv(v, d.precedence, l)); return c.instance } function zv(l, c, d) { for (var v = d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), N = v.length ? v[v.length - 1] : null, U = N, te = 0; te < v.length; te++) { var ve = v[te]; if (ve.dataset.precedence === c) U = ve; else if (U !== N) break } U ? U.parentNode.insertBefore(l, U.nextSibling) : (c = d.nodeType === 9 ? d.head : d, c.insertBefore(l, c.firstChild)) } function O2(l, c) { l.crossOrigin == null && (l.crossOrigin = c.crossOrigin), l.referrerPolicy == null && (l.referrerPolicy = c.referrerPolicy), l.title == null && (l.title = c.title) } function R2(l, c) { l.crossOrigin == null && (l.crossOrigin = c.crossOrigin), l.referrerPolicy == null && (l.referrerPolicy = c.referrerPolicy), l.integrity == null && (l.integrity = c.integrity) } var Kv = null; function W_(l, c, d) { if (Kv === null) { var v = new Map, N = Kv = new Map; N.set(d, v) } else N = Kv, v = N.get(d), v || (v = new Map, N.set(d, v)); if (v.has(l)) return v; for (v.set(l, null), d = d.getElementsByTagName(l), N = 0; N < d.length; N++) { var U = d[N]; if (!(U[cr] || U[Kr] || l === "link" && U.getAttribute("rel") === "stylesheet") && U.namespaceURI !== "http://www.w3.org/2000/svg") { var te = U.getAttribute(c) || ""; te = l + te; var ve = v.get(te); ve ? ve.push(U) : v.set(te, [U]) } } return v } function Y_(l, c, d) { l = l.ownerDocument || l, l.head.insertBefore(d, c === "title" ? l.querySelector("head > title") : null) } function v8(l, c, d) { if (d === 1 || c.itemProp != null) return !1; switch (l) { case "meta": case "title": return !0; case "style": if (typeof c.precedence != "string" || typeof c.href != "string" || c.href === "") break; return !0; case "link": if (typeof c.rel != "string" || typeof c.href != "string" || c.href === "" || c.onLoad || c.onError) break; switch (c.rel) { case "stylesheet": return l = c.disabled, typeof c.precedence == "string" && l == null; default: return !0 }case "script": if (c.async && typeof c.async != "function" && typeof c.async != "symbol" && !c.onLoad && !c.onError && c.src && typeof c.src == "string") return !0 }return !1 } function J_(l) { return !(l.type === "stylesheet" && (l.state.loading & 3) === 0) } function y8(l, c, d, v) { if (d.type === "stylesheet" && (typeof v.media != "string" || matchMedia(v.media).matches !== !1) && (d.state.loading & 4) === 0) { if (d.instance === null) { var N = Up(v.href), U = c.querySelector(Cm(N)); if (U) { c = U._p, c !== null && typeof c == "object" && typeof c.then == "function" && (l.count++, l = Vv.bind(l), c.then(l, l)), d.state.loading |= 4, d.instance = U, Si(U); return } U = c.ownerDocument || c, v = V_(v), (N = nc.get(N)) && O2(v, N), U = U.createElement("link"), Si(U); var te = U; te._p = new Promise(function (ve, Le) { te.onload = ve, te.onerror = Le }), Jo(U, "link", v), d.instance = U } l.stylesheets === null && (l.stylesheets = new Map), l.stylesheets.set(d, c), (c = d.state.preload) && (d.state.loading & 3) === 0 && (l.count++, d = Vv.bind(l), c.addEventListener("load", d), c.addEventListener("error", d)) } } var I2 = 0; function w8(l, c) { return l.stylesheets && l.count === 0 && Wv(l, l.stylesheets), 0 < l.count || 0 < l.imgCount ? function (d) { var v = setTimeout(function () { if (l.stylesheets && Wv(l, l.stylesheets), l.unsuspend) { var U = l.unsuspend; l.unsuspend = null, U() } }, 6e4 + c); 0 < l.imgBytes && I2 === 0 && (I2 = 62500 * e8()); var N = setTimeout(function () { if (l.waitingForImages = !1, l.count === 0 && (l.stylesheets && Wv(l, l.stylesheets), l.unsuspend)) { var U = l.unsuspend; l.unsuspend = null, U() } }, (l.imgBytes > I2 ? 50 : 800) + c); return l.unsuspend = d, function () { l.unsuspend = null, clearTimeout(v), clearTimeout(N) } } : null } function Vv() { if (this.count--, this.count === 0 && (this.imgCount === 0 || !this.waitingForImages)) { if (this.stylesheets) Wv(this, this.stylesheets); else if (this.unsuspend) { var l = this.unsuspend; this.unsuspend = null, l() } } } var Gv = null; function Wv(l, c) { l.stylesheets = null, l.unsuspend !== null && (l.count++, Gv = new Map, c.forEach(b8, l), Gv = null, Vv.call(l)) } function b8(l, c) { if (!(c.state.loading & 4)) { var d = Gv.get(l); if (d) var v = d.get(null); else { d = new Map, Gv.set(l, d); for (var N = l.querySelectorAll("link[data-precedence],style[data-precedence]"), U = 0; U < N.length; U++) { var te = N[U]; (te.nodeName === "LINK" || te.getAttribute("media") !== "not all") && (d.set(te.dataset.precedence, te), v = te) } v && d.set(null, v) } N = c.instance, te = N.getAttribute("data-precedence"), U = d.get(te) || v, U === v && d.set(null, N), d.set(te, N), this.count++, v = Vv.bind(this), N.addEventListener("load", v), N.addEventListener("error", v), U ? U.parentNode.insertBefore(N, U.nextSibling) : (l = l.nodeType === 9 ? l.head : l, l.insertBefore(N, l.firstChild)), c.state.loading |= 4 } } var Sm = { $$typeof: I, Provider: null, Consumer: null, _currentValue: me, _currentValue2: me, _threadCount: 0 }; function x8(l, c, d, v, N, U, te, ve, Le) { this.tag = 1, this.containerInfo = l, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = Qa(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = Qa(0), this.hiddenUpdates = Qa(null), this.identifierPrefix = v, this.onUncaughtError = N, this.onCaughtError = U, this.onRecoverableError = te, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = Le, this.incompleteTransitions = new Map } function X_(l, c, d, v, N, U, te, ve, Le, it, mt, Et) { return l = new x8(l, c, d, te, Le, it, mt, Et, ve), c = 1, U === !0 && (c |= 24), U = Pr(3, null, null, c), l.current = U, U.stateNode = l, c = CA(), c.refCount++, l.pooledCache = c, c.refCount++, U.memoizedState = { element: v, isDehydrated: d, cache: c }, Tt(U), l } function Z_(l) { return l ? (l = Rn, l) : Rn } function q_(l, c, d, v, N, U) { N = Z_(N), v.context === null ? v.context = N : v.pendingContext = N, v = fn(c), v.payload = { element: d }, U = U === void 0 ? null : U, U !== null && (v.callback = U), d = _n(l, v, c), d !== null && (dA(d, l, c), lr(d, l, c)) } function $_(l, c) { if (l = l.memoizedState, l !== null && l.dehydrated !== null) { var d = l.retryLane; l.retryLane = d !== 0 && d < c ? d : c } } function L2(l, c) { $_(l, c), (l = l.alternate) && $_(l, c) } function e4(l) { if (l.tag === 13 || l.tag === 31) { var c = _r(l, 67108864); c !== null && dA(c, l, 67108864), L2(l, 67108864) } } function t4(l) { if (l.tag === 13 || l.tag === 31) { var c = FA(); c = Ar(c); var d = _r(l, c); d !== null && dA(d, l, c), L2(l, c) } } var Yv = !0; function B8(l, c, d, v) { var N = Z.T; Z.T = null; var U = ae.p; try { ae.p = 2, M2(l, c, d, v) } finally { ae.p = U, Z.T = N } } function C8(l, c, d, v) { var N = Z.T; Z.T = null; var U = ae.p; try { ae.p = 8, M2(l, c, d, v) } finally { ae.p = U, Z.T = N } } function M2(l, c, d, v) { if (Yv) { var N = Q2(v); if (N === null) B2(l, c, v, Jv, d), r4(l, v); else if (S8(N, l, c, d, v)) v.stopPropagation(); else if (r4(l, v), c & 4 && -1 < E8.indexOf(l)) { for (; N !== null;) { var U = _o(N); if (U !== null) switch (U.tag) { case 3: if (U = U.stateNode, U.current.memoizedState.isDehydrated) { var te = Zt(U.pendingLanes); if (te !== 0) { var ve = U; for (ve.pendingLanes |= 2, ve.entangledLanes |= 2; te;) { var Le = 1 << 31 - En(te); ve.entanglements[1] |= Le, te &= ~Le } mu(U), (ui & 6) === 0 && (Fv = Bt() + 500, wm(0)) } } break; case 31: case 13: ve = _r(U, 2), ve !== null && dA(ve, U, 2), Ov(), L2(U, 2) }if (U = Q2(v), U === null && B2(l, c, v, Jv, d), U === N) break; N = U } N !== null && v.stopPropagation() } else B2(l, c, v, null, d) } } function Q2(l) { return l = il(l), D2(l) } var Jv = null; function D2(l) { if (Jv = null, l = mi(l), l !== null) { var c = s(l); if (c === null) l = null; else { var d = c.tag; if (d === 13) { if (l = a(c), l !== null) return l; l = null } else if (d === 31) { if (l = o(c), l !== null) return l; l = null } else if (d === 3) { if (c.stateNode.current.memoizedState.isDehydrated) return c.tag === 3 ? c.stateNode.containerInfo : null; l = null } else c !== l && (l = null) } } return Jv = l, null } function n4(l) { switch (l) { case "beforetoggle": case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "toggle": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 2; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 8; case "message": switch (st()) { case Ct: return 2; case Xt: return 8; case Lt: case Ft: return 32; case bn: return 268435456; default: return 32 }default: return 32 } } var P2 = !1, Kf = null, Vf = null, Gf = null, _m = new Map, Nm = new Map, Wf = [], E8 = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "); function r4(l, c) { switch (l) { case "focusin": case "focusout": Kf = null; break; case "dragenter": case "dragleave": Vf = null; break; case "mouseover": case "mouseout": Gf = null; break; case "pointerover": case "pointerout": _m.delete(c.pointerId); break; case "gotpointercapture": case "lostpointercapture": Nm.delete(c.pointerId) } } function km(l, c, d, v, N, U) { return l === null || l.nativeEvent !== U ? (l = { blockedOn: c, domEventName: d, eventSystemFlags: v, nativeEvent: U, targetContainers: [N] }, c !== null && (c = _o(c), c !== null && e4(c)), l) : (l.eventSystemFlags |= v, c = l.targetContainers, N !== null && c.indexOf(N) === -1 && c.push(N), l) } function S8(l, c, d, v, N) { switch (c) { case "focusin": return Kf = km(Kf, l, c, d, v, N), !0; case "dragenter": return Vf = km(Vf, l, c, d, v, N), !0; case "mouseover": return Gf = km(Gf, l, c, d, v, N), !0; case "pointerover": var U = N.pointerId; return _m.set(U, km(_m.get(U) || null, l, c, d, v, N)), !0; case "gotpointercapture": return U = N.pointerId, Nm.set(U, km(Nm.get(U) || null, l, c, d, v, N)), !0 }return !1 } function i4(l) { var c = mi(l.target); if (c !== null) { var d = s(c); if (d !== null) { if (c = d.tag, c === 13) { if (c = a(d), c !== null) { l.blockedOn = c, Vi(l.priority, function () { t4(d) }); return } } else if (c === 31) { if (c = o(d), c !== null) { l.blockedOn = c, Vi(l.priority, function () { t4(d) }); return } } else if (c === 3 && d.stateNode.current.memoizedState.isDehydrated) { l.blockedOn = d.tag === 3 ? d.stateNode.containerInfo : null; return } } } l.blockedOn = null } function Xv(l) { if (l.blockedOn !== null) return !1; for (var c = l.targetContainers; 0 < c.length;) { var d = Q2(l.nativeEvent); if (d === null) { d = l.nativeEvent; var v = new d.constructor(d.type, d); so = v, d.target.dispatchEvent(v), so = null } else return c = _o(d), c !== null && e4(c), l.blockedOn = d, !1; c.shift() } return !0 } function s4(l, c, d) { Xv(l) && d.delete(c) } function _8() { P2 = !1, Kf !== null && Xv(Kf) && (Kf = null), Vf !== null && Xv(Vf) && (Vf = null), Gf !== null && Xv(Gf) && (Gf = null), _m.forEach(s4), Nm.forEach(s4) } function Zv(l, c) { l.blockedOn === c && (l.blockedOn = null, P2 || (P2 = !0, n.unstable_scheduleCallback(n.unstable_NormalPriority, _8))) } var qv = null; function a4(l) { qv !== l && (qv = l, n.unstable_scheduleCallback(n.unstable_NormalPriority, function () { qv === l && (qv = null); for (var c = 0; c < l.length; c += 3) { var d = l[c], v = l[c + 1], N = l[c + 2]; if (typeof v != "function") { if (D2(v || d) === null) continue; break } var U = _o(d); U !== null && (l.splice(c, 3), c -= 3, Nf(U, { pending: !0, data: N, method: d.method, action: v }, v, N)) } })) } function Rp(l) { function c(Le) { return Zv(Le, l) } Kf !== null && Zv(Kf, l), Vf !== null && Zv(Vf, l), Gf !== null && Zv(Gf, l), _m.forEach(c), Nm.forEach(c); for (var d = 0; d < Wf.length; d++) { var v = Wf[d]; v.blockedOn === l && (v.blockedOn = null) } for (; 0 < Wf.length && (d = Wf[0], d.blockedOn === null);)i4(d), d.blockedOn === null && Wf.shift(); if (d = (l.ownerDocument || l).$$reactFormReplay, d != null) for (v = 0; v < d.length; v += 3) { var N = d[v], U = d[v + 1], te = N[fi] || null; if (typeof U == "function") te || a4(d); else if (te) { var ve = null; if (U && U.hasAttribute("formAction")) { if (N = U, te = U[fi] || null) ve = te.formAction; else if (D2(N) !== null) continue } else ve = te.action; typeof ve == "function" ? d[v + 1] = ve : (d.splice(v, 3), v -= 3), a4(d) } } } function o4() { function l(U) { U.canIntercept && U.info === "react-transition" && U.intercept({ handler: function () { return new Promise(function (te) { return N = te }) }, focusReset: "manual", scroll: "manual" }) } function c() { N !== null && (N(), N = null), v || setTimeout(d, 20) } function d() { if (!v && !navigation.transition) { var U = navigation.currentEntry; U && U.url != null && navigation.navigate(U.url, { state: U.getState(), info: "react-transition", history: "replace" }) } } if (typeof navigation == "object") { var v = !1, N = null; return navigation.addEventListener("navigate", l), navigation.addEventListener("navigatesuccess", c), navigation.addEventListener("navigateerror", c), setTimeout(d, 100), function () { v = !0, navigation.removeEventListener("navigate", l), navigation.removeEventListener("navigatesuccess", c), navigation.removeEventListener("navigateerror", c), N !== null && (N(), N = null) } } } function H2(l) { this._internalRoot = l } $v.prototype.render = H2.prototype.render = function (l) { var c = this._internalRoot; if (c === null) throw Error(r(409)); var d = c.current, v = FA(); q_(d, v, l, c, null, null) }, $v.prototype.unmount = H2.prototype.unmount = function () { var l = this._internalRoot; if (l !== null) { this._internalRoot = null; var c = l.containerInfo; q_(l.current, 2, null, l, null, null), Ov(), c[cs] = null } }; function $v(l) { this._internalRoot = l } $v.prototype.unstable_scheduleHydration = function (l) { if (l) { var c = Li(); l = { blockedOn: null, target: l, priority: c }; for (var d = 0; d < Wf.length && c !== 0 && c < Wf[d].priority; d++); Wf.splice(d, 0, l), d === 0 && i4(l) } }; var l4 = e.version; if (l4 !== "19.2.0") throw Error(r(527, l4, "19.2.0")); ae.findDOMNode = function (l) { var c = l._reactInternals; if (c === void 0) throw typeof l.render == "function" ? Error(r(188)) : (l = Object.keys(l).join(","), Error(r(268, l))); return l = u(c), l = l !== null ? f(l) : null, l = l === null ? null : l.stateNode, l }; var N8 = { bundleType: 0, version: "19.2.0", rendererPackageName: "react-dom", currentDispatcherRef: Z, reconcilerVersion: "19.2.0" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var ey = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!ey.isDisabled && ey.supportsFiber) try { en = ey.inject(N8), nn = ey } catch { } } return Fm.createRoot = function (l, c) { if (!i(l)) throw Error(r(299)); var d = !1, v = "", N = sm, U = hu, te = am; return c != null && (c.unstable_strictMode === !0 && (d = !0), c.identifierPrefix !== void 0 && (v = c.identifierPrefix), c.onUncaughtError !== void 0 && (N = c.onUncaughtError), c.onCaughtError !== void 0 && (U = c.onCaughtError), c.onRecoverableError !== void 0 && (te = c.onRecoverableError)), c = X_(l, 1, !1, null, null, d, v, null, N, U, te, o4), l[cs] = c.current, x2(l), new H2(c) }, Fm.hydrateRoot = function (l, c, d) { if (!i(l)) throw Error(r(299)); var v = !1, N = "", U = sm, te = hu, ve = am, Le = null; return d != null && (d.unstable_strictMode === !0 && (v = !0), d.identifierPrefix !== void 0 && (N = d.identifierPrefix), d.onUncaughtError !== void 0 && (U = d.onUncaughtError), d.onCaughtError !== void 0 && (te = d.onCaughtError), d.onRecoverableError !== void 0 && (ve = d.onRecoverableError), d.formState !== void 0 && (Le = d.formState)), c = X_(l, 1, !0, c, d ?? null, v, N, Le, U, te, ve, o4), c.context = Z_(null), d = c.current, v = FA(), v = Ar(v), N = fn(v), N.callback = null, _n(d, N, v), d = v, c.current.lanes = d, pn(c, d), mu(c), l[cs] = c.current, x2(l), new $v(c) }, Fm.version = "19.2.0", Fm
} var v4; function Q8() { if (v4) return K2.exports; v4 = 1; function n() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n) } catch (e) { console.error(e) } } return n(), K2.exports = M8(), K2.exports } var D8 = Q8(); var y4 = "popstate"; function P8(n = {}) { function e(r, i) { let { pathname: s, search: a, hash: o } = r.location; return zB("", { pathname: s, search: a, hash: o }, i.state && i.state.usr || null, i.state && i.state.key || "default") } function t(r, i) { return typeof i == "string" ? i : B0(i) } return j8(e, t, null, n) } function Bs(n, e) { if (n === !1 || n === null || typeof n > "u") throw new Error(e) } function vc(n, e) { if (!n) { typeof console < "u" && console.warn(e); try { throw new Error(e) } catch { } } } function H8() { return Math.random().toString(36).substring(2, 10) } function w4(n, e) { return { usr: n.state, key: n.key, idx: e } } function zB(n, e, t = null, r) { return { pathname: typeof n == "string" ? n : n.pathname, search: "", hash: "", ...typeof e == "string" ? Hg(e) : e, state: t, key: e && e.key || r || H8() } } function B0({ pathname: n = "/", search: e = "", hash: t = "" }) { return e && e !== "?" && (n += e.charAt(0) === "?" ? e : "?" + e), t && t !== "#" && (n += t.charAt(0) === "#" ? t : "#" + t), n } function Hg(n) { let e = {}; if (n) { let t = n.indexOf("#"); t >= 0 && (e.hash = n.substring(t), n = n.substring(0, t)); let r = n.indexOf("?"); r >= 0 && (e.search = n.substring(r), n = n.substring(0, r)), n && (e.pathname = n) } return e } function j8(n, e, t, r = {}) { let { window: i = document.defaultView, v5Compat: s = !1 } = r, a = i.history, o = "POP", A = null, u = f(); u == null && (u = 0, a.replaceState({ ...a.state, idx: u }, "")); function f() { return (a.state || { idx: null }).idx } function h() { o = "POP"; let E = f(), _ = E == null ? null : E - u; u = E, A && A({ action: o, location: y.location, delta: _ }) } function m(E, _) { o = "PUSH"; let O = zB(y.location, E, _); u = f() + 1; let I = w4(O, u), D = y.createHref(O); try { a.pushState(I, "", D) } catch (z) { if (z instanceof DOMException && z.name === "DataCloneError") throw z; i.location.assign(D) } s && A && A({ action: o, location: y.location, delta: 1 }) } function p(E, _) { o = "REPLACE"; let O = zB(y.location, E, _); u = f(); let I = w4(O, u), D = y.createHref(O); a.replaceState(I, "", D), s && A && A({ action: o, location: y.location, delta: 0 }) } function b(E) { return z8(E) } let y = { get action() { return o }, get location() { return n(i, a) }, listen(E) { if (A) throw new Error("A history only accepts one active listener"); return i.addEventListener(y4, h), A = E, () => { i.removeEventListener(y4, h), A = null } }, createHref(E) { return e(i, E) }, createURL: b, encodeLocation(E) { let _ = b(E); return { pathname: _.pathname, search: _.search, hash: _.hash } }, push: m, replace: p, go(E) { return a.go(E) } }; return y } function z8(n, e = !1) { let t = "http://localhost"; typeof window < "u" && (t = window.location.origin !== "null" ? window.location.origin : window.location.href), Bs(t, "No window.location.(origin|href) available to create URL"); let r = typeof n == "string" ? n : B0(n); return r = r.replace(/ $/, "%20"), !e && r.startsWith("//") && (r = t + r), new URL(r, t) } function IF(n, e, t = "/") { return K8(n, e, t, !1) } function K8(n, e, t, r) { let i = typeof e == "string" ? Hg(e) : e, s = mf(i.pathname || "/", t); if (s == null) return null; let a = LF(n); V8(a); let o = null; for (let A = 0; o == null && A < a.length; ++A) { let u = nP(s); o = eP(a[A], u, r) } return o } function LF(n, e = [], t = [], r = "", i = !1) { let s = (a, o, A = i, u) => { let f = { relativePath: u === void 0 ? a.path || "" : u, caseSensitive: a.caseSensitive === !0, childrenIndex: o, route: a }; if (f.relativePath.startsWith("/")) { if (!f.relativePath.startsWith(r) && A) return; Bs(f.relativePath.startsWith(r), `Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`), f.relativePath = f.relativePath.slice(r.length) } let h = df([r, f.relativePath]), m = t.concat(f); a.children && a.children.length > 0 && (Bs(a.index !== !0, `Index routes must not have child routes. Please remove all child routes from route path "${h}".`), LF(a.children, e, m, h, A)), !(a.path == null && !a.index) && e.push({ path: h, score: q8(h, a.index), routesMeta: m }) }; return n.forEach((a, o) => { if (a.path === "" || !a.path?.includes("?")) s(a, o); else for (let A of MF(a.path)) s(a, o, !0, A) }), e } function MF(n) { let e = n.split("/"); if (e.length === 0) return []; let [t, ...r] = e, i = t.endsWith("?"), s = t.replace(/\?$/, ""); if (r.length === 0) return i ? [s, ""] : [s]; let a = MF(r.join("/")), o = []; return o.push(...a.map(A => A === "" ? s : [s, A].join("/"))), i && o.push(...a), o.map(A => n.startsWith("/") && A === "" ? "/" : A) } function V8(n) { n.sort((e, t) => e.score !== t.score ? t.score - e.score : $8(e.routesMeta.map(r => r.childrenIndex), t.routesMeta.map(r => r.childrenIndex))) } var G8 = /^:[\w-]+$/, W8 = 3, Y8 = 2, J8 = 1, X8 = 10, Z8 = -2, b4 = n => n === "*"; function q8(n, e) { let t = n.split("/"), r = t.length; return t.some(b4) && (r += Z8), e && (r += Y8), t.filter(i => !b4(i)).reduce((i, s) => i + (G8.test(s) ? W8 : s === "" ? J8 : X8), r) } function $8(n, e) { return n.length === e.length && n.slice(0, -1).every((r, i) => r === e[i]) ? n[n.length - 1] - e[e.length - 1] : 0 } function eP(n, e, t = !1) { let { routesMeta: r } = n, i = {}, s = "/", a = []; for (let o = 0; o < r.length; ++o) { let A = r[o], u = o === r.length - 1, f = s === "/" ? e : e.slice(s.length) || "/", h = O1({ path: A.relativePath, caseSensitive: A.caseSensitive, end: u }, f), m = A.route; if (!h && u && t && !r[r.length - 1].route.index && (h = O1({ path: A.relativePath, caseSensitive: A.caseSensitive, end: !1 }, f)), !h) return null; Object.assign(i, h.params), a.push({ params: i, pathname: df([s, h.pathname]), pathnameBase: oP(df([s, h.pathnameBase])), route: m }), h.pathnameBase !== "/" && (s = df([s, h.pathnameBase])) } return a } function O1(n, e) { typeof n == "string" && (n = { path: n, caseSensitive: !1, end: !0 }); let [t, r] = tP(n.path, n.caseSensitive, n.end), i = e.match(t); if (!i) return null; let s = i[0], a = s.replace(/(.)\/+$/, "$1"), o = i.slice(1); return { params: r.reduce((u, { paramName: f, isOptional: h }, m) => { if (f === "*") { let b = o[m] || ""; a = s.slice(0, s.length - b.length).replace(/(.)\/+$/, "$1") } const p = o[m]; return h && !p ? u[f] = void 0 : u[f] = (p || "").replace(/%2F/g, "/"), u }, {}), pathname: s, pathnameBase: a, pattern: n } } function tP(n, e = !1, t = !0) { vc(n === "*" || !n.endsWith("*") || n.endsWith("/*"), `Route path "${n}" will be treated as if it were "${n.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/, "/*")}".`); let r = [], i = "^" + n.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (a, o, A) => (r.push({ paramName: o, isOptional: A != null }), A ? "/?([^\\/]+)?" : "/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g, "(/$1)?$2"); return n.endsWith("*") ? (r.push({ paramName: "*" }), i += n === "*" || n === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : t ? i += "\\/*$" : n !== "" && n !== "/" && (i += "(?:(?=\\/|$))"), [new RegExp(i, e ? void 0 : "i"), r] } function nP(n) { try { return n.split("/").map(e => decodeURIComponent(e).replace(/\//g, "%2F")).join("/") } catch (e) { return vc(!1, `The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`), n } } function mf(n, e) { if (e === "/") return n; if (!n.toLowerCase().startsWith(e.toLowerCase())) return null; let t = e.endsWith("/") ? e.length - 1 : e.length, r = n.charAt(t); return r && r !== "/" ? null : n.slice(t) || "/" } var rP = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, iP = n => rP.test(n); function sP(n, e = "/") { let { pathname: t, search: r = "", hash: i = "" } = typeof n == "string" ? Hg(n) : n, s; if (t) if (iP(t)) s = t; else { if (t.includes("//")) { let a = t; t = t.replace(/\/\/+/g, "/"), vc(!1, `Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`) } t.startsWith("/") ? s = x4(t.substring(1), "/") : s = x4(t, e) } else s = e; return { pathname: s, search: lP(r), hash: AP(i) } } function x4(n, e) { let t = e.replace(/\/+$/, "").split("/"); return n.split("/").forEach(i => { i === ".." ? t.length > 1 && t.pop() : i !== "." && t.push(i) }), t.length > 1 ? t.join("/") : "/" } function Y2(n, e, t, r) { return `Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.` } function aP(n) { return n.filter((e, t) => t === 0 || e.route.path && e.route.path.length > 0) } function R5(n) { let e = aP(n); return e.map((t, r) => r === e.length - 1 ? t.pathname : t.pathnameBase) } function I5(n, e, t, r = !1) { let i; typeof n == "string" ? i = Hg(n) : (i = { ...n }, Bs(!i.pathname || !i.pathname.includes("?"), Y2("?", "pathname", "search", i)), Bs(!i.pathname || !i.pathname.includes("#"), Y2("#", "pathname", "hash", i)), Bs(!i.search || !i.search.includes("#"), Y2("#", "search", "hash", i))); let s = n === "" || i.pathname === "", a = s ? "/" : i.pathname, o; if (a == null) o = t; else { let h = e.length - 1; if (!r && a.startsWith("..")) { let m = a.split("/"); for (; m[0] === "..";)m.shift(), h -= 1; i.pathname = m.join("/") } o = h >= 0 ? e[h] : "/" } let A = sP(i, o), u = a && a !== "/" && a.endsWith("/"), f = (s || a === ".") && t.endsWith("/"); return !A.pathname.endsWith("/") && (u || f) && (A.pathname += "/"), A } var df = n => n.join("/").replace(/\/\/+/g, "/"), oP = n => n.replace(/\/+$/, "").replace(/^\/*/, "/"), lP = n => !n || n === "?" ? "" : n.startsWith("?") ? n : "?" + n, AP = n => !n || n === "#" ? "" : n.startsWith("#") ? n : "#" + n; function cP(n) { return n != null && typeof n.status == "number" && typeof n.statusText == "string" && typeof n.internal == "boolean" && "data" in n } Object.getOwnPropertyNames(Object.prototype).sort().join("\0"); var QF = ["POST", "PUT", "PATCH", "DELETE"]; new Set(QF); var uP = ["GET", ...QF]; new Set(uP); var jg = F.createContext(null); jg.displayName = "DataRouter"; var qw = F.createContext(null); qw.displayName = "DataRouterState"; F.createContext(!1); var DF = F.createContext({ isTransitioning: !1 }); DF.displayName = "ViewTransition"; var fP = F.createContext(new Map); fP.displayName = "Fetchers"; var dP = F.createContext(null); dP.displayName = "Await"; var eu = F.createContext(null); eu.displayName = "Navigation"; var W0 = F.createContext(null); W0.displayName = "Location"; var wc = F.createContext({ outlet: null, matches: [], isDataRoute: !1 }); wc.displayName = "Route"; var L5 = F.createContext(null); L5.displayName = "RouteError"; function hP(n, { relative: e } = {}) { Bs(zg(), "useHref() may be used only in the context of a <Router> component."); let { basename: t, navigator: r } = F.useContext(eu), { hash: i, pathname: s, search: a } = Y0(n, { relative: e }), o = s; return t !== "/" && (o = s === "/" ? t : df([t, s])), r.createHref({ pathname: o, search: a, hash: i }) } function zg() { return F.useContext(W0) != null } function Ld() { return Bs(zg(), "useLocation() may be used only in the context of a <Router> component."), F.useContext(W0).location } var PF = "You should call navigate() in a React.useEffect(), not when your component is first rendered."; function HF(n) { F.useContext(eu).static || F.useLayoutEffect(n) } function bc() { let { isDataRoute: n } = F.useContext(wc); return n ? kP() : pP() } function pP() { Bs(zg(), "useNavigate() may be used only in the context of a <Router> component."); let n = F.useContext(jg), { basename: e, navigator: t } = F.useContext(eu), { matches: r } = F.useContext(wc), { pathname: i } = Ld(), s = JSON.stringify(R5(r)), a = F.useRef(!1); return HF(() => { a.current = !0 }), F.useCallback((A, u = {}) => { if (vc(a.current, PF), !a.current) return; if (typeof A == "number") { t.go(A); return } let f = I5(A, JSON.parse(s), i, u.relative === "path"); n == null && e !== "/" && (f.pathname = f.pathname === "/" ? e : df([e, f.pathname])), (u.replace ? t.replace : t.push)(f, u.state, u) }, [e, t, s, i, n]) } var gP = F.createContext(null); function mP(n) { let e = F.useContext(wc).outlet; return F.useMemo(() => e && F.createElement(gP.Provider, { value: n }, e), [e, n]) } function $w() { let { matches: n } = F.useContext(wc), e = n[n.length - 1]; return e ? e.params : {} } function Y0(n, { relative: e } = {}) { let { matches: t } = F.useContext(wc), { pathname: r } = Ld(), i = JSON.stringify(R5(t)); return F.useMemo(() => I5(n, JSON.parse(i), r, e === "path"), [n, i, r, e]) } function vP(n, e) { return jF(n, e) } function jF(n, e, t, r, i) {
  Bs(zg(), "useRoutes() may be used only in the context of a <Router> component."); let { navigator: s } = F.useContext(eu), { matches: a } = F.useContext(wc), o = a[a.length - 1], A = o ? o.params : {}, u = o ? o.pathname : "/", f = o ? o.pathnameBase : "/", h = o && o.route; {
    let O = h && h.path || ""; zF(u, !h || O.endsWith("*") || O.endsWith("*?"), `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O === "/" ? "*" : `${O}/*`}">.`)
  } let m = Ld(), p; if (e) { let O = typeof e == "string" ? Hg(e) : e; Bs(f === "/" || O.pathname?.startsWith(f), `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`), p = O } else p = m; let b = p.pathname || "/", y = b; if (f !== "/") { let O = f.replace(/^\//, "").split("/"); y = "/" + b.replace(/^\//, "").split("/").slice(O.length).join("/") } let E = IF(n, { pathname: y }); vc(h || E != null, `No routes matched location "${p.pathname}${p.search}${p.hash}" `), vc(E == null || E[E.length - 1].route.element !== void 0 || E[E.length - 1].route.Component !== void 0 || E[E.length - 1].route.lazy !== void 0, `Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`); let _ = BP(E && E.map(O => Object.assign({}, O, { params: Object.assign({}, A, O.params), pathname: df([f, s.encodeLocation ? s.encodeLocation(O.pathname.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : O.pathname]), pathnameBase: O.pathnameBase === "/" ? f : df([f, s.encodeLocation ? s.encodeLocation(O.pathnameBase.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : O.pathnameBase]) })), a, t, r, i); return e && _ ? F.createElement(W0.Provider, { value: { location: { pathname: "/", search: "", hash: "", state: null, key: "default", ...p }, navigationType: "POP" } }, _) : _
} function yP() { let n = NP(), e = cP(n) ? `${n.status} ${n.statusText}` : n instanceof Error ? n.message : JSON.stringify(n), t = n instanceof Error ? n.stack : null, r = "rgba(200,200,200, 0.5)", i = { padding: "0.5rem", backgroundColor: r }, s = { padding: "2px 4px", backgroundColor: r }, a = null; return console.error("Error handled by React Router default ErrorBoundary:", n), a = F.createElement(F.Fragment, null, F.createElement("p", null, " Hey developer "), F.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", F.createElement("code", { style: s }, "ErrorBoundary"), " or", " ", F.createElement("code", { style: s }, "errorElement"), " prop on your route.")), F.createElement(F.Fragment, null, F.createElement("h2", null, "Unexpected Application Error!"), F.createElement("h3", { style: { fontStyle: "italic" } }, e), t ? F.createElement("pre", { style: i }, t) : null, a) } var wP = F.createElement(yP, null), bP = class extends F.Component { constructor(n) { super(n), this.state = { location: n.location, revalidation: n.revalidation, error: n.error } } static getDerivedStateFromError(n) { return { error: n } } static getDerivedStateFromProps(n, e) { return e.location !== n.location || e.revalidation !== "idle" && n.revalidation === "idle" ? { error: n.error, location: n.location, revalidation: n.revalidation } : { error: n.error !== void 0 ? n.error : e.error, location: e.location, revalidation: n.revalidation || e.revalidation } } componentDidCatch(n, e) { this.props.onError ? this.props.onError(n, e) : console.error("React Router caught the following error during render", n) } render() { return this.state.error !== void 0 ? F.createElement(wc.Provider, { value: this.props.routeContext }, F.createElement(L5.Provider, { value: this.state.error, children: this.props.component })) : this.props.children } }; function xP({ routeContext: n, match: e, children: t }) { let r = F.useContext(jg); return r && r.static && r.staticContext && (e.route.errorElement || e.route.ErrorBoundary) && (r.staticContext._deepestRenderedBoundaryId = e.route.id), F.createElement(wc.Provider, { value: n }, t) } function BP(n, e = [], t = null, r = null, i = null) { if (n == null) { if (!t) return null; if (t.errors) n = t.matches; else if (e.length === 0 && !t.initialized && t.matches.length > 0) n = t.matches; else return null } let s = n, a = t?.errors; if (a != null) { let f = s.findIndex(h => h.route.id && a?.[h.route.id] !== void 0); Bs(f >= 0, `Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`), s = s.slice(0, Math.min(s.length, f + 1)) } let o = !1, A = -1; if (t) for (let f = 0; f < s.length; f++) { let h = s[f]; if ((h.route.HydrateFallback || h.route.hydrateFallbackElement) && (A = f), h.route.id) { let { loaderData: m, errors: p } = t, b = h.route.loader && !m.hasOwnProperty(h.route.id) && (!p || p[h.route.id] === void 0); if (h.route.lazy || b) { o = !0, A >= 0 ? s = s.slice(0, A + 1) : s = [s[0]]; break } } } let u = t && r ? (f, h) => { r(f, { location: t.location, params: t.matches?.[0]?.params ?? {}, errorInfo: h }) } : void 0; return s.reduceRight((f, h, m) => { let p, b = !1, y = null, E = null; t && (p = a && h.route.id ? a[h.route.id] : void 0, y = h.route.errorElement || wP, o && (A < 0 && m === 0 ? (zF("route-fallback", !1, "No `HydrateFallback` element provided to render during initial hydration"), b = !0, E = null) : A === m && (b = !0, E = h.route.hydrateFallbackElement || null))); let _ = e.concat(s.slice(0, m + 1)), O = () => { let I; return p ? I = y : b ? I = E : h.route.Component ? I = F.createElement(h.route.Component, null) : h.route.element ? I = h.route.element : I = f, F.createElement(xP, { match: h, routeContext: { outlet: f, matches: _, isDataRoute: t != null }, children: I }) }; return t && (h.route.ErrorBoundary || h.route.errorElement || m === 0) ? F.createElement(bP, { location: t.location, revalidation: t.revalidation, component: y, error: p, children: O(), routeContext: { outlet: null, matches: _, isDataRoute: !0 }, onError: u }) : O() }, null) } function M5(n) { return `${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.` } function CP(n) { let e = F.useContext(jg); return Bs(e, M5(n)), e } function EP(n) { let e = F.useContext(qw); return Bs(e, M5(n)), e } function SP(n) { let e = F.useContext(wc); return Bs(e, M5(n)), e } function Q5(n) { let e = SP(n), t = e.matches[e.matches.length - 1]; return Bs(t.route.id, `${n} can only be used on routes that contain a unique "id"`), t.route.id } function _P() { return Q5("useRouteId") } function NP() { let n = F.useContext(L5), e = EP("useRouteError"), t = Q5("useRouteError"); return n !== void 0 ? n : e.errors?.[t] } function kP() { let { router: n } = CP("useNavigate"), e = Q5("useNavigate"), t = F.useRef(!1); return HF(() => { t.current = !0 }), F.useCallback(async (i, s = {}) => { vc(t.current, PF), t.current && (typeof i == "number" ? n.navigate(i) : await n.navigate(i, { fromRouteId: e, ...s })) }, [n, e]) } var B4 = {}; function zF(n, e, t) { !e && !B4[n] && (B4[n] = !0, vc(!1, t)) } F.memo(TP); function TP({ routes: n, future: e, state: t, unstable_onError: r }) { return jF(n, void 0, t, r, e) } function KF({ to: n, replace: e, state: t, relative: r }) { Bs(zg(), "<Navigate> may be used only in the context of a <Router> component."); let { static: i } = F.useContext(eu); vc(!i, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change."); let { matches: s } = F.useContext(wc), { pathname: a } = Ld(), o = bc(), A = I5(n, R5(s), a, r === "path"), u = JSON.stringify(A); return F.useEffect(() => { o(JSON.parse(u), { replace: e, state: t, relative: r }) }, [o, u, r, e, t]), null } function VF(n) { return mP(n.context) } function ua(n) { Bs(!1, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") } function FP({ basename: n = "/", children: e = null, location: t, navigationType: r = "POP", navigator: i, static: s = !1 }) { Bs(!zg(), "You cannot render a <Router> inside another <Router>. You should never have more than one in your app."); let a = n.replace(/^\/*/, "/"), o = F.useMemo(() => ({ basename: a, navigator: i, static: s, future: {} }), [a, i, s]); typeof t == "string" && (t = Hg(t)); let { pathname: A = "/", search: u = "", hash: f = "", state: h = null, key: m = "default" } = t, p = F.useMemo(() => { let b = mf(A, a); return b == null ? null : { location: { pathname: b, search: u, hash: f, state: h, key: m }, navigationType: r } }, [a, A, u, f, h, m, r]); return vc(p != null, `<Router basename="${a}"> is not able to match the URL "${A}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`), p == null ? null : F.createElement(eu.Provider, { value: o }, F.createElement(W0.Provider, { children: e, value: p })) } function UP({ children: n, location: e }) { return vP(KB(n), e) } function KB(n, e = []) { let t = []; return F.Children.forEach(n, (r, i) => { if (!F.isValidElement(r)) return; let s = [...e, i]; if (r.type === F.Fragment) { t.push.apply(t, KB(r.props.children, s)); return } Bs(r.type === ua, `[${typeof r.type == "string" ? r.type : r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`), Bs(!r.props.index || !r.props.children, "An index route cannot have child routes."); let a = { id: r.props.id || s.join("-"), caseSensitive: r.props.caseSensitive, element: r.props.element, Component: r.props.Component, index: r.props.index, path: r.props.path, middleware: r.props.middleware, loader: r.props.loader, action: r.props.action, hydrateFallbackElement: r.props.hydrateFallbackElement, HydrateFallback: r.props.HydrateFallback, errorElement: r.props.errorElement, ErrorBoundary: r.props.ErrorBoundary, hasErrorBoundary: r.props.hasErrorBoundary === !0 || r.props.ErrorBoundary != null || r.props.errorElement != null, shouldRevalidate: r.props.shouldRevalidate, handle: r.props.handle, lazy: r.props.lazy }; r.props.children && (a.children = KB(r.props.children, s)), t.push(a) }), t } var u1 = "get", f1 = "application/x-www-form-urlencoded"; function eb(n) { return n != null && typeof n.tagName == "string" } function OP(n) { return eb(n) && n.tagName.toLowerCase() === "button" } function RP(n) { return eb(n) && n.tagName.toLowerCase() === "form" } function IP(n) { return eb(n) && n.tagName.toLowerCase() === "input" } function LP(n) { return !!(n.metaKey || n.altKey || n.ctrlKey || n.shiftKey) } function MP(n, e) { return n.button === 0 && (!e || e === "_self") && !LP(n) } var ny = null; function QP() { if (ny === null) try { new FormData(document.createElement("form"), 0), ny = !1 } catch { ny = !0 } return ny } var DP = new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]); function J2(n) { return n != null && !DP.has(n) ? (vc(!1, `"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${f1}"`), null) : n } function PP(n, e) { let t, r, i, s, a; if (RP(n)) { let o = n.getAttribute("action"); r = o ? mf(o, e) : null, t = n.getAttribute("method") || u1, i = J2(n.getAttribute("enctype")) || f1, s = new FormData(n) } else if (OP(n) || IP(n) && (n.type === "submit" || n.type === "image")) { let o = n.form; if (o == null) throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>'); let A = n.getAttribute("formaction") || o.getAttribute("action"); if (r = A ? mf(A, e) : null, t = n.getAttribute("formmethod") || o.getAttribute("method") || u1, i = J2(n.getAttribute("formenctype")) || J2(o.getAttribute("enctype")) || f1, s = new FormData(o, n), !QP()) { let { name: u, type: f, value: h } = n; if (f === "image") { let m = u ? `${u}.` : ""; s.append(`${m}x`, "0"), s.append(`${m}y`, "0") } else u && s.append(u, h) } } else { if (eb(n)) throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">'); t = u1, r = null, i = f1, a = n } return s && i === "text/plain" && (a = s, s = void 0), { action: r, method: t.toLowerCase(), encType: i, formData: s, body: a } } Object.getOwnPropertyNames(Object.prototype).sort().join("\0"); function D5(n, e) { if (n === !1 || n === null || typeof n > "u") throw new Error(e) } function HP(n, e, t) { let r = typeof n == "string" ? new URL(n, typeof window > "u" ? "server://singlefetch/" : window.location.origin) : n; return r.pathname === "/" ? r.pathname = `_root.${t}` : e && mf(r.pathname, e) === "/" ? r.pathname = `${e.replace(/\/$/, "")}/_root.${t}` : r.pathname = `${r.pathname.replace(/\/$/, "")}.${t}`, r } async function jP(n, e) { if (n.id in e) return e[n.id]; try { let t = await import(n.module); return e[n.id] = t, t } catch (t) { return console.error(`Error loading route module \`${n.module}\`, reloading page...`), console.error(t), window.__reactRouterContext && window.__reactRouterContext.isSpaMode, window.location.reload(), new Promise(() => { }) } } function zP(n) { return n == null ? !1 : n.href == null ? n.rel === "preload" && typeof n.imageSrcSet == "string" && typeof n.imageSizes == "string" : typeof n.rel == "string" && typeof n.href == "string" } async function KP(n, e, t) { let r = await Promise.all(n.map(async i => { let s = e.routes[i.route.id]; if (s) { let a = await jP(s, t); return a.links ? a.links() : [] } return [] })); return YP(r.flat(1).filter(zP).filter(i => i.rel === "stylesheet" || i.rel === "preload").map(i => i.rel === "stylesheet" ? { ...i, rel: "prefetch", as: "style" } : { ...i, rel: "prefetch" })) } function C4(n, e, t, r, i, s) { let a = (A, u) => t[u] ? A.route.id !== t[u].route.id : !0, o = (A, u) => t[u].pathname !== A.pathname || t[u].route.path?.endsWith("*") && t[u].params["*"] !== A.params["*"]; return s === "assets" ? e.filter((A, u) => a(A, u) || o(A, u)) : s === "data" ? e.filter((A, u) => { let f = r.routes[A.route.id]; if (!f || !f.hasLoader) return !1; if (a(A, u) || o(A, u)) return !0; if (A.route.shouldRevalidate) { let h = A.route.shouldRevalidate({ currentUrl: new URL(i.pathname + i.search + i.hash, window.origin), currentParams: t[0]?.params || {}, nextUrl: new URL(n, window.origin), nextParams: A.params, defaultShouldRevalidate: !0 }); if (typeof h == "boolean") return h } return !0 }) : [] } function VP(n, e, { includeHydrateFallback: t } = {}) { return GP(n.map(r => { let i = e.routes[r.route.id]; if (!i) return []; let s = [i.module]; return i.clientActionModule && (s = s.concat(i.clientActionModule)), i.clientLoaderModule && (s = s.concat(i.clientLoaderModule)), t && i.hydrateFallbackModule && (s = s.concat(i.hydrateFallbackModule)), i.imports && (s = s.concat(i.imports)), s }).flat(1)) } function GP(n) { return [...new Set(n)] } function WP(n) { let e = {}, t = Object.keys(n).sort(); for (let r of t) e[r] = n[r]; return e } function YP(n, e) { let t = new Set; return new Set(e), n.reduce((r, i) => { let s = JSON.stringify(WP(i)); return t.has(s) || (t.add(s), r.push({ key: s, link: i })), r }, []) } function GF() { let n = F.useContext(jg); return D5(n, "You must render this element inside a <DataRouterContext.Provider> element"), n } function JP() { let n = F.useContext(qw); return D5(n, "You must render this element inside a <DataRouterStateContext.Provider> element"), n } var P5 = F.createContext(void 0); P5.displayName = "FrameworkContext"; function WF() { let n = F.useContext(P5); return D5(n, "You must render this element inside a <HydratedRouter> element"), n } function XP(n, e) { let t = F.useContext(P5), [r, i] = F.useState(!1), [s, a] = F.useState(!1), { onFocus: o, onBlur: A, onMouseEnter: u, onMouseLeave: f, onTouchStart: h } = e, m = F.useRef(null); F.useEffect(() => { if (n === "render" && a(!0), n === "viewport") { let y = _ => { _.forEach(O => { a(O.isIntersecting) }) }, E = new IntersectionObserver(y, { threshold: .5 }); return m.current && E.observe(m.current), () => { E.disconnect() } } }, [n]), F.useEffect(() => { if (r) { let y = setTimeout(() => { a(!0) }, 100); return () => { clearTimeout(y) } } }, [r]); let p = () => { i(!0) }, b = () => { i(!1), a(!1) }; return t ? n !== "intent" ? [s, m, {}] : [s, m, { onFocus: Um(o, p), onBlur: Um(A, b), onMouseEnter: Um(u, p), onMouseLeave: Um(f, b), onTouchStart: Um(h, p) }] : [!1, m, {}] } function Um(n, e) { return t => { n && n(t), t.defaultPrevented || e(t) } } function ZP({ page: n, ...e }) { let { router: t } = GF(), r = F.useMemo(() => IF(t.routes, n, t.basename), [t.routes, n, t.basename]); return r ? F.createElement($P, { page: n, matches: r, ...e }) : null } function qP(n) { let { manifest: e, routeModules: t } = WF(), [r, i] = F.useState([]); return F.useEffect(() => { let s = !1; return KP(n, e, t).then(a => { s || i(a) }), () => { s = !0 } }, [n, e, t]), r } function $P({ page: n, matches: e, ...t }) { let r = Ld(), { manifest: i, routeModules: s } = WF(), { basename: a } = GF(), { loaderData: o, matches: A } = JP(), u = F.useMemo(() => C4(n, e, A, i, r, "data"), [n, e, A, i, r]), f = F.useMemo(() => C4(n, e, A, i, r, "assets"), [n, e, A, i, r]), h = F.useMemo(() => { if (n === r.pathname + r.search + r.hash) return []; let b = new Set, y = !1; if (e.forEach(_ => { let O = i.routes[_.route.id]; !O || !O.hasLoader || (!u.some(I => I.route.id === _.route.id) && _.route.id in o && s[_.route.id]?.shouldRevalidate || O.hasClientLoader ? y = !0 : b.add(_.route.id)) }), b.size === 0) return []; let E = HP(n, a, "data"); return y && b.size > 0 && E.searchParams.set("_routes", e.filter(_ => b.has(_.route.id)).map(_ => _.route.id).join(",")), [E.pathname + E.search] }, [a, o, r, i, u, e, n, s]), m = F.useMemo(() => VP(f, i), [f, i]), p = qP(f); return F.createElement(F.Fragment, null, h.map(b => F.createElement("link", { key: b, rel: "prefetch", as: "fetch", href: b, ...t })), m.map(b => F.createElement("link", { key: b, rel: "modulepreload", href: b, ...t })), p.map(({ key: b, link: y }) => F.createElement("link", { key: b, nonce: t.nonce, ...y }))) } function eH(...n) { return e => { n.forEach(t => { typeof t == "function" ? t(e) : t != null && (t.current = e) }) } } var YF = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u"; try { YF && (window.__reactRouterVersion = "7.9.6") } catch { } function tH({ basename: n, children: e, window: t }) { let r = F.useRef(); r.current == null && (r.current = P8({ window: t, v5Compat: !0 })); let i = r.current, [s, a] = F.useState({ action: i.action, location: i.location }), o = F.useCallback(A => { F.startTransition(() => a(A)) }, [a]); return F.useLayoutEffect(() => i.listen(o), [i, o]), F.createElement(FP, { basename: n, children: e, location: s.location, navigationType: s.action, navigator: i }) } var JF = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, Ph = F.forwardRef(function ({ onClick: e, discover: t = "render", prefetch: r = "none", relative: i, reloadDocument: s, replace: a, state: o, target: A, to: u, preventScrollReset: f, viewTransition: h, ...m }, p) { let { basename: b } = F.useContext(eu), y = typeof u == "string" && JF.test(u), E, _ = !1; if (typeof u == "string" && y && (E = u, YF)) try { let G = new URL(window.location.href), fe = u.startsWith("//") ? new URL(G.protocol + u) : new URL(u), ne = mf(fe.pathname, b); fe.origin === G.origin && ne != null ? u = ne + fe.search + fe.hash : _ = !0 } catch { vc(!1, `<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`) } let O = hP(u, { relative: i }), [I, D, z] = XP(r, m), X = iH(u, { replace: a, state: o, target: A, preventScrollReset: f, relative: i, viewTransition: h }); function q(G) { e && e(G), G.defaultPrevented || X(G) } let W = F.createElement("a", { ...m, ...z, href: E || O, onClick: _ || s ? e : q, ref: eH(p, D), target: A, "data-discover": !y && t === "render" ? "true" : void 0 }); return I && !y ? F.createElement(F.Fragment, null, W, F.createElement(ZP, { page: O })) : W }); Ph.displayName = "Link"; var XF = F.forwardRef(function ({ "aria-current": e = "page", caseSensitive: t = !1, className: r = "", end: i = !1, style: s, to: a, viewTransition: o, children: A, ...u }, f) { let h = Y0(a, { relative: u.relative }), m = Ld(), p = F.useContext(qw), { navigator: b, basename: y } = F.useContext(eu), E = p != null && AH(h) && o === !0, _ = b.encodeLocation ? b.encodeLocation(h).pathname : h.pathname, O = m.pathname, I = p && p.navigation && p.navigation.location ? p.navigation.location.pathname : null; t || (O = O.toLowerCase(), I = I ? I.toLowerCase() : null, _ = _.toLowerCase()), I && y && (I = mf(I, y) || I); const D = _ !== "/" && _.endsWith("/") ? _.length - 1 : _.length; let z = O === _ || !i && O.startsWith(_) && O.charAt(D) === "/", X = I != null && (I === _ || !i && I.startsWith(_) && I.charAt(_.length) === "/"), q = { isActive: z, isPending: X, isTransitioning: E }, W = z ? e : void 0, G; typeof r == "function" ? G = r(q) : G = [r, z ? "active" : null, X ? "pending" : null, E ? "transitioning" : null].filter(Boolean).join(" "); let fe = typeof s == "function" ? s(q) : s; return F.createElement(Ph, { ...u, "aria-current": W, className: G, ref: f, style: fe, to: a, viewTransition: o }, typeof A == "function" ? A(q) : A) }); XF.displayName = "NavLink"; var nH = F.forwardRef(({ discover: n = "render", fetcherKey: e, navigate: t, reloadDocument: r, replace: i, state: s, method: a = u1, action: o, onSubmit: A, relative: u, preventScrollReset: f, viewTransition: h, ...m }, p) => { let b = oH(), y = lH(o, { relative: u }), E = a.toLowerCase() === "get" ? "get" : "post", _ = typeof o == "string" && JF.test(o), O = I => { if (A && A(I), I.defaultPrevented) return; I.preventDefault(); let D = I.nativeEvent.submitter, z = D?.getAttribute("formmethod") || a; b(D || I.currentTarget, { fetcherKey: e, method: z, navigate: t, replace: i, state: s, relative: u, preventScrollReset: f, viewTransition: h }) }; return F.createElement("form", { ref: p, method: E, action: y, onSubmit: r ? A : O, ...m, "data-discover": !_ && n === "render" ? "true" : void 0 }) }); nH.displayName = "Form"; function rH(n) { return `${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.` } function ZF(n) { let e = F.useContext(jg); return Bs(e, rH(n)), e } function iH(n, { target: e, replace: t, state: r, preventScrollReset: i, relative: s, viewTransition: a } = {}) { let o = bc(), A = Ld(), u = Y0(n, { relative: s }); return F.useCallback(f => { if (MP(f, e)) { f.preventDefault(); let h = t !== void 0 ? t : B0(A) === B0(u); o(n, { replace: h, state: r, preventScrollReset: i, relative: s, viewTransition: a }) } }, [A, o, u, t, r, e, n, i, s, a]) } var sH = 0, aH = () => `__${String(++sH)}__`; function oH() { let { router: n } = ZF("useSubmit"), { basename: e } = F.useContext(eu), t = _P(); return F.useCallback(async (r, i = {}) => { let { action: s, method: a, encType: o, formData: A, body: u } = PP(r, e); if (i.navigate === !1) { let f = i.fetcherKey || aH(); await n.fetch(f, t, i.action || s, { preventScrollReset: i.preventScrollReset, formData: A, body: u, formMethod: i.method || a, formEncType: i.encType || o, flushSync: i.flushSync }) } else await n.navigate(i.action || s, { preventScrollReset: i.preventScrollReset, formData: A, body: u, formMethod: i.method || a, formEncType: i.encType || o, replace: i.replace, state: i.state, fromRouteId: t, flushSync: i.flushSync, viewTransition: i.viewTransition }) }, [n, e, t]) } function lH(n, { relative: e } = {}) { let { basename: t } = F.useContext(eu), r = F.useContext(wc); Bs(r, "useFormAction must be used inside a RouteContext"); let [i] = r.matches.slice(-1), s = { ...Y0(n || ".", { relative: e }) }, a = Ld(); if (n == null) { s.search = a.search; let o = new URLSearchParams(s.search), A = o.getAll("index"); if (A.some(f => f === "")) { o.delete("index"), A.filter(h => h).forEach(h => o.append("index", h)); let f = o.toString(); s.search = f ? `?${f}` : "" } } return (!n || n === ".") && i.route.index && (s.search = s.search ? s.search.replace(/^\?/, "?index&") : "?index"), t !== "/" && (s.pathname = s.pathname === "/" ? t : df([t, s.pathname])), B0(s) } function AH(n, { relative: e } = {}) { let t = F.useContext(DF); Bs(t != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"); let { basename: r } = ZF("useViewTransitionState"), i = Y0(n, { relative: e }); if (!t.isTransitioning) return !1; let s = mf(t.currentLocation.pathname, r) || t.currentLocation.pathname, a = mf(t.nextLocation.pathname, r) || t.nextLocation.pathname; return O1(i.pathname, a) != null || O1(i.pathname, s) != null } var J0 = Zw(); const qF = Pg(J0), E4 = n => { let e; const t = new Set, r = (u, f) => { const h = typeof u == "function" ? u(e) : u; if (!Object.is(h, e)) { const m = e; e = f ?? (typeof h != "object" || h === null) ? h : Object.assign({}, e, h), t.forEach(p => p(e, m)) } }, i = () => e, o = { setState: r, getState: i, getInitialState: () => A, subscribe: u => (t.add(u), () => t.delete(u)) }, A = e = n(r, i, o); return o }, cH = (n => n ? E4(n) : E4), uH = n => n; function fH(n, e = uH) { const t = Xa.useSyncExternalStore(n.subscribe, Xa.useCallback(() => e(n.getState()), [n, e]), Xa.useCallback(() => e(n.getInitialState()), [n, e])); return Xa.useDebugValue(t), t } const S4 = n => { const e = cH(n), t = r => fH(e, r); return Object.assign(t, e), t }, dH = (n => n ? S4(n) : S4), Fu = dH(n => ({ user: null, isAuthenticated: !1, login: e => n({ user: e, isAuthenticated: !0 }), logout: () => n({ user: null, isAuthenticated: !1 }) })); var VB = function (n, e) { return VB = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, r) { t.__proto__ = r } || function (t, r) { for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]) }, VB(n, e) }; function $F(n, e) { if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null"); VB(n, e); function t() { this.constructor = n } n.prototype = e === null ? Object.create(e) : (t.prototype = e.prototype, new t) } var lc = function () { return lc = Object.assign || function (e) { for (var t, r = 1, i = arguments.length; r < i; r++) { t = arguments[r]; for (var s in t) Object.prototype.hasOwnProperty.call(t, s) && (e[s] = t[s]) } return e }, lc.apply(this, arguments) }; function Md(n, e) { var t = {}; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && e.indexOf(r) < 0 && (t[r] = n[r]); if (n != null && typeof Object.getOwnPropertySymbols == "function") for (var i = 0, r = Object.getOwnPropertySymbols(n); i < r.length; i++)e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(n, r[i]) && (t[r[i]] = n[r[i]]); return t } function eU(n, e, t, r) { var i = arguments.length, s = i < 3 ? e : r === null ? r = Object.getOwnPropertyDescriptor(e, t) : r, a; if (typeof Reflect == "object" && typeof Reflect.decorate == "function") s = Reflect.decorate(n, e, t, r); else for (var o = n.length - 1; o >= 0; o--)(a = n[o]) && (s = (i < 3 ? a(s) : i > 3 ? a(e, t, s) : a(e, t)) || s); return i > 3 && s && Object.defineProperty(e, t, s), s } function tU(n, e) { return function (t, r) { e(t, r, n) } } function nU(n, e, t, r, i, s) { function a(_) { if (_ !== void 0 && typeof _ != "function") throw new TypeError("Function expected"); return _ } for (var o = r.kind, A = o === "getter" ? "get" : o === "setter" ? "set" : "value", u = !e && n ? r.static ? n : n.prototype : null, f = e || (u ? Object.getOwnPropertyDescriptor(u, r.name) : {}), h, m = !1, p = t.length - 1; p >= 0; p--) { var b = {}; for (var y in r) b[y] = y === "access" ? {} : r[y]; for (var y in r.access) b.access[y] = r.access[y]; b.addInitializer = function (_) { if (m) throw new TypeError("Cannot add initializers after decoration has completed"); s.push(a(_ || null)) }; var E = (0, t[p])(o === "accessor" ? { get: f.get, set: f.set } : f[A], b); if (o === "accessor") { if (E === void 0) continue; if (E === null || typeof E != "object") throw new TypeError("Object expected"); (h = a(E.get)) && (f.get = h), (h = a(E.set)) && (f.set = h), (h = a(E.init)) && i.unshift(h) } else (h = a(E)) && (o === "field" ? i.unshift(h) : f[A] = h) } u && Object.defineProperty(u, r.name, f), m = !0 } function rU(n, e, t) { for (var r = arguments.length > 2, i = 0; i < e.length; i++)t = r ? e[i].call(n, t) : e[i].call(n); return r ? t : void 0 } function iU(n) { return typeof n == "symbol" ? n : "".concat(n) } function sU(n, e, t) { return typeof e == "symbol" && (e = e.description ? "[".concat(e.description, "]") : ""), Object.defineProperty(n, "name", { configurable: !0, value: t ? "".concat(t, " ", e) : e }) } function aU(n, e) { if (typeof Reflect == "object" && typeof Reflect.metadata == "function") return Reflect.metadata(n, e) } function on(n, e, t, r) { function i(s) { return s instanceof t ? s : new t(function (a) { a(s) }) } return new (t || (t = Promise))(function (s, a) { function o(f) { try { u(r.next(f)) } catch (h) { a(h) } } function A(f) { try { u(r.throw(f)) } catch (h) { a(h) } } function u(f) { f.done ? s(f.value) : i(f.value).then(o, A) } u((r = r.apply(n, e || [])).next()) }) } function oU(n, e) { var t = { label: 0, sent: function () { if (s[0] & 1) throw s[1]; return s[1] }, trys: [], ops: [] }, r, i, s, a = Object.create((typeof Iterator == "function" ? Iterator : Object).prototype); return a.next = o(0), a.throw = o(1), a.return = o(2), typeof Symbol == "function" && (a[Symbol.iterator] = function () { return this }), a; function o(u) { return function (f) { return A([u, f]) } } function A(u) { if (r) throw new TypeError("Generator is already executing."); for (; a && (a = 0, u[0] && (t = 0)), t;)try { if (r = 1, i && (s = u[0] & 2 ? i.return : u[0] ? i.throw || ((s = i.return) && s.call(i), 0) : i.next) && !(s = s.call(i, u[1])).done) return s; switch (i = 0, s && (u = [u[0] & 2, s.value]), u[0]) { case 0: case 1: s = u; break; case 4: return t.label++, { value: u[1], done: !1 }; case 5: t.label++, i = u[1], u = [0]; continue; case 7: u = t.ops.pop(), t.trys.pop(); continue; default: if (s = t.trys, !(s = s.length > 0 && s[s.length - 1]) && (u[0] === 6 || u[0] === 2)) { t = 0; continue } if (u[0] === 3 && (!s || u[1] > s[0] && u[1] < s[3])) { t.label = u[1]; break } if (u[0] === 6 && t.label < s[1]) { t.label = s[1], s = u; break } if (s && t.label < s[2]) { t.label = s[2], t.ops.push(u); break } s[2] && t.ops.pop(), t.trys.pop(); continue }u = e.call(n, t) } catch (f) { u = [6, f], i = 0 } finally { r = s = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } } var tb = Object.create ? (function (n, e, t, r) { r === void 0 && (r = t); var i = Object.getOwnPropertyDescriptor(e, t); (!i || ("get" in i ? !e.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function () { return e[t] } }), Object.defineProperty(n, r, i) }) : (function (n, e, t, r) { r === void 0 && (r = t), n[r] = e[t] }); function lU(n, e) { for (var t in n) t !== "default" && !Object.prototype.hasOwnProperty.call(e, t) && tb(e, n, t) } function R1(n) { var e = typeof Symbol == "function" && Symbol.iterator, t = e && n[e], r = 0; if (t) return t.call(n); if (n && typeof n.length == "number") return { next: function () { return n && r >= n.length && (n = void 0), { value: n && n[r++], done: !n } } }; throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.") } function H5(n, e) { var t = typeof Symbol == "function" && n[Symbol.iterator]; if (!t) return n; var r = t.call(n), i, s = [], a; try { for (; (e === void 0 || e-- > 0) && !(i = r.next()).done;)s.push(i.value) } catch (o) { a = { error: o } } finally { try { i && !i.done && (t = r.return) && t.call(r) } finally { if (a) throw a.error } } return s } function AU() { for (var n = [], e = 0; e < arguments.length; e++)n = n.concat(H5(arguments[e])); return n } function cU() { for (var n = 0, e = 0, t = arguments.length; e < t; e++)n += arguments[e].length; for (var r = Array(n), i = 0, e = 0; e < t; e++)for (var s = arguments[e], a = 0, o = s.length; a < o; a++, i++)r[i] = s[a]; return r } function j5(n, e, t) { if (t || arguments.length === 2) for (var r = 0, i = e.length, s; r < i; r++)(s || !(r in e)) && (s || (s = Array.prototype.slice.call(e, 0, r)), s[r] = e[r]); return n.concat(s || Array.prototype.slice.call(e)) } function Ng(n) { return this instanceof Ng ? (this.v = n, this) : new Ng(n) } function uU(n, e, t) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var r = t.apply(n, e || []), i, s = []; return i = Object.create((typeof AsyncIterator == "function" ? AsyncIterator : Object).prototype), o("next"), o("throw"), o("return", a), i[Symbol.asyncIterator] = function () { return this }, i; function a(p) { return function (b) { return Promise.resolve(b).then(p, h) } } function o(p, b) { r[p] && (i[p] = function (y) { return new Promise(function (E, _) { s.push([p, y, E, _]) > 1 || A(p, y) }) }, b && (i[p] = b(i[p]))) } function A(p, b) { try { u(r[p](b)) } catch (y) { m(s[0][3], y) } } function u(p) { p.value instanceof Ng ? Promise.resolve(p.value.v).then(f, h) : m(s[0][2], p) } function f(p) { A("next", p) } function h(p) { A("throw", p) } function m(p, b) { p(b), s.shift(), s.length && A(s[0][0], s[0][1]) } } function fU(n) { var e, t; return e = {}, r("next"), r("throw", function (i) { throw i }), r("return"), e[Symbol.iterator] = function () { return this }, e; function r(i, s) { e[i] = n[i] ? function (a) { return (t = !t) ? { value: Ng(n[i](a)), done: !1 } : s ? s(a) : a } : s } } function dU(n) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var e = n[Symbol.asyncIterator], t; return e ? e.call(n) : (n = typeof R1 == "function" ? R1(n) : n[Symbol.iterator](), t = {}, r("next"), r("throw"), r("return"), t[Symbol.asyncIterator] = function () { return this }, t); function r(s) { t[s] = n[s] && function (a) { return new Promise(function (o, A) { a = n[s](a), i(o, A, a.done, a.value) }) } } function i(s, a, o, A) { Promise.resolve(A).then(function (u) { s({ value: u, done: o }) }, a) } } function hU(n, e) { return Object.defineProperty ? Object.defineProperty(n, "raw", { value: e }) : n.raw = e, n } var hH = Object.create ? (function (n, e) { Object.defineProperty(n, "default", { enumerable: !0, value: e }) }) : function (n, e) { n.default = e }, GB = function (n) { return GB = Object.getOwnPropertyNames || function (e) { var t = []; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[t.length] = r); return t }, GB(n) }; function pU(n) { if (n && n.__esModule) return n; var e = {}; if (n != null) for (var t = GB(n), r = 0; r < t.length; r++)t[r] !== "default" && tb(e, n, t[r]); return hH(e, n), e } function gU(n) { return n && n.__esModule ? n : { default: n } } function mU(n, e, t, r) { if (t === "a" && !r) throw new TypeError("Private accessor was defined without a getter"); if (typeof e == "function" ? n !== e || !r : !e.has(n)) throw new TypeError("Cannot read private member from an object whose class did not declare it"); return t === "m" ? r : t === "a" ? r.call(n) : r ? r.value : e.get(n) } function vU(n, e, t, r, i) { if (r === "m") throw new TypeError("Private method is not writable"); if (r === "a" && !i) throw new TypeError("Private accessor was defined without a setter"); if (typeof e == "function" ? n !== e || !i : !e.has(n)) throw new TypeError("Cannot write private member to an object whose class did not declare it"); return r === "a" ? i.call(n, t) : i ? i.value = t : e.set(n, t), t } function yU(n, e) { if (e === null || typeof e != "object" && typeof e != "function") throw new TypeError("Cannot use 'in' operator on non-object"); return typeof n == "function" ? e === n : n.has(e) } function wU(n, e, t) { if (e != null) { if (typeof e != "object" && typeof e != "function") throw new TypeError("Object expected."); var r, i; if (t) { if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined."); r = e[Symbol.asyncDispose] } if (r === void 0) { if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined."); r = e[Symbol.dispose], t && (i = r) } if (typeof r != "function") throw new TypeError("Object not disposable."); i && (r = function () { try { i.call(this) } catch (s) { return Promise.reject(s) } }), n.stack.push({ value: e, dispose: r, async: t }) } else t && n.stack.push({ async: !0 }); return e } var pH = typeof SuppressedError == "function" ? SuppressedError : function (n, e, t) { var r = new Error(t); return r.name = "SuppressedError", r.error = n, r.suppressed = e, r }; function bU(n) { function e(s) { n.error = n.hasError ? new pH(s, n.error, "An error was suppressed during disposal.") : s, n.hasError = !0 } var t, r = 0; function i() { for (; t = n.stack.pop();)try { if (!t.async && r === 1) return r = 0, n.stack.push(t), Promise.resolve().then(i); if (t.dispose) { var s = t.dispose.call(t.value); if (t.async) return r |= 2, Promise.resolve(s).then(i, function (a) { return e(a), i() }) } else r |= 1 } catch (a) { e(a) } if (r === 1) return n.hasError ? Promise.reject(n.error) : Promise.resolve(); if (n.hasError) throw n.error } return i() } function xU(n, e) { return typeof n == "string" && /^\.\.?\//.test(n) ? n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i, function (t, r, i, s, a) { return r ? e ? ".jsx" : ".js" : i && (!s || !a) ? t : i + s + "." + a.toLowerCase() + "js" }) : n } const gH = { __extends: $F, __assign: lc, __rest: Md, __decorate: eU, __param: tU, __esDecorate: nU, __runInitializers: rU, __propKey: iU, __setFunctionName: sU, __metadata: aU, __awaiter: on, __generator: oU, __createBinding: tb, __exportStar: lU, __values: R1, __read: H5, __spread: AU, __spreadArrays: cU, __spreadArray: j5, __await: Ng, __asyncGenerator: uU, __asyncDelegator: fU, __asyncValues: dU, __makeTemplateObject: hU, __importStar: pU, __importDefault: gU, __classPrivateFieldGet: mU, __classPrivateFieldSet: vU, __classPrivateFieldIn: yU, __addDisposableResource: wU, __disposeResources: bU, __rewriteRelativeImportExtension: xU }, mH = Object.freeze(Object.defineProperty({ __proto__: null, __addDisposableResource: wU, get __assign() { return lc }, __asyncDelegator: fU, __asyncGenerator: uU, __asyncValues: dU, __await: Ng, __awaiter: on, __classPrivateFieldGet: mU, __classPrivateFieldIn: yU, __classPrivateFieldSet: vU, __createBinding: tb, __decorate: eU, __disposeResources: bU, __esDecorate: nU, __exportStar: lU, __extends: $F, __generator: oU, __importDefault: gU, __importStar: pU, __makeTemplateObject: hU, __metadata: aU, __param: tU, __propKey: iU, __read: H5, __rest: Md, __rewriteRelativeImportExtension: xU, __runInitializers: rU, __setFunctionName: sU, __spread: AU, __spreadArray: j5, __spreadArrays: cU, __values: R1, default: gH }, Symbol.toStringTag, { value: "Module" })), vH = n => n ? (...e) => n(...e) : (...e) => fetch(...e); class z5 extends Error { constructor(e, t = "FunctionsError", r) { super(e), this.name = t, this.context = r } } class yH extends z5 { constructor(e) { super("Failed to send a request to the Edge Function", "FunctionsFetchError", e) } } class _4 extends z5 { constructor(e) { super("Relay Error invoking the Edge Function", "FunctionsRelayError", e) } } class N4 extends z5 { constructor(e) { super("Edge Function returned a non-2xx status code", "FunctionsHttpError", e) } } var WB; (function (n) { n.Any = "any", n.ApNortheast1 = "ap-northeast-1", n.ApNortheast2 = "ap-northeast-2", n.ApSouth1 = "ap-south-1", n.ApSoutheast1 = "ap-southeast-1", n.ApSoutheast2 = "ap-southeast-2", n.CaCentral1 = "ca-central-1", n.EuCentral1 = "eu-central-1", n.EuWest1 = "eu-west-1", n.EuWest2 = "eu-west-2", n.EuWest3 = "eu-west-3", n.SaEast1 = "sa-east-1", n.UsEast1 = "us-east-1", n.UsWest1 = "us-west-1", n.UsWest2 = "us-west-2" })(WB || (WB = {})); class wH { constructor(e, { headers: t = {}, customFetch: r, region: i = WB.Any } = {}) { this.url = e, this.headers = t, this.region = i, this.fetch = vH(r) } setAuth(e) { this.headers.Authorization = `Bearer ${e}` } invoke(e) { return on(this, arguments, void 0, function* (t, r = {}) { var i; let s, a; try { const { headers: o, method: A, body: u, signal: f, timeout: h } = r; let m = {}, { region: p } = r; p || (p = this.region); const b = new URL(`${this.url}/${t}`); p && p !== "any" && (m["x-region"] = p, b.searchParams.set("forceFunctionRegion", p)); let y; u && (o && !Object.prototype.hasOwnProperty.call(o, "Content-Type") || !o) ? typeof Blob < "u" && u instanceof Blob || u instanceof ArrayBuffer ? (m["Content-Type"] = "application/octet-stream", y = u) : typeof u == "string" ? (m["Content-Type"] = "text/plain", y = u) : typeof FormData < "u" && u instanceof FormData ? y = u : (m["Content-Type"] = "application/json", y = JSON.stringify(u)) : y = u; let E = f; h && (a = new AbortController, s = setTimeout(() => a.abort(), h), f ? (E = a.signal, f.addEventListener("abort", () => a.abort())) : E = a.signal); const _ = yield this.fetch(b.toString(), { method: A || "POST", headers: Object.assign(Object.assign(Object.assign({}, m), this.headers), o), body: y, signal: E }).catch(z => { throw new yH(z) }), O = _.headers.get("x-relay-error"); if (O && O === "true") throw new _4(_); if (!_.ok) throw new N4(_); let I = ((i = _.headers.get("Content-Type")) !== null && i !== void 0 ? i : "text/plain").split(";")[0].trim(), D; return I === "application/json" ? D = yield _.json() : I === "application/octet-stream" || I === "application/pdf" ? D = yield _.blob() : I === "text/event-stream" ? D = _ : I === "multipart/form-data" ? D = yield _.formData() : D = yield _.text(), { data: D, error: null, response: _ } } catch (o) { return { data: null, error: o, response: o instanceof N4 || o instanceof _4 ? o.context : void 0 } } finally { s && clearTimeout(s) } }) } } var gl = {}; const Kg = T8(mH); var ry = {}, iy = {}, sy = {}, ay = {}, oy = {}, ly = {}, k4; function BU() { if (k4) return ly; k4 = 1, Object.defineProperty(ly, "__esModule", { value: !0 }); class n extends Error { constructor(t) { super(t.message), this.name = "PostgrestError", this.details = t.details, this.hint = t.hint, this.code = t.code } } return ly.default = n, ly } var T4; function CU() {
  if (T4) return oy; T4 = 1, Object.defineProperty(oy, "__esModule", { value: !0 }); const e = Kg.__importDefault(BU()); class t {
    constructor(i) { var s, a; this.shouldThrowOnError = !1, this.method = i.method, this.url = i.url, this.headers = new Headers(i.headers), this.schema = i.schema, this.body = i.body, this.shouldThrowOnError = (s = i.shouldThrowOnError) !== null && s !== void 0 ? s : !1, this.signal = i.signal, this.isMaybeSingle = (a = i.isMaybeSingle) !== null && a !== void 0 ? a : !1, i.fetch ? this.fetch = i.fetch : this.fetch = fetch } throwOnError() { return this.shouldThrowOnError = !0, this } setHeader(i, s) { return this.headers = new Headers(this.headers), this.headers.set(i, s), this } then(i, s) {
      this.schema === void 0 || (["GET", "HEAD"].includes(this.method) ? this.headers.set("Accept-Profile", this.schema) : this.headers.set("Content-Profile", this.schema)), this.method !== "GET" && this.method !== "HEAD" && this.headers.set("Content-Type", "application/json"); const a = this.fetch; let o = a(this.url.toString(), { method: this.method, headers: this.headers, body: JSON.stringify(this.body), signal: this.signal }).then(async A => { var u, f, h, m; let p = null, b = null, y = null, E = A.status, _ = A.statusText; if (A.ok) { if (this.method !== "HEAD") { const z = await A.text(); z === "" || (this.headers.get("Accept") === "text/csv" || this.headers.get("Accept") && (!((u = this.headers.get("Accept")) === null || u === void 0) && u.includes("application/vnd.pgrst.plan+text")) ? b = z : b = JSON.parse(z)) } const I = (f = this.headers.get("Prefer")) === null || f === void 0 ? void 0 : f.match(/count=(exact|planned|estimated)/), D = (h = A.headers.get("content-range")) === null || h === void 0 ? void 0 : h.split("/"); I && D && D.length > 1 && (y = parseInt(D[1])), this.isMaybeSingle && this.method === "GET" && Array.isArray(b) && (b.length > 1 ? (p = { code: "PGRST116", details: `Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`, hint: null, message: "JSON object requested, multiple (or no) rows returned" }, b = null, y = null, E = 406, _ = "Not Acceptable") : b.length === 1 ? b = b[0] : b = null) } else { const I = await A.text(); try { p = JSON.parse(I), Array.isArray(p) && A.status === 404 && (b = [], p = null, E = 200, _ = "OK") } catch { A.status === 404 && I === "" ? (E = 204, _ = "No Content") : p = { message: I } } if (p && this.isMaybeSingle && (!((m = p?.details) === null || m === void 0) && m.includes("0 rows")) && (p = null, E = 200, _ = "OK"), p && this.shouldThrowOnError) throw new e.default(p) } return { error: p, data: b, count: y, status: E, statusText: _ } }); return this.shouldThrowOnError || (o = o.catch(A => {
        var u, f, h, m, p, b; let y = ""; const E = A?.cause; if (E) {
          const _ = (u = E?.message) !== null && u !== void 0 ? u : "", O = (f = E?.code) !== null && f !== void 0 ? f : ""; y = `${(h = A?.name) !== null && h !== void 0 ? h : "FetchError"}: ${A?.message}`, y += `

Caused by: ${(m = E?.name) !== null && m !== void 0 ? m : "Error"}: ${_}`, O && (y += ` (${O})`), E?.stack && (y += `
${E.stack}`)
        } else y = (p = A?.stack) !== null && p !== void 0 ? p : ""; return { error: { message: `${(b = A?.name) !== null && b !== void 0 ? b : "FetchError"}: ${A?.message}`, details: y, hint: "", code: "" }, data: null, count: null, status: 0, statusText: "" }
      })), o.then(i, s)
    } returns() { return this } overrideTypes() { return this }
  } return oy.default = t, oy
} var F4; function EU() { if (F4) return ay; F4 = 1, Object.defineProperty(ay, "__esModule", { value: !0 }); const e = Kg.__importDefault(CU()); class t extends e.default { select(i) { let s = !1; const a = (i ?? "*").split("").map(o => /\s/.test(o) && !s ? "" : (o === '"' && (s = !s), o)).join(""); return this.url.searchParams.set("select", a), this.headers.append("Prefer", "return=representation"), this } order(i, { ascending: s = !0, nullsFirst: a, foreignTable: o, referencedTable: A = o } = {}) { const u = A ? `${A}.order` : "order", f = this.url.searchParams.get(u); return this.url.searchParams.set(u, `${f ? `${f},` : ""}${i}.${s ? "asc" : "desc"}${a === void 0 ? "" : a ? ".nullsfirst" : ".nullslast"}`), this } limit(i, { foreignTable: s, referencedTable: a = s } = {}) { const o = typeof a > "u" ? "limit" : `${a}.limit`; return this.url.searchParams.set(o, `${i}`), this } range(i, s, { foreignTable: a, referencedTable: o = a } = {}) { const A = typeof o > "u" ? "offset" : `${o}.offset`, u = typeof o > "u" ? "limit" : `${o}.limit`; return this.url.searchParams.set(A, `${i}`), this.url.searchParams.set(u, `${s - i + 1}`), this } abortSignal(i) { return this.signal = i, this } single() { return this.headers.set("Accept", "application/vnd.pgrst.object+json"), this } maybeSingle() { return this.method === "GET" ? this.headers.set("Accept", "application/json") : this.headers.set("Accept", "application/vnd.pgrst.object+json"), this.isMaybeSingle = !0, this } csv() { return this.headers.set("Accept", "text/csv"), this } geojson() { return this.headers.set("Accept", "application/geo+json"), this } explain({ analyze: i = !1, verbose: s = !1, settings: a = !1, buffers: o = !1, wal: A = !1, format: u = "text" } = {}) { var f; const h = [i ? "analyze" : null, s ? "verbose" : null, a ? "settings" : null, o ? "buffers" : null, A ? "wal" : null].filter(Boolean).join("|"), m = (f = this.headers.get("Accept")) !== null && f !== void 0 ? f : "application/json"; return this.headers.set("Accept", `application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`), u === "json" ? this : this } rollback() { return this.headers.append("Prefer", "tx=rollback"), this } returns() { return this } maxAffected(i) { return this.headers.append("Prefer", "handling=strict"), this.headers.append("Prefer", `max-affected=${i}`), this } } return ay.default = t, ay } var U4; function K5() { if (U4) return sy; U4 = 1, Object.defineProperty(sy, "__esModule", { value: !0 }); const e = Kg.__importDefault(EU()), t = new RegExp("[,()]"); class r extends e.default { eq(s, a) { return this.url.searchParams.append(s, `eq.${a}`), this } neq(s, a) { return this.url.searchParams.append(s, `neq.${a}`), this } gt(s, a) { return this.url.searchParams.append(s, `gt.${a}`), this } gte(s, a) { return this.url.searchParams.append(s, `gte.${a}`), this } lt(s, a) { return this.url.searchParams.append(s, `lt.${a}`), this } lte(s, a) { return this.url.searchParams.append(s, `lte.${a}`), this } like(s, a) { return this.url.searchParams.append(s, `like.${a}`), this } likeAllOf(s, a) { return this.url.searchParams.append(s, `like(all).{${a.join(",")}}`), this } likeAnyOf(s, a) { return this.url.searchParams.append(s, `like(any).{${a.join(",")}}`), this } ilike(s, a) { return this.url.searchParams.append(s, `ilike.${a}`), this } ilikeAllOf(s, a) { return this.url.searchParams.append(s, `ilike(all).{${a.join(",")}}`), this } ilikeAnyOf(s, a) { return this.url.searchParams.append(s, `ilike(any).{${a.join(",")}}`), this } regexMatch(s, a) { return this.url.searchParams.append(s, `match.${a}`), this } regexIMatch(s, a) { return this.url.searchParams.append(s, `imatch.${a}`), this } is(s, a) { return this.url.searchParams.append(s, `is.${a}`), this } isDistinct(s, a) { return this.url.searchParams.append(s, `isdistinct.${a}`), this } in(s, a) { const o = Array.from(new Set(a)).map(A => typeof A == "string" && t.test(A) ? `"${A}"` : `${A}`).join(","); return this.url.searchParams.append(s, `in.(${o})`), this } contains(s, a) { return typeof a == "string" ? this.url.searchParams.append(s, `cs.${a}`) : Array.isArray(a) ? this.url.searchParams.append(s, `cs.{${a.join(",")}}`) : this.url.searchParams.append(s, `cs.${JSON.stringify(a)}`), this } containedBy(s, a) { return typeof a == "string" ? this.url.searchParams.append(s, `cd.${a}`) : Array.isArray(a) ? this.url.searchParams.append(s, `cd.{${a.join(",")}}`) : this.url.searchParams.append(s, `cd.${JSON.stringify(a)}`), this } rangeGt(s, a) { return this.url.searchParams.append(s, `sr.${a}`), this } rangeGte(s, a) { return this.url.searchParams.append(s, `nxl.${a}`), this } rangeLt(s, a) { return this.url.searchParams.append(s, `sl.${a}`), this } rangeLte(s, a) { return this.url.searchParams.append(s, `nxr.${a}`), this } rangeAdjacent(s, a) { return this.url.searchParams.append(s, `adj.${a}`), this } overlaps(s, a) { return typeof a == "string" ? this.url.searchParams.append(s, `ov.${a}`) : this.url.searchParams.append(s, `ov.{${a.join(",")}}`), this } textSearch(s, a, { config: o, type: A } = {}) { let u = ""; A === "plain" ? u = "pl" : A === "phrase" ? u = "ph" : A === "websearch" && (u = "w"); const f = o === void 0 ? "" : `(${o})`; return this.url.searchParams.append(s, `${u}fts${f}.${a}`), this } match(s) { return Object.entries(s).forEach(([a, o]) => { this.url.searchParams.append(a, `eq.${o}`) }), this } not(s, a, o) { return this.url.searchParams.append(s, `not.${a}.${o}`), this } or(s, { foreignTable: a, referencedTable: o = a } = {}) { const A = o ? `${o}.or` : "or"; return this.url.searchParams.append(A, `(${s})`), this } filter(s, a, o) { return this.url.searchParams.append(s, `${a}.${o}`), this } } return sy.default = r, sy } var O4; function SU() { if (O4) return iy; O4 = 1, Object.defineProperty(iy, "__esModule", { value: !0 }); const e = Kg.__importDefault(K5()); class t { constructor(i, { headers: s = {}, schema: a, fetch: o }) { this.url = i, this.headers = new Headers(s), this.schema = a, this.fetch = o } select(i, s) { const { head: a = !1, count: o } = s ?? {}, A = a ? "HEAD" : "GET"; let u = !1; const f = (i ?? "*").split("").map(h => /\s/.test(h) && !u ? "" : (h === '"' && (u = !u), h)).join(""); return this.url.searchParams.set("select", f), o && this.headers.append("Prefer", `count=${o}`), new e.default({ method: A, url: this.url, headers: this.headers, schema: this.schema, fetch: this.fetch }) } insert(i, { count: s, defaultToNull: a = !0 } = {}) { var o; const A = "POST"; if (s && this.headers.append("Prefer", `count=${s}`), a || this.headers.append("Prefer", "missing=default"), Array.isArray(i)) { const u = i.reduce((f, h) => f.concat(Object.keys(h)), []); if (u.length > 0) { const f = [...new Set(u)].map(h => `"${h}"`); this.url.searchParams.set("columns", f.join(",")) } } return new e.default({ method: A, url: this.url, headers: this.headers, schema: this.schema, body: i, fetch: (o = this.fetch) !== null && o !== void 0 ? o : fetch }) } upsert(i, { onConflict: s, ignoreDuplicates: a = !1, count: o, defaultToNull: A = !0 } = {}) { var u; const f = "POST"; if (this.headers.append("Prefer", `resolution=${a ? "ignore" : "merge"}-duplicates`), s !== void 0 && this.url.searchParams.set("on_conflict", s), o && this.headers.append("Prefer", `count=${o}`), A || this.headers.append("Prefer", "missing=default"), Array.isArray(i)) { const h = i.reduce((m, p) => m.concat(Object.keys(p)), []); if (h.length > 0) { const m = [...new Set(h)].map(p => `"${p}"`); this.url.searchParams.set("columns", m.join(",")) } } return new e.default({ method: f, url: this.url, headers: this.headers, schema: this.schema, body: i, fetch: (u = this.fetch) !== null && u !== void 0 ? u : fetch }) } update(i, { count: s } = {}) { var a; const o = "PATCH"; return s && this.headers.append("Prefer", `count=${s}`), new e.default({ method: o, url: this.url, headers: this.headers, schema: this.schema, body: i, fetch: (a = this.fetch) !== null && a !== void 0 ? a : fetch }) } delete({ count: i } = {}) { var s; const a = "DELETE"; return i && this.headers.append("Prefer", `count=${i}`), new e.default({ method: a, url: this.url, headers: this.headers, schema: this.schema, fetch: (s = this.fetch) !== null && s !== void 0 ? s : fetch }) } } return iy.default = t, iy } var R4; function bH() { if (R4) return ry; R4 = 1, Object.defineProperty(ry, "__esModule", { value: !0 }); const n = Kg, e = n.__importDefault(SU()), t = n.__importDefault(K5()); class r { constructor(s, { headers: a = {}, schema: o, fetch: A } = {}) { this.url = s, this.headers = new Headers(a), this.schemaName = o, this.fetch = A } from(s) { if (!s || typeof s != "string" || s.trim() === "") throw new Error("Invalid relation name: relation must be a non-empty string."); const a = new URL(`${this.url}/${s}`); return new e.default(a, { headers: new Headers(this.headers), schema: this.schemaName, fetch: this.fetch }) } schema(s) { return new r(this.url, { headers: this.headers, schema: s, fetch: this.fetch }) } rpc(s, a = {}, { head: o = !1, get: A = !1, count: u } = {}) { var f; let h; const m = new URL(`${this.url}/rpc/${s}`); let p; o || A ? (h = o ? "HEAD" : "GET", Object.entries(a).filter(([y, E]) => E !== void 0).map(([y, E]) => [y, Array.isArray(E) ? `{${E.join(",")}}` : `${E}`]).forEach(([y, E]) => { m.searchParams.append(y, E) })) : (h = "POST", p = a); const b = new Headers(this.headers); return u && b.set("Prefer", `count=${u}`), new t.default({ method: h, url: m, headers: b, schema: this.schemaName, body: p, fetch: (f = this.fetch) !== null && f !== void 0 ? f : fetch }) } } return ry.default = r, ry } var I4; function xH() { if (I4) return gl; I4 = 1, Object.defineProperty(gl, "__esModule", { value: !0 }), gl.PostgrestError = gl.PostgrestBuilder = gl.PostgrestTransformBuilder = gl.PostgrestFilterBuilder = gl.PostgrestQueryBuilder = gl.PostgrestClient = void 0; const n = Kg, e = n.__importDefault(bH()); gl.PostgrestClient = e.default; const t = n.__importDefault(SU()); gl.PostgrestQueryBuilder = t.default; const r = n.__importDefault(K5()); gl.PostgrestFilterBuilder = r.default; const i = n.__importDefault(EU()); gl.PostgrestTransformBuilder = i.default; const s = n.__importDefault(CU()); gl.PostgrestBuilder = s.default; const a = n.__importDefault(BU()); return gl.PostgrestError = a.default, gl.default = { PostgrestClient: e.default, PostgrestQueryBuilder: t.default, PostgrestFilterBuilder: r.default, PostgrestTransformBuilder: i.default, PostgrestBuilder: s.default, PostgrestError: a.default }, gl } var _U = xH(); const NU = Pg(_U), BH = RF({ __proto__: null, default: NU }, [_U]), { PostgrestClient: CH, PostgrestQueryBuilder: yfe, PostgrestFilterBuilder: wfe, PostgrestTransformBuilder: bfe, PostgrestBuilder: xfe, PostgrestError: Bfe } = NU || BH; class EH {
  constructor() { } static detectEnvironment() {
    var e; if (typeof WebSocket < "u") return { type: "native", constructor: WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocket < "u") return { type: "native", constructor: globalThis.WebSocket }; if (typeof global < "u" && typeof global.WebSocket < "u") return { type: "native", constructor: global.WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocketPair < "u" && typeof globalThis.WebSocket > "u") return { type: "cloudflare", error: "Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.", workaround: "Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime." }; if (typeof globalThis < "u" && globalThis.EdgeRuntime || typeof navigator < "u" && (!((e = navigator.userAgent) === null || e === void 0) && e.includes("Vercel-Edge"))) return { type: "unsupported", error: "Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.", workaround: "Use serverless functions or a different deployment target for WebSocket functionality." }; if (typeof process < "u") {
      const t = process.versions; if (t && t.node) {
        const r = t.node, i = parseInt(r.replace(/^v/, "").split(".")[0]); return i >= 22 ? typeof globalThis.WebSocket < "u" ? { type: "native", constructor: globalThis.WebSocket } : { type: "unsupported", error: `Node.js ${i} detected but native WebSocket not found.`, workaround: "Provide a WebSocket implementation via the transport option." } : {
          type: "unsupported", error: `Node.js ${i} detected without native WebSocket support.`, workaround: `For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}
      }
    } return { type: "unsupported", error: "Unknown JavaScript runtime without WebSocket support.", workaround: "Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation." }
  } static getWebSocketConstructor() {
    const e = this.detectEnvironment(); if (e.constructor) return e.constructor; let t = e.error || "WebSocket not supported in this environment."; throw e.workaround && (t += `

Suggested solution: ${e.workaround}`), new Error(t)
  } static createWebSocket(e, t) { const r = this.getWebSocketConstructor(); return new r(e, t) } static isWebSocketSupported() { try { const e = this.detectEnvironment(); return e.type === "native" || e.type === "ws" } catch { return !1 } }
} const SH = "2.86.0", _H = `realtime-js/${SH}`, kU = "1.0.0", NH = "2.0.0", L4 = kU, YB = 1e4, kH = 1e3, TH = 100; var _h; (function (n) { n[n.connecting = 0] = "connecting", n[n.open = 1] = "open", n[n.closing = 2] = "closing", n[n.closed = 3] = "closed" })(_h || (_h = {})); var Ja; (function (n) { n.closed = "closed", n.errored = "errored", n.joined = "joined", n.joining = "joining", n.leaving = "leaving" })(Ja || (Ja = {})); var zc; (function (n) { n.close = "phx_close", n.error = "phx_error", n.join = "phx_join", n.reply = "phx_reply", n.leave = "phx_leave", n.access_token = "access_token" })(zc || (zc = {})); var JB; (function (n) { n.websocket = "websocket" })(JB || (JB = {})); var Nh; (function (n) { n.Connecting = "connecting", n.Open = "open", n.Closing = "closing", n.Closed = "closed" })(Nh || (Nh = {})); class FH { constructor(e) { this.HEADER_LENGTH = 1, this.USER_BROADCAST_PUSH_META_LENGTH = 6, this.KINDS = { userBroadcastPush: 3, userBroadcast: 4 }, this.BINARY_ENCODING = 0, this.JSON_ENCODING = 1, this.BROADCAST_EVENT = "broadcast", this.allowedMetadataKeys = [], this.allowedMetadataKeys = e ?? [] } encode(e, t) { if (e.event === this.BROADCAST_EVENT && !(e.payload instanceof ArrayBuffer) && typeof e.payload.event == "string") return t(this._binaryEncodeUserBroadcastPush(e)); let r = [e.join_ref, e.ref, e.topic, e.event, e.payload]; return t(JSON.stringify(r)) } _binaryEncodeUserBroadcastPush(e) { var t; return this._isArrayBuffer((t = e.payload) === null || t === void 0 ? void 0 : t.payload) ? this._encodeBinaryUserBroadcastPush(e) : this._encodeJsonUserBroadcastPush(e) } _encodeBinaryUserBroadcastPush(e) { var t, r; const i = (r = (t = e.payload) === null || t === void 0 ? void 0 : t.payload) !== null && r !== void 0 ? r : new ArrayBuffer(0); return this._encodeUserBroadcastPush(e, this.BINARY_ENCODING, i) } _encodeJsonUserBroadcastPush(e) { var t, r; const i = (r = (t = e.payload) === null || t === void 0 ? void 0 : t.payload) !== null && r !== void 0 ? r : {}, a = new TextEncoder().encode(JSON.stringify(i)).buffer; return this._encodeUserBroadcastPush(e, this.JSON_ENCODING, a) } _encodeUserBroadcastPush(e, t, r) { var i, s; const a = e.topic, o = (i = e.ref) !== null && i !== void 0 ? i : "", A = (s = e.join_ref) !== null && s !== void 0 ? s : "", u = e.payload.event, f = this.allowedMetadataKeys ? this._pick(e.payload, this.allowedMetadataKeys) : {}, h = Object.keys(f).length === 0 ? "" : JSON.stringify(f); if (A.length > 255) throw new Error(`joinRef length ${A.length} exceeds maximum of 255`); if (o.length > 255) throw new Error(`ref length ${o.length} exceeds maximum of 255`); if (a.length > 255) throw new Error(`topic length ${a.length} exceeds maximum of 255`); if (u.length > 255) throw new Error(`userEvent length ${u.length} exceeds maximum of 255`); if (h.length > 255) throw new Error(`metadata length ${h.length} exceeds maximum of 255`); const m = this.USER_BROADCAST_PUSH_META_LENGTH + A.length + o.length + a.length + u.length + h.length, p = new ArrayBuffer(this.HEADER_LENGTH + m); let b = new DataView(p), y = 0; b.setUint8(y++, this.KINDS.userBroadcastPush), b.setUint8(y++, A.length), b.setUint8(y++, o.length), b.setUint8(y++, a.length), b.setUint8(y++, u.length), b.setUint8(y++, h.length), b.setUint8(y++, t), Array.from(A, _ => b.setUint8(y++, _.charCodeAt(0))), Array.from(o, _ => b.setUint8(y++, _.charCodeAt(0))), Array.from(a, _ => b.setUint8(y++, _.charCodeAt(0))), Array.from(u, _ => b.setUint8(y++, _.charCodeAt(0))), Array.from(h, _ => b.setUint8(y++, _.charCodeAt(0))); var E = new Uint8Array(p.byteLength + r.byteLength); return E.set(new Uint8Array(p), 0), E.set(new Uint8Array(r), p.byteLength), E.buffer } decode(e, t) { if (this._isArrayBuffer(e)) { let r = this._binaryDecode(e); return t(r) } if (typeof e == "string") { const r = JSON.parse(e), [i, s, a, o, A] = r; return t({ join_ref: i, ref: s, topic: a, event: o, payload: A }) } return t({}) } _binaryDecode(e) { const t = new DataView(e), r = t.getUint8(0), i = new TextDecoder; switch (r) { case this.KINDS.userBroadcast: return this._decodeUserBroadcast(e, t, i) } } _decodeUserBroadcast(e, t, r) { const i = t.getUint8(1), s = t.getUint8(2), a = t.getUint8(3), o = t.getUint8(4); let A = this.HEADER_LENGTH + 4; const u = r.decode(e.slice(A, A + i)); A = A + i; const f = r.decode(e.slice(A, A + s)); A = A + s; const h = r.decode(e.slice(A, A + a)); A = A + a; const m = e.slice(A, e.byteLength), p = o === this.JSON_ENCODING ? JSON.parse(r.decode(m)) : m, b = { type: this.BROADCAST_EVENT, event: f, payload: p }; return a > 0 && (b.meta = JSON.parse(h)), { join_ref: null, ref: null, topic: u, event: this.BROADCAST_EVENT, payload: b } } _isArrayBuffer(e) { var t; return e instanceof ArrayBuffer || ((t = e?.constructor) === null || t === void 0 ? void 0 : t.name) === "ArrayBuffer" } _pick(e, t) { return !e || typeof e != "object" ? {} : Object.fromEntries(Object.entries(e).filter(([r]) => t.includes(r))) } } class TU { constructor(e, t) { this.callback = e, this.timerCalc = t, this.timer = void 0, this.tries = 0, this.callback = e, this.timerCalc = t } reset() { this.tries = 0, clearTimeout(this.timer), this.timer = void 0 } scheduleTimeout() { clearTimeout(this.timer), this.timer = setTimeout(() => { this.tries = this.tries + 1, this.callback() }, this.timerCalc(this.tries + 1)) } } var ns; (function (n) { n.abstime = "abstime", n.bool = "bool", n.date = "date", n.daterange = "daterange", n.float4 = "float4", n.float8 = "float8", n.int2 = "int2", n.int4 = "int4", n.int4range = "int4range", n.int8 = "int8", n.int8range = "int8range", n.json = "json", n.jsonb = "jsonb", n.money = "money", n.numeric = "numeric", n.oid = "oid", n.reltime = "reltime", n.text = "text", n.time = "time", n.timestamp = "timestamp", n.timestamptz = "timestamptz", n.timetz = "timetz", n.tsrange = "tsrange", n.tstzrange = "tstzrange" })(ns || (ns = {})); const M4 = (n, e, t = {}) => { var r; const i = (r = t.skipTypes) !== null && r !== void 0 ? r : []; return e ? Object.keys(e).reduce((s, a) => (s[a] = UH(a, n, e, i), s), {}) : {} }, UH = (n, e, t, r) => { const i = e.find(o => o.name === n), s = i?.type, a = t[n]; return s && !r.includes(s) ? FU(s, a) : XB(a) }, FU = (n, e) => { if (n.charAt(0) === "_") { const t = n.slice(1, n.length); return LH(e, t) } switch (n) { case ns.bool: return OH(e); case ns.float4: case ns.float8: case ns.int2: case ns.int4: case ns.int8: case ns.numeric: case ns.oid: return RH(e); case ns.json: case ns.jsonb: return IH(e); case ns.timestamp: return MH(e); case ns.abstime: case ns.date: case ns.daterange: case ns.int4range: case ns.int8range: case ns.money: case ns.reltime: case ns.text: case ns.time: case ns.timestamptz: case ns.timetz: case ns.tsrange: case ns.tstzrange: return XB(e); default: return XB(e) } }, XB = n => n, OH = n => { switch (n) { case "t": return !0; case "f": return !1; default: return n } }, RH = n => { if (typeof n == "string") { const e = parseFloat(n); if (!Number.isNaN(e)) return e } return n }, IH = n => { if (typeof n == "string") try { return JSON.parse(n) } catch (e) { return console.log(`JSON parse error: ${e}`), n } return n }, LH = (n, e) => { if (typeof n != "string") return n; const t = n.length - 1, r = n[t]; if (n[0] === "{" && r === "}") { let s; const a = n.slice(1, t); try { s = JSON.parse("[" + a + "]") } catch { s = a ? a.split(",") : [] } return s.map(o => FU(e, o)) } return n }, MH = n => typeof n == "string" ? n.replace(" ", "T") : n, UU = n => { const e = new URL(n); return e.protocol = e.protocol.replace(/^ws/i, "http"), e.pathname = e.pathname.replace(/\/+$/, "").replace(/\/socket\/websocket$/i, "").replace(/\/socket$/i, "").replace(/\/websocket$/i, ""), e.pathname === "" || e.pathname === "/" ? e.pathname = "/api/broadcast" : e.pathname = e.pathname + "/api/broadcast", e.href }; class X2 { constructor(e, t, r = {}, i = YB) { this.channel = e, this.event = t, this.payload = r, this.timeout = i, this.sent = !1, this.timeoutTimer = void 0, this.ref = "", this.receivedResp = null, this.recHooks = [], this.refEvent = null } resend(e) { this.timeout = e, this._cancelRefEvent(), this.ref = "", this.refEvent = null, this.receivedResp = null, this.sent = !1, this.send() } send() { this._hasReceived("timeout") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({ topic: this.channel.topic, event: this.event, payload: this.payload, ref: this.ref, join_ref: this.channel._joinRef() })) } updatePayload(e) { this.payload = Object.assign(Object.assign({}, this.payload), e) } receive(e, t) { var r; return this._hasReceived(e) && t((r = this.receivedResp) === null || r === void 0 ? void 0 : r.response), this.recHooks.push({ status: e, callback: t }), this } startTimeout() { if (this.timeoutTimer) return; this.ref = this.channel.socket._makeRef(), this.refEvent = this.channel._replyEventName(this.ref); const e = t => { this._cancelRefEvent(), this._cancelTimeout(), this.receivedResp = t, this._matchReceive(t) }; this.channel._on(this.refEvent, {}, e), this.timeoutTimer = setTimeout(() => { this.trigger("timeout", {}) }, this.timeout) } trigger(e, t) { this.refEvent && this.channel._trigger(this.refEvent, { status: e, response: t }) } destroy() { this._cancelRefEvent(), this._cancelTimeout() } _cancelRefEvent() { this.refEvent && this.channel._off(this.refEvent, {}) } _cancelTimeout() { clearTimeout(this.timeoutTimer), this.timeoutTimer = void 0 } _matchReceive({ status: e, response: t }) { this.recHooks.filter(r => r.status === e).forEach(r => r.callback(t)) } _hasReceived(e) { return this.receivedResp && this.receivedResp.status === e } } var Q4; (function (n) { n.SYNC = "sync", n.JOIN = "join", n.LEAVE = "leave" })(Q4 || (Q4 = {})); class i0 { constructor(e, t) { this.channel = e, this.state = {}, this.pendingDiffs = [], this.joinRef = null, this.enabled = !1, this.caller = { onJoin: () => { }, onLeave: () => { }, onSync: () => { } }; const r = t?.events || { state: "presence_state", diff: "presence_diff" }; this.channel._on(r.state, {}, i => { const { onJoin: s, onLeave: a, onSync: o } = this.caller; this.joinRef = this.channel._joinRef(), this.state = i0.syncState(this.state, i, s, a), this.pendingDiffs.forEach(A => { this.state = i0.syncDiff(this.state, A, s, a) }), this.pendingDiffs = [], o() }), this.channel._on(r.diff, {}, i => { const { onJoin: s, onLeave: a, onSync: o } = this.caller; this.inPendingSyncState() ? this.pendingDiffs.push(i) : (this.state = i0.syncDiff(this.state, i, s, a), o()) }), this.onJoin((i, s, a) => { this.channel._trigger("presence", { event: "join", key: i, currentPresences: s, newPresences: a }) }), this.onLeave((i, s, a) => { this.channel._trigger("presence", { event: "leave", key: i, currentPresences: s, leftPresences: a }) }), this.onSync(() => { this.channel._trigger("presence", { event: "sync" }) }) } static syncState(e, t, r, i) { const s = this.cloneDeep(e), a = this.transformState(t), o = {}, A = {}; return this.map(s, (u, f) => { a[u] || (A[u] = f) }), this.map(a, (u, f) => { const h = s[u]; if (h) { const m = f.map(E => E.presence_ref), p = h.map(E => E.presence_ref), b = f.filter(E => p.indexOf(E.presence_ref) < 0), y = h.filter(E => m.indexOf(E.presence_ref) < 0); b.length > 0 && (o[u] = b), y.length > 0 && (A[u] = y) } else o[u] = f }), this.syncDiff(s, { joins: o, leaves: A }, r, i) } static syncDiff(e, t, r, i) { const { joins: s, leaves: a } = { joins: this.transformState(t.joins), leaves: this.transformState(t.leaves) }; return r || (r = () => { }), i || (i = () => { }), this.map(s, (o, A) => { var u; const f = (u = e[o]) !== null && u !== void 0 ? u : []; if (e[o] = this.cloneDeep(A), f.length > 0) { const h = e[o].map(p => p.presence_ref), m = f.filter(p => h.indexOf(p.presence_ref) < 0); e[o].unshift(...m) } r(o, f, A) }), this.map(a, (o, A) => { let u = e[o]; if (!u) return; const f = A.map(h => h.presence_ref); u = u.filter(h => f.indexOf(h.presence_ref) < 0), e[o] = u, i(o, u, A), u.length === 0 && delete e[o] }), e } static map(e, t) { return Object.getOwnPropertyNames(e).map(r => t(r, e[r])) } static transformState(e) { return e = this.cloneDeep(e), Object.getOwnPropertyNames(e).reduce((t, r) => { const i = e[r]; return "metas" in i ? t[r] = i.metas.map(s => (s.presence_ref = s.phx_ref, delete s.phx_ref, delete s.phx_ref_prev, s)) : t[r] = i, t }, {}) } static cloneDeep(e) { return JSON.parse(JSON.stringify(e)) } onJoin(e) { this.caller.onJoin = e } onLeave(e) { this.caller.onLeave = e } onSync(e) { this.caller.onSync = e } inPendingSyncState() { return !this.joinRef || this.joinRef !== this.channel._joinRef() } } var D4; (function (n) { n.ALL = "*", n.INSERT = "INSERT", n.UPDATE = "UPDATE", n.DELETE = "DELETE" })(D4 || (D4 = {})); var s0; (function (n) { n.BROADCAST = "broadcast", n.PRESENCE = "presence", n.POSTGRES_CHANGES = "postgres_changes", n.SYSTEM = "system" })(s0 || (s0 = {})); var lf; (function (n) { n.SUBSCRIBED = "SUBSCRIBED", n.TIMED_OUT = "TIMED_OUT", n.CLOSED = "CLOSED", n.CHANNEL_ERROR = "CHANNEL_ERROR" })(lf || (lf = {})); class V5 { constructor(e, t = { config: {} }, r) { var i, s; if (this.topic = e, this.params = t, this.socket = r, this.bindings = {}, this.state = Ja.closed, this.joinedOnce = !1, this.pushBuffer = [], this.subTopic = e.replace(/^realtime:/i, ""), this.params.config = Object.assign({ broadcast: { ack: !1, self: !1 }, presence: { key: "", enabled: !1 }, private: !1 }, t.config), this.timeout = this.socket.timeout, this.joinPush = new X2(this, zc.join, this.params, this.timeout), this.rejoinTimer = new TU(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs), this.joinPush.receive("ok", () => { this.state = Ja.joined, this.rejoinTimer.reset(), this.pushBuffer.forEach(a => a.send()), this.pushBuffer = [] }), this._onClose(() => { this.rejoinTimer.reset(), this.socket.log("channel", `close ${this.topic} ${this._joinRef()}`), this.state = Ja.closed, this.socket._remove(this) }), this._onError(a => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, a), this.state = Ja.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("timeout", () => { this._isJoining() && (this.socket.log("channel", `timeout ${this.topic}`, this.joinPush.timeout), this.state = Ja.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("error", a => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, a), this.state = Ja.errored, this.rejoinTimer.scheduleTimeout()) }), this._on(zc.reply, {}, (a, o) => { this._trigger(this._replyEventName(o), a) }), this.presence = new i0(this), this.broadcastEndpointURL = UU(this.socket.endPoint), this.private = this.params.config.private || !1, !this.private && (!((s = (i = this.params.config) === null || i === void 0 ? void 0 : i.broadcast) === null || s === void 0) && s.replay)) throw `tried to use replay on public channel '${this.topic}'. It must be a private channel.` } subscribe(e, t = this.timeout) { var r, i, s; if (this.socket.isConnected() || this.socket.connect(), this.state == Ja.closed) { const { config: { broadcast: a, presence: o, private: A } } = this.params, u = (i = (r = this.bindings.postgres_changes) === null || r === void 0 ? void 0 : r.map(p => p.filter)) !== null && i !== void 0 ? i : [], f = !!this.bindings[s0.PRESENCE] && this.bindings[s0.PRESENCE].length > 0 || ((s = this.params.config.presence) === null || s === void 0 ? void 0 : s.enabled) === !0, h = {}, m = { broadcast: a, presence: Object.assign(Object.assign({}, o), { enabled: f }), postgres_changes: u, private: A }; this.socket.accessTokenValue && (h.access_token = this.socket.accessTokenValue), this._onError(p => e?.(lf.CHANNEL_ERROR, p)), this._onClose(() => e?.(lf.CLOSED)), this.updateJoinPayload(Object.assign({ config: m }, h)), this.joinedOnce = !0, this._rejoin(t), this.joinPush.receive("ok", async ({ postgres_changes: p }) => { var b; if (this.socket.setAuth(), p === void 0) { e?.(lf.SUBSCRIBED); return } else { const y = this.bindings.postgres_changes, E = (b = y?.length) !== null && b !== void 0 ? b : 0, _ = []; for (let O = 0; O < E; O++) { const I = y[O], { filter: { event: D, schema: z, table: X, filter: q } } = I, W = p && p[O]; if (W && W.event === D && W.schema === z && W.table === X && W.filter === q) _.push(Object.assign(Object.assign({}, I), { id: W.id })); else { this.unsubscribe(), this.state = Ja.errored, e?.(lf.CHANNEL_ERROR, new Error("mismatch between server and client bindings for postgres changes")); return } } this.bindings.postgres_changes = _, e && e(lf.SUBSCRIBED); return } }).receive("error", p => { this.state = Ja.errored, e?.(lf.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(p).join(", ") || "error"))) }).receive("timeout", () => { e?.(lf.TIMED_OUT) }) } return this } presenceState() { return this.presence.state } async track(e, t = {}) { return await this.send({ type: "presence", event: "track", payload: e }, t.timeout || this.timeout) } async untrack(e = {}) { return await this.send({ type: "presence", event: "untrack" }, e) } on(e, t, r) { return this.state === Ja.joined && e === s0.PRESENCE && (this.socket.log("channel", `resubscribe to ${this.topic} due to change in presence callbacks on joined channel`), this.unsubscribe().then(() => this.subscribe())), this._on(e, t, r) } async httpSend(e, t, r = {}) { var i; const s = this.socket.accessTokenValue ? `Bearer ${this.socket.accessTokenValue}` : ""; if (t == null) return Promise.reject("Payload is required for httpSend()"); const a = { method: "POST", headers: { Authorization: s, apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: e, payload: t, private: this.private }] }) }, o = await this._fetchWithTimeout(this.broadcastEndpointURL, a, (i = r.timeout) !== null && i !== void 0 ? i : this.timeout); if (o.status === 202) return { success: !0 }; let A = o.statusText; try { const u = await o.json(); A = u.error || u.message || A } catch { } return Promise.reject(new Error(A)) } async send(e, t = {}) { var r, i; if (!this._canPush() && e.type === "broadcast") { console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery."); const { event: s, payload: a } = e, A = { method: "POST", headers: { Authorization: this.socket.accessTokenValue ? `Bearer ${this.socket.accessTokenValue}` : "", apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: s, payload: a, private: this.private }] }) }; try { const u = await this._fetchWithTimeout(this.broadcastEndpointURL, A, (r = t.timeout) !== null && r !== void 0 ? r : this.timeout); return await ((i = u.body) === null || i === void 0 ? void 0 : i.cancel()), u.ok ? "ok" : "error" } catch (u) { return u.name === "AbortError" ? "timed out" : "error" } } else return new Promise(s => { var a, o, A; const u = this._push(e.type, e, t.timeout || this.timeout); e.type === "broadcast" && !(!((A = (o = (a = this.params) === null || a === void 0 ? void 0 : a.config) === null || o === void 0 ? void 0 : o.broadcast) === null || A === void 0) && A.ack) && s("ok"), u.receive("ok", () => s("ok")), u.receive("error", () => s("error")), u.receive("timeout", () => s("timed out")) }) } updateJoinPayload(e) { this.joinPush.updatePayload(e) } unsubscribe(e = this.timeout) { this.state = Ja.leaving; const t = () => { this.socket.log("channel", `leave ${this.topic}`), this._trigger(zc.close, "leave", this._joinRef()) }; this.joinPush.destroy(); let r = null; return new Promise(i => { r = new X2(this, zc.leave, {}, e), r.receive("ok", () => { t(), i("ok") }).receive("timeout", () => { t(), i("timed out") }).receive("error", () => { i("error") }), r.send(), this._canPush() || r.trigger("ok", {}) }).finally(() => { r?.destroy() }) } teardown() { this.pushBuffer.forEach(e => e.destroy()), this.pushBuffer = [], this.rejoinTimer.reset(), this.joinPush.destroy(), this.state = Ja.closed, this.bindings = {} } async _fetchWithTimeout(e, t, r) { const i = new AbortController, s = setTimeout(() => i.abort(), r), a = await this.socket.fetch(e, Object.assign(Object.assign({}, t), { signal: i.signal })); return clearTimeout(s), a } _push(e, t, r = this.timeout) { if (!this.joinedOnce) throw `tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`; let i = new X2(this, e, t, r); return this._canPush() ? i.send() : this._addToPushBuffer(i), i } _addToPushBuffer(e) { if (e.startTimeout(), this.pushBuffer.push(e), this.pushBuffer.length > TH) { const t = this.pushBuffer.shift(); t && (t.destroy(), this.socket.log("channel", `discarded push due to buffer overflow: ${t.event}`, t.payload)) } } _onMessage(e, t, r) { return t } _isMember(e) { return this.topic === e } _joinRef() { return this.joinPush.ref } _trigger(e, t, r) { var i, s; const a = e.toLocaleLowerCase(), { close: o, error: A, leave: u, join: f } = zc; if (r && [o, A, u, f].indexOf(a) >= 0 && r !== this._joinRef()) return; let m = this._onMessage(a, t, r); if (t && !m) throw "channel onMessage callbacks must return the payload, modified or unmodified";["insert", "update", "delete"].includes(a) ? (i = this.bindings.postgres_changes) === null || i === void 0 || i.filter(p => { var b, y, E; return ((b = p.filter) === null || b === void 0 ? void 0 : b.event) === "*" || ((E = (y = p.filter) === null || y === void 0 ? void 0 : y.event) === null || E === void 0 ? void 0 : E.toLocaleLowerCase()) === a }).map(p => p.callback(m, r)) : (s = this.bindings[a]) === null || s === void 0 || s.filter(p => { var b, y, E, _, O, I; if (["broadcast", "presence", "postgres_changes"].includes(a)) if ("id" in p) { const D = p.id, z = (b = p.filter) === null || b === void 0 ? void 0 : b.event; return D && ((y = t.ids) === null || y === void 0 ? void 0 : y.includes(D)) && (z === "*" || z?.toLocaleLowerCase() === ((E = t.data) === null || E === void 0 ? void 0 : E.type.toLocaleLowerCase())) } else { const D = (O = (_ = p?.filter) === null || _ === void 0 ? void 0 : _.event) === null || O === void 0 ? void 0 : O.toLocaleLowerCase(); return D === "*" || D === ((I = t?.event) === null || I === void 0 ? void 0 : I.toLocaleLowerCase()) } else return p.type.toLocaleLowerCase() === a }).map(p => { if (typeof m == "object" && "ids" in m) { const b = m.data, { schema: y, table: E, commit_timestamp: _, type: O, errors: I } = b; m = Object.assign(Object.assign({}, { schema: y, table: E, commit_timestamp: _, eventType: O, new: {}, old: {}, errors: I }), this._getPayloadRecords(b)) } p.callback(m, r) }) } _isClosed() { return this.state === Ja.closed } _isJoined() { return this.state === Ja.joined } _isJoining() { return this.state === Ja.joining } _isLeaving() { return this.state === Ja.leaving } _replyEventName(e) { return `chan_reply_${e}` } _on(e, t, r) { const i = e.toLocaleLowerCase(), s = { type: i, filter: t, callback: r }; return this.bindings[i] ? this.bindings[i].push(s) : this.bindings[i] = [s], this } _off(e, t) { const r = e.toLocaleLowerCase(); return this.bindings[r] && (this.bindings[r] = this.bindings[r].filter(i => { var s; return !(((s = i.type) === null || s === void 0 ? void 0 : s.toLocaleLowerCase()) === r && V5.isEqual(i.filter, t)) })), this } static isEqual(e, t) { if (Object.keys(e).length !== Object.keys(t).length) return !1; for (const r in e) if (e[r] !== t[r]) return !1; return !0 } _rejoinUntilConnected() { this.rejoinTimer.scheduleTimeout(), this.socket.isConnected() && this._rejoin() } _onClose(e) { this._on(zc.close, {}, e) } _onError(e) { this._on(zc.error, {}, t => e(t)) } _canPush() { return this.socket.isConnected() && this._isJoined() } _rejoin(e = this.timeout) { this._isLeaving() || (this.socket._leaveOpenTopic(this.topic), this.state = Ja.joining, this.joinPush.resend(e)) } _getPayloadRecords(e) { const t = { new: {}, old: {} }; return (e.type === "INSERT" || e.type === "UPDATE") && (t.new = M4(e.columns, e.record)), (e.type === "UPDATE" || e.type === "DELETE") && (t.old = M4(e.columns, e.old_record)), t } } const Z2 = () => { }, Ay = { HEARTBEAT_INTERVAL: 25e3, RECONNECT_DELAY: 10, HEARTBEAT_TIMEOUT_FALLBACK: 100 }, QH = [1e3, 2e3, 5e3, 1e4], DH = 1e4, PH = `
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`; class HH {
  constructor(e, t) { var r; if (this.accessTokenValue = null, this.apiKey = null, this.channels = new Array, this.endPoint = "", this.httpEndpoint = "", this.headers = {}, this.params = {}, this.timeout = YB, this.transport = null, this.heartbeatIntervalMs = Ay.HEARTBEAT_INTERVAL, this.heartbeatTimer = void 0, this.pendingHeartbeatRef = null, this.heartbeatCallback = Z2, this.ref = 0, this.reconnectTimer = null, this.vsn = L4, this.logger = Z2, this.conn = null, this.sendBuffer = [], this.serializer = new FH, this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] }, this.accessToken = null, this._connectionState = "disconnected", this._wasManualDisconnect = !1, this._authPromise = null, this._resolveFetch = i => i ? (...s) => i(...s) : (...s) => fetch(...s), !(!((r = t?.params) === null || r === void 0) && r.apikey)) throw new Error("API key is required to connect to Realtime"); this.apiKey = t.params.apikey, this.endPoint = `${e}/${JB.websocket}`, this.httpEndpoint = UU(e), this._initializeOptions(t), this._setupReconnectionTimer(), this.fetch = this._resolveFetch(t?.fetch) } connect() {
    if (!(this.isConnecting() || this.isDisconnecting() || this.conn !== null && this.isConnected())) {
      if (this._setConnectionState("connecting"), this.accessToken && !this._authPromise && this._setAuthSafely("connect"), this.transport) this.conn = new this.transport(this.endpointURL()); else try { this.conn = EH.createWebSocket(this.endpointURL()) } catch (e) {
        this._setConnectionState("disconnected"); const t = e.message; throw t.includes("Node.js") ? new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`) : new Error(`WebSocket not available: ${t}`)
      } this._setupConnectionHandlers()
    }
  } endpointURL() { return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: this.vsn })) } disconnect(e, t) { if (!this.isDisconnecting()) if (this._setConnectionState("disconnecting", !0), this.conn) { const r = setTimeout(() => { this._setConnectionState("disconnected") }, 100); this.conn.onclose = () => { clearTimeout(r), this._setConnectionState("disconnected") }, typeof this.conn.close == "function" && (e ? this.conn.close(e, t ?? "") : this.conn.close()), this._teardownConnection() } else this._setConnectionState("disconnected") } getChannels() { return this.channels } async removeChannel(e) { const t = await e.unsubscribe(); return this.channels.length === 0 && this.disconnect(), t } async removeAllChannels() { const e = await Promise.all(this.channels.map(t => t.unsubscribe())); return this.channels = [], this.disconnect(), e } log(e, t, r) { this.logger(e, t, r) } connectionState() { switch (this.conn && this.conn.readyState) { case _h.connecting: return Nh.Connecting; case _h.open: return Nh.Open; case _h.closing: return Nh.Closing; default: return Nh.Closed } } isConnected() { return this.connectionState() === Nh.Open } isConnecting() { return this._connectionState === "connecting" } isDisconnecting() { return this._connectionState === "disconnecting" } channel(e, t = { config: {} }) { const r = `realtime:${e}`, i = this.getChannels().find(s => s.topic === r); if (i) return i; { const s = new V5(`realtime:${e}`, t, this); return this.channels.push(s), s } } push(e) { const { topic: t, event: r, payload: i, ref: s } = e, a = () => { this.encode(e, o => { var A; (A = this.conn) === null || A === void 0 || A.send(o) }) }; this.log("push", `${t} ${r} (${s})`, i), this.isConnected() ? a() : this.sendBuffer.push(a) } async setAuth(e = null) { this._authPromise = this._performAuth(e); try { await this._authPromise } finally { this._authPromise = null } } async sendHeartbeat() { var e; if (!this.isConnected()) { try { this.heartbeatCallback("disconnected") } catch (t) { this.log("error", "error in heartbeat callback", t) } return } if (this.pendingHeartbeatRef) { this.pendingHeartbeatRef = null, this.log("transport", "heartbeat timeout. Attempting to re-establish connection"); try { this.heartbeatCallback("timeout") } catch (t) { this.log("error", "error in heartbeat callback", t) } this._wasManualDisconnect = !1, (e = this.conn) === null || e === void 0 || e.close(kH, "heartbeat timeout"), setTimeout(() => { var t; this.isConnected() || (t = this.reconnectTimer) === null || t === void 0 || t.scheduleTimeout() }, Ay.HEARTBEAT_TIMEOUT_FALLBACK); return } this.pendingHeartbeatRef = this._makeRef(), this.push({ topic: "phoenix", event: "heartbeat", payload: {}, ref: this.pendingHeartbeatRef }); try { this.heartbeatCallback("sent") } catch (t) { this.log("error", "error in heartbeat callback", t) } this._setAuthSafely("heartbeat") } onHeartbeat(e) { this.heartbeatCallback = e } flushSendBuffer() { this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(e => e()), this.sendBuffer = []) } _makeRef() { let e = this.ref + 1; return e === this.ref ? this.ref = 0 : this.ref = e, this.ref.toString() } _leaveOpenTopic(e) { let t = this.channels.find(r => r.topic === e && (r._isJoined() || r._isJoining())); t && (this.log("transport", `leaving duplicate topic "${e}"`), t.unsubscribe()) } _remove(e) { this.channels = this.channels.filter(t => t.topic !== e.topic) } _onConnMessage(e) { this.decode(e.data, t => { if (t.topic === "phoenix" && t.event === "phx_reply") try { this.heartbeatCallback(t.payload.status === "ok" ? "ok" : "error") } catch (u) { this.log("error", "error in heartbeat callback", u) } t.ref && t.ref === this.pendingHeartbeatRef && (this.pendingHeartbeatRef = null); const { topic: r, event: i, payload: s, ref: a } = t, o = a ? `(${a})` : "", A = s.status || ""; this.log("receive", `${A} ${r} ${i} ${o}`.trim(), s), this.channels.filter(u => u._isMember(r)).forEach(u => u._trigger(i, s, a)), this._triggerStateCallbacks("message", t) }) } _clearTimer(e) { var t; e === "heartbeat" && this.heartbeatTimer ? (clearInterval(this.heartbeatTimer), this.heartbeatTimer = void 0) : e === "reconnect" && ((t = this.reconnectTimer) === null || t === void 0 || t.reset()) } _clearAllTimers() { this._clearTimer("heartbeat"), this._clearTimer("reconnect") } _setupConnectionHandlers() { this.conn && ("binaryType" in this.conn && (this.conn.binaryType = "arraybuffer"), this.conn.onopen = () => this._onConnOpen(), this.conn.onerror = e => this._onConnError(e), this.conn.onmessage = e => this._onConnMessage(e), this.conn.onclose = e => this._onConnClose(e)) } _teardownConnection() { if (this.conn) { if (this.conn.readyState === _h.open || this.conn.readyState === _h.connecting) try { this.conn.close() } catch (e) { this.log("error", "Error closing connection", e) } this.conn.onopen = null, this.conn.onerror = null, this.conn.onmessage = null, this.conn.onclose = null, this.conn = null } this._clearAllTimers(), this.channels.forEach(e => e.teardown()) } _onConnOpen() { this._setConnectionState("connected"), this.log("transport", `connected to ${this.endpointURL()}`), (this._authPromise || (this.accessToken && !this.accessTokenValue ? this.setAuth() : Promise.resolve())).then(() => { this.flushSendBuffer() }).catch(t => { this.log("error", "error waiting for auth on connect", t), this.flushSendBuffer() }), this._clearTimer("reconnect"), this.worker ? this.workerRef || this._startWorkerHeartbeat() : this._startHeartbeat(), this._triggerStateCallbacks("open") } _startHeartbeat() { this.heartbeatTimer && clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs) } _startWorkerHeartbeat() { this.workerUrl ? this.log("worker", `starting worker for from ${this.workerUrl}`) : this.log("worker", "starting default worker"); const e = this._workerObjectUrl(this.workerUrl); this.workerRef = new Worker(e), this.workerRef.onerror = t => { this.log("worker", "worker error", t.message), this.workerRef.terminate() }, this.workerRef.onmessage = t => { t.data.event === "keepAlive" && this.sendHeartbeat() }, this.workerRef.postMessage({ event: "start", interval: this.heartbeatIntervalMs }) } _onConnClose(e) { var t; this._setConnectionState("disconnected"), this.log("transport", "close", e), this._triggerChanError(), this._clearTimer("heartbeat"), this._wasManualDisconnect || (t = this.reconnectTimer) === null || t === void 0 || t.scheduleTimeout(), this._triggerStateCallbacks("close", e) } _onConnError(e) { this._setConnectionState("disconnected"), this.log("transport", `${e}`), this._triggerChanError(), this._triggerStateCallbacks("error", e) } _triggerChanError() { this.channels.forEach(e => e._trigger(zc.error)) } _appendParams(e, t) { if (Object.keys(t).length === 0) return e; const r = e.match(/\?/) ? "&" : "?", i = new URLSearchParams(t); return `${e}${r}${i}` } _workerObjectUrl(e) { let t; if (e) t = e; else { const r = new Blob([PH], { type: "application/javascript" }); t = URL.createObjectURL(r) } return t } _setConnectionState(e, t = !1) { this._connectionState = e, e === "connecting" ? this._wasManualDisconnect = !1 : e === "disconnecting" && (this._wasManualDisconnect = t) } async _performAuth(e = null) { let t; e ? t = e : this.accessToken ? t = await this.accessToken() : t = this.accessTokenValue, this.accessTokenValue != t && (this.accessTokenValue = t, this.channels.forEach(r => { const i = { access_token: t, version: _H }; t && r.updateJoinPayload(i), r.joinedOnce && r._isJoined() && r._push(zc.access_token, { access_token: t }) })) } async _waitForAuthIfNeeded() { this._authPromise && await this._authPromise } _setAuthSafely(e = "general") { this.setAuth().catch(t => { this.log("error", `error setting auth in ${e}`, t) }) } _triggerStateCallbacks(e, t) { try { this.stateChangeCallbacks[e].forEach(r => { try { r(t) } catch (i) { this.log("error", `error in ${e} callback`, i) } }) } catch (r) { this.log("error", `error triggering ${e} callbacks`, r) } } _setupReconnectionTimer() { this.reconnectTimer = new TU(async () => { setTimeout(async () => { await this._waitForAuthIfNeeded(), this.isConnected() || this.connect() }, Ay.RECONNECT_DELAY) }, this.reconnectAfterMs) } _initializeOptions(e) { var t, r, i, s, a, o, A, u, f, h, m, p; switch (this.transport = (t = e?.transport) !== null && t !== void 0 ? t : null, this.timeout = (r = e?.timeout) !== null && r !== void 0 ? r : YB, this.heartbeatIntervalMs = (i = e?.heartbeatIntervalMs) !== null && i !== void 0 ? i : Ay.HEARTBEAT_INTERVAL, this.worker = (s = e?.worker) !== null && s !== void 0 ? s : !1, this.accessToken = (a = e?.accessToken) !== null && a !== void 0 ? a : null, this.heartbeatCallback = (o = e?.heartbeatCallback) !== null && o !== void 0 ? o : Z2, this.vsn = (A = e?.vsn) !== null && A !== void 0 ? A : L4, e?.params && (this.params = e.params), e?.logger && (this.logger = e.logger), (e?.logLevel || e?.log_level) && (this.logLevel = e.logLevel || e.log_level, this.params = Object.assign(Object.assign({}, this.params), { log_level: this.logLevel })), this.reconnectAfterMs = (u = e?.reconnectAfterMs) !== null && u !== void 0 ? u : (b => QH[b - 1] || DH), this.vsn) { case kU: this.encode = (f = e?.encode) !== null && f !== void 0 ? f : ((b, y) => y(JSON.stringify(b))), this.decode = (h = e?.decode) !== null && h !== void 0 ? h : ((b, y) => y(JSON.parse(b))); break; case NH: this.encode = (m = e?.encode) !== null && m !== void 0 ? m : this.serializer.encode.bind(this.serializer), this.decode = (p = e?.decode) !== null && p !== void 0 ? p : this.serializer.decode.bind(this.serializer); break; default: throw new Error(`Unsupported serializer version: ${this.vsn}`) }if (this.worker) { if (typeof window < "u" && !window.Worker) throw new Error("Web Worker is not supported"); this.workerUrl = e?.workerUrl } }
} class nb extends Error { constructor(e) { super(e), this.__isStorageError = !0, this.name = "StorageError" } } function Us(n) { return typeof n == "object" && n !== null && "__isStorageError" in n } class jH extends nb { constructor(e, t, r) { super(e), this.name = "StorageApiError", this.status = t, this.statusCode = r } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } } class ZB extends nb { constructor(e, t) { super(e), this.name = "StorageUnknownError", this.originalError = t } } const G5 = n => n ? (...e) => n(...e) : (...e) => fetch(...e), zH = () => Response, qB = n => { if (Array.isArray(n)) return n.map(t => qB(t)); if (typeof n == "function" || n !== Object(n)) return n; const e = {}; return Object.entries(n).forEach(([t, r]) => { const i = t.replace(/([-_][a-z])/gi, s => s.toUpperCase().replace(/[-_]/g, "")); e[i] = qB(r) }), e }, KH = n => { if (typeof n != "object" || n === null) return !1; const e = Object.getPrototypeOf(n); return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in n) && !(Symbol.iterator in n) }, VH = n => !n || typeof n != "string" || n.length === 0 || n.length > 100 || n.trim() !== n || n.includes("/") || n.includes("\\") ? !1 : /^[\w!.\*'() &$@=;:+,?-]+$/.test(n), q2 = n => { var e; return n.msg || n.message || n.error_description || (typeof n.error == "string" ? n.error : (e = n.error) === null || e === void 0 ? void 0 : e.message) || JSON.stringify(n) }, GH = (n, e, t) => on(void 0, void 0, void 0, function* () { const r = yield zH(); n instanceof r && !t?.noResolveJson ? n.json().then(i => { const s = n.status || 500, a = i?.statusCode || s + ""; e(new jH(q2(i), s, a)) }).catch(i => { e(new ZB(q2(i), i)) }) : e(new ZB(q2(n), n)) }), WH = (n, e, t, r) => { const i = { method: n, headers: e?.headers || {} }; return n === "GET" || !r ? i : (KH(r) ? (i.headers = Object.assign({ "Content-Type": "application/json" }, e?.headers), i.body = JSON.stringify(r)) : i.body = r, e?.duplex && (i.duplex = e.duplex), Object.assign(Object.assign({}, i), t)) }; function X0(n, e, t, r, i, s) { return on(this, void 0, void 0, function* () { return new Promise((a, o) => { n(t, WH(e, r, i, s)).then(A => { if (!A.ok) throw A; return r?.noResolveJson ? A : A.json() }).then(A => a(A)).catch(A => GH(A, o, r)) }) }) } function C0(n, e, t, r) { return on(this, void 0, void 0, function* () { return X0(n, "GET", e, t, r) }) } function jc(n, e, t, r, i) { return on(this, void 0, void 0, function* () { return X0(n, "POST", e, r, i, t) }) } function $B(n, e, t, r, i) { return on(this, void 0, void 0, function* () { return X0(n, "PUT", e, r, i, t) }) } function YH(n, e, t, r) { return on(this, void 0, void 0, function* () { return X0(n, "HEAD", e, Object.assign(Object.assign({}, t), { noResolveJson: !0 }), r) }) } function W5(n, e, t, r, i) { return on(this, void 0, void 0, function* () { return X0(n, "DELETE", e, r, i, t) }) } class JH { constructor(e, t) { this.downloadFn = e, this.shouldThrowOnError = t } then(e, t) { return this.execute().then(e, t) } execute() { return on(this, void 0, void 0, function* () { try { return { data: (yield this.downloadFn()).body, error: null } } catch (e) { if (this.shouldThrowOnError) throw e; if (Us(e)) return { data: null, error: e }; throw e } }) } } var OU; class XH { constructor(e, t) { this.downloadFn = e, this.shouldThrowOnError = t, this[OU] = "BlobDownloadBuilder", this.promise = null } asStream() { return new JH(this.downloadFn, this.shouldThrowOnError) } then(e, t) { return this.getPromise().then(e, t) } catch(e) { return this.getPromise().catch(e) } finally(e) { return this.getPromise().finally(e) } getPromise() { return this.promise || (this.promise = this.execute()), this.promise } execute() { return on(this, void 0, void 0, function* () { try { return { data: yield (yield this.downloadFn()).blob(), error: null } } catch (e) { if (this.shouldThrowOnError) throw e; if (Us(e)) return { data: null, error: e }; throw e } }) } } OU = Symbol.toStringTag; const ZH = { limit: 100, offset: 0, sortBy: { column: "name", order: "asc" } }, P4 = { cacheControl: "3600", contentType: "text/plain;charset=UTF-8", upsert: !1 }; class qH { constructor(e, t = {}, r, i) { this.shouldThrowOnError = !1, this.url = e, this.headers = t, this.bucketId = r, this.fetch = G5(i) } throwOnError() { return this.shouldThrowOnError = !0, this } uploadOrUpdate(e, t, r, i) { return on(this, void 0, void 0, function* () { try { let s; const a = Object.assign(Object.assign({}, P4), i); let o = Object.assign(Object.assign({}, this.headers), e === "POST" && { "x-upsert": String(a.upsert) }); const A = a.metadata; typeof Blob < "u" && r instanceof Blob ? (s = new FormData, s.append("cacheControl", a.cacheControl), A && s.append("metadata", this.encodeMetadata(A)), s.append("", r)) : typeof FormData < "u" && r instanceof FormData ? (s = r, s.has("cacheControl") || s.append("cacheControl", a.cacheControl), A && !s.has("metadata") && s.append("metadata", this.encodeMetadata(A))) : (s = r, o["cache-control"] = `max-age=${a.cacheControl}`, o["content-type"] = a.contentType, A && (o["x-metadata"] = this.toBase64(this.encodeMetadata(A))), (typeof ReadableStream < "u" && s instanceof ReadableStream || s && typeof s == "object" && "pipe" in s && typeof s.pipe == "function") && !a.duplex && (a.duplex = "half")), i?.headers && (o = Object.assign(Object.assign({}, o), i.headers)); const u = this._removeEmptyFolders(t), f = this._getFinalPath(u), h = yield (e == "PUT" ? $B : jc)(this.fetch, `${this.url}/object/${f}`, s, Object.assign({ headers: o }, a?.duplex ? { duplex: a.duplex } : {})); return { data: { path: u, id: h.Id, fullPath: h.Key }, error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Us(s)) return { data: null, error: s }; throw s } }) } upload(e, t, r) { return on(this, void 0, void 0, function* () { return this.uploadOrUpdate("POST", e, t, r) }) } uploadToSignedUrl(e, t, r, i) { return on(this, void 0, void 0, function* () { const s = this._removeEmptyFolders(e), a = this._getFinalPath(s), o = new URL(this.url + `/object/upload/sign/${a}`); o.searchParams.set("token", t); try { let A; const u = Object.assign({ upsert: P4.upsert }, i), f = Object.assign(Object.assign({}, this.headers), { "x-upsert": String(u.upsert) }); typeof Blob < "u" && r instanceof Blob ? (A = new FormData, A.append("cacheControl", u.cacheControl), A.append("", r)) : typeof FormData < "u" && r instanceof FormData ? (A = r, A.append("cacheControl", u.cacheControl)) : (A = r, f["cache-control"] = `max-age=${u.cacheControl}`, f["content-type"] = u.contentType); const h = yield $B(this.fetch, o.toString(), A, { headers: f }); return { data: { path: s, fullPath: h.Key }, error: null } } catch (A) { if (this.shouldThrowOnError) throw A; if (Us(A)) return { data: null, error: A }; throw A } }) } createSignedUploadUrl(e, t) { return on(this, void 0, void 0, function* () { try { let r = this._getFinalPath(e); const i = Object.assign({}, this.headers); t?.upsert && (i["x-upsert"] = "true"); const s = yield jc(this.fetch, `${this.url}/object/upload/sign/${r}`, {}, { headers: i }), a = new URL(this.url + s.url), o = a.searchParams.get("token"); if (!o) throw new nb("No token returned by API"); return { data: { signedUrl: a.toString(), path: e, token: o }, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Us(r)) return { data: null, error: r }; throw r } }) } update(e, t, r) { return on(this, void 0, void 0, function* () { return this.uploadOrUpdate("PUT", e, t, r) }) } move(e, t, r) { return on(this, void 0, void 0, function* () { try { return { data: yield jc(this.fetch, `${this.url}/object/move`, { bucketId: this.bucketId, sourceKey: e, destinationKey: t, destinationBucket: r?.destinationBucket }, { headers: this.headers }), error: null } } catch (i) { if (this.shouldThrowOnError) throw i; if (Us(i)) return { data: null, error: i }; throw i } }) } copy(e, t, r) { return on(this, void 0, void 0, function* () { try { return { data: { path: (yield jc(this.fetch, `${this.url}/object/copy`, { bucketId: this.bucketId, sourceKey: e, destinationKey: t, destinationBucket: r?.destinationBucket }, { headers: this.headers })).Key }, error: null } } catch (i) { if (this.shouldThrowOnError) throw i; if (Us(i)) return { data: null, error: i }; throw i } }) } createSignedUrl(e, t, r) { return on(this, void 0, void 0, function* () { try { let i = this._getFinalPath(e), s = yield jc(this.fetch, `${this.url}/object/sign/${i}`, Object.assign({ expiresIn: t }, r?.transform ? { transform: r.transform } : {}), { headers: this.headers }); const a = r?.download ? `&download=${r.download === !0 ? "" : r.download}` : ""; return s = { signedUrl: encodeURI(`${this.url}${s.signedURL}${a}`) }, { data: s, error: null } } catch (i) { if (this.shouldThrowOnError) throw i; if (Us(i)) return { data: null, error: i }; throw i } }) } createSignedUrls(e, t, r) { return on(this, void 0, void 0, function* () { try { const i = yield jc(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn: t, paths: e }, { headers: this.headers }), s = r?.download ? `&download=${r.download === !0 ? "" : r.download}` : ""; return { data: i.map(a => Object.assign(Object.assign({}, a), { signedUrl: a.signedURL ? encodeURI(`${this.url}${a.signedURL}${s}`) : null })), error: null } } catch (i) { if (this.shouldThrowOnError) throw i; if (Us(i)) return { data: null, error: i }; throw i } }) } download(e, t) { const i = typeof t?.transform < "u" ? "render/image/authenticated" : "object", s = this.transformOptsToQueryString(t?.transform || {}), a = s ? `?${s}` : "", o = this._getFinalPath(e), A = () => C0(this.fetch, `${this.url}/${i}/${o}${a}`, { headers: this.headers, noResolveJson: !0 }); return new XH(A, this.shouldThrowOnError) } info(e) { return on(this, void 0, void 0, function* () { const t = this._getFinalPath(e); try { const r = yield C0(this.fetch, `${this.url}/object/info/${t}`, { headers: this.headers }); return { data: qB(r), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Us(r)) return { data: null, error: r }; throw r } }) } exists(e) { return on(this, void 0, void 0, function* () { const t = this._getFinalPath(e); try { return yield YH(this.fetch, `${this.url}/object/${t}`, { headers: this.headers }), { data: !0, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Us(r) && r instanceof ZB) { const i = r.originalError; if ([400, 404].includes(i?.status)) return { data: !1, error: r } } throw r } }) } getPublicUrl(e, t) { const r = this._getFinalPath(e), i = [], s = t?.download ? `download=${t.download === !0 ? "" : t.download}` : ""; s !== "" && i.push(s); const o = typeof t?.transform < "u" ? "render/image" : "object", A = this.transformOptsToQueryString(t?.transform || {}); A !== "" && i.push(A); let u = i.join("&"); return u !== "" && (u = `?${u}`), { data: { publicUrl: encodeURI(`${this.url}/${o}/public/${r}${u}`) } } } remove(e) { return on(this, void 0, void 0, function* () { try { return { data: yield W5(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: e }, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } list(e, t, r) { return on(this, void 0, void 0, function* () { try { const i = Object.assign(Object.assign(Object.assign({}, ZH), t), { prefix: e || "" }); return { data: yield jc(this.fetch, `${this.url}/object/list/${this.bucketId}`, i, { headers: this.headers }, r), error: null } } catch (i) { if (this.shouldThrowOnError) throw i; if (Us(i)) return { data: null, error: i }; throw i } }) } listV2(e, t) { return on(this, void 0, void 0, function* () { try { const r = Object.assign({}, e); return { data: yield jc(this.fetch, `${this.url}/object/list-v2/${this.bucketId}`, r, { headers: this.headers }, t), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Us(r)) return { data: null, error: r }; throw r } }) } encodeMetadata(e) { return JSON.stringify(e) } toBase64(e) { return typeof Buffer < "u" ? Buffer.from(e).toString("base64") : btoa(e) } _getFinalPath(e) { return `${this.bucketId}/${e.replace(/^\/+/, "")}` } _removeEmptyFolders(e) { return e.replace(/^\/|\/$/g, "").replace(/\/+/g, "/") } transformOptsToQueryString(e) { const t = []; return e.width && t.push(`width=${e.width}`), e.height && t.push(`height=${e.height}`), e.resize && t.push(`resize=${e.resize}`), e.format && t.push(`format=${e.format}`), e.quality && t.push(`quality=${e.quality}`), t.join("&") } } const RU = "2.86.0", IU = { "X-Client-Info": `storage-js/${RU}` }; class $H { constructor(e, t = {}, r, i) { this.shouldThrowOnError = !1; const s = new URL(e); i?.useNewHostname && /supabase\.(co|in|red)$/.test(s.hostname) && !s.hostname.includes("storage.supabase.") && (s.hostname = s.hostname.replace("supabase.", "storage.supabase.")), this.url = s.href.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, IU), t), this.fetch = G5(r) } throwOnError() { return this.shouldThrowOnError = !0, this } listBuckets(e) { return on(this, void 0, void 0, function* () { try { const t = this.listBucketOptionsToQueryString(e); return { data: yield C0(this.fetch, `${this.url}/bucket${t}`, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } getBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: yield C0(this.fetch, `${this.url}/bucket/${e}`, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } createBucket(e) { return on(this, arguments, void 0, function* (t, r = { public: !1 }) { try { return { data: yield jc(this.fetch, `${this.url}/bucket`, { id: t, name: t, type: r.type, public: r.public, file_size_limit: r.fileSizeLimit, allowed_mime_types: r.allowedMimeTypes }, { headers: this.headers }), error: null } } catch (i) { if (this.shouldThrowOnError) throw i; if (Us(i)) return { data: null, error: i }; throw i } }) } updateBucket(e, t) { return on(this, void 0, void 0, function* () { try { return { data: yield $B(this.fetch, `${this.url}/bucket/${e}`, { id: e, name: e, public: t.public, file_size_limit: t.fileSizeLimit, allowed_mime_types: t.allowedMimeTypes }, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Us(r)) return { data: null, error: r }; throw r } }) } emptyBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: yield jc(this.fetch, `${this.url}/bucket/${e}/empty`, {}, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } deleteBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: yield W5(this.fetch, `${this.url}/bucket/${e}`, {}, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } listBucketOptionsToQueryString(e) { const t = {}; return e && ("limit" in e && (t.limit = String(e.limit)), "offset" in e && (t.offset = String(e.offset)), e.search && (t.search = e.search), e.sortColumn && (t.sortColumn = e.sortColumn), e.sortOrder && (t.sortOrder = e.sortOrder)), Object.keys(t).length > 0 ? "?" + new URLSearchParams(t).toString() : "" } } var E0 = class extends Error { constructor(n, e) { super(n), this.name = "IcebergError", this.status = e.status, this.icebergType = e.icebergType, this.icebergCode = e.icebergCode, this.details = e.details, this.isCommitStateUnknown = e.icebergType === "CommitStateUnknownException" || [500, 502, 504].includes(e.status) && e.icebergType?.includes("CommitState") === !0 } isNotFound() { return this.status === 404 } isConflict() { return this.status === 409 } isAuthenticationTimeout() { return this.status === 419 } }; function ej(n, e, t) { const r = new URL(e, n); if (t) for (const [i, s] of Object.entries(t)) s !== void 0 && r.searchParams.set(i, s); return r.toString() } async function tj(n) { return !n || n.type === "none" ? {} : n.type === "bearer" ? { Authorization: `Bearer ${n.token}` } : n.type === "header" ? { [n.name]: n.value } : n.type === "custom" ? await n.getHeaders() : {} } function nj(n) { const e = n.fetchImpl ?? globalThis.fetch; return { async request({ method: t, path: r, query: i, body: s, headers: a }) { const o = ej(n.baseUrl, r, i), A = await tj(n.auth), u = await e(o, { method: t, headers: { ...s ? { "Content-Type": "application/json" } : {}, ...A, ...a }, body: s ? JSON.stringify(s) : void 0 }), f = await u.text(), h = (u.headers.get("content-type") || "").includes("application/json"), m = h && f ? JSON.parse(f) : f; if (!u.ok) { const p = h ? m : void 0, b = p?.error; throw new E0(b?.message ?? `Request failed with status ${u.status}`, { status: u.status, icebergType: b?.type, icebergCode: b?.code, details: p }) } return { status: u.status, headers: u.headers, data: m } } } } function cy(n) { return n.join("") } var rj = class { constructor(n, e = "") { this.client = n, this.prefix = e } async listNamespaces(n) { const e = n ? { parent: cy(n.namespace) } : void 0; return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces`, query: e })).data.namespaces.map(r => ({ namespace: r })) } async createNamespace(n, e) { const t = { namespace: n.namespace, properties: e?.properties }; return (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces`, body: t })).data } async dropNamespace(n) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${cy(n.namespace)}` }) } async loadNamespaceMetadata(n) { return { properties: (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${cy(n.namespace)}` })).data.properties } } async namespaceExists(n) { try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${cy(n.namespace)}` }), !0 } catch (e) { if (e instanceof E0 && e.status === 404) return !1; throw e } } async createNamespaceIfNotExists(n, e) { try { return await this.createNamespace(n, e) } catch (t) { if (t instanceof E0 && t.status === 409) return; throw t } } }; function Ip(n) { return n.join("") } var ij = class { constructor(n, e = "", t) { this.client = n, this.prefix = e, this.accessDelegation = t } async listTables(n) { return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${Ip(n.namespace)}/tables` })).data.identifiers } async createTable(n, e) { const t = {}; return this.accessDelegation && (t["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${Ip(n.namespace)}/tables`, body: e, headers: t })).data.metadata } async updateTable(n, e) { const t = await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${Ip(n.namespace)}/tables/${n.name}`, body: e }); return { "metadata-location": t.data["metadata-location"], metadata: t.data.metadata } } async dropTable(n, e) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${Ip(n.namespace)}/tables/${n.name}`, query: { purgeRequested: String(e?.purge ?? !1) } }) } async loadTable(n) { const e = {}; return this.accessDelegation && (e["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${Ip(n.namespace)}/tables/${n.name}`, headers: e })).data.metadata } async tableExists(n) { const e = {}; this.accessDelegation && (e["X-Iceberg-Access-Delegation"] = this.accessDelegation); try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${Ip(n.namespace)}/tables/${n.name}`, headers: e }), !0 } catch (t) { if (t instanceof E0 && t.status === 404) return !1; throw t } } async createTableIfNotExists(n, e) { try { return await this.createTable(n, e) } catch (t) { if (t instanceof E0 && t.status === 409) return await this.loadTable({ namespace: n.namespace, name: e.name }); throw t } } }, sj = class { constructor(n) { let e = "v1"; n.catalogName && (e += `/${n.catalogName}`); const t = n.baseUrl.endsWith("/") ? n.baseUrl : `${n.baseUrl}/`; this.client = nj({ baseUrl: t, auth: n.auth, fetchImpl: n.fetch }), this.accessDelegation = n.accessDelegation?.join(","), this.namespaceOps = new rj(this.client, e), this.tableOps = new ij(this.client, e, this.accessDelegation) } async listNamespaces(n) { return this.namespaceOps.listNamespaces(n) } async createNamespace(n, e) { return this.namespaceOps.createNamespace(n, e) } async dropNamespace(n) { await this.namespaceOps.dropNamespace(n) } async loadNamespaceMetadata(n) { return this.namespaceOps.loadNamespaceMetadata(n) } async listTables(n) { return this.tableOps.listTables(n) } async createTable(n, e) { return this.tableOps.createTable(n, e) } async updateTable(n, e) { return this.tableOps.updateTable(n, e) } async dropTable(n, e) { await this.tableOps.dropTable(n, e) } async loadTable(n) { return this.tableOps.loadTable(n) } async namespaceExists(n) { return this.namespaceOps.namespaceExists(n) } async tableExists(n) { return this.tableOps.tableExists(n) } async createNamespaceIfNotExists(n, e) { return this.namespaceOps.createNamespaceIfNotExists(n, e) } async createTableIfNotExists(n, e) { return this.tableOps.createTableIfNotExists(n, e) } }; class aj { constructor(e, t = {}, r) { this.shouldThrowOnError = !1, this.url = e.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, IU), t), this.fetch = G5(r) } throwOnError() { return this.shouldThrowOnError = !0, this } createBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: yield jc(this.fetch, `${this.url}/bucket`, { name: e }, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } listBuckets(e) { return on(this, void 0, void 0, function* () { try { const t = new URLSearchParams; e?.limit !== void 0 && t.set("limit", e.limit.toString()), e?.offset !== void 0 && t.set("offset", e.offset.toString()), e?.sortColumn && t.set("sortColumn", e.sortColumn), e?.sortOrder && t.set("sortOrder", e.sortOrder), e?.search && t.set("search", e.search); const r = t.toString(), i = r ? `${this.url}/bucket?${r}` : `${this.url}/bucket`; return { data: yield C0(this.fetch, i, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } deleteBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: yield W5(this.fetch, `${this.url}/bucket/${e}`, {}, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Us(t)) return { data: null, error: t }; throw t } }) } from(e) { if (!VH(e)) throw new nb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters."); return new sj({ baseUrl: this.url, catalogName: e, auth: { type: "custom", getHeaders: () => on(this, void 0, void 0, function* () { return this.headers }) }, fetch: this.fetch }) } } const Y5 = { "X-Client-Info": `storage-js/${RU}`, "Content-Type": "application/json" }; class LU extends Error { constructor(e) { super(e), this.__isStorageVectorsError = !0, this.name = "StorageVectorsError" } } function MA(n) { return typeof n == "object" && n !== null && "__isStorageVectorsError" in n } class $2 extends LU { constructor(e, t, r) { super(e), this.name = "StorageVectorsApiError", this.status = t, this.statusCode = r } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } } class oj extends LU { constructor(e, t) { super(e), this.name = "StorageVectorsUnknownError", this.originalError = t } } var H4; (function (n) { n.InternalError = "InternalError", n.S3VectorConflictException = "S3VectorConflictException", n.S3VectorNotFoundException = "S3VectorNotFoundException", n.S3VectorBucketNotEmpty = "S3VectorBucketNotEmpty", n.S3VectorMaxBucketsExceeded = "S3VectorMaxBucketsExceeded", n.S3VectorMaxIndexesExceeded = "S3VectorMaxIndexesExceeded" })(H4 || (H4 = {})); const J5 = n => n ? (...e) => n(...e) : (...e) => fetch(...e), lj = n => { if (typeof n != "object" || n === null) return !1; const e = Object.getPrototypeOf(n); return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in n) && !(Symbol.iterator in n) }, j4 = n => n.msg || n.message || n.error_description || n.error || JSON.stringify(n), Aj = (n, e, t) => on(void 0, void 0, void 0, function* () { if (n && typeof n == "object" && "status" in n && "ok" in n && typeof n.status == "number" && !t?.noResolveJson) { const i = n.status || 500, s = n; if (typeof s.json == "function") s.json().then(a => { const o = a?.statusCode || a?.code || i + ""; e(new $2(j4(a), i, o)) }).catch(() => { const a = i + "", o = s.statusText || `HTTP ${i} error`; e(new $2(o, i, a)) }); else { const a = i + "", o = s.statusText || `HTTP ${i} error`; e(new $2(o, i, a)) } } else e(new oj(j4(n), n)) }), cj = (n, e, t, r) => { const i = { method: n, headers: e?.headers || {} }; return r ? (lj(r) ? (i.headers = Object.assign({ "Content-Type": "application/json" }, e?.headers), i.body = JSON.stringify(r)) : i.body = r, Object.assign(Object.assign({}, i), t)) : i }; function uj(n, e, t, r, i, s) { return on(this, void 0, void 0, function* () { return new Promise((a, o) => { n(t, cj(e, r, i, s)).then(A => { if (!A.ok) throw A; if (r?.noResolveJson) return A; const u = A.headers.get("content-type"); return !u || !u.includes("application/json") ? {} : A.json() }).then(A => a(A)).catch(A => Aj(A, o, r)) }) }) } function QA(n, e, t, r, i) { return on(this, void 0, void 0, function* () { return uj(n, "POST", e, r, i, t) }) } class fj { constructor(e, t = {}, r) { this.shouldThrowOnError = !1, this.url = e.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, Y5), t), this.fetch = J5(r) } throwOnError() { return this.shouldThrowOnError = !0, this } createIndex(e) { return on(this, void 0, void 0, function* () { try { return { data: (yield QA(this.fetch, `${this.url}/CreateIndex`, e, { headers: this.headers })) || {}, error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } getIndex(e, t) { return on(this, void 0, void 0, function* () { try { return { data: yield QA(this.fetch, `${this.url}/GetIndex`, { vectorBucketName: e, indexName: t }, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (MA(r)) return { data: null, error: r }; throw r } }) } listIndexes(e) { return on(this, void 0, void 0, function* () { try { return { data: yield QA(this.fetch, `${this.url}/ListIndexes`, e, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } deleteIndex(e, t) { return on(this, void 0, void 0, function* () { try { return { data: (yield QA(this.fetch, `${this.url}/DeleteIndex`, { vectorBucketName: e, indexName: t }, { headers: this.headers })) || {}, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (MA(r)) return { data: null, error: r }; throw r } }) } } class dj { constructor(e, t = {}, r) { this.shouldThrowOnError = !1, this.url = e.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, Y5), t), this.fetch = J5(r) } throwOnError() { return this.shouldThrowOnError = !0, this } putVectors(e) { return on(this, void 0, void 0, function* () { try { if (e.vectors.length < 1 || e.vectors.length > 500) throw new Error("Vector batch size must be between 1 and 500 items"); return { data: (yield QA(this.fetch, `${this.url}/PutVectors`, e, { headers: this.headers })) || {}, error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } getVectors(e) { return on(this, void 0, void 0, function* () { try { return { data: yield QA(this.fetch, `${this.url}/GetVectors`, e, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } listVectors(e) { return on(this, void 0, void 0, function* () { try { if (e.segmentCount !== void 0) { if (e.segmentCount < 1 || e.segmentCount > 16) throw new Error("segmentCount must be between 1 and 16"); if (e.segmentIndex !== void 0 && (e.segmentIndex < 0 || e.segmentIndex >= e.segmentCount)) throw new Error(`segmentIndex must be between 0 and ${e.segmentCount - 1}`) } return { data: yield QA(this.fetch, `${this.url}/ListVectors`, e, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } queryVectors(e) { return on(this, void 0, void 0, function* () { try { return { data: yield QA(this.fetch, `${this.url}/QueryVectors`, e, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } deleteVectors(e) { return on(this, void 0, void 0, function* () { try { if (e.keys.length < 1 || e.keys.length > 500) throw new Error("Keys batch size must be between 1 and 500 items"); return { data: (yield QA(this.fetch, `${this.url}/DeleteVectors`, e, { headers: this.headers })) || {}, error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } } class hj { constructor(e, t = {}, r) { this.shouldThrowOnError = !1, this.url = e.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, Y5), t), this.fetch = J5(r) } throwOnError() { return this.shouldThrowOnError = !0, this } createBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: (yield QA(this.fetch, `${this.url}/CreateVectorBucket`, { vectorBucketName: e }, { headers: this.headers })) || {}, error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } getBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: yield QA(this.fetch, `${this.url}/GetVectorBucket`, { vectorBucketName: e }, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } listBuckets() { return on(this, arguments, void 0, function* (e = {}) { try { return { data: yield QA(this.fetch, `${this.url}/ListVectorBuckets`, e, { headers: this.headers }), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } deleteBucket(e) { return on(this, void 0, void 0, function* () { try { return { data: (yield QA(this.fetch, `${this.url}/DeleteVectorBucket`, { vectorBucketName: e }, { headers: this.headers })) || {}, error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (MA(t)) return { data: null, error: t }; throw t } }) } } class pj extends hj { constructor(e, t = {}) { super(e, t.headers || {}, t.fetch) } from(e) { return new gj(this.url, this.headers, e, this.fetch) } createBucket(e) { const t = Object.create(null, { createBucket: { get: () => super.createBucket } }); return on(this, void 0, void 0, function* () { return t.createBucket.call(this, e) }) } getBucket(e) { const t = Object.create(null, { getBucket: { get: () => super.getBucket } }); return on(this, void 0, void 0, function* () { return t.getBucket.call(this, e) }) } listBuckets() { const e = Object.create(null, { listBuckets: { get: () => super.listBuckets } }); return on(this, arguments, void 0, function* (t = {}) { return e.listBuckets.call(this, t) }) } deleteBucket(e) { const t = Object.create(null, { deleteBucket: { get: () => super.deleteBucket } }); return on(this, void 0, void 0, function* () { return t.deleteBucket.call(this, e) }) } } class gj extends fj { constructor(e, t, r, i) { super(e, t, i), this.vectorBucketName = r } createIndex(e) { const t = Object.create(null, { createIndex: { get: () => super.createIndex } }); return on(this, void 0, void 0, function* () { return t.createIndex.call(this, Object.assign(Object.assign({}, e), { vectorBucketName: this.vectorBucketName })) }) } listIndexes() { const e = Object.create(null, { listIndexes: { get: () => super.listIndexes } }); return on(this, arguments, void 0, function* (t = {}) { return e.listIndexes.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName })) }) } getIndex(e) { const t = Object.create(null, { getIndex: { get: () => super.getIndex } }); return on(this, void 0, void 0, function* () { return t.getIndex.call(this, this.vectorBucketName, e) }) } deleteIndex(e) { const t = Object.create(null, { deleteIndex: { get: () => super.deleteIndex } }); return on(this, void 0, void 0, function* () { return t.deleteIndex.call(this, this.vectorBucketName, e) }) } index(e) { return new mj(this.url, this.headers, this.vectorBucketName, e, this.fetch) } } class mj extends dj { constructor(e, t, r, i, s) { super(e, t, s), this.vectorBucketName = r, this.indexName = i } putVectors(e) { const t = Object.create(null, { putVectors: { get: () => super.putVectors } }); return on(this, void 0, void 0, function* () { return t.putVectors.call(this, Object.assign(Object.assign({}, e), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } getVectors(e) { const t = Object.create(null, { getVectors: { get: () => super.getVectors } }); return on(this, void 0, void 0, function* () { return t.getVectors.call(this, Object.assign(Object.assign({}, e), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } listVectors() { const e = Object.create(null, { listVectors: { get: () => super.listVectors } }); return on(this, arguments, void 0, function* (t = {}) { return e.listVectors.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } queryVectors(e) { const t = Object.create(null, { queryVectors: { get: () => super.queryVectors } }); return on(this, void 0, void 0, function* () { return t.queryVectors.call(this, Object.assign(Object.assign({}, e), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } deleteVectors(e) { const t = Object.create(null, { deleteVectors: { get: () => super.deleteVectors } }); return on(this, void 0, void 0, function* () { return t.deleteVectors.call(this, Object.assign(Object.assign({}, e), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } } class vj extends $H { constructor(e, t = {}, r, i) { super(e, t, r, i) } from(e) { return new qH(this.url, this.headers, e, this.fetch) } get vectors() { return new pj(this.url + "/vector", { headers: this.headers, fetch: this.fetch }) } get analytics() { return new aj(this.url + "/iceberg", this.headers, this.fetch) } } const yj = "2.86.0"; let Km = ""; typeof Deno < "u" ? Km = "deno" : typeof document < "u" ? Km = "web" : typeof navigator < "u" && navigator.product === "ReactNative" ? Km = "react-native" : Km = "node"; const wj = { "X-Client-Info": `supabase-js-${Km}/${yj}` }, bj = { headers: wj }, xj = { schema: "public" }, Bj = { autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, flowType: "implicit" }, Cj = {}, Ej = n => n ? (...e) => n(...e) : (...e) => fetch(...e), Sj = () => Headers, _j = (n, e, t) => { const r = Ej(t), i = Sj(); return async (s, a) => { var o; const A = (o = await e()) !== null && o !== void 0 ? o : n; let u = new i(a?.headers); return u.has("apikey") || u.set("apikey", n), u.has("Authorization") || u.set("Authorization", `Bearer ${A}`), r(s, Object.assign(Object.assign({}, a), { headers: u })) } }; function Nj(n) { return n.endsWith("/") ? n : n + "/" } function kj(n, e) { var t, r; const { db: i, auth: s, realtime: a, global: o } = n, { db: A, auth: u, realtime: f, global: h } = e, m = { db: Object.assign(Object.assign({}, A), i), auth: Object.assign(Object.assign({}, u), s), realtime: Object.assign(Object.assign({}, f), a), storage: {}, global: Object.assign(Object.assign(Object.assign({}, h), o), { headers: Object.assign(Object.assign({}, (t = h?.headers) !== null && t !== void 0 ? t : {}), (r = o?.headers) !== null && r !== void 0 ? r : {}) }), accessToken: async () => "" }; return n.accessToken ? m.accessToken = n.accessToken : delete m.accessToken, m } function Tj(n) { const e = n?.trim(); if (!e) throw new Error("supabaseUrl is required."); if (!e.match(/^https?:\/\//i)) throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL."); try { return new URL(Nj(e)) } catch { throw Error("Invalid supabaseUrl: Provided URL is malformed.") } } const MU = "2.86.0", ng = 30 * 1e3, eC = 3, ex = eC * ng, Fj = "http://localhost:9999", Uj = "supabase.auth.token", Oj = { "X-Client-Info": `gotrue-js/${MU}` }, tC = "X-Supabase-Api-Version", QU = { "2024-01-01": { timestamp: Date.parse("2024-01-01T00:00:00.0Z"), name: "2024-01-01" } }, Rj = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i, Ij = 600 * 1e3; class S0 extends Error { constructor(e, t, r) { super(e), this.__isAuthError = !0, this.name = "AuthError", this.status = t, this.code = r } } function yn(n) { return typeof n == "object" && n !== null && "__isAuthError" in n } class Lj extends S0 { constructor(e, t, r) { super(e, t, r), this.name = "AuthApiError", this.status = t, this.code = r } } function Mj(n) { return yn(n) && n.name === "AuthApiError" } class kh extends S0 { constructor(e, t) { super(e), this.name = "AuthUnknownError", this.originalError = t } } class Qd extends S0 { constructor(e, t, r, i) { super(e, r, i), this.name = t, this.status = r } } class RA extends Qd { constructor() { super("Auth session missing!", "AuthSessionMissingError", 400, void 0) } } function Qj(n) { return yn(n) && n.name === "AuthSessionMissingError" } class Lp extends Qd { constructor() { super("Auth session or user missing", "AuthInvalidTokenResponseError", 500, void 0) } } class uy extends Qd { constructor(e) { super(e, "AuthInvalidCredentialsError", 400, void 0) } } class fy extends Qd { constructor(e, t = null) { super(e, "AuthImplicitGrantRedirectError", 500, void 0), this.details = null, this.details = t } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } } function Dj(n) { return yn(n) && n.name === "AuthImplicitGrantRedirectError" } class z4 extends Qd { constructor(e, t = null) { super(e, "AuthPKCEGrantCodeExchangeError", 500, void 0), this.details = null, this.details = t } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } } class nC extends Qd { constructor(e, t) { super(e, "AuthRetryableFetchError", t, void 0) } } function tx(n) { return yn(n) && n.name === "AuthRetryableFetchError" } class K4 extends Qd { constructor(e, t, r) { super(e, "AuthWeakPasswordError", t, "weak_password"), this.reasons = r } } class rC extends Qd { constructor(e) { super(e, "AuthInvalidJwtError", 400, "invalid_jwt") } } const I1 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""), V4 = ` 	
\r=`.split(""), Pj = (() => { const n = new Array(128); for (let e = 0; e < n.length; e += 1)n[e] = -1; for (let e = 0; e < V4.length; e += 1)n[V4[e].charCodeAt(0)] = -2; for (let e = 0; e < I1.length; e += 1)n[I1[e].charCodeAt(0)] = e; return n })(); function G4(n, e, t) { if (n !== null) for (e.queue = e.queue << 8 | n, e.queuedBits += 8; e.queuedBits >= 6;) { const r = e.queue >> e.queuedBits - 6 & 63; t(I1[r]), e.queuedBits -= 6 } else if (e.queuedBits > 0) for (e.queue = e.queue << 6 - e.queuedBits, e.queuedBits = 6; e.queuedBits >= 6;) { const r = e.queue >> e.queuedBits - 6 & 63; t(I1[r]), e.queuedBits -= 6 } } function DU(n, e, t) { const r = Pj[n]; if (r > -1) for (e.queue = e.queue << 6 | r, e.queuedBits += 6; e.queuedBits >= 8;)t(e.queue >> e.queuedBits - 8 & 255), e.queuedBits -= 8; else { if (r === -2) return; throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`) } } function W4(n) { const e = [], t = a => { e.push(String.fromCodePoint(a)) }, r = { utf8seq: 0, codepoint: 0 }, i = { queue: 0, queuedBits: 0 }, s = a => { zj(a, r, t) }; for (let a = 0; a < n.length; a += 1)DU(n.charCodeAt(a), i, s); return e.join("") } function Hj(n, e) { if (n <= 127) { e(n); return } else if (n <= 2047) { e(192 | n >> 6), e(128 | n & 63); return } else if (n <= 65535) { e(224 | n >> 12), e(128 | n >> 6 & 63), e(128 | n & 63); return } else if (n <= 1114111) { e(240 | n >> 18), e(128 | n >> 12 & 63), e(128 | n >> 6 & 63), e(128 | n & 63); return } throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`) } function jj(n, e) { for (let t = 0; t < n.length; t += 1) { let r = n.charCodeAt(t); if (r > 55295 && r <= 56319) { const i = (r - 55296) * 1024 & 65535; r = (n.charCodeAt(t + 1) - 56320 & 65535 | i) + 65536, t += 1 } Hj(r, e) } } function zj(n, e, t) { if (e.utf8seq === 0) { if (n <= 127) { t(n); return } for (let r = 1; r < 6; r += 1)if ((n >> 7 - r & 1) === 0) { e.utf8seq = r; break } if (e.utf8seq === 2) e.codepoint = n & 31; else if (e.utf8seq === 3) e.codepoint = n & 15; else if (e.utf8seq === 4) e.codepoint = n & 7; else throw new Error("Invalid UTF-8 sequence"); e.utf8seq -= 1 } else if (e.utf8seq > 0) { if (n <= 127) throw new Error("Invalid UTF-8 sequence"); e.codepoint = e.codepoint << 6 | n & 63, e.utf8seq -= 1, e.utf8seq === 0 && t(e.codepoint) } } function mg(n) { const e = [], t = { queue: 0, queuedBits: 0 }, r = i => { e.push(i) }; for (let i = 0; i < n.length; i += 1)DU(n.charCodeAt(i), t, r); return new Uint8Array(e) } function Kj(n) { const e = []; return jj(n, t => e.push(t)), new Uint8Array(e) } function Rh(n) { const e = [], t = { queue: 0, queuedBits: 0 }, r = i => { e.push(i) }; return n.forEach(i => G4(i, t, r)), G4(null, t, r), e.join("") } function Vj(n) { return Math.round(Date.now() / 1e3) + n } function Gj() { return Symbol("auth-callback") } const Xo = () => typeof window < "u" && typeof document < "u", vh = { tested: !1, writable: !1 }, PU = () => { if (!Xo()) return !1; try { if (typeof globalThis.localStorage != "object") return !1 } catch { return !1 } if (vh.tested) return vh.writable; const n = `lswt-${Math.random()}${Math.random()}`; try { globalThis.localStorage.setItem(n, n), globalThis.localStorage.removeItem(n), vh.tested = !0, vh.writable = !0 } catch { vh.tested = !0, vh.writable = !1 } return vh.writable }; function Wj(n) { const e = {}, t = new URL(n); if (t.hash && t.hash[0] === "#") try { new URLSearchParams(t.hash.substring(1)).forEach((i, s) => { e[s] = i }) } catch { } return t.searchParams.forEach((r, i) => { e[i] = r }), e } const HU = n => n ? (...e) => n(...e) : (...e) => fetch(...e), Yj = n => typeof n == "object" && n !== null && "status" in n && "ok" in n && "json" in n && typeof n.json == "function", rg = async (n, e, t) => { await n.setItem(e, JSON.stringify(t)) }, yh = async (n, e) => { const t = await n.getItem(e); if (!t) return null; try { return JSON.parse(t) } catch { return t } }, Jf = async (n, e) => { await n.removeItem(e) }; class rb { constructor() { this.promise = new rb.promiseConstructor((e, t) => { this.resolve = e, this.reject = t }) } } rb.promiseConstructor = Promise; function nx(n) { const e = n.split("."); if (e.length !== 3) throw new rC("Invalid JWT structure"); for (let r = 0; r < e.length; r++)if (!Rj.test(e[r])) throw new rC("JWT not in base64url format"); return { header: JSON.parse(W4(e[0])), payload: JSON.parse(W4(e[1])), signature: mg(e[2]), raw: { header: e[0], payload: e[1] } } } async function Jj(n) { return await new Promise(e => { setTimeout(() => e(null), n) }) } function Xj(n, e) { return new Promise((r, i) => { (async () => { for (let s = 0; s < 1 / 0; s++)try { const a = await n(s); if (!e(s, null, a)) { r(a); return } } catch (a) { if (!e(s, a)) { i(a); return } } })() }) } function Zj(n) { return ("0" + n.toString(16)).substr(-2) } function qj() { const e = new Uint32Array(56); if (typeof crypto > "u") { const t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~", r = t.length; let i = ""; for (let s = 0; s < 56; s++)i += t.charAt(Math.floor(Math.random() * r)); return i } return crypto.getRandomValues(e), Array.from(e, Zj).join("") } async function $j(n) { const t = new TextEncoder().encode(n), r = await crypto.subtle.digest("SHA-256", t), i = new Uint8Array(r); return Array.from(i).map(s => String.fromCharCode(s)).join("") } async function e7(n) { if (!(typeof crypto < "u" && typeof crypto.subtle < "u" && typeof TextEncoder < "u")) return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."), n; const t = await $j(n); return btoa(t).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "") } async function Mp(n, e, t = !1) { const r = qj(); let i = r; t && (i += "/PASSWORD_RECOVERY"), await rg(n, `${e}-code-verifier`, i); const s = await e7(r); return [s, r === s ? "plain" : "s256"] } const t7 = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i; function n7(n) { const e = n.headers.get(tC); if (!e || !e.match(t7)) return null; try { return new Date(`${e}T00:00:00.0Z`) } catch { return null } } function r7(n) { if (!n) throw new Error("Missing exp claim"); const e = Math.floor(Date.now() / 1e3); if (n <= e) throw new Error("JWT has expired") } function i7(n) { switch (n) { case "RS256": return { name: "RSASSA-PKCS1-v1_5", hash: { name: "SHA-256" } }; case "ES256": return { name: "ECDSA", namedCurve: "P-256", hash: { name: "SHA-256" } }; default: throw new Error("Invalid alg claim") } } const s7 = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/; function Qp(n) { if (!s7.test(n)) throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not") } function rx() { const n = {}; return new Proxy(n, { get: (e, t) => { if (t === "__isUserNotAvailableProxy") return !0; if (typeof t == "symbol") { const r = t.toString(); if (r === "Symbol(Symbol.toPrimitive)" || r === "Symbol(Symbol.toStringTag)" || r === "Symbol(util.inspect.custom)") return } throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`) }, set: (e, t) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) }, deleteProperty: (e, t) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) } }) } function a7(n, e) { return new Proxy(n, { get: (t, r, i) => { if (r === "__isInsecureUserWarningProxy") return !0; if (typeof r == "symbol") { const s = r.toString(); if (s === "Symbol(Symbol.toPrimitive)" || s === "Symbol(Symbol.toStringTag)" || s === "Symbol(util.inspect.custom)" || s === "Symbol(nodejs.util.inspect.custom)") return Reflect.get(t, r, i) } return !e.value && typeof r == "string" && (console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."), e.value = !0), Reflect.get(t, r, i) } }) } function Y4(n) { return JSON.parse(JSON.stringify(n)) } const Eh = n => n.msg || n.message || n.error_description || n.error || JSON.stringify(n), o7 = [502, 503, 504]; async function J4(n) { var e; if (!Yj(n)) throw new nC(Eh(n), 0); if (o7.includes(n.status)) throw new nC(Eh(n), n.status); let t; try { t = await n.json() } catch (s) { throw new kh(Eh(s), s) } let r; const i = n7(n); if (i && i.getTime() >= QU["2024-01-01"].timestamp && typeof t == "object" && t && typeof t.code == "string" ? r = t.code : typeof t == "object" && t && typeof t.error_code == "string" && (r = t.error_code), r) { if (r === "weak_password") throw new K4(Eh(t), n.status, ((e = t.weak_password) === null || e === void 0 ? void 0 : e.reasons) || []); if (r === "session_not_found") throw new RA } else if (typeof t == "object" && t && typeof t.weak_password == "object" && t.weak_password && Array.isArray(t.weak_password.reasons) && t.weak_password.reasons.length && t.weak_password.reasons.reduce((s, a) => s && typeof a == "string", !0)) throw new K4(Eh(t), n.status, t.weak_password.reasons); throw new Lj(Eh(t), n.status || 500, r) } const l7 = (n, e, t, r) => { const i = { method: n, headers: e?.headers || {} }; return n === "GET" ? i : (i.headers = Object.assign({ "Content-Type": "application/json;charset=UTF-8" }, e?.headers), i.body = JSON.stringify(r), Object.assign(Object.assign({}, i), t)) }; async function jn(n, e, t, r) { var i; const s = Object.assign({}, r?.headers); s[tC] || (s[tC] = QU["2024-01-01"].name), r?.jwt && (s.Authorization = `Bearer ${r.jwt}`); const a = (i = r?.query) !== null && i !== void 0 ? i : {}; r?.redirectTo && (a.redirect_to = r.redirectTo); const o = Object.keys(a).length ? "?" + new URLSearchParams(a).toString() : "", A = await A7(n, e, t + o, { headers: s, noResolveJson: r?.noResolveJson }, {}, r?.body); return r?.xform ? r?.xform(A) : { data: Object.assign({}, A), error: null } } async function A7(n, e, t, r, i, s) { const a = l7(e, r, i, s); let o; try { o = await n(t, Object.assign({}, a)) } catch (A) { throw console.error(A), new nC(Eh(A), 0) } if (o.ok || await J4(o), r?.noResolveJson) return o; try { return await o.json() } catch (A) { await J4(A) } } function Dc(n) { var e; let t = null; f7(n) && (t = Object.assign({}, n), n.expires_at || (t.expires_at = Vj(n.expires_in))); const r = (e = n.user) !== null && e !== void 0 ? e : n; return { data: { session: t, user: r }, error: null } } function X4(n) { const e = Dc(n); return !e.error && n.weak_password && typeof n.weak_password == "object" && Array.isArray(n.weak_password.reasons) && n.weak_password.reasons.length && n.weak_password.message && typeof n.weak_password.message == "string" && n.weak_password.reasons.reduce((t, r) => t && typeof r == "string", !0) && (e.data.weak_password = n.weak_password), e } function Ad(n) { var e; return { data: { user: (e = n.user) !== null && e !== void 0 ? e : n }, error: null } } function c7(n) { return { data: n, error: null } } function u7(n) { const { action_link: e, email_otp: t, hashed_token: r, redirect_to: i, verification_type: s } = n, a = Md(n, ["action_link", "email_otp", "hashed_token", "redirect_to", "verification_type"]), o = { action_link: e, email_otp: t, hashed_token: r, redirect_to: i, verification_type: s }, A = Object.assign({}, a); return { data: { properties: o, user: A }, error: null } } function Z4(n) { return n } function f7(n) { return n.access_token && n.refresh_token && n.expires_in } const ix = ["global", "local", "others"]; class d7 { constructor({ url: e = "", headers: t = {}, fetch: r }) { this.url = e, this.headers = t, this.fetch = HU(r), this.mfa = { listFactors: this._listFactors.bind(this), deleteFactor: this._deleteFactor.bind(this) }, this.oauth = { listClients: this._listOAuthClients.bind(this), createClient: this._createOAuthClient.bind(this), getClient: this._getOAuthClient.bind(this), updateClient: this._updateOAuthClient.bind(this), deleteClient: this._deleteOAuthClient.bind(this), regenerateClientSecret: this._regenerateOAuthClientSecret.bind(this) } } async signOut(e, t = ix[0]) { if (ix.indexOf(t) < 0) throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ix.join(", ")}`); try { return await jn(this.fetch, "POST", `${this.url}/logout?scope=${t}`, { headers: this.headers, jwt: e, noResolveJson: !0 }), { data: null, error: null } } catch (r) { if (yn(r)) return { data: null, error: r }; throw r } } async inviteUserByEmail(e, t = {}) { try { return await jn(this.fetch, "POST", `${this.url}/invite`, { body: { email: e, data: t.data }, headers: this.headers, redirectTo: t.redirectTo, xform: Ad }) } catch (r) { if (yn(r)) return { data: { user: null }, error: r }; throw r } } async generateLink(e) { try { const { options: t } = e, r = Md(e, ["options"]), i = Object.assign(Object.assign({}, r), t); return "newEmail" in r && (i.new_email = r?.newEmail, delete i.newEmail), await jn(this.fetch, "POST", `${this.url}/admin/generate_link`, { body: i, headers: this.headers, xform: u7, redirectTo: t?.redirectTo }) } catch (t) { if (yn(t)) return { data: { properties: null, user: null }, error: t }; throw t } } async createUser(e) { try { return await jn(this.fetch, "POST", `${this.url}/admin/users`, { body: e, headers: this.headers, xform: Ad }) } catch (t) { if (yn(t)) return { data: { user: null }, error: t }; throw t } } async listUsers(e) { var t, r, i, s, a, o, A; try { const u = { nextPage: null, lastPage: 0, total: 0 }, f = await jn(this.fetch, "GET", `${this.url}/admin/users`, { headers: this.headers, noResolveJson: !0, query: { page: (r = (t = e?.page) === null || t === void 0 ? void 0 : t.toString()) !== null && r !== void 0 ? r : "", per_page: (s = (i = e?.perPage) === null || i === void 0 ? void 0 : i.toString()) !== null && s !== void 0 ? s : "" }, xform: Z4 }); if (f.error) throw f.error; const h = await f.json(), m = (a = f.headers.get("x-total-count")) !== null && a !== void 0 ? a : 0, p = (A = (o = f.headers.get("link")) === null || o === void 0 ? void 0 : o.split(",")) !== null && A !== void 0 ? A : []; return p.length > 0 && (p.forEach(b => { const y = parseInt(b.split(";")[0].split("=")[1].substring(0, 1)), E = JSON.parse(b.split(";")[1].split("=")[1]); u[`${E}Page`] = y }), u.total = parseInt(m)), { data: Object.assign(Object.assign({}, h), u), error: null } } catch (u) { if (yn(u)) return { data: { users: [] }, error: u }; throw u } } async getUserById(e) { Qp(e); try { return await jn(this.fetch, "GET", `${this.url}/admin/users/${e}`, { headers: this.headers, xform: Ad }) } catch (t) { if (yn(t)) return { data: { user: null }, error: t }; throw t } } async updateUserById(e, t) { Qp(e); try { return await jn(this.fetch, "PUT", `${this.url}/admin/users/${e}`, { body: t, headers: this.headers, xform: Ad }) } catch (r) { if (yn(r)) return { data: { user: null }, error: r }; throw r } } async deleteUser(e, t = !1) { Qp(e); try { return await jn(this.fetch, "DELETE", `${this.url}/admin/users/${e}`, { headers: this.headers, body: { should_soft_delete: t }, xform: Ad }) } catch (r) { if (yn(r)) return { data: { user: null }, error: r }; throw r } } async _listFactors(e) { Qp(e.userId); try { const { data: t, error: r } = await jn(this.fetch, "GET", `${this.url}/admin/users/${e.userId}/factors`, { headers: this.headers, xform: i => ({ data: { factors: i }, error: null }) }); return { data: t, error: r } } catch (t) { if (yn(t)) return { data: null, error: t }; throw t } } async _deleteFactor(e) { Qp(e.userId), Qp(e.id); try { return { data: await jn(this.fetch, "DELETE", `${this.url}/admin/users/${e.userId}/factors/${e.id}`, { headers: this.headers }), error: null } } catch (t) { if (yn(t)) return { data: null, error: t }; throw t } } async _listOAuthClients(e) { var t, r, i, s, a, o, A; try { const u = { nextPage: null, lastPage: 0, total: 0 }, f = await jn(this.fetch, "GET", `${this.url}/admin/oauth/clients`, { headers: this.headers, noResolveJson: !0, query: { page: (r = (t = e?.page) === null || t === void 0 ? void 0 : t.toString()) !== null && r !== void 0 ? r : "", per_page: (s = (i = e?.perPage) === null || i === void 0 ? void 0 : i.toString()) !== null && s !== void 0 ? s : "" }, xform: Z4 }); if (f.error) throw f.error; const h = await f.json(), m = (a = f.headers.get("x-total-count")) !== null && a !== void 0 ? a : 0, p = (A = (o = f.headers.get("link")) === null || o === void 0 ? void 0 : o.split(",")) !== null && A !== void 0 ? A : []; return p.length > 0 && (p.forEach(b => { const y = parseInt(b.split(";")[0].split("=")[1].substring(0, 1)), E = JSON.parse(b.split(";")[1].split("=")[1]); u[`${E}Page`] = y }), u.total = parseInt(m)), { data: Object.assign(Object.assign({}, h), u), error: null } } catch (u) { if (yn(u)) return { data: { clients: [] }, error: u }; throw u } } async _createOAuthClient(e) { try { return await jn(this.fetch, "POST", `${this.url}/admin/oauth/clients`, { body: e, headers: this.headers, xform: t => ({ data: t, error: null }) }) } catch (t) { if (yn(t)) return { data: null, error: t }; throw t } } async _getOAuthClient(e) { try { return await jn(this.fetch, "GET", `${this.url}/admin/oauth/clients/${e}`, { headers: this.headers, xform: t => ({ data: t, error: null }) }) } catch (t) { if (yn(t)) return { data: null, error: t }; throw t } } async _updateOAuthClient(e, t) { try { return await jn(this.fetch, "PUT", `${this.url}/admin/oauth/clients/${e}`, { body: t, headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (yn(r)) return { data: null, error: r }; throw r } } async _deleteOAuthClient(e) { try { return await jn(this.fetch, "DELETE", `${this.url}/admin/oauth/clients/${e}`, { headers: this.headers, noResolveJson: !0 }), { data: null, error: null } } catch (t) { if (yn(t)) return { data: null, error: t }; throw t } } async _regenerateOAuthClientSecret(e) { try { return await jn(this.fetch, "POST", `${this.url}/admin/oauth/clients/${e}/regenerate_secret`, { headers: this.headers, xform: t => ({ data: t, error: null }) }) } catch (t) { if (yn(t)) return { data: null, error: t }; throw t } } } function q4(n = {}) { return { getItem: e => n[e] || null, setItem: (e, t) => { n[e] = t }, removeItem: e => { delete n[e] } } } const Dp = { debug: !!(globalThis && PU() && globalThis.localStorage && globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug") === "true") }; class jU extends Error { constructor(e) { super(e), this.isAcquireTimeout = !0 } } class h7 extends jU { } async function p7(n, e, t) { Dp.debug && console.log("@supabase/gotrue-js: navigatorLock: acquire lock", n, e); const r = new globalThis.AbortController; return e > 0 && setTimeout(() => { r.abort(), Dp.debug && console.log("@supabase/gotrue-js: navigatorLock acquire timed out", n) }, e), await Promise.resolve().then(() => globalThis.navigator.locks.request(n, e === 0 ? { mode: "exclusive", ifAvailable: !0 } : { mode: "exclusive", signal: r.signal }, async i => { if (i) { Dp.debug && console.log("@supabase/gotrue-js: navigatorLock: acquired", n, i.name); try { return await t() } finally { Dp.debug && console.log("@supabase/gotrue-js: navigatorLock: released", n, i.name) } } else { if (e === 0) throw Dp.debug && console.log("@supabase/gotrue-js: navigatorLock: not immediately available", n), new h7(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`); if (Dp.debug) try { const s = await globalThis.navigator.locks.query(); console.log("@supabase/gotrue-js: Navigator LockManager state", JSON.stringify(s, null, "  ")) } catch (s) { console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state", s) } return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"), await t() } })) } function g7() { if (typeof globalThis != "object") try { Object.defineProperty(Object.prototype, "__magic__", { get: function () { return this }, configurable: !0 }), __magic__.globalThis = __magic__, delete Object.prototype.__magic__ } catch { typeof self < "u" && (self.globalThis = self) } } function zU(n) { if (!/^0x[a-fA-F0-9]{40}$/.test(n)) throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`); return n.toLowerCase() } function m7(n) { return parseInt(n, 16) } function v7(n) { const e = new TextEncoder().encode(n); return "0x" + Array.from(e, r => r.toString(16).padStart(2, "0")).join("") } function y7(n) {
  var e; const { chainId: t, domain: r, expirationTime: i, issuedAt: s = new Date, nonce: a, notBefore: o, requestId: A, resources: u, scheme: f, uri: h, version: m } = n; {
    if (!Number.isInteger(t)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`); if (!r) throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.'); if (a && a.length < 8) throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`); if (!h) throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.'); if (m !== "1") throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`); if (!((e = n.statement) === null || e === void 0) && e.includes(`
`)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)
  } const p = zU(n.address), b = f ? `${f}://${r}` : r, y = n.statement ? `${n.statement}
`: "", E = `${b} wants you to sign in with your Ethereum account:
${p}

${y}`; let _ = `URI: ${h}
Version: ${m}
Chain ID: ${t}${a ? `
Nonce: ${a}` : ""}
Issued At: ${s.toISOString()}`; if (i && (_ += `
Expiration Time: ${i.toISOString()}`), o && (_ += `
Not Before: ${o.toISOString()}`), A && (_ += `
Request ID: ${A}`), u) {
    let O = `
Resources:`; for (const I of u) {
      if (!I || typeof I != "string") throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`); O += `
- ${I}`
    } _ += O
  } return `${E}
${_}`
} class Ta extends Error { constructor({ message: e, code: t, cause: r, name: i }) { var s; super(e, { cause: r }), this.__isWebAuthnError = !0, this.name = (s = i ?? (r instanceof Error ? r.name : void 0)) !== null && s !== void 0 ? s : "Unknown Error", this.code = t } } class L1 extends Ta { constructor(e, t) { super({ code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: t, message: e }), this.name = "WebAuthnUnknownError", this.originalError = t } } function w7({ error: n, options: e }) { var t, r, i; const { publicKey: s } = e; if (!s) throw Error("options was missing required publicKey property"); if (n.name === "AbortError") { if (e.signal instanceof AbortSignal) return new Ta({ message: "Registration ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: n }) } else if (n.name === "ConstraintError") { if (((t = s.authenticatorSelection) === null || t === void 0 ? void 0 : t.requireResidentKey) === !0) return new Ta({ message: "Discoverable credentials were required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT", cause: n }); if (e.mediation === "conditional" && ((r = s.authenticatorSelection) === null || r === void 0 ? void 0 : r.userVerification) === "required") return new Ta({ message: "User verification was required during automatic registration but it could not be performed", code: "ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE", cause: n }); if (((i = s.authenticatorSelection) === null || i === void 0 ? void 0 : i.userVerification) === "required") return new Ta({ message: "User verification was required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT", cause: n }) } else { if (n.name === "InvalidStateError") return new Ta({ message: "The authenticator was previously registered", code: "ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED", cause: n }); if (n.name === "NotAllowedError") return new Ta({ message: n.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: n }); if (n.name === "NotSupportedError") return s.pubKeyCredParams.filter(o => o.type === "public-key").length === 0 ? new Ta({ message: 'No entry in pubKeyCredParams was of type "public-key"', code: "ERROR_MALFORMED_PUBKEYCREDPARAMS", cause: n }) : new Ta({ message: "No available authenticator supported any of the specified pubKeyCredParams algorithms", code: "ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG", cause: n }); if (n.name === "SecurityError") { const a = window.location.hostname; if (KU(a)) { if (s.rp.id !== a) return new Ta({ message: `The RP ID "${s.rp.id}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: n }) } else return new Ta({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: n }) } else if (n.name === "TypeError") { if (s.user.id.byteLength < 1 || s.user.id.byteLength > 64) return new Ta({ message: "User ID was not between 1 and 64 characters", code: "ERROR_INVALID_USER_ID_LENGTH", cause: n }) } else if (n.name === "UnknownError") return new Ta({ message: "The authenticator was unable to process the specified options, or could not create a new credential", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: n }) } return new Ta({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: n }) } function b7({ error: n, options: e }) { const { publicKey: t } = e; if (!t) throw Error("options was missing required publicKey property"); if (n.name === "AbortError") { if (e.signal instanceof AbortSignal) return new Ta({ message: "Authentication ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: n }) } else { if (n.name === "NotAllowedError") return new Ta({ message: n.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: n }); if (n.name === "SecurityError") { const r = window.location.hostname; if (KU(r)) { if (t.rpId !== r) return new Ta({ message: `The RP ID "${t.rpId}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: n }) } else return new Ta({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: n }) } else if (n.name === "UnknownError") return new Ta({ message: "The authenticator was unable to process the specified options, or could not create a new assertion signature", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: n }) } return new Ta({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: n }) } class x7 { createNewAbortSignal() { if (this.controller) { const t = new Error("Cancelling existing WebAuthn API call for new one"); t.name = "AbortError", this.controller.abort(t) } const e = new AbortController; return this.controller = e, e.signal } cancelCeremony() { if (this.controller) { const e = new Error("Manually cancelling existing WebAuthn API call"); e.name = "AbortError", this.controller.abort(e), this.controller = void 0 } } } const B7 = new x7; function C7(n) { if (!n) throw new Error("Credential creation options are required"); if (typeof PublicKeyCredential < "u" && "parseCreationOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseCreationOptionsFromJSON == "function") return PublicKeyCredential.parseCreationOptionsFromJSON(n); const { challenge: e, user: t, excludeCredentials: r } = n, i = Md(n, ["challenge", "user", "excludeCredentials"]), s = mg(e).buffer, a = Object.assign(Object.assign({}, t), { id: mg(t.id).buffer }), o = Object.assign(Object.assign({}, i), { challenge: s, user: a }); if (r && r.length > 0) { o.excludeCredentials = new Array(r.length); for (let A = 0; A < r.length; A++) { const u = r[A]; o.excludeCredentials[A] = Object.assign(Object.assign({}, u), { id: mg(u.id).buffer, type: u.type || "public-key", transports: u.transports }) } } return o } function E7(n) { if (!n) throw new Error("Credential request options are required"); if (typeof PublicKeyCredential < "u" && "parseRequestOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseRequestOptionsFromJSON == "function") return PublicKeyCredential.parseRequestOptionsFromJSON(n); const { challenge: e, allowCredentials: t } = n, r = Md(n, ["challenge", "allowCredentials"]), i = mg(e).buffer, s = Object.assign(Object.assign({}, r), { challenge: i }); if (t && t.length > 0) { s.allowCredentials = new Array(t.length); for (let a = 0; a < t.length; a++) { const o = t[a]; s.allowCredentials[a] = Object.assign(Object.assign({}, o), { id: mg(o.id).buffer, type: o.type || "public-key", transports: o.transports }) } } return s } function S7(n) { var e; if ("toJSON" in n && typeof n.toJSON == "function") return n.toJSON(); const t = n; return { id: n.id, rawId: n.id, response: { attestationObject: Rh(new Uint8Array(n.response.attestationObject)), clientDataJSON: Rh(new Uint8Array(n.response.clientDataJSON)) }, type: "public-key", clientExtensionResults: n.getClientExtensionResults(), authenticatorAttachment: (e = t.authenticatorAttachment) !== null && e !== void 0 ? e : void 0 } } function _7(n) { var e; if ("toJSON" in n && typeof n.toJSON == "function") return n.toJSON(); const t = n, r = n.getClientExtensionResults(), i = n.response; return { id: n.id, rawId: n.id, response: { authenticatorData: Rh(new Uint8Array(i.authenticatorData)), clientDataJSON: Rh(new Uint8Array(i.clientDataJSON)), signature: Rh(new Uint8Array(i.signature)), userHandle: i.userHandle ? Rh(new Uint8Array(i.userHandle)) : void 0 }, type: "public-key", clientExtensionResults: r, authenticatorAttachment: (e = t.authenticatorAttachment) !== null && e !== void 0 ? e : void 0 } } function KU(n) { return n === "localhost" || /^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n) } function $4() { var n, e; return !!(Xo() && "PublicKeyCredential" in window && window.PublicKeyCredential && "credentials" in navigator && typeof ((n = navigator?.credentials) === null || n === void 0 ? void 0 : n.create) == "function" && typeof ((e = navigator?.credentials) === null || e === void 0 ? void 0 : e.get) == "function") } async function N7(n) { try { const e = await navigator.credentials.create(n); return e ? e instanceof PublicKeyCredential ? { data: e, error: null } : { data: null, error: new L1("Browser returned unexpected credential type", e) } : { data: null, error: new L1("Empty credential response", e) } } catch (e) { return { data: null, error: w7({ error: e, options: n }) } } } async function k7(n) { try { const e = await navigator.credentials.get(n); return e ? e instanceof PublicKeyCredential ? { data: e, error: null } : { data: null, error: new L1("Browser returned unexpected credential type", e) } : { data: null, error: new L1("Empty credential response", e) } } catch (e) { return { data: null, error: b7({ error: e, options: n }) } } } const T7 = { hints: ["security-key"], authenticatorSelection: { authenticatorAttachment: "cross-platform", requireResidentKey: !1, userVerification: "preferred", residentKey: "discouraged" }, attestation: "direct" }, F7 = { userVerification: "preferred", hints: ["security-key"], attestation: "direct" }; function M1(...n) { const e = i => i !== null && typeof i == "object" && !Array.isArray(i), t = i => i instanceof ArrayBuffer || ArrayBuffer.isView(i), r = {}; for (const i of n) if (i) for (const s in i) { const a = i[s]; if (a !== void 0) if (Array.isArray(a)) r[s] = a; else if (t(a)) r[s] = a; else if (e(a)) { const o = r[s]; e(o) ? r[s] = M1(o, a) : r[s] = M1(a) } else r[s] = a } return r } function U7(n, e) { return M1(T7, n, e || {}) } function O7(n, e) { return M1(F7, n, e || {}) } class R7 { constructor(e) { this.client = e, this.enroll = this._enroll.bind(this), this.challenge = this._challenge.bind(this), this.verify = this._verify.bind(this), this.authenticate = this._authenticate.bind(this), this.register = this._register.bind(this) } async _enroll(e) { return this.client.mfa.enroll(Object.assign(Object.assign({}, e), { factorType: "webauthn" })) } async _challenge({ factorId: e, webauthn: t, friendlyName: r, signal: i }, s) { try { const { data: a, error: o } = await this.client.mfa.challenge({ factorId: e, webauthn: t }); if (!a) return { data: null, error: o }; const A = i ?? B7.createNewAbortSignal(); if (a.webauthn.type === "create") { const { user: u } = a.webauthn.credential_options.publicKey; u.name || (u.name = `${u.id}:${r}`), u.displayName || (u.displayName = u.name) } switch (a.webauthn.type) { case "create": { const u = U7(a.webauthn.credential_options.publicKey, s?.create), { data: f, error: h } = await N7({ publicKey: u, signal: A }); return f ? { data: { factorId: e, challengeId: a.id, webauthn: { type: a.webauthn.type, credential_response: f } }, error: null } : { data: null, error: h } } case "request": { const u = O7(a.webauthn.credential_options.publicKey, s?.request), { data: f, error: h } = await k7(Object.assign(Object.assign({}, a.webauthn.credential_options), { publicKey: u, signal: A })); return f ? { data: { factorId: e, challengeId: a.id, webauthn: { type: a.webauthn.type, credential_response: f } }, error: null } : { data: null, error: h } } } } catch (a) { return yn(a) ? { data: null, error: a } : { data: null, error: new kh("Unexpected error in challenge", a) } } } async _verify({ challengeId: e, factorId: t, webauthn: r }) { return this.client.mfa.verify({ factorId: t, challengeId: e, webauthn: r }) } async _authenticate({ factorId: e, webauthn: { rpId: t = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: r = typeof window < "u" ? [window.location.origin] : void 0, signal: i } = {} }, s) { if (!t) return { data: null, error: new S0("rpId is required for WebAuthn authentication") }; try { if (!$4()) return { data: null, error: new kh("Browser does not support WebAuthn", null) }; const { data: a, error: o } = await this.challenge({ factorId: e, webauthn: { rpId: t, rpOrigins: r }, signal: i }, { request: s }); if (!a) return { data: null, error: o }; const { webauthn: A } = a; return this._verify({ factorId: e, challengeId: a.challengeId, webauthn: { type: A.type, rpId: t, rpOrigins: r, credential_response: A.credential_response } }) } catch (a) { return yn(a) ? { data: null, error: a } : { data: null, error: new kh("Unexpected error in authenticate", a) } } } async _register({ friendlyName: e, webauthn: { rpId: t = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: r = typeof window < "u" ? [window.location.origin] : void 0, signal: i } = {} }, s) { if (!t) return { data: null, error: new S0("rpId is required for WebAuthn registration") }; try { if (!$4()) return { data: null, error: new kh("Browser does not support WebAuthn", null) }; const { data: a, error: o } = await this._enroll({ friendlyName: e }); if (!a) return await this.client.mfa.listFactors().then(f => { var h; return (h = f.data) === null || h === void 0 ? void 0 : h.all.find(m => m.factor_type === "webauthn" && m.friendly_name === e && m.status !== "unverified") }).then(f => f ? this.client.mfa.unenroll({ factorId: f?.id }) : void 0), { data: null, error: o }; const { data: A, error: u } = await this._challenge({ factorId: a.id, friendlyName: a.friendly_name, webauthn: { rpId: t, rpOrigins: r }, signal: i }, { create: s }); return A ? this._verify({ factorId: a.id, challengeId: A.challengeId, webauthn: { rpId: t, rpOrigins: r, type: A.webauthn.type, credential_response: A.webauthn.credential_response } }) : { data: null, error: u } } catch (a) { return yn(a) ? { data: null, error: a } : { data: null, error: new kh("Unexpected error in register", a) } } } } g7(); const I7 = { url: Fj, storageKey: Uj, autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, headers: Oj, flowType: "implicit", debug: !1, hasCustomAuthorizationHeader: !1, throwOnError: !1 }; async function eN(n, e, t) { return await t() } const Pp = {}; class _0 {
  get jwks() { var e, t; return (t = (e = Pp[this.storageKey]) === null || e === void 0 ? void 0 : e.jwks) !== null && t !== void 0 ? t : { keys: [] } } set jwks(e) { Pp[this.storageKey] = Object.assign(Object.assign({}, Pp[this.storageKey]), { jwks: e }) } get jwks_cached_at() { var e, t; return (t = (e = Pp[this.storageKey]) === null || e === void 0 ? void 0 : e.cachedAt) !== null && t !== void 0 ? t : Number.MIN_SAFE_INTEGER } set jwks_cached_at(e) { Pp[this.storageKey] = Object.assign(Object.assign({}, Pp[this.storageKey]), { cachedAt: e }) } constructor(e) { var t, r, i; this.userStorage = null, this.memoryStorage = null, this.stateChangeEmitters = new Map, this.autoRefreshTicker = null, this.visibilityChangedCallback = null, this.refreshingDeferred = null, this.initializePromise = null, this.detectSessionInUrl = !0, this.hasCustomAuthorizationHeader = !1, this.suppressGetSessionWarning = !1, this.lockAcquired = !1, this.pendingInLock = [], this.broadcastChannel = null, this.logger = console.log; const s = Object.assign(Object.assign({}, I7), e); if (this.storageKey = s.storageKey, this.instanceID = (t = _0.nextInstanceID[this.storageKey]) !== null && t !== void 0 ? t : 0, _0.nextInstanceID[this.storageKey] = this.instanceID + 1, this.logDebugMessages = !!s.debug, typeof s.debug == "function" && (this.logger = s.debug), this.instanceID > 0 && Xo()) { const a = `${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`; console.warn(a), this.logDebugMessages && console.trace(a) } if (this.persistSession = s.persistSession, this.autoRefreshToken = s.autoRefreshToken, this.admin = new d7({ url: s.url, headers: s.headers, fetch: s.fetch }), this.url = s.url, this.headers = s.headers, this.fetch = HU(s.fetch), this.lock = s.lock || eN, this.detectSessionInUrl = s.detectSessionInUrl, this.flowType = s.flowType, this.hasCustomAuthorizationHeader = s.hasCustomAuthorizationHeader, this.throwOnError = s.throwOnError, s.lock ? this.lock = s.lock : Xo() && (!((r = globalThis?.navigator) === null || r === void 0) && r.locks) ? this.lock = p7 : this.lock = eN, this.jwks || (this.jwks = { keys: [] }, this.jwks_cached_at = Number.MIN_SAFE_INTEGER), this.mfa = { verify: this._verify.bind(this), enroll: this._enroll.bind(this), unenroll: this._unenroll.bind(this), challenge: this._challenge.bind(this), listFactors: this._listFactors.bind(this), challengeAndVerify: this._challengeAndVerify.bind(this), getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this), webauthn: new R7(this) }, this.oauth = { getAuthorizationDetails: this._getAuthorizationDetails.bind(this), approveAuthorization: this._approveAuthorization.bind(this), denyAuthorization: this._denyAuthorization.bind(this), listGrants: this._listOAuthGrants.bind(this), revokeGrant: this._revokeOAuthGrant.bind(this) }, this.persistSession ? (s.storage ? this.storage = s.storage : PU() ? this.storage = globalThis.localStorage : (this.memoryStorage = {}, this.storage = q4(this.memoryStorage)), s.userStorage && (this.userStorage = s.userStorage)) : (this.memoryStorage = {}, this.storage = q4(this.memoryStorage)), Xo() && globalThis.BroadcastChannel && this.persistSession && this.storageKey) { try { this.broadcastChannel = new globalThis.BroadcastChannel(this.storageKey) } catch (a) { console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available", a) } (i = this.broadcastChannel) === null || i === void 0 || i.addEventListener("message", async a => { this._debug("received broadcast notification from other tab or client", a), await this._notifyAllSubscribers(a.data.event, a.data.session, !1) }) } this.initialize() } isThrowOnErrorEnabled() { return this.throwOnError } _returnResult(e) { if (this.throwOnError && e && e.error) throw e.error; return e } _logPrefix() { return `GoTrueClient@${this.storageKey}:${this.instanceID} (${MU}) ${new Date().toISOString()}` } _debug(...e) { return this.logDebugMessages && this.logger(this._logPrefix(), ...e), this } async initialize() { return this.initializePromise ? await this.initializePromise : (this.initializePromise = (async () => await this._acquireLock(-1, async () => await this._initialize()))(), await this.initializePromise) } async _initialize() { var e; try { let t = {}, r = "none"; if (Xo() && (t = Wj(window.location.href), this._isImplicitGrantCallback(t) ? r = "implicit" : await this._isPKCECallback(t) && (r = "pkce")), Xo() && this.detectSessionInUrl && r !== "none") { const { data: i, error: s } = await this._getSessionFromURL(t, r); if (s) { if (this._debug("#_initialize()", "error detecting session from URL", s), Dj(s)) { const A = (e = s.details) === null || e === void 0 ? void 0 : e.code; if (A === "identity_already_exists" || A === "identity_not_found" || A === "single_identity_not_deletable") return { error: s } } return await this._removeSession(), { error: s } } const { session: a, redirectType: o } = i; return this._debug("#_initialize()", "detected session in URL", a, "redirect type", o), await this._saveSession(a), setTimeout(async () => { o === "recovery" ? await this._notifyAllSubscribers("PASSWORD_RECOVERY", a) : await this._notifyAllSubscribers("SIGNED_IN", a) }, 0), { error: null } } return await this._recoverAndRefresh(), { error: null } } catch (t) { return yn(t) ? this._returnResult({ error: t }) : this._returnResult({ error: new kh("Unexpected error during initialization", t) }) } finally { await this._handleVisibilityChange(), this._debug("#_initialize()", "end") } } async signInAnonymously(e) { var t, r, i; try { const s = await jn(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { data: (r = (t = e?.options) === null || t === void 0 ? void 0 : t.data) !== null && r !== void 0 ? r : {}, gotrue_meta_security: { captcha_token: (i = e?.options) === null || i === void 0 ? void 0 : i.captchaToken } }, xform: Dc }), { data: a, error: o } = s; if (o || !a) return this._returnResult({ data: { user: null, session: null }, error: o }); const A = a.session, u = a.user; return a.session && (await this._saveSession(a.session), await this._notifyAllSubscribers("SIGNED_IN", A)), this._returnResult({ data: { user: u, session: A }, error: null }) } catch (s) { if (yn(s)) return this._returnResult({ data: { user: null, session: null }, error: s }); throw s } } async signUp(e) { var t, r, i; try { let s; if ("email" in e) { const { email: f, password: h, options: m } = e; let p = null, b = null; this.flowType === "pkce" && ([p, b] = await Mp(this.storage, this.storageKey)), s = await jn(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, redirectTo: m?.emailRedirectTo, body: { email: f, password: h, data: (t = m?.data) !== null && t !== void 0 ? t : {}, gotrue_meta_security: { captcha_token: m?.captchaToken }, code_challenge: p, code_challenge_method: b }, xform: Dc }) } else if ("phone" in e) { const { phone: f, password: h, options: m } = e; s = await jn(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { phone: f, password: h, data: (r = m?.data) !== null && r !== void 0 ? r : {}, channel: (i = m?.channel) !== null && i !== void 0 ? i : "sms", gotrue_meta_security: { captcha_token: m?.captchaToken } }, xform: Dc }) } else throw new uy("You must provide either an email or phone number and a password"); const { data: a, error: o } = s; if (o || !a) return this._returnResult({ data: { user: null, session: null }, error: o }); const A = a.session, u = a.user; return a.session && (await this._saveSession(a.session), await this._notifyAllSubscribers("SIGNED_IN", A)), this._returnResult({ data: { user: u, session: A }, error: null }) } catch (s) { if (yn(s)) return this._returnResult({ data: { user: null, session: null }, error: s }); throw s } } async signInWithPassword(e) { try { let t; if ("email" in e) { const { email: s, password: a, options: o } = e; t = await jn(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { email: s, password: a, gotrue_meta_security: { captcha_token: o?.captchaToken } }, xform: X4 }) } else if ("phone" in e) { const { phone: s, password: a, options: o } = e; t = await jn(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { phone: s, password: a, gotrue_meta_security: { captcha_token: o?.captchaToken } }, xform: X4 }) } else throw new uy("You must provide either an email or phone number and a password"); const { data: r, error: i } = t; if (i) return this._returnResult({ data: { user: null, session: null }, error: i }); if (!r || !r.session || !r.user) { const s = new Lp; return this._returnResult({ data: { user: null, session: null }, error: s }) } return r.session && (await this._saveSession(r.session), await this._notifyAllSubscribers("SIGNED_IN", r.session)), this._returnResult({ data: Object.assign({ user: r.user, session: r.session }, r.weak_password ? { weakPassword: r.weak_password } : null), error: i }) } catch (t) { if (yn(t)) return this._returnResult({ data: { user: null, session: null }, error: t }); throw t } } async signInWithOAuth(e) { var t, r, i, s; return await this._handleProviderSignIn(e.provider, { redirectTo: (t = e.options) === null || t === void 0 ? void 0 : t.redirectTo, scopes: (r = e.options) === null || r === void 0 ? void 0 : r.scopes, queryParams: (i = e.options) === null || i === void 0 ? void 0 : i.queryParams, skipBrowserRedirect: (s = e.options) === null || s === void 0 ? void 0 : s.skipBrowserRedirect }) } async exchangeCodeForSession(e) { return await this.initializePromise, this._acquireLock(-1, async () => this._exchangeCodeForSession(e)) } async signInWithWeb3(e) { const { chain: t } = e; switch (t) { case "ethereum": return await this.signInWithEthereum(e); case "solana": return await this.signInWithSolana(e); default: throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`) } } async signInWithEthereum(e) { var t, r, i, s, a, o, A, u, f, h, m; let p, b; if ("message" in e) p = e.message, b = e.signature; else { const { chain: y, wallet: E, statement: _, options: O } = e; let I; if (Xo()) if (typeof E == "object") I = E; else { const G = window; if ("ethereum" in G && typeof G.ethereum == "object" && "request" in G.ethereum && typeof G.ethereum.request == "function") I = G.ethereum; else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.") } else { if (typeof E != "object" || !O?.url) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); I = E } const D = new URL((t = O?.url) !== null && t !== void 0 ? t : window.location.href), z = await I.request({ method: "eth_requestAccounts" }).then(G => G).catch(() => { throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid") }); if (!z || z.length === 0) throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected."); const X = zU(z[0]); let q = (r = O?.signInWithEthereum) === null || r === void 0 ? void 0 : r.chainId; if (!q) { const G = await I.request({ method: "eth_chainId" }); q = m7(G) } const W = { domain: D.host, address: X, statement: _, uri: D.href, version: "1", chainId: q, nonce: (i = O?.signInWithEthereum) === null || i === void 0 ? void 0 : i.nonce, issuedAt: (a = (s = O?.signInWithEthereum) === null || s === void 0 ? void 0 : s.issuedAt) !== null && a !== void 0 ? a : new Date, expirationTime: (o = O?.signInWithEthereum) === null || o === void 0 ? void 0 : o.expirationTime, notBefore: (A = O?.signInWithEthereum) === null || A === void 0 ? void 0 : A.notBefore, requestId: (u = O?.signInWithEthereum) === null || u === void 0 ? void 0 : u.requestId, resources: (f = O?.signInWithEthereum) === null || f === void 0 ? void 0 : f.resources }; p = y7(W), b = await I.request({ method: "personal_sign", params: [v7(p), X] }) } try { const { data: y, error: E } = await jn(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "ethereum", message: p, signature: b }, !((h = e.options) === null || h === void 0) && h.captchaToken ? { gotrue_meta_security: { captcha_token: (m = e.options) === null || m === void 0 ? void 0 : m.captchaToken } } : null), xform: Dc }); if (E) throw E; if (!y || !y.session || !y.user) { const _ = new Lp; return this._returnResult({ data: { user: null, session: null }, error: _ }) } return y.session && (await this._saveSession(y.session), await this._notifyAllSubscribers("SIGNED_IN", y.session)), this._returnResult({ data: Object.assign({}, y), error: E }) } catch (y) { if (yn(y)) return this._returnResult({ data: { user: null, session: null }, error: y }); throw y } } async signInWithSolana(e) {
    var t, r, i, s, a, o, A, u, f, h, m, p; let b, y; if ("message" in e) b = e.message, y = e.signature; else {
      const { chain: E, wallet: _, statement: O, options: I } = e; let D; if (Xo()) if (typeof _ == "object") D = _; else { const X = window; if ("solana" in X && typeof X.solana == "object" && ("signIn" in X.solana && typeof X.solana.signIn == "function" || "signMessage" in X.solana && typeof X.solana.signMessage == "function")) D = X.solana; else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.") } else { if (typeof _ != "object" || !I?.url) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); D = _ } const z = new URL((t = I?.url) !== null && t !== void 0 ? t : window.location.href); if ("signIn" in D && D.signIn) { const X = await D.signIn(Object.assign(Object.assign(Object.assign({ issuedAt: new Date().toISOString() }, I?.signInWithSolana), { version: "1", domain: z.host, uri: z.href }), O ? { statement: O } : null)); let q; if (Array.isArray(X) && X[0] && typeof X[0] == "object") q = X[0]; else if (X && typeof X == "object" && "signedMessage" in X && "signature" in X) q = X; else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value"); if ("signedMessage" in q && "signature" in q && (typeof q.signedMessage == "string" || q.signedMessage instanceof Uint8Array) && q.signature instanceof Uint8Array) b = typeof q.signedMessage == "string" ? q.signedMessage : new TextDecoder().decode(q.signedMessage), y = q.signature; else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields") } else {
        if (!("signMessage" in D) || typeof D.signMessage != "function" || !("publicKey" in D) || typeof D != "object" || !D.publicKey || !("toBase58" in D.publicKey) || typeof D.publicKey.toBase58 != "function") throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API"); b = [`${z.host} wants you to sign in with your Solana account:`, D.publicKey.toBase58(), ...O ? ["", O, ""] : [""], "Version: 1", `URI: ${z.href}`, `Issued At: ${(i = (r = I?.signInWithSolana) === null || r === void 0 ? void 0 : r.issuedAt) !== null && i !== void 0 ? i : new Date().toISOString()}`, ...!((s = I?.signInWithSolana) === null || s === void 0) && s.notBefore ? [`Not Before: ${I.signInWithSolana.notBefore}`] : [], ...!((a = I?.signInWithSolana) === null || a === void 0) && a.expirationTime ? [`Expiration Time: ${I.signInWithSolana.expirationTime}`] : [], ...!((o = I?.signInWithSolana) === null || o === void 0) && o.chainId ? [`Chain ID: ${I.signInWithSolana.chainId}`] : [], ...!((A = I?.signInWithSolana) === null || A === void 0) && A.nonce ? [`Nonce: ${I.signInWithSolana.nonce}`] : [], ...!((u = I?.signInWithSolana) === null || u === void 0) && u.requestId ? [`Request ID: ${I.signInWithSolana.requestId}`] : [], ...!((h = (f = I?.signInWithSolana) === null || f === void 0 ? void 0 : f.resources) === null || h === void 0) && h.length ? ["Resources", ...I.signInWithSolana.resources.map(q => `- ${q}`)] : []].join(`
`); const X = await D.signMessage(new TextEncoder().encode(b), "utf8"); if (!X || !(X instanceof Uint8Array)) throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value"); y = X
      }
    } try { const { data: E, error: _ } = await jn(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "solana", message: b, signature: Rh(y) }, !((m = e.options) === null || m === void 0) && m.captchaToken ? { gotrue_meta_security: { captcha_token: (p = e.options) === null || p === void 0 ? void 0 : p.captchaToken } } : null), xform: Dc }); if (_) throw _; if (!E || !E.session || !E.user) { const O = new Lp; return this._returnResult({ data: { user: null, session: null }, error: O }) } return E.session && (await this._saveSession(E.session), await this._notifyAllSubscribers("SIGNED_IN", E.session)), this._returnResult({ data: Object.assign({}, E), error: _ }) } catch (E) { if (yn(E)) return this._returnResult({ data: { user: null, session: null }, error: E }); throw E }
  } async _exchangeCodeForSession(e) { const t = await yh(this.storage, `${this.storageKey}-code-verifier`), [r, i] = (t ?? "").split("/"); try { const { data: s, error: a } = await jn(this.fetch, "POST", `${this.url}/token?grant_type=pkce`, { headers: this.headers, body: { auth_code: e, code_verifier: r }, xform: Dc }); if (await Jf(this.storage, `${this.storageKey}-code-verifier`), a) throw a; if (!s || !s.session || !s.user) { const o = new Lp; return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: o }) } return s.session && (await this._saveSession(s.session), await this._notifyAllSubscribers("SIGNED_IN", s.session)), this._returnResult({ data: Object.assign(Object.assign({}, s), { redirectType: i ?? null }), error: a }) } catch (s) { if (yn(s)) return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: s }); throw s } } async signInWithIdToken(e) { try { const { options: t, provider: r, token: i, access_token: s, nonce: a } = e, o = await jn(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, body: { provider: r, id_token: i, access_token: s, nonce: a, gotrue_meta_security: { captcha_token: t?.captchaToken } }, xform: Dc }), { data: A, error: u } = o; if (u) return this._returnResult({ data: { user: null, session: null }, error: u }); if (!A || !A.session || !A.user) { const f = new Lp; return this._returnResult({ data: { user: null, session: null }, error: f }) } return A.session && (await this._saveSession(A.session), await this._notifyAllSubscribers("SIGNED_IN", A.session)), this._returnResult({ data: A, error: u }) } catch (t) { if (yn(t)) return this._returnResult({ data: { user: null, session: null }, error: t }); throw t } } async signInWithOtp(e) { var t, r, i, s, a; try { if ("email" in e) { const { email: o, options: A } = e; let u = null, f = null; this.flowType === "pkce" && ([u, f] = await Mp(this.storage, this.storageKey)); const { error: h } = await jn(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { email: o, data: (t = A?.data) !== null && t !== void 0 ? t : {}, create_user: (r = A?.shouldCreateUser) !== null && r !== void 0 ? r : !0, gotrue_meta_security: { captcha_token: A?.captchaToken }, code_challenge: u, code_challenge_method: f }, redirectTo: A?.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: h }) } if ("phone" in e) { const { phone: o, options: A } = e, { data: u, error: f } = await jn(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { phone: o, data: (i = A?.data) !== null && i !== void 0 ? i : {}, create_user: (s = A?.shouldCreateUser) !== null && s !== void 0 ? s : !0, gotrue_meta_security: { captcha_token: A?.captchaToken }, channel: (a = A?.channel) !== null && a !== void 0 ? a : "sms" } }); return this._returnResult({ data: { user: null, session: null, messageId: u?.message_id }, error: f }) } throw new uy("You must provide either an email or phone number.") } catch (o) { if (yn(o)) return this._returnResult({ data: { user: null, session: null }, error: o }); throw o } } async verifyOtp(e) { var t, r; try { let i, s; "options" in e && (i = (t = e.options) === null || t === void 0 ? void 0 : t.redirectTo, s = (r = e.options) === null || r === void 0 ? void 0 : r.captchaToken); const { data: a, error: o } = await jn(this.fetch, "POST", `${this.url}/verify`, { headers: this.headers, body: Object.assign(Object.assign({}, e), { gotrue_meta_security: { captcha_token: s } }), redirectTo: i, xform: Dc }); if (o) throw o; if (!a) throw new Error("An error occurred on token verification."); const A = a.session, u = a.user; return A?.access_token && (await this._saveSession(A), await this._notifyAllSubscribers(e.type == "recovery" ? "PASSWORD_RECOVERY" : "SIGNED_IN", A)), this._returnResult({ data: { user: u, session: A }, error: null }) } catch (i) { if (yn(i)) return this._returnResult({ data: { user: null, session: null }, error: i }); throw i } } async signInWithSSO(e) { var t, r, i, s, a; try { let o = null, A = null; this.flowType === "pkce" && ([o, A] = await Mp(this.storage, this.storageKey)); const u = await jn(this.fetch, "POST", `${this.url}/sso`, { body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, "providerId" in e ? { provider_id: e.providerId } : null), "domain" in e ? { domain: e.domain } : null), { redirect_to: (r = (t = e.options) === null || t === void 0 ? void 0 : t.redirectTo) !== null && r !== void 0 ? r : void 0 }), !((i = e?.options) === null || i === void 0) && i.captchaToken ? { gotrue_meta_security: { captcha_token: e.options.captchaToken } } : null), { skip_http_redirect: !0, code_challenge: o, code_challenge_method: A }), headers: this.headers, xform: c7 }); return !((s = u.data) === null || s === void 0) && s.url && Xo() && !(!((a = e.options) === null || a === void 0) && a.skipBrowserRedirect) && window.location.assign(u.data.url), this._returnResult(u) } catch (o) { if (yn(o)) return this._returnResult({ data: null, error: o }); throw o } } async reauthenticate() { return await this.initializePromise, await this._acquireLock(-1, async () => await this._reauthenticate()) } async _reauthenticate() { try { return await this._useSession(async e => { const { data: { session: t }, error: r } = e; if (r) throw r; if (!t) throw new RA; const { error: i } = await jn(this.fetch, "GET", `${this.url}/reauthenticate`, { headers: this.headers, jwt: t.access_token }); return this._returnResult({ data: { user: null, session: null }, error: i }) }) } catch (e) { if (yn(e)) return this._returnResult({ data: { user: null, session: null }, error: e }); throw e } } async resend(e) { try { const t = `${this.url}/resend`; if ("email" in e) { const { email: r, type: i, options: s } = e, { error: a } = await jn(this.fetch, "POST", t, { headers: this.headers, body: { email: r, type: i, gotrue_meta_security: { captcha_token: s?.captchaToken } }, redirectTo: s?.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: a }) } else if ("phone" in e) { const { phone: r, type: i, options: s } = e, { data: a, error: o } = await jn(this.fetch, "POST", t, { headers: this.headers, body: { phone: r, type: i, gotrue_meta_security: { captcha_token: s?.captchaToken } } }); return this._returnResult({ data: { user: null, session: null, messageId: a?.message_id }, error: o }) } throw new uy("You must provide either an email or phone number and a type") } catch (t) { if (yn(t)) return this._returnResult({ data: { user: null, session: null }, error: t }); throw t } } async getSession() { return await this.initializePromise, await this._acquireLock(-1, async () => this._useSession(async t => t)) } async _acquireLock(e, t) { this._debug("#_acquireLock", "begin", e); try { if (this.lockAcquired) { const r = this.pendingInLock.length ? this.pendingInLock[this.pendingInLock.length - 1] : Promise.resolve(), i = (async () => (await r, await t()))(); return this.pendingInLock.push((async () => { try { await i } catch { } })()), i } return await this.lock(`lock:${this.storageKey}`, e, async () => { this._debug("#_acquireLock", "lock acquired for storage key", this.storageKey); try { this.lockAcquired = !0; const r = t(); for (this.pendingInLock.push((async () => { try { await r } catch { } })()), await r; this.pendingInLock.length;) { const i = [...this.pendingInLock]; await Promise.all(i), this.pendingInLock.splice(0, i.length) } return await r } finally { this._debug("#_acquireLock", "lock released for storage key", this.storageKey), this.lockAcquired = !1 } }) } finally { this._debug("#_acquireLock", "end") } } async _useSession(e) { this._debug("#_useSession", "begin"); try { const t = await this.__loadSession(); return await e(t) } finally { this._debug("#_useSession", "end") } } async __loadSession() { this._debug("#__loadSession()", "begin"), this.lockAcquired || this._debug("#__loadSession()", "used outside of an acquired lock!", new Error().stack); try { let e = null; const t = await yh(this.storage, this.storageKey); if (this._debug("#getSession()", "session from storage", t), t !== null && (this._isValidSession(t) ? e = t : (this._debug("#getSession()", "session from storage is not valid"), await this._removeSession())), !e) return { data: { session: null }, error: null }; const r = e.expires_at ? e.expires_at * 1e3 - Date.now() < ex : !1; if (this._debug("#__loadSession()", `session has${r ? "" : " not"} expired`, "expires_at", e.expires_at), !r) { if (this.userStorage) { const a = await yh(this.userStorage, this.storageKey + "-user"); a?.user ? e.user = a.user : e.user = rx() } if (this.storage.isServer && e.user && !e.user.__isUserNotAvailableProxy) { const a = { value: this.suppressGetSessionWarning }; e.user = a7(e.user, a), a.value && (this.suppressGetSessionWarning = !0) } return { data: { session: e }, error: null } } const { data: i, error: s } = await this._callRefreshToken(e.refresh_token); return s ? this._returnResult({ data: { session: null }, error: s }) : this._returnResult({ data: { session: i }, error: null }) } finally { this._debug("#__loadSession()", "end") } } async getUser(e) { return e ? await this._getUser(e) : (await this.initializePromise, await this._acquireLock(-1, async () => await this._getUser())) } async _getUser(e) { try { return e ? await jn(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: e, xform: Ad }) : await this._useSession(async t => { var r, i, s; const { data: a, error: o } = t; if (o) throw o; return !(!((r = a.session) === null || r === void 0) && r.access_token) && !this.hasCustomAuthorizationHeader ? { data: { user: null }, error: new RA } : await jn(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: (s = (i = a.session) === null || i === void 0 ? void 0 : i.access_token) !== null && s !== void 0 ? s : void 0, xform: Ad }) }) } catch (t) { if (yn(t)) return Qj(t) && (await this._removeSession(), await Jf(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ data: { user: null }, error: t }); throw t } } async updateUser(e, t = {}) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._updateUser(e, t)) } async _updateUser(e, t = {}) { try { return await this._useSession(async r => { const { data: i, error: s } = r; if (s) throw s; if (!i.session) throw new RA; const a = i.session; let o = null, A = null; this.flowType === "pkce" && e.email != null && ([o, A] = await Mp(this.storage, this.storageKey)); const { data: u, error: f } = await jn(this.fetch, "PUT", `${this.url}/user`, { headers: this.headers, redirectTo: t?.emailRedirectTo, body: Object.assign(Object.assign({}, e), { code_challenge: o, code_challenge_method: A }), jwt: a.access_token, xform: Ad }); if (f) throw f; return a.user = u.user, await this._saveSession(a), await this._notifyAllSubscribers("USER_UPDATED", a), this._returnResult({ data: { user: a.user }, error: null }) }) } catch (r) { if (yn(r)) return this._returnResult({ data: { user: null }, error: r }); throw r } } async setSession(e) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._setSession(e)) } async _setSession(e) { try { if (!e.access_token || !e.refresh_token) throw new RA; const t = Date.now() / 1e3; let r = t, i = !0, s = null; const { payload: a } = nx(e.access_token); if (a.exp && (r = a.exp, i = r <= t), i) { const { data: o, error: A } = await this._callRefreshToken(e.refresh_token); if (A) return this._returnResult({ data: { user: null, session: null }, error: A }); if (!o) return { data: { user: null, session: null }, error: null }; s = o } else { const { data: o, error: A } = await this._getUser(e.access_token); if (A) throw A; s = { access_token: e.access_token, refresh_token: e.refresh_token, user: o.user, token_type: "bearer", expires_in: r - t, expires_at: r }, await this._saveSession(s), await this._notifyAllSubscribers("SIGNED_IN", s) } return this._returnResult({ data: { user: s.user, session: s }, error: null }) } catch (t) { if (yn(t)) return this._returnResult({ data: { session: null, user: null }, error: t }); throw t } } async refreshSession(e) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._refreshSession(e)) } async _refreshSession(e) { try { return await this._useSession(async t => { var r; if (!e) { const { data: a, error: o } = t; if (o) throw o; e = (r = a.session) !== null && r !== void 0 ? r : void 0 } if (!e?.refresh_token) throw new RA; const { data: i, error: s } = await this._callRefreshToken(e.refresh_token); return s ? this._returnResult({ data: { user: null, session: null }, error: s }) : i ? this._returnResult({ data: { user: i.user, session: i }, error: null }) : this._returnResult({ data: { user: null, session: null }, error: null }) }) } catch (t) { if (yn(t)) return this._returnResult({ data: { user: null, session: null }, error: t }); throw t } } async _getSessionFromURL(e, t) { try { if (!Xo()) throw new fy("No browser detected."); if (e.error || e.error_description || e.error_code) throw new fy(e.error_description || "Error in URL with unspecified error_description", { error: e.error || "unspecified_error", code: e.error_code || "unspecified_code" }); switch (t) { case "implicit": if (this.flowType === "pkce") throw new z4("Not a valid PKCE flow url."); break; case "pkce": if (this.flowType === "implicit") throw new fy("Not a valid implicit grant flow url."); break; default: }if (t === "pkce") { if (this._debug("#_initialize()", "begin", "is PKCE flow", !0), !e.code) throw new z4("No code detected."); const { data: O, error: I } = await this._exchangeCodeForSession(e.code); if (I) throw I; const D = new URL(window.location.href); return D.searchParams.delete("code"), window.history.replaceState(window.history.state, "", D.toString()), { data: { session: O.session, redirectType: null }, error: null } } const { provider_token: r, provider_refresh_token: i, access_token: s, refresh_token: a, expires_in: o, expires_at: A, token_type: u } = e; if (!s || !o || !a || !u) throw new fy("No session defined in URL"); const f = Math.round(Date.now() / 1e3), h = parseInt(o); let m = f + h; A && (m = parseInt(A)); const p = m - f; p * 1e3 <= ng && console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`); const b = m - h; f - b >= 120 ? console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale", b, m, f) : f - b < 0 && console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew", b, m, f); const { data: y, error: E } = await this._getUser(s); if (E) throw E; const _ = { provider_token: r, provider_refresh_token: i, access_token: s, expires_in: h, expires_at: m, refresh_token: a, token_type: u, user: y.user }; return window.location.hash = "", this._debug("#_getSessionFromURL()", "clearing window.location.hash"), this._returnResult({ data: { session: _, redirectType: e.type }, error: null }) } catch (r) { if (yn(r)) return this._returnResult({ data: { session: null, redirectType: null }, error: r }); throw r } } _isImplicitGrantCallback(e) { return !!(e.access_token || e.error_description) } async _isPKCECallback(e) { const t = await yh(this.storage, `${this.storageKey}-code-verifier`); return !!(e.code && t) } async signOut(e = { scope: "global" }) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._signOut(e)) } async _signOut({ scope: e } = { scope: "global" }) { return await this._useSession(async t => { var r; const { data: i, error: s } = t; if (s) return this._returnResult({ error: s }); const a = (r = i.session) === null || r === void 0 ? void 0 : r.access_token; if (a) { const { error: o } = await this.admin.signOut(a, e); if (o && !(Mj(o) && (o.status === 404 || o.status === 401 || o.status === 403))) return this._returnResult({ error: o }) } return e !== "others" && (await this._removeSession(), await Jf(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ error: null }) }) } onAuthStateChange(e) { const t = Gj(), r = { id: t, callback: e, unsubscribe: () => { this._debug("#unsubscribe()", "state change callback with id removed", t), this.stateChangeEmitters.delete(t) } }; return this._debug("#onAuthStateChange()", "registered callback with id", t), this.stateChangeEmitters.set(t, r), (async () => (await this.initializePromise, await this._acquireLock(-1, async () => { this._emitInitialSession(t) })))(), { data: { subscription: r } } } async _emitInitialSession(e) { return await this._useSession(async t => { var r, i; try { const { data: { session: s }, error: a } = t; if (a) throw a; await ((r = this.stateChangeEmitters.get(e)) === null || r === void 0 ? void 0 : r.callback("INITIAL_SESSION", s)), this._debug("INITIAL_SESSION", "callback id", e, "session", s) } catch (s) { await ((i = this.stateChangeEmitters.get(e)) === null || i === void 0 ? void 0 : i.callback("INITIAL_SESSION", null)), this._debug("INITIAL_SESSION", "callback id", e, "error", s), console.error(s) } }) } async resetPasswordForEmail(e, t = {}) { let r = null, i = null; this.flowType === "pkce" && ([r, i] = await Mp(this.storage, this.storageKey, !0)); try { return await jn(this.fetch, "POST", `${this.url}/recover`, { body: { email: e, code_challenge: r, code_challenge_method: i, gotrue_meta_security: { captcha_token: t.captchaToken } }, headers: this.headers, redirectTo: t.redirectTo }) } catch (s) { if (yn(s)) return this._returnResult({ data: null, error: s }); throw s } } async getUserIdentities() { var e; try { const { data: t, error: r } = await this.getUser(); if (r) throw r; return this._returnResult({ data: { identities: (e = t.user.identities) !== null && e !== void 0 ? e : [] }, error: null }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } } async linkIdentity(e) { return "token" in e ? this.linkIdentityIdToken(e) : this.linkIdentityOAuth(e) } async linkIdentityOAuth(e) { var t; try { const { data: r, error: i } = await this._useSession(async s => { var a, o, A, u, f; const { data: h, error: m } = s; if (m) throw m; const p = await this._getUrlForProvider(`${this.url}/user/identities/authorize`, e.provider, { redirectTo: (a = e.options) === null || a === void 0 ? void 0 : a.redirectTo, scopes: (o = e.options) === null || o === void 0 ? void 0 : o.scopes, queryParams: (A = e.options) === null || A === void 0 ? void 0 : A.queryParams, skipBrowserRedirect: !0 }); return await jn(this.fetch, "GET", p, { headers: this.headers, jwt: (f = (u = h.session) === null || u === void 0 ? void 0 : u.access_token) !== null && f !== void 0 ? f : void 0 }) }); if (i) throw i; return Xo() && !(!((t = e.options) === null || t === void 0) && t.skipBrowserRedirect) && window.location.assign(r?.url), this._returnResult({ data: { provider: e.provider, url: r?.url }, error: null }) } catch (r) { if (yn(r)) return this._returnResult({ data: { provider: e.provider, url: null }, error: r }); throw r } } async linkIdentityIdToken(e) { return await this._useSession(async t => { var r; try { const { error: i, data: { session: s } } = t; if (i) throw i; const { options: a, provider: o, token: A, access_token: u, nonce: f } = e, h = await jn(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, jwt: (r = s?.access_token) !== null && r !== void 0 ? r : void 0, body: { provider: o, id_token: A, access_token: u, nonce: f, link_identity: !0, gotrue_meta_security: { captcha_token: a?.captchaToken } }, xform: Dc }), { data: m, error: p } = h; return p ? this._returnResult({ data: { user: null, session: null }, error: p }) : !m || !m.session || !m.user ? this._returnResult({ data: { user: null, session: null }, error: new Lp }) : (m.session && (await this._saveSession(m.session), await this._notifyAllSubscribers("USER_UPDATED", m.session)), this._returnResult({ data: m, error: p })) } catch (i) { if (yn(i)) return this._returnResult({ data: { user: null, session: null }, error: i }); throw i } }) } async unlinkIdentity(e) { try { return await this._useSession(async t => { var r, i; const { data: s, error: a } = t; if (a) throw a; return await jn(this.fetch, "DELETE", `${this.url}/user/identities/${e.identity_id}`, { headers: this.headers, jwt: (i = (r = s.session) === null || r === void 0 ? void 0 : r.access_token) !== null && i !== void 0 ? i : void 0 }) }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } } async _refreshAccessToken(e) { const t = `#_refreshAccessToken(${e.substring(0, 5)}...)`; this._debug(t, "begin"); try { const r = Date.now(); return await Xj(async i => (i > 0 && await Jj(200 * Math.pow(2, i - 1)), this._debug(t, "refreshing attempt", i), await jn(this.fetch, "POST", `${this.url}/token?grant_type=refresh_token`, { body: { refresh_token: e }, headers: this.headers, xform: Dc })), (i, s) => { const a = 200 * Math.pow(2, i); return s && tx(s) && Date.now() + a - r < ng }) } catch (r) { if (this._debug(t, "error", r), yn(r)) return this._returnResult({ data: { session: null, user: null }, error: r }); throw r } finally { this._debug(t, "end") } } _isValidSession(e) { return typeof e == "object" && e !== null && "access_token" in e && "refresh_token" in e && "expires_at" in e } async _handleProviderSignIn(e, t) { const r = await this._getUrlForProvider(`${this.url}/authorize`, e, { redirectTo: t.redirectTo, scopes: t.scopes, queryParams: t.queryParams }); return this._debug("#_handleProviderSignIn()", "provider", e, "options", t, "url", r), Xo() && !t.skipBrowserRedirect && window.location.assign(r), { data: { provider: e, url: r }, error: null } } async _recoverAndRefresh() { var e, t; const r = "#_recoverAndRefresh()"; this._debug(r, "begin"); try { const i = await yh(this.storage, this.storageKey); if (i && this.userStorage) { let a = await yh(this.userStorage, this.storageKey + "-user"); !this.storage.isServer && Object.is(this.storage, this.userStorage) && !a && (a = { user: i.user }, await rg(this.userStorage, this.storageKey + "-user", a)), i.user = (e = a?.user) !== null && e !== void 0 ? e : rx() } else if (i && !i.user && !i.user) { const a = await yh(this.storage, this.storageKey + "-user"); a && a?.user ? (i.user = a.user, await Jf(this.storage, this.storageKey + "-user"), await rg(this.storage, this.storageKey, i)) : i.user = rx() } if (this._debug(r, "session from storage", i), !this._isValidSession(i)) { this._debug(r, "session is not valid"), i !== null && await this._removeSession(); return } const s = ((t = i.expires_at) !== null && t !== void 0 ? t : 1 / 0) * 1e3 - Date.now() < ex; if (this._debug(r, `session has${s ? "" : " not"} expired with margin of ${ex}s`), s) { if (this.autoRefreshToken && i.refresh_token) { const { error: a } = await this._callRefreshToken(i.refresh_token); a && (console.error(a), tx(a) || (this._debug(r, "refresh failed with a non-retryable error, removing the session", a), await this._removeSession())) } } else if (i.user && i.user.__isUserNotAvailableProxy === !0) try { const { data: a, error: o } = await this._getUser(i.access_token); !o && a?.user ? (i.user = a.user, await this._saveSession(i), await this._notifyAllSubscribers("SIGNED_IN", i)) : this._debug(r, "could not get user data, skipping SIGNED_IN notification") } catch (a) { console.error("Error getting user data:", a), this._debug(r, "error getting user data, skipping SIGNED_IN notification", a) } else await this._notifyAllSubscribers("SIGNED_IN", i) } catch (i) { this._debug(r, "error", i), console.error(i); return } finally { this._debug(r, "end") } } async _callRefreshToken(e) { var t, r; if (!e) throw new RA; if (this.refreshingDeferred) return this.refreshingDeferred.promise; const i = `#_callRefreshToken(${e.substring(0, 5)}...)`; this._debug(i, "begin"); try { this.refreshingDeferred = new rb; const { data: s, error: a } = await this._refreshAccessToken(e); if (a) throw a; if (!s.session) throw new RA; await this._saveSession(s.session), await this._notifyAllSubscribers("TOKEN_REFRESHED", s.session); const o = { data: s.session, error: null }; return this.refreshingDeferred.resolve(o), o } catch (s) { if (this._debug(i, "error", s), yn(s)) { const a = { data: null, error: s }; return tx(s) || await this._removeSession(), (t = this.refreshingDeferred) === null || t === void 0 || t.resolve(a), a } throw (r = this.refreshingDeferred) === null || r === void 0 || r.reject(s), s } finally { this.refreshingDeferred = null, this._debug(i, "end") } } async _notifyAllSubscribers(e, t, r = !0) { const i = `#_notifyAllSubscribers(${e})`; this._debug(i, "begin", t, `broadcast = ${r}`); try { this.broadcastChannel && r && this.broadcastChannel.postMessage({ event: e, session: t }); const s = [], a = Array.from(this.stateChangeEmitters.values()).map(async o => { try { await o.callback(e, t) } catch (A) { s.push(A) } }); if (await Promise.all(a), s.length > 0) { for (let o = 0; o < s.length; o += 1)console.error(s[o]); throw s[0] } } finally { this._debug(i, "end") } } async _saveSession(e) { this._debug("#_saveSession()", e), this.suppressGetSessionWarning = !0; const t = Object.assign({}, e), r = t.user && t.user.__isUserNotAvailableProxy === !0; if (this.userStorage) { !r && t.user && await rg(this.userStorage, this.storageKey + "-user", { user: t.user }); const i = Object.assign({}, t); delete i.user; const s = Y4(i); await rg(this.storage, this.storageKey, s) } else { const i = Y4(t); await rg(this.storage, this.storageKey, i) } } async _removeSession() { this._debug("#_removeSession()"), await Jf(this.storage, this.storageKey), await Jf(this.storage, this.storageKey + "-code-verifier"), await Jf(this.storage, this.storageKey + "-user"), this.userStorage && await Jf(this.userStorage, this.storageKey + "-user"), await this._notifyAllSubscribers("SIGNED_OUT", null) } _removeVisibilityChangedCallback() { this._debug("#_removeVisibilityChangedCallback()"); const e = this.visibilityChangedCallback; this.visibilityChangedCallback = null; try { e && Xo() && window?.removeEventListener && window.removeEventListener("visibilitychange", e) } catch (t) { console.error("removing visibilitychange callback failed", t) } } async _startAutoRefresh() { await this._stopAutoRefresh(), this._debug("#_startAutoRefresh()"); const e = setInterval(() => this._autoRefreshTokenTick(), ng); this.autoRefreshTicker = e, e && typeof e == "object" && typeof e.unref == "function" ? e.unref() : typeof Deno < "u" && typeof Deno.unrefTimer == "function" && Deno.unrefTimer(e), setTimeout(async () => { await this.initializePromise, await this._autoRefreshTokenTick() }, 0) } async _stopAutoRefresh() { this._debug("#_stopAutoRefresh()"); const e = this.autoRefreshTicker; this.autoRefreshTicker = null, e && clearInterval(e) } async startAutoRefresh() { this._removeVisibilityChangedCallback(), await this._startAutoRefresh() } async stopAutoRefresh() { this._removeVisibilityChangedCallback(), await this._stopAutoRefresh() } async _autoRefreshTokenTick() { this._debug("#_autoRefreshTokenTick()", "begin"); try { await this._acquireLock(0, async () => { try { const e = Date.now(); try { return await this._useSession(async t => { const { data: { session: r } } = t; if (!r || !r.refresh_token || !r.expires_at) { this._debug("#_autoRefreshTokenTick()", "no session"); return } const i = Math.floor((r.expires_at * 1e3 - e) / ng); this._debug("#_autoRefreshTokenTick()", `access token expires in ${i} ticks, a tick lasts ${ng}ms, refresh threshold is ${eC} ticks`), i <= eC && await this._callRefreshToken(r.refresh_token) }) } catch (t) { console.error("Auto refresh tick failed with error. This is likely a transient error.", t) } } finally { this._debug("#_autoRefreshTokenTick()", "end") } }) } catch (e) { if (e.isAcquireTimeout || e instanceof jU) this._debug("auto refresh token tick lock not available"); else throw e } } async _handleVisibilityChange() { if (this._debug("#_handleVisibilityChange()"), !Xo() || !window?.addEventListener) return this.autoRefreshToken && this.startAutoRefresh(), !1; try { this.visibilityChangedCallback = async () => await this._onVisibilityChanged(!1), window?.addEventListener("visibilitychange", this.visibilityChangedCallback), await this._onVisibilityChanged(!0) } catch (e) { console.error("_handleVisibilityChange", e) } } async _onVisibilityChanged(e) { const t = `#_onVisibilityChanged(${e})`; this._debug(t, "visibilityState", document.visibilityState), document.visibilityState === "visible" ? (this.autoRefreshToken && this._startAutoRefresh(), e || (await this.initializePromise, await this._acquireLock(-1, async () => { if (document.visibilityState !== "visible") { this._debug(t, "acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"); return } await this._recoverAndRefresh() }))) : document.visibilityState === "hidden" && this.autoRefreshToken && this._stopAutoRefresh() } async _getUrlForProvider(e, t, r) { const i = [`provider=${encodeURIComponent(t)}`]; if (r?.redirectTo && i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`), r?.scopes && i.push(`scopes=${encodeURIComponent(r.scopes)}`), this.flowType === "pkce") { const [s, a] = await Mp(this.storage, this.storageKey), o = new URLSearchParams({ code_challenge: `${encodeURIComponent(s)}`, code_challenge_method: `${encodeURIComponent(a)}` }); i.push(o.toString()) } if (r?.queryParams) { const s = new URLSearchParams(r.queryParams); i.push(s.toString()) } return r?.skipBrowserRedirect && i.push(`skip_http_redirect=${r.skipBrowserRedirect}`), `${e}?${i.join("&")}` } async _unenroll(e) { try { return await this._useSession(async t => { var r; const { data: i, error: s } = t; return s ? this._returnResult({ data: null, error: s }) : await jn(this.fetch, "DELETE", `${this.url}/factors/${e.factorId}`, { headers: this.headers, jwt: (r = i?.session) === null || r === void 0 ? void 0 : r.access_token }) }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } } async _enroll(e) { try { return await this._useSession(async t => { var r, i; const { data: s, error: a } = t; if (a) return this._returnResult({ data: null, error: a }); const o = Object.assign({ friendly_name: e.friendlyName, factor_type: e.factorType }, e.factorType === "phone" ? { phone: e.phone } : e.factorType === "totp" ? { issuer: e.issuer } : {}), { data: A, error: u } = await jn(this.fetch, "POST", `${this.url}/factors`, { body: o, headers: this.headers, jwt: (r = s?.session) === null || r === void 0 ? void 0 : r.access_token }); return u ? this._returnResult({ data: null, error: u }) : (e.factorType === "totp" && A.type === "totp" && (!((i = A?.totp) === null || i === void 0) && i.qr_code) && (A.totp.qr_code = `data:image/svg+xml;utf-8,${A.totp.qr_code}`), this._returnResult({ data: A, error: null })) }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } } async _verify(e) { return this._acquireLock(-1, async () => { try { return await this._useSession(async t => { var r; const { data: i, error: s } = t; if (s) return this._returnResult({ data: null, error: s }); const a = Object.assign({ challenge_id: e.challengeId }, "webauthn" in e ? { webauthn: Object.assign(Object.assign({}, e.webauthn), { credential_response: e.webauthn.type === "create" ? S7(e.webauthn.credential_response) : _7(e.webauthn.credential_response) }) } : { code: e.code }), { data: o, error: A } = await jn(this.fetch, "POST", `${this.url}/factors/${e.factorId}/verify`, { body: a, headers: this.headers, jwt: (r = i?.session) === null || r === void 0 ? void 0 : r.access_token }); return A ? this._returnResult({ data: null, error: A }) : (await this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1e3) + o.expires_in }, o)), await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED", o), this._returnResult({ data: o, error: A })) }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } }) } async _challenge(e) { return this._acquireLock(-1, async () => { try { return await this._useSession(async t => { var r; const { data: i, error: s } = t; if (s) return this._returnResult({ data: null, error: s }); const a = await jn(this.fetch, "POST", `${this.url}/factors/${e.factorId}/challenge`, { body: e, headers: this.headers, jwt: (r = i?.session) === null || r === void 0 ? void 0 : r.access_token }); if (a.error) return a; const { data: o } = a; if (o.type !== "webauthn") return { data: o, error: null }; switch (o.webauthn.type) { case "create": return { data: Object.assign(Object.assign({}, o), { webauthn: Object.assign(Object.assign({}, o.webauthn), { credential_options: Object.assign(Object.assign({}, o.webauthn.credential_options), { publicKey: C7(o.webauthn.credential_options.publicKey) }) }) }), error: null }; case "request": return { data: Object.assign(Object.assign({}, o), { webauthn: Object.assign(Object.assign({}, o.webauthn), { credential_options: Object.assign(Object.assign({}, o.webauthn.credential_options), { publicKey: E7(o.webauthn.credential_options.publicKey) }) }) }), error: null } } }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } }) } async _challengeAndVerify(e) { const { data: t, error: r } = await this._challenge({ factorId: e.factorId }); return r ? this._returnResult({ data: null, error: r }) : await this._verify({ factorId: e.factorId, challengeId: t.id, code: e.code }) } async _listFactors() { var e; const { data: { user: t }, error: r } = await this.getUser(); if (r) return { data: null, error: r }; const i = { all: [], phone: [], totp: [], webauthn: [] }; for (const s of (e = t?.factors) !== null && e !== void 0 ? e : []) i.all.push(s), s.status === "verified" && i[s.factor_type].push(s); return { data: i, error: null } } async _getAuthenticatorAssuranceLevel() { var e, t; const { data: { session: r }, error: i } = await this.getSession(); if (i) return this._returnResult({ data: null, error: i }); if (!r) return { data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] }, error: null }; const { payload: s } = nx(r.access_token); let a = null; s.aal && (a = s.aal); let o = a; ((t = (e = r.user.factors) === null || e === void 0 ? void 0 : e.filter(f => f.status === "verified")) !== null && t !== void 0 ? t : []).length > 0 && (o = "aal2"); const u = s.amr || []; return { data: { currentLevel: a, nextLevel: o, currentAuthenticationMethods: u }, error: null } } async _getAuthorizationDetails(e) { try { return await this._useSession(async t => { const { data: { session: r }, error: i } = t; return i ? this._returnResult({ data: null, error: i }) : r ? await jn(this.fetch, "GET", `${this.url}/oauth/authorizations/${e}`, { headers: this.headers, jwt: r.access_token, xform: s => ({ data: s, error: null }) }) : this._returnResult({ data: null, error: new RA }) }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } } async _approveAuthorization(e, t) { try { return await this._useSession(async r => { const { data: { session: i }, error: s } = r; if (s) return this._returnResult({ data: null, error: s }); if (!i) return this._returnResult({ data: null, error: new RA }); const a = await jn(this.fetch, "POST", `${this.url}/oauth/authorizations/${e}/consent`, { headers: this.headers, jwt: i.access_token, body: { action: "approve" }, xform: o => ({ data: o, error: null }) }); return a.data && a.data.redirect_url && Xo() && !t?.skipBrowserRedirect && window.location.assign(a.data.redirect_url), a }) } catch (r) { if (yn(r)) return this._returnResult({ data: null, error: r }); throw r } } async _denyAuthorization(e, t) { try { return await this._useSession(async r => { const { data: { session: i }, error: s } = r; if (s) return this._returnResult({ data: null, error: s }); if (!i) return this._returnResult({ data: null, error: new RA }); const a = await jn(this.fetch, "POST", `${this.url}/oauth/authorizations/${e}/consent`, { headers: this.headers, jwt: i.access_token, body: { action: "deny" }, xform: o => ({ data: o, error: null }) }); return a.data && a.data.redirect_url && Xo() && !t?.skipBrowserRedirect && window.location.assign(a.data.redirect_url), a }) } catch (r) { if (yn(r)) return this._returnResult({ data: null, error: r }); throw r } } async _listOAuthGrants() { try { return await this._useSession(async e => { const { data: { session: t }, error: r } = e; return r ? this._returnResult({ data: null, error: r }) : t ? await jn(this.fetch, "GET", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: t.access_token, xform: i => ({ data: i, error: null }) }) : this._returnResult({ data: null, error: new RA }) }) } catch (e) { if (yn(e)) return this._returnResult({ data: null, error: e }); throw e } } async _revokeOAuthGrant(e) { try { return await this._useSession(async t => { const { data: { session: r }, error: i } = t; return i ? this._returnResult({ data: null, error: i }) : r ? (await jn(this.fetch, "DELETE", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: r.access_token, query: { client_id: e.clientId }, noResolveJson: !0 }), { data: {}, error: null }) : this._returnResult({ data: null, error: new RA }) }) } catch (t) { if (yn(t)) return this._returnResult({ data: null, error: t }); throw t } } async fetchJwk(e, t = { keys: [] }) { let r = t.keys.find(o => o.kid === e); if (r) return r; const i = Date.now(); if (r = this.jwks.keys.find(o => o.kid === e), r && this.jwks_cached_at + Ij > i) return r; const { data: s, error: a } = await jn(this.fetch, "GET", `${this.url}/.well-known/jwks.json`, { headers: this.headers }); if (a) throw a; return !s.keys || s.keys.length === 0 || (this.jwks = s, this.jwks_cached_at = i, r = s.keys.find(o => o.kid === e), !r) ? null : r } async getClaims(e, t = {}) { try { let r = e; if (!r) { const { data: p, error: b } = await this.getSession(); if (b || !p.session) return this._returnResult({ data: null, error: b }); r = p.session.access_token } const { header: i, payload: s, signature: a, raw: { header: o, payload: A } } = nx(r); t?.allowExpired || r7(s.exp); const u = !i.alg || i.alg.startsWith("HS") || !i.kid || !("crypto" in globalThis && "subtle" in globalThis.crypto) ? null : await this.fetchJwk(i.kid, t?.keys ? { keys: t.keys } : t?.jwks); if (!u) { const { error: p } = await this.getUser(r); if (p) throw p; return { data: { claims: s, header: i, signature: a }, error: null } } const f = i7(i.alg), h = await crypto.subtle.importKey("jwk", u, f, !0, ["verify"]); if (!await crypto.subtle.verify(f, h, a, Kj(`${o}.${A}`))) throw new rC("Invalid JWT signature"); return { data: { claims: s, header: i, signature: a }, error: null } } catch (r) { if (yn(r)) return this._returnResult({ data: null, error: r }); throw r } }
} _0.nextInstanceID = {}; const L7 = _0; class M7 extends L7 { constructor(e) { super(e) } } class Q7 { constructor(e, t, r) { var i, s, a; this.supabaseUrl = e, this.supabaseKey = t; const o = Tj(e); if (!t) throw new Error("supabaseKey is required."); this.realtimeUrl = new URL("realtime/v1", o), this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace("http", "ws"), this.authUrl = new URL("auth/v1", o), this.storageUrl = new URL("storage/v1", o), this.functionsUrl = new URL("functions/v1", o); const A = `sb-${o.hostname.split(".")[0]}-auth-token`, u = { db: xj, realtime: Cj, auth: Object.assign(Object.assign({}, Bj), { storageKey: A }), global: bj }, f = kj(r ?? {}, u); this.storageKey = (i = f.auth.storageKey) !== null && i !== void 0 ? i : "", this.headers = (s = f.global.headers) !== null && s !== void 0 ? s : {}, f.accessToken ? (this.accessToken = f.accessToken, this.auth = new Proxy({}, { get: (h, m) => { throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`) } })) : this.auth = this._initSupabaseAuthClient((a = f.auth) !== null && a !== void 0 ? a : {}, this.headers, f.global.fetch), this.fetch = _j(t, this._getAccessToken.bind(this), f.global.fetch), this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers, accessToken: this._getAccessToken.bind(this) }, f.realtime)), this.accessToken && this.accessToken().then(h => this.realtime.setAuth(h)).catch(h => console.warn("Failed to set initial Realtime auth token:", h)), this.rest = new CH(new URL("rest/v1", o).href, { headers: this.headers, schema: f.db.schema, fetch: this.fetch }), this.storage = new vj(this.storageUrl.href, this.headers, this.fetch, r?.storage), f.accessToken || this._listenForAuthEvents() } get functions() { return new wH(this.functionsUrl.href, { headers: this.headers, customFetch: this.fetch }) } from(e) { return this.rest.from(e) } schema(e) { return this.rest.schema(e) } rpc(e, t = {}, r = { head: !1, get: !1, count: void 0 }) { return this.rest.rpc(e, t, r) } channel(e, t = { config: {} }) { return this.realtime.channel(e, t) } getChannels() { return this.realtime.getChannels() } removeChannel(e) { return this.realtime.removeChannel(e) } removeAllChannels() { return this.realtime.removeAllChannels() } async _getAccessToken() { var e, t; if (this.accessToken) return await this.accessToken(); const { data: r } = await this.auth.getSession(); return (t = (e = r.session) === null || e === void 0 ? void 0 : e.access_token) !== null && t !== void 0 ? t : this.supabaseKey } _initSupabaseAuthClient({ autoRefreshToken: e, persistSession: t, detectSessionInUrl: r, storage: i, userStorage: s, storageKey: a, flowType: o, lock: A, debug: u, throwOnError: f }, h, m) { const p = { Authorization: `Bearer ${this.supabaseKey}`, apikey: `${this.supabaseKey}` }; return new M7({ url: this.authUrl.href, headers: Object.assign(Object.assign({}, p), h), storageKey: a, autoRefreshToken: e, persistSession: t, detectSessionInUrl: r, storage: i, userStorage: s, flowType: o, lock: A, debug: u, throwOnError: f, fetch: m, hasCustomAuthorizationHeader: Object.keys(this.headers).some(b => b.toLowerCase() === "authorization") }) } _initRealtimeClient(e) { return new HH(this.realtimeUrl.href, Object.assign(Object.assign({}, e), { params: Object.assign({ apikey: this.supabaseKey }, e?.params) })) } _listenForAuthEvents() { return this.auth.onAuthStateChange((t, r) => { this._handleTokenChanged(t, "CLIENT", r?.access_token) }) } _handleTokenChanged(e, t, r) { (e === "TOKEN_REFRESHED" || e === "SIGNED_IN") && this.changedAccessToken !== r ? (this.changedAccessToken = r, this.realtime.setAuth(r)) : e === "SIGNED_OUT" && (this.realtime.setAuth(), t == "STORAGE" && this.auth.signOut(), this.changedAccessToken = void 0) } } const D7 = (n, e, t) => new Q7(n, e, t); function P7() { if (typeof window < "u" || typeof process > "u") return !1; const n = process.version; if (n == null) return !1; const e = n.match(/^v(\d+)\./); return e ? parseInt(e[1], 10) <= 18 : !1 } P7() && console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217"); const H7 = "https://atwywddjpvlacybbyamc.supabase.co", j7 = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF0d3l3ZGRqcHZsYWN5YmJ5YW1jIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MzgwNDEwOSwiZXhwIjoyMDY5MzgwMTA5fQ.5mOC-uyrPLveaSThGBZin0m0qlZMZKsCoo0oG-pKrBs", jt = D7(H7, j7), z7 = { async login(n, e) { const { data: t, error: r } = await jt.from("noose_user").select("*").eq("username", n).single(); return r || !t ? (console.error("Login failed:", r), null) : t.password !== e ? null : { id: t.id, username: t.username, matricule: t.matricule, rank: t.rank, division: t.division, clearance: t.clearance, permissions: t.permissions || [] } } }; function tN(n, e) { if (typeof n == "function") return n(e); n != null && (n.current = e) } function Ia(...n) { return e => { let t = !1; const r = n.map(i => { const s = tN(i, e); return !t && typeof s == "function" && (t = !0), s }); if (t) return () => { for (let i = 0; i < r.length; i++) { const s = r[i]; typeof s == "function" ? s() : tN(n[i], null) } } } } function is(...n) { return F.useCallback(Ia(...n), n) } var K7 = Symbol.for("react.lazy"), Q1 = O5[" use ".trim().toString()]; function V7(n) { return typeof n == "object" && n !== null && "then" in n } function VU(n) { return n != null && typeof n == "object" && "$$typeof" in n && n.$$typeof === K7 && "_payload" in n && V7(n._payload) } function GU(n) { const e = W7(n), t = F.forwardRef((r, i) => { let { children: s, ...a } = r; VU(s) && typeof Q1 == "function" && (s = Q1(s._payload)); const o = F.Children.toArray(s), A = o.find(J7); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } var G7 = GU("Slot"); function W7(n) { const e = F.forwardRef((t, r) => { let { children: i, ...s } = t; if (VU(i) && typeof Q1 == "function" && (i = Q1(i._payload)), F.isValidElement(i)) { const a = Z7(i), o = X7(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var Y7 = Symbol("radix.slottable"); function J7(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === Y7 } function X7(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function Z7(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } function WU(n) { var e, t, r = ""; if (typeof n == "string" || typeof n == "number") r += n; else if (typeof n == "object") if (Array.isArray(n)) { var i = n.length; for (e = 0; e < i; e++)n[e] && (t = WU(n[e])) && (r && (r += " "), r += t) } else for (t in n) n[t] && (r && (r += " "), r += t); return r } function YU() { for (var n, e, t = 0, r = "", i = arguments.length; t < i; t++)(n = arguments[t]) && (e = WU(n)) && (r && (r += " "), r += e); return r } const nN = n => typeof n == "boolean" ? `${n}` : n === 0 ? "0" : n, rN = YU, X5 = (n, e) => t => { var r; if (e?.variants == null) return rN(n, t?.class, t?.className); const { variants: i, defaultVariants: s } = e, a = Object.keys(i).map(u => { const f = t?.[u], h = s?.[u]; if (f === null) return null; const m = nN(f) || nN(h); return i[u][m] }), o = t && Object.entries(t).reduce((u, f) => { let [h, m] = f; return m === void 0 || (u[h] = m), u }, {}), A = e == null || (r = e.compoundVariants) === null || r === void 0 ? void 0 : r.reduce((u, f) => { let { class: h, className: m, ...p } = f; return Object.entries(p).every(b => { let [y, E] = b; return Array.isArray(E) ? E.includes({ ...s, ...o }[y]) : { ...s, ...o }[y] === E }) ? [...u, h, m] : u }, []); return rN(n, a, A, t?.class, t?.className) }, q7 = (n, e) => { const t = new Array(n.length + e.length); for (let r = 0; r < n.length; r++)t[r] = n[r]; for (let r = 0; r < e.length; r++)t[n.length + r] = e[r]; return t }, $7 = (n, e) => ({ classGroupId: n, validator: e }), JU = (n = new Map, e = null, t) => ({ nextPart: n, validators: e, classGroupId: t }), D1 = "-", iN = [], ez = "arbitrary..", tz = n => { const e = rz(n), { conflictingClassGroups: t, conflictingClassGroupModifiers: r } = n; return { getClassGroupId: a => { if (a.startsWith("[") && a.endsWith("]")) return nz(a); const o = a.split(D1), A = o[0] === "" && o.length > 1 ? 1 : 0; return XU(o, A, e) }, getConflictingClassGroupIds: (a, o) => { if (o) { const A = r[a], u = t[a]; return A ? u ? q7(u, A) : A : u || iN } return t[a] || iN } } }, XU = (n, e, t) => { if (n.length - e === 0) return t.classGroupId; const i = n[e], s = t.nextPart.get(i); if (s) { const u = XU(n, e + 1, s); if (u) return u } const a = t.validators; if (a === null) return; const o = e === 0 ? n.join(D1) : n.slice(e).join(D1), A = a.length; for (let u = 0; u < A; u++) { const f = a[u]; if (f.validator(o)) return f.classGroupId } }, nz = n => n.slice(1, -1).indexOf(":") === -1 ? void 0 : (() => { const e = n.slice(1, -1), t = e.indexOf(":"), r = e.slice(0, t); return r ? ez + r : void 0 })(), rz = n => { const { theme: e, classGroups: t } = n; return iz(t, e) }, iz = (n, e) => { const t = JU(); for (const r in n) { const i = n[r]; Z5(i, t, r, e) } return t }, Z5 = (n, e, t, r) => { const i = n.length; for (let s = 0; s < i; s++) { const a = n[s]; sz(a, e, t, r) } }, sz = (n, e, t, r) => { if (typeof n == "string") { az(n, e, t); return } if (typeof n == "function") { oz(n, e, t, r); return } lz(n, e, t, r) }, az = (n, e, t) => { const r = n === "" ? e : ZU(e, n); r.classGroupId = t }, oz = (n, e, t, r) => { if (Az(n)) { Z5(n(r), e, t, r); return } e.validators === null && (e.validators = []), e.validators.push($7(t, n)) }, lz = (n, e, t, r) => { const i = Object.entries(n), s = i.length; for (let a = 0; a < s; a++) { const [o, A] = i[a]; Z5(A, ZU(e, o), t, r) } }, ZU = (n, e) => { let t = n; const r = e.split(D1), i = r.length; for (let s = 0; s < i; s++) { const a = r[s]; let o = t.nextPart.get(a); o || (o = JU(), t.nextPart.set(a, o)), t = o } return t }, Az = n => "isThemeGetter" in n && n.isThemeGetter === !0, cz = n => { if (n < 1) return { get: () => { }, set: () => { } }; let e = 0, t = Object.create(null), r = Object.create(null); const i = (s, a) => { t[s] = a, e++, e > n && (e = 0, r = t, t = Object.create(null)) }; return { get(s) { let a = t[s]; if (a !== void 0) return a; if ((a = r[s]) !== void 0) return i(s, a), a }, set(s, a) { s in t ? t[s] = a : i(s, a) } } }, iC = "!", sN = ":", uz = [], aN = (n, e, t, r, i) => ({ modifiers: n, hasImportantModifier: e, baseClassName: t, maybePostfixModifierPosition: r, isExternal: i }), fz = n => { const { prefix: e, experimentalParseClassName: t } = n; let r = i => { const s = []; let a = 0, o = 0, A = 0, u; const f = i.length; for (let y = 0; y < f; y++) { const E = i[y]; if (a === 0 && o === 0) { if (E === sN) { s.push(i.slice(A, y)), A = y + 1; continue } if (E === "/") { u = y; continue } } E === "[" ? a++ : E === "]" ? a-- : E === "(" ? o++ : E === ")" && o-- } const h = s.length === 0 ? i : i.slice(A); let m = h, p = !1; h.endsWith(iC) ? (m = h.slice(0, -1), p = !0) : h.startsWith(iC) && (m = h.slice(1), p = !0); const b = u && u > A ? u - A : void 0; return aN(s, p, m, b) }; if (e) { const i = e + sN, s = r; r = a => a.startsWith(i) ? s(a.slice(i.length)) : aN(uz, !1, a, void 0, !0) } if (t) { const i = r; r = s => t({ className: s, parseClassName: i }) } return r }, dz = n => { const e = new Map; return n.orderSensitiveModifiers.forEach((t, r) => { e.set(t, 1e6 + r) }), t => { const r = []; let i = []; for (let s = 0; s < t.length; s++) { const a = t[s], o = a[0] === "[", A = e.has(a); o || A ? (i.length > 0 && (i.sort(), r.push(...i), i = []), r.push(a)) : i.push(a) } return i.length > 0 && (i.sort(), r.push(...i)), r } }, hz = n => ({ cache: cz(n.cacheSize), parseClassName: fz(n), sortModifiers: dz(n), ...tz(n) }), pz = /\s+/, gz = (n, e) => { const { parseClassName: t, getClassGroupId: r, getConflictingClassGroupIds: i, sortModifiers: s } = e, a = [], o = n.trim().split(pz); let A = ""; for (let u = o.length - 1; u >= 0; u -= 1) { const f = o[u], { isExternal: h, modifiers: m, hasImportantModifier: p, baseClassName: b, maybePostfixModifierPosition: y } = t(f); if (h) { A = f + (A.length > 0 ? " " + A : A); continue } let E = !!y, _ = r(E ? b.substring(0, y) : b); if (!_) { if (!E) { A = f + (A.length > 0 ? " " + A : A); continue } if (_ = r(b), !_) { A = f + (A.length > 0 ? " " + A : A); continue } E = !1 } const O = m.length === 0 ? "" : m.length === 1 ? m[0] : s(m).join(":"), I = p ? O + iC : O, D = I + _; if (a.indexOf(D) > -1) continue; a.push(D); const z = i(_, E); for (let X = 0; X < z.length; ++X) { const q = z[X]; a.push(I + q) } A = f + (A.length > 0 ? " " + A : A) } return A }, mz = (...n) => { let e = 0, t, r, i = ""; for (; e < n.length;)(t = n[e++]) && (r = qU(t)) && (i && (i += " "), i += r); return i }, qU = n => { if (typeof n == "string") return n; let e, t = ""; for (let r = 0; r < n.length; r++)n[r] && (e = qU(n[r])) && (t && (t += " "), t += e); return t }, vz = (n, ...e) => { let t, r, i, s; const a = A => { const u = e.reduce((f, h) => h(f), n()); return t = hz(u), r = t.cache.get, i = t.cache.set, s = o, o(A) }, o = A => { const u = r(A); if (u) return u; const f = gz(A, t); return i(A, f), f }; return s = a, (...A) => s(mz(...A)) }, yz = [], Ya = n => { const e = t => t[n] || yz; return e.isThemeGetter = !0, e }, $U = /^\[(?:(\w[\w-]*):)?(.+)\]$/i, eO = /^\((?:(\w[\w-]*):)?(.+)\)$/i, wz = /^\d+\/\d+$/, bz = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/, xz = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/, Bz = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/, Cz = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/, Ez = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/, Hp = n => wz.test(n), br = n => !!n && !Number.isNaN(Number(n)), Xf = n => !!n && Number.isInteger(Number(n)), sx = n => n.endsWith("%") && br(n.slice(0, -1)), Zu = n => bz.test(n), Sz = () => !0, _z = n => xz.test(n) && !Bz.test(n), tO = () => !1, Nz = n => Cz.test(n), kz = n => Ez.test(n), Tz = n => !ln(n) && !An(n), Fz = n => Vg(n, iO, tO), ln = n => $U.test(n), wh = n => Vg(n, sO, _z), ax = n => Vg(n, Lz, br), oN = n => Vg(n, nO, tO), Uz = n => Vg(n, rO, kz), dy = n => Vg(n, aO, Nz), An = n => eO.test(n), Om = n => Gg(n, sO), Oz = n => Gg(n, Mz), lN = n => Gg(n, nO), Rz = n => Gg(n, iO), Iz = n => Gg(n, rO), hy = n => Gg(n, aO, !0), Vg = (n, e, t) => { const r = $U.exec(n); return r ? r[1] ? e(r[1]) : t(r[2]) : !1 }, Gg = (n, e, t = !1) => { const r = eO.exec(n); return r ? r[1] ? e(r[1]) : t : !1 }, nO = n => n === "position" || n === "percentage", rO = n => n === "image" || n === "url", iO = n => n === "length" || n === "size" || n === "bg-size", sO = n => n === "length", Lz = n => n === "number", Mz = n => n === "family-name", aO = n => n === "shadow", Qz = () => { const n = Ya("color"), e = Ya("font"), t = Ya("text"), r = Ya("font-weight"), i = Ya("tracking"), s = Ya("leading"), a = Ya("breakpoint"), o = Ya("container"), A = Ya("spacing"), u = Ya("radius"), f = Ya("shadow"), h = Ya("inset-shadow"), m = Ya("text-shadow"), p = Ya("drop-shadow"), b = Ya("blur"), y = Ya("perspective"), E = Ya("aspect"), _ = Ya("ease"), O = Ya("animate"), I = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"], D = () => ["center", "top", "bottom", "left", "right", "top-left", "left-top", "top-right", "right-top", "bottom-right", "right-bottom", "bottom-left", "left-bottom"], z = () => [...D(), An, ln], X = () => ["auto", "hidden", "clip", "visible", "scroll"], q = () => ["auto", "contain", "none"], W = () => [An, ln, A], G = () => [Hp, "full", "auto", ...W()], fe = () => [Xf, "none", "subgrid", An, ln], ne = () => ["auto", { span: ["full", Xf, An, ln] }, Xf, An, ln], V = () => [Xf, "auto", An, ln], se = () => ["auto", "min", "max", "fr", An, ln], M = () => ["start", "end", "center", "between", "around", "evenly", "stretch", "baseline", "center-safe", "end-safe"], pe = () => ["start", "end", "center", "stretch", "center-safe", "end-safe"], Z = () => ["auto", ...W()], ae = () => [Hp, "auto", "full", "dvw", "dvh", "lvw", "lvh", "svw", "svh", "min", "max", "fit", ...W()], me = () => [n, An, ln], ke = () => [...D(), lN, oN, { position: [An, ln] }], Ce = () => ["no-repeat", { repeat: ["", "x", "y", "space", "round"] }], j = () => ["auto", "cover", "contain", Rz, Fz, { size: [An, ln] }], L = () => [sx, Om, wh], re = () => ["", "none", "full", u, An, ln], ie = () => ["", br, Om, wh], oe = () => ["solid", "dashed", "dotted", "double"], de = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"], Be = () => [br, sx, lN, oN], Re = () => ["", "none", b, An, ln], Ie = () => ["none", br, An, ln], Ye = () => ["none", br, An, ln], $e = () => [br, An, ln], yt = () => [Hp, "full", ...W()]; return { cacheSize: 500, theme: { animate: ["spin", "ping", "pulse", "bounce"], aspect: ["video"], blur: [Zu], breakpoint: [Zu], color: [Sz], container: [Zu], "drop-shadow": [Zu], ease: ["in", "out", "in-out"], font: [Tz], "font-weight": ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black"], "inset-shadow": [Zu], leading: ["none", "tight", "snug", "normal", "relaxed", "loose"], perspective: ["dramatic", "near", "normal", "midrange", "distant", "none"], radius: [Zu], shadow: [Zu], spacing: ["px", br], text: [Zu], "text-shadow": [Zu], tracking: ["tighter", "tight", "normal", "wide", "wider", "widest"] }, classGroups: { aspect: [{ aspect: ["auto", "square", Hp, ln, An, E] }], container: ["container"], columns: [{ columns: [br, ln, An, o] }], "break-after": [{ "break-after": I() }], "break-before": [{ "break-before": I() }], "break-inside": [{ "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"] }], "box-decoration": [{ "box-decoration": ["slice", "clone"] }], box: [{ box: ["border", "content"] }], display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"], sr: ["sr-only", "not-sr-only"], float: [{ float: ["right", "left", "none", "start", "end"] }], clear: [{ clear: ["left", "right", "both", "none", "start", "end"] }], isolation: ["isolate", "isolation-auto"], "object-fit": [{ object: ["contain", "cover", "fill", "none", "scale-down"] }], "object-position": [{ object: z() }], overflow: [{ overflow: X() }], "overflow-x": [{ "overflow-x": X() }], "overflow-y": [{ "overflow-y": X() }], overscroll: [{ overscroll: q() }], "overscroll-x": [{ "overscroll-x": q() }], "overscroll-y": [{ "overscroll-y": q() }], position: ["static", "fixed", "absolute", "relative", "sticky"], inset: [{ inset: G() }], "inset-x": [{ "inset-x": G() }], "inset-y": [{ "inset-y": G() }], start: [{ start: G() }], end: [{ end: G() }], top: [{ top: G() }], right: [{ right: G() }], bottom: [{ bottom: G() }], left: [{ left: G() }], visibility: ["visible", "invisible", "collapse"], z: [{ z: [Xf, "auto", An, ln] }], basis: [{ basis: [Hp, "full", "auto", o, ...W()] }], "flex-direction": [{ flex: ["row", "row-reverse", "col", "col-reverse"] }], "flex-wrap": [{ flex: ["nowrap", "wrap", "wrap-reverse"] }], flex: [{ flex: [br, Hp, "auto", "initial", "none", ln] }], grow: [{ grow: ["", br, An, ln] }], shrink: [{ shrink: ["", br, An, ln] }], order: [{ order: [Xf, "first", "last", "none", An, ln] }], "grid-cols": [{ "grid-cols": fe() }], "col-start-end": [{ col: ne() }], "col-start": [{ "col-start": V() }], "col-end": [{ "col-end": V() }], "grid-rows": [{ "grid-rows": fe() }], "row-start-end": [{ row: ne() }], "row-start": [{ "row-start": V() }], "row-end": [{ "row-end": V() }], "grid-flow": [{ "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"] }], "auto-cols": [{ "auto-cols": se() }], "auto-rows": [{ "auto-rows": se() }], gap: [{ gap: W() }], "gap-x": [{ "gap-x": W() }], "gap-y": [{ "gap-y": W() }], "justify-content": [{ justify: [...M(), "normal"] }], "justify-items": [{ "justify-items": [...pe(), "normal"] }], "justify-self": [{ "justify-self": ["auto", ...pe()] }], "align-content": [{ content: ["normal", ...M()] }], "align-items": [{ items: [...pe(), { baseline: ["", "last"] }] }], "align-self": [{ self: ["auto", ...pe(), { baseline: ["", "last"] }] }], "place-content": [{ "place-content": M() }], "place-items": [{ "place-items": [...pe(), "baseline"] }], "place-self": [{ "place-self": ["auto", ...pe()] }], p: [{ p: W() }], px: [{ px: W() }], py: [{ py: W() }], ps: [{ ps: W() }], pe: [{ pe: W() }], pt: [{ pt: W() }], pr: [{ pr: W() }], pb: [{ pb: W() }], pl: [{ pl: W() }], m: [{ m: Z() }], mx: [{ mx: Z() }], my: [{ my: Z() }], ms: [{ ms: Z() }], me: [{ me: Z() }], mt: [{ mt: Z() }], mr: [{ mr: Z() }], mb: [{ mb: Z() }], ml: [{ ml: Z() }], "space-x": [{ "space-x": W() }], "space-x-reverse": ["space-x-reverse"], "space-y": [{ "space-y": W() }], "space-y-reverse": ["space-y-reverse"], size: [{ size: ae() }], w: [{ w: [o, "screen", ...ae()] }], "min-w": [{ "min-w": [o, "screen", "none", ...ae()] }], "max-w": [{ "max-w": [o, "screen", "none", "prose", { screen: [a] }, ...ae()] }], h: [{ h: ["screen", "lh", ...ae()] }], "min-h": [{ "min-h": ["screen", "lh", "none", ...ae()] }], "max-h": [{ "max-h": ["screen", "lh", ...ae()] }], "font-size": [{ text: ["base", t, Om, wh] }], "font-smoothing": ["antialiased", "subpixel-antialiased"], "font-style": ["italic", "not-italic"], "font-weight": [{ font: [r, An, ax] }], "font-stretch": [{ "font-stretch": ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded", sx, ln] }], "font-family": [{ font: [Oz, ln, e] }], "fvn-normal": ["normal-nums"], "fvn-ordinal": ["ordinal"], "fvn-slashed-zero": ["slashed-zero"], "fvn-figure": ["lining-nums", "oldstyle-nums"], "fvn-spacing": ["proportional-nums", "tabular-nums"], "fvn-fraction": ["diagonal-fractions", "stacked-fractions"], tracking: [{ tracking: [i, An, ln] }], "line-clamp": [{ "line-clamp": [br, "none", An, ax] }], leading: [{ leading: [s, ...W()] }], "list-image": [{ "list-image": ["none", An, ln] }], "list-style-position": [{ list: ["inside", "outside"] }], "list-style-type": [{ list: ["disc", "decimal", "none", An, ln] }], "text-alignment": [{ text: ["left", "center", "right", "justify", "start", "end"] }], "placeholder-color": [{ placeholder: me() }], "text-color": [{ text: me() }], "text-decoration": ["underline", "overline", "line-through", "no-underline"], "text-decoration-style": [{ decoration: [...oe(), "wavy"] }], "text-decoration-thickness": [{ decoration: [br, "from-font", "auto", An, wh] }], "text-decoration-color": [{ decoration: me() }], "underline-offset": [{ "underline-offset": [br, "auto", An, ln] }], "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"], "text-overflow": ["truncate", "text-ellipsis", "text-clip"], "text-wrap": [{ text: ["wrap", "nowrap", "balance", "pretty"] }], indent: [{ indent: W() }], "vertical-align": [{ align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", An, ln] }], whitespace: [{ whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"] }], break: [{ break: ["normal", "words", "all", "keep"] }], wrap: [{ wrap: ["break-word", "anywhere", "normal"] }], hyphens: [{ hyphens: ["none", "manual", "auto"] }], content: [{ content: ["none", An, ln] }], "bg-attachment": [{ bg: ["fixed", "local", "scroll"] }], "bg-clip": [{ "bg-clip": ["border", "padding", "content", "text"] }], "bg-origin": [{ "bg-origin": ["border", "padding", "content"] }], "bg-position": [{ bg: ke() }], "bg-repeat": [{ bg: Ce() }], "bg-size": [{ bg: j() }], "bg-image": [{ bg: ["none", { linear: [{ to: ["t", "tr", "r", "br", "b", "bl", "l", "tl"] }, Xf, An, ln], radial: ["", An, ln], conic: [Xf, An, ln] }, Iz, Uz] }], "bg-color": [{ bg: me() }], "gradient-from-pos": [{ from: L() }], "gradient-via-pos": [{ via: L() }], "gradient-to-pos": [{ to: L() }], "gradient-from": [{ from: me() }], "gradient-via": [{ via: me() }], "gradient-to": [{ to: me() }], rounded: [{ rounded: re() }], "rounded-s": [{ "rounded-s": re() }], "rounded-e": [{ "rounded-e": re() }], "rounded-t": [{ "rounded-t": re() }], "rounded-r": [{ "rounded-r": re() }], "rounded-b": [{ "rounded-b": re() }], "rounded-l": [{ "rounded-l": re() }], "rounded-ss": [{ "rounded-ss": re() }], "rounded-se": [{ "rounded-se": re() }], "rounded-ee": [{ "rounded-ee": re() }], "rounded-es": [{ "rounded-es": re() }], "rounded-tl": [{ "rounded-tl": re() }], "rounded-tr": [{ "rounded-tr": re() }], "rounded-br": [{ "rounded-br": re() }], "rounded-bl": [{ "rounded-bl": re() }], "border-w": [{ border: ie() }], "border-w-x": [{ "border-x": ie() }], "border-w-y": [{ "border-y": ie() }], "border-w-s": [{ "border-s": ie() }], "border-w-e": [{ "border-e": ie() }], "border-w-t": [{ "border-t": ie() }], "border-w-r": [{ "border-r": ie() }], "border-w-b": [{ "border-b": ie() }], "border-w-l": [{ "border-l": ie() }], "divide-x": [{ "divide-x": ie() }], "divide-x-reverse": ["divide-x-reverse"], "divide-y": [{ "divide-y": ie() }], "divide-y-reverse": ["divide-y-reverse"], "border-style": [{ border: [...oe(), "hidden", "none"] }], "divide-style": [{ divide: [...oe(), "hidden", "none"] }], "border-color": [{ border: me() }], "border-color-x": [{ "border-x": me() }], "border-color-y": [{ "border-y": me() }], "border-color-s": [{ "border-s": me() }], "border-color-e": [{ "border-e": me() }], "border-color-t": [{ "border-t": me() }], "border-color-r": [{ "border-r": me() }], "border-color-b": [{ "border-b": me() }], "border-color-l": [{ "border-l": me() }], "divide-color": [{ divide: me() }], "outline-style": [{ outline: [...oe(), "none", "hidden"] }], "outline-offset": [{ "outline-offset": [br, An, ln] }], "outline-w": [{ outline: ["", br, Om, wh] }], "outline-color": [{ outline: me() }], shadow: [{ shadow: ["", "none", f, hy, dy] }], "shadow-color": [{ shadow: me() }], "inset-shadow": [{ "inset-shadow": ["none", h, hy, dy] }], "inset-shadow-color": [{ "inset-shadow": me() }], "ring-w": [{ ring: ie() }], "ring-w-inset": ["ring-inset"], "ring-color": [{ ring: me() }], "ring-offset-w": [{ "ring-offset": [br, wh] }], "ring-offset-color": [{ "ring-offset": me() }], "inset-ring-w": [{ "inset-ring": ie() }], "inset-ring-color": [{ "inset-ring": me() }], "text-shadow": [{ "text-shadow": ["none", m, hy, dy] }], "text-shadow-color": [{ "text-shadow": me() }], opacity: [{ opacity: [br, An, ln] }], "mix-blend": [{ "mix-blend": [...de(), "plus-darker", "plus-lighter"] }], "bg-blend": [{ "bg-blend": de() }], "mask-clip": [{ "mask-clip": ["border", "padding", "content", "fill", "stroke", "view"] }, "mask-no-clip"], "mask-composite": [{ mask: ["add", "subtract", "intersect", "exclude"] }], "mask-image-linear-pos": [{ "mask-linear": [br] }], "mask-image-linear-from-pos": [{ "mask-linear-from": Be() }], "mask-image-linear-to-pos": [{ "mask-linear-to": Be() }], "mask-image-linear-from-color": [{ "mask-linear-from": me() }], "mask-image-linear-to-color": [{ "mask-linear-to": me() }], "mask-image-t-from-pos": [{ "mask-t-from": Be() }], "mask-image-t-to-pos": [{ "mask-t-to": Be() }], "mask-image-t-from-color": [{ "mask-t-from": me() }], "mask-image-t-to-color": [{ "mask-t-to": me() }], "mask-image-r-from-pos": [{ "mask-r-from": Be() }], "mask-image-r-to-pos": [{ "mask-r-to": Be() }], "mask-image-r-from-color": [{ "mask-r-from": me() }], "mask-image-r-to-color": [{ "mask-r-to": me() }], "mask-image-b-from-pos": [{ "mask-b-from": Be() }], "mask-image-b-to-pos": [{ "mask-b-to": Be() }], "mask-image-b-from-color": [{ "mask-b-from": me() }], "mask-image-b-to-color": [{ "mask-b-to": me() }], "mask-image-l-from-pos": [{ "mask-l-from": Be() }], "mask-image-l-to-pos": [{ "mask-l-to": Be() }], "mask-image-l-from-color": [{ "mask-l-from": me() }], "mask-image-l-to-color": [{ "mask-l-to": me() }], "mask-image-x-from-pos": [{ "mask-x-from": Be() }], "mask-image-x-to-pos": [{ "mask-x-to": Be() }], "mask-image-x-from-color": [{ "mask-x-from": me() }], "mask-image-x-to-color": [{ "mask-x-to": me() }], "mask-image-y-from-pos": [{ "mask-y-from": Be() }], "mask-image-y-to-pos": [{ "mask-y-to": Be() }], "mask-image-y-from-color": [{ "mask-y-from": me() }], "mask-image-y-to-color": [{ "mask-y-to": me() }], "mask-image-radial": [{ "mask-radial": [An, ln] }], "mask-image-radial-from-pos": [{ "mask-radial-from": Be() }], "mask-image-radial-to-pos": [{ "mask-radial-to": Be() }], "mask-image-radial-from-color": [{ "mask-radial-from": me() }], "mask-image-radial-to-color": [{ "mask-radial-to": me() }], "mask-image-radial-shape": [{ "mask-radial": ["circle", "ellipse"] }], "mask-image-radial-size": [{ "mask-radial": [{ closest: ["side", "corner"], farthest: ["side", "corner"] }] }], "mask-image-radial-pos": [{ "mask-radial-at": D() }], "mask-image-conic-pos": [{ "mask-conic": [br] }], "mask-image-conic-from-pos": [{ "mask-conic-from": Be() }], "mask-image-conic-to-pos": [{ "mask-conic-to": Be() }], "mask-image-conic-from-color": [{ "mask-conic-from": me() }], "mask-image-conic-to-color": [{ "mask-conic-to": me() }], "mask-mode": [{ mask: ["alpha", "luminance", "match"] }], "mask-origin": [{ "mask-origin": ["border", "padding", "content", "fill", "stroke", "view"] }], "mask-position": [{ mask: ke() }], "mask-repeat": [{ mask: Ce() }], "mask-size": [{ mask: j() }], "mask-type": [{ "mask-type": ["alpha", "luminance"] }], "mask-image": [{ mask: ["none", An, ln] }], filter: [{ filter: ["", "none", An, ln] }], blur: [{ blur: Re() }], brightness: [{ brightness: [br, An, ln] }], contrast: [{ contrast: [br, An, ln] }], "drop-shadow": [{ "drop-shadow": ["", "none", p, hy, dy] }], "drop-shadow-color": [{ "drop-shadow": me() }], grayscale: [{ grayscale: ["", br, An, ln] }], "hue-rotate": [{ "hue-rotate": [br, An, ln] }], invert: [{ invert: ["", br, An, ln] }], saturate: [{ saturate: [br, An, ln] }], sepia: [{ sepia: ["", br, An, ln] }], "backdrop-filter": [{ "backdrop-filter": ["", "none", An, ln] }], "backdrop-blur": [{ "backdrop-blur": Re() }], "backdrop-brightness": [{ "backdrop-brightness": [br, An, ln] }], "backdrop-contrast": [{ "backdrop-contrast": [br, An, ln] }], "backdrop-grayscale": [{ "backdrop-grayscale": ["", br, An, ln] }], "backdrop-hue-rotate": [{ "backdrop-hue-rotate": [br, An, ln] }], "backdrop-invert": [{ "backdrop-invert": ["", br, An, ln] }], "backdrop-opacity": [{ "backdrop-opacity": [br, An, ln] }], "backdrop-saturate": [{ "backdrop-saturate": [br, An, ln] }], "backdrop-sepia": [{ "backdrop-sepia": ["", br, An, ln] }], "border-collapse": [{ border: ["collapse", "separate"] }], "border-spacing": [{ "border-spacing": W() }], "border-spacing-x": [{ "border-spacing-x": W() }], "border-spacing-y": [{ "border-spacing-y": W() }], "table-layout": [{ table: ["auto", "fixed"] }], caption: [{ caption: ["top", "bottom"] }], transition: [{ transition: ["", "all", "colors", "opacity", "shadow", "transform", "none", An, ln] }], "transition-behavior": [{ transition: ["normal", "discrete"] }], duration: [{ duration: [br, "initial", An, ln] }], ease: [{ ease: ["linear", "initial", _, An, ln] }], delay: [{ delay: [br, An, ln] }], animate: [{ animate: ["none", O, An, ln] }], backface: [{ backface: ["hidden", "visible"] }], perspective: [{ perspective: [y, An, ln] }], "perspective-origin": [{ "perspective-origin": z() }], rotate: [{ rotate: Ie() }], "rotate-x": [{ "rotate-x": Ie() }], "rotate-y": [{ "rotate-y": Ie() }], "rotate-z": [{ "rotate-z": Ie() }], scale: [{ scale: Ye() }], "scale-x": [{ "scale-x": Ye() }], "scale-y": [{ "scale-y": Ye() }], "scale-z": [{ "scale-z": Ye() }], "scale-3d": ["scale-3d"], skew: [{ skew: $e() }], "skew-x": [{ "skew-x": $e() }], "skew-y": [{ "skew-y": $e() }], transform: [{ transform: [An, ln, "", "none", "gpu", "cpu"] }], "transform-origin": [{ origin: z() }], "transform-style": [{ transform: ["3d", "flat"] }], translate: [{ translate: yt() }], "translate-x": [{ "translate-x": yt() }], "translate-y": [{ "translate-y": yt() }], "translate-z": [{ "translate-z": yt() }], "translate-none": ["translate-none"], accent: [{ accent: me() }], appearance: [{ appearance: ["none", "auto"] }], "caret-color": [{ caret: me() }], "color-scheme": [{ scheme: ["normal", "dark", "light", "light-dark", "only-dark", "only-light"] }], cursor: [{ cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", An, ln] }], "field-sizing": [{ "field-sizing": ["fixed", "content"] }], "pointer-events": [{ "pointer-events": ["auto", "none"] }], resize: [{ resize: ["none", "", "y", "x"] }], "scroll-behavior": [{ scroll: ["auto", "smooth"] }], "scroll-m": [{ "scroll-m": W() }], "scroll-mx": [{ "scroll-mx": W() }], "scroll-my": [{ "scroll-my": W() }], "scroll-ms": [{ "scroll-ms": W() }], "scroll-me": [{ "scroll-me": W() }], "scroll-mt": [{ "scroll-mt": W() }], "scroll-mr": [{ "scroll-mr": W() }], "scroll-mb": [{ "scroll-mb": W() }], "scroll-ml": [{ "scroll-ml": W() }], "scroll-p": [{ "scroll-p": W() }], "scroll-px": [{ "scroll-px": W() }], "scroll-py": [{ "scroll-py": W() }], "scroll-ps": [{ "scroll-ps": W() }], "scroll-pe": [{ "scroll-pe": W() }], "scroll-pt": [{ "scroll-pt": W() }], "scroll-pr": [{ "scroll-pr": W() }], "scroll-pb": [{ "scroll-pb": W() }], "scroll-pl": [{ "scroll-pl": W() }], "snap-align": [{ snap: ["start", "end", "center", "align-none"] }], "snap-stop": [{ snap: ["normal", "always"] }], "snap-type": [{ snap: ["none", "x", "y", "both"] }], "snap-strictness": [{ snap: ["mandatory", "proximity"] }], touch: [{ touch: ["auto", "none", "manipulation"] }], "touch-x": [{ "touch-pan": ["x", "left", "right"] }], "touch-y": [{ "touch-pan": ["y", "up", "down"] }], "touch-pz": ["touch-pinch-zoom"], select: [{ select: ["none", "text", "all", "auto"] }], "will-change": [{ "will-change": ["auto", "scroll", "contents", "transform", An, ln] }], fill: [{ fill: ["none", ...me()] }], "stroke-w": [{ stroke: [br, Om, wh, ax] }], stroke: [{ stroke: ["none", ...me()] }], "forced-color-adjust": [{ "forced-color-adjust": ["auto", "none"] }] }, conflictingClassGroups: { overflow: ["overflow-x", "overflow-y"], overscroll: ["overscroll-x", "overscroll-y"], inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"], "inset-x": ["right", "left"], "inset-y": ["top", "bottom"], flex: ["basis", "grow", "shrink"], gap: ["gap-x", "gap-y"], p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"], px: ["pr", "pl"], py: ["pt", "pb"], m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"], mx: ["mr", "ml"], my: ["mt", "mb"], size: ["w", "h"], "font-size": ["leading"], "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"], "fvn-ordinal": ["fvn-normal"], "fvn-slashed-zero": ["fvn-normal"], "fvn-figure": ["fvn-normal"], "fvn-spacing": ["fvn-normal"], "fvn-fraction": ["fvn-normal"], "line-clamp": ["display", "overflow"], rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"], "rounded-s": ["rounded-ss", "rounded-es"], "rounded-e": ["rounded-se", "rounded-ee"], "rounded-t": ["rounded-tl", "rounded-tr"], "rounded-r": ["rounded-tr", "rounded-br"], "rounded-b": ["rounded-br", "rounded-bl"], "rounded-l": ["rounded-tl", "rounded-bl"], "border-spacing": ["border-spacing-x", "border-spacing-y"], "border-w": ["border-w-x", "border-w-y", "border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"], "border-w-x": ["border-w-r", "border-w-l"], "border-w-y": ["border-w-t", "border-w-b"], "border-color": ["border-color-x", "border-color-y", "border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"], "border-color-x": ["border-color-r", "border-color-l"], "border-color-y": ["border-color-t", "border-color-b"], translate: ["translate-x", "translate-y", "translate-none"], "translate-none": ["translate", "translate-x", "translate-y", "translate-z"], "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"], "scroll-mx": ["scroll-mr", "scroll-ml"], "scroll-my": ["scroll-mt", "scroll-mb"], "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"], "scroll-px": ["scroll-pr", "scroll-pl"], "scroll-py": ["scroll-pt", "scroll-pb"], touch: ["touch-x", "touch-y", "touch-pz"], "touch-x": ["touch"], "touch-y": ["touch"], "touch-pz": ["touch"] }, conflictingClassGroupModifiers: { "font-size": ["leading"] }, orderSensitiveModifiers: ["*", "**", "after", "backdrop", "before", "details-content", "file", "first-letter", "first-line", "marker", "placeholder", "selection"] } }, Dz = vz(Qz); function Dn(...n) { return Dz(YU(n)) } const Pz = X5("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50", { variants: { variant: { default: "bg-primary text-primary-foreground hover:bg-primary/90", destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90", outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground", secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80", ghost: "hover:bg-accent hover:text-accent-foreground", link: "text-primary underline-offset-4 hover:underline" }, size: { default: "h-10 px-4 py-2", sm: "h-9 rounded-md px-3", lg: "h-11 rounded-md px-8", icon: "h-10 w-10" } }, defaultVariants: { variant: "default", size: "default" } }), Vt = F.forwardRef(({ className: n, variant: e, size: t, asChild: r = !1, ...i }, s) => { const a = r ? G7 : "button"; return g.jsx(a, { className: Dn(Pz({ variant: e, size: t, className: n })), ref: s, ...i }) }); Vt.displayName = "Button"; const xr = F.forwardRef(({ className: n, type: e, ...t }, r) => g.jsx("input", { type: e, className: Dn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", n), ref: r, ...t })); xr.displayName = "Input"; var Hz = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], bf = Hz.reduce((n, e) => { const t = GU(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), jz = "Label", oO = F.forwardRef((n, e) => g.jsx(bf.label, { ...n, ref: e, onMouseDown: t => { t.target.closest("button, input, select, textarea") || (n.onMouseDown?.(t), !t.defaultPrevented && t.detail > 1 && t.preventDefault()) } })); oO.displayName = jz; var lO = oO; const zz = X5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"), Cn = F.forwardRef(({ className: n, ...e }, t) => g.jsx(lO, { ref: t, className: Dn(zz(), n), ...e })); Cn.displayName = lO.displayName; const bs = F.forwardRef(({ className: n, ...e }, t) => g.jsx("div", { ref: t, className: Dn("rounded-lg border bg-card text-card-foreground shadow-sm", n), ...e })); bs.displayName = "Card"; const Ua = F.forwardRef(({ className: n, ...e }, t) => g.jsx("div", { ref: t, className: Dn("flex flex-col space-y-1.5 p-6", n), ...e })); Ua.displayName = "CardHeader"; const Oa = F.forwardRef(({ className: n, ...e }, t) => g.jsx("h3", { ref: t, className: Dn("text-2xl font-semibold leading-none tracking-tight", n), ...e })); Oa.displayName = "CardTitle"; const q5 = F.forwardRef(({ className: n, ...e }, t) => g.jsx("p", { ref: t, className: Dn("text-sm text-muted-foreground", n), ...e })); q5.displayName = "CardDescription"; const xs = F.forwardRef(({ className: n, ...e }, t) => g.jsx("div", { ref: t, className: Dn("p-6 pt-0", n), ...e })); xs.displayName = "CardContent"; const AO = F.forwardRef(({ className: n, ...e }, t) => g.jsx("div", { ref: t, className: Dn("flex items-center p-6 pt-0", n), ...e })); AO.displayName = "CardFooter"; function Kz() { const [n, e] = F.useState(""), [t, r] = F.useState(""), [i, s] = F.useState(""), a = Fu(u => u.login), o = bc(), A = async u => { u.preventDefault(), s(""); try { const f = await z7.login(n, t); f ? (a(f), o("/")) : s("Identifiants invalides") } catch { s("Une erreur s'est produite lors de la connexion") } }; return g.jsx("div", { className: "flex items-center justify-center min-h-screen bg-background", children: g.jsxs(bs, { className: "w-[350px]", children: [g.jsxs(Ua, { children: [g.jsx(Oa, { children: "Connexion NICMS" }), g.jsx(q5, { children: "Entrez vos identifiants pour accder au systme." })] }), g.jsxs("form", { onSubmit: A, children: [g.jsx(xs, { children: g.jsxs("div", { className: "grid w-full items-center gap-4", children: [g.jsxs("div", { className: "flex flex-col space-y-1.5", children: [g.jsx(Cn, { htmlFor: "username", children: "Nom d'utilisateur" }), g.jsx(xr, { id: "username", placeholder: "Nom d'utilisateur", value: n, onChange: u => e(u.target.value) })] }), g.jsxs("div", { className: "flex flex-col space-y-1.5", children: [g.jsx(Cn, { htmlFor: "password", children: "Mot de passe" }), g.jsx(xr, { id: "password", type: "password", placeholder: "Mot de passe", value: t, onChange: u => r(u.target.value) })] }), i && g.jsx("p", { className: "text-sm text-red-500", children: i })] }) }), g.jsx(AO, { className: "flex justify-between", children: g.jsx(Vt, { type: "submit", className: "w-full", children: "Se connecter" }) })] })] }) }) } function Vz() { return Fu(e => e.isAuthenticated) ? g.jsx(VF, {}) : g.jsx(KF, { to: "/login", replace: !0 }) } const Gz = n => n.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(), Wz = n => n.replace(/^([A-Z])|[\s-_]+(\w)/g, (e, t, r) => r ? r.toUpperCase() : t.toLowerCase()), AN = n => { const e = Wz(n); return e.charAt(0).toUpperCase() + e.slice(1) }, cO = (...n) => n.filter((e, t, r) => !!e && e.trim() !== "" && r.indexOf(e) === t).join(" ").trim(), Yz = n => { for (const e in n) if (e.startsWith("aria-") || e === "role" || e === "title") return !0 }; var Jz = { xmlns: "http://www.w3.org/2000/svg", width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round" }; const Xz = F.forwardRef(({ color: n = "currentColor", size: e = 24, strokeWidth: t = 2, absoluteStrokeWidth: r, className: i = "", children: s, iconNode: a, ...o }, A) => F.createElement("svg", { ref: A, ...Jz, width: e, height: e, stroke: n, strokeWidth: r ? Number(t) * 24 / Number(e) : t, className: cO("lucide", i), ...!s && !Yz(o) && { "aria-hidden": "true" }, ...o }, [...a.map(([u, f]) => F.createElement(u, f)), ...Array.isArray(s) ? s : [s]])); const sr = (n, e) => { const t = F.forwardRef(({ className: r, ...i }, s) => F.createElement(Xz, { ref: s, iconNode: e, className: cO(`lucide-${Gz(AN(n))}`, `lucide-${n}`, r), ...i })); return t.displayName = AN(n), t }; const Zz = [["rect", { width: "20", height: "5", x: "2", y: "3", rx: "1", key: "1wp1u1" }], ["path", { d: "M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8", key: "1s80jp" }], ["path", { d: "M10 12h4", key: "a56b0p" }]], qz = sr("archive", Zz); const $z = [["path", { d: "m12 19-7-7 7-7", key: "1l729n" }], ["path", { d: "M19 12H5", key: "x3x0zl" }]], ib = sr("arrow-left", $z); const e9 = [["path", { d: "M10.268 21a2 2 0 0 0 3.464 0", key: "vwvbt9" }], ["path", { d: "M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326", key: "11g9vi" }]], t9 = sr("bell", e9); const n9 = [["path", { d: "M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8", key: "mg9rjx" }]], r9 = sr("bold", n9); const i9 = [["path", { d: "M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16", key: "jecpp" }], ["rect", { width: "20", height: "14", x: "2", y: "6", rx: "2", key: "i6l2r4" }]], N0 = sr("briefcase", i9); const s9 = [["path", { d: "M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2", key: "5owen" }], ["circle", { cx: "7", cy: "17", r: "2", key: "u2ysq9" }], ["path", { d: "M9 17h6", key: "r8uit2" }], ["circle", { cx: "17", cy: "17", r: "2", key: "axvx0g" }]], k0 = sr("car", s9); const a9 = [["path", { d: "M20 6 9 17l-5-5", key: "1gmf2c" }]], sb = sr("check", a9); const o9 = [["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]], $5 = sr("chevron-down", o9); const l9 = [["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]], A9 = sr("chevron-right", l9); const c9 = [["path", { d: "m18 15-6-6-6 6", key: "153udz" }]], u9 = sr("chevron-up", c9); const f9 = [["path", { d: "m7 15 5 5 5-5", key: "1hf1tw" }], ["path", { d: "m7 9 5-5 5 5", key: "sgt6xg" }]], uO = sr("chevrons-up-down", f9); const d9 = [["path", { d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49", key: "ct8e1f" }], ["path", { d: "M14.084 14.158a3 3 0 0 1-4.242-4.242", key: "151rxh" }], ["path", { d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143", key: "13bj9a" }], ["path", { d: "m2 2 20 20", key: "1ooewy" }]], h9 = sr("eye-off", d9); const p9 = [["path", { d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0", key: "1nclc0" }], ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]], g9 = sr("eye", p9); const m9 = [["path", { d: "M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z", key: "1oefj6" }], ["path", { d: "M14 2v5a1 1 0 0 0 1 1h5", key: "wfsgrz" }], ["path", { d: "M12 18v-6", key: "17g6i2" }], ["path", { d: "m9 15 3 3 3-3", key: "1npd3o" }]], P1 = sr("file-down", m9); const v9 = [["path", { d: "M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z", key: "1oefj6" }], ["path", { d: "M14 2v5a1 1 0 0 0 1 1h5", key: "wfsgrz" }], ["path", { d: "M10 9H8", key: "b1mrlr" }], ["path", { d: "M16 13H8", key: "t4e002" }], ["path", { d: "M16 17H8", key: "z1uh3a" }]], Eu = sr("file-text", v9); const y9 = [["path", { d: "M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z", key: "1kt360" }]], ox = sr("folder", y9); const w9 = [["path", { d: "M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z", key: "sc7q7i" }]], eE = sr("funnel", w9); const b9 = [["path", { d: "M4 12h8", key: "17cfdx" }], ["path", { d: "M4 18V6", key: "1rz3zl" }], ["path", { d: "M12 18V6", key: "zqpxq5" }], ["path", { d: "m17 12 3-2v8", key: "1hhhft" }]], x9 = sr("heading-1", b9); const B9 = [["path", { d: "M4 12h8", key: "17cfdx" }], ["path", { d: "M4 18V6", key: "1rz3zl" }], ["path", { d: "M12 18V6", key: "zqpxq5" }], ["path", { d: "M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1", key: "9jr5yi" }]], C9 = sr("heading-2", B9); const E9 = [["line", { x1: "19", x2: "10", y1: "4", y2: "4", key: "15jd3p" }], ["line", { x1: "14", x2: "5", y1: "20", y2: "20", key: "bu0au3" }], ["line", { x1: "15", x2: "9", y1: "4", y2: "20", key: "uljnxc" }]], S9 = sr("italic", E9); const _9 = [["path", { d: "m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4", key: "g0fldk" }], ["path", { d: "m21 2-9.6 9.6", key: "1j0ho8" }], ["circle", { cx: "7.5", cy: "15.5", r: "5.5", key: "yqb3hr" }]], N9 = sr("key", _9); const k9 = [["rect", { width: "7", height: "9", x: "3", y: "3", rx: "1", key: "10lvy0" }], ["rect", { width: "7", height: "5", x: "14", y: "3", rx: "1", key: "16une8" }], ["rect", { width: "7", height: "9", x: "14", y: "12", rx: "1", key: "1hutg5" }], ["rect", { width: "7", height: "5", x: "3", y: "16", rx: "1", key: "ldoo1y" }]], T9 = sr("layout-dashboard", k9); const F9 = [["path", { d: "M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71", key: "1cjeqo" }], ["path", { d: "M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71", key: "19qd67" }]], U9 = sr("link", F9); const O9 = [["path", { d: "M11 5h10", key: "1cz7ny" }], ["path", { d: "M11 12h10", key: "1438ji" }], ["path", { d: "M11 19h10", key: "11t30w" }], ["path", { d: "M4 4h1v5", key: "10yrso" }], ["path", { d: "M4 9h2", key: "r1h2o0" }], ["path", { d: "M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02", key: "xtkcd5" }]], R9 = sr("list-ordered", O9); const I9 = [["path", { d: "M3 5h.01", key: "18ugdj" }], ["path", { d: "M3 12h.01", key: "nlz23k" }], ["path", { d: "M3 19h.01", key: "noohij" }], ["path", { d: "M8 5h13", key: "1pao27" }], ["path", { d: "M8 12h13", key: "1za7za" }], ["path", { d: "M8 19h13", key: "m83p4d" }]], L9 = sr("list", I9); const M9 = [["path", { d: "M21 12a9 9 0 1 1-6.219-8.56", key: "13zald" }]], cN = sr("loader-circle", M9); const Q9 = [["path", { d: "m16 17 5-5-5-5", key: "1bji2h" }], ["path", { d: "M21 12H9", key: "dn1m92" }], ["path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4", key: "1uf3rs" }]], D9 = sr("log-out", Q9); const P9 = [["path", { d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z", key: "1a8usu" }]], H9 = sr("pen", P9); const j9 = [["path", { d: "M5 12h14", key: "1ays0h" }], ["path", { d: "M12 5v14", key: "s699le" }]], Ap = sr("plus", j9); const z9 = [["path", { d: "M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2", key: "143wyd" }], ["path", { d: "M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6", key: "1itne7" }], ["rect", { x: "6", y: "14", width: "12", height: "8", rx: "1", key: "1ue0tg" }]], K9 = sr("printer", z9); const V9 = [["path", { d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z", key: "1c8476" }], ["path", { d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7", key: "1ydtos" }], ["path", { d: "M7 3v4a1 1 0 0 0 1 1h7", key: "t51u73" }]], ab = sr("save", V9); const G9 = [["path", { d: "m21 21-4.34-4.34", key: "14j7rj" }], ["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }]], _u = sr("search", G9); const W9 = [["path", { d: "M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915", key: "1i5ecw" }], ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]], Y9 = sr("settings", W9); const J9 = [["path", { d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z", key: "oel41y" }]], kg = sr("shield", J9); const X9 = [["path", { d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7", key: "1m0v6g" }], ["path", { d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z", key: "ohrbg2" }]], Z9 = sr("square-pen", X9); const q9 = [["path", { d: "M10 11v6", key: "nco0om" }], ["path", { d: "M14 11v6", key: "outv1u" }], ["path", { d: "M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6", key: "miytrc" }], ["path", { d: "M3 6h18", key: "d0wm0j" }], ["path", { d: "M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2", key: "e791ji" }]], tE = sr("trash-2", q9); const $9 = [["path", { d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3", key: "wmoenq" }], ["path", { d: "M12 9v4", key: "juzpu7" }], ["path", { d: "M12 17h.01", key: "p32p05" }]], eK = sr("triangle-alert", $9); const tK = [["path", { d: "M12 3v12", key: "1x0j5s" }], ["path", { d: "m17 8-5-5-5 5", key: "7q97r8" }], ["path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4", key: "ih7n3h" }]], nK = sr("upload", tK); const rK = [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["line", { x1: "22", x2: "16", y1: "11", y2: "11", key: "1shjgl" }]], iK = sr("user-minus", rK); const sK = [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["line", { x1: "19", x2: "19", y1: "8", y2: "14", key: "1bvyxn" }], ["line", { x1: "22", x2: "16", y1: "11", y2: "11", key: "1shjgl" }]], Z0 = sr("user-plus", sK); const aK = [["path", { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2", key: "975kel" }], ["circle", { cx: "12", cy: "7", r: "4", key: "17ys0d" }]], nE = sr("user", aK); const oK = [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["path", { d: "M16 3.128a4 4 0 0 1 0 7.744", key: "16gr8j" }], ["path", { d: "M22 21v-2a4 4 0 0 0-3-3.87", key: "kshegd" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }]], yd = sr("users", oK); const lK = [["path", { d: "M18 6 6 18", key: "1bl5f8" }], ["path", { d: "m6 6 12 12", key: "d8bk6v" }]], rE = sr("x", lK); function UA({ icon: n, label: e, to: t, children: r }) { const [i, s] = F.useState(!1), a = !!r, o = g.jsxs("div", { className: Dn("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer", "hover:bg-primary/10 hover:text-primary", t && "hover:bg-primary/10"), onClick: () => a && s(!i), children: [a ? i ? g.jsx($5, { className: "h-4 w-4 text-muted-foreground" }) : g.jsx(A9, { className: "h-4 w-4 text-muted-foreground" }) : g.jsx("span", { className: "w-4" }), g.jsx(n, { className: "h-4 w-4 text-primary" }), g.jsx("span", { className: "flex-1", children: e })] }); return g.jsxs("div", { children: [t ? g.jsx(XF, { to: t, className: ({ isActive: A }) => Dn("block rounded-md transition-colors", A ? "bg-primary/10 text-primary font-semibold" : "text-muted-foreground"), children: o }) : o, a && i && g.jsx("div", { className: "ml-6 mt-1 border-l pl-2 space-y-1", children: r })] }) } function AK() { const { user: n, logout: e } = Fu(); return g.jsxs("aside", { className: "w-64 border-r bg-background flex flex-col h-screen sticky top-0", children: [g.jsx("div", { className: "p-4 border-b bg-primary/5", children: g.jsxs("div", { className: "flex items-center gap-3", children: [g.jsx("div", { className: "h-10 w-10 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-bold", children: n?.username.substring(0, 2).toUpperCase() }), g.jsxs("div", { className: "overflow-hidden", children: [g.jsx("p", { className: "text-sm font-medium truncate", children: n?.username }), g.jsxs("p", { className: "text-xs text-muted-foreground truncate", children: [n?.rank, " - ", n?.division] })] })] }) }), g.jsxs("nav", { className: "flex-1 overflow-y-auto p-4 space-y-1", children: [g.jsx(UA, { icon: T9, label: "Tableau de bord", to: "/" }), g.jsxs(UA, { icon: ox, label: "Rapports", children: [g.jsx(UA, { icon: Eu, label: "Tous les rapports", to: "/reports" }), g.jsx(UA, { icon: Eu, label: "Mes rapports", to: "/reports?filter=mine" }), g.jsx(UA, { icon: Eu, label: "Brouillons", to: "/reports?filter=drafts" })] }), g.jsxs(UA, { icon: ox, label: "Arrestations", children: [g.jsx(UA, { icon: yd, label: "Toutes les arrestations", to: "/arrests" }), g.jsx(UA, { icon: yd, label: "Mes arrestations", to: "/arrests?filter=mine" })] }), g.jsxs(UA, { icon: ox, label: "Enqutes", children: [g.jsx(UA, { icon: N0, label: "Dossiers actifs", to: "/investigations" }), g.jsx(UA, { icon: N0, label: "Archivs", to: "/investigations?filter=archived" })] }), g.jsxs("div", { className: "pt-4 mt-4 border-t", children: [g.jsx(UA, { icon: yd, label: "quipes", to: "/teams" }), g.jsx(UA, { icon: Y9, label: "Administration", to: "/admin" })] })] }), g.jsx("div", { className: "p-4 border-t bg-muted/20", children: g.jsxs(Vt, { variant: "outline", className: "w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10", onClick: e, children: [g.jsx(D9, { className: "mr-2 h-4 w-4" }), "Dconnexion"] }) })] }) } function dr(n, e, { checkForDefaultPrevented: t = !0 } = {}) { return function (i) { if (n?.(i), t === !1 || !i.defaultPrevented) return e?.(i) } } function cK(n, e) { const t = F.createContext(e), r = s => { const { children: a, ...o } = s, A = F.useMemo(() => o, Object.values(o)); return g.jsx(t.Provider, { value: A, children: a }) }; r.displayName = n + "Provider"; function i(s) { const a = F.useContext(t); if (a) return a; if (e !== void 0) return e; throw new Error(`\`${s}\` must be used within \`${n}\``) } return [r, i] } function Dd(n, e = []) { let t = []; function r(s, a) { const o = F.createContext(a), A = t.length; t = [...t, a]; const u = h => { const { scope: m, children: p, ...b } = h, y = m?.[n]?.[A] || o, E = F.useMemo(() => b, Object.values(b)); return g.jsx(y.Provider, { value: E, children: p }) }; u.displayName = s + "Provider"; function f(h, m) { const p = m?.[n]?.[A] || o, b = F.useContext(p); if (b) return b; if (a !== void 0) return a; throw new Error(`\`${h}\` must be used within \`${s}\``) } return [u, f] } const i = () => { const s = t.map(a => F.createContext(a)); return function (o) { const A = o?.[n] || s; return F.useMemo(() => ({ [`__scope${n}`]: { ...o, [n]: A } }), [o, A]) } }; return i.scopeName = n, [r, uK(i, ...e)] } function uK(...n) { const e = n[0]; if (n.length === 1) return e; const t = () => { const r = n.map(i => ({ useScope: i(), scopeName: i.scopeName })); return function (s) { const a = r.reduce((o, { useScope: A, scopeName: u }) => { const h = A(s)[`__scope${u}`]; return { ...o, ...h } }, {}); return F.useMemo(() => ({ [`__scope${e.scopeName}`]: a }), [a]) } }; return t.scopeName = e.scopeName, t } var El = globalThis?.document ? F.useLayoutEffect : () => { }, fK = O5[" useId ".trim().toString()] || (() => { }), dK = 0; function Hl(n) { const [e, t] = F.useState(fK()); return El(() => { t(r => r ?? String(dK++)) }, [n]), e ? `radix-${e}` : "" } var hK = O5[" useInsertionEffect ".trim().toString()] || El; function Jh({ prop: n, defaultProp: e, onChange: t = () => { }, caller: r }) { const [i, s, a] = pK({ defaultProp: e, onChange: t }), o = n !== void 0, A = o ? n : i; { const f = F.useRef(n !== void 0); F.useEffect(() => { const h = f.current; h !== o && console.warn(`${r} is changing from ${h ? "controlled" : "uncontrolled"} to ${o ? "controlled" : "uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`), f.current = o }, [o, r]) } const u = F.useCallback(f => { if (o) { const h = gK(f) ? f(n) : f; h !== n && a.current?.(h) } else s(f) }, [o, n, s, a]); return [A, u] } function pK({ defaultProp: n, onChange: e }) { const [t, r] = F.useState(n), i = F.useRef(t), s = F.useRef(e); return hK(() => { s.current = e }, [e]), F.useEffect(() => { i.current !== t && (s.current?.(t), i.current = t) }, [t, i]), [t, r, s] } function gK(n) { return typeof n == "function" } function mK(n) { const e = vK(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(wK); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function vK(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = xK(i), o = bK(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var yK = Symbol("radix.slottable"); function wK(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === yK } function bK(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function xK(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var BK = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], fO = BK.reduce((n, e) => { const t = mK(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}); function CK(n, e) { n && J0.flushSync(() => n.dispatchEvent(e)) } function Nd(n) { const e = F.useRef(n); return F.useEffect(() => { e.current = n }), F.useMemo(() => (...t) => e.current?.(...t), []) } function EK(n, e = globalThis?.document) { const t = Nd(n); F.useEffect(() => { const r = i => { i.key === "Escape" && t(i) }; return e.addEventListener("keydown", r, { capture: !0 }), () => e.removeEventListener("keydown", r, { capture: !0 }) }, [t, e]) } var SK = "DismissableLayer", sC = "dismissableLayer.update", _K = "dismissableLayer.pointerDownOutside", NK = "dismissableLayer.focusOutside", uN, dO = F.createContext({ layers: new Set, layersWithOutsidePointerEventsDisabled: new Set, branches: new Set }), ob = F.forwardRef((n, e) => { const { disableOutsidePointerEvents: t = !1, onEscapeKeyDown: r, onPointerDownOutside: i, onFocusOutside: s, onInteractOutside: a, onDismiss: o, ...A } = n, u = F.useContext(dO), [f, h] = F.useState(null), m = f?.ownerDocument ?? globalThis?.document, [, p] = F.useState({}), b = is(e, q => h(q)), y = Array.from(u.layers), [E] = [...u.layersWithOutsidePointerEventsDisabled].slice(-1), _ = y.indexOf(E), O = f ? y.indexOf(f) : -1, I = u.layersWithOutsidePointerEventsDisabled.size > 0, D = O >= _, z = FK(q => { const W = q.target, G = [...u.branches].some(fe => fe.contains(W)); !D || G || (i?.(q), a?.(q), q.defaultPrevented || o?.()) }, m), X = UK(q => { const W = q.target;[...u.branches].some(fe => fe.contains(W)) || (s?.(q), a?.(q), q.defaultPrevented || o?.()) }, m); return EK(q => { O === u.layers.size - 1 && (r?.(q), !q.defaultPrevented && o && (q.preventDefault(), o())) }, m), F.useEffect(() => { if (f) return t && (u.layersWithOutsidePointerEventsDisabled.size === 0 && (uN = m.body.style.pointerEvents, m.body.style.pointerEvents = "none"), u.layersWithOutsidePointerEventsDisabled.add(f)), u.layers.add(f), fN(), () => { t && u.layersWithOutsidePointerEventsDisabled.size === 1 && (m.body.style.pointerEvents = uN) } }, [f, m, t, u]), F.useEffect(() => () => { f && (u.layers.delete(f), u.layersWithOutsidePointerEventsDisabled.delete(f), fN()) }, [f, u]), F.useEffect(() => { const q = () => p({}); return document.addEventListener(sC, q), () => document.removeEventListener(sC, q) }, []), g.jsx(fO.div, { ...A, ref: b, style: { pointerEvents: I ? D ? "auto" : "none" : void 0, ...n.style }, onFocusCapture: dr(n.onFocusCapture, X.onFocusCapture), onBlurCapture: dr(n.onBlurCapture, X.onBlurCapture), onPointerDownCapture: dr(n.onPointerDownCapture, z.onPointerDownCapture) }) }); ob.displayName = SK; var kK = "DismissableLayerBranch", TK = F.forwardRef((n, e) => { const t = F.useContext(dO), r = F.useRef(null), i = is(e, r); return F.useEffect(() => { const s = r.current; if (s) return t.branches.add(s), () => { t.branches.delete(s) } }, [t.branches]), g.jsx(fO.div, { ...n, ref: i }) }); TK.displayName = kK; function FK(n, e = globalThis?.document) { const t = Nd(n), r = F.useRef(!1), i = F.useRef(() => { }); return F.useEffect(() => { const s = o => { if (o.target && !r.current) { let A = function () { hO(_K, t, u, { discrete: !0 }) }; const u = { originalEvent: o }; o.pointerType === "touch" ? (e.removeEventListener("click", i.current), i.current = A, e.addEventListener("click", i.current, { once: !0 })) : A() } else e.removeEventListener("click", i.current); r.current = !1 }, a = window.setTimeout(() => { e.addEventListener("pointerdown", s) }, 0); return () => { window.clearTimeout(a), e.removeEventListener("pointerdown", s), e.removeEventListener("click", i.current) } }, [e, t]), { onPointerDownCapture: () => r.current = !0 } } function UK(n, e = globalThis?.document) { const t = Nd(n), r = F.useRef(!1); return F.useEffect(() => { const i = s => { s.target && !r.current && hO(NK, t, { originalEvent: s }, { discrete: !1 }) }; return e.addEventListener("focusin", i), () => e.removeEventListener("focusin", i) }, [e, t]), { onFocusCapture: () => r.current = !0, onBlurCapture: () => r.current = !1 } } function fN() { const n = new CustomEvent(sC); document.dispatchEvent(n) } function hO(n, e, t, { discrete: r }) { const i = t.originalEvent.target, s = new CustomEvent(n, { bubbles: !1, cancelable: !0, detail: t }); e && i.addEventListener(n, e, { once: !0 }), r ? CK(i, s) : i.dispatchEvent(s) } function OK(n) { const e = RK(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(LK); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function RK(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = QK(i), o = MK(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var IK = Symbol("radix.slottable"); function LK(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === IK } function MK(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function QK(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var DK = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], PK = DK.reduce((n, e) => { const t = OK(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), lx = "focusScope.autoFocusOnMount", Ax = "focusScope.autoFocusOnUnmount", dN = { bubbles: !1, cancelable: !0 }, HK = "FocusScope", lb = F.forwardRef((n, e) => { const { loop: t = !1, trapped: r = !1, onMountAutoFocus: i, onUnmountAutoFocus: s, ...a } = n, [o, A] = F.useState(null), u = Nd(i), f = Nd(s), h = F.useRef(null), m = is(e, y => A(y)), p = F.useRef({ paused: !1, pause() { this.paused = !0 }, resume() { this.paused = !1 } }).current; F.useEffect(() => { if (r) { let y = function (I) { if (p.paused || !o) return; const D = I.target; o.contains(D) ? h.current = D : td(h.current, { select: !0 }) }, E = function (I) { if (p.paused || !o) return; const D = I.relatedTarget; D !== null && (o.contains(D) || td(h.current, { select: !0 })) }, _ = function (I) { if (document.activeElement === document.body) for (const z of I) z.removedNodes.length > 0 && td(o) }; document.addEventListener("focusin", y), document.addEventListener("focusout", E); const O = new MutationObserver(_); return o && O.observe(o, { childList: !0, subtree: !0 }), () => { document.removeEventListener("focusin", y), document.removeEventListener("focusout", E), O.disconnect() } } }, [r, o, p.paused]), F.useEffect(() => { if (o) { pN.add(p); const y = document.activeElement; if (!o.contains(y)) { const _ = new CustomEvent(lx, dN); o.addEventListener(lx, u), o.dispatchEvent(_), _.defaultPrevented || (jK(WK(pO(o)), { select: !0 }), document.activeElement === y && td(o)) } return () => { o.removeEventListener(lx, u), setTimeout(() => { const _ = new CustomEvent(Ax, dN); o.addEventListener(Ax, f), o.dispatchEvent(_), _.defaultPrevented || td(y ?? document.body, { select: !0 }), o.removeEventListener(Ax, f), pN.remove(p) }, 0) } } }, [o, u, f, p]); const b = F.useCallback(y => { if (!t && !r || p.paused) return; const E = y.key === "Tab" && !y.altKey && !y.ctrlKey && !y.metaKey, _ = document.activeElement; if (E && _) { const O = y.currentTarget, [I, D] = zK(O); I && D ? !y.shiftKey && _ === D ? (y.preventDefault(), t && td(I, { select: !0 })) : y.shiftKey && _ === I && (y.preventDefault(), t && td(D, { select: !0 })) : _ === O && y.preventDefault() } }, [t, r, p.paused]); return g.jsx(PK.div, { tabIndex: -1, ...a, ref: m, onKeyDown: b }) }); lb.displayName = HK; function jK(n, { select: e = !1 } = {}) { const t = document.activeElement; for (const r of n) if (td(r, { select: e }), document.activeElement !== t) return } function zK(n) { const e = pO(n), t = hN(e, n), r = hN(e.reverse(), n); return [t, r] } function pO(n) { const e = [], t = document.createTreeWalker(n, NodeFilter.SHOW_ELEMENT, { acceptNode: r => { const i = r.tagName === "INPUT" && r.type === "hidden"; return r.disabled || r.hidden || i ? NodeFilter.FILTER_SKIP : r.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP } }); for (; t.nextNode();)e.push(t.currentNode); return e } function hN(n, e) { for (const t of n) if (!KK(t, { upTo: e })) return t } function KK(n, { upTo: e }) { if (getComputedStyle(n).visibility === "hidden") return !0; for (; n;) { if (e !== void 0 && n === e) return !1; if (getComputedStyle(n).display === "none") return !0; n = n.parentElement } return !1 } function VK(n) { return n instanceof HTMLInputElement && "select" in n } function td(n, { select: e = !1 } = {}) { if (n && n.focus) { const t = document.activeElement; n.focus({ preventScroll: !0 }), n !== t && VK(n) && e && n.select() } } var pN = GK(); function GK() { let n = []; return { add(e) { const t = n[0]; e !== t && t?.pause(), n = gN(n, e), n.unshift(e) }, remove(e) { n = gN(n, e), n[0]?.resume() } } } function gN(n, e) { const t = [...n], r = t.indexOf(e); return r !== -1 && t.splice(r, 1), t } function WK(n) { return n.filter(e => e.tagName !== "A") } function YK(n) { const e = JK(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(ZK); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function JK(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = $K(i), o = qK(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var XK = Symbol("radix.slottable"); function ZK(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === XK } function qK(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function $K(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var eV = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], tV = eV.reduce((n, e) => { const t = YK(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), nV = "Portal", Ab = F.forwardRef((n, e) => { const { container: t, ...r } = n, [i, s] = F.useState(!1); El(() => s(!0), []); const a = t || i && globalThis?.document?.body; return a ? qF.createPortal(g.jsx(tV.div, { ...r, ref: e }), a) : null }); Ab.displayName = nV; function rV(n, e) { return F.useReducer((t, r) => e[t][r] ?? t, n) } var Pd = n => { const { present: e, children: t } = n, r = iV(e), i = typeof t == "function" ? t({ present: r.isPresent }) : F.Children.only(t), s = is(r.ref, sV(i)); return typeof t == "function" || r.isPresent ? F.cloneElement(i, { ref: s }) : null }; Pd.displayName = "Presence"; function iV(n) { const [e, t] = F.useState(), r = F.useRef(null), i = F.useRef(n), s = F.useRef("none"), a = n ? "mounted" : "unmounted", [o, A] = rV(a, { mounted: { UNMOUNT: "unmounted", ANIMATION_OUT: "unmountSuspended" }, unmountSuspended: { MOUNT: "mounted", ANIMATION_END: "unmounted" }, unmounted: { MOUNT: "mounted" } }); return F.useEffect(() => { const u = py(r.current); s.current = o === "mounted" ? u : "none" }, [o]), El(() => { const u = r.current, f = i.current; if (f !== n) { const m = s.current, p = py(u); n ? A("MOUNT") : p === "none" || u?.display === "none" ? A("UNMOUNT") : A(f && m !== p ? "ANIMATION_OUT" : "UNMOUNT"), i.current = n } }, [n, A]), El(() => { if (e) { let u; const f = e.ownerDocument.defaultView ?? window, h = p => { const y = py(r.current).includes(CSS.escape(p.animationName)); if (p.target === e && y && (A("ANIMATION_END"), !i.current)) { const E = e.style.animationFillMode; e.style.animationFillMode = "forwards", u = f.setTimeout(() => { e.style.animationFillMode === "forwards" && (e.style.animationFillMode = E) }) } }, m = p => { p.target === e && (s.current = py(r.current)) }; return e.addEventListener("animationstart", m), e.addEventListener("animationcancel", h), e.addEventListener("animationend", h), () => { f.clearTimeout(u), e.removeEventListener("animationstart", m), e.removeEventListener("animationcancel", h), e.removeEventListener("animationend", h) } } else A("ANIMATION_END") }, [e, A]), { isPresent: ["mounted", "unmountSuspended"].includes(o), ref: F.useCallback(u => { r.current = u ? getComputedStyle(u) : null, t(u) }, []) } } function py(n) { return n?.animationName || "none" } function sV(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } function gO(n) { const e = aV(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(lV); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function aV(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = cV(i), o = AV(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var oV = Symbol("radix.slottable"); function lV(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === oV } function AV(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function cV(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var uV = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], q0 = uV.reduce((n, e) => { const t = gO(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), cx = 0; function iE() { F.useEffect(() => { const n = document.querySelectorAll("[data-radix-focus-guard]"); return document.body.insertAdjacentElement("afterbegin", n[0] ?? mN()), document.body.insertAdjacentElement("beforeend", n[1] ?? mN()), cx++, () => { cx === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(e => e.remove()), cx-- } }, []) } function mN() { const n = document.createElement("span"); return n.setAttribute("data-radix-focus-guard", ""), n.tabIndex = 0, n.style.outline = "none", n.style.opacity = "0", n.style.position = "fixed", n.style.pointerEvents = "none", n } var d1 = "right-scroll-bar-position", h1 = "width-before-scroll-bar", fV = "with-scroll-bars-hidden", dV = "--removed-body-scroll-bar-size"; function ux(n, e) { return typeof n == "function" ? n(e) : n && (n.current = e), n } function hV(n, e) { var t = F.useState(function () { return { value: n, callback: e, facade: { get current() { return t.value }, set current(r) { var i = t.value; i !== r && (t.value = r, t.callback(r, i)) } } } })[0]; return t.callback = e, t.facade } var pV = typeof window < "u" ? F.useLayoutEffect : F.useEffect, vN = new WeakMap; function gV(n, e) { var t = hV(null, function (r) { return n.forEach(function (i) { return ux(i, r) }) }); return pV(function () { var r = vN.get(t); if (r) { var i = new Set(r), s = new Set(n), a = t.current; i.forEach(function (o) { s.has(o) || ux(o, null) }), s.forEach(function (o) { i.has(o) || ux(o, a) }) } vN.set(t, n) }, [n]), t } function mV(n) { return n } function vV(n, e) { e === void 0 && (e = mV); var t = [], r = !1, i = { read: function () { if (r) throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`."); return t.length ? t[t.length - 1] : n }, useMedium: function (s) { var a = e(s, r); return t.push(a), function () { t = t.filter(function (o) { return o !== a }) } }, assignSyncMedium: function (s) { for (r = !0; t.length;) { var a = t; t = [], a.forEach(s) } t = { push: function (o) { return s(o) }, filter: function () { return t } } }, assignMedium: function (s) { r = !0; var a = []; if (t.length) { var o = t; t = [], o.forEach(s), a = t } var A = function () { var f = a; a = [], f.forEach(s) }, u = function () { return Promise.resolve().then(A) }; u(), t = { push: function (f) { a.push(f), u() }, filter: function (f) { return a = a.filter(f), t } } } }; return i } function yV(n) { n === void 0 && (n = {}); var e = vV(null); return e.options = lc({ async: !0, ssr: !1 }, n), e } var mO = function (n) { var e = n.sideCar, t = Md(n, ["sideCar"]); if (!e) throw new Error("Sidecar: please provide `sideCar` property to import the right car"); var r = e.read(); if (!r) throw new Error("Sidecar medium not found"); return F.createElement(r, lc({}, t)) }; mO.isSideCarExport = !0; function wV(n, e) { return n.useMedium(e), mO } var vO = yV(), fx = function () { }, cb = F.forwardRef(function (n, e) { var t = F.useRef(null), r = F.useState({ onScrollCapture: fx, onWheelCapture: fx, onTouchMoveCapture: fx }), i = r[0], s = r[1], a = n.forwardProps, o = n.children, A = n.className, u = n.removeScrollBar, f = n.enabled, h = n.shards, m = n.sideCar, p = n.noRelative, b = n.noIsolation, y = n.inert, E = n.allowPinchZoom, _ = n.as, O = _ === void 0 ? "div" : _, I = n.gapMode, D = Md(n, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noRelative", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]), z = m, X = gV([t, e]), q = lc(lc({}, D), i); return F.createElement(F.Fragment, null, f && F.createElement(z, { sideCar: vO, removeScrollBar: u, shards: h, noRelative: p, noIsolation: b, inert: y, setCallbacks: s, allowPinchZoom: !!E, lockRef: t, gapMode: I }), a ? F.cloneElement(F.Children.only(o), lc(lc({}, q), { ref: X })) : F.createElement(O, lc({}, q, { className: A, ref: X }), o)) }); cb.defaultProps = { enabled: !0, removeScrollBar: !0, inert: !1 }; cb.classNames = { fullWidth: h1, zeroRight: d1 }; var bV = function () { if (typeof __webpack_nonce__ < "u") return __webpack_nonce__ }; function xV() { if (!document) return null; var n = document.createElement("style"); n.type = "text/css"; var e = bV(); return e && n.setAttribute("nonce", e), n } function BV(n, e) { n.styleSheet ? n.styleSheet.cssText = e : n.appendChild(document.createTextNode(e)) } function CV(n) { var e = document.head || document.getElementsByTagName("head")[0]; e.appendChild(n) } var EV = function () { var n = 0, e = null; return { add: function (t) { n == 0 && (e = xV()) && (BV(e, t), CV(e)), n++ }, remove: function () { n--, !n && e && (e.parentNode && e.parentNode.removeChild(e), e = null) } } }, SV = function () { var n = EV(); return function (e, t) { F.useEffect(function () { return n.add(e), function () { n.remove() } }, [e && t]) } }, yO = function () { var n = SV(), e = function (t) { var r = t.styles, i = t.dynamic; return n(r, i), null }; return e }, _V = { left: 0, top: 0, right: 0, gap: 0 }, dx = function (n) { return parseInt(n || "", 10) || 0 }, NV = function (n) { var e = window.getComputedStyle(document.body), t = e[n === "padding" ? "paddingLeft" : "marginLeft"], r = e[n === "padding" ? "paddingTop" : "marginTop"], i = e[n === "padding" ? "paddingRight" : "marginRight"]; return [dx(t), dx(r), dx(i)] }, kV = function (n) { if (n === void 0 && (n = "margin"), typeof window > "u") return _V; var e = NV(n), t = document.documentElement.clientWidth, r = window.innerWidth; return { left: e[0], top: e[1], right: e[2], gap: Math.max(0, r - t + e[2] - e[0]) } }, TV = yO(), vg = "data-scroll-locked", FV = function (n, e, t, r) {
  var i = n.left, s = n.top, a = n.right, o = n.gap; return t === void 0 && (t = "margin"), `
  .`.concat(fV, ` {
   overflow: hidden `).concat(r, `;
   padding-right: `).concat(o, "px ").concat(r, `;
  }
  body[`).concat(vg, `] {
    overflow: hidden `).concat(r, `;
    overscroll-behavior: contain;
    `).concat([e && "position: relative ".concat(r, ";"), t === "margin" && `
    padding-left: `.concat(i, `px;
    padding-top: `).concat(s, `px;
    padding-right: `).concat(a, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o, "px ").concat(r, `;
    `), t === "padding" && "padding-right: ".concat(o, "px ").concat(r, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(d1, ` {
    right: `).concat(o, "px ").concat(r, `;
  }
  
  .`).concat(h1, ` {
    margin-right: `).concat(o, "px ").concat(r, `;
  }
  
  .`).concat(d1, " .").concat(d1, ` {
    right: 0 `).concat(r, `;
  }
  
  .`).concat(h1, " .").concat(h1, ` {
    margin-right: 0 `).concat(r, `;
  }
  
  body[`).concat(vg, `] {
    `).concat(dV, ": ").concat(o, `px;
  }
`)
}, yN = function () { var n = parseInt(document.body.getAttribute(vg) || "0", 10); return isFinite(n) ? n : 0 }, UV = function () { F.useEffect(function () { return document.body.setAttribute(vg, (yN() + 1).toString()), function () { var n = yN() - 1; n <= 0 ? document.body.removeAttribute(vg) : document.body.setAttribute(vg, n.toString()) } }, []) }, OV = function (n) { var e = n.noRelative, t = n.noImportant, r = n.gapMode, i = r === void 0 ? "margin" : r; UV(); var s = F.useMemo(function () { return kV(i) }, [i]); return F.createElement(TV, { styles: FV(s, !e, i, t ? "" : "!important") }) }, aC = !1; if (typeof window < "u") try { var gy = Object.defineProperty({}, "passive", { get: function () { return aC = !0, !0 } }); window.addEventListener("test", gy, gy), window.removeEventListener("test", gy, gy) } catch { aC = !1 } var jp = aC ? { passive: !1 } : !1, RV = function (n) { return n.tagName === "TEXTAREA" }, wO = function (n, e) { if (!(n instanceof Element)) return !1; var t = window.getComputedStyle(n); return t[e] !== "hidden" && !(t.overflowY === t.overflowX && !RV(n) && t[e] === "visible") }, IV = function (n) { return wO(n, "overflowY") }, LV = function (n) { return wO(n, "overflowX") }, wN = function (n, e) { var t = e.ownerDocument, r = e; do { typeof ShadowRoot < "u" && r instanceof ShadowRoot && (r = r.host); var i = bO(n, r); if (i) { var s = xO(n, r), a = s[1], o = s[2]; if (a > o) return !0 } r = r.parentNode } while (r && r !== t.body); return !1 }, MV = function (n) { var e = n.scrollTop, t = n.scrollHeight, r = n.clientHeight; return [e, t, r] }, QV = function (n) { var e = n.scrollLeft, t = n.scrollWidth, r = n.clientWidth; return [e, t, r] }, bO = function (n, e) { return n === "v" ? IV(e) : LV(e) }, xO = function (n, e) { return n === "v" ? MV(e) : QV(e) }, DV = function (n, e) { return n === "h" && e === "rtl" ? -1 : 1 }, PV = function (n, e, t, r, i) { var s = DV(n, window.getComputedStyle(e).direction), a = s * r, o = t.target, A = e.contains(o), u = !1, f = a > 0, h = 0, m = 0; do { if (!o) break; var p = xO(n, o), b = p[0], y = p[1], E = p[2], _ = y - E - s * b; (b || _) && bO(n, o) && (h += _, m += b); var O = o.parentNode; o = O && O.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? O.host : O } while (!A && o !== document.body || A && (e.contains(o) || e === o)); return (f && Math.abs(h) < 1 || !f && Math.abs(m) < 1) && (u = !0), u }, my = function (n) { return "changedTouches" in n ? [n.changedTouches[0].clientX, n.changedTouches[0].clientY] : [0, 0] }, bN = function (n) { return [n.deltaX, n.deltaY] }, xN = function (n) { return n && "current" in n ? n.current : n }, HV = function (n, e) { return n[0] === e[0] && n[1] === e[1] }, jV = function (n) {
  return `
  .block-interactivity-`.concat(n, ` {pointer-events: none;}
  .allow-interactivity-`).concat(n, ` {pointer-events: all;}
`)
}, zV = 0, zp = []; function KV(n) { var e = F.useRef([]), t = F.useRef([0, 0]), r = F.useRef(), i = F.useState(zV++)[0], s = F.useState(yO)[0], a = F.useRef(n); F.useEffect(function () { a.current = n }, [n]), F.useEffect(function () { if (n.inert) { document.body.classList.add("block-interactivity-".concat(i)); var y = j5([n.lockRef.current], (n.shards || []).map(xN), !0).filter(Boolean); return y.forEach(function (E) { return E.classList.add("allow-interactivity-".concat(i)) }), function () { document.body.classList.remove("block-interactivity-".concat(i)), y.forEach(function (E) { return E.classList.remove("allow-interactivity-".concat(i)) }) } } }, [n.inert, n.lockRef.current, n.shards]); var o = F.useCallback(function (y, E) { if ("touches" in y && y.touches.length === 2 || y.type === "wheel" && y.ctrlKey) return !a.current.allowPinchZoom; var _ = my(y), O = t.current, I = "deltaX" in y ? y.deltaX : O[0] - _[0], D = "deltaY" in y ? y.deltaY : O[1] - _[1], z, X = y.target, q = Math.abs(I) > Math.abs(D) ? "h" : "v"; if ("touches" in y && q === "h" && X.type === "range") return !1; var W = window.getSelection(), G = W && W.anchorNode, fe = G ? G === X || G.contains(X) : !1; if (fe) return !1; var ne = wN(q, X); if (!ne) return !0; if (ne ? z = q : (z = q === "v" ? "h" : "v", ne = wN(q, X)), !ne) return !1; if (!r.current && "changedTouches" in y && (I || D) && (r.current = z), !z) return !0; var V = r.current || z; return PV(V, E, y, V === "h" ? I : D) }, []), A = F.useCallback(function (y) { var E = y; if (!(!zp.length || zp[zp.length - 1] !== s)) { var _ = "deltaY" in E ? bN(E) : my(E), O = e.current.filter(function (z) { return z.name === E.type && (z.target === E.target || E.target === z.shadowParent) && HV(z.delta, _) })[0]; if (O && O.should) { E.cancelable && E.preventDefault(); return } if (!O) { var I = (a.current.shards || []).map(xN).filter(Boolean).filter(function (z) { return z.contains(E.target) }), D = I.length > 0 ? o(E, I[0]) : !a.current.noIsolation; D && E.cancelable && E.preventDefault() } } }, []), u = F.useCallback(function (y, E, _, O) { var I = { name: y, delta: E, target: _, should: O, shadowParent: VV(_) }; e.current.push(I), setTimeout(function () { e.current = e.current.filter(function (D) { return D !== I }) }, 1) }, []), f = F.useCallback(function (y) { t.current = my(y), r.current = void 0 }, []), h = F.useCallback(function (y) { u(y.type, bN(y), y.target, o(y, n.lockRef.current)) }, []), m = F.useCallback(function (y) { u(y.type, my(y), y.target, o(y, n.lockRef.current)) }, []); F.useEffect(function () { return zp.push(s), n.setCallbacks({ onScrollCapture: h, onWheelCapture: h, onTouchMoveCapture: m }), document.addEventListener("wheel", A, jp), document.addEventListener("touchmove", A, jp), document.addEventListener("touchstart", f, jp), function () { zp = zp.filter(function (y) { return y !== s }), document.removeEventListener("wheel", A, jp), document.removeEventListener("touchmove", A, jp), document.removeEventListener("touchstart", f, jp) } }, []); var p = n.removeScrollBar, b = n.inert; return F.createElement(F.Fragment, null, b ? F.createElement(s, { styles: jV(i) }) : null, p ? F.createElement(OV, { noRelative: n.noRelative, gapMode: n.gapMode }) : null) } function VV(n) { for (var e = null; n !== null;)n instanceof ShadowRoot && (e = n.host, n = n.host), n = n.parentNode; return e } const GV = wV(vO, KV); var ub = F.forwardRef(function (n, e) { return F.createElement(cb, lc({}, n, { ref: e, sideCar: GV })) }); ub.classNames = cb.classNames; var WV = function (n) { if (typeof document > "u") return null; var e = Array.isArray(n) ? n[0] : n; return e.ownerDocument.body }, Kp = new WeakMap, vy = new WeakMap, yy = {}, hx = 0, BO = function (n) { return n && (n.host || BO(n.parentNode)) }, YV = function (n, e) { return e.map(function (t) { if (n.contains(t)) return t; var r = BO(t); return r && n.contains(r) ? r : (console.error("aria-hidden", t, "in not contained inside", n, ". Doing nothing"), null) }).filter(function (t) { return !!t }) }, JV = function (n, e, t, r) { var i = YV(e, Array.isArray(n) ? n : [n]); yy[t] || (yy[t] = new WeakMap); var s = yy[t], a = [], o = new Set, A = new Set(i), u = function (h) { !h || o.has(h) || (o.add(h), u(h.parentNode)) }; i.forEach(u); var f = function (h) { !h || A.has(h) || Array.prototype.forEach.call(h.children, function (m) { if (o.has(m)) f(m); else try { var p = m.getAttribute(r), b = p !== null && p !== "false", y = (Kp.get(m) || 0) + 1, E = (s.get(m) || 0) + 1; Kp.set(m, y), s.set(m, E), a.push(m), y === 1 && b && vy.set(m, !0), E === 1 && m.setAttribute(t, "true"), b || m.setAttribute(r, "true") } catch (_) { console.error("aria-hidden: cannot operate on ", m, _) } }) }; return f(e), o.clear(), hx++, function () { a.forEach(function (h) { var m = Kp.get(h) - 1, p = s.get(h) - 1; Kp.set(h, m), s.set(h, p), m || (vy.has(h) || h.removeAttribute(r), vy.delete(h)), p || h.removeAttribute(t) }), hx--, hx || (Kp = new WeakMap, Kp = new WeakMap, vy = new WeakMap, yy = {}) } }, sE = function (n, e, t) { t === void 0 && (t = "data-aria-hidden"); var r = Array.from(Array.isArray(n) ? n : [n]), i = WV(n); return i ? (r.push.apply(r, Array.from(i.querySelectorAll("[aria-live], script"))), JV(r, i, t, "aria-hidden")) : function () { return null } }, fb = "Dialog", [CO] = Dd(fb), [XV, tu] = CO(fb), EO = n => { const { __scopeDialog: e, children: t, open: r, defaultOpen: i, onOpenChange: s, modal: a = !0 } = n, o = F.useRef(null), A = F.useRef(null), [u, f] = Jh({ prop: r, defaultProp: i ?? !1, onChange: s, caller: fb }); return g.jsx(XV, { scope: e, triggerRef: o, contentRef: A, contentId: Hl(), titleId: Hl(), descriptionId: Hl(), open: u, onOpenChange: f, onOpenToggle: F.useCallback(() => f(h => !h), [f]), modal: a, children: t }) }; EO.displayName = fb; var SO = "DialogTrigger", _O = F.forwardRef((n, e) => { const { __scopeDialog: t, ...r } = n, i = tu(SO, t), s = is(e, i.triggerRef); return g.jsx(q0.button, { type: "button", "aria-haspopup": "dialog", "aria-expanded": i.open, "aria-controls": i.contentId, "data-state": lE(i.open), ...r, ref: s, onClick: dr(n.onClick, i.onOpenToggle) }) }); _O.displayName = SO; var aE = "DialogPortal", [ZV, NO] = CO(aE, { forceMount: void 0 }), kO = n => { const { __scopeDialog: e, forceMount: t, children: r, container: i } = n, s = tu(aE, e); return g.jsx(ZV, { scope: e, forceMount: t, children: F.Children.map(r, a => g.jsx(Pd, { present: t || s.open, children: g.jsx(Ab, { asChild: !0, container: i, children: a }) })) }) }; kO.displayName = aE; var H1 = "DialogOverlay", TO = F.forwardRef((n, e) => { const t = NO(H1, n.__scopeDialog), { forceMount: r = t.forceMount, ...i } = n, s = tu(H1, n.__scopeDialog); return s.modal ? g.jsx(Pd, { present: r || s.open, children: g.jsx($V, { ...i, ref: e }) }) : null }); TO.displayName = H1; var qV = gO("DialogOverlay.RemoveScroll"), $V = F.forwardRef((n, e) => { const { __scopeDialog: t, ...r } = n, i = tu(H1, t); return g.jsx(ub, { as: qV, allowPinchZoom: !0, shards: [i.contentRef], children: g.jsx(q0.div, { "data-state": lE(i.open), ...r, ref: e, style: { pointerEvents: "auto", ...r.style } }) }) }), Xh = "DialogContent", FO = F.forwardRef((n, e) => { const t = NO(Xh, n.__scopeDialog), { forceMount: r = t.forceMount, ...i } = n, s = tu(Xh, n.__scopeDialog); return g.jsx(Pd, { present: r || s.open, children: s.modal ? g.jsx(eG, { ...i, ref: e }) : g.jsx(tG, { ...i, ref: e }) }) }); FO.displayName = Xh; var eG = F.forwardRef((n, e) => { const t = tu(Xh, n.__scopeDialog), r = F.useRef(null), i = is(e, t.contentRef, r); return F.useEffect(() => { const s = r.current; if (s) return sE(s) }, []), g.jsx(UO, { ...n, ref: i, trapFocus: t.open, disableOutsidePointerEvents: !0, onCloseAutoFocus: dr(n.onCloseAutoFocus, s => { s.preventDefault(), t.triggerRef.current?.focus() }), onPointerDownOutside: dr(n.onPointerDownOutside, s => { const a = s.detail.originalEvent, o = a.button === 0 && a.ctrlKey === !0; (a.button === 2 || o) && s.preventDefault() }), onFocusOutside: dr(n.onFocusOutside, s => s.preventDefault()) }) }), tG = F.forwardRef((n, e) => { const t = tu(Xh, n.__scopeDialog), r = F.useRef(!1), i = F.useRef(!1); return g.jsx(UO, { ...n, ref: e, trapFocus: !1, disableOutsidePointerEvents: !1, onCloseAutoFocus: s => { n.onCloseAutoFocus?.(s), s.defaultPrevented || (r.current || t.triggerRef.current?.focus(), s.preventDefault()), r.current = !1, i.current = !1 }, onInteractOutside: s => { n.onInteractOutside?.(s), s.defaultPrevented || (r.current = !0, s.detail.originalEvent.type === "pointerdown" && (i.current = !0)); const a = s.target; t.triggerRef.current?.contains(a) && s.preventDefault(), s.detail.originalEvent.type === "focusin" && i.current && s.preventDefault() } }) }), UO = F.forwardRef((n, e) => { const { __scopeDialog: t, trapFocus: r, onOpenAutoFocus: i, onCloseAutoFocus: s, ...a } = n, o = tu(Xh, t), A = F.useRef(null), u = is(e, A); return iE(), g.jsxs(g.Fragment, { children: [g.jsx(lb, { asChild: !0, loop: !0, trapped: r, onMountAutoFocus: i, onUnmountAutoFocus: s, children: g.jsx(ob, { role: "dialog", id: o.contentId, "aria-describedby": o.descriptionId, "aria-labelledby": o.titleId, "data-state": lE(o.open), ...a, ref: u, onDismiss: () => o.onOpenChange(!1) }) }), g.jsxs(g.Fragment, { children: [g.jsx(nG, { titleId: o.titleId }), g.jsx(iG, { contentRef: A, descriptionId: o.descriptionId })] })] }) }), oE = "DialogTitle", OO = F.forwardRef((n, e) => { const { __scopeDialog: t, ...r } = n, i = tu(oE, t); return g.jsx(q0.h2, { id: i.titleId, ...r, ref: e }) }); OO.displayName = oE; var RO = "DialogDescription", IO = F.forwardRef((n, e) => { const { __scopeDialog: t, ...r } = n, i = tu(RO, t); return g.jsx(q0.p, { id: i.descriptionId, ...r, ref: e }) }); IO.displayName = RO; var LO = "DialogClose", MO = F.forwardRef((n, e) => { const { __scopeDialog: t, ...r } = n, i = tu(LO, t); return g.jsx(q0.button, { type: "button", ...r, ref: e, onClick: dr(n.onClick, () => i.onOpenChange(!1)) }) }); MO.displayName = LO; function lE(n) { return n ? "open" : "closed" } var QO = "DialogTitleWarning", [Cfe, DO] = cK(QO, { contentName: Xh, titleName: oE, docsSlug: "dialog" }), nG = ({ titleId: n }) => {
  const e = DO(QO), t = `\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`; return F.useEffect(() => { n && (document.getElementById(n) || console.error(t)) }, [t, n]), null
}, rG = "DialogDescriptionWarning", iG = ({ contentRef: n, descriptionId: e }) => { const r = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DO(rG).contentName}}.`; return F.useEffect(() => { const i = n.current?.getAttribute("aria-describedby"); e && i && (document.getElementById(e) || console.warn(r)) }, [r, n, e]), null }, PO = EO, sG = _O, HO = kO, AE = TO, cE = FO, jO = OO, zO = IO, aG = MO, BN = 1, oG = .9, lG = .8, AG = .17, px = .1, gx = .999, cG = .9999, uG = .99, fG = /[\\\/_+.#"@\[\(\{&]/, dG = /[\\\/_+.#"@\[\(\{&]/g, hG = /[\s-]/, KO = /[\s-]/g; function oC(n, e, t, r, i, s, a) { if (s === e.length) return i === n.length ? BN : uG; var o = `${i},${s}`; if (a[o] !== void 0) return a[o]; for (var A = r.charAt(s), u = t.indexOf(A, i), f = 0, h, m, p, b; u >= 0;)h = oC(n, e, t, r, u + 1, s + 1, a), h > f && (u === i ? h *= BN : fG.test(n.charAt(u - 1)) ? (h *= lG, p = n.slice(i, u - 1).match(dG), p && i > 0 && (h *= Math.pow(gx, p.length))) : hG.test(n.charAt(u - 1)) ? (h *= oG, b = n.slice(i, u - 1).match(KO), b && i > 0 && (h *= Math.pow(gx, b.length))) : (h *= AG, i > 0 && (h *= Math.pow(gx, u - i))), n.charAt(u) !== e.charAt(s) && (h *= cG)), (h < px && t.charAt(u - 1) === r.charAt(s + 1) || r.charAt(s + 1) === r.charAt(s) && t.charAt(u - 1) !== r.charAt(s)) && (m = oC(n, e, t, r, u + 1, s + 2, a), m * px > h && (h = m * px)), h > f && (f = h), u = t.indexOf(A, u + 1); return a[o] = f, f } function CN(n) { return n.toLowerCase().replace(KO, " ") } function pG(n, e, t) { return n = t && t.length > 0 ? `${n + " " + t.join(" ")}` : n, oC(n, e, CN(n), CN(e), 0, 0, {}) } var Rm = '[cmdk-group=""]', mx = '[cmdk-group-items=""]', gG = '[cmdk-group-heading=""]', VO = '[cmdk-item=""]', EN = `${VO}:not([aria-disabled="true"])`, lC = "cmdk-item-select", ig = "data-value", mG = (n, e, t) => pG(n, e, t), GO = F.createContext(void 0), $0 = () => F.useContext(GO), WO = F.createContext(void 0), uE = () => F.useContext(WO), YO = F.createContext(void 0), JO = F.forwardRef((n, e) => { let t = sg(() => { var L, re; return { search: "", value: (re = (L = n.value) != null ? L : n.defaultValue) != null ? re : "", selectedItemId: void 0, filtered: { count: 0, items: new Map, groups: new Set } } }), r = sg(() => new Set), i = sg(() => new Map), s = sg(() => new Map), a = sg(() => new Set), o = XO(n), { label: A, children: u, value: f, onValueChange: h, filter: m, shouldFilter: p, loop: b, disablePointerSelection: y = !1, vimBindings: E = !0, ..._ } = n, O = Hl(), I = Hl(), D = Hl(), z = F.useRef(null), X = NG(); Zh(() => { if (f !== void 0) { let L = f.trim(); t.current.value = L, q.emit() } }, [f]), Zh(() => { X(6, se) }, []); let q = F.useMemo(() => ({ subscribe: L => (a.current.add(L), () => a.current.delete(L)), snapshot: () => t.current, setState: (L, re, ie) => { var oe, de, Be, Re; if (!Object.is(t.current[L], re)) { if (t.current[L] = re, L === "search") V(), fe(), X(1, ne); else if (L === "value") { if (document.activeElement.hasAttribute("cmdk-input") || document.activeElement.hasAttribute("cmdk-root")) { let Ie = document.getElementById(D); Ie ? Ie.focus() : (oe = document.getElementById(O)) == null || oe.focus() } if (X(7, () => { var Ie; t.current.selectedItemId = (Ie = M()) == null ? void 0 : Ie.id, q.emit() }), ie || X(5, se), ((de = o.current) == null ? void 0 : de.value) !== void 0) { let Ie = re ?? ""; (Re = (Be = o.current).onValueChange) == null || Re.call(Be, Ie); return } } q.emit() } }, emit: () => { a.current.forEach(L => L()) } }), []), W = F.useMemo(() => ({ value: (L, re, ie) => { var oe; re !== ((oe = s.current.get(L)) == null ? void 0 : oe.value) && (s.current.set(L, { value: re, keywords: ie }), t.current.filtered.items.set(L, G(re, ie)), X(2, () => { fe(), q.emit() })) }, item: (L, re) => (r.current.add(L), re && (i.current.has(re) ? i.current.get(re).add(L) : i.current.set(re, new Set([L]))), X(3, () => { V(), fe(), t.current.value || ne(), q.emit() }), () => { s.current.delete(L), r.current.delete(L), t.current.filtered.items.delete(L); let ie = M(); X(4, () => { V(), ie?.getAttribute("id") === L && ne(), q.emit() }) }), group: L => (i.current.has(L) || i.current.set(L, new Set), () => { s.current.delete(L), i.current.delete(L) }), filter: () => o.current.shouldFilter, label: A || n["aria-label"], getDisablePointerSelection: () => o.current.disablePointerSelection, listId: O, inputId: D, labelId: I, listInnerRef: z }), []); function G(L, re) { var ie, oe; let de = (oe = (ie = o.current) == null ? void 0 : ie.filter) != null ? oe : mG; return L ? de(L, t.current.search, re) : 0 } function fe() { if (!t.current.search || o.current.shouldFilter === !1) return; let L = t.current.filtered.items, re = []; t.current.filtered.groups.forEach(oe => { let de = i.current.get(oe), Be = 0; de.forEach(Re => { let Ie = L.get(Re); Be = Math.max(Ie, Be) }), re.push([oe, Be]) }); let ie = z.current; pe().sort((oe, de) => { var Be, Re; let Ie = oe.getAttribute("id"), Ye = de.getAttribute("id"); return ((Be = L.get(Ye)) != null ? Be : 0) - ((Re = L.get(Ie)) != null ? Re : 0) }).forEach(oe => { let de = oe.closest(mx); de ? de.appendChild(oe.parentElement === de ? oe : oe.closest(`${mx} > *`)) : ie.appendChild(oe.parentElement === ie ? oe : oe.closest(`${mx} > *`)) }), re.sort((oe, de) => de[1] - oe[1]).forEach(oe => { var de; let Be = (de = z.current) == null ? void 0 : de.querySelector(`${Rm}[${ig}="${encodeURIComponent(oe[0])}"]`); Be?.parentElement.appendChild(Be) }) } function ne() { let L = pe().find(ie => ie.getAttribute("aria-disabled") !== "true"), re = L?.getAttribute(ig); q.setState("value", re || void 0) } function V() { var L, re, ie, oe; if (!t.current.search || o.current.shouldFilter === !1) { t.current.filtered.count = r.current.size; return } t.current.filtered.groups = new Set; let de = 0; for (let Be of r.current) { let Re = (re = (L = s.current.get(Be)) == null ? void 0 : L.value) != null ? re : "", Ie = (oe = (ie = s.current.get(Be)) == null ? void 0 : ie.keywords) != null ? oe : [], Ye = G(Re, Ie); t.current.filtered.items.set(Be, Ye), Ye > 0 && de++ } for (let [Be, Re] of i.current) for (let Ie of Re) if (t.current.filtered.items.get(Ie) > 0) { t.current.filtered.groups.add(Be); break } t.current.filtered.count = de } function se() { var L, re, ie; let oe = M(); oe && (((L = oe.parentElement) == null ? void 0 : L.firstChild) === oe && ((ie = (re = oe.closest(Rm)) == null ? void 0 : re.querySelector(gG)) == null || ie.scrollIntoView({ block: "nearest" })), oe.scrollIntoView({ block: "nearest" })) } function M() { var L; return (L = z.current) == null ? void 0 : L.querySelector(`${VO}[aria-selected="true"]`) } function pe() { var L; return Array.from(((L = z.current) == null ? void 0 : L.querySelectorAll(EN)) || []) } function Z(L) { let re = pe()[L]; re && q.setState("value", re.getAttribute(ig)) } function ae(L) { var re; let ie = M(), oe = pe(), de = oe.findIndex(Re => Re === ie), Be = oe[de + L]; (re = o.current) != null && re.loop && (Be = de + L < 0 ? oe[oe.length - 1] : de + L === oe.length ? oe[0] : oe[de + L]), Be && q.setState("value", Be.getAttribute(ig)) } function me(L) { let re = M(), ie = re?.closest(Rm), oe; for (; ie && !oe;)ie = L > 0 ? SG(ie, Rm) : _G(ie, Rm), oe = ie?.querySelector(EN); oe ? q.setState("value", oe.getAttribute(ig)) : ae(L) } let ke = () => Z(pe().length - 1), Ce = L => { L.preventDefault(), L.metaKey ? ke() : L.altKey ? me(1) : ae(1) }, j = L => { L.preventDefault(), L.metaKey ? Z(0) : L.altKey ? me(-1) : ae(-1) }; return F.createElement(bf.div, { ref: e, tabIndex: -1, ..._, "cmdk-root": "", onKeyDown: L => { var re; (re = _.onKeyDown) == null || re.call(_, L); let ie = L.nativeEvent.isComposing || L.keyCode === 229; if (!(L.defaultPrevented || ie)) switch (L.key) { case "n": case "j": { E && L.ctrlKey && Ce(L); break } case "ArrowDown": { Ce(L); break } case "p": case "k": { E && L.ctrlKey && j(L); break } case "ArrowUp": { j(L); break } case "Home": { L.preventDefault(), Z(0); break } case "End": { L.preventDefault(), ke(); break } case "Enter": { L.preventDefault(); let oe = M(); if (oe) { let de = new Event(lC); oe.dispatchEvent(de) } } } } }, F.createElement("label", { "cmdk-label": "", htmlFor: W.inputId, id: W.labelId, style: TG }, A), db(n, L => F.createElement(WO.Provider, { value: q }, F.createElement(GO.Provider, { value: W }, L)))) }), vG = F.forwardRef((n, e) => { var t, r; let i = Hl(), s = F.useRef(null), a = F.useContext(YO), o = $0(), A = XO(n), u = (r = (t = A.current) == null ? void 0 : t.forceMount) != null ? r : a?.forceMount; Zh(() => { if (!u) return o.item(i, a?.id) }, [u]); let f = ZO(i, s, [n.value, n.children, s], n.keywords), h = uE(), m = kd(X => X.value && X.value === f.current), p = kd(X => u || o.filter() === !1 ? !0 : X.search ? X.filtered.items.get(i) > 0 : !0); F.useEffect(() => { let X = s.current; if (!(!X || n.disabled)) return X.addEventListener(lC, b), () => X.removeEventListener(lC, b) }, [p, n.onSelect, n.disabled]); function b() { var X, q; y(), (q = (X = A.current).onSelect) == null || q.call(X, f.current) } function y() { h.setState("value", f.current, !0) } if (!p) return null; let { disabled: E, value: _, onSelect: O, forceMount: I, keywords: D, ...z } = n; return F.createElement(bf.div, { ref: Ia(s, e), ...z, id: i, "cmdk-item": "", role: "option", "aria-disabled": !!E, "aria-selected": !!m, "data-disabled": !!E, "data-selected": !!m, onPointerMove: E || o.getDisablePointerSelection() ? void 0 : y, onClick: E ? void 0 : b }, n.children) }), yG = F.forwardRef((n, e) => { let { heading: t, children: r, forceMount: i, ...s } = n, a = Hl(), o = F.useRef(null), A = F.useRef(null), u = Hl(), f = $0(), h = kd(p => i || f.filter() === !1 ? !0 : p.search ? p.filtered.groups.has(a) : !0); Zh(() => f.group(a), []), ZO(a, o, [n.value, n.heading, A]); let m = F.useMemo(() => ({ id: a, forceMount: i }), [i]); return F.createElement(bf.div, { ref: Ia(o, e), ...s, "cmdk-group": "", role: "presentation", hidden: h ? void 0 : !0 }, t && F.createElement("div", { ref: A, "cmdk-group-heading": "", "aria-hidden": !0, id: u }, t), db(n, p => F.createElement("div", { "cmdk-group-items": "", role: "group", "aria-labelledby": t ? u : void 0 }, F.createElement(YO.Provider, { value: m }, p)))) }), wG = F.forwardRef((n, e) => { let { alwaysRender: t, ...r } = n, i = F.useRef(null), s = kd(a => !a.search); return !t && !s ? null : F.createElement(bf.div, { ref: Ia(i, e), ...r, "cmdk-separator": "", role: "separator" }) }), bG = F.forwardRef((n, e) => { let { onValueChange: t, ...r } = n, i = n.value != null, s = uE(), a = kd(u => u.search), o = kd(u => u.selectedItemId), A = $0(); return F.useEffect(() => { n.value != null && s.setState("search", n.value) }, [n.value]), F.createElement(bf.input, { ref: e, ...r, "cmdk-input": "", autoComplete: "off", autoCorrect: "off", spellCheck: !1, "aria-autocomplete": "list", role: "combobox", "aria-expanded": !0, "aria-controls": A.listId, "aria-labelledby": A.labelId, "aria-activedescendant": o, id: A.inputId, type: "text", value: i ? n.value : a, onChange: u => { i || s.setState("search", u.target.value), t?.(u.target.value) } }) }), xG = F.forwardRef((n, e) => { let { children: t, label: r = "Suggestions", ...i } = n, s = F.useRef(null), a = F.useRef(null), o = kd(u => u.selectedItemId), A = $0(); return F.useEffect(() => { if (a.current && s.current) { let u = a.current, f = s.current, h, m = new ResizeObserver(() => { h = requestAnimationFrame(() => { let p = u.offsetHeight; f.style.setProperty("--cmdk-list-height", p.toFixed(1) + "px") }) }); return m.observe(u), () => { cancelAnimationFrame(h), m.unobserve(u) } } }, []), F.createElement(bf.div, { ref: Ia(s, e), ...i, "cmdk-list": "", role: "listbox", tabIndex: -1, "aria-activedescendant": o, "aria-label": r, id: A.listId }, db(n, u => F.createElement("div", { ref: Ia(a, A.listInnerRef), "cmdk-list-sizer": "" }, u))) }), BG = F.forwardRef((n, e) => { let { open: t, onOpenChange: r, overlayClassName: i, contentClassName: s, container: a, ...o } = n; return F.createElement(PO, { open: t, onOpenChange: r }, F.createElement(HO, { container: a }, F.createElement(AE, { "cmdk-overlay": "", className: i }), F.createElement(cE, { "aria-label": n.label, "cmdk-dialog": "", className: s }, F.createElement(JO, { ref: e, ...o })))) }), CG = F.forwardRef((n, e) => kd(t => t.filtered.count === 0) ? F.createElement(bf.div, { ref: e, ...n, "cmdk-empty": "", role: "presentation" }) : null), EG = F.forwardRef((n, e) => { let { progress: t, children: r, label: i = "Loading...", ...s } = n; return F.createElement(bf.div, { ref: e, ...s, "cmdk-loading": "", role: "progressbar", "aria-valuenow": t, "aria-valuemin": 0, "aria-valuemax": 100, "aria-label": i }, db(n, a => F.createElement("div", { "aria-hidden": !0 }, a))) }), mA = Object.assign(JO, { List: xG, Item: vG, Input: bG, Group: yG, Separator: wG, Dialog: BG, Empty: CG, Loading: EG }); function SG(n, e) { let t = n.nextElementSibling; for (; t;) { if (t.matches(e)) return t; t = t.nextElementSibling } } function _G(n, e) { let t = n.previousElementSibling; for (; t;) { if (t.matches(e)) return t; t = t.previousElementSibling } } function XO(n) { let e = F.useRef(n); return Zh(() => { e.current = n }), e } var Zh = typeof window > "u" ? F.useEffect : F.useLayoutEffect; function sg(n) { let e = F.useRef(); return e.current === void 0 && (e.current = n()), e } function kd(n) { let e = uE(), t = () => n(e.snapshot()); return F.useSyncExternalStore(e.subscribe, t, t) } function ZO(n, e, t, r = []) { let i = F.useRef(), s = $0(); return Zh(() => { var a; let o = (() => { var u; for (let f of t) { if (typeof f == "string") return f.trim(); if (typeof f == "object" && "current" in f) return f.current ? (u = f.current.textContent) == null ? void 0 : u.trim() : i.current } })(), A = r.map(u => u.trim()); s.value(n, o, A), (a = e.current) == null || a.setAttribute(ig, o), i.current = o }), i } var NG = () => { let [n, e] = F.useState(), t = sg(() => new Map); return Zh(() => { t.current.forEach(r => r()), t.current = new Map }, [n]), (r, i) => { t.current.set(r, i), e({}) } }; function kG(n) { let e = n.type; return typeof e == "function" ? e(n.props) : "render" in e ? e.render(n.props) : n } function db({ asChild: n, children: e }, t) { return n && F.isValidElement(e) ? F.cloneElement(kG(e), { ref: e.ref }, t(e.props.children)) : t(e) } var TG = { position: "absolute", width: "1px", height: "1px", padding: "0", margin: "-1px", overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", borderWidth: "0" }; const Gc = PO, j1 = sG, FG = HO, qO = F.forwardRef(({ className: n, ...e }, t) => g.jsx(AE, { ref: t, className: Dn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", n), ...e })); qO.displayName = AE.displayName; const cc = F.forwardRef(({ className: n, children: e, ...t }, r) => g.jsxs(FG, { children: [g.jsx(qO, {}), g.jsxs(cE, { ref: r, className: Dn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", n), ...t, children: [e, g.jsxs(aG, { className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground", children: [g.jsx(rE, { className: "h-4 w-4" }), g.jsx("span", { className: "sr-only", children: "Close" })] })] })] })); cc.displayName = cE.displayName; const Wc = ({ className: n, ...e }) => g.jsx("div", { className: Dn("flex flex-col space-y-1.5 text-center sm:text-left", n), ...e }); Wc.displayName = "DialogHeader"; const $O = ({ className: n, ...e }) => g.jsx("div", { className: Dn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", n), ...e }); $O.displayName = "DialogFooter"; const uc = F.forwardRef(({ className: n, ...e }, t) => g.jsx(jO, { ref: t, className: Dn("text-lg font-semibold leading-none tracking-tight", n), ...e })); uc.displayName = jO.displayName; const Yc = F.forwardRef(({ className: n, ...e }, t) => g.jsx(zO, { ref: t, className: Dn("text-sm text-muted-foreground", n), ...e })); Yc.displayName = zO.displayName; const ev = F.forwardRef(({ className: n, ...e }, t) => g.jsx(mA, { ref: t, className: Dn("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground", n), ...e })); ev.displayName = mA.displayName; const UG = ({ children: n, ...e }) => g.jsx(Gc, { ...e, children: g.jsxs(cc, { className: "overflow-hidden p-0 shadow-lg", children: [g.jsx(uc, { className: "sr-only", children: "Command Menu" }), g.jsx(ev, { className: "[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5", children: n })] }) }), tv = F.forwardRef(({ className: n, ...e }, t) => g.jsxs("div", { className: "flex items-center border-b px-3", "cmdk-input-wrapper": "", children: [g.jsx(_u, { className: "mr-2 h-4 w-4 shrink-0 opacity-50" }), g.jsx(mA.Input, { ref: t, className: Dn("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50", n), ...e })] })); tv.displayName = mA.Input.displayName; const nv = F.forwardRef(({ className: n, ...e }, t) => g.jsx(mA.List, { ref: t, className: Dn("max-h-[300px] overflow-y-auto overflow-x-hidden", n), ...e })); nv.displayName = mA.List.displayName; const rv = F.forwardRef((n, e) => g.jsx(mA.Empty, { ref: e, className: "py-6 text-center text-sm", ...n })); rv.displayName = mA.Empty.displayName; const iv = F.forwardRef(({ className: n, ...e }, t) => g.jsx(mA.Group, { ref: t, className: Dn("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground", n), ...e })); iv.displayName = mA.Group.displayName; const OG = F.forwardRef(({ className: n, ...e }, t) => g.jsx(mA.Separator, { ref: t, className: Dn("-mx-1 h-px bg-border", n), ...e })); OG.displayName = mA.Separator.displayName; const sv = F.forwardRef(({ className: n, ...e }, t) => g.jsx(mA.Item, { ref: t, className: Dn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", n), ...e })); sv.displayName = mA.Item.displayName; const fE = { async search(n, e) { if (!n || n.length < 2) return []; let t = jt.from("global_search_index").select("*").or(`title.ilike.%${n}%,summary.ilike.%${n}%`).limit(10); e && e !== "all" && (t = t.eq("type", e)); const { data: r, error: i } = await t; return i ? (console.error("Search failed:", i), []) : r } }; function RG() { const [n, e] = F.useState(!1), [t, r] = F.useState(""), [i, s] = F.useState([]), [a, o] = F.useState(!1), A = bc(), [u, f] = F.useState("all"); F.useEffect(() => { const p = setTimeout(async () => { if (t.length < 2) { s([]); return } o(!0); try { const b = await fE.search(t, u); s(b) } catch (b) { console.error(b) } finally { o(!1) } }, 300); return () => clearTimeout(p) }, [t, u]); const h = m => { e(!1), m.type === "report" && A(`/reports/${m.id}`), m.type === "arrest" && A(`/arrests/${m.id}`), m.type === "investigation" && A(`/investigations/${m.id}`), m.type === "civilian" && A(`/civilians/${m.id}`), m.type === "vehicle" && A("/vehicles"), m.type === "weapon" && A("/weapons") }; return g.jsxs(g.Fragment, { children: [g.jsxs("div", { className: "relative w-full max-w-sm cursor-pointer", onClick: () => e(!0), children: [g.jsx(_u, { className: "absolute left-2 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx("div", { className: "flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 pl-9 text-sm text-muted-foreground shadow-sm ring-offset-background", children: "Rechercher... (Cmd+K)" })] }), g.jsxs(UG, { open: n, onOpenChange: e, children: [g.jsxs("div", { className: "flex items-center border-b px-3", children: [g.jsx(_u, { className: "mr-2 h-4 w-4 shrink-0 opacity-50" }), g.jsx(tv, { placeholder: "Rechercher dans la base de donnes...", value: t, onValueChange: r, className: "flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 border-none focus:ring-0" })] }), g.jsx("div", { className: "flex gap-2 p-2 border-b overflow-x-auto", children: [{ key: "all", label: "Tout" }, { key: "civilian", label: "Civils" }, { key: "vehicle", label: "Vhicules" }, { key: "report", label: "Rapports" }, { key: "arrest", label: "Arrestations" }].map(m => g.jsx("button", { onClick: () => f(m.key), className: `px-3 py-1 text-xs rounded-full border ${u === m.key ? "bg-primary text-primary-foreground border-primary" : "bg-background text-muted-foreground border-input hover:bg-accent"}`, children: m.label }, m.key)) }), g.jsxs(nv, { children: [g.jsx(rv, { children: a ? "Recherche en cours..." : "Aucun rsultat trouv." }), i.length > 0 && g.jsx(iv, { heading: "Rsultats", children: i.map(m => g.jsxs(sv, { onSelect: () => h(m), children: [m.type === "report" && g.jsx(Eu, { className: "mr-2 h-4 w-4" }), m.type === "arrest" && g.jsx(yd, { className: "mr-2 h-4 w-4" }), m.type === "investigation" && g.jsx(N0, { className: "mr-2 h-4 w-4" }), m.type === "civilian" && g.jsx(nE, { className: "mr-2 h-4 w-4" }), m.type === "vehicle" && g.jsx(k0, { className: "mr-2 h-4 w-4" }), g.jsxs("div", { className: "flex flex-col", children: [g.jsx("span", { children: m.title }), g.jsx("span", { className: "text-xs text-muted-foreground truncate max-w-[300px]", children: m.summary })] }), m.classification !== "Unclassified" && g.jsx("span", { className: "ml-auto text-xs font-bold text-red-500", children: m.classification.toUpperCase() })] }, `${m.type}-${m.id}`)) })] })] })] }) } function IG() { return g.jsxs("header", { className: "h-16 border-b bg-primary text-primary-foreground flex items-center px-6 justify-between shadow-md", children: [g.jsx("div", { className: "flex items-center gap-4", children: g.jsxs("h1", { className: "text-lg font-bold tracking-wide uppercase", children: ["NOOSE ", g.jsx("span", { className: "text-xs font-normal opacity-80 normal-case ml-2", children: "National Office Of Homeland Security" })] }) }), g.jsx("div", { className: "flex-1 max-w-xl mx-8", children: g.jsx(RG, {}) }), g.jsx("div", { className: "flex items-center gap-4", children: g.jsx(Vt, { variant: "ghost", size: "sm", className: "text-primary-foreground hover:bg-primary/80 hover:text-white", children: g.jsx(t9, { className: "h-5 w-5" }) }) })] }) } function LG() { return g.jsxs("div", { className: "flex h-screen bg-background overflow-hidden", children: [g.jsx(AK, {}), g.jsxs("div", { className: "flex-1 flex flex-col overflow-hidden", children: [g.jsx(IG, {}), g.jsx("main", { className: "flex-1 overflow-y-auto bg-muted/10 p-6", children: g.jsx(VF, {}) })] })] }) } function MG() { return g.jsxs("div", { className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4 col-span-2", children: [g.jsxs(bs, { children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [g.jsx(Oa, { className: "text-sm font-medium", children: "Total des rapports" }), g.jsx(Eu, { className: "h-4 w-4 text-muted-foreground" })] }), g.jsxs(xs, { children: [g.jsx("div", { className: "text-2xl font-bold", children: "1,234" }), g.jsx("p", { className: "text-xs text-muted-foreground", children: "+20,1% par rapport au mois dernier" })] })] }), g.jsxs(bs, { children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [g.jsx(Oa, { className: "text-sm font-medium", children: "Arrestations actives" }), g.jsx(yd, { className: "h-4 w-4 text-muted-foreground" })] }), g.jsxs(xs, { children: [g.jsx("div", { className: "text-2xl font-bold", children: "45" }), g.jsx("p", { className: "text-xs text-muted-foreground", children: "+2 depuis hier" })] })] }), g.jsxs(bs, { children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [g.jsx(Oa, { className: "text-sm font-medium", children: "Dossiers ouverts" }), g.jsx(N0, { className: "h-4 w-4 text-muted-foreground" })] }), g.jsxs(xs, { children: [g.jsx("div", { className: "text-2xl font-bold", children: "12" }), g.jsx("p", { className: "text-xs text-muted-foreground", children: "-1 ferm cette semaine" })] })] }), g.jsxs(bs, { children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [g.jsx(Oa, { className: "text-sm font-medium", children: "Niveau d'alerte" }), g.jsx(eK, { className: "h-4 w-4 text-red-500" })] }), g.jsxs(xs, { children: [g.jsx("div", { className: "text-2xl font-bold text-red-500", children: "LEV" }), g.jsx("p", { className: "text-xs text-muted-foreground", children: "valuation de menace active" })] })] })] }) } const Th = { async getAll() { const { data: n, error: e } = await jt.from("reports").select("*, author:noose_user(username, rank), suspect:noose_civilians(full_name, dob, address, height, weight, pob)").order("created_at", { ascending: !1 }); if (e) throw e; return n }, async getById(n) { const { data: e, error: t } = await jt.from("reports").select("*, author:noose_user(username, rank), suspect:noose_civilians(full_name, dob, address, height, weight, pob)").eq("id", n).single(); if (t) throw t; return e }, async create(n) { const { data: e, error: t } = await jt.from("reports").insert(n).select().single(); if (t) throw t; return e }, async update(n, e) { const { data: t, error: r } = await jt.from("reports").update(e).eq("id", n).select().single(); if (r) throw r; return t }, async shareWithTeams(n, e) { const { data: t, error: r } = await jt.from("reports").update({ shared_with_teams: e }).eq("id", n).select().single(); if (r) throw r; return t }, async addTeamShare(n, e) { const { data: t } = await jt.from("reports").select("shared_with_teams").eq("id", n).single(), r = t?.shared_with_teams || []; return r.includes(e) || r.push(e), this.shareWithTeams(n, r) }, async removeTeamShare(n, e) { const { data: t } = await jt.from("reports").select("shared_with_teams").eq("id", n).single(), r = (t?.shared_with_teams || []).filter(i => i !== e); return this.shareWithTeams(n, r) }, async getSharedTeams(n) { const { data: e } = await jt.from("reports").select("shared_with_teams").eq("id", n).single(); if (!e?.shared_with_teams || e.shared_with_teams.length === 0) return []; const { data: t, error: r } = await jt.from("teams").select("*").in("id", e.shared_with_teams); if (r) throw r; return t } }; function QG() { const [n, e] = F.useState([]), [t, r] = F.useState(!0); return F.useEffect(() => { async function i() { try { const s = await Th.getAll(); e(s.slice(0, 5)) } catch (s) { console.error("Failed to fetch reports:", s) } finally { r(!1) } } i() }, []), t ? g.jsx(bs, { className: "col-span-1", children: g.jsx(xs, { className: "p-6", children: "Loading reports..." }) }) : g.jsxs(bs, { className: "col-span-1", children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [g.jsx(Oa, { className: "text-sm font-medium", children: "Recent Reports" }), g.jsx(Eu, { className: "h-4 w-4 text-muted-foreground" })] }), g.jsx(xs, { children: g.jsx("div", { className: "space-y-4", children: n.length === 0 ? g.jsx("p", { className: "text-sm text-muted-foreground", children: "No recent reports." }) : n.map(i => g.jsxs("div", { className: "flex items-center justify-between border-b pb-2 last:border-0 last:pb-0", children: [g.jsxs("div", { className: "space-y-1", children: [g.jsx("p", { className: "text-sm font-medium leading-none", children: i.title }), g.jsxs("p", { className: "text-xs text-muted-foreground", children: [i.id, "  ", new Date(i.created_at).toLocaleDateString()] })] }), g.jsx("div", { className: "flex items-center gap-2", children: g.jsx("span", { className: `text-xs px-2 py-0.5 rounded-full ${i.status === "Validated" ? "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100" : "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"}`, children: i.status }) })] }, i.id)) }) })] }) } const Af = { async getAll() { const { data: n, error: e } = await jt.from("investigations").select("*").order("created_at", { ascending: !1 }); if (e) throw e; return n }, async getById(n) { const { data: e, error: t } = await jt.from("investigations").select("*").eq("id", n).single(); if (t) throw t; return e }, async create(n) { const { data: e, error: t } = await jt.from("investigations").insert(n).select().single(); if (t) throw t; return e }, async update(n, e) { const { data: t, error: r } = await jt.from("investigations").update(e).eq("id", n).select().single(); if (r) throw r; return t }, async addLink(n, e, t, r, i) { const { data: s, error: a } = await jt.from("investigation_links").insert({ investigation_id: n, linked_item_type: e, linked_item_id: t, linked_item_title: r, notes: i }).select().single(); if (a) throw a; return s }, async removeLink(n) { const { error: e } = await jt.from("investigation_links").delete().eq("id", n); if (e) throw e }, async getLinks(n) { const { data: e, error: t } = await jt.from("investigation_links").select("*").eq("investigation_id", n); if (t) throw t; return e }, async shareWithTeams(n, e) { const { data: t, error: r } = await jt.from("investigations").update({ shared_with_teams: e }).eq("id", n).select().single(); if (r) throw r; return t }, async addTeamShare(n, e) { const { data: t } = await jt.from("investigations").select("shared_with_teams").eq("id", n).single(), r = t?.shared_with_teams || []; return r.includes(e) || r.push(e), this.shareWithTeams(n, r) }, async removeTeamShare(n, e) { const { data: t } = await jt.from("investigations").select("shared_with_teams").eq("id", n).single(), r = (t?.shared_with_teams || []).filter(i => i !== e); return this.shareWithTeams(n, r) }, async getSharedTeams(n) { const { data: e } = await jt.from("investigations").select("shared_with_teams").eq("id", n).single(); if (!e?.shared_with_teams || e.shared_with_teams.length === 0) return []; const { data: t, error: r } = await jt.from("teams").select("*").in("id", e.shared_with_teams); if (r) throw r; return t } }; function DG() { const [n, e] = F.useState([]), [t, r] = F.useState(!0); return F.useEffect(() => { async function i() { try { const s = await Af.getAll(); e(s.slice(0, 5)) } catch (s) { console.error("Failed to fetch investigations:", s) } finally { r(!1) } } i() }, []), t ? g.jsx(bs, { className: "col-span-1", children: g.jsx(xs, { className: "p-6", children: "Loading cases..." }) }) : g.jsxs(bs, { className: "col-span-1", children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [g.jsx(Oa, { className: "text-sm font-medium", children: "Active Investigations" }), g.jsx(N0, { className: "h-4 w-4 text-muted-foreground" })] }), g.jsx(xs, { children: g.jsx("div", { className: "space-y-4", children: n.length === 0 ? g.jsx("p", { className: "text-sm text-muted-foreground", children: "No active investigations." }) : n.map(i => g.jsxs("div", { className: "flex items-center justify-between border-b pb-2 last:border-0 last:pb-0", children: [g.jsxs("div", { className: "space-y-1", children: [g.jsx("p", { className: "text-sm font-medium leading-none", children: i.title }), g.jsxs("p", { className: "text-xs text-muted-foreground", children: [i.case_number, "  Lead: ", i.lead_agent_id] })] }), g.jsx("span", { className: "text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100 px-2 py-0.5 rounded-full", children: i.status })] }, i.id)) }) })] }) } function PG() { const n = bc(); return g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Actions rapides" }) }), g.jsxs(xs, { className: "grid grid-cols-2 gap-4", children: [g.jsxs(Vt, { variant: "outline", className: "h-20 flex flex-col gap-2", onClick: () => n("/civilians"), children: [g.jsx(Z0, { className: "h-6 w-6" }), "Crer un civil"] }), g.jsxs(Vt, { variant: "outline", className: "h-20 flex flex-col gap-2", onClick: () => n("/vehicles"), children: [g.jsx(k0, { className: "h-6 w-6" }), "Enregistrer un vhicule"] }), g.jsxs(Vt, { variant: "outline", className: "h-20 flex flex-col gap-2", onClick: () => n("/weapons"), children: [g.jsx(kg, { className: "h-6 w-6" }), "Enregistrer une arme"] }), g.jsxs(Vt, { variant: "outline", className: "h-20 flex flex-col gap-2", onClick: () => n("/reports/new"), children: [g.jsx(Eu, { className: "h-6 w-6" }), "Nouveau rapport"] }), g.jsxs(Vt, { variant: "outline", className: "h-20 flex flex-col gap-2", onClick: () => n("/arrests/new"), children: [g.jsx(yd, { className: "h-6 w-6" }), "Nouvelle arrestation"] })] })] }) } function HG() { return g.jsxs("div", { className: "space-y-6", children: [g.jsx("div", { className: "flex items-center justify-between", children: g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Tableau de bord" }) }), g.jsx(MG, {}), g.jsxs("div", { className: "grid gap-4 md:grid-cols-2 lg:grid-cols-2", children: [g.jsx(PG, {}), g.jsx(QG, {}), g.jsx(DG, {})] })] }) } const Hd = F.forwardRef(({ className: n, ...e }, t) => g.jsx("div", { className: "relative w-full overflow-auto", children: g.jsx("table", { ref: t, className: Dn("w-full caption-bottom text-sm", n), ...e }) })); Hd.displayName = "Table"; const jd = F.forwardRef(({ className: n, ...e }, t) => g.jsx("thead", { ref: t, className: Dn("[&_tr]:border-b", n), ...e })); jd.displayName = "TableHeader"; const zd = F.forwardRef(({ className: n, ...e }, t) => g.jsx("tbody", { ref: t, className: Dn("[&_tr:last-child]:border-0", n), ...e })); zd.displayName = "TableBody"; const jG = F.forwardRef(({ className: n, ...e }, t) => g.jsx("tfoot", { ref: t, className: Dn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0", n), ...e })); jG.displayName = "TableFooter"; const Ii = F.forwardRef(({ className: n, ...e }, t) => g.jsx("tr", { ref: t, className: Dn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted", n), ...e })); Ii.displayName = "TableRow"; const er = F.forwardRef(({ className: n, ...e }, t) => g.jsx("th", { ref: t, className: Dn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0", n), ...e })); er.displayName = "TableHead"; const wn = F.forwardRef(({ className: n, ...e }, t) => g.jsx("td", { ref: t, className: Dn("p-4 align-middle [&:has([role=checkbox])]:pr-0", n), ...e })); wn.displayName = "TableCell"; const zG = F.forwardRef(({ className: n, ...e }, t) => g.jsx("caption", { ref: t, className: Dn("mt-4 text-sm text-muted-foreground", n), ...e })); zG.displayName = "TableCaption"; const KG = X5("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2", { variants: { variant: { default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80", secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80", destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80", outline: "text-foreground" } }, defaultVariants: { variant: "default" } }); function nl({ className: n, variant: e, ...t }) { return g.jsx("div", { className: Dn(KG({ variant: e }), n), ...t }) } function VG() { const n = bc(), [e, t] = F.useState(""), [r, i] = F.useState([]), [s, a] = F.useState(!0); F.useEffect(() => { async function A() { try { const u = await Th.getAll(); i(u) } catch (u) { console.error("Failed to fetch reports:", u) } finally { a(!1) } } A() }, []); const o = r.filter(A => A.title.toLowerCase().includes(e.toLowerCase()) || A.id.toLowerCase().includes(e.toLowerCase())); return g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Rapports" }), g.jsxs(Vt, { onClick: () => n("/reports/new"), children: [g.jsx(Ap, { className: "mr-2 h-4 w-4" }), " Nouveau rapport"] })] }), g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsxs("div", { className: "relative flex-1 max-w-sm", children: [g.jsx(_u, { className: "absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Rechercher des rapports...", className: "pl-9", value: e, onChange: A => t(A.target.value) })] }), g.jsx(Vt, { variant: "outline", size: "icon", children: g.jsx(eE, { className: "h-4 w-4" }) })] }), g.jsx("div", { className: "rounded-md border bg-card", children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "ID" }), g.jsx(er, { children: "Titre" }), g.jsx(er, { children: "Auteur" }), g.jsx(er, { children: "Date" }), g.jsx(er, { children: "Classification" }), g.jsx(er, { children: "Statut" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: s ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 7, className: "text-center py-8", children: "Chargement des rapports..." }) }) : o.length === 0 ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 7, className: "text-center py-8", children: "Aucun rapport trouv." }) }) : o.map(A => g.jsxs(Ii, { className: "cursor-pointer hover:bg-muted/50", onClick: () => n(`/reports/${A.id}`), children: [g.jsxs(wn, { className: "font-medium", children: [A.id.substring(0, 8), "..."] }), g.jsx(wn, { children: A.title }), g.jsx(wn, { children: A.author ? g.jsxs("div", { className: "flex flex-col", children: [g.jsx("span", { className: "text-sm font-medium", children: A.author.username }), g.jsx("span", { className: "text-xs text-muted-foreground", children: A.author.rank })] }) : g.jsx("span", { className: "text-muted-foreground text-xs", children: A.author_id }) }), g.jsx(wn, { children: new Date(A.created_at).toLocaleDateString() }), g.jsx(wn, { children: g.jsx(nl, { variant: A.classification === "Unclassified" ? "secondary" : "destructive", children: A.classification }) }), g.jsx(wn, { children: g.jsx(nl, { variant: A.status === "Validated" ? "default" : "secondary", children: A.status }) }), g.jsx(wn, { className: "text-right", children: g.jsx(Vt, { variant: "ghost", size: "sm", children: "Voir" }) })] }, A.id)) })] }) })] }) } function SN(n, [e, t]) { return Math.min(t, Math.max(e, n)) } function _N(n) { const e = GG(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(YG); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function GG(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = XG(i), o = JG(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var WG = Symbol("radix.slottable"); function YG(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === WG } function JG(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function XG(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } function eR(n) { const e = n + "CollectionProvider", [t, r] = Dd(e), [i, s] = t(e, { collectionRef: { current: null }, itemMap: new Map }), a = y => { const { scope: E, children: _ } = y, O = Xa.useRef(null), I = Xa.useRef(new Map).current; return g.jsx(i, { scope: E, itemMap: I, collectionRef: O, children: _ }) }; a.displayName = e; const o = n + "CollectionSlot", A = _N(o), u = Xa.forwardRef((y, E) => { const { scope: _, children: O } = y, I = s(o, _), D = is(E, I.collectionRef); return g.jsx(A, { ref: D, children: O }) }); u.displayName = o; const f = n + "CollectionItemSlot", h = "data-radix-collection-item", m = _N(f), p = Xa.forwardRef((y, E) => { const { scope: _, children: O, ...I } = y, D = Xa.useRef(null), z = is(E, D), X = s(f, _); return Xa.useEffect(() => (X.itemMap.set(D, { ref: D, ...I }), () => void X.itemMap.delete(D))), g.jsx(m, { [h]: "", ref: z, children: O }) }); p.displayName = f; function b(y) { const E = s(n + "CollectionConsumer", y); return Xa.useCallback(() => { const O = E.collectionRef.current; if (!O) return []; const I = Array.from(O.querySelectorAll(`[${h}]`)); return Array.from(E.itemMap.values()).sort((X, q) => I.indexOf(X.ref.current) - I.indexOf(q.ref.current)) }, [E.collectionRef, E.itemMap]) } return [{ Provider: a, Slot: u, ItemSlot: p }, b, r] } var ZG = F.createContext(void 0); function dE(n) { const e = F.useContext(ZG); return n || e || "ltr" } const qG = ["top", "right", "bottom", "left"], Td = Math.min, LA = Math.max, z1 = Math.round, wy = Math.floor, Su = n => ({ x: n, y: n }), $G = { left: "right", right: "left", bottom: "top", top: "bottom" }, eW = { start: "end", end: "start" }; function AC(n, e, t) { return LA(n, Td(e, t)) } function vf(n, e) { return typeof n == "function" ? n(e) : n } function yf(n) { return n.split("-")[0] } function Wg(n) { return n.split("-")[1] } function hE(n) { return n === "x" ? "y" : "x" } function pE(n) { return n === "y" ? "height" : "width" } const tW = new Set(["top", "bottom"]); function Bu(n) { return tW.has(yf(n)) ? "y" : "x" } function gE(n) { return hE(Bu(n)) } function nW(n, e, t) { t === void 0 && (t = !1); const r = Wg(n), i = gE(n), s = pE(i); let a = i === "x" ? r === (t ? "end" : "start") ? "right" : "left" : r === "start" ? "bottom" : "top"; return e.reference[s] > e.floating[s] && (a = K1(a)), [a, K1(a)] } function rW(n) { const e = K1(n); return [cC(n), e, cC(e)] } function cC(n) { return n.replace(/start|end/g, e => eW[e]) } const NN = ["left", "right"], kN = ["right", "left"], iW = ["top", "bottom"], sW = ["bottom", "top"]; function aW(n, e, t) { switch (n) { case "top": case "bottom": return t ? e ? kN : NN : e ? NN : kN; case "left": case "right": return e ? iW : sW; default: return [] } } function oW(n, e, t, r) { const i = Wg(n); let s = aW(yf(n), t === "start", r); return i && (s = s.map(a => a + "-" + i), e && (s = s.concat(s.map(cC)))), s } function K1(n) { return n.replace(/left|right|bottom|top/g, e => $G[e]) } function lW(n) { return { top: 0, right: 0, bottom: 0, left: 0, ...n } } function tR(n) { return typeof n != "number" ? lW(n) : { top: n, right: n, bottom: n, left: n } } function V1(n) { const { x: e, y: t, width: r, height: i } = n; return { width: r, height: i, top: t, left: e, right: e + r, bottom: t + i, x: e, y: t } } function TN(n, e, t) { let { reference: r, floating: i } = n; const s = Bu(e), a = gE(e), o = pE(a), A = yf(e), u = s === "y", f = r.x + r.width / 2 - i.width / 2, h = r.y + r.height / 2 - i.height / 2, m = r[o] / 2 - i[o] / 2; let p; switch (A) { case "top": p = { x: f, y: r.y - i.height }; break; case "bottom": p = { x: f, y: r.y + r.height }; break; case "right": p = { x: r.x + r.width, y: h }; break; case "left": p = { x: r.x - i.width, y: h }; break; default: p = { x: r.x, y: r.y } }switch (Wg(e)) { case "start": p[a] -= m * (t && u ? -1 : 1); break; case "end": p[a] += m * (t && u ? -1 : 1); break }return p } const AW = async (n, e, t) => { const { placement: r = "bottom", strategy: i = "absolute", middleware: s = [], platform: a } = t, o = s.filter(Boolean), A = await (a.isRTL == null ? void 0 : a.isRTL(e)); let u = await a.getElementRects({ reference: n, floating: e, strategy: i }), { x: f, y: h } = TN(u, r, A), m = r, p = {}, b = 0; for (let y = 0; y < o.length; y++) { const { name: E, fn: _ } = o[y], { x: O, y: I, data: D, reset: z } = await _({ x: f, y: h, initialPlacement: r, placement: m, strategy: i, middlewareData: p, rects: u, platform: a, elements: { reference: n, floating: e } }); f = O ?? f, h = I ?? h, p = { ...p, [E]: { ...p[E], ...D } }, z && b <= 50 && (b++, typeof z == "object" && (z.placement && (m = z.placement), z.rects && (u = z.rects === !0 ? await a.getElementRects({ reference: n, floating: e, strategy: i }) : z.rects), { x: f, y: h } = TN(u, m, A)), y = -1) } return { x: f, y: h, placement: m, strategy: i, middlewareData: p } }; async function T0(n, e) { var t; e === void 0 && (e = {}); const { x: r, y: i, platform: s, rects: a, elements: o, strategy: A } = n, { boundary: u = "clippingAncestors", rootBoundary: f = "viewport", elementContext: h = "floating", altBoundary: m = !1, padding: p = 0 } = vf(e, n), b = tR(p), E = o[m ? h === "floating" ? "reference" : "floating" : h], _ = V1(await s.getClippingRect({ element: (t = await (s.isElement == null ? void 0 : s.isElement(E))) == null || t ? E : E.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(o.floating)), boundary: u, rootBoundary: f, strategy: A })), O = h === "floating" ? { x: r, y: i, width: a.floating.width, height: a.floating.height } : a.reference, I = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(o.floating)), D = await (s.isElement == null ? void 0 : s.isElement(I)) ? await (s.getScale == null ? void 0 : s.getScale(I)) || { x: 1, y: 1 } : { x: 1, y: 1 }, z = V1(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({ elements: o, rect: O, offsetParent: I, strategy: A }) : O); return { top: (_.top - z.top + b.top) / D.y, bottom: (z.bottom - _.bottom + b.bottom) / D.y, left: (_.left - z.left + b.left) / D.x, right: (z.right - _.right + b.right) / D.x } } const cW = n => ({ name: "arrow", options: n, async fn(e) { const { x: t, y: r, placement: i, rects: s, platform: a, elements: o, middlewareData: A } = e, { element: u, padding: f = 0 } = vf(n, e) || {}; if (u == null) return {}; const h = tR(f), m = { x: t, y: r }, p = gE(i), b = pE(p), y = await a.getDimensions(u), E = p === "y", _ = E ? "top" : "left", O = E ? "bottom" : "right", I = E ? "clientHeight" : "clientWidth", D = s.reference[b] + s.reference[p] - m[p] - s.floating[b], z = m[p] - s.reference[p], X = await (a.getOffsetParent == null ? void 0 : a.getOffsetParent(u)); let q = X ? X[I] : 0; (!q || !await (a.isElement == null ? void 0 : a.isElement(X))) && (q = o.floating[I] || s.floating[b]); const W = D / 2 - z / 2, G = q / 2 - y[b] / 2 - 1, fe = Td(h[_], G), ne = Td(h[O], G), V = fe, se = q - y[b] - ne, M = q / 2 - y[b] / 2 + W, pe = AC(V, M, se), Z = !A.arrow && Wg(i) != null && M !== pe && s.reference[b] / 2 - (M < V ? fe : ne) - y[b] / 2 < 0, ae = Z ? M < V ? M - V : M - se : 0; return { [p]: m[p] + ae, data: { [p]: pe, centerOffset: M - pe - ae, ...Z && { alignmentOffset: ae } }, reset: Z } } }), uW = function (n) { return n === void 0 && (n = {}), { name: "flip", options: n, async fn(e) { var t, r; const { placement: i, middlewareData: s, rects: a, initialPlacement: o, platform: A, elements: u } = e, { mainAxis: f = !0, crossAxis: h = !0, fallbackPlacements: m, fallbackStrategy: p = "bestFit", fallbackAxisSideDirection: b = "none", flipAlignment: y = !0, ...E } = vf(n, e); if ((t = s.arrow) != null && t.alignmentOffset) return {}; const _ = yf(i), O = Bu(o), I = yf(o) === o, D = await (A.isRTL == null ? void 0 : A.isRTL(u.floating)), z = m || (I || !y ? [K1(o)] : rW(o)), X = b !== "none"; !m && X && z.push(...oW(o, y, b, D)); const q = [o, ...z], W = await T0(e, E), G = []; let fe = ((r = s.flip) == null ? void 0 : r.overflows) || []; if (f && G.push(W[_]), h) { const M = nW(i, a, D); G.push(W[M[0]], W[M[1]]) } if (fe = [...fe, { placement: i, overflows: G }], !G.every(M => M <= 0)) { var ne, V; const M = (((ne = s.flip) == null ? void 0 : ne.index) || 0) + 1, pe = q[M]; if (pe && (!(h === "alignment" ? O !== Bu(pe) : !1) || fe.every(me => Bu(me.placement) === O ? me.overflows[0] > 0 : !0))) return { data: { index: M, overflows: fe }, reset: { placement: pe } }; let Z = (V = fe.filter(ae => ae.overflows[0] <= 0).sort((ae, me) => ae.overflows[1] - me.overflows[1])[0]) == null ? void 0 : V.placement; if (!Z) switch (p) { case "bestFit": { var se; const ae = (se = fe.filter(me => { if (X) { const ke = Bu(me.placement); return ke === O || ke === "y" } return !0 }).map(me => [me.placement, me.overflows.filter(ke => ke > 0).reduce((ke, Ce) => ke + Ce, 0)]).sort((me, ke) => me[1] - ke[1])[0]) == null ? void 0 : se[0]; ae && (Z = ae); break } case "initialPlacement": Z = o; break }if (i !== Z) return { reset: { placement: Z } } } return {} } } }; function FN(n, e) { return { top: n.top - e.height, right: n.right - e.width, bottom: n.bottom - e.height, left: n.left - e.width } } function UN(n) { return qG.some(e => n[e] >= 0) } const fW = function (n) { return n === void 0 && (n = {}), { name: "hide", options: n, async fn(e) { const { rects: t } = e, { strategy: r = "referenceHidden", ...i } = vf(n, e); switch (r) { case "referenceHidden": { const s = await T0(e, { ...i, elementContext: "reference" }), a = FN(s, t.reference); return { data: { referenceHiddenOffsets: a, referenceHidden: UN(a) } } } case "escaped": { const s = await T0(e, { ...i, altBoundary: !0 }), a = FN(s, t.floating); return { data: { escapedOffsets: a, escaped: UN(a) } } } default: return {} } } } }, nR = new Set(["left", "top"]); async function dW(n, e) { const { placement: t, platform: r, elements: i } = n, s = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), a = yf(t), o = Wg(t), A = Bu(t) === "y", u = nR.has(a) ? -1 : 1, f = s && A ? -1 : 1, h = vf(e, n); let { mainAxis: m, crossAxis: p, alignmentAxis: b } = typeof h == "number" ? { mainAxis: h, crossAxis: 0, alignmentAxis: null } : { mainAxis: h.mainAxis || 0, crossAxis: h.crossAxis || 0, alignmentAxis: h.alignmentAxis }; return o && typeof b == "number" && (p = o === "end" ? b * -1 : b), A ? { x: p * f, y: m * u } : { x: m * u, y: p * f } } const hW = function (n) { return n === void 0 && (n = 0), { name: "offset", options: n, async fn(e) { var t, r; const { x: i, y: s, placement: a, middlewareData: o } = e, A = await dW(e, n); return a === ((t = o.offset) == null ? void 0 : t.placement) && (r = o.arrow) != null && r.alignmentOffset ? {} : { x: i + A.x, y: s + A.y, data: { ...A, placement: a } } } } }, pW = function (n) { return n === void 0 && (n = {}), { name: "shift", options: n, async fn(e) { const { x: t, y: r, placement: i } = e, { mainAxis: s = !0, crossAxis: a = !1, limiter: o = { fn: E => { let { x: _, y: O } = E; return { x: _, y: O } } }, ...A } = vf(n, e), u = { x: t, y: r }, f = await T0(e, A), h = Bu(yf(i)), m = hE(h); let p = u[m], b = u[h]; if (s) { const E = m === "y" ? "top" : "left", _ = m === "y" ? "bottom" : "right", O = p + f[E], I = p - f[_]; p = AC(O, p, I) } if (a) { const E = h === "y" ? "top" : "left", _ = h === "y" ? "bottom" : "right", O = b + f[E], I = b - f[_]; b = AC(O, b, I) } const y = o.fn({ ...e, [m]: p, [h]: b }); return { ...y, data: { x: y.x - t, y: y.y - r, enabled: { [m]: s, [h]: a } } } } } }, gW = function (n) { return n === void 0 && (n = {}), { options: n, fn(e) { const { x: t, y: r, placement: i, rects: s, middlewareData: a } = e, { offset: o = 0, mainAxis: A = !0, crossAxis: u = !0 } = vf(n, e), f = { x: t, y: r }, h = Bu(i), m = hE(h); let p = f[m], b = f[h]; const y = vf(o, e), E = typeof y == "number" ? { mainAxis: y, crossAxis: 0 } : { mainAxis: 0, crossAxis: 0, ...y }; if (A) { const I = m === "y" ? "height" : "width", D = s.reference[m] - s.floating[I] + E.mainAxis, z = s.reference[m] + s.reference[I] - E.mainAxis; p < D ? p = D : p > z && (p = z) } if (u) { var _, O; const I = m === "y" ? "width" : "height", D = nR.has(yf(i)), z = s.reference[h] - s.floating[I] + (D && ((_ = a.offset) == null ? void 0 : _[h]) || 0) + (D ? 0 : E.crossAxis), X = s.reference[h] + s.reference[I] + (D ? 0 : ((O = a.offset) == null ? void 0 : O[h]) || 0) - (D ? E.crossAxis : 0); b < z ? b = z : b > X && (b = X) } return { [m]: p, [h]: b } } } }, mW = function (n) { return n === void 0 && (n = {}), { name: "size", options: n, async fn(e) { var t, r; const { placement: i, rects: s, platform: a, elements: o } = e, { apply: A = () => { }, ...u } = vf(n, e), f = await T0(e, u), h = yf(i), m = Wg(i), p = Bu(i) === "y", { width: b, height: y } = s.floating; let E, _; h === "top" || h === "bottom" ? (E = h, _ = m === (await (a.isRTL == null ? void 0 : a.isRTL(o.floating)) ? "start" : "end") ? "left" : "right") : (_ = h, E = m === "end" ? "top" : "bottom"); const O = y - f.top - f.bottom, I = b - f.left - f.right, D = Td(y - f[E], O), z = Td(b - f[_], I), X = !e.middlewareData.shift; let q = D, W = z; if ((t = e.middlewareData.shift) != null && t.enabled.x && (W = I), (r = e.middlewareData.shift) != null && r.enabled.y && (q = O), X && !m) { const fe = LA(f.left, 0), ne = LA(f.right, 0), V = LA(f.top, 0), se = LA(f.bottom, 0); p ? W = b - 2 * (fe !== 0 || ne !== 0 ? fe + ne : LA(f.left, f.right)) : q = y - 2 * (V !== 0 || se !== 0 ? V + se : LA(f.top, f.bottom)) } await A({ ...e, availableWidth: W, availableHeight: q }); const G = await a.getDimensions(o.floating); return b !== G.width || y !== G.height ? { reset: { rects: !0 } } : {} } } }; function hb() { return typeof window < "u" } function Yg(n) { return rR(n) ? (n.nodeName || "").toLowerCase() : "#document" } function HA(n) { var e; return (n == null || (e = n.ownerDocument) == null ? void 0 : e.defaultView) || window } function Uu(n) { var e; return (e = (rR(n) ? n.ownerDocument : n.document) || window.document) == null ? void 0 : e.documentElement } function rR(n) { return hb() ? n instanceof Node || n instanceof HA(n).Node : !1 } function Zc(n) { return hb() ? n instanceof Element || n instanceof HA(n).Element : !1 } function Nu(n) { return hb() ? n instanceof HTMLElement || n instanceof HA(n).HTMLElement : !1 } function ON(n) { return !hb() || typeof ShadowRoot > "u" ? !1 : n instanceof ShadowRoot || n instanceof HA(n).ShadowRoot } const vW = new Set(["inline", "contents"]); function av(n) { const { overflow: e, overflowX: t, overflowY: r, display: i } = qc(n); return /auto|scroll|overlay|hidden|clip/.test(e + r + t) && !vW.has(i) } const yW = new Set(["table", "td", "th"]); function wW(n) { return yW.has(Yg(n)) } const bW = [":popover-open", ":modal"]; function pb(n) { return bW.some(e => { try { return n.matches(e) } catch { return !1 } }) } const xW = ["transform", "translate", "scale", "rotate", "perspective"], BW = ["transform", "translate", "scale", "rotate", "perspective", "filter"], CW = ["paint", "layout", "strict", "content"]; function mE(n) { const e = vE(), t = Zc(n) ? qc(n) : n; return xW.some(r => t[r] ? t[r] !== "none" : !1) || (t.containerType ? t.containerType !== "normal" : !1) || !e && (t.backdropFilter ? t.backdropFilter !== "none" : !1) || !e && (t.filter ? t.filter !== "none" : !1) || BW.some(r => (t.willChange || "").includes(r)) || CW.some(r => (t.contain || "").includes(r)) } function EW(n) { let e = Fd(n); for (; Nu(e) && !Tg(e);) { if (mE(e)) return e; if (pb(e)) return null; e = Fd(e) } return null } function vE() { return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none") } const SW = new Set(["html", "body", "#document"]); function Tg(n) { return SW.has(Yg(n)) } function qc(n) { return HA(n).getComputedStyle(n) } function gb(n) { return Zc(n) ? { scrollLeft: n.scrollLeft, scrollTop: n.scrollTop } : { scrollLeft: n.scrollX, scrollTop: n.scrollY } } function Fd(n) { if (Yg(n) === "html") return n; const e = n.assignedSlot || n.parentNode || ON(n) && n.host || Uu(n); return ON(e) ? e.host : e } function iR(n) { const e = Fd(n); return Tg(e) ? n.ownerDocument ? n.ownerDocument.body : n.body : Nu(e) && av(e) ? e : iR(e) } function F0(n, e, t) { var r; e === void 0 && (e = []), t === void 0 && (t = !0); const i = iR(n), s = i === ((r = n.ownerDocument) == null ? void 0 : r.body), a = HA(i); if (s) { const o = uC(a); return e.concat(a, a.visualViewport || [], av(i) ? i : [], o && t ? F0(o) : []) } return e.concat(i, F0(i, [], t)) } function uC(n) { return n.parent && Object.getPrototypeOf(n.parent) ? n.frameElement : null } function sR(n) { const e = qc(n); let t = parseFloat(e.width) || 0, r = parseFloat(e.height) || 0; const i = Nu(n), s = i ? n.offsetWidth : t, a = i ? n.offsetHeight : r, o = z1(t) !== s || z1(r) !== a; return o && (t = s, r = a), { width: t, height: r, $: o } } function yE(n) { return Zc(n) ? n : n.contextElement } function yg(n) { const e = yE(n); if (!Nu(e)) return Su(1); const t = e.getBoundingClientRect(), { width: r, height: i, $: s } = sR(e); let a = (s ? z1(t.width) : t.width) / r, o = (s ? z1(t.height) : t.height) / i; return (!a || !Number.isFinite(a)) && (a = 1), (!o || !Number.isFinite(o)) && (o = 1), { x: a, y: o } } const _W = Su(0); function aR(n) { const e = HA(n); return !vE() || !e.visualViewport ? _W : { x: e.visualViewport.offsetLeft, y: e.visualViewport.offsetTop } } function NW(n, e, t) { return e === void 0 && (e = !1), !t || e && t !== HA(n) ? !1 : e } function qh(n, e, t, r) { e === void 0 && (e = !1), t === void 0 && (t = !1); const i = n.getBoundingClientRect(), s = yE(n); let a = Su(1); e && (r ? Zc(r) && (a = yg(r)) : a = yg(n)); const o = NW(s, t, r) ? aR(s) : Su(0); let A = (i.left + o.x) / a.x, u = (i.top + o.y) / a.y, f = i.width / a.x, h = i.height / a.y; if (s) { const m = HA(s), p = r && Zc(r) ? HA(r) : r; let b = m, y = uC(b); for (; y && r && p !== b;) { const E = yg(y), _ = y.getBoundingClientRect(), O = qc(y), I = _.left + (y.clientLeft + parseFloat(O.paddingLeft)) * E.x, D = _.top + (y.clientTop + parseFloat(O.paddingTop)) * E.y; A *= E.x, u *= E.y, f *= E.x, h *= E.y, A += I, u += D, b = HA(y), y = uC(b) } } return V1({ width: f, height: h, x: A, y: u }) } function mb(n, e) { const t = gb(n).scrollLeft; return e ? e.left + t : qh(Uu(n)).left + t } function oR(n, e) { const t = n.getBoundingClientRect(), r = t.left + e.scrollLeft - mb(n, t), i = t.top + e.scrollTop; return { x: r, y: i } } function kW(n) { let { elements: e, rect: t, offsetParent: r, strategy: i } = n; const s = i === "fixed", a = Uu(r), o = e ? pb(e.floating) : !1; if (r === a || o && s) return t; let A = { scrollLeft: 0, scrollTop: 0 }, u = Su(1); const f = Su(0), h = Nu(r); if ((h || !h && !s) && ((Yg(r) !== "body" || av(a)) && (A = gb(r)), Nu(r))) { const p = qh(r); u = yg(r), f.x = p.x + r.clientLeft, f.y = p.y + r.clientTop } const m = a && !h && !s ? oR(a, A) : Su(0); return { width: t.width * u.x, height: t.height * u.y, x: t.x * u.x - A.scrollLeft * u.x + f.x + m.x, y: t.y * u.y - A.scrollTop * u.y + f.y + m.y } } function TW(n) { return Array.from(n.getClientRects()) } function FW(n) { const e = Uu(n), t = gb(n), r = n.ownerDocument.body, i = LA(e.scrollWidth, e.clientWidth, r.scrollWidth, r.clientWidth), s = LA(e.scrollHeight, e.clientHeight, r.scrollHeight, r.clientHeight); let a = -t.scrollLeft + mb(n); const o = -t.scrollTop; return qc(r).direction === "rtl" && (a += LA(e.clientWidth, r.clientWidth) - i), { width: i, height: s, x: a, y: o } } const RN = 25; function UW(n, e) { const t = HA(n), r = Uu(n), i = t.visualViewport; let s = r.clientWidth, a = r.clientHeight, o = 0, A = 0; if (i) { s = i.width, a = i.height; const f = vE(); (!f || f && e === "fixed") && (o = i.offsetLeft, A = i.offsetTop) } const u = mb(r); if (u <= 0) { const f = r.ownerDocument, h = f.body, m = getComputedStyle(h), p = f.compatMode === "CSS1Compat" && parseFloat(m.marginLeft) + parseFloat(m.marginRight) || 0, b = Math.abs(r.clientWidth - h.clientWidth - p); b <= RN && (s -= b) } else u <= RN && (s += u); return { width: s, height: a, x: o, y: A } } const OW = new Set(["absolute", "fixed"]); function RW(n, e) { const t = qh(n, !0, e === "fixed"), r = t.top + n.clientTop, i = t.left + n.clientLeft, s = Nu(n) ? yg(n) : Su(1), a = n.clientWidth * s.x, o = n.clientHeight * s.y, A = i * s.x, u = r * s.y; return { width: a, height: o, x: A, y: u } } function IN(n, e, t) { let r; if (e === "viewport") r = UW(n, t); else if (e === "document") r = FW(Uu(n)); else if (Zc(e)) r = RW(e, t); else { const i = aR(n); r = { x: e.x - i.x, y: e.y - i.y, width: e.width, height: e.height } } return V1(r) } function lR(n, e) { const t = Fd(n); return t === e || !Zc(t) || Tg(t) ? !1 : qc(t).position === "fixed" || lR(t, e) } function IW(n, e) { const t = e.get(n); if (t) return t; let r = F0(n, [], !1).filter(o => Zc(o) && Yg(o) !== "body"), i = null; const s = qc(n).position === "fixed"; let a = s ? Fd(n) : n; for (; Zc(a) && !Tg(a);) { const o = qc(a), A = mE(a); !A && o.position === "fixed" && (i = null), (s ? !A && !i : !A && o.position === "static" && !!i && OW.has(i.position) || av(a) && !A && lR(n, a)) ? r = r.filter(f => f !== a) : i = o, a = Fd(a) } return e.set(n, r), r } function LW(n) { let { element: e, boundary: t, rootBoundary: r, strategy: i } = n; const a = [...t === "clippingAncestors" ? pb(e) ? [] : IW(e, this._c) : [].concat(t), r], o = a[0], A = a.reduce((u, f) => { const h = IN(e, f, i); return u.top = LA(h.top, u.top), u.right = Td(h.right, u.right), u.bottom = Td(h.bottom, u.bottom), u.left = LA(h.left, u.left), u }, IN(e, o, i)); return { width: A.right - A.left, height: A.bottom - A.top, x: A.left, y: A.top } } function MW(n) { const { width: e, height: t } = sR(n); return { width: e, height: t } } function QW(n, e, t) { const r = Nu(e), i = Uu(e), s = t === "fixed", a = qh(n, !0, s, e); let o = { scrollLeft: 0, scrollTop: 0 }; const A = Su(0); function u() { A.x = mb(i) } if (r || !r && !s) if ((Yg(e) !== "body" || av(i)) && (o = gb(e)), r) { const p = qh(e, !0, s, e); A.x = p.x + e.clientLeft, A.y = p.y + e.clientTop } else i && u(); s && !r && i && u(); const f = i && !r && !s ? oR(i, o) : Su(0), h = a.left + o.scrollLeft - A.x - f.x, m = a.top + o.scrollTop - A.y - f.y; return { x: h, y: m, width: a.width, height: a.height } } function vx(n) { return qc(n).position === "static" } function LN(n, e) { if (!Nu(n) || qc(n).position === "fixed") return null; if (e) return e(n); let t = n.offsetParent; return Uu(n) === t && (t = t.ownerDocument.body), t } function AR(n, e) { const t = HA(n); if (pb(n)) return t; if (!Nu(n)) { let i = Fd(n); for (; i && !Tg(i);) { if (Zc(i) && !vx(i)) return i; i = Fd(i) } return t } let r = LN(n, e); for (; r && wW(r) && vx(r);)r = LN(r, e); return r && Tg(r) && vx(r) && !mE(r) ? t : r || EW(n) || t } const DW = async function (n) { const e = this.getOffsetParent || AR, t = this.getDimensions, r = await t(n.floating); return { reference: QW(n.reference, await e(n.floating), n.strategy), floating: { x: 0, y: 0, width: r.width, height: r.height } } }; function PW(n) { return qc(n).direction === "rtl" } const HW = { convertOffsetParentRelativeRectToViewportRelativeRect: kW, getDocumentElement: Uu, getClippingRect: LW, getOffsetParent: AR, getElementRects: DW, getClientRects: TW, getDimensions: MW, getScale: yg, isElement: Zc, isRTL: PW }; function cR(n, e) { return n.x === e.x && n.y === e.y && n.width === e.width && n.height === e.height } function jW(n, e) { let t = null, r; const i = Uu(n); function s() { var o; clearTimeout(r), (o = t) == null || o.disconnect(), t = null } function a(o, A) { o === void 0 && (o = !1), A === void 0 && (A = 1), s(); const u = n.getBoundingClientRect(), { left: f, top: h, width: m, height: p } = u; if (o || e(), !m || !p) return; const b = wy(h), y = wy(i.clientWidth - (f + m)), E = wy(i.clientHeight - (h + p)), _ = wy(f), I = { rootMargin: -b + "px " + -y + "px " + -E + "px " + -_ + "px", threshold: LA(0, Td(1, A)) || 1 }; let D = !0; function z(X) { const q = X[0].intersectionRatio; if (q !== A) { if (!D) return a(); q ? a(!1, q) : r = setTimeout(() => { a(!1, 1e-7) }, 1e3) } q === 1 && !cR(u, n.getBoundingClientRect()) && a(), D = !1 } try { t = new IntersectionObserver(z, { ...I, root: i.ownerDocument }) } catch { t = new IntersectionObserver(z, I) } t.observe(n) } return a(!0), s } function zW(n, e, t, r) { r === void 0 && (r = {}); const { ancestorScroll: i = !0, ancestorResize: s = !0, elementResize: a = typeof ResizeObserver == "function", layoutShift: o = typeof IntersectionObserver == "function", animationFrame: A = !1 } = r, u = yE(n), f = i || s ? [...u ? F0(u) : [], ...F0(e)] : []; f.forEach(_ => { i && _.addEventListener("scroll", t, { passive: !0 }), s && _.addEventListener("resize", t) }); const h = u && o ? jW(u, t) : null; let m = -1, p = null; a && (p = new ResizeObserver(_ => { let [O] = _; O && O.target === u && p && (p.unobserve(e), cancelAnimationFrame(m), m = requestAnimationFrame(() => { var I; (I = p) == null || I.observe(e) })), t() }), u && !A && p.observe(u), p.observe(e)); let b, y = A ? qh(n) : null; A && E(); function E() { const _ = qh(n); y && !cR(y, _) && t(), y = _, b = requestAnimationFrame(E) } return t(), () => { var _; f.forEach(O => { i && O.removeEventListener("scroll", t), s && O.removeEventListener("resize", t) }), h?.(), (_ = p) == null || _.disconnect(), p = null, A && cancelAnimationFrame(b) } } const KW = hW, VW = pW, GW = uW, WW = mW, YW = fW, MN = cW, JW = gW, XW = (n, e, t) => { const r = new Map, i = { platform: HW, ...t }, s = { ...i.platform, _c: r }; return AW(n, e, { ...i, platform: s }) }; var ZW = typeof document < "u", qW = function () { }, p1 = ZW ? F.useLayoutEffect : qW; function G1(n, e) { if (n === e) return !0; if (typeof n != typeof e) return !1; if (typeof n == "function" && n.toString() === e.toString()) return !0; let t, r, i; if (n && e && typeof n == "object") { if (Array.isArray(n)) { if (t = n.length, t !== e.length) return !1; for (r = t; r-- !== 0;)if (!G1(n[r], e[r])) return !1; return !0 } if (i = Object.keys(n), t = i.length, t !== Object.keys(e).length) return !1; for (r = t; r-- !== 0;)if (!{}.hasOwnProperty.call(e, i[r])) return !1; for (r = t; r-- !== 0;) { const s = i[r]; if (!(s === "_owner" && n.$$typeof) && !G1(n[s], e[s])) return !1 } return !0 } return n !== n && e !== e } function uR(n) { return typeof window > "u" ? 1 : (n.ownerDocument.defaultView || window).devicePixelRatio || 1 } function QN(n, e) { const t = uR(n); return Math.round(e * t) / t } function yx(n) { const e = F.useRef(n); return p1(() => { e.current = n }), e } function $W(n) { n === void 0 && (n = {}); const { placement: e = "bottom", strategy: t = "absolute", middleware: r = [], platform: i, elements: { reference: s, floating: a } = {}, transform: o = !0, whileElementsMounted: A, open: u } = n, [f, h] = F.useState({ x: 0, y: 0, strategy: t, placement: e, middlewareData: {}, isPositioned: !1 }), [m, p] = F.useState(r); G1(m, r) || p(r); const [b, y] = F.useState(null), [E, _] = F.useState(null), O = F.useCallback(me => { me !== X.current && (X.current = me, y(me)) }, []), I = F.useCallback(me => { me !== q.current && (q.current = me, _(me)) }, []), D = s || b, z = a || E, X = F.useRef(null), q = F.useRef(null), W = F.useRef(f), G = A != null, fe = yx(A), ne = yx(i), V = yx(u), se = F.useCallback(() => { if (!X.current || !q.current) return; const me = { placement: e, strategy: t, middleware: m }; ne.current && (me.platform = ne.current), XW(X.current, q.current, me).then(ke => { const Ce = { ...ke, isPositioned: V.current !== !1 }; M.current && !G1(W.current, Ce) && (W.current = Ce, J0.flushSync(() => { h(Ce) })) }) }, [m, e, t, ne, V]); p1(() => { u === !1 && W.current.isPositioned && (W.current.isPositioned = !1, h(me => ({ ...me, isPositioned: !1 }))) }, [u]); const M = F.useRef(!1); p1(() => (M.current = !0, () => { M.current = !1 }), []), p1(() => { if (D && (X.current = D), z && (q.current = z), D && z) { if (fe.current) return fe.current(D, z, se); se() } }, [D, z, se, fe, G]); const pe = F.useMemo(() => ({ reference: X, floating: q, setReference: O, setFloating: I }), [O, I]), Z = F.useMemo(() => ({ reference: D, floating: z }), [D, z]), ae = F.useMemo(() => { const me = { position: t, left: 0, top: 0 }; if (!Z.floating) return me; const ke = QN(Z.floating, f.x), Ce = QN(Z.floating, f.y); return o ? { ...me, transform: "translate(" + ke + "px, " + Ce + "px)", ...uR(Z.floating) >= 1.5 && { willChange: "transform" } } : { position: t, left: ke, top: Ce } }, [t, o, Z.floating, f.x, f.y]); return F.useMemo(() => ({ ...f, update: se, refs: pe, elements: Z, floatingStyles: ae }), [f, se, pe, Z, ae]) } const eY = n => { function e(t) { return {}.hasOwnProperty.call(t, "current") } return { name: "arrow", options: n, fn(t) { const { element: r, padding: i } = typeof n == "function" ? n(t) : n; return r && e(r) ? r.current != null ? MN({ element: r.current, padding: i }).fn(t) : {} : r ? MN({ element: r, padding: i }).fn(t) : {} } } }, tY = (n, e) => ({ ...KW(n), options: [n, e] }), nY = (n, e) => ({ ...VW(n), options: [n, e] }), rY = (n, e) => ({ ...JW(n), options: [n, e] }), iY = (n, e) => ({ ...GW(n), options: [n, e] }), sY = (n, e) => ({ ...WW(n), options: [n, e] }), aY = (n, e) => ({ ...YW(n), options: [n, e] }), oY = (n, e) => ({ ...eY(n), options: [n, e] }); function lY(n) { const e = AY(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(uY); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function AY(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = dY(i), o = fY(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var cY = Symbol("radix.slottable"); function uY(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === cY } function fY(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function dY(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var hY = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], pY = hY.reduce((n, e) => { const t = lY(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), gY = "Arrow", fR = F.forwardRef((n, e) => { const { children: t, width: r = 10, height: i = 5, ...s } = n; return g.jsx(pY.svg, { ...s, ref: e, width: r, height: i, viewBox: "0 0 30 10", preserveAspectRatio: "none", children: n.asChild ? t : g.jsx("polygon", { points: "0,0 30,0 15,10" }) }) }); fR.displayName = gY; var mY = fR; function vY(n) { const e = yY(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(bY); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function yY(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = BY(i), o = xY(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var wY = Symbol("radix.slottable"); function bY(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === wY } function xY(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function BY(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var CY = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], dR = CY.reduce((n, e) => { const t = vY(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}); function hR(n) { const [e, t] = F.useState(void 0); return El(() => { if (n) { t({ width: n.offsetWidth, height: n.offsetHeight }); const r = new ResizeObserver(i => { if (!Array.isArray(i) || !i.length) return; const s = i[0]; let a, o; if ("borderBoxSize" in s) { const A = s.borderBoxSize, u = Array.isArray(A) ? A[0] : A; a = u.inlineSize, o = u.blockSize } else a = n.offsetWidth, o = n.offsetHeight; t({ width: a, height: o }) }); return r.observe(n, { box: "border-box" }), () => r.unobserve(n) } else t(void 0) }, [n]), e } var wE = "Popper", [pR, vb] = Dd(wE), [EY, gR] = pR(wE), mR = n => { const { __scopePopper: e, children: t } = n, [r, i] = F.useState(null); return g.jsx(EY, { scope: e, anchor: r, onAnchorChange: i, children: t }) }; mR.displayName = wE; var vR = "PopperAnchor", yR = F.forwardRef((n, e) => { const { __scopePopper: t, virtualRef: r, ...i } = n, s = gR(vR, t), a = F.useRef(null), o = is(e, a), A = F.useRef(null); return F.useEffect(() => { const u = A.current; A.current = r?.current || a.current, u !== A.current && s.onAnchorChange(A.current) }), r ? null : g.jsx(dR.div, { ...i, ref: o }) }); yR.displayName = vR; var bE = "PopperContent", [SY, _Y] = pR(bE), wR = F.forwardRef((n, e) => { const { __scopePopper: t, side: r = "bottom", sideOffset: i = 0, align: s = "center", alignOffset: a = 0, arrowPadding: o = 0, avoidCollisions: A = !0, collisionBoundary: u = [], collisionPadding: f = 0, sticky: h = "partial", hideWhenDetached: m = !1, updatePositionStrategy: p = "optimized", onPlaced: b, ...y } = n, E = gR(bE, t), [_, O] = F.useState(null), I = is(e, Be => O(Be)), [D, z] = F.useState(null), X = hR(D), q = X?.width ?? 0, W = X?.height ?? 0, G = r + (s !== "center" ? "-" + s : ""), fe = typeof f == "number" ? f : { top: 0, right: 0, bottom: 0, left: 0, ...f }, ne = Array.isArray(u) ? u : [u], V = ne.length > 0, se = { padding: fe, boundary: ne.filter(kY), altBoundary: V }, { refs: M, floatingStyles: pe, placement: Z, isPositioned: ae, middlewareData: me } = $W({ strategy: "fixed", placement: G, whileElementsMounted: (...Be) => zW(...Be, { animationFrame: p === "always" }), elements: { reference: E.anchor }, middleware: [tY({ mainAxis: i + W, alignmentAxis: a }), A && nY({ mainAxis: !0, crossAxis: !1, limiter: h === "partial" ? rY() : void 0, ...se }), A && iY({ ...se }), sY({ ...se, apply: ({ elements: Be, rects: Re, availableWidth: Ie, availableHeight: Ye }) => { const { width: $e, height: yt } = Re.reference, at = Be.floating.style; at.setProperty("--radix-popper-available-width", `${Ie}px`), at.setProperty("--radix-popper-available-height", `${Ye}px`), at.setProperty("--radix-popper-anchor-width", `${$e}px`), at.setProperty("--radix-popper-anchor-height", `${yt}px`) } }), D && oY({ element: D, padding: o }), TY({ arrowWidth: q, arrowHeight: W }), m && aY({ strategy: "referenceHidden", ...se })] }), [ke, Ce] = BR(Z), j = Nd(b); El(() => { ae && j?.() }, [ae, j]); const L = me.arrow?.x, re = me.arrow?.y, ie = me.arrow?.centerOffset !== 0, [oe, de] = F.useState(); return El(() => { _ && de(window.getComputedStyle(_).zIndex) }, [_]), g.jsx("div", { ref: M.setFloating, "data-radix-popper-content-wrapper": "", style: { ...pe, transform: ae ? pe.transform : "translate(0, -200%)", minWidth: "max-content", zIndex: oe, "--radix-popper-transform-origin": [me.transformOrigin?.x, me.transformOrigin?.y].join(" "), ...me.hide?.referenceHidden && { visibility: "hidden", pointerEvents: "none" } }, dir: n.dir, children: g.jsx(SY, { scope: t, placedSide: ke, onArrowChange: z, arrowX: L, arrowY: re, shouldHideArrow: ie, children: g.jsx(dR.div, { "data-side": ke, "data-align": Ce, ...y, ref: I, style: { ...y.style, animation: ae ? void 0 : "none" } }) }) }) }); wR.displayName = bE; var bR = "PopperArrow", NY = { top: "bottom", right: "left", bottom: "top", left: "right" }, xR = F.forwardRef(function (e, t) { const { __scopePopper: r, ...i } = e, s = _Y(bR, r), a = NY[s.placedSide]; return g.jsx("span", { ref: s.onArrowChange, style: { position: "absolute", left: s.arrowX, top: s.arrowY, [a]: 0, transformOrigin: { top: "", right: "0 0", bottom: "center 0", left: "100% 0" }[s.placedSide], transform: { top: "translateY(100%)", right: "translateY(50%) rotate(90deg) translateX(-50%)", bottom: "rotate(180deg)", left: "translateY(50%) rotate(-90deg) translateX(50%)" }[s.placedSide], visibility: s.shouldHideArrow ? "hidden" : void 0 }, children: g.jsx(mY, { ...i, ref: t, style: { ...i.style, display: "block" } }) }) }); xR.displayName = bR; function kY(n) { return n !== null } var TY = n => ({ name: "transformOrigin", options: n, fn(e) { const { placement: t, rects: r, middlewareData: i } = e, a = i.arrow?.centerOffset !== 0, o = a ? 0 : n.arrowWidth, A = a ? 0 : n.arrowHeight, [u, f] = BR(t), h = { start: "0%", center: "50%", end: "100%" }[f], m = (i.arrow?.x ?? 0) + o / 2, p = (i.arrow?.y ?? 0) + A / 2; let b = "", y = ""; return u === "bottom" ? (b = a ? h : `${m}px`, y = `${-A}px`) : u === "top" ? (b = a ? h : `${m}px`, y = `${r.floating.height + A}px`) : u === "right" ? (b = `${-A}px`, y = a ? h : `${p}px`) : u === "left" && (b = `${r.floating.width + A}px`, y = a ? h : `${p}px`), { data: { x: b, y } } } }); function BR(n) { const [e, t = "center"] = n.split("-"); return [e, t] } var CR = mR, xE = yR, ER = wR, SR = xR; function _R(n) { const e = FY(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(OY); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function FY(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = IY(i), o = RY(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var UY = Symbol("radix.slottable"); function OY(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === UY } function RY(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function IY(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var LY = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], VA = LY.reduce((n, e) => { const t = _R(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}); function NR(n) { const e = F.useRef({ value: n, previous: n }); return F.useMemo(() => (e.current.value !== n && (e.current.previous = e.current.value, e.current.value = n), e.current.previous), [n]) } function MY(n) { const e = QY(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(PY); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function QY(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = jY(i), o = HY(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var DY = Symbol("radix.slottable"); function PY(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === DY } function HY(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function jY(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var zY = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], KY = zY.reduce((n, e) => { const t = MY(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), kR = Object.freeze({ position: "absolute", border: 0, width: 1, height: 1, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", wordWrap: "normal" }), VY = "VisuallyHidden", GY = F.forwardRef((n, e) => g.jsx(KY.span, { ...n, ref: e, style: { ...kR, ...n.style } })); GY.displayName = VY; var WY = [" ", "Enter", "ArrowUp", "ArrowDown"], YY = [" ", "Enter"], $h = "Select", [yb, wb, JY] = eR($h), [Jg] = Dd($h, [JY, vb]), bb = vb(), [XY, Kd] = Jg($h), [ZY, qY] = Jg($h), TR = n => { const { __scopeSelect: e, children: t, open: r, defaultOpen: i, onOpenChange: s, value: a, defaultValue: o, onValueChange: A, dir: u, name: f, autoComplete: h, disabled: m, required: p, form: b } = n, y = bb(e), [E, _] = F.useState(null), [O, I] = F.useState(null), [D, z] = F.useState(!1), X = dE(u), [q, W] = Jh({ prop: r, defaultProp: i ?? !1, onChange: s, caller: $h }), [G, fe] = Jh({ prop: a, defaultProp: o, onChange: A, caller: $h }), ne = F.useRef(null), V = E ? b || !!E.closest("form") : !0, [se, M] = F.useState(new Set), pe = Array.from(se).map(Z => Z.props.value).join(";"); return g.jsx(CR, { ...y, children: g.jsxs(XY, { required: p, scope: e, trigger: E, onTriggerChange: _, valueNode: O, onValueNodeChange: I, valueNodeHasChildren: D, onValueNodeHasChildrenChange: z, contentId: Hl(), value: G, onValueChange: fe, open: q, onOpenChange: W, dir: X, triggerPointerDownPosRef: ne, disabled: m, children: [g.jsx(yb.Provider, { scope: e, children: g.jsx(ZY, { scope: n.__scopeSelect, onNativeOptionAdd: F.useCallback(Z => { M(ae => new Set(ae).add(Z)) }, []), onNativeOptionRemove: F.useCallback(Z => { M(ae => { const me = new Set(ae); return me.delete(Z), me }) }, []), children: t }) }), V ? g.jsxs(eI, { "aria-hidden": !0, required: p, tabIndex: -1, name: f, autoComplete: h, value: G, onChange: Z => fe(Z.target.value), disabled: m, form: b, children: [G === void 0 ? g.jsx("option", { value: "" }) : null, Array.from(se)] }, pe) : null] }) }) }; TR.displayName = $h; var FR = "SelectTrigger", UR = F.forwardRef((n, e) => { const { __scopeSelect: t, disabled: r = !1, ...i } = n, s = bb(t), a = Kd(FR, t), o = a.disabled || r, A = is(e, a.onTriggerChange), u = wb(t), f = F.useRef("touch"), [h, m, p] = nI(y => { const E = u().filter(I => !I.disabled), _ = E.find(I => I.value === a.value), O = rI(E, y, _); O !== void 0 && a.onValueChange(O.value) }), b = y => { o || (a.onOpenChange(!0), p()), y && (a.triggerPointerDownPosRef.current = { x: Math.round(y.pageX), y: Math.round(y.pageY) }) }; return g.jsx(xE, { asChild: !0, ...s, children: g.jsx(VA.button, { type: "button", role: "combobox", "aria-controls": a.contentId, "aria-expanded": a.open, "aria-required": a.required, "aria-autocomplete": "none", dir: a.dir, "data-state": a.open ? "open" : "closed", disabled: o, "data-disabled": o ? "" : void 0, "data-placeholder": tI(a.value) ? "" : void 0, ...i, ref: A, onClick: dr(i.onClick, y => { y.currentTarget.focus(), f.current !== "mouse" && b(y) }), onPointerDown: dr(i.onPointerDown, y => { f.current = y.pointerType; const E = y.target; E.hasPointerCapture(y.pointerId) && E.releasePointerCapture(y.pointerId), y.button === 0 && y.ctrlKey === !1 && y.pointerType === "mouse" && (b(y), y.preventDefault()) }), onKeyDown: dr(i.onKeyDown, y => { const E = h.current !== ""; !(y.ctrlKey || y.altKey || y.metaKey) && y.key.length === 1 && m(y.key), !(E && y.key === " ") && WY.includes(y.key) && (b(), y.preventDefault()) }) }) }) }); UR.displayName = FR; var OR = "SelectValue", RR = F.forwardRef((n, e) => { const { __scopeSelect: t, className: r, style: i, children: s, placeholder: a = "", ...o } = n, A = Kd(OR, t), { onValueNodeHasChildrenChange: u } = A, f = s !== void 0, h = is(e, A.onValueNodeChange); return El(() => { u(f) }, [u, f]), g.jsx(VA.span, { ...o, ref: h, style: { pointerEvents: "none" }, children: tI(A.value) ? g.jsx(g.Fragment, { children: a }) : s }) }); RR.displayName = OR; var $Y = "SelectIcon", IR = F.forwardRef((n, e) => { const { __scopeSelect: t, children: r, ...i } = n; return g.jsx(VA.span, { "aria-hidden": !0, ...i, ref: e, children: r || "" }) }); IR.displayName = $Y; var eJ = "SelectPortal", LR = n => g.jsx(Ab, { asChild: !0, ...n }); LR.displayName = eJ; var ep = "SelectContent", MR = F.forwardRef((n, e) => { const t = Kd(ep, n.__scopeSelect), [r, i] = F.useState(); if (El(() => { i(new DocumentFragment) }, []), !t.open) { const s = r; return s ? J0.createPortal(g.jsx(QR, { scope: n.__scopeSelect, children: g.jsx(yb.Slot, { scope: n.__scopeSelect, children: g.jsx("div", { children: n.children }) }) }), s) : null } return g.jsx(DR, { ...n, ref: e }) }); MR.displayName = ep; var Hc = 10, [QR, Vd] = Jg(ep), tJ = "SelectContentImpl", nJ = _R("SelectContent.RemoveScroll"), DR = F.forwardRef((n, e) => { const { __scopeSelect: t, position: r = "item-aligned", onCloseAutoFocus: i, onEscapeKeyDown: s, onPointerDownOutside: a, side: o, sideOffset: A, align: u, alignOffset: f, arrowPadding: h, collisionBoundary: m, collisionPadding: p, sticky: b, hideWhenDetached: y, avoidCollisions: E, ..._ } = n, O = Kd(ep, t), [I, D] = F.useState(null), [z, X] = F.useState(null), q = is(e, Be => D(Be)), [W, G] = F.useState(null), [fe, ne] = F.useState(null), V = wb(t), [se, M] = F.useState(!1), pe = F.useRef(!1); F.useEffect(() => { if (I) return sE(I) }, [I]), iE(); const Z = F.useCallback(Be => { const [Re, ...Ie] = V().map(yt => yt.ref.current), [Ye] = Ie.slice(-1), $e = document.activeElement; for (const yt of Be) if (yt === $e || (yt?.scrollIntoView({ block: "nearest" }), yt === Re && z && (z.scrollTop = 0), yt === Ye && z && (z.scrollTop = z.scrollHeight), yt?.focus(), document.activeElement !== $e)) return }, [V, z]), ae = F.useCallback(() => Z([W, I]), [Z, W, I]); F.useEffect(() => { se && ae() }, [se, ae]); const { onOpenChange: me, triggerPointerDownPosRef: ke } = O; F.useEffect(() => { if (I) { let Be = { x: 0, y: 0 }; const Re = Ye => { Be = { x: Math.abs(Math.round(Ye.pageX) - (ke.current?.x ?? 0)), y: Math.abs(Math.round(Ye.pageY) - (ke.current?.y ?? 0)) } }, Ie = Ye => { Be.x <= 10 && Be.y <= 10 ? Ye.preventDefault() : I.contains(Ye.target) || me(!1), document.removeEventListener("pointermove", Re), ke.current = null }; return ke.current !== null && (document.addEventListener("pointermove", Re), document.addEventListener("pointerup", Ie, { capture: !0, once: !0 })), () => { document.removeEventListener("pointermove", Re), document.removeEventListener("pointerup", Ie, { capture: !0 }) } } }, [I, me, ke]), F.useEffect(() => { const Be = () => me(!1); return window.addEventListener("blur", Be), window.addEventListener("resize", Be), () => { window.removeEventListener("blur", Be), window.removeEventListener("resize", Be) } }, [me]); const [Ce, j] = nI(Be => { const Re = V().filter($e => !$e.disabled), Ie = Re.find($e => $e.ref.current === document.activeElement), Ye = rI(Re, Be, Ie); Ye && setTimeout(() => Ye.ref.current.focus()) }), L = F.useCallback((Be, Re, Ie) => { const Ye = !pe.current && !Ie; (O.value !== void 0 && O.value === Re || Ye) && (G(Be), Ye && (pe.current = !0)) }, [O.value]), re = F.useCallback(() => I?.focus(), [I]), ie = F.useCallback((Be, Re, Ie) => { const Ye = !pe.current && !Ie; (O.value !== void 0 && O.value === Re || Ye) && ne(Be) }, [O.value]), oe = r === "popper" ? fC : PR, de = oe === fC ? { side: o, sideOffset: A, align: u, alignOffset: f, arrowPadding: h, collisionBoundary: m, collisionPadding: p, sticky: b, hideWhenDetached: y, avoidCollisions: E } : {}; return g.jsx(QR, { scope: t, content: I, viewport: z, onViewportChange: X, itemRefCallback: L, selectedItem: W, onItemLeave: re, itemTextRefCallback: ie, focusSelectedItem: ae, selectedItemText: fe, position: r, isPositioned: se, searchRef: Ce, children: g.jsx(ub, { as: nJ, allowPinchZoom: !0, children: g.jsx(lb, { asChild: !0, trapped: O.open, onMountAutoFocus: Be => { Be.preventDefault() }, onUnmountAutoFocus: dr(i, Be => { O.trigger?.focus({ preventScroll: !0 }), Be.preventDefault() }), children: g.jsx(ob, { asChild: !0, disableOutsidePointerEvents: !0, onEscapeKeyDown: s, onPointerDownOutside: a, onFocusOutside: Be => Be.preventDefault(), onDismiss: () => O.onOpenChange(!1), children: g.jsx(oe, { role: "listbox", id: O.contentId, "data-state": O.open ? "open" : "closed", dir: O.dir, onContextMenu: Be => Be.preventDefault(), ..._, ...de, onPlaced: () => M(!0), ref: q, style: { display: "flex", flexDirection: "column", outline: "none", ..._.style }, onKeyDown: dr(_.onKeyDown, Be => { const Re = Be.ctrlKey || Be.altKey || Be.metaKey; if (Be.key === "Tab" && Be.preventDefault(), !Re && Be.key.length === 1 && j(Be.key), ["ArrowUp", "ArrowDown", "Home", "End"].includes(Be.key)) { let Ye = V().filter($e => !$e.disabled).map($e => $e.ref.current); if (["ArrowUp", "End"].includes(Be.key) && (Ye = Ye.slice().reverse()), ["ArrowUp", "ArrowDown"].includes(Be.key)) { const $e = Be.target, yt = Ye.indexOf($e); Ye = Ye.slice(yt + 1) } setTimeout(() => Z(Ye)), Be.preventDefault() } }) }) }) }) }) }) }); DR.displayName = tJ; var rJ = "SelectItemAlignedPosition", PR = F.forwardRef((n, e) => { const { __scopeSelect: t, onPlaced: r, ...i } = n, s = Kd(ep, t), a = Vd(ep, t), [o, A] = F.useState(null), [u, f] = F.useState(null), h = is(e, q => f(q)), m = wb(t), p = F.useRef(!1), b = F.useRef(!0), { viewport: y, selectedItem: E, selectedItemText: _, focusSelectedItem: O } = a, I = F.useCallback(() => { if (s.trigger && s.valueNode && o && u && y && E && _) { const q = s.trigger.getBoundingClientRect(), W = u.getBoundingClientRect(), G = s.valueNode.getBoundingClientRect(), fe = _.getBoundingClientRect(); if (s.dir !== "rtl") { const $e = fe.left - W.left, yt = G.left - $e, at = q.left - yt, $ = q.width + at, Ae = Math.max($, W.width), Me = window.innerWidth - Hc, _e = SN(yt, [Hc, Math.max(Hc, Me - Ae)]); o.style.minWidth = $ + "px", o.style.left = _e + "px" } else { const $e = W.right - fe.right, yt = window.innerWidth - G.right - $e, at = window.innerWidth - q.right - yt, $ = q.width + at, Ae = Math.max($, W.width), Me = window.innerWidth - Hc, _e = SN(yt, [Hc, Math.max(Hc, Me - Ae)]); o.style.minWidth = $ + "px", o.style.right = _e + "px" } const ne = m(), V = window.innerHeight - Hc * 2, se = y.scrollHeight, M = window.getComputedStyle(u), pe = parseInt(M.borderTopWidth, 10), Z = parseInt(M.paddingTop, 10), ae = parseInt(M.borderBottomWidth, 10), me = parseInt(M.paddingBottom, 10), ke = pe + Z + se + me + ae, Ce = Math.min(E.offsetHeight * 5, ke), j = window.getComputedStyle(y), L = parseInt(j.paddingTop, 10), re = parseInt(j.paddingBottom, 10), ie = q.top + q.height / 2 - Hc, oe = V - ie, de = E.offsetHeight / 2, Be = E.offsetTop + de, Re = pe + Z + Be, Ie = ke - Re; if (Re <= ie) { const $e = ne.length > 0 && E === ne[ne.length - 1].ref.current; o.style.bottom = "0px"; const yt = u.clientHeight - y.offsetTop - y.offsetHeight, at = Math.max(oe, de + ($e ? re : 0) + yt + ae), $ = Re + at; o.style.height = $ + "px" } else { const $e = ne.length > 0 && E === ne[0].ref.current; o.style.top = "0px"; const at = Math.max(ie, pe + y.offsetTop + ($e ? L : 0) + de) + Ie; o.style.height = at + "px", y.scrollTop = Re - ie + y.offsetTop } o.style.margin = `${Hc}px 0`, o.style.minHeight = Ce + "px", o.style.maxHeight = V + "px", r?.(), requestAnimationFrame(() => p.current = !0) } }, [m, s.trigger, s.valueNode, o, u, y, E, _, s.dir, r]); El(() => I(), [I]); const [D, z] = F.useState(); El(() => { u && z(window.getComputedStyle(u).zIndex) }, [u]); const X = F.useCallback(q => { q && b.current === !0 && (I(), O?.(), b.current = !1) }, [I, O]); return g.jsx(sJ, { scope: t, contentWrapper: o, shouldExpandOnScrollRef: p, onScrollButtonChange: X, children: g.jsx("div", { ref: A, style: { display: "flex", flexDirection: "column", position: "fixed", zIndex: D }, children: g.jsx(VA.div, { ...i, ref: h, style: { boxSizing: "border-box", maxHeight: "100%", ...i.style } }) }) }) }); PR.displayName = rJ; var iJ = "SelectPopperPosition", fC = F.forwardRef((n, e) => { const { __scopeSelect: t, align: r = "start", collisionPadding: i = Hc, ...s } = n, a = bb(t); return g.jsx(ER, { ...a, ...s, ref: e, align: r, collisionPadding: i, style: { boxSizing: "border-box", ...s.style, "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-select-content-available-width": "var(--radix-popper-available-width)", "--radix-select-content-available-height": "var(--radix-popper-available-height)", "--radix-select-trigger-width": "var(--radix-popper-anchor-width)", "--radix-select-trigger-height": "var(--radix-popper-anchor-height)" } }) }); fC.displayName = iJ; var [sJ, BE] = Jg(ep, {}), dC = "SelectViewport", HR = F.forwardRef((n, e) => { const { __scopeSelect: t, nonce: r, ...i } = n, s = Vd(dC, t), a = BE(dC, t), o = is(e, s.onViewportChange), A = F.useRef(0); return g.jsxs(g.Fragment, { children: [g.jsx("style", { dangerouslySetInnerHTML: { __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}" }, nonce: r }), g.jsx(yb.Slot, { scope: t, children: g.jsx(VA.div, { "data-radix-select-viewport": "", role: "presentation", ...i, ref: o, style: { position: "relative", flex: 1, overflow: "hidden auto", ...i.style }, onScroll: dr(i.onScroll, u => { const f = u.currentTarget, { contentWrapper: h, shouldExpandOnScrollRef: m } = a; if (m?.current && h) { const p = Math.abs(A.current - f.scrollTop); if (p > 0) { const b = window.innerHeight - Hc * 2, y = parseFloat(h.style.minHeight), E = parseFloat(h.style.height), _ = Math.max(y, E); if (_ < b) { const O = _ + p, I = Math.min(b, O), D = O - I; h.style.height = I + "px", h.style.bottom === "0px" && (f.scrollTop = D > 0 ? D : 0, h.style.justifyContent = "flex-end") } } } A.current = f.scrollTop }) }) })] }) }); HR.displayName = dC; var jR = "SelectGroup", [aJ, oJ] = Jg(jR), lJ = F.forwardRef((n, e) => { const { __scopeSelect: t, ...r } = n, i = Hl(); return g.jsx(aJ, { scope: t, id: i, children: g.jsx(VA.div, { role: "group", "aria-labelledby": i, ...r, ref: e }) }) }); lJ.displayName = jR; var zR = "SelectLabel", KR = F.forwardRef((n, e) => { const { __scopeSelect: t, ...r } = n, i = oJ(zR, t); return g.jsx(VA.div, { id: i.id, ...r, ref: e }) }); KR.displayName = zR; var W1 = "SelectItem", [AJ, VR] = Jg(W1), GR = F.forwardRef((n, e) => { const { __scopeSelect: t, value: r, disabled: i = !1, textValue: s, ...a } = n, o = Kd(W1, t), A = Vd(W1, t), u = o.value === r, [f, h] = F.useState(s ?? ""), [m, p] = F.useState(!1), b = is(e, O => A.itemRefCallback?.(O, r, i)), y = Hl(), E = F.useRef("touch"), _ = () => { i || (o.onValueChange(r), o.onOpenChange(!1)) }; if (r === "") throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder."); return g.jsx(AJ, { scope: t, value: r, disabled: i, textId: y, isSelected: u, onItemTextChange: F.useCallback(O => { h(I => I || (O?.textContent ?? "").trim()) }, []), children: g.jsx(yb.ItemSlot, { scope: t, value: r, disabled: i, textValue: f, children: g.jsx(VA.div, { role: "option", "aria-labelledby": y, "data-highlighted": m ? "" : void 0, "aria-selected": u && m, "data-state": u ? "checked" : "unchecked", "aria-disabled": i || void 0, "data-disabled": i ? "" : void 0, tabIndex: i ? void 0 : -1, ...a, ref: b, onFocus: dr(a.onFocus, () => p(!0)), onBlur: dr(a.onBlur, () => p(!1)), onClick: dr(a.onClick, () => { E.current !== "mouse" && _() }), onPointerUp: dr(a.onPointerUp, () => { E.current === "mouse" && _() }), onPointerDown: dr(a.onPointerDown, O => { E.current = O.pointerType }), onPointerMove: dr(a.onPointerMove, O => { E.current = O.pointerType, i ? A.onItemLeave?.() : E.current === "mouse" && O.currentTarget.focus({ preventScroll: !0 }) }), onPointerLeave: dr(a.onPointerLeave, O => { O.currentTarget === document.activeElement && A.onItemLeave?.() }), onKeyDown: dr(a.onKeyDown, O => { A.searchRef?.current !== "" && O.key === " " || (YY.includes(O.key) && _(), O.key === " " && O.preventDefault()) }) }) }) }) }); GR.displayName = W1; var Vm = "SelectItemText", WR = F.forwardRef((n, e) => { const { __scopeSelect: t, className: r, style: i, ...s } = n, a = Kd(Vm, t), o = Vd(Vm, t), A = VR(Vm, t), u = qY(Vm, t), [f, h] = F.useState(null), m = is(e, _ => h(_), A.onItemTextChange, _ => o.itemTextRefCallback?.(_, A.value, A.disabled)), p = f?.textContent, b = F.useMemo(() => g.jsx("option", { value: A.value, disabled: A.disabled, children: p }, A.value), [A.disabled, A.value, p]), { onNativeOptionAdd: y, onNativeOptionRemove: E } = u; return El(() => (y(b), () => E(b)), [y, E, b]), g.jsxs(g.Fragment, { children: [g.jsx(VA.span, { id: A.textId, ...s, ref: m }), A.isSelected && a.valueNode && !a.valueNodeHasChildren ? J0.createPortal(s.children, a.valueNode) : null] }) }); WR.displayName = Vm; var YR = "SelectItemIndicator", JR = F.forwardRef((n, e) => { const { __scopeSelect: t, ...r } = n; return VR(YR, t).isSelected ? g.jsx(VA.span, { "aria-hidden": !0, ...r, ref: e }) : null }); JR.displayName = YR; var hC = "SelectScrollUpButton", XR = F.forwardRef((n, e) => { const t = Vd(hC, n.__scopeSelect), r = BE(hC, n.__scopeSelect), [i, s] = F.useState(!1), a = is(e, r.onScrollButtonChange); return El(() => { if (t.viewport && t.isPositioned) { let o = function () { const u = A.scrollTop > 0; s(u) }; const A = t.viewport; return o(), A.addEventListener("scroll", o), () => A.removeEventListener("scroll", o) } }, [t.viewport, t.isPositioned]), i ? g.jsx(qR, { ...n, ref: a, onAutoScroll: () => { const { viewport: o, selectedItem: A } = t; o && A && (o.scrollTop = o.scrollTop - A.offsetHeight) } }) : null }); XR.displayName = hC; var pC = "SelectScrollDownButton", ZR = F.forwardRef((n, e) => { const t = Vd(pC, n.__scopeSelect), r = BE(pC, n.__scopeSelect), [i, s] = F.useState(!1), a = is(e, r.onScrollButtonChange); return El(() => { if (t.viewport && t.isPositioned) { let o = function () { const u = A.scrollHeight - A.clientHeight, f = Math.ceil(A.scrollTop) < u; s(f) }; const A = t.viewport; return o(), A.addEventListener("scroll", o), () => A.removeEventListener("scroll", o) } }, [t.viewport, t.isPositioned]), i ? g.jsx(qR, { ...n, ref: a, onAutoScroll: () => { const { viewport: o, selectedItem: A } = t; o && A && (o.scrollTop = o.scrollTop + A.offsetHeight) } }) : null }); ZR.displayName = pC; var qR = F.forwardRef((n, e) => { const { __scopeSelect: t, onAutoScroll: r, ...i } = n, s = Vd("SelectScrollButton", t), a = F.useRef(null), o = wb(t), A = F.useCallback(() => { a.current !== null && (window.clearInterval(a.current), a.current = null) }, []); return F.useEffect(() => () => A(), [A]), El(() => { o().find(f => f.ref.current === document.activeElement)?.ref.current?.scrollIntoView({ block: "nearest" }) }, [o]), g.jsx(VA.div, { "aria-hidden": !0, ...i, ref: e, style: { flexShrink: 0, ...i.style }, onPointerDown: dr(i.onPointerDown, () => { a.current === null && (a.current = window.setInterval(r, 50)) }), onPointerMove: dr(i.onPointerMove, () => { s.onItemLeave?.(), a.current === null && (a.current = window.setInterval(r, 50)) }), onPointerLeave: dr(i.onPointerLeave, () => { A() }) }) }), cJ = "SelectSeparator", $R = F.forwardRef((n, e) => { const { __scopeSelect: t, ...r } = n; return g.jsx(VA.div, { "aria-hidden": !0, ...r, ref: e }) }); $R.displayName = cJ; var gC = "SelectArrow", uJ = F.forwardRef((n, e) => { const { __scopeSelect: t, ...r } = n, i = bb(t), s = Kd(gC, t), a = Vd(gC, t); return s.open && a.position === "popper" ? g.jsx(SR, { ...i, ...r, ref: e }) : null }); uJ.displayName = gC; var fJ = "SelectBubbleInput", eI = F.forwardRef(({ __scopeSelect: n, value: e, ...t }, r) => { const i = F.useRef(null), s = is(r, i), a = NR(e); return F.useEffect(() => { const o = i.current; if (!o) return; const A = window.HTMLSelectElement.prototype, f = Object.getOwnPropertyDescriptor(A, "value").set; if (a !== e && f) { const h = new Event("change", { bubbles: !0 }); f.call(o, e), o.dispatchEvent(h) } }, [a, e]), g.jsx(VA.select, { ...t, style: { ...kR, ...t.style }, ref: s, defaultValue: e }) }); eI.displayName = fJ; function tI(n) { return n === "" || n === void 0 } function nI(n) { const e = Nd(n), t = F.useRef(""), r = F.useRef(0), i = F.useCallback(a => { const o = t.current + a; e(o), (function A(u) { t.current = u, window.clearTimeout(r.current), u !== "" && (r.current = window.setTimeout(() => A(""), 1e3)) })(o) }, [e]), s = F.useCallback(() => { t.current = "", window.clearTimeout(r.current) }, []); return F.useEffect(() => () => window.clearTimeout(r.current), []), [t, i, s] } function rI(n, e, t) { const i = e.length > 1 && Array.from(e).every(u => u === e[0]) ? e[0] : e, s = t ? n.indexOf(t) : -1; let a = dJ(n, Math.max(s, 0)); i.length === 1 && (a = a.filter(u => u !== t)); const A = a.find(u => u.textValue.toLowerCase().startsWith(i.toLowerCase())); return A !== t ? A : void 0 } function dJ(n, e) { return n.map((t, r) => n[(e + r) % n.length]) } var hJ = TR, iI = UR, pJ = RR, gJ = IR, mJ = LR, sI = MR, vJ = HR, aI = KR, oI = GR, yJ = WR, wJ = JR, lI = XR, AI = ZR, cI = $R; const hc = hJ, pc = pJ, jA = F.forwardRef(({ className: n, children: e, ...t }, r) => g.jsxs(iI, { ref: r, className: Dn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1", n), ...t, children: [e, g.jsx(gJ, { asChild: !0, children: g.jsx($5, { className: "h-4 w-4 opacity-50" }) })] })); jA.displayName = iI.displayName; const uI = F.forwardRef(({ className: n, ...e }, t) => g.jsx(lI, { ref: t, className: Dn("flex cursor-default items-center justify-center py-1", n), ...e, children: g.jsx(u9, { className: "h-4 w-4" }) })); uI.displayName = lI.displayName; const fI = F.forwardRef(({ className: n, ...e }, t) => g.jsx(AI, { ref: t, className: Dn("flex cursor-default items-center justify-center py-1", n), ...e, children: g.jsx($5, { className: "h-4 w-4" }) })); fI.displayName = AI.displayName; const zA = F.forwardRef(({ className: n, children: e, position: t = "popper", ...r }, i) => g.jsx(mJ, { children: g.jsxs(sI, { ref: i, className: Dn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2", t === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", n), position: t, ...r, children: [g.jsx(uI, {}), g.jsx(vJ, { className: Dn("p-1", t === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"), children: e }), g.jsx(fI, {})] }) })); zA.displayName = sI.displayName; const bJ = F.forwardRef(({ className: n, ...e }, t) => g.jsx(aI, { ref: t, className: Dn("py-1.5 pl-8 pr-2 text-sm font-semibold", n), ...e })); bJ.displayName = aI.displayName; const Zn = F.forwardRef(({ className: n, children: e, ...t }, r) => g.jsxs(oI, { ref: r, className: Dn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", n), ...t, children: [g.jsx("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: g.jsx(wJ, { children: g.jsx(sb, { className: "h-4 w-4" }) }) }), g.jsx(yJ, { children: e })] })); Zn.displayName = oI.displayName; const xJ = F.forwardRef(({ className: n, ...e }, t) => g.jsx(cI, { ref: t, className: Dn("-mx-1 my-1 h-px bg-muted", n), ...e })); xJ.displayName = cI.displayName; var wx = { exports: {} }, bx = {}; var DN; function BJ() { if (DN) return bx; DN = 1; var n = lp(); function e(h, m) { return h === m && (h !== 0 || 1 / h === 1 / m) || h !== h && m !== m } var t = typeof Object.is == "function" ? Object.is : e, r = n.useState, i = n.useEffect, s = n.useLayoutEffect, a = n.useDebugValue; function o(h, m) { var p = m(), b = r({ inst: { value: p, getSnapshot: m } }), y = b[0].inst, E = b[1]; return s(function () { y.value = p, y.getSnapshot = m, A(y) && E({ inst: y }) }, [h, p, m]), i(function () { return A(y) && E({ inst: y }), h(function () { A(y) && E({ inst: y }) }) }, [h]), a(p), p } function A(h) { var m = h.getSnapshot; h = h.value; try { var p = m(); return !t(h, p) } catch { return !0 } } function u(h, m) { return m() } var f = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? u : o; return bx.useSyncExternalStore = n.useSyncExternalStore !== void 0 ? n.useSyncExternalStore : f, bx } var PN; function dI() { return PN || (PN = 1, wx.exports = BJ()), wx.exports } var hI = dI(); function Zo(n) { this.content = n } Zo.prototype = { constructor: Zo, find: function (n) { for (var e = 0; e < this.content.length; e += 2)if (this.content[e] === n) return e; return -1 }, get: function (n) { var e = this.find(n); return e == -1 ? void 0 : this.content[e + 1] }, update: function (n, e, t) { var r = t && t != n ? this.remove(t) : this, i = r.find(n), s = r.content.slice(); return i == -1 ? s.push(t || n, e) : (s[i + 1] = e, t && (s[i] = t)), new Zo(s) }, remove: function (n) { var e = this.find(n); if (e == -1) return this; var t = this.content.slice(); return t.splice(e, 2), new Zo(t) }, addToStart: function (n, e) { return new Zo([n, e].concat(this.remove(n).content)) }, addToEnd: function (n, e) { var t = this.remove(n).content.slice(); return t.push(n, e), new Zo(t) }, addBefore: function (n, e, t) { var r = this.remove(e), i = r.content.slice(), s = r.find(n); return i.splice(s == -1 ? i.length : s, 0, e, t), new Zo(i) }, forEach: function (n) { for (var e = 0; e < this.content.length; e += 2)n(this.content[e], this.content[e + 1]) }, prepend: function (n) { return n = Zo.from(n), n.size ? new Zo(n.content.concat(this.subtract(n).content)) : this }, append: function (n) { return n = Zo.from(n), n.size ? new Zo(this.subtract(n).content.concat(n.content)) : this }, subtract: function (n) { var e = this; n = Zo.from(n); for (var t = 0; t < n.content.length; t += 2)e = e.remove(n.content[t]); return e }, toObject: function () { var n = {}; return this.forEach(function (e, t) { n[e] = t }), n }, get size() { return this.content.length >> 1 } }; Zo.from = function (n) { if (n instanceof Zo) return n; var e = []; if (n) for (var t in n) e.push(t, n[t]); return new Zo(e) }; function pI(n, e, t) { for (let r = 0; ; r++) { if (r == n.childCount || r == e.childCount) return n.childCount == e.childCount ? null : t; let i = n.child(r), s = e.child(r); if (i == s) { t += i.nodeSize; continue } if (!i.sameMarkup(s)) return t; if (i.isText && i.text != s.text) { for (let a = 0; i.text[a] == s.text[a]; a++)t++; return t } if (i.content.size || s.content.size) { let a = pI(i.content, s.content, t + 1); if (a != null) return a } t += i.nodeSize } } function gI(n, e, t, r) { for (let i = n.childCount, s = e.childCount; ;) { if (i == 0 || s == 0) return i == s ? null : { a: t, b: r }; let a = n.child(--i), o = e.child(--s), A = a.nodeSize; if (a == o) { t -= A, r -= A; continue } if (!a.sameMarkup(o)) return { a: t, b: r }; if (a.isText && a.text != o.text) { let u = 0, f = Math.min(a.text.length, o.text.length); for (; u < f && a.text[a.text.length - u - 1] == o.text[o.text.length - u - 1];)u++, t--, r--; return { a: t, b: r } } if (a.content.size || o.content.size) { let u = gI(a.content, o.content, t - 1, r - 1); if (u) return u } t -= A, r -= A } } class kt { constructor(e, t) { if (this.content = e, this.size = t || 0, t == null) for (let r = 0; r < e.length; r++)this.size += e[r].nodeSize } nodesBetween(e, t, r, i = 0, s) { for (let a = 0, o = 0; o < t; a++) { let A = this.content[a], u = o + A.nodeSize; if (u > e && r(A, i + o, s || null, a) !== !1 && A.content.size) { let f = o + 1; A.nodesBetween(Math.max(0, e - f), Math.min(A.content.size, t - f), r, i + f) } o = u } } descendants(e) { this.nodesBetween(0, this.size, e) } textBetween(e, t, r, i) { let s = "", a = !0; return this.nodesBetween(e, t, (o, A) => { let u = o.isText ? o.text.slice(Math.max(e, A) - A, t - A) : o.isLeaf ? i ? typeof i == "function" ? i(o) : i : o.type.spec.leafText ? o.type.spec.leafText(o) : "" : ""; o.isBlock && (o.isLeaf && u || o.isTextblock) && r && (a ? a = !1 : s += r), s += u }, 0), s } append(e) { if (!e.size) return this; if (!this.size) return e; let t = this.lastChild, r = e.firstChild, i = this.content.slice(), s = 0; for (t.isText && t.sameMarkup(r) && (i[i.length - 1] = t.withText(t.text + r.text), s = 1); s < e.content.length; s++)i.push(e.content[s]); return new kt(i, this.size + e.size) } cut(e, t = this.size) { if (e == 0 && t == this.size) return this; let r = [], i = 0; if (t > e) for (let s = 0, a = 0; a < t; s++) { let o = this.content[s], A = a + o.nodeSize; A > e && ((a < e || A > t) && (o.isText ? o = o.cut(Math.max(0, e - a), Math.min(o.text.length, t - a)) : o = o.cut(Math.max(0, e - a - 1), Math.min(o.content.size, t - a - 1))), r.push(o), i += o.nodeSize), a = A } return new kt(r, i) } cutByIndex(e, t) { return e == t ? kt.empty : e == 0 && t == this.content.length ? this : new kt(this.content.slice(e, t)) } replaceChild(e, t) { let r = this.content[e]; if (r == t) return this; let i = this.content.slice(), s = this.size + t.nodeSize - r.nodeSize; return i[e] = t, new kt(i, s) } addToStart(e) { return new kt([e].concat(this.content), this.size + e.nodeSize) } addToEnd(e) { return new kt(this.content.concat(e), this.size + e.nodeSize) } eq(e) { if (this.content.length != e.content.length) return !1; for (let t = 0; t < this.content.length; t++)if (!this.content[t].eq(e.content[t])) return !1; return !0 } get firstChild() { return this.content.length ? this.content[0] : null } get lastChild() { return this.content.length ? this.content[this.content.length - 1] : null } get childCount() { return this.content.length } child(e) { let t = this.content[e]; if (!t) throw new RangeError("Index " + e + " out of range for " + this); return t } maybeChild(e) { return this.content[e] || null } forEach(e) { for (let t = 0, r = 0; t < this.content.length; t++) { let i = this.content[t]; e(i, r, t), r += i.nodeSize } } findDiffStart(e, t = 0) { return pI(this, e, t) } findDiffEnd(e, t = this.size, r = e.size) { return gI(this, e, t, r) } findIndex(e) { if (e == 0) return by(0, e); if (e == this.size) return by(this.content.length, e); if (e > this.size || e < 0) throw new RangeError(`Position ${e} outside of fragment (${this})`); for (let t = 0, r = 0; ; t++) { let i = this.child(t), s = r + i.nodeSize; if (s >= e) return s == e ? by(t + 1, s) : by(t, r); r = s } } toString() { return "<" + this.toStringInner() + ">" } toStringInner() { return this.content.join(", ") } toJSON() { return this.content.length ? this.content.map(e => e.toJSON()) : null } static fromJSON(e, t) { if (!t) return kt.empty; if (!Array.isArray(t)) throw new RangeError("Invalid input for Fragment.fromJSON"); return new kt(t.map(e.nodeFromJSON)) } static fromArray(e) { if (!e.length) return kt.empty; let t, r = 0; for (let i = 0; i < e.length; i++) { let s = e[i]; r += s.nodeSize, i && s.isText && e[i - 1].sameMarkup(s) ? (t || (t = e.slice(0, i)), t[t.length - 1] = s.withText(t[t.length - 1].text + s.text)) : t && t.push(s) } return new kt(t || e, r) } static from(e) { if (!e) return kt.empty; if (e instanceof kt) return e; if (Array.isArray(e)) return this.fromArray(e); if (e.attrs) return new kt([e], e.nodeSize); throw new RangeError("Can not convert " + e + " to a Fragment" + (e.nodesBetween ? " (looks like multiple versions of prosemirror-model were loaded)" : "")) } } kt.empty = new kt([], 0); const xx = { index: 0, offset: 0 }; function by(n, e) { return xx.index = n, xx.offset = e, xx } function Y1(n, e) { if (n === e) return !0; if (!(n && typeof n == "object") || !(e && typeof e == "object")) return !1; let t = Array.isArray(n); if (Array.isArray(e) != t) return !1; if (t) { if (n.length != e.length) return !1; for (let r = 0; r < n.length; r++)if (!Y1(n[r], e[r])) return !1 } else { for (let r in n) if (!(r in e) || !Y1(n[r], e[r])) return !1; for (let r in e) if (!(r in n)) return !1 } return !0 } let Ki = class mC { constructor(e, t) { this.type = e, this.attrs = t } addToSet(e) { let t, r = !1; for (let i = 0; i < e.length; i++) { let s = e[i]; if (this.eq(s)) return e; if (this.type.excludes(s.type)) t || (t = e.slice(0, i)); else { if (s.type.excludes(this.type)) return e; !r && s.type.rank > this.type.rank && (t || (t = e.slice(0, i)), t.push(this), r = !0), t && t.push(s) } } return t || (t = e.slice()), r || t.push(this), t } removeFromSet(e) { for (let t = 0; t < e.length; t++)if (this.eq(e[t])) return e.slice(0, t).concat(e.slice(t + 1)); return e } isInSet(e) { for (let t = 0; t < e.length; t++)if (this.eq(e[t])) return !0; return !1 } eq(e) { return this == e || this.type == e.type && Y1(this.attrs, e.attrs) } toJSON() { let e = { type: this.type.name }; for (let t in this.attrs) { e.attrs = this.attrs; break } return e } static fromJSON(e, t) { if (!t) throw new RangeError("Invalid input for Mark.fromJSON"); let r = e.marks[t.type]; if (!r) throw new RangeError(`There is no mark type ${t.type} in this schema`); let i = r.create(t.attrs); return r.checkAttrs(i.attrs), i } static sameSet(e, t) { if (e == t) return !0; if (e.length != t.length) return !1; for (let r = 0; r < e.length; r++)if (!e[r].eq(t[r])) return !1; return !0 } static setFrom(e) { if (!e || Array.isArray(e) && e.length == 0) return mC.none; if (e instanceof mC) return [e]; let t = e.slice(); return t.sort((r, i) => r.type.rank - i.type.rank), t } }; Ki.none = []; class J1 extends Error { } class Jt { constructor(e, t, r) { this.content = e, this.openStart = t, this.openEnd = r } get size() { return this.content.size - this.openStart - this.openEnd } insertAt(e, t) { let r = vI(this.content, e + this.openStart, t); return r && new Jt(r, this.openStart, this.openEnd) } removeBetween(e, t) { return new Jt(mI(this.content, e + this.openStart, t + this.openStart), this.openStart, this.openEnd) } eq(e) { return this.content.eq(e.content) && this.openStart == e.openStart && this.openEnd == e.openEnd } toString() { return this.content + "(" + this.openStart + "," + this.openEnd + ")" } toJSON() { if (!this.content.size) return null; let e = { content: this.content.toJSON() }; return this.openStart > 0 && (e.openStart = this.openStart), this.openEnd > 0 && (e.openEnd = this.openEnd), e } static fromJSON(e, t) { if (!t) return Jt.empty; let r = t.openStart || 0, i = t.openEnd || 0; if (typeof r != "number" || typeof i != "number") throw new RangeError("Invalid input for Slice.fromJSON"); return new Jt(kt.fromJSON(e, t.content), r, i) } static maxOpen(e, t = !0) { let r = 0, i = 0; for (let s = e.firstChild; s && !s.isLeaf && (t || !s.type.spec.isolating); s = s.firstChild)r++; for (let s = e.lastChild; s && !s.isLeaf && (t || !s.type.spec.isolating); s = s.lastChild)i++; return new Jt(e, r, i) } } Jt.empty = new Jt(kt.empty, 0, 0); function mI(n, e, t) { let { index: r, offset: i } = n.findIndex(e), s = n.maybeChild(r), { index: a, offset: o } = n.findIndex(t); if (i == e || s.isText) { if (o != t && !n.child(a).isText) throw new RangeError("Removing non-flat range"); return n.cut(0, e).append(n.cut(t)) } if (r != a) throw new RangeError("Removing non-flat range"); return n.replaceChild(r, s.copy(mI(s.content, e - i - 1, t - i - 1))) } function vI(n, e, t, r) { let { index: i, offset: s } = n.findIndex(e), a = n.maybeChild(i); if (s == e || a.isText) return r && !r.canReplace(i, i, t) ? null : n.cut(0, e).append(t).append(n.cut(e)); let o = vI(a.content, e - s - 1, t, a); return o && n.replaceChild(i, a.copy(o)) } function CJ(n, e, t) { if (t.openStart > n.depth) throw new J1("Inserted content deeper than insertion position"); if (n.depth - t.openStart != e.depth - t.openEnd) throw new J1("Inconsistent open depths"); return yI(n, e, t, 0) } function yI(n, e, t, r) { let i = n.index(r), s = n.node(r); if (i == e.index(r) && r < n.depth - t.openStart) { let a = yI(n, e, t, r + 1); return s.copy(s.content.replaceChild(i, a)) } else if (t.content.size) if (!t.openStart && !t.openEnd && n.depth == r && e.depth == r) { let a = n.parent, o = a.content; return jh(a, o.cut(0, n.parentOffset).append(t.content).append(o.cut(e.parentOffset))) } else { let { start: a, end: o } = EJ(t, n); return jh(s, bI(n, a, o, e, r)) } else return jh(s, X1(n, e, r)) } function wI(n, e) { if (!e.type.compatibleContent(n.type)) throw new J1("Cannot join " + e.type.name + " onto " + n.type.name) } function vC(n, e, t) { let r = n.node(t); return wI(r, e.node(t)), r } function Hh(n, e) { let t = e.length - 1; t >= 0 && n.isText && n.sameMarkup(e[t]) ? e[t] = n.withText(e[t].text + n.text) : e.push(n) } function a0(n, e, t, r) { let i = (e || n).node(t), s = 0, a = e ? e.index(t) : i.childCount; n && (s = n.index(t), n.depth > t ? s++ : n.textOffset && (Hh(n.nodeAfter, r), s++)); for (let o = s; o < a; o++)Hh(i.child(o), r); e && e.depth == t && e.textOffset && Hh(e.nodeBefore, r) } function jh(n, e) { return n.type.checkContent(e), n.copy(e) } function bI(n, e, t, r, i) { let s = n.depth > i && vC(n, e, i + 1), a = r.depth > i && vC(t, r, i + 1), o = []; return a0(null, n, i, o), s && a && e.index(i) == t.index(i) ? (wI(s, a), Hh(jh(s, bI(n, e, t, r, i + 1)), o)) : (s && Hh(jh(s, X1(n, e, i + 1)), o), a0(e, t, i, o), a && Hh(jh(a, X1(t, r, i + 1)), o)), a0(r, null, i, o), new kt(o) } function X1(n, e, t) { let r = []; if (a0(null, n, t, r), n.depth > t) { let i = vC(n, e, t + 1); Hh(jh(i, X1(n, e, t + 1)), r) } return a0(e, null, t, r), new kt(r) } function EJ(n, e) { let t = e.depth - n.openStart, i = e.node(t).copy(n.content); for (let s = t - 1; s >= 0; s--)i = e.node(s).copy(kt.from(i)); return { start: i.resolveNoCache(n.openStart + t), end: i.resolveNoCache(i.content.size - n.openEnd - t) } } class U0 { constructor(e, t, r) { this.pos = e, this.path = t, this.parentOffset = r, this.depth = t.length / 3 - 1 } resolveDepth(e) { return e == null ? this.depth : e < 0 ? this.depth + e : e } get parent() { return this.node(this.depth) } get doc() { return this.node(0) } node(e) { return this.path[this.resolveDepth(e) * 3] } index(e) { return this.path[this.resolveDepth(e) * 3 + 1] } indexAfter(e) { return e = this.resolveDepth(e), this.index(e) + (e == this.depth && !this.textOffset ? 0 : 1) } start(e) { return e = this.resolveDepth(e), e == 0 ? 0 : this.path[e * 3 - 1] + 1 } end(e) { return e = this.resolveDepth(e), this.start(e) + this.node(e).content.size } before(e) { if (e = this.resolveDepth(e), !e) throw new RangeError("There is no position before the top-level node"); return e == this.depth + 1 ? this.pos : this.path[e * 3 - 1] } after(e) { if (e = this.resolveDepth(e), !e) throw new RangeError("There is no position after the top-level node"); return e == this.depth + 1 ? this.pos : this.path[e * 3 - 1] + this.path[e * 3].nodeSize } get textOffset() { return this.pos - this.path[this.path.length - 1] } get nodeAfter() { let e = this.parent, t = this.index(this.depth); if (t == e.childCount) return null; let r = this.pos - this.path[this.path.length - 1], i = e.child(t); return r ? e.child(t).cut(r) : i } get nodeBefore() { let e = this.index(this.depth), t = this.pos - this.path[this.path.length - 1]; return t ? this.parent.child(e).cut(0, t) : e == 0 ? null : this.parent.child(e - 1) } posAtIndex(e, t) { t = this.resolveDepth(t); let r = this.path[t * 3], i = t == 0 ? 0 : this.path[t * 3 - 1] + 1; for (let s = 0; s < e; s++)i += r.child(s).nodeSize; return i } marks() { let e = this.parent, t = this.index(); if (e.content.size == 0) return Ki.none; if (this.textOffset) return e.child(t).marks; let r = e.maybeChild(t - 1), i = e.maybeChild(t); if (!r) { let o = r; r = i, i = o } let s = r.marks; for (var a = 0; a < s.length; a++)s[a].type.spec.inclusive === !1 && (!i || !s[a].isInSet(i.marks)) && (s = s[a--].removeFromSet(s)); return s } marksAcross(e) { let t = this.parent.maybeChild(this.index()); if (!t || !t.isInline) return null; let r = t.marks, i = e.parent.maybeChild(e.index()); for (var s = 0; s < r.length; s++)r[s].type.spec.inclusive === !1 && (!i || !r[s].isInSet(i.marks)) && (r = r[s--].removeFromSet(r)); return r } sharedDepth(e) { for (let t = this.depth; t > 0; t--)if (this.start(t) <= e && this.end(t) >= e) return t; return 0 } blockRange(e = this, t) { if (e.pos < this.pos) return e.blockRange(this); for (let r = this.depth - (this.parent.inlineContent || this.pos == e.pos ? 1 : 0); r >= 0; r--)if (e.pos <= this.end(r) && (!t || t(this.node(r)))) return new Z1(this, e, r); return null } sameParent(e) { return this.pos - this.parentOffset == e.pos - e.parentOffset } max(e) { return e.pos > this.pos ? e : this } min(e) { return e.pos < this.pos ? e : this } toString() { let e = ""; for (let t = 1; t <= this.depth; t++)e += (e ? "/" : "") + this.node(t).type.name + "_" + this.index(t - 1); return e + ":" + this.parentOffset } static resolve(e, t) { if (!(t >= 0 && t <= e.content.size)) throw new RangeError("Position " + t + " out of range"); let r = [], i = 0, s = t; for (let a = e; ;) { let { index: o, offset: A } = a.content.findIndex(s), u = s - A; if (r.push(a, o, i + A), !u || (a = a.child(o), a.isText)) break; s = u - 1, i += A + 1 } return new U0(t, r, s) } static resolveCached(e, t) { let r = HN.get(e); if (r) for (let s = 0; s < r.elts.length; s++) { let a = r.elts[s]; if (a.pos == t) return a } else HN.set(e, r = new SJ); let i = r.elts[r.i] = U0.resolve(e, t); return r.i = (r.i + 1) % _J, i } } class SJ { constructor() { this.elts = [], this.i = 0 } } const _J = 12, HN = new WeakMap; class Z1 { constructor(e, t, r) { this.$from = e, this.$to = t, this.depth = r } get start() { return this.$from.before(this.depth + 1) } get end() { return this.$to.after(this.depth + 1) } get parent() { return this.$from.node(this.depth) } get startIndex() { return this.$from.index(this.depth) } get endIndex() { return this.$to.indexAfter(this.depth) } } const NJ = Object.create(null); let wd = class yC { constructor(e, t, r, i = Ki.none) { this.type = e, this.attrs = t, this.marks = i, this.content = r || kt.empty } get children() { return this.content.content } get nodeSize() { return this.isLeaf ? 1 : 2 + this.content.size } get childCount() { return this.content.childCount } child(e) { return this.content.child(e) } maybeChild(e) { return this.content.maybeChild(e) } forEach(e) { this.content.forEach(e) } nodesBetween(e, t, r, i = 0) { this.content.nodesBetween(e, t, r, i, this) } descendants(e) { this.nodesBetween(0, this.content.size, e) } get textContent() { return this.isLeaf && this.type.spec.leafText ? this.type.spec.leafText(this) : this.textBetween(0, this.content.size, "") } textBetween(e, t, r, i) { return this.content.textBetween(e, t, r, i) } get firstChild() { return this.content.firstChild } get lastChild() { return this.content.lastChild } eq(e) { return this == e || this.sameMarkup(e) && this.content.eq(e.content) } sameMarkup(e) { return this.hasMarkup(e.type, e.attrs, e.marks) } hasMarkup(e, t, r) { return this.type == e && Y1(this.attrs, t || e.defaultAttrs || NJ) && Ki.sameSet(this.marks, r || Ki.none) } copy(e = null) { return e == this.content ? this : new yC(this.type, this.attrs, e, this.marks) } mark(e) { return e == this.marks ? this : new yC(this.type, this.attrs, this.content, e) } cut(e, t = this.content.size) { return e == 0 && t == this.content.size ? this : this.copy(this.content.cut(e, t)) } slice(e, t = this.content.size, r = !1) { if (e == t) return Jt.empty; let i = this.resolve(e), s = this.resolve(t), a = r ? 0 : i.sharedDepth(t), o = i.start(a), u = i.node(a).content.cut(i.pos - o, s.pos - o); return new Jt(u, i.depth - a, s.depth - a) } replace(e, t, r) { return CJ(this.resolve(e), this.resolve(t), r) } nodeAt(e) { for (let t = this; ;) { let { index: r, offset: i } = t.content.findIndex(e); if (t = t.maybeChild(r), !t) return null; if (i == e || t.isText) return t; e -= i + 1 } } childAfter(e) { let { index: t, offset: r } = this.content.findIndex(e); return { node: this.content.maybeChild(t), index: t, offset: r } } childBefore(e) { if (e == 0) return { node: null, index: 0, offset: 0 }; let { index: t, offset: r } = this.content.findIndex(e); if (r < e) return { node: this.content.child(t), index: t, offset: r }; let i = this.content.child(t - 1); return { node: i, index: t - 1, offset: r - i.nodeSize } } resolve(e) { return U0.resolveCached(this, e) } resolveNoCache(e) { return U0.resolve(this, e) } rangeHasMark(e, t, r) { let i = !1; return t > e && this.nodesBetween(e, t, s => (r.isInSet(s.marks) && (i = !0), !i)), i } get isBlock() { return this.type.isBlock } get isTextblock() { return this.type.isTextblock } get inlineContent() { return this.type.inlineContent } get isInline() { return this.type.isInline } get isText() { return this.type.isText } get isLeaf() { return this.type.isLeaf } get isAtom() { return this.type.isAtom } toString() { if (this.type.spec.toDebugString) return this.type.spec.toDebugString(this); let e = this.type.name; return this.content.size && (e += "(" + this.content.toStringInner() + ")"), xI(this.marks, e) } contentMatchAt(e) { let t = this.type.contentMatch.matchFragment(this.content, 0, e); if (!t) throw new Error("Called contentMatchAt on a node with invalid content"); return t } canReplace(e, t, r = kt.empty, i = 0, s = r.childCount) { let a = this.contentMatchAt(e).matchFragment(r, i, s), o = a && a.matchFragment(this.content, t); if (!o || !o.validEnd) return !1; for (let A = i; A < s; A++)if (!this.type.allowsMarks(r.child(A).marks)) return !1; return !0 } canReplaceWith(e, t, r, i) { if (i && !this.type.allowsMarks(i)) return !1; let s = this.contentMatchAt(e).matchType(r), a = s && s.matchFragment(this.content, t); return a ? a.validEnd : !1 } canAppend(e) { return e.content.size ? this.canReplace(this.childCount, this.childCount, e.content) : this.type.compatibleContent(e.type) } check() { this.type.checkContent(this.content), this.type.checkAttrs(this.attrs); let e = Ki.none; for (let t = 0; t < this.marks.length; t++) { let r = this.marks[t]; r.type.checkAttrs(r.attrs), e = r.addToSet(e) } if (!Ki.sameSet(e, this.marks)) throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t => t.type.name)}`); this.content.forEach(t => t.check()) } toJSON() { let e = { type: this.type.name }; for (let t in this.attrs) { e.attrs = this.attrs; break } return this.content.size && (e.content = this.content.toJSON()), this.marks.length && (e.marks = this.marks.map(t => t.toJSON())), e } static fromJSON(e, t) { if (!t) throw new RangeError("Invalid input for Node.fromJSON"); let r; if (t.marks) { if (!Array.isArray(t.marks)) throw new RangeError("Invalid mark data for Node.fromJSON"); r = t.marks.map(e.markFromJSON) } if (t.type == "text") { if (typeof t.text != "string") throw new RangeError("Invalid text node in JSON"); return e.text(t.text, r) } let i = kt.fromJSON(e, t.content), s = e.nodeType(t.type).create(t.attrs, i, r); return s.type.checkAttrs(s.attrs), s } }; wd.prototype.text = void 0; class q1 extends wd { constructor(e, t, r, i) { if (super(e, t, null, i), !r) throw new RangeError("Empty text nodes are not allowed"); this.text = r } toString() { return this.type.spec.toDebugString ? this.type.spec.toDebugString(this) : xI(this.marks, JSON.stringify(this.text)) } get textContent() { return this.text } textBetween(e, t) { return this.text.slice(e, t) } get nodeSize() { return this.text.length } mark(e) { return e == this.marks ? this : new q1(this.type, this.attrs, this.text, e) } withText(e) { return e == this.text ? this : new q1(this.type, this.attrs, e, this.marks) } cut(e = 0, t = this.text.length) { return e == 0 && t == this.text.length ? this : this.withText(this.text.slice(e, t)) } eq(e) { return this.sameMarkup(e) && this.text == e.text } toJSON() { let e = super.toJSON(); return e.text = this.text, e } } function xI(n, e) { for (let t = n.length - 1; t >= 0; t--)e = n[t].type.name + "(" + e + ")"; return e } class tp {
  constructor(e) { this.validEnd = e, this.next = [], this.wrapCache = [] } static parse(e, t) { let r = new kJ(e, t); if (r.next == null) return tp.empty; let i = BI(r); r.next && r.err("Unexpected trailing text"); let s = LJ(IJ(i)); return MJ(s, r), s } matchType(e) { for (let t = 0; t < this.next.length; t++)if (this.next[t].type == e) return this.next[t].next; return null } matchFragment(e, t = 0, r = e.childCount) { let i = this; for (let s = t; i && s < r; s++)i = i.matchType(e.child(s).type); return i } get inlineContent() { return this.next.length != 0 && this.next[0].type.isInline } get defaultType() { for (let e = 0; e < this.next.length; e++) { let { type: t } = this.next[e]; if (!(t.isText || t.hasRequiredAttrs())) return t } return null } compatible(e) { for (let t = 0; t < this.next.length; t++)for (let r = 0; r < e.next.length; r++)if (this.next[t].type == e.next[r].type) return !0; return !1 } fillBefore(e, t = !1, r = 0) { let i = [this]; function s(a, o) { let A = a.matchFragment(e, r); if (A && (!t || A.validEnd)) return kt.from(o.map(u => u.createAndFill())); for (let u = 0; u < a.next.length; u++) { let { type: f, next: h } = a.next[u]; if (!(f.isText || f.hasRequiredAttrs()) && i.indexOf(h) == -1) { i.push(h); let m = s(h, o.concat(f)); if (m) return m } } return null } return s(this, []) } findWrapping(e) { for (let r = 0; r < this.wrapCache.length; r += 2)if (this.wrapCache[r] == e) return this.wrapCache[r + 1]; let t = this.computeWrapping(e); return this.wrapCache.push(e, t), t } computeWrapping(e) { let t = Object.create(null), r = [{ match: this, type: null, via: null }]; for (; r.length;) { let i = r.shift(), s = i.match; if (s.matchType(e)) { let a = []; for (let o = i; o.type; o = o.via)a.push(o.type); return a.reverse() } for (let a = 0; a < s.next.length; a++) { let { type: o, next: A } = s.next[a]; !o.isLeaf && !o.hasRequiredAttrs() && !(o.name in t) && (!i.type || A.validEnd) && (r.push({ match: o.contentMatch, type: o, via: i }), t[o.name] = !0) } } return null } get edgeCount() { return this.next.length } edge(e) { if (e >= this.next.length) throw new RangeError(`There's no ${e}th edge in this content match`); return this.next[e] } toString() {
    let e = []; function t(r) { e.push(r); for (let i = 0; i < r.next.length; i++)e.indexOf(r.next[i].next) == -1 && t(r.next[i].next) } return t(this), e.map((r, i) => { let s = i + (r.validEnd ? "*" : " ") + " "; for (let a = 0; a < r.next.length; a++)s += (a ? ", " : "") + r.next[a].type.name + "->" + e.indexOf(r.next[a].next); return s }).join(`
`)
  }
} tp.empty = new tp(!0); class kJ { constructor(e, t) { this.string = e, this.nodeTypes = t, this.inline = null, this.pos = 0, this.tokens = e.split(/\s*(?=\b|\W|$)/), this.tokens[this.tokens.length - 1] == "" && this.tokens.pop(), this.tokens[0] == "" && this.tokens.shift() } get next() { return this.tokens[this.pos] } eat(e) { return this.next == e && (this.pos++ || !0) } err(e) { throw new SyntaxError(e + " (in content expression '" + this.string + "')") } } function BI(n) { let e = []; do e.push(TJ(n)); while (n.eat("|")); return e.length == 1 ? e[0] : { type: "choice", exprs: e } } function TJ(n) { let e = []; do e.push(FJ(n)); while (n.next && n.next != ")" && n.next != "|"); return e.length == 1 ? e[0] : { type: "seq", exprs: e } } function FJ(n) { let e = RJ(n); for (; ;)if (n.eat("+")) e = { type: "plus", expr: e }; else if (n.eat("*")) e = { type: "star", expr: e }; else if (n.eat("?")) e = { type: "opt", expr: e }; else if (n.eat("{")) e = UJ(n, e); else break; return e } function jN(n) { /\D/.test(n.next) && n.err("Expected number, got '" + n.next + "'"); let e = Number(n.next); return n.pos++, e } function UJ(n, e) { let t = jN(n), r = t; return n.eat(",") && (n.next != "}" ? r = jN(n) : r = -1), n.eat("}") || n.err("Unclosed braced range"), { type: "range", min: t, max: r, expr: e } } function OJ(n, e) { let t = n.nodeTypes, r = t[e]; if (r) return [r]; let i = []; for (let s in t) { let a = t[s]; a.isInGroup(e) && i.push(a) } return i.length == 0 && n.err("No node type or group '" + e + "' found"), i } function RJ(n) { if (n.eat("(")) { let e = BI(n); return n.eat(")") || n.err("Missing closing paren"), e } else if (/\W/.test(n.next)) n.err("Unexpected token '" + n.next + "'"); else { let e = OJ(n, n.next).map(t => (n.inline == null ? n.inline = t.isInline : n.inline != t.isInline && n.err("Mixing inline and block content"), { type: "name", value: t })); return n.pos++, e.length == 1 ? e[0] : { type: "choice", exprs: e } } } function IJ(n) { let e = [[]]; return i(s(n, 0), t()), e; function t() { return e.push([]) - 1 } function r(a, o, A) { let u = { term: A, to: o }; return e[a].push(u), u } function i(a, o) { a.forEach(A => A.to = o) } function s(a, o) { if (a.type == "choice") return a.exprs.reduce((A, u) => A.concat(s(u, o)), []); if (a.type == "seq") for (let A = 0; ; A++) { let u = s(a.exprs[A], o); if (A == a.exprs.length - 1) return u; i(u, o = t()) } else if (a.type == "star") { let A = t(); return r(o, A), i(s(a.expr, A), A), [r(A)] } else if (a.type == "plus") { let A = t(); return i(s(a.expr, o), A), i(s(a.expr, A), A), [r(A)] } else { if (a.type == "opt") return [r(o)].concat(s(a.expr, o)); if (a.type == "range") { let A = o; for (let u = 0; u < a.min; u++) { let f = t(); i(s(a.expr, A), f), A = f } if (a.max == -1) i(s(a.expr, A), A); else for (let u = a.min; u < a.max; u++) { let f = t(); r(A, f), i(s(a.expr, A), f), A = f } return [r(A)] } else { if (a.type == "name") return [r(o, void 0, a.value)]; throw new Error("Unknown expr type") } } } } function CI(n, e) { return e - n } function zN(n, e) { let t = []; return r(e), t.sort(CI); function r(i) { let s = n[i]; if (s.length == 1 && !s[0].term) return r(s[0].to); t.push(i); for (let a = 0; a < s.length; a++) { let { term: o, to: A } = s[a]; !o && t.indexOf(A) == -1 && r(A) } } } function LJ(n) { let e = Object.create(null); return t(zN(n, 0)); function t(r) { let i = []; r.forEach(a => { n[a].forEach(({ term: o, to: A }) => { if (!o) return; let u; for (let f = 0; f < i.length; f++)i[f][0] == o && (u = i[f][1]); zN(n, A).forEach(f => { u || i.push([o, u = []]), u.indexOf(f) == -1 && u.push(f) }) }) }); let s = e[r.join(",")] = new tp(r.indexOf(n.length - 1) > -1); for (let a = 0; a < i.length; a++) { let o = i[a][1].sort(CI); s.next.push({ type: i[a][0], next: e[o.join(",")] || t(o) }) } return s } } function MJ(n, e) { for (let t = 0, r = [n]; t < r.length; t++) { let i = r[t], s = !i.validEnd, a = []; for (let o = 0; o < i.next.length; o++) { let { type: A, next: u } = i.next[o]; a.push(A.name), s && !(A.isText || A.hasRequiredAttrs()) && (s = !1), r.indexOf(u) == -1 && r.push(u) } s && e.err("Only non-generatable nodes (" + a.join(", ") + ") in a required position (see https://prosemirror.net/docs/guide/#generatable)") } } function EI(n) { let e = Object.create(null); for (let t in n) { let r = n[t]; if (!r.hasDefault) return null; e[t] = r.default } return e } function SI(n, e) { let t = Object.create(null); for (let r in n) { let i = e && e[r]; if (i === void 0) { let s = n[r]; if (s.hasDefault) i = s.default; else throw new RangeError("No value supplied for attribute " + r) } t[r] = i } return t } function _I(n, e, t, r) { for (let i in e) if (!(i in n)) throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`); for (let i in n) { let s = n[i]; s.validate && s.validate(e[i]) } } function NI(n, e) { let t = Object.create(null); if (e) for (let r in e) t[r] = new DJ(n, r, e[r]); return t } let KN = class kI { constructor(e, t, r) { this.name = e, this.schema = t, this.spec = r, this.markSet = null, this.groups = r.group ? r.group.split(" ") : [], this.attrs = NI(e, r.attrs), this.defaultAttrs = EI(this.attrs), this.contentMatch = null, this.inlineContent = null, this.isBlock = !(r.inline || e == "text"), this.isText = e == "text" } get isInline() { return !this.isBlock } get isTextblock() { return this.isBlock && this.inlineContent } get isLeaf() { return this.contentMatch == tp.empty } get isAtom() { return this.isLeaf || !!this.spec.atom } isInGroup(e) { return this.groups.indexOf(e) > -1 } get whitespace() { return this.spec.whitespace || (this.spec.code ? "pre" : "normal") } hasRequiredAttrs() { for (let e in this.attrs) if (this.attrs[e].isRequired) return !0; return !1 } compatibleContent(e) { return this == e || this.contentMatch.compatible(e.contentMatch) } computeAttrs(e) { return !e && this.defaultAttrs ? this.defaultAttrs : SI(this.attrs, e) } create(e = null, t, r) { if (this.isText) throw new Error("NodeType.create can't construct text nodes"); return new wd(this, this.computeAttrs(e), kt.from(t), Ki.setFrom(r)) } createChecked(e = null, t, r) { return t = kt.from(t), this.checkContent(t), new wd(this, this.computeAttrs(e), t, Ki.setFrom(r)) } createAndFill(e = null, t, r) { if (e = this.computeAttrs(e), t = kt.from(t), t.size) { let a = this.contentMatch.fillBefore(t); if (!a) return null; t = a.append(t) } let i = this.contentMatch.matchFragment(t), s = i && i.fillBefore(kt.empty, !0); return s ? new wd(this, e, t.append(s), Ki.setFrom(r)) : null } validContent(e) { let t = this.contentMatch.matchFragment(e); if (!t || !t.validEnd) return !1; for (let r = 0; r < e.childCount; r++)if (!this.allowsMarks(e.child(r).marks)) return !1; return !0 } checkContent(e) { if (!this.validContent(e)) throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0, 50)}`) } checkAttrs(e) { _I(this.attrs, e, "node", this.name) } allowsMarkType(e) { return this.markSet == null || this.markSet.indexOf(e) > -1 } allowsMarks(e) { if (this.markSet == null) return !0; for (let t = 0; t < e.length; t++)if (!this.allowsMarkType(e[t].type)) return !1; return !0 } allowedMarks(e) { if (this.markSet == null) return e; let t; for (let r = 0; r < e.length; r++)this.allowsMarkType(e[r].type) ? t && t.push(e[r]) : t || (t = e.slice(0, r)); return t ? t.length ? t : Ki.none : e } static compile(e, t) { let r = Object.create(null); e.forEach((s, a) => r[s] = new kI(s, t, a)); let i = t.spec.topNode || "doc"; if (!r[i]) throw new RangeError("Schema is missing its top node type ('" + i + "')"); if (!r.text) throw new RangeError("Every schema needs a 'text' type"); for (let s in r.text.attrs) throw new RangeError("The text node type should not have attributes"); return r } }; function QJ(n, e, t) { let r = t.split("|"); return i => { let s = i === null ? "null" : typeof i; if (r.indexOf(s) < 0) throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`) } } class DJ { constructor(e, t, r) { this.hasDefault = Object.prototype.hasOwnProperty.call(r, "default"), this.default = r.default, this.validate = typeof r.validate == "string" ? QJ(e, t, r.validate) : r.validate } get isRequired() { return !this.hasDefault } } class xb { constructor(e, t, r, i) { this.name = e, this.rank = t, this.schema = r, this.spec = i, this.attrs = NI(e, i.attrs), this.excluded = null; let s = EI(this.attrs); this.instance = s ? new Ki(this, s) : null } create(e = null) { return !e && this.instance ? this.instance : new Ki(this, SI(this.attrs, e)) } static compile(e, t) { let r = Object.create(null), i = 0; return e.forEach((s, a) => r[s] = new xb(s, i++, t, a)), r } removeFromSet(e) { for (var t = 0; t < e.length; t++)e[t].type == this && (e = e.slice(0, t).concat(e.slice(t + 1)), t--); return e } isInSet(e) { for (let t = 0; t < e.length; t++)if (e[t].type == this) return e[t] } checkAttrs(e) { _I(this.attrs, e, "mark", this.name) } excludes(e) { return this.excluded.indexOf(e) > -1 } } class TI { constructor(e) { this.linebreakReplacement = null, this.cached = Object.create(null); let t = this.spec = {}; for (let i in e) t[i] = e[i]; t.nodes = Zo.from(e.nodes), t.marks = Zo.from(e.marks || {}), this.nodes = KN.compile(this.spec.nodes, this), this.marks = xb.compile(this.spec.marks, this); let r = Object.create(null); for (let i in this.nodes) { if (i in this.marks) throw new RangeError(i + " can not be both a node and a mark"); let s = this.nodes[i], a = s.spec.content || "", o = s.spec.marks; if (s.contentMatch = r[a] || (r[a] = tp.parse(a, this.nodes)), s.inlineContent = s.contentMatch.inlineContent, s.spec.linebreakReplacement) { if (this.linebreakReplacement) throw new RangeError("Multiple linebreak nodes defined"); if (!s.isInline || !s.isLeaf) throw new RangeError("Linebreak replacement nodes must be inline leaf nodes"); this.linebreakReplacement = s } s.markSet = o == "_" ? null : o ? VN(this, o.split(" ")) : o == "" || !s.inlineContent ? [] : null } for (let i in this.marks) { let s = this.marks[i], a = s.spec.excludes; s.excluded = a == null ? [s] : a == "" ? [] : VN(this, a.split(" ")) } this.nodeFromJSON = i => wd.fromJSON(this, i), this.markFromJSON = i => Ki.fromJSON(this, i), this.topNodeType = this.nodes[this.spec.topNode || "doc"], this.cached.wrappings = Object.create(null) } node(e, t = null, r, i) { if (typeof e == "string") e = this.nodeType(e); else if (e instanceof KN) { if (e.schema != this) throw new RangeError("Node type from different schema used (" + e.name + ")") } else throw new RangeError("Invalid node type: " + e); return e.createChecked(t, r, i) } text(e, t) { let r = this.nodes.text; return new q1(r, r.defaultAttrs, e, Ki.setFrom(t)) } mark(e, t) { return typeof e == "string" && (e = this.marks[e]), e.create(t) } nodeType(e) { let t = this.nodes[e]; if (!t) throw new RangeError("Unknown node type: " + e); return t } } function VN(n, e) { let t = []; for (let r = 0; r < e.length; r++) { let i = e[r], s = n.marks[i], a = s; if (s) t.push(s); else for (let o in n.marks) { let A = n.marks[o]; (i == "_" || A.spec.group && A.spec.group.split(" ").indexOf(i) > -1) && t.push(a = A) } if (!a) throw new SyntaxError("Unknown mark type: '" + e[r] + "'") } return t } function PJ(n) { return n.tag != null } function HJ(n) { return n.style != null } class bd { constructor(e, t) { this.schema = e, this.rules = t, this.tags = [], this.styles = []; let r = this.matchedStyles = []; t.forEach(i => { if (PJ(i)) this.tags.push(i); else if (HJ(i)) { let s = /[^=]*/.exec(i.style)[0]; r.indexOf(s) < 0 && r.push(s), this.styles.push(i) } }), this.normalizeLists = !this.tags.some(i => { if (!/^(ul|ol)\b/.test(i.tag) || !i.node) return !1; let s = e.nodes[i.node]; return s.contentMatch.matchType(s) }) } parse(e, t = {}) { let r = new WN(this, t, !1); return r.addAll(e, Ki.none, t.from, t.to), r.finish() } parseSlice(e, t = {}) { let r = new WN(this, t, !0); return r.addAll(e, Ki.none, t.from, t.to), Jt.maxOpen(r.finish()) } matchTag(e, t, r) { for (let i = r ? this.tags.indexOf(r) + 1 : 0; i < this.tags.length; i++) { let s = this.tags[i]; if (KJ(e, s.tag) && (s.namespace === void 0 || e.namespaceURI == s.namespace) && (!s.context || t.matchesContext(s.context))) { if (s.getAttrs) { let a = s.getAttrs(e); if (a === !1) continue; s.attrs = a || void 0 } return s } } } matchStyle(e, t, r, i) { for (let s = i ? this.styles.indexOf(i) + 1 : 0; s < this.styles.length; s++) { let a = this.styles[s], o = a.style; if (!(o.indexOf(e) != 0 || a.context && !r.matchesContext(a.context) || o.length > e.length && (o.charCodeAt(e.length) != 61 || o.slice(e.length + 1) != t))) { if (a.getAttrs) { let A = a.getAttrs(t); if (A === !1) continue; a.attrs = A || void 0 } return a } } } static schemaRules(e) { let t = []; function r(i) { let s = i.priority == null ? 50 : i.priority, a = 0; for (; a < t.length; a++) { let o = t[a]; if ((o.priority == null ? 50 : o.priority) < s) break } t.splice(a, 0, i) } for (let i in e.marks) { let s = e.marks[i].spec.parseDOM; s && s.forEach(a => { r(a = YN(a)), a.mark || a.ignore || a.clearMark || (a.mark = i) }) } for (let i in e.nodes) { let s = e.nodes[i].spec.parseDOM; s && s.forEach(a => { r(a = YN(a)), a.node || a.ignore || a.mark || (a.node = i) }) } return t } static fromSchema(e) { return e.cached.domParser || (e.cached.domParser = new bd(e, bd.schemaRules(e))) } } const FI = { address: !0, article: !0, aside: !0, blockquote: !0, canvas: !0, dd: !0, div: !0, dl: !0, fieldset: !0, figcaption: !0, figure: !0, footer: !0, form: !0, h1: !0, h2: !0, h3: !0, h4: !0, h5: !0, h6: !0, header: !0, hgroup: !0, hr: !0, li: !0, noscript: !0, ol: !0, output: !0, p: !0, pre: !0, section: !0, table: !0, tfoot: !0, ul: !0 }, jJ = { head: !0, noscript: !0, object: !0, script: !0, style: !0, title: !0 }, UI = { ol: !0, ul: !0 }, O0 = 1, wC = 2, o0 = 4; function GN(n, e, t) { return e != null ? (e ? O0 : 0) | (e === "full" ? wC : 0) : n && n.whitespace == "pre" ? O0 | wC : t & ~o0 } class xy { constructor(e, t, r, i, s, a) { this.type = e, this.attrs = t, this.marks = r, this.solid = i, this.options = a, this.content = [], this.activeMarks = Ki.none, this.match = s || (a & o0 ? null : e.contentMatch) } findWrapping(e) { if (!this.match) { if (!this.type) return []; let t = this.type.contentMatch.fillBefore(kt.from(e)); if (t) this.match = this.type.contentMatch.matchFragment(t); else { let r = this.type.contentMatch, i; return (i = r.findWrapping(e.type)) ? (this.match = r, i) : null } } return this.match.findWrapping(e.type) } finish(e) { if (!(this.options & O0)) { let r = this.content[this.content.length - 1], i; if (r && r.isText && (i = /[ \t\r\n\u000c]+$/.exec(r.text))) { let s = r; r.text.length == i[0].length ? this.content.pop() : this.content[this.content.length - 1] = s.withText(s.text.slice(0, s.text.length - i[0].length)) } } let t = kt.from(this.content); return !e && this.match && (t = t.append(this.match.fillBefore(kt.empty, !0))), this.type ? this.type.create(this.attrs, t, this.marks) : t } inlineContext(e) { return this.type ? this.type.inlineContent : this.content.length ? this.content[0].isInline : e.parentNode && !FI.hasOwnProperty(e.parentNode.nodeName.toLowerCase()) } } class WN {
  constructor(e, t, r) { this.parser = e, this.options = t, this.isOpen = r, this.open = 0, this.localPreserveWS = !1; let i = t.topNode, s, a = GN(null, t.preserveWhitespace, 0) | (r ? o0 : 0); i ? s = new xy(i.type, i.attrs, Ki.none, !0, t.topMatch || i.type.contentMatch, a) : r ? s = new xy(null, null, Ki.none, !0, null, a) : s = new xy(e.schema.topNodeType, null, Ki.none, !0, null, a), this.nodes = [s], this.find = t.findPositions, this.needsBlock = !1 } get top() { return this.nodes[this.open] } addDOM(e, t) { e.nodeType == 3 ? this.addTextNode(e, t) : e.nodeType == 1 && this.addElement(e, t) } addTextNode(e, t) {
    let r = e.nodeValue, i = this.top, s = i.options & wC ? "full" : this.localPreserveWS || (i.options & O0) > 0, { schema: a } = this.parser; if (s === "full" || i.inlineContext(e) || /[^ \t\r\n\u000c]/.test(r)) {
      if (s) if (s === "full") r = r.replace(/\r\n?/g, `
`); else if (a.linebreakReplacement && /[\r\n]/.test(r) && this.top.findWrapping(a.linebreakReplacement.create())) { let o = r.split(/\r?\n|\r/); for (let A = 0; A < o.length; A++)A && this.insertNode(a.linebreakReplacement.create(), t, !0), o[A] && this.insertNode(a.text(o[A]), t, !/\S/.test(o[A])); r = "" } else r = r.replace(/\r?\n|\r/g, " "); else if (r = r.replace(/[ \t\r\n\u000c]+/g, " "), /^[ \t\r\n\u000c]/.test(r) && this.open == this.nodes.length - 1) { let o = i.content[i.content.length - 1], A = e.previousSibling; (!o || A && A.nodeName == "BR" || o.isText && /[ \t\r\n\u000c]$/.test(o.text)) && (r = r.slice(1)) } r && this.insertNode(a.text(r), t, !/\S/.test(r)), this.findInText(e)
    } else this.findInside(e)
  } addElement(e, t, r) { let i = this.localPreserveWS, s = this.top; (e.tagName == "PRE" || /pre/.test(e.style && e.style.whiteSpace)) && (this.localPreserveWS = !0); let a = e.nodeName.toLowerCase(), o; UI.hasOwnProperty(a) && this.parser.normalizeLists && zJ(e); let A = this.options.ruleFromNode && this.options.ruleFromNode(e) || (o = this.parser.matchTag(e, this, r)); e: if (A ? A.ignore : jJ.hasOwnProperty(a)) this.findInside(e), this.ignoreFallback(e, t); else if (!A || A.skip || A.closeParent) { A && A.closeParent ? this.open = Math.max(0, this.open - 1) : A && A.skip.nodeType && (e = A.skip); let u, f = this.needsBlock; if (FI.hasOwnProperty(a)) s.content.length && s.content[0].isInline && this.open && (this.open--, s = this.top), u = !0, s.type || (this.needsBlock = !0); else if (!e.firstChild) { this.leafFallback(e, t); break e } let h = A && A.skip ? t : this.readStyles(e, t); h && this.addAll(e, h), u && this.sync(s), this.needsBlock = f } else { let u = this.readStyles(e, t); u && this.addElementByRule(e, A, u, A.consuming === !1 ? o : void 0) } this.localPreserveWS = i } leafFallback(e, t) {
    e.nodeName == "BR" && this.top.type && this.top.type.inlineContent && this.addTextNode(e.ownerDocument.createTextNode(`
`), t)
  } ignoreFallback(e, t) { e.nodeName == "BR" && (!this.top.type || !this.top.type.inlineContent) && this.findPlace(this.parser.schema.text("-"), t, !0) } readStyles(e, t) { let r = e.style; if (r && r.length) for (let i = 0; i < this.parser.matchedStyles.length; i++) { let s = this.parser.matchedStyles[i], a = r.getPropertyValue(s); if (a) for (let o = void 0; ;) { let A = this.parser.matchStyle(s, a, this, o); if (!A) break; if (A.ignore) return null; if (A.clearMark ? t = t.filter(u => !A.clearMark(u)) : t = t.concat(this.parser.schema.marks[A.mark].create(A.attrs)), A.consuming === !1) o = A; else break } } return t } addElementByRule(e, t, r, i) { let s, a; if (t.node) if (a = this.parser.schema.nodes[t.node], a.isLeaf) this.insertNode(a.create(t.attrs), r, e.nodeName == "BR") || this.leafFallback(e, r); else { let A = this.enter(a, t.attrs || null, r, t.preserveWhitespace); A && (s = !0, r = A) } else { let A = this.parser.schema.marks[t.mark]; r = r.concat(A.create(t.attrs)) } let o = this.top; if (a && a.isLeaf) this.findInside(e); else if (i) this.addElement(e, r, i); else if (t.getContent) this.findInside(e), t.getContent(e, this.parser.schema).forEach(A => this.insertNode(A, r, !1)); else { let A = e; typeof t.contentElement == "string" ? A = e.querySelector(t.contentElement) : typeof t.contentElement == "function" ? A = t.contentElement(e) : t.contentElement && (A = t.contentElement), this.findAround(e, A, !0), this.addAll(A, r), this.findAround(e, A, !1) } s && this.sync(o) && this.open-- } addAll(e, t, r, i) { let s = r || 0; for (let a = r ? e.childNodes[r] : e.firstChild, o = i == null ? null : e.childNodes[i]; a != o; a = a.nextSibling, ++s)this.findAtPoint(e, s), this.addDOM(a, t); this.findAtPoint(e, s) } findPlace(e, t, r) { let i, s; for (let a = this.open, o = 0; a >= 0; a--) { let A = this.nodes[a], u = A.findWrapping(e); if (u && (!i || i.length > u.length + o) && (i = u, s = A, !u.length)) break; if (A.solid) { if (r) break; o += 2 } } if (!i) return null; this.sync(s); for (let a = 0; a < i.length; a++)t = this.enterInner(i[a], null, t, !1); return t } insertNode(e, t, r) { if (e.isInline && this.needsBlock && !this.top.type) { let s = this.textblockFromContext(); s && (t = this.enterInner(s, null, t)) } let i = this.findPlace(e, t, r); if (i) { this.closeExtra(); let s = this.top; s.match && (s.match = s.match.matchType(e.type)); let a = Ki.none; for (let o of i.concat(e.marks)) (s.type ? s.type.allowsMarkType(o.type) : JN(o.type, e.type)) && (a = o.addToSet(a)); return s.content.push(e.mark(a)), !0 } return !1 } enter(e, t, r, i) { let s = this.findPlace(e.create(t), r, !1); return s && (s = this.enterInner(e, t, r, !0, i)), s } enterInner(e, t, r, i = !1, s) { this.closeExtra(); let a = this.top; a.match = a.match && a.match.matchType(e); let o = GN(e, s, a.options); a.options & o0 && a.content.length == 0 && (o |= o0); let A = Ki.none; return r = r.filter(u => (a.type ? a.type.allowsMarkType(u.type) : JN(u.type, e)) ? (A = u.addToSet(A), !1) : !0), this.nodes.push(new xy(e, t, A, i, null, o)), this.open++, r } closeExtra(e = !1) { let t = this.nodes.length - 1; if (t > this.open) { for (; t > this.open; t--)this.nodes[t - 1].content.push(this.nodes[t].finish(e)); this.nodes.length = this.open + 1 } } finish() { return this.open = 0, this.closeExtra(this.isOpen), this.nodes[0].finish(!!(this.isOpen || this.options.topOpen)) } sync(e) { for (let t = this.open; t >= 0; t--) { if (this.nodes[t] == e) return this.open = t, !0; this.localPreserveWS && (this.nodes[t].options |= O0) } return !1 } get currentPos() { this.closeExtra(); let e = 0; for (let t = this.open; t >= 0; t--) { let r = this.nodes[t].content; for (let i = r.length - 1; i >= 0; i--)e += r[i].nodeSize; t && e++ } return e } findAtPoint(e, t) { if (this.find) for (let r = 0; r < this.find.length; r++)this.find[r].node == e && this.find[r].offset == t && (this.find[r].pos = this.currentPos) } findInside(e) { if (this.find) for (let t = 0; t < this.find.length; t++)this.find[t].pos == null && e.nodeType == 1 && e.contains(this.find[t].node) && (this.find[t].pos = this.currentPos) } findAround(e, t, r) { if (e != t && this.find) for (let i = 0; i < this.find.length; i++)this.find[i].pos == null && e.nodeType == 1 && e.contains(this.find[i].node) && t.compareDocumentPosition(this.find[i].node) & (r ? 2 : 4) && (this.find[i].pos = this.currentPos) } findInText(e) { if (this.find) for (let t = 0; t < this.find.length; t++)this.find[t].node == e && (this.find[t].pos = this.currentPos - (e.nodeValue.length - this.find[t].offset)) } matchesContext(e) { if (e.indexOf("|") > -1) return e.split(/\s*\|\s*/).some(this.matchesContext, this); let t = e.split("/"), r = this.options.context, i = !this.isOpen && (!r || r.parent.type == this.nodes[0].type), s = -(r ? r.depth + 1 : 0) + (i ? 0 : 1), a = (o, A) => { for (; o >= 0; o--) { let u = t[o]; if (u == "") { if (o == t.length - 1 || o == 0) continue; for (; A >= s; A--)if (a(o - 1, A)) return !0; return !1 } else { let f = A > 0 || A == 0 && i ? this.nodes[A].type : r && A >= s ? r.node(A - s).type : null; if (!f || f.name != u && !f.isInGroup(u)) return !1; A-- } } return !0 }; return a(t.length - 1, this.open) } textblockFromContext() { let e = this.options.context; if (e) for (let t = e.depth; t >= 0; t--) { let r = e.node(t).contentMatchAt(e.indexAfter(t)).defaultType; if (r && r.isTextblock && r.defaultAttrs) return r } for (let t in this.parser.schema.nodes) { let r = this.parser.schema.nodes[t]; if (r.isTextblock && r.defaultAttrs) return r } }
} function zJ(n) { for (let e = n.firstChild, t = null; e; e = e.nextSibling) { let r = e.nodeType == 1 ? e.nodeName.toLowerCase() : null; r && UI.hasOwnProperty(r) && t ? (t.appendChild(e), e = t) : r == "li" ? t = e : r && (t = null) } } function KJ(n, e) { return (n.matches || n.msMatchesSelector || n.webkitMatchesSelector || n.mozMatchesSelector).call(n, e) } function YN(n) { let e = {}; for (let t in n) e[t] = n[t]; return e } function JN(n, e) { let t = e.schema.nodes; for (let r in t) { let i = t[r]; if (!i.allowsMarkType(n)) continue; let s = [], a = o => { s.push(o); for (let A = 0; A < o.edgeCount; A++) { let { type: u, next: f } = o.edge(A); if (u == e || s.indexOf(f) < 0 && a(f)) return !0 } }; if (a(i.contentMatch)) return !0 } } class cp { constructor(e, t) { this.nodes = e, this.marks = t } serializeFragment(e, t = {}, r) { r || (r = Bx(t).createDocumentFragment()); let i = r, s = []; return e.forEach(a => { if (s.length || a.marks.length) { let o = 0, A = 0; for (; o < s.length && A < a.marks.length;) { let u = a.marks[A]; if (!this.marks[u.type.name]) { A++; continue } if (!u.eq(s[o][0]) || u.type.spec.spanning === !1) break; o++, A++ } for (; o < s.length;)i = s.pop()[1]; for (; A < a.marks.length;) { let u = a.marks[A++], f = this.serializeMark(u, a.isInline, t); f && (s.push([u, i]), i.appendChild(f.dom), i = f.contentDOM || f.dom) } } i.appendChild(this.serializeNodeInner(a, t)) }), r } serializeNodeInner(e, t) { let { dom: r, contentDOM: i } = g1(Bx(t), this.nodes[e.type.name](e), null, e.attrs); if (i) { if (e.isLeaf) throw new RangeError("Content hole not allowed in a leaf node spec"); this.serializeFragment(e.content, t, i) } return r } serializeNode(e, t = {}) { let r = this.serializeNodeInner(e, t); for (let i = e.marks.length - 1; i >= 0; i--) { let s = this.serializeMark(e.marks[i], e.isInline, t); s && ((s.contentDOM || s.dom).appendChild(r), r = s.dom) } return r } serializeMark(e, t, r = {}) { let i = this.marks[e.type.name]; return i && g1(Bx(r), i(e, t), null, e.attrs) } static renderSpec(e, t, r = null, i) { return g1(e, t, r, i) } static fromSchema(e) { return e.cached.domSerializer || (e.cached.domSerializer = new cp(this.nodesFromSchema(e), this.marksFromSchema(e))) } static nodesFromSchema(e) { let t = XN(e.nodes); return t.text || (t.text = r => r.text), t } static marksFromSchema(e) { return XN(e.marks) } } function XN(n) { let e = {}; for (let t in n) { let r = n[t].spec.toDOM; r && (e[t] = r) } return e } function Bx(n) { return n.document || window.document } const ZN = new WeakMap; function VJ(n) { let e = ZN.get(n); return e === void 0 && ZN.set(n, e = GJ(n)), e } function GJ(n) { let e = null; function t(r) { if (r && typeof r == "object") if (Array.isArray(r)) if (typeof r[0] == "string") e || (e = []), e.push(r); else for (let i = 0; i < r.length; i++)t(r[i]); else for (let i in r) t(r[i]) } return t(n), e } function g1(n, e, t, r) { if (typeof e == "string") return { dom: n.createTextNode(e) }; if (e.nodeType != null) return { dom: e }; if (e.dom && e.dom.nodeType != null) return e; let i = e[0], s; if (typeof i != "string") throw new RangeError("Invalid array passed to renderSpec"); if (r && (s = VJ(r)) && s.indexOf(e) > -1) throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack."); let a = i.indexOf(" "); a > 0 && (t = i.slice(0, a), i = i.slice(a + 1)); let o, A = t ? n.createElementNS(t, i) : n.createElement(i), u = e[1], f = 1; if (u && typeof u == "object" && u.nodeType == null && !Array.isArray(u)) { f = 2; for (let h in u) if (u[h] != null) { let m = h.indexOf(" "); m > 0 ? A.setAttributeNS(h.slice(0, m), h.slice(m + 1), u[h]) : h == "style" && A.style ? A.style.cssText = u[h] : A.setAttribute(h, u[h]) } } for (let h = f; h < e.length; h++) { let m = e[h]; if (m === 0) { if (h < e.length - 1 || h > f) throw new RangeError("Content hole must be the only child of its parent node"); return { dom: A, contentDOM: A } } else { let { dom: p, contentDOM: b } = g1(n, m, t, r); if (A.appendChild(p), b) { if (o) throw new RangeError("Multiple content holes"); o = b } } } return { dom: A, contentDOM: o } } const OI = 65535, RI = Math.pow(2, 16); function WJ(n, e) { return n + e * RI } function qN(n) { return n & OI } function YJ(n) { return (n - (n & OI)) / RI } const II = 1, LI = 2, m1 = 4, MI = 8; class bC { constructor(e, t, r) { this.pos = e, this.delInfo = t, this.recover = r } get deleted() { return (this.delInfo & MI) > 0 } get deletedBefore() { return (this.delInfo & (II | m1)) > 0 } get deletedAfter() { return (this.delInfo & (LI | m1)) > 0 } get deletedAcross() { return (this.delInfo & m1) > 0 } } class DA { constructor(e, t = !1) { if (this.ranges = e, this.inverted = t, !e.length && DA.empty) return DA.empty } recover(e) { let t = 0, r = qN(e); if (!this.inverted) for (let i = 0; i < r; i++)t += this.ranges[i * 3 + 2] - this.ranges[i * 3 + 1]; return this.ranges[r * 3] + t + YJ(e) } mapResult(e, t = 1) { return this._map(e, t, !1) } map(e, t = 1) { return this._map(e, t, !0) } _map(e, t, r) { let i = 0, s = this.inverted ? 2 : 1, a = this.inverted ? 1 : 2; for (let o = 0; o < this.ranges.length; o += 3) { let A = this.ranges[o] - (this.inverted ? i : 0); if (A > e) break; let u = this.ranges[o + s], f = this.ranges[o + a], h = A + u; if (e <= h) { let m = u ? e == A ? -1 : e == h ? 1 : t : t, p = A + i + (m < 0 ? 0 : f); if (r) return p; let b = e == (t < 0 ? A : h) ? null : WJ(o / 3, e - A), y = e == A ? LI : e == h ? II : m1; return (t < 0 ? e != A : e != h) && (y |= MI), new bC(p, y, b) } i += f - u } return r ? e + i : new bC(e + i, 0, null) } touches(e, t) { let r = 0, i = qN(t), s = this.inverted ? 2 : 1, a = this.inverted ? 1 : 2; for (let o = 0; o < this.ranges.length; o += 3) { let A = this.ranges[o] - (this.inverted ? r : 0); if (A > e) break; let u = this.ranges[o + s], f = A + u; if (e <= f && o == i * 3) return !0; r += this.ranges[o + a] - u } return !1 } forEach(e) { let t = this.inverted ? 2 : 1, r = this.inverted ? 1 : 2; for (let i = 0, s = 0; i < this.ranges.length; i += 3) { let a = this.ranges[i], o = a - (this.inverted ? s : 0), A = a + (this.inverted ? 0 : s), u = this.ranges[i + t], f = this.ranges[i + r]; e(o, o + u, A, A + f), s += f - u } } invert() { return new DA(this.ranges, !this.inverted) } toString() { return (this.inverted ? "-" : "") + JSON.stringify(this.ranges) } static offset(e) { return e == 0 ? DA.empty : new DA(e < 0 ? [0, -e, 0] : [0, 0, e]) } } DA.empty = new DA([]); class R0 { constructor(e, t, r = 0, i = e ? e.length : 0) { this.mirror = t, this.from = r, this.to = i, this._maps = e || [], this.ownData = !(e || t) } get maps() { return this._maps } slice(e = 0, t = this.maps.length) { return new R0(this._maps, this.mirror, e, t) } appendMap(e, t) { this.ownData || (this._maps = this._maps.slice(), this.mirror = this.mirror && this.mirror.slice(), this.ownData = !0), this.to = this._maps.push(e), t != null && this.setMirror(this._maps.length - 1, t) } appendMapping(e) { for (let t = 0, r = this._maps.length; t < e._maps.length; t++) { let i = e.getMirror(t); this.appendMap(e._maps[t], i != null && i < t ? r + i : void 0) } } getMirror(e) { if (this.mirror) { for (let t = 0; t < this.mirror.length; t++)if (this.mirror[t] == e) return this.mirror[t + (t % 2 ? -1 : 1)] } } setMirror(e, t) { this.mirror || (this.mirror = []), this.mirror.push(e, t) } appendMappingInverted(e) { for (let t = e.maps.length - 1, r = this._maps.length + e._maps.length; t >= 0; t--) { let i = e.getMirror(t); this.appendMap(e._maps[t].invert(), i != null && i > t ? r - i - 1 : void 0) } } invert() { let e = new R0; return e.appendMappingInverted(this), e } map(e, t = 1) { if (this.mirror) return this._map(e, t, !0); for (let r = this.from; r < this.to; r++)e = this._maps[r].map(e, t); return e } mapResult(e, t = 1) { return this._map(e, t, !1) } _map(e, t, r) { let i = 0; for (let s = this.from; s < this.to; s++) { let a = this._maps[s], o = a.mapResult(e, t); if (o.recover != null) { let A = this.getMirror(s); if (A != null && A > s && A < this.to) { s = A, e = this._maps[A].recover(o.recover); continue } } i |= o.delInfo, e = o.pos } return r ? e : new bC(e, i, null) } } const Cx = Object.create(null); class Sl { getMap() { return DA.empty } merge(e) { return null } static fromJSON(e, t) { if (!t || !t.stepType) throw new RangeError("Invalid input for Step.fromJSON"); let r = Cx[t.stepType]; if (!r) throw new RangeError(`No step type ${t.stepType} defined`); return r.fromJSON(e, t) } static jsonID(e, t) { if (e in Cx) throw new RangeError("Duplicate use of step JSON ID " + e); return Cx[e] = t, t.prototype.jsonID = e, t } } class Ra { constructor(e, t) { this.doc = e, this.failed = t } static ok(e) { return new Ra(e, null) } static fail(e) { return new Ra(null, e) } static fromReplace(e, t, r, i) { try { return Ra.ok(e.replace(t, r, i)) } catch (s) { if (s instanceof J1) return Ra.fail(s.message); throw s } } } function CE(n, e, t) { let r = []; for (let i = 0; i < n.childCount; i++) { let s = n.child(i); s.content.size && (s = s.copy(CE(s.content, e, s))), s.isInline && (s = e(s, t, i)), r.push(s) } return kt.fromArray(r) } class fd extends Sl { constructor(e, t, r) { super(), this.from = e, this.to = t, this.mark = r } apply(e) { let t = e.slice(this.from, this.to), r = e.resolve(this.from), i = r.node(r.sharedDepth(this.to)), s = new Jt(CE(t.content, (a, o) => !a.isAtom || !o.type.allowsMarkType(this.mark.type) ? a : a.mark(this.mark.addToSet(a.marks)), i), t.openStart, t.openEnd); return Ra.fromReplace(e, this.from, this.to, s) } invert() { return new Jc(this.from, this.to, this.mark) } map(e) { let t = e.mapResult(this.from, 1), r = e.mapResult(this.to, -1); return t.deleted && r.deleted || t.pos >= r.pos ? null : new fd(t.pos, r.pos, this.mark) } merge(e) { return e instanceof fd && e.mark.eq(this.mark) && this.from <= e.to && this.to >= e.from ? new fd(Math.min(this.from, e.from), Math.max(this.to, e.to), this.mark) : null } toJSON() { return { stepType: "addMark", mark: this.mark.toJSON(), from: this.from, to: this.to } } static fromJSON(e, t) { if (typeof t.from != "number" || typeof t.to != "number") throw new RangeError("Invalid input for AddMarkStep.fromJSON"); return new fd(t.from, t.to, e.markFromJSON(t.mark)) } } Sl.jsonID("addMark", fd); class Jc extends Sl { constructor(e, t, r) { super(), this.from = e, this.to = t, this.mark = r } apply(e) { let t = e.slice(this.from, this.to), r = new Jt(CE(t.content, i => i.mark(this.mark.removeFromSet(i.marks)), e), t.openStart, t.openEnd); return Ra.fromReplace(e, this.from, this.to, r) } invert() { return new fd(this.from, this.to, this.mark) } map(e) { let t = e.mapResult(this.from, 1), r = e.mapResult(this.to, -1); return t.deleted && r.deleted || t.pos >= r.pos ? null : new Jc(t.pos, r.pos, this.mark) } merge(e) { return e instanceof Jc && e.mark.eq(this.mark) && this.from <= e.to && this.to >= e.from ? new Jc(Math.min(this.from, e.from), Math.max(this.to, e.to), this.mark) : null } toJSON() { return { stepType: "removeMark", mark: this.mark.toJSON(), from: this.from, to: this.to } } static fromJSON(e, t) { if (typeof t.from != "number" || typeof t.to != "number") throw new RangeError("Invalid input for RemoveMarkStep.fromJSON"); return new Jc(t.from, t.to, e.markFromJSON(t.mark)) } } Sl.jsonID("removeMark", Jc); class dd extends Sl { constructor(e, t) { super(), this.pos = e, this.mark = t } apply(e) { let t = e.nodeAt(this.pos); if (!t) return Ra.fail("No node at mark step's position"); let r = t.type.create(t.attrs, null, this.mark.addToSet(t.marks)); return Ra.fromReplace(e, this.pos, this.pos + 1, new Jt(kt.from(r), 0, t.isLeaf ? 0 : 1)) } invert(e) { let t = e.nodeAt(this.pos); if (t) { let r = this.mark.addToSet(t.marks); if (r.length == t.marks.length) { for (let i = 0; i < t.marks.length; i++)if (!t.marks[i].isInSet(r)) return new dd(this.pos, t.marks[i]); return new dd(this.pos, this.mark) } } return new np(this.pos, this.mark) } map(e) { let t = e.mapResult(this.pos, 1); return t.deletedAfter ? null : new dd(t.pos, this.mark) } toJSON() { return { stepType: "addNodeMark", pos: this.pos, mark: this.mark.toJSON() } } static fromJSON(e, t) { if (typeof t.pos != "number") throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON"); return new dd(t.pos, e.markFromJSON(t.mark)) } } Sl.jsonID("addNodeMark", dd); class np extends Sl { constructor(e, t) { super(), this.pos = e, this.mark = t } apply(e) { let t = e.nodeAt(this.pos); if (!t) return Ra.fail("No node at mark step's position"); let r = t.type.create(t.attrs, null, this.mark.removeFromSet(t.marks)); return Ra.fromReplace(e, this.pos, this.pos + 1, new Jt(kt.from(r), 0, t.isLeaf ? 0 : 1)) } invert(e) { let t = e.nodeAt(this.pos); return !t || !this.mark.isInSet(t.marks) ? this : new dd(this.pos, this.mark) } map(e) { let t = e.mapResult(this.pos, 1); return t.deletedAfter ? null : new np(t.pos, this.mark) } toJSON() { return { stepType: "removeNodeMark", pos: this.pos, mark: this.mark.toJSON() } } static fromJSON(e, t) { if (typeof t.pos != "number") throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON"); return new np(t.pos, e.markFromJSON(t.mark)) } } Sl.jsonID("removeNodeMark", np); class Bo extends Sl { constructor(e, t, r, i = !1) { super(), this.from = e, this.to = t, this.slice = r, this.structure = i } apply(e) { return this.structure && xC(e, this.from, this.to) ? Ra.fail("Structure replace would overwrite content") : Ra.fromReplace(e, this.from, this.to, this.slice) } getMap() { return new DA([this.from, this.to - this.from, this.slice.size]) } invert(e) { return new Bo(this.from, this.from + this.slice.size, e.slice(this.from, this.to)) } map(e) { let t = e.mapResult(this.from, 1), r = e.mapResult(this.to, -1); return t.deletedAcross && r.deletedAcross ? null : new Bo(t.pos, Math.max(t.pos, r.pos), this.slice, this.structure) } merge(e) { if (!(e instanceof Bo) || e.structure || this.structure) return null; if (this.from + this.slice.size == e.from && !this.slice.openEnd && !e.slice.openStart) { let t = this.slice.size + e.slice.size == 0 ? Jt.empty : new Jt(this.slice.content.append(e.slice.content), this.slice.openStart, e.slice.openEnd); return new Bo(this.from, this.to + (e.to - e.from), t, this.structure) } else if (e.to == this.from && !this.slice.openStart && !e.slice.openEnd) { let t = this.slice.size + e.slice.size == 0 ? Jt.empty : new Jt(e.slice.content.append(this.slice.content), e.slice.openStart, this.slice.openEnd); return new Bo(e.from, this.to, t, this.structure) } else return null } toJSON() { let e = { stepType: "replace", from: this.from, to: this.to }; return this.slice.size && (e.slice = this.slice.toJSON()), this.structure && (e.structure = !0), e } static fromJSON(e, t) { if (typeof t.from != "number" || typeof t.to != "number") throw new RangeError("Invalid input for ReplaceStep.fromJSON"); return new Bo(t.from, t.to, Jt.fromJSON(e, t.slice), !!t.structure) } } Sl.jsonID("replace", Bo); class Co extends Sl { constructor(e, t, r, i, s, a, o = !1) { super(), this.from = e, this.to = t, this.gapFrom = r, this.gapTo = i, this.slice = s, this.insert = a, this.structure = o } apply(e) { if (this.structure && (xC(e, this.from, this.gapFrom) || xC(e, this.gapTo, this.to))) return Ra.fail("Structure gap-replace would overwrite content"); let t = e.slice(this.gapFrom, this.gapTo); if (t.openStart || t.openEnd) return Ra.fail("Gap is not a flat range"); let r = this.slice.insertAt(this.insert, t.content); return r ? Ra.fromReplace(e, this.from, this.to, r) : Ra.fail("Content does not fit in gap") } getMap() { return new DA([this.from, this.gapFrom - this.from, this.insert, this.gapTo, this.to - this.gapTo, this.slice.size - this.insert]) } invert(e) { let t = this.gapTo - this.gapFrom; return new Co(this.from, this.from + this.slice.size + t, this.from + this.insert, this.from + this.insert + t, e.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure) } map(e) { let t = e.mapResult(this.from, 1), r = e.mapResult(this.to, -1), i = this.from == this.gapFrom ? t.pos : e.map(this.gapFrom, -1), s = this.to == this.gapTo ? r.pos : e.map(this.gapTo, 1); return t.deletedAcross && r.deletedAcross || i < t.pos || s > r.pos ? null : new Co(t.pos, r.pos, i, s, this.slice, this.insert, this.structure) } toJSON() { let e = { stepType: "replaceAround", from: this.from, to: this.to, gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert }; return this.slice.size && (e.slice = this.slice.toJSON()), this.structure && (e.structure = !0), e } static fromJSON(e, t) { if (typeof t.from != "number" || typeof t.to != "number" || typeof t.gapFrom != "number" || typeof t.gapTo != "number" || typeof t.insert != "number") throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON"); return new Co(t.from, t.to, t.gapFrom, t.gapTo, Jt.fromJSON(e, t.slice), t.insert, !!t.structure) } } Sl.jsonID("replaceAround", Co); function xC(n, e, t) { let r = n.resolve(e), i = t - e, s = r.depth; for (; i > 0 && s > 0 && r.indexAfter(s) == r.node(s).childCount;)s--, i--; if (i > 0) { let a = r.node(s).maybeChild(r.indexAfter(s)); for (; i > 0;) { if (!a || a.isLeaf) return !0; a = a.firstChild, i-- } } return !1 } function JJ(n, e, t, r) { let i = [], s = [], a, o; n.doc.nodesBetween(e, t, (A, u, f) => { if (!A.isInline) return; let h = A.marks; if (!r.isInSet(h) && f.type.allowsMarkType(r.type)) { let m = Math.max(u, e), p = Math.min(u + A.nodeSize, t), b = r.addToSet(h); for (let y = 0; y < h.length; y++)h[y].isInSet(b) || (a && a.to == m && a.mark.eq(h[y]) ? a.to = p : i.push(a = new Jc(m, p, h[y]))); o && o.to == m ? o.to = p : s.push(o = new fd(m, p, r)) } }), i.forEach(A => n.step(A)), s.forEach(A => n.step(A)) } function XJ(n, e, t, r) { let i = [], s = 0; n.doc.nodesBetween(e, t, (a, o) => { if (!a.isInline) return; s++; let A = null; if (r instanceof xb) { let u = a.marks, f; for (; f = r.isInSet(u);)(A || (A = [])).push(f), u = f.removeFromSet(u) } else r ? r.isInSet(a.marks) && (A = [r]) : A = a.marks; if (A && A.length) { let u = Math.min(o + a.nodeSize, t); for (let f = 0; f < A.length; f++) { let h = A[f], m; for (let p = 0; p < i.length; p++) { let b = i[p]; b.step == s - 1 && h.eq(i[p].style) && (m = b) } m ? (m.to = u, m.step = s) : i.push({ style: h, from: Math.max(o, e), to: u, step: s }) } } }), i.forEach(a => n.step(new Jc(a.from, a.to, a.style))) } function EE(n, e, t, r = t.contentMatch, i = !0) { let s = n.doc.nodeAt(e), a = [], o = e + 1; for (let A = 0; A < s.childCount; A++) { let u = s.child(A), f = o + u.nodeSize, h = r.matchType(u.type); if (!h) a.push(new Bo(o, f, Jt.empty)); else { r = h; for (let m = 0; m < u.marks.length; m++)t.allowsMarkType(u.marks[m].type) || n.step(new Jc(o, f, u.marks[m])); if (i && u.isText && t.whitespace != "pre") { let m, p = /\r?\n|\r/g, b; for (; m = p.exec(u.text);)b || (b = new Jt(kt.from(t.schema.text(" ", t.allowedMarks(u.marks))), 0, 0)), a.push(new Bo(o + m.index, o + m.index + m[0].length, b)) } } o = f } if (!r.validEnd) { let A = r.fillBefore(kt.empty, !0); n.replace(o, o, new Jt(A, 0, 0)) } for (let A = a.length - 1; A >= 0; A--)n.step(a[A]) } function ZJ(n, e, t) { return (e == 0 || n.canReplace(e, n.childCount)) && (t == n.childCount || n.canReplace(0, t)) } function Xg(n) { let t = n.parent.content.cutByIndex(n.startIndex, n.endIndex); for (let r = n.depth, i = 0, s = 0; ; --r) { let a = n.$from.node(r), o = n.$from.index(r) + i, A = n.$to.indexAfter(r) - s; if (r < n.depth && a.canReplace(o, A, t)) return r; if (r == 0 || a.type.spec.isolating || !ZJ(a, o, A)) break; o && (i = 1), A < a.childCount && (s = 1) } return null } function qJ(n, e, t) { let { $from: r, $to: i, depth: s } = e, a = r.before(s + 1), o = i.after(s + 1), A = a, u = o, f = kt.empty, h = 0; for (let b = s, y = !1; b > t; b--)y || r.index(b) > 0 ? (y = !0, f = kt.from(r.node(b).copy(f)), h++) : A--; let m = kt.empty, p = 0; for (let b = s, y = !1; b > t; b--)y || i.after(b + 1) < i.end(b) ? (y = !0, m = kt.from(i.node(b).copy(m)), p++) : u++; n.step(new Co(A, u, a, o, new Jt(f.append(m), h, p), f.size - h, !0)) } function SE(n, e, t = null, r = n) { let i = $J(n, e), s = i && eX(r, e); return s ? i.map($N).concat({ type: e, attrs: t }).concat(s.map($N)) : null } function $N(n) { return { type: n, attrs: null } } function $J(n, e) { let { parent: t, startIndex: r, endIndex: i } = n, s = t.contentMatchAt(r).findWrapping(e); if (!s) return null; let a = s.length ? s[0] : e; return t.canReplaceWith(r, i, a) ? s : null } function eX(n, e) { let { parent: t, startIndex: r, endIndex: i } = n, s = t.child(r), a = e.contentMatch.findWrapping(s.type); if (!a) return null; let A = (a.length ? a[a.length - 1] : e).contentMatch; for (let u = r; A && u < i; u++)A = A.matchType(t.child(u).type); return !A || !A.validEnd ? null : a } function tX(n, e, t) { let r = kt.empty; for (let a = t.length - 1; a >= 0; a--) { if (r.size) { let o = t[a].type.contentMatch.matchFragment(r); if (!o || !o.validEnd) throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper") } r = kt.from(t[a].type.create(t[a].attrs, r)) } let i = e.start, s = e.end; n.step(new Co(i, s, i, s, new Jt(r, 0, 0), t.length, !0)) } function nX(n, e, t, r, i) { if (!r.isTextblock) throw new RangeError("Type given to setBlockType should be a textblock"); let s = n.steps.length; n.doc.nodesBetween(e, t, (a, o) => { let A = typeof i == "function" ? i(a) : i; if (a.isTextblock && !a.hasMarkup(r, A) && rX(n.doc, n.mapping.slice(s).map(o), r)) { let u = null; if (r.schema.linebreakReplacement) { let p = r.whitespace == "pre", b = !!r.contentMatch.matchType(r.schema.linebreakReplacement); p && !b ? u = !1 : !p && b && (u = !0) } u === !1 && DI(n, a, o, s), EE(n, n.mapping.slice(s).map(o, 1), r, void 0, u === null); let f = n.mapping.slice(s), h = f.map(o, 1), m = f.map(o + a.nodeSize, 1); return n.step(new Co(h, m, h + 1, m - 1, new Jt(kt.from(r.create(A, null, a.marks)), 0, 0), 1, !0)), u === !0 && QI(n, a, o, s), !1 } }) } function QI(n, e, t, r) { e.forEach((i, s) => { if (i.isText) { let a, o = /\r?\n|\r/g; for (; a = o.exec(i.text);) { let A = n.mapping.slice(r).map(t + 1 + s + a.index); n.replaceWith(A, A + 1, e.type.schema.linebreakReplacement.create()) } } }) } function DI(n, e, t, r) {
  e.forEach((i, s) => {
    if (i.type == i.type.schema.linebreakReplacement) {
      let a = n.mapping.slice(r).map(t + 1 + s); n.replaceWith(a, a + 1, e.type.schema.text(`
`))
    }
  })
} function rX(n, e, t) { let r = n.resolve(e), i = r.index(); return r.parent.canReplaceWith(i, i + 1, t) } function iX(n, e, t, r, i) { let s = n.doc.nodeAt(e); if (!s) throw new RangeError("No node at given position"); t || (t = s.type); let a = t.create(r, null, i || s.marks); if (s.isLeaf) return n.replaceWith(e, e + s.nodeSize, a); if (!t.validContent(s.content)) throw new RangeError("Invalid content for node type " + t.name); n.step(new Co(e, e + s.nodeSize, e + 1, e + s.nodeSize - 1, new Jt(kt.from(a), 0, 0), 1, !0)) } function hf(n, e, t = 1, r) { let i = n.resolve(e), s = i.depth - t, a = r && r[r.length - 1] || i.parent; if (s < 0 || i.parent.type.spec.isolating || !i.parent.canReplace(i.index(), i.parent.childCount) || !a.type.validContent(i.parent.content.cutByIndex(i.index(), i.parent.childCount))) return !1; for (let u = i.depth - 1, f = t - 2; u > s; u--, f--) { let h = i.node(u), m = i.index(u); if (h.type.spec.isolating) return !1; let p = h.content.cutByIndex(m, h.childCount), b = r && r[f + 1]; b && (p = p.replaceChild(0, b.type.create(b.attrs))); let y = r && r[f] || h; if (!h.canReplace(m + 1, h.childCount) || !y.type.validContent(p)) return !1 } let o = i.indexAfter(s), A = r && r[0]; return i.node(s).canReplaceWith(o, o, A ? A.type : i.node(s + 1).type) } function sX(n, e, t = 1, r) { let i = n.doc.resolve(e), s = kt.empty, a = kt.empty; for (let o = i.depth, A = i.depth - t, u = t - 1; o > A; o--, u--) { s = kt.from(i.node(o).copy(s)); let f = r && r[u]; a = kt.from(f ? f.type.create(f.attrs, a) : i.node(o).copy(a)) } n.step(new Bo(e, e, new Jt(s.append(a), t, t), !0)) } function Gd(n, e) { let t = n.resolve(e), r = t.index(); return PI(t.nodeBefore, t.nodeAfter) && t.parent.canReplace(r, r + 1) } function aX(n, e) { e.content.size || n.type.compatibleContent(e.type); let t = n.contentMatchAt(n.childCount), { linebreakReplacement: r } = n.type.schema; for (let i = 0; i < e.childCount; i++) { let s = e.child(i), a = s.type == r ? n.type.schema.nodes.text : s.type; if (t = t.matchType(a), !t || !n.type.allowsMarks(s.marks)) return !1 } return t.validEnd } function PI(n, e) { return !!(n && e && !n.isLeaf && aX(n, e)) } function Bb(n, e, t = -1) { let r = n.resolve(e); for (let i = r.depth; ; i--) { let s, a, o = r.index(i); if (i == r.depth ? (s = r.nodeBefore, a = r.nodeAfter) : t > 0 ? (s = r.node(i + 1), o++, a = r.node(i).maybeChild(o)) : (s = r.node(i).maybeChild(o - 1), a = r.node(i + 1)), s && !s.isTextblock && PI(s, a) && r.node(i).canReplace(o, o + 1)) return e; if (i == 0) break; e = t < 0 ? r.before(i) : r.after(i) } } function oX(n, e, t) { let r = null, { linebreakReplacement: i } = n.doc.type.schema, s = n.doc.resolve(e - t), a = s.node().type; if (i && a.inlineContent) { let f = a.whitespace == "pre", h = !!a.contentMatch.matchType(i); f && !h ? r = !1 : !f && h && (r = !0) } let o = n.steps.length; if (r === !1) { let f = n.doc.resolve(e + t); DI(n, f.node(), f.before(), o) } a.inlineContent && EE(n, e + t - 1, a, s.node().contentMatchAt(s.index()), r == null); let A = n.mapping.slice(o), u = A.map(e - t); if (n.step(new Bo(u, A.map(e + t, -1), Jt.empty, !0)), r === !0) { let f = n.doc.resolve(u); QI(n, f.node(), f.before(), n.steps.length) } return n } function lX(n, e, t) { let r = n.resolve(e); if (r.parent.canReplaceWith(r.index(), r.index(), t)) return e; if (r.parentOffset == 0) for (let i = r.depth - 1; i >= 0; i--) { let s = r.index(i); if (r.node(i).canReplaceWith(s, s, t)) return r.before(i + 1); if (s > 0) return null } if (r.parentOffset == r.parent.content.size) for (let i = r.depth - 1; i >= 0; i--) { let s = r.indexAfter(i); if (r.node(i).canReplaceWith(s, s, t)) return r.after(i + 1); if (s < r.node(i).childCount) return null } return null } function HI(n, e, t) { let r = n.resolve(e); if (!t.content.size) return e; let i = t.content; for (let s = 0; s < t.openStart; s++)i = i.firstChild.content; for (let s = 1; s <= (t.openStart == 0 && t.size ? 2 : 1); s++)for (let a = r.depth; a >= 0; a--) { let o = a == r.depth ? 0 : r.pos <= (r.start(a + 1) + r.end(a + 1)) / 2 ? -1 : 1, A = r.index(a) + (o > 0 ? 1 : 0), u = r.node(a), f = !1; if (s == 1) f = u.canReplace(A, A, i); else { let h = u.contentMatchAt(A).findWrapping(i.firstChild.type); f = h && u.canReplaceWith(A, A, h[0]) } if (f) return o == 0 ? r.pos : o < 0 ? r.before(a + 1) : r.after(a + 1) } return null } function Cb(n, e, t = e, r = Jt.empty) { if (e == t && !r.size) return null; let i = n.resolve(e), s = n.resolve(t); return jI(i, s, r) ? new Bo(e, t, r) : new AX(i, s, r).fit() } function jI(n, e, t) { return !t.openStart && !t.openEnd && n.start() == e.start() && n.parent.canReplace(n.index(), e.index(), t.content) } class AX { constructor(e, t, r) { this.$from = e, this.$to = t, this.unplaced = r, this.frontier = [], this.placed = kt.empty; for (let i = 0; i <= e.depth; i++) { let s = e.node(i); this.frontier.push({ type: s.type, match: s.contentMatchAt(e.indexAfter(i)) }) } for (let i = e.depth; i > 0; i--)this.placed = kt.from(e.node(i).copy(this.placed)) } get depth() { return this.frontier.length - 1 } fit() { for (; this.unplaced.size;) { let u = this.findFittable(); u ? this.placeNodes(u) : this.openMore() || this.dropNode() } let e = this.mustMoveInline(), t = this.placed.size - this.depth - this.$from.depth, r = this.$from, i = this.close(e < 0 ? this.$to : r.doc.resolve(e)); if (!i) return null; let s = this.placed, a = r.depth, o = i.depth; for (; a && o && s.childCount == 1;)s = s.firstChild.content, a--, o--; let A = new Jt(s, a, o); return e > -1 ? new Co(r.pos, e, this.$to.pos, this.$to.end(), A, t) : A.size || r.pos != this.$to.pos ? new Bo(r.pos, i.pos, A) : null } findFittable() { let e = this.unplaced.openStart; for (let t = this.unplaced.content, r = 0, i = this.unplaced.openEnd; r < e; r++) { let s = t.firstChild; if (t.childCount > 1 && (i = 0), s.type.spec.isolating && i <= r) { e = r; break } t = s.content } for (let t = 1; t <= 2; t++)for (let r = t == 1 ? e : this.unplaced.openStart; r >= 0; r--) { let i, s = null; r ? (s = Ex(this.unplaced.content, r - 1).firstChild, i = s.content) : i = this.unplaced.content; let a = i.firstChild; for (let o = this.depth; o >= 0; o--) { let { type: A, match: u } = this.frontier[o], f, h = null; if (t == 1 && (a ? u.matchType(a.type) || (h = u.fillBefore(kt.from(a), !1)) : s && A.compatibleContent(s.type))) return { sliceDepth: r, frontierDepth: o, parent: s, inject: h }; if (t == 2 && a && (f = u.findWrapping(a.type))) return { sliceDepth: r, frontierDepth: o, parent: s, wrap: f }; if (s && u.matchType(s.type)) break } } } openMore() { let { content: e, openStart: t, openEnd: r } = this.unplaced, i = Ex(e, t); return !i.childCount || i.firstChild.isLeaf ? !1 : (this.unplaced = new Jt(e, t + 1, Math.max(r, i.size + t >= e.size - r ? t + 1 : 0)), !0) } dropNode() { let { content: e, openStart: t, openEnd: r } = this.unplaced, i = Ex(e, t); if (i.childCount <= 1 && t > 0) { let s = e.size - t <= t + i.size; this.unplaced = new Jt(Gm(e, t - 1, 1), t - 1, s ? t - 1 : r) } else this.unplaced = new Jt(Gm(e, t, 1), t, r) } placeNodes({ sliceDepth: e, frontierDepth: t, parent: r, inject: i, wrap: s }) { for (; this.depth > t;)this.closeFrontierNode(); if (s) for (let y = 0; y < s.length; y++)this.openFrontierNode(s[y]); let a = this.unplaced, o = r ? r.content : a.content, A = a.openStart - e, u = 0, f = [], { match: h, type: m } = this.frontier[t]; if (i) { for (let y = 0; y < i.childCount; y++)f.push(i.child(y)); h = h.matchFragment(i) } let p = o.size + e - (a.content.size - a.openEnd); for (; u < o.childCount;) { let y = o.child(u), E = h.matchType(y.type); if (!E) break; u++, (u > 1 || A == 0 || y.content.size) && (h = E, f.push(zI(y.mark(m.allowedMarks(y.marks)), u == 1 ? A : 0, u == o.childCount ? p : -1))) } let b = u == o.childCount; b || (p = -1), this.placed = Wm(this.placed, t, kt.from(f)), this.frontier[t].match = h, b && p < 0 && r && r.type == this.frontier[this.depth].type && this.frontier.length > 1 && this.closeFrontierNode(); for (let y = 0, E = o; y < p; y++) { let _ = E.lastChild; this.frontier.push({ type: _.type, match: _.contentMatchAt(_.childCount) }), E = _.content } this.unplaced = b ? e == 0 ? Jt.empty : new Jt(Gm(a.content, e - 1, 1), e - 1, p < 0 ? a.openEnd : e - 1) : new Jt(Gm(a.content, e, u), a.openStart, a.openEnd) } mustMoveInline() { if (!this.$to.parent.isTextblock) return -1; let e = this.frontier[this.depth], t; if (!e.type.isTextblock || !Sx(this.$to, this.$to.depth, e.type, e.match, !1) || this.$to.depth == this.depth && (t = this.findCloseLevel(this.$to)) && t.depth == this.depth) return -1; let { depth: r } = this.$to, i = this.$to.after(r); for (; r > 1 && i == this.$to.end(--r);)++i; return i } findCloseLevel(e) { e: for (let t = Math.min(this.depth, e.depth); t >= 0; t--) { let { match: r, type: i } = this.frontier[t], s = t < e.depth && e.end(t + 1) == e.pos + (e.depth - (t + 1)), a = Sx(e, t, i, r, s); if (a) { for (let o = t - 1; o >= 0; o--) { let { match: A, type: u } = this.frontier[o], f = Sx(e, o, u, A, !0); if (!f || f.childCount) continue e } return { depth: t, fit: a, move: s ? e.doc.resolve(e.after(t + 1)) : e } } } } close(e) { let t = this.findCloseLevel(e); if (!t) return null; for (; this.depth > t.depth;)this.closeFrontierNode(); t.fit.childCount && (this.placed = Wm(this.placed, t.depth, t.fit)), e = t.move; for (let r = t.depth + 1; r <= e.depth; r++) { let i = e.node(r), s = i.type.contentMatch.fillBefore(i.content, !0, e.index(r)); this.openFrontierNode(i.type, i.attrs, s) } return e } openFrontierNode(e, t = null, r) { let i = this.frontier[this.depth]; i.match = i.match.matchType(e), this.placed = Wm(this.placed, this.depth, kt.from(e.create(t, r))), this.frontier.push({ type: e, match: e.contentMatch }) } closeFrontierNode() { let t = this.frontier.pop().match.fillBefore(kt.empty, !0); t.childCount && (this.placed = Wm(this.placed, this.frontier.length, t)) } } function Gm(n, e, t) { return e == 0 ? n.cutByIndex(t, n.childCount) : n.replaceChild(0, n.firstChild.copy(Gm(n.firstChild.content, e - 1, t))) } function Wm(n, e, t) { return e == 0 ? n.append(t) : n.replaceChild(n.childCount - 1, n.lastChild.copy(Wm(n.lastChild.content, e - 1, t))) } function Ex(n, e) { for (let t = 0; t < e; t++)n = n.firstChild.content; return n } function zI(n, e, t) { if (e <= 0) return n; let r = n.content; return e > 1 && (r = r.replaceChild(0, zI(r.firstChild, e - 1, r.childCount == 1 ? t - 1 : 0))), e > 0 && (r = n.type.contentMatch.fillBefore(r).append(r), t <= 0 && (r = r.append(n.type.contentMatch.matchFragment(r).fillBefore(kt.empty, !0)))), n.copy(r) } function Sx(n, e, t, r, i) { let s = n.node(e), a = i ? n.indexAfter(e) : n.index(e); if (a == s.childCount && !t.compatibleContent(s.type)) return null; let o = r.fillBefore(s.content, !0, a); return o && !cX(t, s.content, a) ? o : null } function cX(n, e, t) { for (let r = t; r < e.childCount; r++)if (!n.allowsMarks(e.child(r).marks)) return !0; return !1 } function uX(n) { return n.spec.defining || n.spec.definingForContent } function fX(n, e, t, r) { if (!r.size) return n.deleteRange(e, t); let i = n.doc.resolve(e), s = n.doc.resolve(t); if (jI(i, s, r)) return n.step(new Bo(e, t, r)); let a = VI(i, s); a[a.length - 1] == 0 && a.pop(); let o = -(i.depth + 1); a.unshift(o); for (let m = i.depth, p = i.pos - 1; m > 0; m--, p--) { let b = i.node(m).type.spec; if (b.defining || b.definingAsContext || b.isolating) break; a.indexOf(m) > -1 ? o = m : i.before(m) == p && a.splice(1, 0, -m) } let A = a.indexOf(o), u = [], f = r.openStart; for (let m = r.content, p = 0; ; p++) { let b = m.firstChild; if (u.push(b), p == r.openStart) break; m = b.content } for (let m = f - 1; m >= 0; m--) { let p = u[m], b = uX(p.type); if (b && !p.sameMarkup(i.node(Math.abs(o) - 1))) f = m; else if (b || !p.type.isTextblock) break } for (let m = r.openStart; m >= 0; m--) { let p = (m + f + 1) % (r.openStart + 1), b = u[p]; if (b) for (let y = 0; y < a.length; y++) { let E = a[(y + A) % a.length], _ = !0; E < 0 && (_ = !1, E = -E); let O = i.node(E - 1), I = i.index(E - 1); if (O.canReplaceWith(I, I, b.type, b.marks)) return n.replace(i.before(E), _ ? s.after(E) : t, new Jt(KI(r.content, 0, r.openStart, p), p, r.openEnd)) } } let h = n.steps.length; for (let m = a.length - 1; m >= 0 && (n.replace(e, t, r), !(n.steps.length > h)); m--) { let p = a[m]; p < 0 || (e = i.before(p), t = s.after(p)) } } function KI(n, e, t, r, i) { if (e < t) { let s = n.firstChild; n = n.replaceChild(0, s.copy(KI(s.content, e + 1, t, r, s))) } if (e > r) { let s = i.contentMatchAt(0), a = s.fillBefore(n).append(n); n = a.append(s.matchFragment(a).fillBefore(kt.empty, !0)) } return n } function dX(n, e, t, r) { if (!r.isInline && e == t && n.doc.resolve(e).parent.content.size) { let i = lX(n.doc, e, r.type); i != null && (e = t = i) } n.replaceRange(e, t, new Jt(kt.from(r), 0, 0)) } function hX(n, e, t) { let r = n.doc.resolve(e), i = n.doc.resolve(t), s = VI(r, i); for (let a = 0; a < s.length; a++) { let o = s[a], A = a == s.length - 1; if (A && o == 0 || r.node(o).type.contentMatch.validEnd) return n.delete(r.start(o), i.end(o)); if (o > 0 && (A || r.node(o - 1).canReplace(r.index(o - 1), i.indexAfter(o - 1)))) return n.delete(r.before(o), i.after(o)) } for (let a = 1; a <= r.depth && a <= i.depth; a++)if (e - r.start(a) == r.depth - a && t > r.end(a) && i.end(a) - t != i.depth - a && r.start(a - 1) == i.start(a - 1) && r.node(a - 1).canReplace(r.index(a - 1), i.index(a - 1))) return n.delete(r.before(a), t); n.delete(e, t) } function VI(n, e) { let t = [], r = Math.min(n.depth, e.depth); for (let i = r; i >= 0; i--) { let s = n.start(i); if (s < n.pos - (n.depth - i) || e.end(i) > e.pos + (e.depth - i) || n.node(i).type.spec.isolating || e.node(i).type.spec.isolating) break; (s == e.start(i) || i == n.depth && i == e.depth && n.parent.inlineContent && e.parent.inlineContent && i && e.start(i - 1) == s - 1) && t.push(i) } return t } class wg extends Sl { constructor(e, t, r) { super(), this.pos = e, this.attr = t, this.value = r } apply(e) { let t = e.nodeAt(this.pos); if (!t) return Ra.fail("No node at attribute step's position"); let r = Object.create(null); for (let s in t.attrs) r[s] = t.attrs[s]; r[this.attr] = this.value; let i = t.type.create(r, null, t.marks); return Ra.fromReplace(e, this.pos, this.pos + 1, new Jt(kt.from(i), 0, t.isLeaf ? 0 : 1)) } getMap() { return DA.empty } invert(e) { return new wg(this.pos, this.attr, e.nodeAt(this.pos).attrs[this.attr]) } map(e) { let t = e.mapResult(this.pos, 1); return t.deletedAfter ? null : new wg(t.pos, this.attr, this.value) } toJSON() { return { stepType: "attr", pos: this.pos, attr: this.attr, value: this.value } } static fromJSON(e, t) { if (typeof t.pos != "number" || typeof t.attr != "string") throw new RangeError("Invalid input for AttrStep.fromJSON"); return new wg(t.pos, t.attr, t.value) } } Sl.jsonID("attr", wg); class I0 extends Sl { constructor(e, t) { super(), this.attr = e, this.value = t } apply(e) { let t = Object.create(null); for (let i in e.attrs) t[i] = e.attrs[i]; t[this.attr] = this.value; let r = e.type.create(t, e.content, e.marks); return Ra.ok(r) } getMap() { return DA.empty } invert(e) { return new I0(this.attr, e.attrs[this.attr]) } map(e) { return this } toJSON() { return { stepType: "docAttr", attr: this.attr, value: this.value } } static fromJSON(e, t) { if (typeof t.attr != "string") throw new RangeError("Invalid input for DocAttrStep.fromJSON"); return new I0(t.attr, t.value) } } Sl.jsonID("docAttr", I0); let Fg = class extends Error { }; Fg = function n(e) { let t = Error.call(this, e); return t.__proto__ = n.prototype, t }; Fg.prototype = Object.create(Error.prototype); Fg.prototype.constructor = Fg; Fg.prototype.name = "TransformError"; class GI { constructor(e) { this.doc = e, this.steps = [], this.docs = [], this.mapping = new R0 } get before() { return this.docs.length ? this.docs[0] : this.doc } step(e) { let t = this.maybeStep(e); if (t.failed) throw new Fg(t.failed); return this } maybeStep(e) { let t = e.apply(this.doc); return t.failed || this.addStep(e, t.doc), t } get docChanged() { return this.steps.length > 0 } addStep(e, t) { this.docs.push(this.doc), this.steps.push(e), this.mapping.appendMap(e.getMap()), this.doc = t } replace(e, t = e, r = Jt.empty) { let i = Cb(this.doc, e, t, r); return i && this.step(i), this } replaceWith(e, t, r) { return this.replace(e, t, new Jt(kt.from(r), 0, 0)) } delete(e, t) { return this.replace(e, t, Jt.empty) } insert(e, t) { return this.replaceWith(e, e, t) } replaceRange(e, t, r) { return fX(this, e, t, r), this } replaceRangeWith(e, t, r) { return dX(this, e, t, r), this } deleteRange(e, t) { return hX(this, e, t), this } lift(e, t) { return qJ(this, e, t), this } join(e, t = 1) { return oX(this, e, t), this } wrap(e, t) { return tX(this, e, t), this } setBlockType(e, t = e, r, i = null) { return nX(this, e, t, r, i), this } setNodeMarkup(e, t, r = null, i) { return iX(this, e, t, r, i), this } setNodeAttribute(e, t, r) { return this.step(new wg(e, t, r)), this } setDocAttribute(e, t) { return this.step(new I0(e, t)), this } addNodeMark(e, t) { return this.step(new dd(e, t)), this } removeNodeMark(e, t) { let r = this.doc.nodeAt(e); if (!r) throw new RangeError("No node at position " + e); if (t instanceof Ki) t.isInSet(r.marks) && this.step(new np(e, t)); else { let i = r.marks, s, a = []; for (; s = t.isInSet(i);)a.push(new np(e, s)), i = s.removeFromSet(i); for (let o = a.length - 1; o >= 0; o--)this.step(a[o]) } return this } split(e, t = 1, r) { return sX(this, e, t, r), this } addMark(e, t, r) { return JJ(this, e, t, r), this } removeMark(e, t, r) { return XJ(this, e, t, r), this } clearIncompatible(e, t, r) { return EE(this, e, t, r), this } } const _x = Object.create(null); class mr { constructor(e, t, r) { this.$anchor = e, this.$head = t, this.ranges = r || [new pX(e.min(t), e.max(t))] } get anchor() { return this.$anchor.pos } get head() { return this.$head.pos } get from() { return this.$from.pos } get to() { return this.$to.pos } get $from() { return this.ranges[0].$from } get $to() { return this.ranges[0].$to } get empty() { let e = this.ranges; for (let t = 0; t < e.length; t++)if (e[t].$from.pos != e[t].$to.pos) return !1; return !0 } content() { return this.$from.doc.slice(this.from, this.to, !0) } replace(e, t = Jt.empty) { let r = t.content.lastChild, i = null; for (let o = 0; o < t.openEnd; o++)i = r, r = r.lastChild; let s = e.steps.length, a = this.ranges; for (let o = 0; o < a.length; o++) { let { $from: A, $to: u } = a[o], f = e.mapping.slice(s); e.replaceRange(f.map(A.pos), f.map(u.pos), o ? Jt.empty : t), o == 0 && nk(e, s, (r ? r.isInline : i && i.isTextblock) ? -1 : 1) } } replaceWith(e, t) { let r = e.steps.length, i = this.ranges; for (let s = 0; s < i.length; s++) { let { $from: a, $to: o } = i[s], A = e.mapping.slice(r), u = A.map(a.pos), f = A.map(o.pos); s ? e.deleteRange(u, f) : (e.replaceRangeWith(u, f, t), nk(e, r, t.isInline ? -1 : 1)) } } static findFrom(e, t, r = !1) { let i = e.parent.inlineContent ? new qn(e) : ag(e.node(0), e.parent, e.pos, e.index(), t, r); if (i) return i; for (let s = e.depth - 1; s >= 0; s--) { let a = t < 0 ? ag(e.node(0), e.node(s), e.before(s + 1), e.index(s), t, r) : ag(e.node(0), e.node(s), e.after(s + 1), e.index(s) + 1, t, r); if (a) return a } return null } static near(e, t = 1) { return this.findFrom(e, t) || this.findFrom(e, -t) || new KA(e.node(0)) } static atStart(e) { return ag(e, e, 0, 0, 1) || new KA(e) } static atEnd(e) { return ag(e, e, e.content.size, e.childCount, -1) || new KA(e) } static fromJSON(e, t) { if (!t || !t.type) throw new RangeError("Invalid input for Selection.fromJSON"); let r = _x[t.type]; if (!r) throw new RangeError(`No selection type ${t.type} defined`); return r.fromJSON(e, t) } static jsonID(e, t) { if (e in _x) throw new RangeError("Duplicate use of selection JSON ID " + e); return _x[e] = t, t.prototype.jsonID = e, t } getBookmark() { return qn.between(this.$anchor, this.$head).getBookmark() } } mr.prototype.visible = !0; class pX { constructor(e, t) { this.$from = e, this.$to = t } } let ek = !1; function tk(n) { !ek && !n.parent.inlineContent && (ek = !0, console.warn("TextSelection endpoint not pointing into a node with inline content (" + n.parent.type.name + ")")) } class qn extends mr { constructor(e, t = e) { tk(e), tk(t), super(e, t) } get $cursor() { return this.$anchor.pos == this.$head.pos ? this.$head : null } map(e, t) { let r = e.resolve(t.map(this.head)); if (!r.parent.inlineContent) return mr.near(r); let i = e.resolve(t.map(this.anchor)); return new qn(i.parent.inlineContent ? i : r, r) } replace(e, t = Jt.empty) { if (super.replace(e, t), t == Jt.empty) { let r = this.$from.marksAcross(this.$to); r && e.ensureMarks(r) } } eq(e) { return e instanceof qn && e.anchor == this.anchor && e.head == this.head } getBookmark() { return new Eb(this.anchor, this.head) } toJSON() { return { type: "text", anchor: this.anchor, head: this.head } } static fromJSON(e, t) { if (typeof t.anchor != "number" || typeof t.head != "number") throw new RangeError("Invalid input for TextSelection.fromJSON"); return new qn(e.resolve(t.anchor), e.resolve(t.head)) } static create(e, t, r = t) { let i = e.resolve(t); return new this(i, r == t ? i : e.resolve(r)) } static between(e, t, r) { let i = e.pos - t.pos; if ((!r || i) && (r = i >= 0 ? 1 : -1), !t.parent.inlineContent) { let s = mr.findFrom(t, r, !0) || mr.findFrom(t, -r, !0); if (s) t = s.$head; else return mr.near(t, r) } return e.parent.inlineContent || (i == 0 ? e = t : (e = (mr.findFrom(e, -r, !0) || mr.findFrom(e, r, !0)).$anchor, e.pos < t.pos != i < 0 && (e = t))), new qn(e, t) } } mr.jsonID("text", qn); class Eb { constructor(e, t) { this.anchor = e, this.head = t } map(e) { return new Eb(e.map(this.anchor), e.map(this.head)) } resolve(e) { return qn.between(e.resolve(this.anchor), e.resolve(this.head)) } } class Un extends mr { constructor(e) { let t = e.nodeAfter, r = e.node(0).resolve(e.pos + t.nodeSize); super(e, r), this.node = t } map(e, t) { let { deleted: r, pos: i } = t.mapResult(this.anchor), s = e.resolve(i); return r ? mr.near(s) : new Un(s) } content() { return new Jt(kt.from(this.node), 0, 0) } eq(e) { return e instanceof Un && e.anchor == this.anchor } toJSON() { return { type: "node", anchor: this.anchor } } getBookmark() { return new _E(this.anchor) } static fromJSON(e, t) { if (typeof t.anchor != "number") throw new RangeError("Invalid input for NodeSelection.fromJSON"); return new Un(e.resolve(t.anchor)) } static create(e, t) { return new Un(e.resolve(t)) } static isSelectable(e) { return !e.isText && e.type.spec.selectable !== !1 } } Un.prototype.visible = !1; mr.jsonID("node", Un); class _E { constructor(e) { this.anchor = e } map(e) { let { deleted: t, pos: r } = e.mapResult(this.anchor); return t ? new Eb(r, r) : new _E(r) } resolve(e) { let t = e.resolve(this.anchor), r = t.nodeAfter; return r && Un.isSelectable(r) ? new Un(t) : mr.near(t) } } class KA extends mr { constructor(e) { super(e.resolve(0), e.resolve(e.content.size)) } replace(e, t = Jt.empty) { if (t == Jt.empty) { e.delete(0, e.doc.content.size); let r = mr.atStart(e.doc); r.eq(e.selection) || e.setSelection(r) } else super.replace(e, t) } toJSON() { return { type: "all" } } static fromJSON(e) { return new KA(e) } map(e) { return new KA(e) } eq(e) { return e instanceof KA } getBookmark() { return gX } } mr.jsonID("all", KA); const gX = { map() { return this }, resolve(n) { return new KA(n) } }; function ag(n, e, t, r, i, s = !1) { if (e.inlineContent) return qn.create(n, t); for (let a = r - (i > 0 ? 0 : 1); i > 0 ? a < e.childCount : a >= 0; a += i) { let o = e.child(a); if (o.isAtom) { if (!s && Un.isSelectable(o)) return Un.create(n, t - (i < 0 ? o.nodeSize : 0)) } else { let A = ag(n, o, t + i, i < 0 ? o.childCount : 0, i, s); if (A) return A } t += o.nodeSize * i } return null } function nk(n, e, t) { let r = n.steps.length - 1; if (r < e) return; let i = n.steps[r]; if (!(i instanceof Bo || i instanceof Co)) return; let s = n.mapping.maps[r], a; s.forEach((o, A, u, f) => { a == null && (a = f) }), n.setSelection(mr.near(n.doc.resolve(a), t)) } const rk = 1, By = 2, ik = 4; class mX extends GI { constructor(e) { super(e.doc), this.curSelectionFor = 0, this.updated = 0, this.meta = Object.create(null), this.time = Date.now(), this.curSelection = e.selection, this.storedMarks = e.storedMarks } get selection() { return this.curSelectionFor < this.steps.length && (this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor)), this.curSelectionFor = this.steps.length), this.curSelection } setSelection(e) { if (e.$from.doc != this.doc) throw new RangeError("Selection passed to setSelection must point at the current document"); return this.curSelection = e, this.curSelectionFor = this.steps.length, this.updated = (this.updated | rk) & ~By, this.storedMarks = null, this } get selectionSet() { return (this.updated & rk) > 0 } setStoredMarks(e) { return this.storedMarks = e, this.updated |= By, this } ensureMarks(e) { return Ki.sameSet(this.storedMarks || this.selection.$from.marks(), e) || this.setStoredMarks(e), this } addStoredMark(e) { return this.ensureMarks(e.addToSet(this.storedMarks || this.selection.$head.marks())) } removeStoredMark(e) { return this.ensureMarks(e.removeFromSet(this.storedMarks || this.selection.$head.marks())) } get storedMarksSet() { return (this.updated & By) > 0 } addStep(e, t) { super.addStep(e, t), this.updated = this.updated & ~By, this.storedMarks = null } setTime(e) { return this.time = e, this } replaceSelection(e) { return this.selection.replace(this, e), this } replaceSelectionWith(e, t = !0) { let r = this.selection; return t && (e = e.mark(this.storedMarks || (r.empty ? r.$from.marks() : r.$from.marksAcross(r.$to) || Ki.none))), r.replaceWith(this, e), this } deleteSelection() { return this.selection.replace(this), this } insertText(e, t, r) { let i = this.doc.type.schema; if (t == null) return e ? this.replaceSelectionWith(i.text(e), !0) : this.deleteSelection(); { if (r == null && (r = t), !e) return this.deleteRange(t, r); let s = this.storedMarks; if (!s) { let a = this.doc.resolve(t); s = r == t ? a.marks() : a.marksAcross(this.doc.resolve(r)) } return this.replaceRangeWith(t, r, i.text(e, s)), !this.selection.empty && this.selection.to == t + e.length && this.setSelection(mr.near(this.selection.$to)), this } } setMeta(e, t) { return this.meta[typeof e == "string" ? e : e.key] = t, this } getMeta(e) { return this.meta[typeof e == "string" ? e : e.key] } get isGeneric() { for (let e in this.meta) return !1; return !0 } scrollIntoView() { return this.updated |= ik, this } get scrolledIntoView() { return (this.updated & ik) > 0 } } function sk(n, e) { return !e || !n ? n : n.bind(e) } class Ym { constructor(e, t, r) { this.name = e, this.init = sk(t.init, r), this.apply = sk(t.apply, r) } } const vX = [new Ym("doc", { init(n) { return n.doc || n.schema.topNodeType.createAndFill() }, apply(n) { return n.doc } }), new Ym("selection", { init(n, e) { return n.selection || mr.atStart(e.doc) }, apply(n) { return n.selection } }), new Ym("storedMarks", { init(n) { return n.storedMarks || null }, apply(n, e, t, r) { return r.selection.$cursor ? n.storedMarks : null } }), new Ym("scrollToSelection", { init() { return 0 }, apply(n, e) { return n.scrolledIntoView ? e + 1 : e } })]; class Nx { constructor(e, t) { this.schema = e, this.plugins = [], this.pluginsByKey = Object.create(null), this.fields = vX.slice(), t && t.forEach(r => { if (this.pluginsByKey[r.key]) throw new RangeError("Adding different instances of a keyed plugin (" + r.key + ")"); this.plugins.push(r), this.pluginsByKey[r.key] = r, r.spec.state && this.fields.push(new Ym(r.key, r.spec.state, r)) }) } } class hg { constructor(e) { this.config = e } get schema() { return this.config.schema } get plugins() { return this.config.plugins } apply(e) { return this.applyTransaction(e).state } filterTransaction(e, t = -1) { for (let r = 0; r < this.config.plugins.length; r++)if (r != t) { let i = this.config.plugins[r]; if (i.spec.filterTransaction && !i.spec.filterTransaction.call(i, e, this)) return !1 } return !0 } applyTransaction(e) { if (!this.filterTransaction(e)) return { state: this, transactions: [] }; let t = [e], r = this.applyInner(e), i = null; for (; ;) { let s = !1; for (let a = 0; a < this.config.plugins.length; a++) { let o = this.config.plugins[a]; if (o.spec.appendTransaction) { let A = i ? i[a].n : 0, u = i ? i[a].state : this, f = A < t.length && o.spec.appendTransaction.call(o, A ? t.slice(A) : t, u, r); if (f && r.filterTransaction(f, a)) { if (f.setMeta("appendedTransaction", e), !i) { i = []; for (let h = 0; h < this.config.plugins.length; h++)i.push(h < a ? { state: r, n: t.length } : { state: this, n: 0 }) } t.push(f), r = r.applyInner(f), s = !0 } i && (i[a] = { state: r, n: t.length }) } } if (!s) return { state: r, transactions: t } } } applyInner(e) { if (!e.before.eq(this.doc)) throw new RangeError("Applying a mismatched transaction"); let t = new hg(this.config), r = this.config.fields; for (let i = 0; i < r.length; i++) { let s = r[i]; t[s.name] = s.apply(e, this[s.name], this, t) } return t } get tr() { return new mX(this) } static create(e) { let t = new Nx(e.doc ? e.doc.type.schema : e.schema, e.plugins), r = new hg(t); for (let i = 0; i < t.fields.length; i++)r[t.fields[i].name] = t.fields[i].init(e, r); return r } reconfigure(e) { let t = new Nx(this.schema, e.plugins), r = t.fields, i = new hg(t); for (let s = 0; s < r.length; s++) { let a = r[s].name; i[a] = this.hasOwnProperty(a) ? this[a] : r[s].init(e, i) } return i } toJSON(e) { let t = { doc: this.doc.toJSON(), selection: this.selection.toJSON() }; if (this.storedMarks && (t.storedMarks = this.storedMarks.map(r => r.toJSON())), e && typeof e == "object") for (let r in e) { if (r == "doc" || r == "selection") throw new RangeError("The JSON fields `doc` and `selection` are reserved"); let i = e[r], s = i.spec.state; s && s.toJSON && (t[r] = s.toJSON.call(i, this[i.key])) } return t } static fromJSON(e, t, r) { if (!t) throw new RangeError("Invalid input for EditorState.fromJSON"); if (!e.schema) throw new RangeError("Required config field 'schema' missing"); let i = new Nx(e.schema, e.plugins), s = new hg(i); return i.fields.forEach(a => { if (a.name == "doc") s.doc = wd.fromJSON(e.schema, t.doc); else if (a.name == "selection") s.selection = mr.fromJSON(s.doc, t.selection); else if (a.name == "storedMarks") t.storedMarks && (s.storedMarks = t.storedMarks.map(e.schema.markFromJSON)); else { if (r) for (let o in r) { let A = r[o], u = A.spec.state; if (A.key == a.name && u && u.fromJSON && Object.prototype.hasOwnProperty.call(t, o)) { s[a.name] = u.fromJSON.call(A, e, t[o], s); return } } s[a.name] = a.init(e, s) } }), s } } function WI(n, e, t) { for (let r in n) { let i = n[r]; i instanceof Function ? i = i.bind(e) : r == "handleDOMEvents" && (i = WI(i, e, {})), t[r] = i } return t } class Rs { constructor(e) { this.spec = e, this.props = {}, e.props && WI(e.props, this, this.props), this.key = e.key ? e.key.key : YI("plugin") } getState(e) { return e[this.key] } } const kx = Object.create(null); function YI(n) { return n in kx ? n + "$" + ++kx[n] : (kx[n] = 0, n + "$") } class qa { constructor(e = "key") { this.key = YI(e) } get(e) { return e.config.pluginsByKey[this.key] } getState(e) { return e[this.key] } } const NE = (n, e) => n.selection.empty ? !1 : (e && e(n.tr.deleteSelection().scrollIntoView()), !0); function JI(n, e) { let { $cursor: t } = n.selection; return !t || (e ? !e.endOfTextblock("backward", n) : t.parentOffset > 0) ? null : t } const XI = (n, e, t) => { let r = JI(n, t); if (!r) return !1; let i = kE(r); if (!i) { let a = r.blockRange(), o = a && Xg(a); return o == null ? !1 : (e && e(n.tr.lift(a, o).scrollIntoView()), !0) } let s = i.nodeBefore; if (sL(n, i, e, -1)) return !0; if (r.parent.content.size == 0 && (Ug(s, "end") || Un.isSelectable(s))) for (let a = r.depth; ; a--) { let o = Cb(n.doc, r.before(a), r.after(a), Jt.empty); if (o && o.slice.size < o.to - o.from) { if (e) { let A = n.tr.step(o); A.setSelection(Ug(s, "end") ? mr.findFrom(A.doc.resolve(A.mapping.map(i.pos, -1)), -1) : Un.create(A.doc, i.pos - s.nodeSize)), e(A.scrollIntoView()) } return !0 } if (a == 1 || r.node(a - 1).childCount > 1) break } return s.isAtom && i.depth == r.depth - 1 ? (e && e(n.tr.delete(i.pos - s.nodeSize, i.pos).scrollIntoView()), !0) : !1 }, yX = (n, e, t) => { let r = JI(n, t); if (!r) return !1; let i = kE(r); return i ? ZI(n, i, e) : !1 }, wX = (n, e, t) => { let r = $I(n, t); if (!r) return !1; let i = TE(r); return i ? ZI(n, i, e) : !1 }; function ZI(n, e, t) { let r = e.nodeBefore, i = r, s = e.pos - 1; for (; !i.isTextblock; s--) { if (i.type.spec.isolating) return !1; let f = i.lastChild; if (!f) return !1; i = f } let a = e.nodeAfter, o = a, A = e.pos + 1; for (; !o.isTextblock; A++) { if (o.type.spec.isolating) return !1; let f = o.firstChild; if (!f) return !1; o = f } let u = Cb(n.doc, s, A, Jt.empty); if (!u || u.from != s || u instanceof Bo && u.slice.size >= A - s) return !1; if (t) { let f = n.tr.step(u); f.setSelection(qn.create(f.doc, s)), t(f.scrollIntoView()) } return !0 } function Ug(n, e, t = !1) { for (let r = n; r; r = e == "start" ? r.firstChild : r.lastChild) { if (r.isTextblock) return !0; if (t && r.childCount != 1) return !1 } return !1 } const qI = (n, e, t) => { let { $head: r, empty: i } = n.selection, s = r; if (!i) return !1; if (r.parent.isTextblock) { if (t ? !t.endOfTextblock("backward", n) : r.parentOffset > 0) return !1; s = kE(r) } let a = s && s.nodeBefore; return !a || !Un.isSelectable(a) ? !1 : (e && e(n.tr.setSelection(Un.create(n.doc, s.pos - a.nodeSize)).scrollIntoView()), !0) }; function kE(n) { if (!n.parent.type.spec.isolating) for (let e = n.depth - 1; e >= 0; e--) { if (n.index(e) > 0) return n.doc.resolve(n.before(e + 1)); if (n.node(e).type.spec.isolating) break } return null } function $I(n, e) { let { $cursor: t } = n.selection; return !t || (e ? !e.endOfTextblock("forward", n) : t.parentOffset < t.parent.content.size) ? null : t } const eL = (n, e, t) => { let r = $I(n, t); if (!r) return !1; let i = TE(r); if (!i) return !1; let s = i.nodeAfter; if (sL(n, i, e, 1)) return !0; if (r.parent.content.size == 0 && (Ug(s, "start") || Un.isSelectable(s))) { let a = Cb(n.doc, r.before(), r.after(), Jt.empty); if (a && a.slice.size < a.to - a.from) { if (e) { let o = n.tr.step(a); o.setSelection(Ug(s, "start") ? mr.findFrom(o.doc.resolve(o.mapping.map(i.pos)), 1) : Un.create(o.doc, o.mapping.map(i.pos))), e(o.scrollIntoView()) } return !0 } } return s.isAtom && i.depth == r.depth - 1 ? (e && e(n.tr.delete(i.pos, i.pos + s.nodeSize).scrollIntoView()), !0) : !1 }, tL = (n, e, t) => { let { $head: r, empty: i } = n.selection, s = r; if (!i) return !1; if (r.parent.isTextblock) { if (t ? !t.endOfTextblock("forward", n) : r.parentOffset < r.parent.content.size) return !1; s = TE(r) } let a = s && s.nodeAfter; return !a || !Un.isSelectable(a) ? !1 : (e && e(n.tr.setSelection(Un.create(n.doc, s.pos)).scrollIntoView()), !0) }; function TE(n) { if (!n.parent.type.spec.isolating) for (let e = n.depth - 1; e >= 0; e--) { let t = n.node(e); if (n.index(e) + 1 < t.childCount) return n.doc.resolve(n.after(e + 1)); if (t.type.spec.isolating) break } return null } const bX = (n, e) => { let t = n.selection, r = t instanceof Un, i; if (r) { if (t.node.isTextblock || !Gd(n.doc, t.from)) return !1; i = t.from } else if (i = Bb(n.doc, t.from, -1), i == null) return !1; if (e) { let s = n.tr.join(i); r && s.setSelection(Un.create(s.doc, i - n.doc.resolve(i).nodeBefore.nodeSize)), e(s.scrollIntoView()) } return !0 }, xX = (n, e) => { let t = n.selection, r; if (t instanceof Un) { if (t.node.isTextblock || !Gd(n.doc, t.to)) return !1; r = t.to } else if (r = Bb(n.doc, t.to, 1), r == null) return !1; return e && e(n.tr.join(r).scrollIntoView()), !0 }, BX = (n, e) => { let { $from: t, $to: r } = n.selection, i = t.blockRange(r), s = i && Xg(i); return s == null ? !1 : (e && e(n.tr.lift(i, s).scrollIntoView()), !0) }, nL = (n, e) => {
  let { $head: t, $anchor: r } = n.selection; return !t.parent.type.spec.code || !t.sameParent(r) ? !1 : (e && e(n.tr.insertText(`
`).scrollIntoView()), !0)
}; function FE(n) { for (let e = 0; e < n.edgeCount; e++) { let { type: t } = n.edge(e); if (t.isTextblock && !t.hasRequiredAttrs()) return t } return null } const CX = (n, e) => { let { $head: t, $anchor: r } = n.selection; if (!t.parent.type.spec.code || !t.sameParent(r)) return !1; let i = t.node(-1), s = t.indexAfter(-1), a = FE(i.contentMatchAt(s)); if (!a || !i.canReplaceWith(s, s, a)) return !1; if (e) { let o = t.after(), A = n.tr.replaceWith(o, o, a.createAndFill()); A.setSelection(mr.near(A.doc.resolve(o), 1)), e(A.scrollIntoView()) } return !0 }, rL = (n, e) => { let t = n.selection, { $from: r, $to: i } = t; if (t instanceof KA || r.parent.inlineContent || i.parent.inlineContent) return !1; let s = FE(i.parent.contentMatchAt(i.indexAfter())); if (!s || !s.isTextblock) return !1; if (e) { let a = (!r.parentOffset && i.index() < i.parent.childCount ? r : i).pos, o = n.tr.insert(a, s.createAndFill()); o.setSelection(qn.create(o.doc, a + 1)), e(o.scrollIntoView()) } return !0 }, iL = (n, e) => { let { $cursor: t } = n.selection; if (!t || t.parent.content.size) return !1; if (t.depth > 1 && t.after() != t.end(-1)) { let s = t.before(); if (hf(n.doc, s)) return e && e(n.tr.split(s).scrollIntoView()), !0 } let r = t.blockRange(), i = r && Xg(r); return i == null ? !1 : (e && e(n.tr.lift(r, i).scrollIntoView()), !0) }; function EX(n) { return (e, t) => { let { $from: r, $to: i } = e.selection; if (e.selection instanceof Un && e.selection.node.isBlock) return !r.parentOffset || !hf(e.doc, r.pos) ? !1 : (t && t(e.tr.split(r.pos).scrollIntoView()), !0); if (!r.depth) return !1; let s = [], a, o, A = !1, u = !1; for (let p = r.depth; ; p--)if (r.node(p).isBlock) { A = r.end(p) == r.pos + (r.depth - p), u = r.start(p) == r.pos - (r.depth - p), o = FE(r.node(p - 1).contentMatchAt(r.indexAfter(p - 1))), s.unshift(A && o ? { type: o } : null), a = p; break } else { if (p == 1) return !1; s.unshift(null) } let f = e.tr; (e.selection instanceof qn || e.selection instanceof KA) && f.deleteSelection(); let h = f.mapping.map(r.pos), m = hf(f.doc, h, s.length, s); if (m || (s[0] = o ? { type: o } : null, m = hf(f.doc, h, s.length, s)), !m) return !1; if (f.split(h, s.length, s), !A && u && r.node(a).type != o) { let p = f.mapping.map(r.before(a)), b = f.doc.resolve(p); o && r.node(a - 1).canReplaceWith(b.index(), b.index() + 1, o) && f.setNodeMarkup(f.mapping.map(r.before(a)), o) } return t && t(f.scrollIntoView()), !0 } } const SX = EX(), _X = (n, e) => { let { $from: t, to: r } = n.selection, i, s = t.sharedDepth(r); return s == 0 ? !1 : (i = t.before(s), e && e(n.tr.setSelection(Un.create(n.doc, i))), !0) }; function NX(n, e, t) { let r = e.nodeBefore, i = e.nodeAfter, s = e.index(); return !r || !i || !r.type.compatibleContent(i.type) ? !1 : !r.content.size && e.parent.canReplace(s - 1, s) ? (t && t(n.tr.delete(e.pos - r.nodeSize, e.pos).scrollIntoView()), !0) : !e.parent.canReplace(s, s + 1) || !(i.isTextblock || Gd(n.doc, e.pos)) ? !1 : (t && t(n.tr.join(e.pos).scrollIntoView()), !0) } function sL(n, e, t, r) { let i = e.nodeBefore, s = e.nodeAfter, a, o, A = i.type.spec.isolating || s.type.spec.isolating; if (!A && NX(n, e, t)) return !0; let u = !A && e.parent.canReplace(e.index(), e.index() + 1); if (u && (a = (o = i.contentMatchAt(i.childCount)).findWrapping(s.type)) && o.matchType(a[0] || s.type).validEnd) { if (t) { let p = e.pos + s.nodeSize, b = kt.empty; for (let _ = a.length - 1; _ >= 0; _--)b = kt.from(a[_].create(null, b)); b = kt.from(i.copy(b)); let y = n.tr.step(new Co(e.pos - 1, p, e.pos, p, new Jt(b, 1, 0), a.length, !0)), E = y.doc.resolve(p + 2 * a.length); E.nodeAfter && E.nodeAfter.type == i.type && Gd(y.doc, E.pos) && y.join(E.pos), t(y.scrollIntoView()) } return !0 } let f = s.type.spec.isolating || r > 0 && A ? null : mr.findFrom(e, 1), h = f && f.$from.blockRange(f.$to), m = h && Xg(h); if (m != null && m >= e.depth) return t && t(n.tr.lift(h, m).scrollIntoView()), !0; if (u && Ug(s, "start", !0) && Ug(i, "end")) { let p = i, b = []; for (; b.push(p), !p.isTextblock;)p = p.lastChild; let y = s, E = 1; for (; !y.isTextblock; y = y.firstChild)E++; if (p.canReplace(p.childCount, p.childCount, y.content)) { if (t) { let _ = kt.empty; for (let I = b.length - 1; I >= 0; I--)_ = kt.from(b[I].copy(_)); let O = n.tr.step(new Co(e.pos - b.length, e.pos + s.nodeSize, e.pos + E, e.pos + s.nodeSize - E, new Jt(_, b.length, 0), 0, !0)); t(O.scrollIntoView()) } return !0 } } return !1 } function aL(n) { return function (e, t) { let r = e.selection, i = n < 0 ? r.$from : r.$to, s = i.depth; for (; i.node(s).isInline;) { if (!s) return !1; s-- } return i.node(s).isTextblock ? (t && t(e.tr.setSelection(qn.create(e.doc, n < 0 ? i.start(s) : i.end(s)))), !0) : !1 } } const kX = aL(-1), TX = aL(1); function FX(n, e = null) { return function (t, r) { let { $from: i, $to: s } = t.selection, a = i.blockRange(s), o = a && SE(a, n, e); return o ? (r && r(t.tr.wrap(a, o).scrollIntoView()), !0) : !1 } } function ak(n, e = null) { return function (t, r) { let i = !1; for (let s = 0; s < t.selection.ranges.length && !i; s++) { let { $from: { pos: a }, $to: { pos: o } } = t.selection.ranges[s]; t.doc.nodesBetween(a, o, (A, u) => { if (i) return !1; if (!(!A.isTextblock || A.hasMarkup(n, e))) if (A.type == n) i = !0; else { let f = t.doc.resolve(u), h = f.index(); i = f.parent.canReplaceWith(h, h + 1, n) } }) } if (!i) return !1; if (r) { let s = t.tr; for (let a = 0; a < t.selection.ranges.length; a++) { let { $from: { pos: o }, $to: { pos: A } } = t.selection.ranges[a]; s.setBlockType(o, A, n, e) } r(s.scrollIntoView()) } return !0 } } function UE(...n) { return function (e, t, r) { for (let i = 0; i < n.length; i++)if (n[i](e, t, r)) return !0; return !1 } } UE(NE, XI, qI); UE(NE, eL, tL); UE(nL, rL, iL, SX); typeof navigator < "u" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : typeof os < "u" && os.platform && os.platform() == "darwin"; function UX(n, e = null) { return function (t, r) { let { $from: i, $to: s } = t.selection, a = i.blockRange(s); if (!a) return !1; let o = r ? t.tr : null; return OX(o, a, n, e) ? (r && r(o.scrollIntoView()), !0) : !1 } } function OX(n, e, t, r = null) { let i = !1, s = e, a = e.$from.doc; if (e.depth >= 2 && e.$from.node(e.depth - 1).type.compatibleContent(t) && e.startIndex == 0) { if (e.$from.index(e.depth - 1) == 0) return !1; let A = a.resolve(e.start - 2); s = new Z1(A, A, e.depth), e.endIndex < e.parent.childCount && (e = new Z1(e.$from, a.resolve(e.$to.end(e.depth)), e.depth)), i = !0 } let o = SE(s, t, r, e); return o ? (n && RX(n, e, o, i, t), !0) : !1 } function RX(n, e, t, r, i) { let s = kt.empty; for (let f = t.length - 1; f >= 0; f--)s = kt.from(t[f].type.create(t[f].attrs, s)); n.step(new Co(e.start - (r ? 2 : 0), e.end, e.start, e.end, new Jt(s, 0, 0), t.length, !0)); let a = 0; for (let f = 0; f < t.length; f++)t[f].type == i && (a = f + 1); let o = t.length - a, A = e.start + t.length - (r ? 2 : 0), u = e.parent; for (let f = e.startIndex, h = e.endIndex, m = !0; f < h; f++, m = !1)!m && hf(n.doc, A, o) && (n.split(A, o), A += 2 * o), A += u.child(f).nodeSize; return n } function IX(n) { return function (e, t) { let { $from: r, $to: i } = e.selection, s = r.blockRange(i, a => a.childCount > 0 && a.firstChild.type == n); return s ? t ? r.node(s.depth - 1).type == n ? LX(e, t, n, s) : MX(e, t, s) : !0 : !1 } } function LX(n, e, t, r) { let i = n.tr, s = r.end, a = r.$to.end(r.depth); s < a && (i.step(new Co(s - 1, a, s, a, new Jt(kt.from(t.create(null, r.parent.copy())), 1, 0), 1, !0)), r = new Z1(i.doc.resolve(r.$from.pos), i.doc.resolve(a), r.depth)); const o = Xg(r); if (o == null) return !1; i.lift(r, o); let A = i.doc.resolve(i.mapping.map(s, -1) - 1); return Gd(i.doc, A.pos) && A.nodeBefore.type == A.nodeAfter.type && i.join(A.pos), e(i.scrollIntoView()), !0 } function MX(n, e, t) { let r = n.tr, i = t.parent; for (let p = t.end, b = t.endIndex - 1, y = t.startIndex; b > y; b--)p -= i.child(b).nodeSize, r.delete(p - 1, p + 1); let s = r.doc.resolve(t.start), a = s.nodeAfter; if (r.mapping.map(t.end) != t.start + s.nodeAfter.nodeSize) return !1; let o = t.startIndex == 0, A = t.endIndex == i.childCount, u = s.node(-1), f = s.index(-1); if (!u.canReplace(f + (o ? 0 : 1), f + 1, a.content.append(A ? kt.empty : kt.from(i)))) return !1; let h = s.pos, m = h + a.nodeSize; return r.step(new Co(h - (o ? 1 : 0), m + (A ? 1 : 0), h + 1, m - 1, new Jt((o ? kt.empty : kt.from(i.copy(kt.empty))).append(A ? kt.empty : kt.from(i.copy(kt.empty))), o ? 0 : 1, A ? 0 : 1), o ? 0 : 1)), e(r.scrollIntoView()), !0 } function QX(n) { return function (e, t) { let { $from: r, $to: i } = e.selection, s = r.blockRange(i, u => u.childCount > 0 && u.firstChild.type == n); if (!s) return !1; let a = s.startIndex; if (a == 0) return !1; let o = s.parent, A = o.child(a - 1); if (A.type != n) return !1; if (t) { let u = A.lastChild && A.lastChild.type == o.type, f = kt.from(u ? n.create() : null), h = new Jt(kt.from(n.create(null, kt.from(o.type.create(null, f)))), u ? 3 : 1, 0), m = s.start, p = s.end; t(e.tr.step(new Co(m - (u ? 3 : 1), p, m, p, h, 1, !0)).scrollIntoView()) } return !0 } } const $o = function (n) { for (var e = 0; ; e++)if (n = n.previousSibling, !n) return e }, Og = function (n) { let e = n.assignedSlot || n.parentNode; return e && e.nodeType == 11 ? e.host : e }; let BC = null; const cf = function (n, e, t) { let r = BC || (BC = document.createRange()); return r.setEnd(n, t ?? n.nodeValue.length), r.setStart(n, e || 0), r }, DX = function () { BC = null }, rp = function (n, e, t, r) { return t && (ok(n, e, t, r, -1) || ok(n, e, t, r, 1)) }, PX = /^(img|br|input|textarea|hr)$/i; function ok(n, e, t, r, i) { for (var s; ;) { if (n == t && e == r) return !0; if (e == (i < 0 ? 0 : Ac(n))) { let a = n.parentNode; if (!a || a.nodeType != 1 || ov(n) || PX.test(n.nodeName) || n.contentEditable == "false") return !1; e = $o(n) + (i < 0 ? 0 : 1), n = a } else if (n.nodeType == 1) { let a = n.childNodes[e + (i < 0 ? -1 : 0)]; if (a.nodeType == 1 && a.contentEditable == "false") if (!((s = a.pmViewDesc) === null || s === void 0) && s.ignoreForSelection) e += i; else return !1; else n = a, e = i < 0 ? Ac(n) : 0 } else return !1 } } function Ac(n) { return n.nodeType == 3 ? n.nodeValue.length : n.childNodes.length } function HX(n, e) { for (; ;) { if (n.nodeType == 3 && e) return n; if (n.nodeType == 1 && e > 0) { if (n.contentEditable == "false") return null; n = n.childNodes[e - 1], e = Ac(n) } else if (n.parentNode && !ov(n)) e = $o(n), n = n.parentNode; else return null } } function jX(n, e) { for (; ;) { if (n.nodeType == 3 && e < n.nodeValue.length) return n; if (n.nodeType == 1 && e < n.childNodes.length) { if (n.contentEditable == "false") return null; n = n.childNodes[e], e = 0 } else if (n.parentNode && !ov(n)) e = $o(n) + 1, n = n.parentNode; else return null } } function zX(n, e, t) { for (let r = e == 0, i = e == Ac(n); r || i;) { if (n == t) return !0; let s = $o(n); if (n = n.parentNode, !n) return !1; r = r && s == 0, i = i && s == Ac(n) } } function ov(n) { let e; for (let t = n; t && !(e = t.pmViewDesc); t = t.parentNode); return e && e.node && e.node.isBlock && (e.dom == n || e.contentDOM == n) } const Sb = function (n) { return n.focusNode && rp(n.focusNode, n.focusOffset, n.anchorNode, n.anchorOffset) }; function Fh(n, e) { let t = document.createEvent("Event"); return t.initEvent("keydown", !0, !0), t.keyCode = n, t.key = t.code = e, t } function KX(n) { let e = n.activeElement; for (; e && e.shadowRoot;)e = e.shadowRoot.activeElement; return e } function VX(n, e, t) { if (n.caretPositionFromPoint) try { let r = n.caretPositionFromPoint(e, t); if (r) return { node: r.offsetNode, offset: Math.min(Ac(r.offsetNode), r.offset) } } catch { } if (n.caretRangeFromPoint) { let r = n.caretRangeFromPoint(e, t); if (r) return { node: r.startContainer, offset: Math.min(Ac(r.startContainer), r.startOffset) } } } const ku = typeof navigator < "u" ? navigator : null, lk = typeof document < "u" ? document : null, Wd = ku && ku.userAgent || "", CC = /Edge\/(\d+)/.exec(Wd), oL = /MSIE \d/.exec(Wd), EC = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wd), gA = !!(oL || EC || CC), xd = oL ? document.documentMode : EC ? +EC[1] : CC ? +CC[1] : 0, gc = !gA && /gecko\/(\d+)/i.test(Wd); gc && +(/Firefox\/(\d+)/.exec(Wd) || [0, 0])[1]; const SC = !gA && /Chrome\/(\d+)/.exec(Wd), Cl = !!SC, lL = SC ? +SC[1] : 0, jl = !gA && !!ku && /Apple Computer/.test(ku.vendor), Rg = jl && (/Mobile\/\w+/.test(Wd) || !!ku && ku.maxTouchPoints > 2), ac = Rg || (ku ? /Mac/.test(ku.platform) : !1), GX = ku ? /Win/.test(ku.platform) : !1, ff = /Android \d/.test(Wd), lv = !!lk && "webkitFontSmoothing" in lk.documentElement.style, WX = lv ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0; function YX(n) { let e = n.defaultView && n.defaultView.visualViewport; return e ? { left: 0, right: e.width, top: 0, bottom: e.height } : { left: 0, right: n.documentElement.clientWidth, top: 0, bottom: n.documentElement.clientHeight } } function qu(n, e) { return typeof n == "number" ? n : n[e] } function JX(n) { let e = n.getBoundingClientRect(), t = e.width / n.offsetWidth || 1, r = e.height / n.offsetHeight || 1; return { left: e.left, right: e.left + n.clientWidth * t, top: e.top, bottom: e.top + n.clientHeight * r } } function Ak(n, e, t) { let r = n.someProp("scrollThreshold") || 0, i = n.someProp("scrollMargin") || 5, s = n.dom.ownerDocument; for (let a = t || n.dom; a;) { if (a.nodeType != 1) { a = Og(a); continue } let o = a, A = o == s.body, u = A ? YX(s) : JX(o), f = 0, h = 0; if (e.top < u.top + qu(r, "top") ? h = -(u.top - e.top + qu(i, "top")) : e.bottom > u.bottom - qu(r, "bottom") && (h = e.bottom - e.top > u.bottom - u.top ? e.top + qu(i, "top") - u.top : e.bottom - u.bottom + qu(i, "bottom")), e.left < u.left + qu(r, "left") ? f = -(u.left - e.left + qu(i, "left")) : e.right > u.right - qu(r, "right") && (f = e.right - u.right + qu(i, "right")), f || h) if (A) s.defaultView.scrollBy(f, h); else { let p = o.scrollLeft, b = o.scrollTop; h && (o.scrollTop += h), f && (o.scrollLeft += f); let y = o.scrollLeft - p, E = o.scrollTop - b; e = { left: e.left - y, top: e.top - E, right: e.right - y, bottom: e.bottom - E } } let m = A ? "fixed" : getComputedStyle(a).position; if (/^(fixed|sticky)$/.test(m)) break; a = m == "absolute" ? a.offsetParent : Og(a) } } function XX(n) { let e = n.dom.getBoundingClientRect(), t = Math.max(0, e.top), r, i; for (let s = (e.left + e.right) / 2, a = t + 1; a < Math.min(innerHeight, e.bottom); a += 5) { let o = n.root.elementFromPoint(s, a); if (!o || o == n.dom || !n.dom.contains(o)) continue; let A = o.getBoundingClientRect(); if (A.top >= t - 20) { r = o, i = A.top; break } } return { refDOM: r, refTop: i, stack: AL(n.dom) } } function AL(n) { let e = [], t = n.ownerDocument; for (let r = n; r && (e.push({ dom: r, top: r.scrollTop, left: r.scrollLeft }), n != t); r = Og(r)); return e } function ZX({ refDOM: n, refTop: e, stack: t }) { let r = n ? n.getBoundingClientRect().top : 0; cL(t, r == 0 ? 0 : r - e) } function cL(n, e) { for (let t = 0; t < n.length; t++) { let { dom: r, top: i, left: s } = n[t]; r.scrollTop != i + e && (r.scrollTop = i + e), r.scrollLeft != s && (r.scrollLeft = s) } } let Vp = null; function qX(n) { if (n.setActive) return n.setActive(); if (Vp) return n.focus(Vp); let e = AL(n); n.focus(Vp == null ? { get preventScroll() { return Vp = { preventScroll: !0 }, !0 } } : void 0), Vp || (Vp = !1, cL(e, 0)) } function uL(n, e) { let t, r = 2e8, i, s = 0, a = e.top, o = e.top, A, u; for (let f = n.firstChild, h = 0; f; f = f.nextSibling, h++) { let m; if (f.nodeType == 1) m = f.getClientRects(); else if (f.nodeType == 3) m = cf(f).getClientRects(); else continue; for (let p = 0; p < m.length; p++) { let b = m[p]; if (b.top <= a && b.bottom >= o) { a = Math.max(b.bottom, a), o = Math.min(b.top, o); let y = b.left > e.left ? b.left - e.left : b.right < e.left ? e.left - b.right : 0; if (y < r) { t = f, r = y, i = y && t.nodeType == 3 ? { left: b.right < e.left ? b.right : b.left, top: e.top } : e, f.nodeType == 1 && y && (s = h + (e.left >= (b.left + b.right) / 2 ? 1 : 0)); continue } } else b.top > e.top && !A && b.left <= e.left && b.right >= e.left && (A = f, u = { left: Math.max(b.left, Math.min(b.right, e.left)), top: b.top }); !t && (e.left >= b.right && e.top >= b.top || e.left >= b.left && e.top >= b.bottom) && (s = h + 1) } } return !t && A && (t = A, i = u, r = 0), t && t.nodeType == 3 ? $X(t, i) : !t || r && t.nodeType == 1 ? { node: n, offset: s } : uL(t, i) } function $X(n, e) { let t = n.nodeValue.length, r = document.createRange(); for (let i = 0; i < t; i++) { r.setEnd(n, i + 1), r.setStart(n, i); let s = nd(r, 1); if (s.top != s.bottom && OE(e, s)) return { node: n, offset: i + (e.left >= (s.left + s.right) / 2 ? 1 : 0) } } return { node: n, offset: 0 } } function OE(n, e) { return n.left >= e.left - 1 && n.left <= e.right + 1 && n.top >= e.top - 1 && n.top <= e.bottom + 1 } function eZ(n, e) { let t = n.parentNode; return t && /^li$/i.test(t.nodeName) && e.left < n.getBoundingClientRect().left ? t : n } function tZ(n, e, t) { let { node: r, offset: i } = uL(e, t), s = -1; if (r.nodeType == 1 && !r.firstChild) { let a = r.getBoundingClientRect(); s = a.left != a.right && t.left > (a.left + a.right) / 2 ? 1 : -1 } return n.docView.posFromDOM(r, i, s) } function nZ(n, e, t, r) { let i = -1; for (let s = e, a = !1; s != n.dom;) { let o = n.docView.nearestDesc(s, !0), A; if (!o) return null; if (o.dom.nodeType == 1 && (o.node.isBlock && o.parent || !o.contentDOM) && ((A = o.dom.getBoundingClientRect()).width || A.height) && (o.node.isBlock && o.parent && !/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName) && (!a && A.left > r.left || A.top > r.top ? i = o.posBefore : (!a && A.right < r.left || A.bottom < r.top) && (i = o.posAfter), a = !0), !o.contentDOM && i < 0 && !o.node.isText)) return (o.node.isBlock ? r.top < (A.top + A.bottom) / 2 : r.left < (A.left + A.right) / 2) ? o.posBefore : o.posAfter; s = o.dom.parentNode } return i > -1 ? i : n.docView.posFromDOM(e, t, -1) } function fL(n, e, t) { let r = n.childNodes.length; if (r && t.top < t.bottom) for (let i = Math.max(0, Math.min(r - 1, Math.floor(r * (e.top - t.top) / (t.bottom - t.top)) - 2)), s = i; ;) { let a = n.childNodes[s]; if (a.nodeType == 1) { let o = a.getClientRects(); for (let A = 0; A < o.length; A++) { let u = o[A]; if (OE(e, u)) return fL(a, e, u) } } if ((s = (s + 1) % r) == i) break } return n } function rZ(n, e) { let t = n.dom.ownerDocument, r, i = 0, s = VX(t, e.left, e.top); s && ({ node: r, offset: i } = s); let a = (n.root.elementFromPoint ? n.root : t).elementFromPoint(e.left, e.top), o; if (!a || !n.dom.contains(a.nodeType != 1 ? a.parentNode : a)) { let u = n.dom.getBoundingClientRect(); if (!OE(e, u) || (a = fL(n.dom, e, u), !a)) return null } if (jl) for (let u = a; r && u; u = Og(u))u.draggable && (r = void 0); if (a = eZ(a, e), r) { if (gc && r.nodeType == 1 && (i = Math.min(i, r.childNodes.length), i < r.childNodes.length)) { let f = r.childNodes[i], h; f.nodeName == "IMG" && (h = f.getBoundingClientRect()).right <= e.left && h.bottom > e.top && i++ } let u; lv && i && r.nodeType == 1 && (u = r.childNodes[i - 1]).nodeType == 1 && u.contentEditable == "false" && u.getBoundingClientRect().top >= e.top && i--, r == n.dom && i == r.childNodes.length - 1 && r.lastChild.nodeType == 1 && e.top > r.lastChild.getBoundingClientRect().bottom ? o = n.state.doc.content.size : (i == 0 || r.nodeType != 1 || r.childNodes[i - 1].nodeName != "BR") && (o = nZ(n, r, i, e)) } o == null && (o = tZ(n, a, e)); let A = n.docView.nearestDesc(a, !0); return { pos: o, inside: A ? A.posAtStart - A.border : -1 } } function ck(n) { return n.top < n.bottom || n.left < n.right } function nd(n, e) { let t = n.getClientRects(); if (t.length) { let r = t[e < 0 ? 0 : t.length - 1]; if (ck(r)) return r } return Array.prototype.find.call(t, ck) || n.getBoundingClientRect() } const iZ = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/; function dL(n, e, t) { let { node: r, offset: i, atom: s } = n.docView.domFromPos(e, t < 0 ? -1 : 1), a = lv || gc; if (r.nodeType == 3) if (a && (iZ.test(r.nodeValue) || (t < 0 ? !i : i == r.nodeValue.length))) { let A = nd(cf(r, i, i), t); if (gc && i && /\s/.test(r.nodeValue[i - 1]) && i < r.nodeValue.length) { let u = nd(cf(r, i - 1, i - 1), -1); if (u.top == A.top) { let f = nd(cf(r, i, i + 1), -1); if (f.top != A.top) return Im(f, f.left < u.left) } } return A } else { let A = i, u = i, f = t < 0 ? 1 : -1; return t < 0 && !i ? (u++, f = -1) : t >= 0 && i == r.nodeValue.length ? (A--, f = 1) : t < 0 ? A-- : u++, Im(nd(cf(r, A, u), f), f < 0) } if (!n.state.doc.resolve(e - (s || 0)).parent.inlineContent) { if (s == null && i && (t < 0 || i == Ac(r))) { let A = r.childNodes[i - 1]; if (A.nodeType == 1) return Tx(A.getBoundingClientRect(), !1) } if (s == null && i < Ac(r)) { let A = r.childNodes[i]; if (A.nodeType == 1) return Tx(A.getBoundingClientRect(), !0) } return Tx(r.getBoundingClientRect(), t >= 0) } if (s == null && i && (t < 0 || i == Ac(r))) { let A = r.childNodes[i - 1], u = A.nodeType == 3 ? cf(A, Ac(A) - (a ? 0 : 1)) : A.nodeType == 1 && (A.nodeName != "BR" || !A.nextSibling) ? A : null; if (u) return Im(nd(u, 1), !1) } if (s == null && i < Ac(r)) { let A = r.childNodes[i]; for (; A.pmViewDesc && A.pmViewDesc.ignoreForCoords;)A = A.nextSibling; let u = A ? A.nodeType == 3 ? cf(A, 0, a ? 0 : 1) : A.nodeType == 1 ? A : null : null; if (u) return Im(nd(u, -1), !0) } return Im(nd(r.nodeType == 3 ? cf(r) : r, -t), t >= 0) } function Im(n, e) { if (n.width == 0) return n; let t = e ? n.left : n.right; return { top: n.top, bottom: n.bottom, left: t, right: t } } function Tx(n, e) { if (n.height == 0) return n; let t = e ? n.top : n.bottom; return { top: t, bottom: t, left: n.left, right: n.right } } function hL(n, e, t) { let r = n.state, i = n.root.activeElement; r != e && n.updateState(e), i != n.dom && n.focus(); try { return t() } finally { r != e && n.updateState(r), i != n.dom && i && i.focus() } } function sZ(n, e, t) { let r = e.selection, i = t == "up" ? r.$from : r.$to; return hL(n, e, () => { let { node: s } = n.docView.domFromPos(i.pos, t == "up" ? -1 : 1); for (; ;) { let o = n.docView.nearestDesc(s, !0); if (!o) break; if (o.node.isBlock) { s = o.contentDOM || o.dom; break } s = o.dom.parentNode } let a = dL(n, i.pos, 1); for (let o = s.firstChild; o; o = o.nextSibling) { let A; if (o.nodeType == 1) A = o.getClientRects(); else if (o.nodeType == 3) A = cf(o, 0, o.nodeValue.length).getClientRects(); else continue; for (let u = 0; u < A.length; u++) { let f = A[u]; if (f.bottom > f.top + 1 && (t == "up" ? a.top - f.top > (f.bottom - a.top) * 2 : f.bottom - a.bottom > (a.bottom - f.top) * 2)) return !1 } } return !0 }) } const aZ = /[\u0590-\u08ac]/; function oZ(n, e, t) { let { $head: r } = e.selection; if (!r.parent.isTextblock) return !1; let i = r.parentOffset, s = !i, a = i == r.parent.content.size, o = n.domSelection(); return o ? !aZ.test(r.parent.textContent) || !o.modify ? t == "left" || t == "backward" ? s : a : hL(n, e, () => { let { focusNode: A, focusOffset: u, anchorNode: f, anchorOffset: h } = n.domSelectionRange(), m = o.caretBidiLevel; o.modify("move", t, "character"); let p = r.depth ? n.docView.domAfterPos(r.before()) : n.dom, { focusNode: b, focusOffset: y } = n.domSelectionRange(), E = b && !p.contains(b.nodeType == 1 ? b : b.parentNode) || A == b && u == y; try { o.collapse(f, h), A && (A != f || u != h) && o.extend && o.extend(A, u) } catch { } return m != null && (o.caretBidiLevel = m), E }) : r.pos == r.start() || r.pos == r.end() } let uk = null, fk = null, dk = !1; function lZ(n, e, t) { return uk == e && fk == t ? dk : (uk = e, fk = t, dk = t == "up" || t == "down" ? sZ(n, e, t) : oZ(n, e, t)) } const mc = 0, hk = 1, Ih = 2, Tu = 3; class Av {
  constructor(e, t, r, i) { this.parent = e, this.children = t, this.dom = r, this.contentDOM = i, this.dirty = mc, r.pmViewDesc = this } matchesWidget(e) { return !1 } matchesMark(e) { return !1 } matchesNode(e, t, r) { return !1 } matchesHack(e) { return !1 } parseRule() { return null } stopEvent(e) { return !1 } get size() { let e = 0; for (let t = 0; t < this.children.length; t++)e += this.children[t].size; return e } get border() { return 0 } destroy() { this.parent = void 0, this.dom.pmViewDesc == this && (this.dom.pmViewDesc = void 0); for (let e = 0; e < this.children.length; e++)this.children[e].destroy() } posBeforeChild(e) { for (let t = 0, r = this.posAtStart; ; t++) { let i = this.children[t]; if (i == e) return r; r += i.size } } get posBefore() { return this.parent.posBeforeChild(this) } get posAtStart() { return this.parent ? this.parent.posBeforeChild(this) + this.border : 0 } get posAfter() { return this.posBefore + this.size } get posAtEnd() { return this.posAtStart + this.size - 2 * this.border } localPosFromDOM(e, t, r) { if (this.contentDOM && this.contentDOM.contains(e.nodeType == 1 ? e : e.parentNode)) if (r < 0) { let s, a; if (e == this.contentDOM) s = e.childNodes[t - 1]; else { for (; e.parentNode != this.contentDOM;)e = e.parentNode; s = e.previousSibling } for (; s && !((a = s.pmViewDesc) && a.parent == this);)s = s.previousSibling; return s ? this.posBeforeChild(a) + a.size : this.posAtStart } else { let s, a; if (e == this.contentDOM) s = e.childNodes[t]; else { for (; e.parentNode != this.contentDOM;)e = e.parentNode; s = e.nextSibling } for (; s && !((a = s.pmViewDesc) && a.parent == this);)s = s.nextSibling; return s ? this.posBeforeChild(a) : this.posAtEnd } let i; if (e == this.dom && this.contentDOM) i = t > $o(this.contentDOM); else if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM)) i = e.compareDocumentPosition(this.contentDOM) & 2; else if (this.dom.firstChild) { if (t == 0) for (let s = e; ; s = s.parentNode) { if (s == this.dom) { i = !1; break } if (s.previousSibling) break } if (i == null && t == e.childNodes.length) for (let s = e; ; s = s.parentNode) { if (s == this.dom) { i = !0; break } if (s.nextSibling) break } } return i ?? r > 0 ? this.posAtEnd : this.posAtStart } nearestDesc(e, t = !1) { for (let r = !0, i = e; i; i = i.parentNode) { let s = this.getDesc(i), a; if (s && (!t || s.node)) if (r && (a = s.nodeDOM) && !(a.nodeType == 1 ? a.contains(e.nodeType == 1 ? e : e.parentNode) : a == e)) r = !1; else return s } } getDesc(e) { let t = e.pmViewDesc; for (let r = t; r; r = r.parent)if (r == this) return t } posFromDOM(e, t, r) { for (let i = e; i; i = i.parentNode) { let s = this.getDesc(i); if (s) return s.localPosFromDOM(e, t, r) } return -1 } descAt(e) { for (let t = 0, r = 0; t < this.children.length; t++) { let i = this.children[t], s = r + i.size; if (r == e && s != r) { for (; !i.border && i.children.length;)for (let a = 0; a < i.children.length; a++) { let o = i.children[a]; if (o.size) { i = o; break } } return i } if (e < s) return i.descAt(e - r - i.border); r = s } } domFromPos(e, t) { if (!this.contentDOM) return { node: this.dom, offset: 0, atom: e + 1 }; let r = 0, i = 0; for (let s = 0; r < this.children.length; r++) { let a = this.children[r], o = s + a.size; if (o > e || a instanceof gL) { i = e - s; break } s = o } if (i) return this.children[r].domFromPos(i - this.children[r].border, t); for (let s; r && !(s = this.children[r - 1]).size && s instanceof pL && s.side >= 0; r--); if (t <= 0) { let s, a = !0; for (; s = r ? this.children[r - 1] : null, !(!s || s.dom.parentNode == this.contentDOM); r--, a = !1); return s && t && a && !s.border && !s.domAtom ? s.domFromPos(s.size, t) : { node: this.contentDOM, offset: s ? $o(s.dom) + 1 : 0 } } else { let s, a = !0; for (; s = r < this.children.length ? this.children[r] : null, !(!s || s.dom.parentNode == this.contentDOM); r++, a = !1); return s && a && !s.border && !s.domAtom ? s.domFromPos(0, t) : { node: this.contentDOM, offset: s ? $o(s.dom) : this.contentDOM.childNodes.length } } } parseRange(e, t, r = 0) { if (this.children.length == 0) return { node: this.contentDOM, from: e, to: t, fromOffset: 0, toOffset: this.contentDOM.childNodes.length }; let i = -1, s = -1; for (let a = r, o = 0; ; o++) { let A = this.children[o], u = a + A.size; if (i == -1 && e <= u) { let f = a + A.border; if (e >= f && t <= u - A.border && A.node && A.contentDOM && this.contentDOM.contains(A.contentDOM)) return A.parseRange(e, t, f); e = a; for (let h = o; h > 0; h--) { let m = this.children[h - 1]; if (m.size && m.dom.parentNode == this.contentDOM && !m.emptyChildAt(1)) { i = $o(m.dom) + 1; break } e -= m.size } i == -1 && (i = 0) } if (i > -1 && (u > t || o == this.children.length - 1)) { t = u; for (let f = o + 1; f < this.children.length; f++) { let h = this.children[f]; if (h.size && h.dom.parentNode == this.contentDOM && !h.emptyChildAt(-1)) { s = $o(h.dom); break } t += h.size } s == -1 && (s = this.contentDOM.childNodes.length); break } a = u } return { node: this.contentDOM, from: e, to: t, fromOffset: i, toOffset: s } } emptyChildAt(e) { if (this.border || !this.contentDOM || !this.children.length) return !1; let t = this.children[e < 0 ? 0 : this.children.length - 1]; return t.size == 0 || t.emptyChildAt(e) } domAfterPos(e) { let { node: t, offset: r } = this.domFromPos(e, 0); if (t.nodeType != 1 || r == t.childNodes.length) throw new RangeError("No node after pos " + e); return t.childNodes[r] } setSelection(e, t, r, i = !1) {
    let s = Math.min(e, t), a = Math.max(e, t); for (let p = 0, b = 0; p < this.children.length; p++) { let y = this.children[p], E = b + y.size; if (s > b && a < E) return y.setSelection(e - b - y.border, t - b - y.border, r, i); b = E } let o = this.domFromPos(e, e ? -1 : 1), A = t == e ? o : this.domFromPos(t, t ? -1 : 1), u = r.root.getSelection(), f = r.domSelectionRange(), h = !1; if ((gc || jl) && e == t) {
      let { node: p, offset: b } = o; if (p.nodeType == 3) {
        if (h = !!(b && p.nodeValue[b - 1] == `
`), h && b == p.nodeValue.length) for (let y = p, E; y; y = y.parentNode) { if (E = y.nextSibling) { E.nodeName == "BR" && (o = A = { node: E.parentNode, offset: $o(E) + 1 }); break } let _ = y.pmViewDesc; if (_ && _.node && _.node.isBlock) break }
      } else { let y = p.childNodes[b - 1]; h = y && (y.nodeName == "BR" || y.contentEditable == "false") }
    } if (gc && f.focusNode && f.focusNode != A.node && f.focusNode.nodeType == 1) { let p = f.focusNode.childNodes[f.focusOffset]; p && p.contentEditable == "false" && (i = !0) } if (!(i || h && jl) && rp(o.node, o.offset, f.anchorNode, f.anchorOffset) && rp(A.node, A.offset, f.focusNode, f.focusOffset)) return; let m = !1; if ((u.extend || e == t) && !(h && gc)) { u.collapse(o.node, o.offset); try { e != t && u.extend(A.node, A.offset), m = !0 } catch { } } if (!m) { if (e > t) { let b = o; o = A, A = b } let p = document.createRange(); p.setEnd(A.node, A.offset), p.setStart(o.node, o.offset), u.removeAllRanges(), u.addRange(p) }
  } ignoreMutation(e) { return !this.contentDOM && e.type != "selection" } get contentLost() { return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM) } markDirty(e, t) { for (let r = 0, i = 0; i < this.children.length; i++) { let s = this.children[i], a = r + s.size; if (r == a ? e <= a && t >= r : e < a && t > r) { let o = r + s.border, A = a - s.border; if (e >= o && t <= A) { this.dirty = e == r || t == a ? Ih : hk, e == o && t == A && (s.contentLost || s.dom.parentNode != this.contentDOM) ? s.dirty = Tu : s.markDirty(e - o, t - o); return } else s.dirty = s.dom == s.contentDOM && s.dom.parentNode == this.contentDOM && !s.children.length ? Ih : Tu } r = a } this.dirty = Ih } markParentsDirty() { let e = 1; for (let t = this.parent; t; t = t.parent, e++) { let r = e == 1 ? Ih : hk; t.dirty < r && (t.dirty = r) } } get domAtom() { return !1 } get ignoreForCoords() { return !1 } get ignoreForSelection() { return !1 } isText(e) { return !1 }
} class pL extends Av { constructor(e, t, r, i) { let s, a = t.type.toDOM; if (typeof a == "function" && (a = a(r, () => { if (!s) return i; if (s.parent) return s.parent.posBeforeChild(s) })), !t.type.spec.raw) { if (a.nodeType != 1) { let o = document.createElement("span"); o.appendChild(a), a = o } a.contentEditable = "false", a.classList.add("ProseMirror-widget") } super(e, [], a, null), this.widget = t, this.widget = t, s = this } matchesWidget(e) { return this.dirty == mc && e.type.eq(this.widget.type) } parseRule() { return { ignore: !0 } } stopEvent(e) { let t = this.widget.spec.stopEvent; return t ? t(e) : !1 } ignoreMutation(e) { return e.type != "selection" || this.widget.spec.ignoreSelection } destroy() { this.widget.type.destroy(this.dom), super.destroy() } get domAtom() { return !0 } get ignoreForSelection() { return !!this.widget.type.spec.relaxedSide } get side() { return this.widget.type.side } } class AZ extends Av { constructor(e, t, r, i) { super(e, [], t, null), this.textDOM = r, this.text = i } get size() { return this.text.length } localPosFromDOM(e, t) { return e != this.textDOM ? this.posAtStart + (t ? this.size : 0) : this.posAtStart + t } domFromPos(e) { return { node: this.textDOM, offset: e } } ignoreMutation(e) { return e.type === "characterData" && e.target.nodeValue == e.oldValue } } class ip extends Av { constructor(e, t, r, i, s) { super(e, [], r, i), this.mark = t, this.spec = s } static create(e, t, r, i) { let s = i.nodeViews[t.type.name], a = s && s(t, i, r); return (!a || !a.dom) && (a = cp.renderSpec(document, t.type.spec.toDOM(t, r), null, t.attrs)), new ip(e, t, a.dom, a.contentDOM || a.dom, a) } parseRule() { return this.dirty & Tu || this.mark.type.spec.reparseInView ? null : { mark: this.mark.type.name, attrs: this.mark.attrs, contentElement: this.contentDOM } } matchesMark(e) { return this.dirty != Tu && this.mark.eq(e) } markDirty(e, t) { if (super.markDirty(e, t), this.dirty != mc) { let r = this.parent; for (; !r.node;)r = r.parent; r.dirty < this.dirty && (r.dirty = this.dirty), this.dirty = mc } } slice(e, t, r) { let i = ip.create(this.parent, this.mark, !0, r), s = this.children, a = this.size; t < a && (s = NC(s, t, a, r)), e > 0 && (s = NC(s, 0, e, r)); for (let o = 0; o < s.length; o++)s[o].parent = i; return i.children = s, i } ignoreMutation(e) { return this.spec.ignoreMutation ? this.spec.ignoreMutation(e) : super.ignoreMutation(e) } destroy() { this.spec.destroy && this.spec.destroy(), super.destroy() } } class Bd extends Av { constructor(e, t, r, i, s, a, o, A, u) { super(e, [], s, a), this.node = t, this.outerDeco = r, this.innerDeco = i, this.nodeDOM = o } static create(e, t, r, i, s, a) { let o = s.nodeViews[t.type.name], A, u = o && o(t, s, () => { if (!A) return a; if (A.parent) return A.parent.posBeforeChild(A) }, r, i), f = u && u.dom, h = u && u.contentDOM; if (t.isText) { if (!f) f = document.createTextNode(t.text); else if (f.nodeType != 3) throw new RangeError("Text must be rendered as a DOM text node") } else f || ({ dom: f, contentDOM: h } = cp.renderSpec(document, t.type.spec.toDOM(t), null, t.attrs)); !h && !t.isText && f.nodeName != "BR" && (f.hasAttribute("contenteditable") || (f.contentEditable = "false"), t.type.spec.draggable && (f.draggable = !0)); let m = f; return f = yL(f, r, t), u ? A = new cZ(e, t, r, i, f, h || null, m, u, s, a + 1) : t.isText ? new _b(e, t, r, i, f, m, s) : new Bd(e, t, r, i, f, h || null, m, s, a + 1) } parseRule() { if (this.node.type.spec.reparseInView) return null; let e = { node: this.node.type.name, attrs: this.node.attrs }; if (this.node.type.whitespace == "pre" && (e.preserveWhitespace = "full"), !this.contentDOM) e.getContent = () => this.node.content; else if (!this.contentLost) e.contentElement = this.contentDOM; else { for (let t = this.children.length - 1; t >= 0; t--) { let r = this.children[t]; if (this.dom.contains(r.dom.parentNode)) { e.contentElement = r.dom.parentNode; break } } e.contentElement || (e.getContent = () => kt.empty) } return e } matchesNode(e, t, r) { return this.dirty == mc && e.eq(this.node) && $1(t, this.outerDeco) && r.eq(this.innerDeco) } get size() { return this.node.nodeSize } get border() { return this.node.isLeaf ? 0 : 1 } updateChildren(e, t) { let r = this.node.inlineContent, i = t, s = e.composing ? this.localCompositionInfo(e, t) : null, a = s && s.pos > -1 ? s : null, o = s && s.pos < 0, A = new fZ(this, a && a.node, e); pZ(this.node, this.innerDeco, (u, f, h) => { u.spec.marks ? A.syncToMarks(u.spec.marks, r, e) : u.type.side >= 0 && !h && A.syncToMarks(f == this.node.childCount ? Ki.none : this.node.child(f).marks, r, e), A.placeWidget(u, e, i) }, (u, f, h, m) => { A.syncToMarks(u.marks, r, e); let p; A.findNodeMatch(u, f, h, m) || o && e.state.selection.from > i && e.state.selection.to < i + u.nodeSize && (p = A.findIndexWithChild(s.node)) > -1 && A.updateNodeAt(u, f, h, p, e) || A.updateNextNode(u, f, h, e, m, i) || A.addNode(u, f, h, e, i), i += u.nodeSize }), A.syncToMarks([], r, e), this.node.isTextblock && A.addTextblockHacks(), A.destroyRest(), (A.changed || this.dirty == Ih) && (a && this.protectLocalComposition(e, a), mL(this.contentDOM, this.children, e), Rg && gZ(this.dom)) } localCompositionInfo(e, t) { let { from: r, to: i } = e.state.selection; if (!(e.state.selection instanceof qn) || r < t || i > t + this.node.content.size) return null; let s = e.input.compositionNode; if (!s || !this.dom.contains(s.parentNode)) return null; if (this.node.inlineContent) { let a = s.nodeValue, o = mZ(this.node.content, a, r - t, i - t); return o < 0 ? null : { node: s, pos: o, text: a } } else return { node: s, pos: -1, text: "" } } protectLocalComposition(e, { node: t, pos: r, text: i }) { if (this.getDesc(t)) return; let s = t; for (; s.parentNode != this.contentDOM; s = s.parentNode) { for (; s.previousSibling;)s.parentNode.removeChild(s.previousSibling); for (; s.nextSibling;)s.parentNode.removeChild(s.nextSibling); s.pmViewDesc && (s.pmViewDesc = void 0) } let a = new AZ(this, s, t, i); e.input.compositionNodes.push(a), this.children = NC(this.children, r, r + i.length, e, a) } update(e, t, r, i) { return this.dirty == Tu || !e.sameMarkup(this.node) ? !1 : (this.updateInner(e, t, r, i), !0) } updateInner(e, t, r, i) { this.updateOuterDeco(t), this.node = e, this.innerDeco = r, this.contentDOM && this.updateChildren(i, this.posAtStart), this.dirty = mc } updateOuterDeco(e) { if ($1(e, this.outerDeco)) return; let t = this.nodeDOM.nodeType != 1, r = this.dom; this.dom = vL(this.dom, this.nodeDOM, _C(this.outerDeco, this.node, t), _C(e, this.node, t)), this.dom != r && (r.pmViewDesc = void 0, this.dom.pmViewDesc = this), this.outerDeco = e } selectNode() { this.nodeDOM.nodeType == 1 && (this.nodeDOM.classList.add("ProseMirror-selectednode"), (this.contentDOM || !this.node.type.spec.draggable) && (this.nodeDOM.draggable = !0)) } deselectNode() { this.nodeDOM.nodeType == 1 && (this.nodeDOM.classList.remove("ProseMirror-selectednode"), (this.contentDOM || !this.node.type.spec.draggable) && this.nodeDOM.removeAttribute("draggable")) } get domAtom() { return this.node.isAtom } } function pk(n, e, t, r, i) { yL(r, e, n); let s = new Bd(void 0, n, e, t, r, r, r, i, 0); return s.contentDOM && s.updateChildren(i, 0), s } class _b extends Bd { constructor(e, t, r, i, s, a, o) { super(e, t, r, i, s, null, a, o, 0) } parseRule() { let e = this.nodeDOM.parentNode; for (; e && e != this.dom && !e.pmIsDeco;)e = e.parentNode; return { skip: e || !0 } } update(e, t, r, i) { return this.dirty == Tu || this.dirty != mc && !this.inParent() || !e.sameMarkup(this.node) ? !1 : (this.updateOuterDeco(t), (this.dirty != mc || e.text != this.node.text) && e.text != this.nodeDOM.nodeValue && (this.nodeDOM.nodeValue = e.text, i.trackWrites == this.nodeDOM && (i.trackWrites = null)), this.node = e, this.dirty = mc, !0) } inParent() { let e = this.parent.contentDOM; for (let t = this.nodeDOM; t; t = t.parentNode)if (t == e) return !0; return !1 } domFromPos(e) { return { node: this.nodeDOM, offset: e } } localPosFromDOM(e, t, r) { return e == this.nodeDOM ? this.posAtStart + Math.min(t, this.node.text.length) : super.localPosFromDOM(e, t, r) } ignoreMutation(e) { return e.type != "characterData" && e.type != "selection" } slice(e, t, r) { let i = this.node.cut(e, t), s = document.createTextNode(i.text); return new _b(this.parent, i, this.outerDeco, this.innerDeco, s, s, r) } markDirty(e, t) { super.markDirty(e, t), this.dom != this.nodeDOM && (e == 0 || t == this.nodeDOM.nodeValue.length) && (this.dirty = Tu) } get domAtom() { return !1 } isText(e) { return this.node.text == e } } class gL extends Av { parseRule() { return { ignore: !0 } } matchesHack(e) { return this.dirty == mc && this.dom.nodeName == e } get domAtom() { return !0 } get ignoreForCoords() { return this.dom.nodeName == "IMG" } } class cZ extends Bd { constructor(e, t, r, i, s, a, o, A, u, f) { super(e, t, r, i, s, a, o, u, f), this.spec = A } update(e, t, r, i) { if (this.dirty == Tu) return !1; if (this.spec.update && (this.node.type == e.type || this.spec.multiType)) { let s = this.spec.update(e, t, r); return s && this.updateInner(e, t, r, i), s } else return !this.contentDOM && !e.isLeaf ? !1 : super.update(e, t, r, i) } selectNode() { this.spec.selectNode ? this.spec.selectNode() : super.selectNode() } deselectNode() { this.spec.deselectNode ? this.spec.deselectNode() : super.deselectNode() } setSelection(e, t, r, i) { this.spec.setSelection ? this.spec.setSelection(e, t, r.root) : super.setSelection(e, t, r, i) } destroy() { this.spec.destroy && this.spec.destroy(), super.destroy() } stopEvent(e) { return this.spec.stopEvent ? this.spec.stopEvent(e) : !1 } ignoreMutation(e) { return this.spec.ignoreMutation ? this.spec.ignoreMutation(e) : super.ignoreMutation(e) } } function mL(n, e, t) { let r = n.firstChild, i = !1; for (let s = 0; s < e.length; s++) { let a = e[s], o = a.dom; if (o.parentNode == n) { for (; o != r;)r = gk(r), i = !0; r = r.nextSibling } else i = !0, n.insertBefore(o, r); if (a instanceof ip) { let A = r ? r.previousSibling : n.lastChild; mL(a.contentDOM, a.children, t), r = A ? A.nextSibling : n.firstChild } } for (; r;)r = gk(r), i = !0; i && t.trackWrites == n && (t.trackWrites = null) } const l0 = function (n) { n && (this.nodeName = n) }; l0.prototype = Object.create(null); const Lh = [new l0]; function _C(n, e, t) { if (n.length == 0) return Lh; let r = t ? Lh[0] : new l0, i = [r]; for (let s = 0; s < n.length; s++) { let a = n[s].type.attrs; if (a) { a.nodeName && i.push(r = new l0(a.nodeName)); for (let o in a) { let A = a[o]; A != null && (t && i.length == 1 && i.push(r = new l0(e.isInline ? "span" : "div")), o == "class" ? r.class = (r.class ? r.class + " " : "") + A : o == "style" ? r.style = (r.style ? r.style + ";" : "") + A : o != "nodeName" && (r[o] = A)) } } } return i } function vL(n, e, t, r) { if (t == Lh && r == Lh) return e; let i = e; for (let s = 0; s < r.length; s++) { let a = r[s], o = t[s]; if (s) { let A; o && o.nodeName == a.nodeName && i != n && (A = i.parentNode) && A.nodeName.toLowerCase() == a.nodeName || (A = document.createElement(a.nodeName), A.pmIsDeco = !0, A.appendChild(i), o = Lh[0]), i = A } uZ(i, o || Lh[0], a) } return i } function uZ(n, e, t) { for (let r in e) r != "class" && r != "style" && r != "nodeName" && !(r in t) && n.removeAttribute(r); for (let r in t) r != "class" && r != "style" && r != "nodeName" && t[r] != e[r] && n.setAttribute(r, t[r]); if (e.class != t.class) { let r = e.class ? e.class.split(" ").filter(Boolean) : [], i = t.class ? t.class.split(" ").filter(Boolean) : []; for (let s = 0; s < r.length; s++)i.indexOf(r[s]) == -1 && n.classList.remove(r[s]); for (let s = 0; s < i.length; s++)r.indexOf(i[s]) == -1 && n.classList.add(i[s]); n.classList.length == 0 && n.removeAttribute("class") } if (e.style != t.style) { if (e.style) { let r = /\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g, i; for (; i = r.exec(e.style);)n.style.removeProperty(i[1]) } t.style && (n.style.cssText += t.style) } } function yL(n, e, t) { return vL(n, n, Lh, _C(e, t, n.nodeType != 1)) } function $1(n, e) { if (n.length != e.length) return !1; for (let t = 0; t < n.length; t++)if (!n[t].type.eq(e[t].type)) return !1; return !0 } function gk(n) { let e = n.nextSibling; return n.parentNode.removeChild(n), e } class fZ { constructor(e, t, r) { this.lock = t, this.view = r, this.index = 0, this.stack = [], this.changed = !1, this.top = e, this.preMatch = dZ(e.node.content, e) } destroyBetween(e, t) { if (e != t) { for (let r = e; r < t; r++)this.top.children[r].destroy(); this.top.children.splice(e, t - e), this.changed = !0 } } destroyRest() { this.destroyBetween(this.index, this.top.children.length) } syncToMarks(e, t, r) { let i = 0, s = this.stack.length >> 1, a = Math.min(s, e.length); for (; i < a && (i == s - 1 ? this.top : this.stack[i + 1 << 1]).matchesMark(e[i]) && e[i].type.spec.spanning !== !1;)i++; for (; i < s;)this.destroyRest(), this.top.dirty = mc, this.index = this.stack.pop(), this.top = this.stack.pop(), s--; for (; s < e.length;) { this.stack.push(this.top, this.index + 1); let o = -1; for (let A = this.index; A < Math.min(this.index + 3, this.top.children.length); A++) { let u = this.top.children[A]; if (u.matchesMark(e[s]) && !this.isLocked(u.dom)) { o = A; break } } if (o > -1) o > this.index && (this.changed = !0, this.destroyBetween(this.index, o)), this.top = this.top.children[this.index]; else { let A = ip.create(this.top, e[s], t, r); this.top.children.splice(this.index, 0, A), this.top = A, this.changed = !0 } this.index = 0, s++ } } findNodeMatch(e, t, r, i) { let s = -1, a; if (i >= this.preMatch.index && (a = this.preMatch.matches[i - this.preMatch.index]).parent == this.top && a.matchesNode(e, t, r)) s = this.top.children.indexOf(a, this.index); else for (let o = this.index, A = Math.min(this.top.children.length, o + 5); o < A; o++) { let u = this.top.children[o]; if (u.matchesNode(e, t, r) && !this.preMatch.matched.has(u)) { s = o; break } } return s < 0 ? !1 : (this.destroyBetween(this.index, s), this.index++, !0) } updateNodeAt(e, t, r, i, s) { let a = this.top.children[i]; return a.dirty == Tu && a.dom == a.contentDOM && (a.dirty = Ih), a.update(e, t, r, s) ? (this.destroyBetween(this.index, i), this.index++, !0) : !1 } findIndexWithChild(e) { for (; ;) { let t = e.parentNode; if (!t) return -1; if (t == this.top.contentDOM) { let r = e.pmViewDesc; if (r) { for (let i = this.index; i < this.top.children.length; i++)if (this.top.children[i] == r) return i } return -1 } e = t } } updateNextNode(e, t, r, i, s, a) { for (let o = this.index; o < this.top.children.length; o++) { let A = this.top.children[o]; if (A instanceof Bd) { let u = this.preMatch.matched.get(A); if (u != null && u != s) return !1; let f = A.dom, h, m = this.isLocked(f) && !(e.isText && A.node && A.node.isText && A.nodeDOM.nodeValue == e.text && A.dirty != Tu && $1(t, A.outerDeco)); if (!m && A.update(e, t, r, i)) return this.destroyBetween(this.index, o), A.dom != f && (this.changed = !0), this.index++, !0; if (!m && (h = this.recreateWrapper(A, e, t, r, i, a))) return this.destroyBetween(this.index, o), this.top.children[this.index] = h, h.contentDOM && (h.dirty = Ih, h.updateChildren(i, a + 1), h.dirty = mc), this.changed = !0, this.index++, !0; break } } return !1 } recreateWrapper(e, t, r, i, s, a) { if (e.dirty || t.isAtom || !e.children.length || !e.node.content.eq(t.content) || !$1(r, e.outerDeco) || !i.eq(e.innerDeco)) return null; let o = Bd.create(this.top, t, r, i, s, a); if (o.contentDOM) { o.children = e.children, e.children = []; for (let A of o.children) A.parent = o } return e.destroy(), o } addNode(e, t, r, i, s) { let a = Bd.create(this.top, e, t, r, i, s); a.contentDOM && a.updateChildren(i, s + 1), this.top.children.splice(this.index++, 0, a), this.changed = !0 } placeWidget(e, t, r) { let i = this.index < this.top.children.length ? this.top.children[this.index] : null; if (i && i.matchesWidget(e) && (e == i.widget || !i.widget.type.toDOM.parentNode)) this.index++; else { let s = new pL(this.top, e, t, r); this.top.children.splice(this.index++, 0, s), this.changed = !0 } } addTextblockHacks() { let e = this.top.children[this.index - 1], t = this.top; for (; e instanceof ip;)t = e, e = t.children[t.children.length - 1]; (!e || !(e instanceof _b) || /\n$/.test(e.node.text) || this.view.requiresGeckoHackNode && /\s$/.test(e.node.text)) && ((jl || Cl) && e && e.dom.contentEditable == "false" && this.addHackNode("IMG", t), this.addHackNode("BR", this.top)) } addHackNode(e, t) { if (t == this.top && this.index < t.children.length && t.children[this.index].matchesHack(e)) this.index++; else { let r = document.createElement(e); e == "IMG" && (r.className = "ProseMirror-separator", r.alt = ""), e == "BR" && (r.className = "ProseMirror-trailingBreak"); let i = new gL(this.top, [], r, null); t != this.top ? t.children.push(i) : t.children.splice(this.index++, 0, i), this.changed = !0 } } isLocked(e) { return this.lock && (e == this.lock || e.nodeType == 1 && e.contains(this.lock.parentNode)) } } function dZ(n, e) { let t = e, r = t.children.length, i = n.childCount, s = new Map, a = []; e: for (; i > 0;) { let o; for (; ;)if (r) { let u = t.children[r - 1]; if (u instanceof ip) t = u, r = u.children.length; else { o = u, r--; break } } else { if (t == e) break e; r = t.parent.children.indexOf(t), t = t.parent } let A = o.node; if (A) { if (A != n.child(i - 1)) break; --i, s.set(o, i), a.push(o) } } return { index: i, matched: s, matches: a.reverse() } } function hZ(n, e) { return n.type.side - e.type.side } function pZ(n, e, t, r) { let i = e.locals(n), s = 0; if (i.length == 0) { for (let u = 0; u < n.childCount; u++) { let f = n.child(u); r(f, i, e.forChild(s, f), u), s += f.nodeSize } return } let a = 0, o = [], A = null; for (let u = 0; ;) { let f, h; for (; a < i.length && i[a].to == s;) { let E = i[a++]; E.widget && (f ? (h || (h = [f])).push(E) : f = E) } if (f) if (h) { h.sort(hZ); for (let E = 0; E < h.length; E++)t(h[E], u, !!A) } else t(f, u, !!A); let m, p; if (A) p = -1, m = A, A = null; else if (u < n.childCount) p = u, m = n.child(u++); else break; for (let E = 0; E < o.length; E++)o[E].to <= s && o.splice(E--, 1); for (; a < i.length && i[a].from <= s && i[a].to > s;)o.push(i[a++]); let b = s + m.nodeSize; if (m.isText) { let E = b; a < i.length && i[a].from < E && (E = i[a].from); for (let _ = 0; _ < o.length; _++)o[_].to < E && (E = o[_].to); E < b && (A = m.cut(E - s), m = m.cut(0, E - s), b = E, p = -1) } else for (; a < i.length && i[a].to < b;)a++; let y = m.isInline && !m.isLeaf ? o.filter(E => !E.inline) : o.slice(); r(m, y, e.forChild(s, m), p), s = b } } function gZ(n) { if (n.nodeName == "UL" || n.nodeName == "OL") { let e = n.style.cssText; n.style.cssText = e + "; list-style: square !important", window.getComputedStyle(n).listStyle, n.style.cssText = e } } function mZ(n, e, t, r) { for (let i = 0, s = 0; i < n.childCount && s <= r;) { let a = n.child(i++), o = s; if (s += a.nodeSize, !a.isText) continue; let A = a.text; for (; i < n.childCount;) { let u = n.child(i++); if (s += u.nodeSize, !u.isText) break; A += u.text } if (s >= t) { if (s >= r && A.slice(r - e.length - o, r - o) == e) return r - e.length; let u = o < r ? A.lastIndexOf(e, r - o - 1) : -1; if (u >= 0 && u + e.length + o >= t) return o + u; if (t == r && A.length >= r + e.length - o && A.slice(r - o, r - o + e.length) == e) return r } } return -1 } function NC(n, e, t, r, i) { let s = []; for (let a = 0, o = 0; a < n.length; a++) { let A = n[a], u = o, f = o += A.size; u >= t || f <= e ? s.push(A) : (u < e && s.push(A.slice(0, e - u, r)), i && (s.push(i), i = void 0), f > t && s.push(A.slice(t - u, A.size, r))) } return s } function RE(n, e = null) { let t = n.domSelectionRange(), r = n.state.doc; if (!t.focusNode) return null; let i = n.docView.nearestDesc(t.focusNode), s = i && i.size == 0, a = n.docView.posFromDOM(t.focusNode, t.focusOffset, 1); if (a < 0) return null; let o = r.resolve(a), A, u; if (Sb(t)) { for (A = a; i && !i.node;)i = i.parent; let h = i.node; if (i && h.isAtom && Un.isSelectable(h) && i.parent && !(h.isInline && zX(t.focusNode, t.focusOffset, i.dom))) { let m = i.posBefore; u = new Un(a == m ? o : r.resolve(m)) } } else { if (t instanceof n.dom.ownerDocument.defaultView.Selection && t.rangeCount > 1) { let h = a, m = a; for (let p = 0; p < t.rangeCount; p++) { let b = t.getRangeAt(p); h = Math.min(h, n.docView.posFromDOM(b.startContainer, b.startOffset, 1)), m = Math.max(m, n.docView.posFromDOM(b.endContainer, b.endOffset, -1)) } if (h < 0) return null;[A, a] = m == n.state.selection.anchor ? [m, h] : [h, m], o = r.resolve(a) } else A = n.docView.posFromDOM(t.anchorNode, t.anchorOffset, 1); if (A < 0) return null } let f = r.resolve(A); if (!u) { let h = e == "pointer" || n.state.selection.head < o.pos && !s ? 1 : -1; u = IE(n, f, o, h) } return u } function wL(n) { return n.editable ? n.hasFocus() : xL(n) && document.activeElement && document.activeElement.contains(n.dom) } function pf(n, e = !1) { let t = n.state.selection; if (bL(n, t), !!wL(n)) { if (!e && n.input.mouseDown && n.input.mouseDown.allowDefault && Cl) { let r = n.domSelectionRange(), i = n.domObserver.currentSelection; if (r.anchorNode && i.anchorNode && rp(r.anchorNode, r.anchorOffset, i.anchorNode, i.anchorOffset)) { n.input.mouseDown.delayedSelectionSync = !0, n.domObserver.setCurSelection(); return } } if (n.domObserver.disconnectSelection(), n.cursorWrapper) yZ(n); else { let { anchor: r, head: i } = t, s, a; mk && !(t instanceof qn) && (t.$from.parent.inlineContent || (s = vk(n, t.from)), !t.empty && !t.$from.parent.inlineContent && (a = vk(n, t.to))), n.docView.setSelection(r, i, n, e), mk && (s && yk(s), a && yk(a)), t.visible ? n.dom.classList.remove("ProseMirror-hideselection") : (n.dom.classList.add("ProseMirror-hideselection"), "onselectionchange" in document && vZ(n)) } n.domObserver.setCurSelection(), n.domObserver.connectSelection() } } const mk = jl || Cl && lL < 63; function vk(n, e) { let { node: t, offset: r } = n.docView.domFromPos(e, 0), i = r < t.childNodes.length ? t.childNodes[r] : null, s = r ? t.childNodes[r - 1] : null; if (jl && i && i.contentEditable == "false") return Fx(i); if ((!i || i.contentEditable == "false") && (!s || s.contentEditable == "false")) { if (i) return Fx(i); if (s) return Fx(s) } } function Fx(n) { return n.contentEditable = "true", jl && n.draggable && (n.draggable = !1, n.wasDraggable = !0), n } function yk(n) { n.contentEditable = "false", n.wasDraggable && (n.draggable = !0, n.wasDraggable = null) } function vZ(n) { let e = n.dom.ownerDocument; e.removeEventListener("selectionchange", n.input.hideSelectionGuard); let t = n.domSelectionRange(), r = t.anchorNode, i = t.anchorOffset; e.addEventListener("selectionchange", n.input.hideSelectionGuard = () => { (t.anchorNode != r || t.anchorOffset != i) && (e.removeEventListener("selectionchange", n.input.hideSelectionGuard), setTimeout(() => { (!wL(n) || n.state.selection.visible) && n.dom.classList.remove("ProseMirror-hideselection") }, 20)) }) } function yZ(n) { let e = n.domSelection(); if (!e) return; let t = n.cursorWrapper.dom, r = t.nodeName == "IMG"; r ? e.collapse(t.parentNode, $o(t) + 1) : e.collapse(t, 0), !r && !n.state.selection.visible && gA && xd <= 11 && (t.disabled = !0, t.disabled = !1) } function bL(n, e) { if (e instanceof Un) { let t = n.docView.descAt(e.from); t != n.lastSelectedViewDesc && (wk(n), t && t.selectNode(), n.lastSelectedViewDesc = t) } else wk(n) } function wk(n) { n.lastSelectedViewDesc && (n.lastSelectedViewDesc.parent && n.lastSelectedViewDesc.deselectNode(), n.lastSelectedViewDesc = void 0) } function IE(n, e, t, r) { return n.someProp("createSelectionBetween", i => i(n, e, t)) || qn.between(e, t, r) } function bk(n) { return n.editable && !n.hasFocus() ? !1 : xL(n) } function xL(n) { let e = n.domSelectionRange(); if (!e.anchorNode) return !1; try { return n.dom.contains(e.anchorNode.nodeType == 3 ? e.anchorNode.parentNode : e.anchorNode) && (n.editable || n.dom.contains(e.focusNode.nodeType == 3 ? e.focusNode.parentNode : e.focusNode)) } catch { return !1 } } function wZ(n) { let e = n.docView.domFromPos(n.state.selection.anchor, 0), t = n.domSelectionRange(); return rp(e.node, e.offset, t.anchorNode, t.anchorOffset) } function kC(n, e) { let { $anchor: t, $head: r } = n.selection, i = e > 0 ? t.max(r) : t.min(r), s = i.parent.inlineContent ? i.depth ? n.doc.resolve(e > 0 ? i.after() : i.before()) : null : i; return s && mr.findFrom(s, e) } function sd(n, e) { return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()), !0 } function xk(n, e, t) { let r = n.state.selection; if (r instanceof qn) if (t.indexOf("s") > -1) { let { $head: i } = r, s = i.textOffset ? null : e < 0 ? i.nodeBefore : i.nodeAfter; if (!s || s.isText || !s.isLeaf) return !1; let a = n.state.doc.resolve(i.pos + s.nodeSize * (e < 0 ? -1 : 1)); return sd(n, new qn(r.$anchor, a)) } else if (r.empty) { if (n.endOfTextblock(e > 0 ? "forward" : "backward")) { let i = kC(n.state, e); return i && i instanceof Un ? sd(n, i) : !1 } else if (!(ac && t.indexOf("m") > -1)) { let i = r.$head, s = i.textOffset ? null : e < 0 ? i.nodeBefore : i.nodeAfter, a; if (!s || s.isText) return !1; let o = e < 0 ? i.pos - s.nodeSize : i.pos; return s.isAtom || (a = n.docView.descAt(o)) && !a.contentDOM ? Un.isSelectable(s) ? sd(n, new Un(e < 0 ? n.state.doc.resolve(i.pos - s.nodeSize) : i)) : lv ? sd(n, new qn(n.state.doc.resolve(e < 0 ? o : o + s.nodeSize))) : !1 : !1 } } else return !1; else { if (r instanceof Un && r.node.isInline) return sd(n, new qn(e > 0 ? r.$to : r.$from)); { let i = kC(n.state, e); return i ? sd(n, i) : !1 } } } function ew(n) { return n.nodeType == 3 ? n.nodeValue.length : n.childNodes.length } function A0(n, e) { let t = n.pmViewDesc; return t && t.size == 0 && (e < 0 || n.nextSibling || n.nodeName != "BR") } function Gp(n, e) { return e < 0 ? bZ(n) : xZ(n) } function bZ(n) { let e = n.domSelectionRange(), t = e.focusNode, r = e.focusOffset; if (!t) return; let i, s, a = !1; for (gc && t.nodeType == 1 && r < ew(t) && A0(t.childNodes[r], -1) && (a = !0); ;)if (r > 0) { if (t.nodeType != 1) break; { let o = t.childNodes[r - 1]; if (A0(o, -1)) i = t, s = --r; else if (o.nodeType == 3) t = o, r = t.nodeValue.length; else break } } else { if (BL(t)) break; { let o = t.previousSibling; for (; o && A0(o, -1);)i = t.parentNode, s = $o(o), o = o.previousSibling; if (o) t = o, r = ew(t); else { if (t = t.parentNode, t == n.dom) break; r = 0 } } } a ? TC(n, t, r) : i && TC(n, i, s) } function xZ(n) { let e = n.domSelectionRange(), t = e.focusNode, r = e.focusOffset; if (!t) return; let i = ew(t), s, a; for (; ;)if (r < i) { if (t.nodeType != 1) break; let o = t.childNodes[r]; if (A0(o, 1)) s = t, a = ++r; else break } else { if (BL(t)) break; { let o = t.nextSibling; for (; o && A0(o, 1);)s = o.parentNode, a = $o(o) + 1, o = o.nextSibling; if (o) t = o, r = 0, i = ew(t); else { if (t = t.parentNode, t == n.dom) break; r = i = 0 } } } s && TC(n, s, a) } function BL(n) { let e = n.pmViewDesc; return e && e.node && e.node.isBlock } function BZ(n, e) { for (; n && e == n.childNodes.length && !ov(n);)e = $o(n) + 1, n = n.parentNode; for (; n && e < n.childNodes.length;) { let t = n.childNodes[e]; if (t.nodeType == 3) return t; if (t.nodeType == 1 && t.contentEditable == "false") break; n = t, e = 0 } } function CZ(n, e) { for (; n && !e && !ov(n);)e = $o(n), n = n.parentNode; for (; n && e;) { let t = n.childNodes[e - 1]; if (t.nodeType == 3) return t; if (t.nodeType == 1 && t.contentEditable == "false") break; n = t, e = n.childNodes.length } } function TC(n, e, t) { if (e.nodeType != 3) { let s, a; (a = BZ(e, t)) ? (e = a, t = 0) : (s = CZ(e, t)) && (e = s, t = s.nodeValue.length) } let r = n.domSelection(); if (!r) return; if (Sb(r)) { let s = document.createRange(); s.setEnd(e, t), s.setStart(e, t), r.removeAllRanges(), r.addRange(s) } else r.extend && r.extend(e, t); n.domObserver.setCurSelection(); let { state: i } = n; setTimeout(() => { n.state == i && pf(n) }, 50) } function Bk(n, e) { let t = n.state.doc.resolve(e); if (!(Cl || GX) && t.parent.inlineContent) { let i = n.coordsAtPos(e); if (e > t.start()) { let s = n.coordsAtPos(e - 1), a = (s.top + s.bottom) / 2; if (a > i.top && a < i.bottom && Math.abs(s.left - i.left) > 1) return s.left < i.left ? "ltr" : "rtl" } if (e < t.end()) { let s = n.coordsAtPos(e + 1), a = (s.top + s.bottom) / 2; if (a > i.top && a < i.bottom && Math.abs(s.left - i.left) > 1) return s.left > i.left ? "ltr" : "rtl" } } return getComputedStyle(n.dom).direction == "rtl" ? "rtl" : "ltr" } function Ck(n, e, t) { let r = n.state.selection; if (r instanceof qn && !r.empty || t.indexOf("s") > -1 || ac && t.indexOf("m") > -1) return !1; let { $from: i, $to: s } = r; if (!i.parent.inlineContent || n.endOfTextblock(e < 0 ? "up" : "down")) { let a = kC(n.state, e); if (a && a instanceof Un) return sd(n, a) } if (!i.parent.inlineContent) { let a = e < 0 ? i : s, o = r instanceof KA ? mr.near(a, e) : mr.findFrom(a, e); return o ? sd(n, o) : !1 } return !1 } function Ek(n, e) { if (!(n.state.selection instanceof qn)) return !0; let { $head: t, $anchor: r, empty: i } = n.state.selection; if (!t.sameParent(r)) return !0; if (!i) return !1; if (n.endOfTextblock(e > 0 ? "forward" : "backward")) return !0; let s = !t.textOffset && (e < 0 ? t.nodeBefore : t.nodeAfter); if (s && !s.isText) { let a = n.state.tr; return e < 0 ? a.delete(t.pos - s.nodeSize, t.pos) : a.delete(t.pos, t.pos + s.nodeSize), n.dispatch(a), !0 } return !1 } function Sk(n, e, t) { n.domObserver.stop(), e.contentEditable = t, n.domObserver.start() } function EZ(n) { if (!jl || n.state.selection.$head.parentOffset > 0) return !1; let { focusNode: e, focusOffset: t } = n.domSelectionRange(); if (e && e.nodeType == 1 && t == 0 && e.firstChild && e.firstChild.contentEditable == "false") { let r = e.firstChild; Sk(n, r, "true"), setTimeout(() => Sk(n, r, "false"), 20) } return !1 } function SZ(n) { let e = ""; return n.ctrlKey && (e += "c"), n.metaKey && (e += "m"), n.altKey && (e += "a"), n.shiftKey && (e += "s"), e } function _Z(n, e) { let t = e.keyCode, r = SZ(e); if (t == 8 || ac && t == 72 && r == "c") return Ek(n, -1) || Gp(n, -1); if (t == 46 && !e.shiftKey || ac && t == 68 && r == "c") return Ek(n, 1) || Gp(n, 1); if (t == 13 || t == 27) return !0; if (t == 37 || ac && t == 66 && r == "c") { let i = t == 37 ? Bk(n, n.state.selection.from) == "ltr" ? -1 : 1 : -1; return xk(n, i, r) || Gp(n, i) } else if (t == 39 || ac && t == 70 && r == "c") { let i = t == 39 ? Bk(n, n.state.selection.from) == "ltr" ? 1 : -1 : 1; return xk(n, i, r) || Gp(n, i) } else { if (t == 38 || ac && t == 80 && r == "c") return Ck(n, -1, r) || Gp(n, -1); if (t == 40 || ac && t == 78 && r == "c") return EZ(n) || Ck(n, 1, r) || Gp(n, 1); if (r == (ac ? "m" : "c") && (t == 66 || t == 73 || t == 89 || t == 90)) return !0 } return !1 } function LE(n, e) {
  n.someProp("transformCopied", p => { e = p(e, n) }); let t = [], { content: r, openStart: i, openEnd: s } = e; for (; i > 1 && s > 1 && r.childCount == 1 && r.firstChild.childCount == 1;) { i--, s--; let p = r.firstChild; t.push(p.type.name, p.attrs != p.type.defaultAttrs ? p.attrs : null), r = p.content } let a = n.someProp("clipboardSerializer") || cp.fromSchema(n.state.schema), o = kL(), A = o.createElement("div"); A.appendChild(a.serializeFragment(r, { document: o })); let u = A.firstChild, f, h = 0; for (; u && u.nodeType == 1 && (f = NL[u.nodeName.toLowerCase()]);) { for (let p = f.length - 1; p >= 0; p--) { let b = o.createElement(f[p]); for (; A.firstChild;)b.appendChild(A.firstChild); A.appendChild(b), h++ } u = A.firstChild } u && u.nodeType == 1 && u.setAttribute("data-pm-slice", `${i} ${s}${h ? ` -${h}` : ""} ${JSON.stringify(t)}`); let m = n.someProp("clipboardTextSerializer", p => p(e, n)) || e.content.textBetween(0, e.content.size, `

`); return { dom: A, text: m, slice: e }
} function CL(n, e, t, r, i) {
  let s = i.parent.type.spec.code, a, o; if (!t && !e) return null; let A = !!e && (r || s || !t); if (A) {
    if (n.someProp("transformPastedText", m => { e = m(e, s || r, n) }), s) return o = new Jt(kt.from(n.state.schema.text(e.replace(/\r\n?/g, `
`))), 0, 0), n.someProp("transformPasted", m => { o = m(o, n, !0) }), o; let h = n.someProp("clipboardTextParser", m => m(e, i, r, n)); if (h) o = h; else { let m = i.marks(), { schema: p } = n.state, b = cp.fromSchema(p); a = document.createElement("div"), e.split(/(?:\r\n?|\n)+/).forEach(y => { let E = a.appendChild(document.createElement("p")); y && E.appendChild(b.serializeNode(p.text(y, m))) }) }
  } else n.someProp("transformPastedHTML", h => { t = h(t, n) }), a = FZ(t), lv && UZ(a); let u = a && a.querySelector("[data-pm-slice]"), f = u && /^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice") || ""); if (f && f[3]) for (let h = +f[3]; h > 0; h--) { let m = a.firstChild; for (; m && m.nodeType != 1;)m = m.nextSibling; if (!m) break; a = m } if (o || (o = (n.someProp("clipboardParser") || n.someProp("domParser") || bd.fromSchema(n.state.schema)).parseSlice(a, { preserveWhitespace: !!(A || f), context: i, ruleFromNode(m) { return m.nodeName == "BR" && !m.nextSibling && m.parentNode && !NZ.test(m.parentNode.nodeName) ? { ignore: !0 } : null } })), f) o = OZ(_k(o, +f[1], +f[2]), f[4]); else if (o = Jt.maxOpen(kZ(o.content, i), !0), o.openStart || o.openEnd) { let h = 0, m = 0; for (let p = o.content.firstChild; h < o.openStart && !p.type.spec.isolating; h++, p = p.firstChild); for (let p = o.content.lastChild; m < o.openEnd && !p.type.spec.isolating; m++, p = p.lastChild); o = _k(o, h, m) } return n.someProp("transformPasted", h => { o = h(o, n, A) }), o
} const NZ = /^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i; function kZ(n, e) { if (n.childCount < 2) return n; for (let t = e.depth; t >= 0; t--) { let i = e.node(t).contentMatchAt(e.index(t)), s, a = []; if (n.forEach(o => { if (!a) return; let A = i.findWrapping(o.type), u; if (!A) return a = null; if (u = a.length && s.length && SL(A, s, o, a[a.length - 1], 0)) a[a.length - 1] = u; else { a.length && (a[a.length - 1] = _L(a[a.length - 1], s.length)); let f = EL(o, A); a.push(f), i = i.matchType(f.type), s = A } }), a) return kt.from(a) } return n } function EL(n, e, t = 0) { for (let r = e.length - 1; r >= t; r--)n = e[r].create(null, kt.from(n)); return n } function SL(n, e, t, r, i) { if (i < n.length && i < e.length && n[i] == e[i]) { let s = SL(n, e, t, r.lastChild, i + 1); if (s) return r.copy(r.content.replaceChild(r.childCount - 1, s)); if (r.contentMatchAt(r.childCount).matchType(i == n.length - 1 ? t.type : n[i + 1])) return r.copy(r.content.append(kt.from(EL(t, n, i + 1)))) } } function _L(n, e) { if (e == 0) return n; let t = n.content.replaceChild(n.childCount - 1, _L(n.lastChild, e - 1)), r = n.contentMatchAt(n.childCount).fillBefore(kt.empty, !0); return n.copy(t.append(r)) } function FC(n, e, t, r, i, s) { let a = e < 0 ? n.firstChild : n.lastChild, o = a.content; return n.childCount > 1 && (s = 0), i < r - 1 && (o = FC(o, e, t, r, i + 1, s)), i >= t && (o = e < 0 ? a.contentMatchAt(0).fillBefore(o, s <= i).append(o) : o.append(a.contentMatchAt(a.childCount).fillBefore(kt.empty, !0))), n.replaceChild(e < 0 ? 0 : n.childCount - 1, a.copy(o)) } function _k(n, e, t) { return e < n.openStart && (n = new Jt(FC(n.content, -1, e, n.openStart, 0, n.openEnd), e, n.openEnd)), t < n.openEnd && (n = new Jt(FC(n.content, 1, t, n.openEnd, 0, 0), n.openStart, t)), n } const NL = { thead: ["table"], tbody: ["table"], tfoot: ["table"], caption: ["table"], colgroup: ["table"], col: ["table", "colgroup"], tr: ["table", "tbody"], td: ["table", "tbody", "tr"], th: ["table", "tbody", "tr"] }; let Nk = null; function kL() { return Nk || (Nk = document.implementation.createHTMLDocument("title")) } let Ux = null; function TZ(n) { let e = window.trustedTypes; return e ? (Ux || (Ux = e.defaultPolicy || e.createPolicy("ProseMirrorClipboard", { createHTML: t => t })), Ux.createHTML(n)) : n } function FZ(n) { let e = /^(\s*<meta [^>]*>)*/.exec(n); e && (n = n.slice(e[0].length)); let t = kL().createElement("div"), r = /<([a-z][^>\s]+)/i.exec(n), i; if ((i = r && NL[r[1].toLowerCase()]) && (n = i.map(s => "<" + s + ">").join("") + n + i.map(s => "</" + s + ">").reverse().join("")), t.innerHTML = TZ(n), i) for (let s = 0; s < i.length; s++)t = t.querySelector(i[s]) || t; return t } function UZ(n) { let e = n.querySelectorAll(Cl ? "span:not([class]):not([style])" : "span.Apple-converted-space"); for (let t = 0; t < e.length; t++) { let r = e[t]; r.childNodes.length == 1 && r.textContent == "" && r.parentNode && r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "), r) } } function OZ(n, e) { if (!n.size) return n; let t = n.content.firstChild.type.schema, r; try { r = JSON.parse(e) } catch { return n } let { content: i, openStart: s, openEnd: a } = n; for (let o = r.length - 2; o >= 0; o -= 2) { let A = t.nodes[r[o]]; if (!A || A.hasRequiredAttrs()) break; i = kt.from(A.create(r[o + 1], i)), s++, a++ } return new Jt(i, s, a) } const zl = {}, Kl = {}, RZ = { touchstart: !0, touchmove: !0 }; class IZ { constructor() { this.shiftKey = !1, this.mouseDown = null, this.lastKeyCode = null, this.lastKeyCodeTime = 0, this.lastClick = { time: 0, x: 0, y: 0, type: "", button: 0 }, this.lastSelectionOrigin = null, this.lastSelectionTime = 0, this.lastIOSEnter = 0, this.lastIOSEnterFallbackTimeout = -1, this.lastFocus = 0, this.lastTouch = 0, this.lastChromeDelete = 0, this.composing = !1, this.compositionNode = null, this.composingTimeout = -1, this.compositionNodes = [], this.compositionEndedAt = -2e8, this.compositionID = 1, this.compositionPendingChanges = 0, this.domChangeCount = 0, this.eventHandlers = Object.create(null), this.hideSelectionGuard = null } } function LZ(n) { for (let e in zl) { let t = zl[e]; n.dom.addEventListener(e, n.input.eventHandlers[e] = r => { QZ(n, r) && !ME(n, r) && (n.editable || !(r.type in Kl)) && t(n, r) }, RZ[e] ? { passive: !0 } : void 0) } jl && n.dom.addEventListener("input", () => null), UC(n) } function hd(n, e) { n.input.lastSelectionOrigin = e, n.input.lastSelectionTime = Date.now() } function MZ(n) { n.domObserver.stop(); for (let e in n.input.eventHandlers) n.dom.removeEventListener(e, n.input.eventHandlers[e]); clearTimeout(n.input.composingTimeout), clearTimeout(n.input.lastIOSEnterFallbackTimeout) } function UC(n) { n.someProp("handleDOMEvents", e => { for (let t in e) n.input.eventHandlers[t] || n.dom.addEventListener(t, n.input.eventHandlers[t] = r => ME(n, r)) }) } function ME(n, e) { return n.someProp("handleDOMEvents", t => { let r = t[e.type]; return r ? r(n, e) || e.defaultPrevented : !1 }) } function QZ(n, e) { if (!e.bubbles) return !0; if (e.defaultPrevented) return !1; for (let t = e.target; t != n.dom; t = t.parentNode)if (!t || t.nodeType == 11 || t.pmViewDesc && t.pmViewDesc.stopEvent(e)) return !1; return !0 } function DZ(n, e) { !ME(n, e) && zl[e.type] && (n.editable || !(e.type in Kl)) && zl[e.type](n, e) } Kl.keydown = (n, e) => { let t = e; if (n.input.shiftKey = t.keyCode == 16 || t.shiftKey, !FL(n, t) && (n.input.lastKeyCode = t.keyCode, n.input.lastKeyCodeTime = Date.now(), !(ff && Cl && t.keyCode == 13))) if (t.keyCode != 229 && n.domObserver.forceFlush(), Rg && t.keyCode == 13 && !t.ctrlKey && !t.altKey && !t.metaKey) { let r = Date.now(); n.input.lastIOSEnter = r, n.input.lastIOSEnterFallbackTimeout = setTimeout(() => { n.input.lastIOSEnter == r && (n.someProp("handleKeyDown", i => i(n, Fh(13, "Enter"))), n.input.lastIOSEnter = 0) }, 200) } else n.someProp("handleKeyDown", r => r(n, t)) || _Z(n, t) ? t.preventDefault() : hd(n, "key") }; Kl.keyup = (n, e) => { e.keyCode == 16 && (n.input.shiftKey = !1) }; Kl.keypress = (n, e) => { let t = e; if (FL(n, t) || !t.charCode || t.ctrlKey && !t.altKey || ac && t.metaKey) return; if (n.someProp("handleKeyPress", i => i(n, t))) { t.preventDefault(); return } let r = n.state.selection; if (!(r instanceof qn) || !r.$from.sameParent(r.$to)) { let i = String.fromCharCode(t.charCode), s = () => n.state.tr.insertText(i).scrollIntoView(); !/[\r\n]/.test(i) && !n.someProp("handleTextInput", a => a(n, r.$from.pos, r.$to.pos, i, s)) && n.dispatch(s()), t.preventDefault() } }; function Nb(n) { return { left: n.clientX, top: n.clientY } } function PZ(n, e) { let t = e.x - n.clientX, r = e.y - n.clientY; return t * t + r * r < 100 } function QE(n, e, t, r, i) { if (r == -1) return !1; let s = n.state.doc.resolve(r); for (let a = s.depth + 1; a > 0; a--)if (n.someProp(e, o => a > s.depth ? o(n, t, s.nodeAfter, s.before(a), i, !0) : o(n, t, s.node(a), s.before(a), i, !1))) return !0; return !1 } function bg(n, e, t) { if (n.focused || n.focus(), n.state.selection.eq(e)) return; let r = n.state.tr.setSelection(e); r.setMeta("pointer", !0), n.dispatch(r) } function HZ(n, e) { if (e == -1) return !1; let t = n.state.doc.resolve(e), r = t.nodeAfter; return r && r.isAtom && Un.isSelectable(r) ? (bg(n, new Un(t)), !0) : !1 } function jZ(n, e) { if (e == -1) return !1; let t = n.state.selection, r, i; t instanceof Un && (r = t.node); let s = n.state.doc.resolve(e); for (let a = s.depth + 1; a > 0; a--) { let o = a > s.depth ? s.nodeAfter : s.node(a); if (Un.isSelectable(o)) { r && t.$from.depth > 0 && a >= t.$from.depth && s.before(t.$from.depth + 1) == t.$from.pos ? i = s.before(t.$from.depth) : i = s.before(a); break } } return i != null ? (bg(n, Un.create(n.state.doc, i)), !0) : !1 } function zZ(n, e, t, r, i) { return QE(n, "handleClickOn", e, t, r) || n.someProp("handleClick", s => s(n, e, r)) || (i ? jZ(n, t) : HZ(n, t)) } function KZ(n, e, t, r) { return QE(n, "handleDoubleClickOn", e, t, r) || n.someProp("handleDoubleClick", i => i(n, e, r)) } function VZ(n, e, t, r) { return QE(n, "handleTripleClickOn", e, t, r) || n.someProp("handleTripleClick", i => i(n, e, r)) || GZ(n, t, r) } function GZ(n, e, t) { if (t.button != 0) return !1; let r = n.state.doc; if (e == -1) return r.inlineContent ? (bg(n, qn.create(r, 0, r.content.size)), !0) : !1; let i = r.resolve(e); for (let s = i.depth + 1; s > 0; s--) { let a = s > i.depth ? i.nodeAfter : i.node(s), o = i.before(s); if (a.inlineContent) bg(n, qn.create(r, o + 1, o + 1 + a.content.size)); else if (Un.isSelectable(a)) bg(n, Un.create(r, o)); else continue; return !0 } } function DE(n) { return tw(n) } const TL = ac ? "metaKey" : "ctrlKey"; zl.mousedown = (n, e) => { let t = e; n.input.shiftKey = t.shiftKey; let r = DE(n), i = Date.now(), s = "singleClick"; i - n.input.lastClick.time < 500 && PZ(t, n.input.lastClick) && !t[TL] && n.input.lastClick.button == t.button && (n.input.lastClick.type == "singleClick" ? s = "doubleClick" : n.input.lastClick.type == "doubleClick" && (s = "tripleClick")), n.input.lastClick = { time: i, x: t.clientX, y: t.clientY, type: s, button: t.button }; let a = n.posAtCoords(Nb(t)); a && (s == "singleClick" ? (n.input.mouseDown && n.input.mouseDown.done(), n.input.mouseDown = new WZ(n, a, t, !!r)) : (s == "doubleClick" ? KZ : VZ)(n, a.pos, a.inside, t) ? t.preventDefault() : hd(n, "pointer")) }; class WZ { constructor(e, t, r, i) { this.view = e, this.pos = t, this.event = r, this.flushed = i, this.delayedSelectionSync = !1, this.mightDrag = null, this.startDoc = e.state.doc, this.selectNode = !!r[TL], this.allowDefault = r.shiftKey; let s, a; if (t.inside > -1) s = e.state.doc.nodeAt(t.inside), a = t.inside; else { let f = e.state.doc.resolve(t.pos); s = f.parent, a = f.depth ? f.before() : 0 } const o = i ? null : r.target, A = o ? e.docView.nearestDesc(o, !0) : null; this.target = A && A.nodeDOM.nodeType == 1 ? A.nodeDOM : null; let { selection: u } = e.state; (r.button == 0 && s.type.spec.draggable && s.type.spec.selectable !== !1 || u instanceof Un && u.from <= a && u.to > a) && (this.mightDrag = { node: s, pos: a, addAttr: !!(this.target && !this.target.draggable), setUneditable: !!(this.target && gc && !this.target.hasAttribute("contentEditable")) }), this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable) && (this.view.domObserver.stop(), this.mightDrag.addAttr && (this.target.draggable = !0), this.mightDrag.setUneditable && setTimeout(() => { this.view.input.mouseDown == this && this.target.setAttribute("contentEditable", "false") }, 20), this.view.domObserver.start()), e.root.addEventListener("mouseup", this.up = this.up.bind(this)), e.root.addEventListener("mousemove", this.move = this.move.bind(this)), hd(e, "pointer") } done() { this.view.root.removeEventListener("mouseup", this.up), this.view.root.removeEventListener("mousemove", this.move), this.mightDrag && this.target && (this.view.domObserver.stop(), this.mightDrag.addAttr && this.target.removeAttribute("draggable"), this.mightDrag.setUneditable && this.target.removeAttribute("contentEditable"), this.view.domObserver.start()), this.delayedSelectionSync && setTimeout(() => pf(this.view)), this.view.input.mouseDown = null } up(e) { if (this.done(), !this.view.dom.contains(e.target)) return; let t = this.pos; this.view.state.doc != this.startDoc && (t = this.view.posAtCoords(Nb(e))), this.updateAllowDefault(e), this.allowDefault || !t ? hd(this.view, "pointer") : zZ(this.view, t.pos, t.inside, e, this.selectNode) ? e.preventDefault() : e.button == 0 && (this.flushed || jl && this.mightDrag && !this.mightDrag.node.isAtom || Cl && !this.view.state.selection.visible && Math.min(Math.abs(t.pos - this.view.state.selection.from), Math.abs(t.pos - this.view.state.selection.to)) <= 2) ? (bg(this.view, mr.near(this.view.state.doc.resolve(t.pos))), e.preventDefault()) : hd(this.view, "pointer") } move(e) { this.updateAllowDefault(e), hd(this.view, "pointer"), e.buttons == 0 && this.done() } updateAllowDefault(e) { !this.allowDefault && (Math.abs(this.event.x - e.clientX) > 4 || Math.abs(this.event.y - e.clientY) > 4) && (this.allowDefault = !0) } } zl.touchstart = n => { n.input.lastTouch = Date.now(), DE(n), hd(n, "pointer") }; zl.touchmove = n => { n.input.lastTouch = Date.now(), hd(n, "pointer") }; zl.contextmenu = n => DE(n); function FL(n, e) { return n.composing ? !0 : jl && Math.abs(e.timeStamp - n.input.compositionEndedAt) < 500 ? (n.input.compositionEndedAt = -2e8, !0) : !1 } const YZ = ff ? 5e3 : -1; Kl.compositionstart = Kl.compositionupdate = n => { if (!n.composing) { n.domObserver.flush(); let { state: e } = n, t = e.selection.$to; if (e.selection instanceof qn && (e.storedMarks || !t.textOffset && t.parentOffset && t.nodeBefore.marks.some(r => r.type.spec.inclusive === !1))) n.markCursor = n.state.storedMarks || t.marks(), tw(n, !0), n.markCursor = null; else if (tw(n, !e.selection.empty), gc && e.selection.empty && t.parentOffset && !t.textOffset && t.nodeBefore.marks.length) { let r = n.domSelectionRange(); for (let i = r.focusNode, s = r.focusOffset; i && i.nodeType == 1 && s != 0;) { let a = s < 0 ? i.lastChild : i.childNodes[s - 1]; if (!a) break; if (a.nodeType == 3) { let o = n.domSelection(); o && o.collapse(a, a.nodeValue.length); break } else i = a, s = -1 } } n.input.composing = !0 } UL(n, YZ) }; Kl.compositionend = (n, e) => { n.composing && (n.input.composing = !1, n.input.compositionEndedAt = e.timeStamp, n.input.compositionPendingChanges = n.domObserver.pendingRecords().length ? n.input.compositionID : 0, n.input.compositionNode = null, n.input.compositionPendingChanges && Promise.resolve().then(() => n.domObserver.flush()), n.input.compositionID++, UL(n, 20)) }; function UL(n, e) { clearTimeout(n.input.composingTimeout), e > -1 && (n.input.composingTimeout = setTimeout(() => tw(n), e)) } function OL(n) { for (n.composing && (n.input.composing = !1, n.input.compositionEndedAt = XZ()); n.input.compositionNodes.length > 0;)n.input.compositionNodes.pop().markParentsDirty() } function JZ(n) { let e = n.domSelectionRange(); if (!e.focusNode) return null; let t = HX(e.focusNode, e.focusOffset), r = jX(e.focusNode, e.focusOffset); if (t && r && t != r) { let i = r.pmViewDesc, s = n.domObserver.lastChangedTextNode; if (t == s || r == s) return s; if (!i || !i.isText(r.nodeValue)) return r; if (n.input.compositionNode == r) { let a = t.pmViewDesc; if (!(!a || !a.isText(t.nodeValue))) return r } } return t || r } function XZ() { let n = document.createEvent("Event"); return n.initEvent("event", !0, !0), n.timeStamp } function tw(n, e = !1) { if (!(ff && n.domObserver.flushingSoon >= 0)) { if (n.domObserver.forceFlush(), OL(n), e || n.docView && n.docView.dirty) { let t = RE(n), r = n.state.selection; return t && !t.eq(r) ? n.dispatch(n.state.tr.setSelection(t)) : (n.markCursor || e) && !r.$from.node(r.$from.sharedDepth(r.to)).inlineContent ? n.dispatch(n.state.tr.deleteSelection()) : n.updateState(n.state), !0 } return !1 } } function ZZ(n, e) { if (!n.dom.parentNode) return; let t = n.dom.parentNode.appendChild(document.createElement("div")); t.appendChild(e), t.style.cssText = "position: fixed; left: -10000px; top: 10px"; let r = getSelection(), i = document.createRange(); i.selectNodeContents(e), n.dom.blur(), r.removeAllRanges(), r.addRange(i), setTimeout(() => { t.parentNode && t.parentNode.removeChild(t), n.focus() }, 50) } const L0 = gA && xd < 15 || Rg && WX < 604; zl.copy = Kl.cut = (n, e) => { let t = e, r = n.state.selection, i = t.type == "cut"; if (r.empty) return; let s = L0 ? null : t.clipboardData, a = r.content(), { dom: o, text: A } = LE(n, a); s ? (t.preventDefault(), s.clearData(), s.setData("text/html", o.innerHTML), s.setData("text/plain", A)) : ZZ(n, o), i && n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent", "cut")) }; function qZ(n) { return n.openStart == 0 && n.openEnd == 0 && n.content.childCount == 1 ? n.content.firstChild : null } function $Z(n, e) { if (!n.dom.parentNode) return; let t = n.input.shiftKey || n.state.selection.$from.parent.type.spec.code, r = n.dom.parentNode.appendChild(document.createElement(t ? "textarea" : "div")); t || (r.contentEditable = "true"), r.style.cssText = "position: fixed; left: -10000px; top: 10px", r.focus(); let i = n.input.shiftKey && n.input.lastKeyCode != 45; setTimeout(() => { n.focus(), r.parentNode && r.parentNode.removeChild(r), t ? M0(n, r.value, null, i, e) : M0(n, r.textContent, r.innerHTML, i, e) }, 50) } function M0(n, e, t, r, i) { let s = CL(n, e, t, r, n.state.selection.$from); if (n.someProp("handlePaste", A => A(n, i, s || Jt.empty))) return !0; if (!s) return !1; let a = qZ(s), o = a ? n.state.tr.replaceSelectionWith(a, r) : n.state.tr.replaceSelection(s); return n.dispatch(o.scrollIntoView().setMeta("paste", !0).setMeta("uiEvent", "paste")), !0 } function RL(n) { let e = n.getData("text/plain") || n.getData("Text"); if (e) return e; let t = n.getData("text/uri-list"); return t ? t.replace(/\r?\n/g, " ") : "" } Kl.paste = (n, e) => { let t = e; if (n.composing && !ff) return; let r = L0 ? null : t.clipboardData, i = n.input.shiftKey && n.input.lastKeyCode != 45; r && M0(n, RL(r), r.getData("text/html"), i, t) ? t.preventDefault() : $Z(n, t) }; class IL { constructor(e, t, r) { this.slice = e, this.move = t, this.node = r } } const eq = ac ? "altKey" : "ctrlKey"; function LL(n, e) { let t = n.someProp("dragCopies", r => !r(e)); return t ?? !e[eq] } zl.dragstart = (n, e) => { let t = e, r = n.input.mouseDown; if (r && r.done(), !t.dataTransfer) return; let i = n.state.selection, s = i.empty ? null : n.posAtCoords(Nb(t)), a; if (!(s && s.pos >= i.from && s.pos <= (i instanceof Un ? i.to - 1 : i.to))) { if (r && r.mightDrag) a = Un.create(n.state.doc, r.mightDrag.pos); else if (t.target && t.target.nodeType == 1) { let h = n.docView.nearestDesc(t.target, !0); h && h.node.type.spec.draggable && h != n.docView && (a = Un.create(n.state.doc, h.posBefore)) } } let o = (a || n.state.selection).content(), { dom: A, text: u, slice: f } = LE(n, o); (!t.dataTransfer.files.length || !Cl || lL > 120) && t.dataTransfer.clearData(), t.dataTransfer.setData(L0 ? "Text" : "text/html", A.innerHTML), t.dataTransfer.effectAllowed = "copyMove", L0 || t.dataTransfer.setData("text/plain", u), n.dragging = new IL(f, LL(n, t), a) }; zl.dragend = n => { let e = n.dragging; window.setTimeout(() => { n.dragging == e && (n.dragging = null) }, 50) }; Kl.dragover = Kl.dragenter = (n, e) => e.preventDefault(); Kl.drop = (n, e) => { let t = e, r = n.dragging; if (n.dragging = null, !t.dataTransfer) return; let i = n.posAtCoords(Nb(t)); if (!i) return; let s = n.state.doc.resolve(i.pos), a = r && r.slice; a ? n.someProp("transformPasted", b => { a = b(a, n, !1) }) : a = CL(n, RL(t.dataTransfer), L0 ? null : t.dataTransfer.getData("text/html"), !1, s); let o = !!(r && LL(n, t)); if (n.someProp("handleDrop", b => b(n, t, a || Jt.empty, o))) { t.preventDefault(); return } if (!a) return; t.preventDefault(); let A = a ? HI(n.state.doc, s.pos, a) : s.pos; A == null && (A = s.pos); let u = n.state.tr; if (o) { let { node: b } = r; b ? b.replace(u) : u.deleteSelection() } let f = u.mapping.map(A), h = a.openStart == 0 && a.openEnd == 0 && a.content.childCount == 1, m = u.doc; if (h ? u.replaceRangeWith(f, f, a.content.firstChild) : u.replaceRange(f, f, a), u.doc.eq(m)) return; let p = u.doc.resolve(f); if (h && Un.isSelectable(a.content.firstChild) && p.nodeAfter && p.nodeAfter.sameMarkup(a.content.firstChild)) u.setSelection(new Un(p)); else { let b = u.mapping.map(A); u.mapping.maps[u.mapping.maps.length - 1].forEach((y, E, _, O) => b = O), u.setSelection(IE(n, p, u.doc.resolve(b))) } n.focus(), n.dispatch(u.setMeta("uiEvent", "drop")) }; zl.focus = n => { n.input.lastFocus = Date.now(), n.focused || (n.domObserver.stop(), n.dom.classList.add("ProseMirror-focused"), n.domObserver.start(), n.focused = !0, setTimeout(() => { n.docView && n.hasFocus() && !n.domObserver.currentSelection.eq(n.domSelectionRange()) && pf(n) }, 20)) }; zl.blur = (n, e) => { let t = e; n.focused && (n.domObserver.stop(), n.dom.classList.remove("ProseMirror-focused"), n.domObserver.start(), t.relatedTarget && n.dom.contains(t.relatedTarget) && n.domObserver.currentSelection.clear(), n.focused = !1) }; zl.beforeinput = (n, e) => { if (Cl && ff && e.inputType == "deleteContentBackward") { n.domObserver.flushSoon(); let { domChangeCount: r } = n.input; setTimeout(() => { if (n.input.domChangeCount != r || (n.dom.blur(), n.focus(), n.someProp("handleKeyDown", s => s(n, Fh(8, "Backspace"))))) return; let { $cursor: i } = n.state.selection; i && i.pos > 0 && n.dispatch(n.state.tr.delete(i.pos - 1, i.pos).scrollIntoView()) }, 50) } }; for (let n in Kl) zl[n] = Kl[n]; function Q0(n, e) { if (n == e) return !0; for (let t in n) if (n[t] !== e[t]) return !1; for (let t in e) if (!(t in n)) return !1; return !0 } class nw { constructor(e, t) { this.toDOM = e, this.spec = t || zh, this.side = this.spec.side || 0 } map(e, t, r, i) { let { pos: s, deleted: a } = e.mapResult(t.from + i, this.side < 0 ? -1 : 1); return a ? null : new Pl(s - r, s - r, this) } valid() { return !0 } eq(e) { return this == e || e instanceof nw && (this.spec.key && this.spec.key == e.spec.key || this.toDOM == e.toDOM && Q0(this.spec, e.spec)) } destroy(e) { this.spec.destroy && this.spec.destroy(e) } } class Cd { constructor(e, t) { this.attrs = e, this.spec = t || zh } map(e, t, r, i) { let s = e.map(t.from + i, this.spec.inclusiveStart ? -1 : 1) - r, a = e.map(t.to + i, this.spec.inclusiveEnd ? 1 : -1) - r; return s >= a ? null : new Pl(s, a, this) } valid(e, t) { return t.from < t.to } eq(e) { return this == e || e instanceof Cd && Q0(this.attrs, e.attrs) && Q0(this.spec, e.spec) } static is(e) { return e.type instanceof Cd } destroy() { } } class PE { constructor(e, t) { this.attrs = e, this.spec = t || zh } map(e, t, r, i) { let s = e.mapResult(t.from + i, 1); if (s.deleted) return null; let a = e.mapResult(t.to + i, -1); return a.deleted || a.pos <= s.pos ? null : new Pl(s.pos - r, a.pos - r, this) } valid(e, t) { let { index: r, offset: i } = e.content.findIndex(t.from), s; return i == t.from && !(s = e.child(r)).isText && i + s.nodeSize == t.to } eq(e) { return this == e || e instanceof PE && Q0(this.attrs, e.attrs) && Q0(this.spec, e.spec) } destroy() { } } class Pl { constructor(e, t, r) { this.from = e, this.to = t, this.type = r } copy(e, t) { return new Pl(e, t, this.type) } eq(e, t = 0) { return this.type.eq(e.type) && this.from + t == e.from && this.to + t == e.to } map(e, t, r) { return this.type.map(e, this, t, r) } static widget(e, t, r) { return new Pl(e, e, new nw(t, r)) } static inline(e, t, r, i) { return new Pl(e, t, new Cd(r, i)) } static node(e, t, r, i) { return new Pl(e, t, new PE(r, i)) } get spec() { return this.type.spec } get inline() { return this.type instanceof Cd } get widget() { return this.type instanceof nw } } const og = [], zh = {}; class Os { constructor(e, t) { this.local = e.length ? e : og, this.children = t.length ? t : og } static create(e, t) { return t.length ? rw(t, e, 0, zh) : xl } find(e, t, r) { let i = []; return this.findInner(e ?? 0, t ?? 1e9, i, 0, r), i } findInner(e, t, r, i, s) { for (let a = 0; a < this.local.length; a++) { let o = this.local[a]; o.from <= t && o.to >= e && (!s || s(o.spec)) && r.push(o.copy(o.from + i, o.to + i)) } for (let a = 0; a < this.children.length; a += 3)if (this.children[a] < t && this.children[a + 1] > e) { let o = this.children[a] + 1; this.children[a + 2].findInner(e - o, t - o, r, i + o, s) } } map(e, t, r) { return this == xl || e.maps.length == 0 ? this : this.mapInner(e, t, 0, 0, r || zh) } mapInner(e, t, r, i, s) { let a; for (let o = 0; o < this.local.length; o++) { let A = this.local[o].map(e, r, i); A && A.type.valid(t, A) ? (a || (a = [])).push(A) : s.onRemove && s.onRemove(this.local[o].spec) } return this.children.length ? tq(this.children, a || [], e, t, r, i, s) : a ? new Os(a.sort(Kh), og) : xl } add(e, t) { return t.length ? this == xl ? Os.create(e, t) : this.addInner(e, t, 0) : this } addInner(e, t, r) { let i, s = 0; e.forEach((o, A) => { let u = A + r, f; if (f = QL(t, o, u)) { for (i || (i = this.children.slice()); s < i.length && i[s] < A;)s += 3; i[s] == A ? i[s + 2] = i[s + 2].addInner(o, f, u + 1) : i.splice(s, 0, A, A + o.nodeSize, rw(f, o, u + 1, zh)), s += 3 } }); let a = ML(s ? DL(t) : t, -r); for (let o = 0; o < a.length; o++)a[o].type.valid(e, a[o]) || a.splice(o--, 1); return new Os(a.length ? this.local.concat(a).sort(Kh) : this.local, i || this.children) } remove(e) { return e.length == 0 || this == xl ? this : this.removeInner(e, 0) } removeInner(e, t) { let r = this.children, i = this.local; for (let s = 0; s < r.length; s += 3) { let a, o = r[s] + t, A = r[s + 1] + t; for (let f = 0, h; f < e.length; f++)(h = e[f]) && h.from > o && h.to < A && (e[f] = null, (a || (a = [])).push(h)); if (!a) continue; r == this.children && (r = this.children.slice()); let u = r[s + 2].removeInner(a, o + 1); u != xl ? r[s + 2] = u : (r.splice(s, 3), s -= 3) } if (i.length) { for (let s = 0, a; s < e.length; s++)if (a = e[s]) for (let o = 0; o < i.length; o++)i[o].eq(a, t) && (i == this.local && (i = this.local.slice()), i.splice(o--, 1)) } return r == this.children && i == this.local ? this : i.length || r.length ? new Os(i, r) : xl } forChild(e, t) { if (this == xl) return this; if (t.isLeaf) return Os.empty; let r, i; for (let o = 0; o < this.children.length; o += 3)if (this.children[o] >= e) { this.children[o] == e && (r = this.children[o + 2]); break } let s = e + 1, a = s + t.content.size; for (let o = 0; o < this.local.length; o++) { let A = this.local[o]; if (A.from < a && A.to > s && A.type instanceof Cd) { let u = Math.max(s, A.from) - s, f = Math.min(a, A.to) - s; u < f && (i || (i = [])).push(A.copy(u, f)) } } if (i) { let o = new Os(i.sort(Kh), og); return r ? new cd([o, r]) : o } return r || xl } eq(e) { if (this == e) return !0; if (!(e instanceof Os) || this.local.length != e.local.length || this.children.length != e.children.length) return !1; for (let t = 0; t < this.local.length; t++)if (!this.local[t].eq(e.local[t])) return !1; for (let t = 0; t < this.children.length; t += 3)if (this.children[t] != e.children[t] || this.children[t + 1] != e.children[t + 1] || !this.children[t + 2].eq(e.children[t + 2])) return !1; return !0 } locals(e) { return HE(this.localsInner(e)) } localsInner(e) { if (this == xl) return og; if (e.inlineContent || !this.local.some(Cd.is)) return this.local; let t = []; for (let r = 0; r < this.local.length; r++)this.local[r].type instanceof Cd || t.push(this.local[r]); return t } forEachSet(e) { e(this) } } Os.empty = new Os([], []); Os.removeOverlap = HE; const xl = Os.empty; class cd { constructor(e) { this.members = e } map(e, t) { const r = this.members.map(i => i.map(e, t, zh)); return cd.from(r) } forChild(e, t) { if (t.isLeaf) return Os.empty; let r = []; for (let i = 0; i < this.members.length; i++) { let s = this.members[i].forChild(e, t); s != xl && (s instanceof cd ? r = r.concat(s.members) : r.push(s)) } return cd.from(r) } eq(e) { if (!(e instanceof cd) || e.members.length != this.members.length) return !1; for (let t = 0; t < this.members.length; t++)if (!this.members[t].eq(e.members[t])) return !1; return !0 } locals(e) { let t, r = !0; for (let i = 0; i < this.members.length; i++) { let s = this.members[i].localsInner(e); if (s.length) if (!t) t = s; else { r && (t = t.slice(), r = !1); for (let a = 0; a < s.length; a++)t.push(s[a]) } } return t ? HE(r ? t : t.sort(Kh)) : og } static from(e) { switch (e.length) { case 0: return xl; case 1: return e[0]; default: return new cd(e.every(t => t instanceof Os) ? e : e.reduce((t, r) => t.concat(r instanceof Os ? r : r.members), [])) } } forEachSet(e) { for (let t = 0; t < this.members.length; t++)this.members[t].forEachSet(e) } } function tq(n, e, t, r, i, s, a) { let o = n.slice(); for (let u = 0, f = s; u < t.maps.length; u++) { let h = 0; t.maps[u].forEach((m, p, b, y) => { let E = y - b - (p - m); for (let _ = 0; _ < o.length; _ += 3) { let O = o[_ + 1]; if (O < 0 || m > O + f - h) continue; let I = o[_] + f - h; p >= I ? o[_ + 1] = m <= I ? -2 : -1 : m >= f && E && (o[_] += E, o[_ + 1] += E) } h += E }), f = t.maps[u].map(f, -1) } let A = !1; for (let u = 0; u < o.length; u += 3)if (o[u + 1] < 0) { if (o[u + 1] == -2) { A = !0, o[u + 1] = -1; continue } let f = t.map(n[u] + s), h = f - i; if (h < 0 || h >= r.content.size) { A = !0; continue } let m = t.map(n[u + 1] + s, -1), p = m - i, { index: b, offset: y } = r.content.findIndex(h), E = r.maybeChild(b); if (E && y == h && y + E.nodeSize == p) { let _ = o[u + 2].mapInner(t, E, f + 1, n[u] + s + 1, a); _ != xl ? (o[u] = h, o[u + 1] = p, o[u + 2] = _) : (o[u + 1] = -2, A = !0) } else A = !0 } if (A) { let u = nq(o, n, e, t, i, s, a), f = rw(u, r, 0, a); e = f.local; for (let h = 0; h < o.length; h += 3)o[h + 1] < 0 && (o.splice(h, 3), h -= 3); for (let h = 0, m = 0; h < f.children.length; h += 3) { let p = f.children[h]; for (; m < o.length && o[m] < p;)m += 3; o.splice(m, 0, f.children[h], f.children[h + 1], f.children[h + 2]) } } return new Os(e.sort(Kh), o) } function ML(n, e) { if (!e || !n.length) return n; let t = []; for (let r = 0; r < n.length; r++) { let i = n[r]; t.push(new Pl(i.from + e, i.to + e, i.type)) } return t } function nq(n, e, t, r, i, s, a) { function o(A, u) { for (let f = 0; f < A.local.length; f++) { let h = A.local[f].map(r, i, u); h ? t.push(h) : a.onRemove && a.onRemove(A.local[f].spec) } for (let f = 0; f < A.children.length; f += 3)o(A.children[f + 2], A.children[f] + u + 1) } for (let A = 0; A < n.length; A += 3)n[A + 1] == -1 && o(n[A + 2], e[A] + s + 1); return t } function QL(n, e, t) { if (e.isLeaf) return null; let r = t + e.nodeSize, i = null; for (let s = 0, a; s < n.length; s++)(a = n[s]) && a.from > t && a.to < r && ((i || (i = [])).push(a), n[s] = null); return i } function DL(n) { let e = []; for (let t = 0; t < n.length; t++)n[t] != null && e.push(n[t]); return e } function rw(n, e, t, r) { let i = [], s = !1; e.forEach((o, A) => { let u = QL(n, o, A + t); if (u) { s = !0; let f = rw(u, o, t + A + 1, r); f != xl && i.push(A, A + o.nodeSize, f) } }); let a = ML(s ? DL(n) : n, -t).sort(Kh); for (let o = 0; o < a.length; o++)a[o].type.valid(e, a[o]) || (r.onRemove && r.onRemove(a[o].spec), a.splice(o--, 1)); return a.length || i.length ? new Os(a, i) : xl } function Kh(n, e) { return n.from - e.from || n.to - e.to } function HE(n) { let e = n; for (let t = 0; t < e.length - 1; t++) { let r = e[t]; if (r.from != r.to) for (let i = t + 1; i < e.length; i++) { let s = e[i]; if (s.from == r.from) { s.to != r.to && (e == n && (e = n.slice()), e[i] = s.copy(s.from, r.to), kk(e, i + 1, s.copy(r.to, s.to))); continue } else { s.from < r.to && (e == n && (e = n.slice()), e[t] = r.copy(r.from, s.from), kk(e, i, r.copy(s.from, r.to))); break } } } return e } function kk(n, e, t) { for (; e < n.length && Kh(t, n[e]) > 0;)e++; n.splice(e, 0, t) } function Ox(n) { let e = []; return n.someProp("decorations", t => { let r = t(n.state); r && r != xl && e.push(r) }), n.cursorWrapper && e.push(Os.create(n.state.doc, [n.cursorWrapper.deco])), cd.from(e) } const rq = { childList: !0, characterData: !0, characterDataOldValue: !0, attributes: !0, attributeOldValue: !0, subtree: !0 }, iq = gA && xd <= 11; class sq { constructor() { this.anchorNode = null, this.anchorOffset = 0, this.focusNode = null, this.focusOffset = 0 } set(e) { this.anchorNode = e.anchorNode, this.anchorOffset = e.anchorOffset, this.focusNode = e.focusNode, this.focusOffset = e.focusOffset } clear() { this.anchorNode = this.focusNode = null } eq(e) { return e.anchorNode == this.anchorNode && e.anchorOffset == this.anchorOffset && e.focusNode == this.focusNode && e.focusOffset == this.focusOffset } } class aq { constructor(e, t) { this.view = e, this.handleDOMChange = t, this.queue = [], this.flushingSoon = -1, this.observer = null, this.currentSelection = new sq, this.onCharData = null, this.suppressingSelectionUpdates = !1, this.lastChangedTextNode = null, this.observer = window.MutationObserver && new window.MutationObserver(r => { for (let i = 0; i < r.length; i++)this.queue.push(r[i]); gA && xd <= 11 && r.some(i => i.type == "childList" && i.removedNodes.length || i.type == "characterData" && i.oldValue.length > i.target.nodeValue.length) ? this.flushSoon() : this.flush() }), iq && (this.onCharData = r => { this.queue.push({ target: r.target, type: "characterData", oldValue: r.prevValue }), this.flushSoon() }), this.onSelectionChange = this.onSelectionChange.bind(this) } flushSoon() { this.flushingSoon < 0 && (this.flushingSoon = window.setTimeout(() => { this.flushingSoon = -1, this.flush() }, 20)) } forceFlush() { this.flushingSoon > -1 && (window.clearTimeout(this.flushingSoon), this.flushingSoon = -1, this.flush()) } start() { this.observer && (this.observer.takeRecords(), this.observer.observe(this.view.dom, rq)), this.onCharData && this.view.dom.addEventListener("DOMCharacterDataModified", this.onCharData), this.connectSelection() } stop() { if (this.observer) { let e = this.observer.takeRecords(); if (e.length) { for (let t = 0; t < e.length; t++)this.queue.push(e[t]); window.setTimeout(() => this.flush(), 20) } this.observer.disconnect() } this.onCharData && this.view.dom.removeEventListener("DOMCharacterDataModified", this.onCharData), this.disconnectSelection() } connectSelection() { this.view.dom.ownerDocument.addEventListener("selectionchange", this.onSelectionChange) } disconnectSelection() { this.view.dom.ownerDocument.removeEventListener("selectionchange", this.onSelectionChange) } suppressSelectionUpdates() { this.suppressingSelectionUpdates = !0, setTimeout(() => this.suppressingSelectionUpdates = !1, 50) } onSelectionChange() { if (bk(this.view)) { if (this.suppressingSelectionUpdates) return pf(this.view); if (gA && xd <= 11 && !this.view.state.selection.empty) { let e = this.view.domSelectionRange(); if (e.focusNode && rp(e.focusNode, e.focusOffset, e.anchorNode, e.anchorOffset)) return this.flushSoon() } this.flush() } } setCurSelection() { this.currentSelection.set(this.view.domSelectionRange()) } ignoreSelectionChange(e) { if (!e.focusNode) return !0; let t = new Set, r; for (let s = e.focusNode; s; s = Og(s))t.add(s); for (let s = e.anchorNode; s; s = Og(s))if (t.has(s)) { r = s; break } let i = r && this.view.docView.nearestDesc(r); if (i && i.ignoreMutation({ type: "selection", target: r.nodeType == 3 ? r.parentNode : r })) return this.setCurSelection(), !0 } pendingRecords() { if (this.observer) for (let e of this.observer.takeRecords()) this.queue.push(e); return this.queue } flush() { let { view: e } = this; if (!e.docView || this.flushingSoon > -1) return; let t = this.pendingRecords(); t.length && (this.queue = []); let r = e.domSelectionRange(), i = !this.suppressingSelectionUpdates && !this.currentSelection.eq(r) && bk(e) && !this.ignoreSelectionChange(r), s = -1, a = -1, o = !1, A = []; if (e.editable) for (let f = 0; f < t.length; f++) { let h = this.registerMutation(t[f], A); h && (s = s < 0 ? h.from : Math.min(h.from, s), a = a < 0 ? h.to : Math.max(h.to, a), h.typeOver && (o = !0)) } if (gc && A.length) { let f = A.filter(h => h.nodeName == "BR"); if (f.length == 2) { let [h, m] = f; h.parentNode && h.parentNode.parentNode == m.parentNode ? m.remove() : h.remove() } else { let { focusNode: h } = this.currentSelection; for (let m of f) { let p = m.parentNode; p && p.nodeName == "LI" && (!h || Aq(e, h) != p) && m.remove() } } } let u = null; s < 0 && i && e.input.lastFocus > Date.now() - 200 && Math.max(e.input.lastTouch, e.input.lastClick.time) < Date.now() - 300 && Sb(r) && (u = RE(e)) && u.eq(mr.near(e.state.doc.resolve(0), 1)) ? (e.input.lastFocus = 0, pf(e), this.currentSelection.set(r), e.scrollToSelection()) : (s > -1 || i) && (s > -1 && (e.docView.markDirty(s, a), oq(e)), this.handleDOMChange(s, a, o, A), e.docView && e.docView.dirty ? e.updateState(e.state) : this.currentSelection.eq(r) || pf(e), this.currentSelection.set(r)) } registerMutation(e, t) { if (t.indexOf(e.target) > -1) return null; let r = this.view.docView.nearestDesc(e.target); if (e.type == "attributes" && (r == this.view.docView || e.attributeName == "contenteditable" || e.attributeName == "style" && !e.oldValue && !e.target.getAttribute("style")) || !r || r.ignoreMutation(e)) return null; if (e.type == "childList") { for (let f = 0; f < e.addedNodes.length; f++) { let h = e.addedNodes[f]; t.push(h), h.nodeType == 3 && (this.lastChangedTextNode = h) } if (r.contentDOM && r.contentDOM != r.dom && !r.contentDOM.contains(e.target)) return { from: r.posBefore, to: r.posAfter }; let i = e.previousSibling, s = e.nextSibling; if (gA && xd <= 11 && e.addedNodes.length) for (let f = 0; f < e.addedNodes.length; f++) { let { previousSibling: h, nextSibling: m } = e.addedNodes[f]; (!h || Array.prototype.indexOf.call(e.addedNodes, h) < 0) && (i = h), (!m || Array.prototype.indexOf.call(e.addedNodes, m) < 0) && (s = m) } let a = i && i.parentNode == e.target ? $o(i) + 1 : 0, o = r.localPosFromDOM(e.target, a, -1), A = s && s.parentNode == e.target ? $o(s) : e.target.childNodes.length, u = r.localPosFromDOM(e.target, A, 1); return { from: o, to: u } } else return e.type == "attributes" ? { from: r.posAtStart - r.border, to: r.posAtEnd + r.border } : (this.lastChangedTextNode = e.target, { from: r.posAtStart, to: r.posAtEnd, typeOver: e.target.nodeValue == e.oldValue }) } } let Tk = new WeakMap, Fk = !1; function oq(n) { if (!Tk.has(n) && (Tk.set(n, null), ["normal", "nowrap", "pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace) !== -1)) { if (n.requiresGeckoHackNode = gc, Fk) return; console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."), Fk = !0 } } function Uk(n, e) { let t = e.startContainer, r = e.startOffset, i = e.endContainer, s = e.endOffset, a = n.domAtPos(n.state.selection.anchor); return rp(a.node, a.offset, i, s) && ([t, r, i, s] = [i, s, t, r]), { anchorNode: t, anchorOffset: r, focusNode: i, focusOffset: s } } function lq(n, e) { if (e.getComposedRanges) { let i = e.getComposedRanges(n.root)[0]; if (i) return Uk(n, i) } let t; function r(i) { i.preventDefault(), i.stopImmediatePropagation(), t = i.getTargetRanges()[0] } return n.dom.addEventListener("beforeinput", r, !0), document.execCommand("indent"), n.dom.removeEventListener("beforeinput", r, !0), t ? Uk(n, t) : null } function Aq(n, e) { for (let t = e.parentNode; t && t != n.dom; t = t.parentNode) { let r = n.docView.nearestDesc(t, !0); if (r && r.node.isBlock) return t } return null } function cq(n, e, t) { let { node: r, fromOffset: i, toOffset: s, from: a, to: o } = n.docView.parseRange(e, t), A = n.domSelectionRange(), u, f = A.anchorNode; if (f && n.dom.contains(f.nodeType == 1 ? f : f.parentNode) && (u = [{ node: f, offset: A.anchorOffset }], Sb(A) || u.push({ node: A.focusNode, offset: A.focusOffset })), Cl && n.input.lastKeyCode === 8) for (let E = s; E > i; E--) { let _ = r.childNodes[E - 1], O = _.pmViewDesc; if (_.nodeName == "BR" && !O) { s = E; break } if (!O || O.size) break } let h = n.state.doc, m = n.someProp("domParser") || bd.fromSchema(n.state.schema), p = h.resolve(a), b = null, y = m.parse(r, { topNode: p.parent, topMatch: p.parent.contentMatchAt(p.index()), topOpen: !0, from: i, to: s, preserveWhitespace: p.parent.type.whitespace == "pre" ? "full" : !0, findPositions: u, ruleFromNode: uq, context: p }); if (u && u[0].pos != null) { let E = u[0].pos, _ = u[1] && u[1].pos; _ == null && (_ = E), b = { anchor: E + a, head: _ + a } } return { doc: y, sel: b, from: a, to: o } } function uq(n) { let e = n.pmViewDesc; if (e) return e.parseRule(); if (n.nodeName == "BR" && n.parentNode) { if (jl && /^(ul|ol)$/i.test(n.parentNode.nodeName)) { let t = document.createElement("div"); return t.appendChild(document.createElement("li")), { skip: t } } else if (n.parentNode.lastChild == n || jl && /^(tr|table)$/i.test(n.parentNode.nodeName)) return { ignore: !0 } } else if (n.nodeName == "IMG" && n.getAttribute("mark-placeholder")) return { ignore: !0 }; return null } const fq = /^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i; function dq(n, e, t, r, i) { let s = n.input.compositionPendingChanges || (n.composing ? n.input.compositionID : 0); if (n.input.compositionPendingChanges = 0, e < 0) { let q = n.input.lastSelectionTime > Date.now() - 50 ? n.input.lastSelectionOrigin : null, W = RE(n, q); if (W && !n.state.selection.eq(W)) { if (Cl && ff && n.input.lastKeyCode === 13 && Date.now() - 100 < n.input.lastKeyCodeTime && n.someProp("handleKeyDown", fe => fe(n, Fh(13, "Enter")))) return; let G = n.state.tr.setSelection(W); q == "pointer" ? G.setMeta("pointer", !0) : q == "key" && G.scrollIntoView(), s && G.setMeta("composition", s), n.dispatch(G) } return } let a = n.state.doc.resolve(e), o = a.sharedDepth(t); e = a.before(o + 1), t = n.state.doc.resolve(t).after(o + 1); let A = n.state.selection, u = cq(n, e, t), f = n.state.doc, h = f.slice(u.from, u.to), m, p; n.input.lastKeyCode === 8 && Date.now() - 100 < n.input.lastKeyCodeTime ? (m = n.state.selection.to, p = "end") : (m = n.state.selection.from, p = "start"), n.input.lastKeyCode = null; let b = gq(h.content, u.doc.content, u.from, m, p); if (b && n.input.domChangeCount++, (Rg && n.input.lastIOSEnter > Date.now() - 225 || ff) && i.some(q => q.nodeType == 1 && !fq.test(q.nodeName)) && (!b || b.endA >= b.endB) && n.someProp("handleKeyDown", q => q(n, Fh(13, "Enter")))) { n.input.lastIOSEnter = 0; return } if (!b) if (r && A instanceof qn && !A.empty && A.$head.sameParent(A.$anchor) && !n.composing && !(u.sel && u.sel.anchor != u.sel.head)) b = { start: A.from, endA: A.to, endB: A.to }; else { if (u.sel) { let q = Ok(n, n.state.doc, u.sel); if (q && !q.eq(n.state.selection)) { let W = n.state.tr.setSelection(q); s && W.setMeta("composition", s), n.dispatch(W) } } return } n.state.selection.from < n.state.selection.to && b.start == b.endB && n.state.selection instanceof qn && (b.start > n.state.selection.from && b.start <= n.state.selection.from + 2 && n.state.selection.from >= u.from ? b.start = n.state.selection.from : b.endA < n.state.selection.to && b.endA >= n.state.selection.to - 2 && n.state.selection.to <= u.to && (b.endB += n.state.selection.to - b.endA, b.endA = n.state.selection.to)), gA && xd <= 11 && b.endB == b.start + 1 && b.endA == b.start && b.start > u.from && u.doc.textBetween(b.start - u.from - 1, b.start - u.from + 1) == " " && (b.start--, b.endA--, b.endB--); let y = u.doc.resolveNoCache(b.start - u.from), E = u.doc.resolveNoCache(b.endB - u.from), _ = f.resolve(b.start), O = y.sameParent(E) && y.parent.inlineContent && _.end() >= b.endA; if ((Rg && n.input.lastIOSEnter > Date.now() - 225 && (!O || i.some(q => q.nodeName == "DIV" || q.nodeName == "P")) || !O && y.pos < u.doc.content.size && (!y.sameParent(E) || !y.parent.inlineContent) && y.pos < E.pos && !/\S/.test(u.doc.textBetween(y.pos, E.pos, "", ""))) && n.someProp("handleKeyDown", q => q(n, Fh(13, "Enter")))) { n.input.lastIOSEnter = 0; return } if (n.state.selection.anchor > b.start && pq(f, b.start, b.endA, y, E) && n.someProp("handleKeyDown", q => q(n, Fh(8, "Backspace")))) { ff && Cl && n.domObserver.suppressSelectionUpdates(); return } Cl && b.endB == b.start && (n.input.lastChromeDelete = Date.now()), ff && !O && y.start() != E.start() && E.parentOffset == 0 && y.depth == E.depth && u.sel && u.sel.anchor == u.sel.head && u.sel.head == b.endA && (b.endB -= 2, E = u.doc.resolveNoCache(b.endB - u.from), setTimeout(() => { n.someProp("handleKeyDown", function (q) { return q(n, Fh(13, "Enter")) }) }, 20)); let I = b.start, D = b.endA, z = q => { let W = q || n.state.tr.replace(I, D, u.doc.slice(b.start - u.from, b.endB - u.from)); if (u.sel) { let G = Ok(n, W.doc, u.sel); G && !(Cl && n.composing && G.empty && (b.start != b.endB || n.input.lastChromeDelete < Date.now() - 100) && (G.head == I || G.head == W.mapping.map(D) - 1) || gA && G.empty && G.head == I) && W.setSelection(G) } return s && W.setMeta("composition", s), W.scrollIntoView() }, X; if (O) if (y.pos == E.pos) { gA && xd <= 11 && y.parentOffset == 0 && (n.domObserver.suppressSelectionUpdates(), setTimeout(() => pf(n), 20)); let q = z(n.state.tr.delete(I, D)), W = f.resolve(b.start).marksAcross(f.resolve(b.endA)); W && q.ensureMarks(W), n.dispatch(q) } else if (b.endA == b.endB && (X = hq(y.parent.content.cut(y.parentOffset, E.parentOffset), _.parent.content.cut(_.parentOffset, b.endA - _.start())))) { let q = z(n.state.tr); X.type == "add" ? q.addMark(I, D, X.mark) : q.removeMark(I, D, X.mark), n.dispatch(q) } else if (y.parent.child(y.index()).isText && y.index() == E.index() - (E.textOffset ? 0 : 1)) { let q = y.parent.textBetween(y.parentOffset, E.parentOffset), W = () => z(n.state.tr.insertText(q, I, D)); n.someProp("handleTextInput", G => G(n, I, D, q, W)) || n.dispatch(W()) } else n.dispatch(z()); else n.dispatch(z()) } function Ok(n, e, t) { return Math.max(t.anchor, t.head) > e.content.size ? null : IE(n, e.resolve(t.anchor), e.resolve(t.head)) } function hq(n, e) { let t = n.firstChild.marks, r = e.firstChild.marks, i = t, s = r, a, o, A; for (let f = 0; f < r.length; f++)i = r[f].removeFromSet(i); for (let f = 0; f < t.length; f++)s = t[f].removeFromSet(s); if (i.length == 1 && s.length == 0) o = i[0], a = "add", A = f => f.mark(o.addToSet(f.marks)); else if (i.length == 0 && s.length == 1) o = s[0], a = "remove", A = f => f.mark(o.removeFromSet(f.marks)); else return null; let u = []; for (let f = 0; f < e.childCount; f++)u.push(A(e.child(f))); if (kt.from(u).eq(n)) return { mark: o, type: a } } function pq(n, e, t, r, i) { if (t - e <= i.pos - r.pos || Rx(r, !0, !1) < i.pos) return !1; let s = n.resolve(e); if (!r.parent.isTextblock) { let o = s.nodeAfter; return o != null && t == e + o.nodeSize } if (s.parentOffset < s.parent.content.size || !s.parent.isTextblock) return !1; let a = n.resolve(Rx(s, !0, !0)); return !a.parent.isTextblock || a.pos > t || Rx(a, !0, !1) < t ? !1 : r.parent.content.cut(r.parentOffset).eq(a.parent.content) } function Rx(n, e, t) { let r = n.depth, i = e ? n.end() : n.pos; for (; r > 0 && (e || n.indexAfter(r) == n.node(r).childCount);)r--, i++, e = !1; if (t) { let s = n.node(r).maybeChild(n.indexAfter(r)); for (; s && !s.isLeaf;)s = s.firstChild, i++ } return i } function gq(n, e, t, r, i) { let s = n.findDiffStart(e, t); if (s == null) return null; let { a, b: o } = n.findDiffEnd(e, t + n.size, t + e.size); if (i == "end") { let A = Math.max(0, s - Math.min(a, o)); r -= a + A - s } if (a < s && n.size < e.size) { let A = r <= s && r >= a ? s - r : 0; s -= A, s && s < e.size && Rk(e.textBetween(s - 1, s + 1)) && (s += A ? 1 : -1), o = s + (o - a), a = s } else if (o < s) { let A = r <= s && r >= o ? s - r : 0; s -= A, s && s < n.size && Rk(n.textBetween(s - 1, s + 1)) && (s += A ? 1 : -1), a = s + (a - o), o = s } return { start: s, endA: a, endB: o } } function Rk(n) { if (n.length != 2) return !1; let e = n.charCodeAt(0), t = n.charCodeAt(1); return e >= 56320 && e <= 57343 && t >= 55296 && t <= 56319 } class PL { constructor(e, t) { this._root = null, this.focused = !1, this.trackWrites = null, this.mounted = !1, this.markCursor = null, this.cursorWrapper = null, this.lastSelectedViewDesc = void 0, this.input = new IZ, this.prevDirectPlugins = [], this.pluginViews = [], this.requiresGeckoHackNode = !1, this.dragging = null, this._props = t, this.state = t.state, this.directPlugins = t.plugins || [], this.directPlugins.forEach(Dk), this.dispatch = this.dispatch.bind(this), this.dom = e && e.mount || document.createElement("div"), e && (e.appendChild ? e.appendChild(this.dom) : typeof e == "function" ? e(this.dom) : e.mount && (this.mounted = !0)), this.editable = Mk(this), Lk(this), this.nodeViews = Qk(this), this.docView = pk(this.state.doc, Ik(this), Ox(this), this.dom, this), this.domObserver = new aq(this, (r, i, s, a) => dq(this, r, i, s, a)), this.domObserver.start(), LZ(this), this.updatePluginViews() } get composing() { return this.input.composing } get props() { if (this._props.state != this.state) { let e = this._props; this._props = {}; for (let t in e) this._props[t] = e[t]; this._props.state = this.state } return this._props } update(e) { e.handleDOMEvents != this._props.handleDOMEvents && UC(this); let t = this._props; this._props = e, e.plugins && (e.plugins.forEach(Dk), this.directPlugins = e.plugins), this.updateStateInner(e.state, t) } setProps(e) { let t = {}; for (let r in this._props) t[r] = this._props[r]; t.state = this.state; for (let r in e) t[r] = e[r]; this.update(t) } updateState(e) { this.updateStateInner(e, this._props) } updateStateInner(e, t) { var r; let i = this.state, s = !1, a = !1; e.storedMarks && this.composing && (OL(this), a = !0), this.state = e; let o = i.plugins != e.plugins || this._props.plugins != t.plugins; if (o || this._props.plugins != t.plugins || this._props.nodeViews != t.nodeViews) { let p = Qk(this); vq(p, this.nodeViews) && (this.nodeViews = p, s = !0) } (o || t.handleDOMEvents != this._props.handleDOMEvents) && UC(this), this.editable = Mk(this), Lk(this); let A = Ox(this), u = Ik(this), f = i.plugins != e.plugins && !i.doc.eq(e.doc) ? "reset" : e.scrollToSelection > i.scrollToSelection ? "to selection" : "preserve", h = s || !this.docView.matchesNode(e.doc, u, A); (h || !e.selection.eq(i.selection)) && (a = !0); let m = f == "preserve" && a && this.dom.style.overflowAnchor == null && XX(this); if (a) { this.domObserver.stop(); let p = h && (gA || Cl) && !this.composing && !i.selection.empty && !e.selection.empty && mq(i.selection, e.selection); if (h) { let b = Cl ? this.trackWrites = this.domSelectionRange().focusNode : null; this.composing && (this.input.compositionNode = JZ(this)), (s || !this.docView.update(e.doc, u, A, this)) && (this.docView.updateOuterDeco(u), this.docView.destroy(), this.docView = pk(e.doc, u, A, this.dom, this)), b && !this.trackWrites && (p = !0) } p || !(this.input.mouseDown && this.domObserver.currentSelection.eq(this.domSelectionRange()) && wZ(this)) ? pf(this, p) : (bL(this, e.selection), this.domObserver.setCurSelection()), this.domObserver.start() } this.updatePluginViews(i), !((r = this.dragging) === null || r === void 0) && r.node && !i.doc.eq(e.doc) && this.updateDraggedNode(this.dragging, i), f == "reset" ? this.dom.scrollTop = 0 : f == "to selection" ? this.scrollToSelection() : m && ZX(m) } scrollToSelection() { let e = this.domSelectionRange().focusNode; if (!(!e || !this.dom.contains(e.nodeType == 1 ? e : e.parentNode))) { if (!this.someProp("handleScrollToSelection", t => t(this))) if (this.state.selection instanceof Un) { let t = this.docView.domAfterPos(this.state.selection.from); t.nodeType == 1 && Ak(this, t.getBoundingClientRect(), e) } else Ak(this, this.coordsAtPos(this.state.selection.head, 1), e) } } destroyPluginViews() { let e; for (; e = this.pluginViews.pop();)e.destroy && e.destroy() } updatePluginViews(e) { if (!e || e.plugins != this.state.plugins || this.directPlugins != this.prevDirectPlugins) { this.prevDirectPlugins = this.directPlugins, this.destroyPluginViews(); for (let t = 0; t < this.directPlugins.length; t++) { let r = this.directPlugins[t]; r.spec.view && this.pluginViews.push(r.spec.view(this)) } for (let t = 0; t < this.state.plugins.length; t++) { let r = this.state.plugins[t]; r.spec.view && this.pluginViews.push(r.spec.view(this)) } } else for (let t = 0; t < this.pluginViews.length; t++) { let r = this.pluginViews[t]; r.update && r.update(this, e) } } updateDraggedNode(e, t) { let r = e.node, i = -1; if (this.state.doc.nodeAt(r.from) == r.node) i = r.from; else { let s = r.from + (this.state.doc.content.size - t.doc.content.size); (s > 0 && this.state.doc.nodeAt(s)) == r.node && (i = s) } this.dragging = new IL(e.slice, e.move, i < 0 ? void 0 : Un.create(this.state.doc, i)) } someProp(e, t) { let r = this._props && this._props[e], i; if (r != null && (i = t ? t(r) : r)) return i; for (let a = 0; a < this.directPlugins.length; a++) { let o = this.directPlugins[a].props[e]; if (o != null && (i = t ? t(o) : o)) return i } let s = this.state.plugins; if (s) for (let a = 0; a < s.length; a++) { let o = s[a].props[e]; if (o != null && (i = t ? t(o) : o)) return i } } hasFocus() { if (gA) { let e = this.root.activeElement; if (e == this.dom) return !0; if (!e || !this.dom.contains(e)) return !1; for (; e && this.dom != e && this.dom.contains(e);) { if (e.contentEditable == "false") return !1; e = e.parentElement } return !0 } return this.root.activeElement == this.dom } focus() { this.domObserver.stop(), this.editable && qX(this.dom), pf(this), this.domObserver.start() } get root() { let e = this._root; if (e == null) { for (let t = this.dom.parentNode; t; t = t.parentNode)if (t.nodeType == 9 || t.nodeType == 11 && t.host) return t.getSelection || (Object.getPrototypeOf(t).getSelection = () => t.ownerDocument.getSelection()), this._root = t } return e || document } updateRoot() { this._root = null } posAtCoords(e) { return rZ(this, e) } coordsAtPos(e, t = 1) { return dL(this, e, t) } domAtPos(e, t = 0) { return this.docView.domFromPos(e, t) } nodeDOM(e) { let t = this.docView.descAt(e); return t ? t.nodeDOM : null } posAtDOM(e, t, r = -1) { let i = this.docView.posFromDOM(e, t, r); if (i == null) throw new RangeError("DOM position not inside the editor"); return i } endOfTextblock(e, t) { return lZ(this, t || this.state, e) } pasteHTML(e, t) { return M0(this, "", e, !1, t || new ClipboardEvent("paste")) } pasteText(e, t) { return M0(this, e, null, !0, t || new ClipboardEvent("paste")) } serializeForClipboard(e) { return LE(this, e) } destroy() { this.docView && (MZ(this), this.destroyPluginViews(), this.mounted ? (this.docView.update(this.state.doc, [], Ox(this), this), this.dom.textContent = "") : this.dom.parentNode && this.dom.parentNode.removeChild(this.dom), this.docView.destroy(), this.docView = null, DX()) } get isDestroyed() { return this.docView == null } dispatchEvent(e) { return DZ(this, e) } domSelectionRange() { let e = this.domSelection(); return e ? jl && this.root.nodeType === 11 && KX(this.dom.ownerDocument) == this.dom && lq(this, e) || e : { focusNode: null, focusOffset: 0, anchorNode: null, anchorOffset: 0 } } domSelection() { return this.root.getSelection() } } PL.prototype.dispatch = function (n) { let e = this._props.dispatchTransaction; e ? e.call(this, n) : this.updateState(this.state.apply(n)) }; function Ik(n) { let e = Object.create(null); return e.class = "ProseMirror", e.contenteditable = String(n.editable), n.someProp("attributes", t => { if (typeof t == "function" && (t = t(n.state)), t) for (let r in t) r == "class" ? e.class += " " + t[r] : r == "style" ? e.style = (e.style ? e.style + ";" : "") + t[r] : !e[r] && r != "contenteditable" && r != "nodeName" && (e[r] = String(t[r])) }), e.translate || (e.translate = "no"), [Pl.node(0, n.state.doc.content.size, e)] } function Lk(n) { if (n.markCursor) { let e = document.createElement("img"); e.className = "ProseMirror-separator", e.setAttribute("mark-placeholder", "true"), e.setAttribute("alt", ""), n.cursorWrapper = { dom: e, deco: Pl.widget(n.state.selection.from, e, { raw: !0, marks: n.markCursor }) } } else n.cursorWrapper = null } function Mk(n) { return !n.someProp("editable", e => e(n.state) === !1) } function mq(n, e) { let t = Math.min(n.$anchor.sharedDepth(n.head), e.$anchor.sharedDepth(e.head)); return n.$anchor.start(t) != e.$anchor.start(t) } function Qk(n) { let e = Object.create(null); function t(r) { for (let i in r) Object.prototype.hasOwnProperty.call(e, i) || (e[i] = r[i]) } return n.someProp("nodeViews", t), n.someProp("markViews", t), e } function vq(n, e) { let t = 0, r = 0; for (let i in n) { if (n[i] != e[i]) return !0; t++ } for (let i in e) r++; return t != r } function Dk(n) { if (n.spec.state || n.spec.filterTransaction || n.spec.appendTransaction) throw new RangeError("Plugins passed directly to the view must not have a state component") } var Ud = { 8: "Backspace", 9: "Tab", 10: "Enter", 12: "NumLock", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 44: "PrintScreen", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Meta", 92: "Meta", 106: "*", 107: "+", 108: ",", 109: "-", 110: ".", 111: "/", 144: "NumLock", 145: "ScrollLock", 160: "Shift", 161: "Shift", 162: "Control", 163: "Control", 164: "Alt", 165: "Alt", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'" }, iw = { 48: ")", 49: "!", 50: "@", 51: "#", 52: "$", 53: "%", 54: "^", 55: "&", 56: "*", 57: "(", 59: ":", 61: "+", 173: "_", 186: ":", 187: "+", 188: "<", 189: "_", 190: ">", 191: "?", 192: "~", 219: "{", 220: "|", 221: "}", 222: '"' }, yq = typeof navigator < "u" && /Mac/.test(navigator.platform), wq = typeof navigator < "u" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent); for (var el = 0; el < 10; el++)Ud[48 + el] = Ud[96 + el] = String(el); for (var el = 1; el <= 24; el++)Ud[el + 111] = "F" + el; for (var el = 65; el <= 90; el++)Ud[el] = String.fromCharCode(el + 32), iw[el] = String.fromCharCode(el); for (var Ix in Ud) iw.hasOwnProperty(Ix) || (iw[Ix] = Ud[Ix]); function bq(n) { var e = yq && n.metaKey && n.shiftKey && !n.ctrlKey && !n.altKey || wq && n.shiftKey && n.key && n.key.length == 1 || n.key == "Unidentified", t = !e && n.key || (n.shiftKey ? iw : Ud)[n.keyCode] || n.key || "Unidentified"; return t == "Esc" && (t = "Escape"), t == "Del" && (t = "Delete"), t == "Left" && (t = "ArrowLeft"), t == "Up" && (t = "ArrowUp"), t == "Right" && (t = "ArrowRight"), t == "Down" && (t = "ArrowDown"), t } const xq = typeof navigator < "u" && /Mac|iP(hone|[oa]d)/.test(navigator.platform), Bq = typeof navigator < "u" && /Win/.test(navigator.platform); function Cq(n) { let e = n.split(/-(?!$)/), t = e[e.length - 1]; t == "Space" && (t = " "); let r, i, s, a; for (let o = 0; o < e.length - 1; o++) { let A = e[o]; if (/^(cmd|meta|m)$/i.test(A)) a = !0; else if (/^a(lt)?$/i.test(A)) r = !0; else if (/^(c|ctrl|control)$/i.test(A)) i = !0; else if (/^s(hift)?$/i.test(A)) s = !0; else if (/^mod$/i.test(A)) xq ? a = !0 : i = !0; else throw new Error("Unrecognized modifier name: " + A) } return r && (t = "Alt-" + t), i && (t = "Ctrl-" + t), a && (t = "Meta-" + t), s && (t = "Shift-" + t), t } function Eq(n) { let e = Object.create(null); for (let t in n) e[Cq(t)] = n[t]; return e } function Lx(n, e, t = !0) { return e.altKey && (n = "Alt-" + n), e.ctrlKey && (n = "Ctrl-" + n), e.metaKey && (n = "Meta-" + n), t && e.shiftKey && (n = "Shift-" + n), n } function Sq(n) { return new Rs({ props: { handleKeyDown: HL(n) } }) } function HL(n) { let e = Eq(n); return function (t, r) { let i = bq(r), s, a = e[Lx(i, r)]; if (a && a(t.state, t.dispatch, t)) return !0; if (i.length == 1 && i != " ") { if (r.shiftKey) { let o = e[Lx(i, r, !1)]; if (o && o(t.state, t.dispatch, t)) return !0 } if ((r.altKey || r.metaKey || r.ctrlKey) && !(Bq && r.ctrlKey && r.altKey) && (s = Ud[r.keyCode]) && s != i) { let o = e[Lx(s, r)]; if (o && o(t.state, t.dispatch, t)) return !0 } } return !1 } } var _q = Object.defineProperty, jE = (n, e) => { for (var t in e) _q(n, t, { get: e[t], enumerable: !0 }) }; function kb(n) { const { state: e, transaction: t } = n; let { selection: r } = t, { doc: i } = t, { storedMarks: s } = t; return { ...e, apply: e.apply.bind(e), applyTransaction: e.applyTransaction.bind(e), plugins: e.plugins, schema: e.schema, reconfigure: e.reconfigure.bind(e), toJSON: e.toJSON.bind(e), get storedMarks() { return s }, get selection() { return r }, get doc() { return i }, get tr() { return r = t.selection, i = t.doc, s = t.storedMarks, t } } } var Tb = class { constructor(n) { this.editor = n.editor, this.rawCommands = this.editor.extensionManager.commands, this.customState = n.state } get hasCustomState() { return !!this.customState } get state() { return this.customState || this.editor.state } get commands() { const { rawCommands: n, editor: e, state: t } = this, { view: r } = e, { tr: i } = t, s = this.buildProps(i); return Object.fromEntries(Object.entries(n).map(([a, o]) => [a, (...u) => { const f = o(...u)(s); return !i.getMeta("preventDispatch") && !this.hasCustomState && r.dispatch(i), f }])) } get chain() { return () => this.createChain() } get can() { return () => this.createCan() } createChain(n, e = !0) { const { rawCommands: t, editor: r, state: i } = this, { view: s } = r, a = [], o = !!n, A = n || i.tr, u = () => (!o && e && !A.getMeta("preventDispatch") && !this.hasCustomState && s.dispatch(A), a.every(h => h === !0)), f = { ...Object.fromEntries(Object.entries(t).map(([h, m]) => [h, (...b) => { const y = this.buildProps(A, e), E = m(...b)(y); return a.push(E), f }])), run: u }; return f } createCan(n) { const { rawCommands: e, state: t } = this, r = !1, i = n || t.tr, s = this.buildProps(i, r); return { ...Object.fromEntries(Object.entries(e).map(([o, A]) => [o, (...u) => A(...u)({ ...s, dispatch: void 0 })])), chain: () => this.createChain(i, r) } } buildProps(n, e = !0) { const { rawCommands: t, editor: r, state: i } = this, { view: s } = r, a = { tr: n, editor: r, view: s, state: kb({ state: i, transaction: n }), dispatch: e ? () => { } : void 0, chain: () => this.createChain(n, e), can: () => this.createCan(n), get commands() { return Object.fromEntries(Object.entries(t).map(([o, A]) => [o, (...u) => A(...u)(a)])) } }; return a } }, jL = {}; jE(jL, { blur: () => Nq, clearContent: () => kq, clearNodes: () => Tq, command: () => Fq, createParagraphNear: () => Uq, cut: () => Oq, deleteCurrentNode: () => Rq, deleteNode: () => Iq, deleteRange: () => Lq, deleteSelection: () => Mq, enter: () => Qq, exitCode: () => Dq, extendMarkRange: () => Pq, first: () => Hq, focus: () => zq, forEach: () => Kq, insertContent: () => Vq, insertContentAt: () => Yq, joinBackward: () => Zq, joinDown: () => Xq, joinForward: () => qq, joinItemBackward: () => $q, joinItemForward: () => e$, joinTextblockBackward: () => t$, joinTextblockForward: () => n$, joinUp: () => Jq, keyboardShortcut: () => i$, lift: () => s$, liftEmptyBlock: () => a$, liftListItem: () => o$, newlineInCode: () => l$, resetAttributes: () => A$, scrollIntoView: () => c$, selectAll: () => u$, selectNodeBackward: () => f$, selectNodeForward: () => d$, selectParentNode: () => h$, selectTextblockEnd: () => p$, selectTextblockStart: () => g$, setContent: () => m$, setMark: () => I$, setMeta: () => L$, setNode: () => M$, setNodeSelection: () => Q$, setTextDirection: () => D$, setTextSelection: () => P$, sinkListItem: () => H$, splitBlock: () => j$, splitListItem: () => z$, toggleList: () => K$, toggleMark: () => V$, toggleNode: () => G$, toggleWrap: () => W$, undoInputRule: () => Y$, unsetAllMarks: () => J$, unsetMark: () => X$, unsetTextDirection: () => Z$, updateAttributes: () => q$, wrapIn: () => $$, wrapInList: () => eee }); var Nq = () => ({ editor: n, view: e }) => (requestAnimationFrame(() => { var t; n.isDestroyed || (e.dom.blur(), (t = window?.getSelection()) == null || t.removeAllRanges()) }), !0), kq = (n = !0) => ({ commands: e }) => e.setContent("", { emitUpdate: n }), Tq = () => ({ state: n, tr: e, dispatch: t }) => { const { selection: r } = e, { ranges: i } = r; return t && i.forEach(({ $from: s, $to: a }) => { n.doc.nodesBetween(s.pos, a.pos, (o, A) => { if (o.type.isText) return; const { doc: u, mapping: f } = e, h = u.resolve(f.map(A)), m = u.resolve(f.map(A + o.nodeSize)), p = h.blockRange(m); if (!p) return; const b = Xg(p); if (o.type.isTextblock) { const { defaultType: y } = h.parent.contentMatchAt(h.index()); e.setNodeMarkup(p.start, y) } (b || b === 0) && e.lift(p, b) }) }), !0 }, Fq = n => e => n(e), Uq = () => ({ state: n, dispatch: e }) => rL(n, e), Oq = (n, e) => ({ editor: t, tr: r }) => { const { state: i } = t, s = i.doc.slice(n.from, n.to); r.deleteRange(n.from, n.to); const a = r.mapping.map(e); return r.insert(a, s.content), r.setSelection(new qn(r.doc.resolve(Math.max(a - 1, 0)))), !0 }, Rq = () => ({ tr: n, dispatch: e }) => { const { selection: t } = n, r = t.$anchor.node(); if (r.content.size > 0) return !1; const i = n.selection.$anchor; for (let s = i.depth; s > 0; s -= 1)if (i.node(s).type === r.type) { if (e) { const o = i.before(s), A = i.after(s); n.delete(o, A).scrollIntoView() } return !0 } return !1 }; function La(n, e) { if (typeof n == "string") { if (!e.nodes[n]) throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`); return e.nodes[n] } return n } var Iq = n => ({ tr: e, state: t, dispatch: r }) => { const i = La(n, t.schema), s = e.selection.$anchor; for (let a = s.depth; a > 0; a -= 1)if (s.node(a).type === i) { if (r) { const A = s.before(a), u = s.after(a); e.delete(A, u).scrollIntoView() } return !0 } return !1 }, Lq = n => ({ tr: e, dispatch: t }) => { const { from: r, to: i } = n; return t && e.delete(r, i), !0 }, Mq = () => ({ state: n, dispatch: e }) => NE(n, e), Qq = () => ({ commands: n }) => n.keyboardShortcut("Enter"), Dq = () => ({ state: n, dispatch: e }) => CX(n, e); function zE(n) { return Object.prototype.toString.call(n) === "[object RegExp]" } function sw(n, e, t = { strict: !0 }) { const r = Object.keys(e); return r.length ? r.every(i => t.strict ? e[i] === n[i] : zE(e[i]) ? e[i].test(n[i]) : e[i] === n[i]) : !0 } function zL(n, e, t = {}) { return n.find(r => r.type === e && sw(Object.fromEntries(Object.keys(t).map(i => [i, r.attrs[i]])), t)) } function Pk(n, e, t = {}) { return !!zL(n, e, t) } function KE(n, e, t) { var r; if (!n || !e) return; let i = n.parent.childAfter(n.parentOffset); if ((!i.node || !i.node.marks.some(f => f.type === e)) && (i = n.parent.childBefore(n.parentOffset)), !i.node || !i.node.marks.some(f => f.type === e) || (t = t || ((r = i.node.marks[0]) == null ? void 0 : r.attrs), !zL([...i.node.marks], e, t))) return; let a = i.index, o = n.start() + i.offset, A = a + 1, u = o + i.node.nodeSize; for (; a > 0 && Pk([...n.parent.child(a - 1).marks], e, t);)a -= 1, o -= n.parent.child(a).nodeSize; for (; A < n.parent.childCount && Pk([...n.parent.child(A).marks], e, t);)u += n.parent.child(A).nodeSize, A += 1; return { from: o, to: u } } function xf(n, e) { if (typeof n == "string") { if (!e.marks[n]) throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`); return e.marks[n] } return n } var Pq = (n, e = {}) => ({ tr: t, state: r, dispatch: i }) => { const s = xf(n, r.schema), { doc: a, selection: o } = t, { $from: A, from: u, to: f } = o; if (i) { const h = KE(A, s, e); if (h && h.from <= u && h.to >= f) { const m = qn.create(a, h.from, h.to); t.setSelection(m) } } return !0 }, Hq = n => e => { const t = typeof n == "function" ? n(e) : n; for (let r = 0; r < t.length; r += 1)if (t[r](e)) return !0; return !1 }; function KL(n) { return n instanceof qn } function Mh(n = 0, e = 0, t = 0) { return Math.min(Math.max(n, e), t) } function VL(n, e = null) { if (!e) return null; const t = mr.atStart(n), r = mr.atEnd(n); if (e === "start" || e === !0) return t; if (e === "end") return r; const i = t.from, s = r.to; return e === "all" ? qn.create(n, Mh(0, i, s), Mh(n.content.size, i, s)) : qn.create(n, Mh(e, i, s), Mh(e, i, s)) } function jq() { return navigator.platform === "Android" || /android/i.test(navigator.userAgent) } function VE() { return ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].includes(navigator.platform) || navigator.userAgent.includes("Mac") && "ontouchend" in document } var zq = (n = null, e = {}) => ({ editor: t, view: r, tr: i, dispatch: s }) => { e = { scrollIntoView: !0, ...e }; const a = () => { (VE() || jq()) && r.dom.focus(), requestAnimationFrame(() => { t.isDestroyed || (r.focus(), e?.scrollIntoView && t.commands.scrollIntoView()) }) }; if (r.hasFocus() && n === null || n === !1) return !0; if (s && n === null && !KL(t.state.selection)) return a(), !0; const o = VL(i.doc, n) || t.state.selection, A = t.state.selection.eq(o); return s && (A || i.setSelection(o), A && i.storedMarks && i.setStoredMarks(i.storedMarks), a()), !0 }, Kq = (n, e) => t => n.every((r, i) => e(r, { ...t, index: i })), Vq = (n, e) => ({ tr: t, commands: r }) => r.insertContentAt({ from: t.selection.from, to: t.selection.to }, n, e), GL = n => { const e = n.childNodes; for (let t = e.length - 1; t >= 0; t -= 1) { const r = e[t]; r.nodeType === 3 && r.nodeValue && /^(\n\s\s|\n)$/.test(r.nodeValue) ? n.removeChild(r) : r.nodeType === 1 && GL(r) } return n }; function Cy(n) { if (typeof window > "u") throw new Error("[tiptap error]: there is no window object available, so this function cannot be used"); const e = `<body>${n}</body>`, t = new window.DOMParser().parseFromString(e, "text/html").body; return GL(t) } function D0(n, e, t) { if (n instanceof wd || n instanceof kt) return n; t = { slice: !0, parseOptions: {}, ...t }; const r = typeof n == "object" && n !== null, i = typeof n == "string"; if (r) try { if (Array.isArray(n) && n.length > 0) return kt.fromArray(n.map(o => e.nodeFromJSON(o))); const a = e.nodeFromJSON(n); return t.errorOnInvalidContent && a.check(), a } catch (s) { if (t.errorOnInvalidContent) throw new Error("[tiptap error]: Invalid JSON content", { cause: s }); return console.warn("[tiptap warn]: Invalid content.", "Passed value:", n, "Error:", s), D0("", e, t) } if (i) { if (t.errorOnInvalidContent) { let a = !1, o = ""; const A = new TI({ topNode: e.spec.topNode, marks: e.spec.marks, nodes: e.spec.nodes.append({ __tiptap__private__unknown__catch__all__node: { content: "inline*", group: "block", parseDOM: [{ tag: "*", getAttrs: u => (a = !0, o = typeof u == "string" ? u : u.outerHTML, null) }] } }) }); if (t.slice ? bd.fromSchema(A).parseSlice(Cy(n), t.parseOptions) : bd.fromSchema(A).parse(Cy(n), t.parseOptions), t.errorOnInvalidContent && a) throw new Error("[tiptap error]: Invalid HTML content", { cause: new Error(`Invalid element found: ${o}`) }) } const s = bd.fromSchema(e); return t.slice ? s.parseSlice(Cy(n), t.parseOptions).content : s.parse(Cy(n), t.parseOptions) } return D0("", e, t) } function Gq(n, e, t) { const r = n.steps.length - 1; if (r < e) return; const i = n.steps[r]; if (!(i instanceof Bo || i instanceof Co)) return; const s = n.mapping.maps[r]; let a = 0; s.forEach((o, A, u, f) => { a === 0 && (a = f) }), n.setSelection(mr.near(n.doc.resolve(a), t)) } var Wq = n => !("type" in n), Yq = (n, e, t) => ({ tr: r, dispatch: i, editor: s }) => { var a; if (i) { t = { parseOptions: s.options.parseOptions, updateSelection: !0, applyInputRules: !1, applyPasteRules: !1, ...t }; let o; const A = E => { s.emit("contentError", { editor: s, error: E, disableCollaboration: () => { "collaboration" in s.storage && typeof s.storage.collaboration == "object" && s.storage.collaboration && (s.storage.collaboration.isDisabled = !0) } }) }, u = { preserveWhitespace: "full", ...t.parseOptions }; if (!t.errorOnInvalidContent && !s.options.enableContentCheck && s.options.emitContentError) try { D0(e, s.schema, { parseOptions: u, errorOnInvalidContent: !0 }) } catch (E) { A(E) } try { o = D0(e, s.schema, { parseOptions: u, errorOnInvalidContent: (a = t.errorOnInvalidContent) != null ? a : s.options.enableContentCheck }) } catch (E) { return A(E), !1 } let { from: f, to: h } = typeof n == "number" ? { from: n, to: n } : { from: n.from, to: n.to }, m = !0, p = !0; if ((Wq(o) ? o : [o]).forEach(E => { E.check(), m = m ? E.isText && E.marks.length === 0 : !1, p = p ? E.isBlock : !1 }), f === h && p) { const { parent: E } = r.doc.resolve(f); E.isTextblock && !E.type.spec.code && !E.childCount && (f -= 1, h += 1) } let y; if (m) { if (Array.isArray(e)) y = e.map(E => E.text || "").join(""); else if (e instanceof kt) { let E = ""; e.forEach(_ => { _.text && (E += _.text) }), y = E } else typeof e == "object" && e && e.text ? y = e.text : y = e; r.insertText(y, f, h) } else { y = o; const E = r.doc.resolve(f), _ = E.node(), O = E.parentOffset === 0, I = _.isText || _.isTextblock, D = _.content.size > 0; O && I && D && (f = Math.max(0, f - 1)), r.replaceWith(f, h, y) } t.updateSelection && Gq(r, r.steps.length - 1, -1), t.applyInputRules && r.setMeta("applyInputRules", { from: f, text: y }), t.applyPasteRules && r.setMeta("applyPasteRules", { from: f, text: y }) } return !0 }, Jq = () => ({ state: n, dispatch: e }) => bX(n, e), Xq = () => ({ state: n, dispatch: e }) => xX(n, e), Zq = () => ({ state: n, dispatch: e }) => XI(n, e), qq = () => ({ state: n, dispatch: e }) => eL(n, e), $q = () => ({ state: n, dispatch: e, tr: t }) => { try { const r = Bb(n.doc, n.selection.$from.pos, -1); return r == null ? !1 : (t.join(r, 2), e && e(t), !0) } catch { return !1 } }, e$ = () => ({ state: n, dispatch: e, tr: t }) => { try { const r = Bb(n.doc, n.selection.$from.pos, 1); return r == null ? !1 : (t.join(r, 2), e && e(t), !0) } catch { return !1 } }, t$ = () => ({ state: n, dispatch: e }) => yX(n, e), n$ = () => ({ state: n, dispatch: e }) => wX(n, e); function WL() { return typeof navigator < "u" ? /Mac/.test(navigator.platform) : !1 } function r$(n) { const e = n.split(/-(?!$)/); let t = e[e.length - 1]; t === "Space" && (t = " "); let r, i, s, a; for (let o = 0; o < e.length - 1; o += 1) { const A = e[o]; if (/^(cmd|meta|m)$/i.test(A)) a = !0; else if (/^a(lt)?$/i.test(A)) r = !0; else if (/^(c|ctrl|control)$/i.test(A)) i = !0; else if (/^s(hift)?$/i.test(A)) s = !0; else if (/^mod$/i.test(A)) VE() || WL() ? a = !0 : i = !0; else throw new Error(`Unrecognized modifier name: ${A}`) } return r && (t = `Alt-${t}`), i && (t = `Ctrl-${t}`), a && (t = `Meta-${t}`), s && (t = `Shift-${t}`), t } var i$ = n => ({ editor: e, view: t, tr: r, dispatch: i }) => { const s = r$(n).split(/-(?!$)/), a = s.find(u => !["Alt", "Ctrl", "Meta", "Shift"].includes(u)), o = new KeyboardEvent("keydown", { key: a === "Space" ? " " : a, altKey: s.includes("Alt"), ctrlKey: s.includes("Ctrl"), metaKey: s.includes("Meta"), shiftKey: s.includes("Shift"), bubbles: !0, cancelable: !0 }), A = e.captureTransaction(() => { t.someProp("handleKeyDown", u => u(t, o)) }); return A?.steps.forEach(u => { const f = u.map(r.mapping); f && i && r.maybeStep(f) }), !0 }; function Od(n, e, t = {}) { const { from: r, to: i, empty: s } = n.selection, a = e ? La(e, n.schema) : null, o = []; n.doc.nodesBetween(r, i, (h, m) => { if (h.isText) return; const p = Math.max(r, m), b = Math.min(i, m + h.nodeSize); o.push({ node: h, from: p, to: b }) }); const A = i - r, u = o.filter(h => a ? a.name === h.node.type.name : !0).filter(h => sw(h.node.attrs, t, { strict: !1 })); return s ? !!u.length : u.reduce((h, m) => h + m.to - m.from, 0) >= A } var s$ = (n, e = {}) => ({ state: t, dispatch: r }) => { const i = La(n, t.schema); return Od(t, i, e) ? BX(t, r) : !1 }, a$ = () => ({ state: n, dispatch: e }) => iL(n, e), o$ = n => ({ state: e, dispatch: t }) => { const r = La(n, e.schema); return IX(r)(e, t) }, l$ = () => ({ state: n, dispatch: e }) => nL(n, e); function Fb(n, e) { return e.nodes[n] ? "node" : e.marks[n] ? "mark" : null } function Hk(n, e) { const t = typeof e == "string" ? [e] : e; return Object.keys(n).reduce((r, i) => (t.includes(i) || (r[i] = n[i]), r), {}) } var A$ = (n, e) => ({ tr: t, state: r, dispatch: i }) => { let s = null, a = null; const o = Fb(typeof n == "string" ? n : n.name, r.schema); if (!o) return !1; o === "node" && (s = La(n, r.schema)), o === "mark" && (a = xf(n, r.schema)); let A = !1; return t.selection.ranges.forEach(u => { r.doc.nodesBetween(u.$from.pos, u.$to.pos, (f, h) => { s && s === f.type && (A = !0, i && t.setNodeMarkup(h, void 0, Hk(f.attrs, e))), a && f.marks.length && f.marks.forEach(m => { a === m.type && (A = !0, i && t.addMark(h, h + f.nodeSize, a.create(Hk(m.attrs, e)))) }) }) }), A }, c$ = () => ({ tr: n, dispatch: e }) => (e && n.scrollIntoView(), !0), u$ = () => ({ tr: n, dispatch: e }) => { if (e) { const t = new KA(n.doc); n.setSelection(t) } return !0 }, f$ = () => ({ state: n, dispatch: e }) => qI(n, e), d$ = () => ({ state: n, dispatch: e }) => tL(n, e), h$ = () => ({ state: n, dispatch: e }) => _X(n, e), p$ = () => ({ state: n, dispatch: e }) => TX(n, e), g$ = () => ({ state: n, dispatch: e }) => kX(n, e); function OC(n, e, t = {}, r = {}) { return D0(n, e, { slice: !1, parseOptions: t, errorOnInvalidContent: r.errorOnInvalidContent }) } var m$ = (n, { errorOnInvalidContent: e, emitUpdate: t = !0, parseOptions: r = {} } = {}) => ({ editor: i, tr: s, dispatch: a, commands: o }) => { const { doc: A } = s; if (r.preserveWhitespace !== "full") { const u = OC(n, i.schema, r, { errorOnInvalidContent: e ?? i.options.enableContentCheck }); return a && s.replaceWith(0, A.content.size, u).setMeta("preventUpdate", !t), !0 } return a && s.setMeta("preventUpdate", !t), o.insertContentAt({ from: 0, to: A.content.size }, n, { parseOptions: r, errorOnInvalidContent: e ?? i.options.enableContentCheck }) }; function YL(n, e) { const t = xf(e, n.schema), { from: r, to: i, empty: s } = n.selection, a = []; s ? (n.storedMarks && a.push(...n.storedMarks), a.push(...n.selection.$head.marks())) : n.doc.nodesBetween(r, i, A => { a.push(...A.marks) }); const o = a.find(A => A.type.name === t.name); return o ? { ...o.attrs } : {} } function JL(n, e) { const t = new GI(n); return e.forEach(r => { r.steps.forEach(i => { t.step(i) }) }), t } function v$(n) { for (let e = 0; e < n.edgeCount; e += 1) { const { type: t } = n.edge(e); if (t.isTextblock && !t.hasRequiredAttrs()) return t } return null } function y$(n, e, t) { const r = []; return n.nodesBetween(e.from, e.to, (i, s) => { t(i) && r.push({ node: i, pos: s }) }), r } function w$(n, e) { for (let t = n.depth; t > 0; t -= 1) { const r = n.node(t); if (e(r)) return { pos: t > 0 ? n.before(t) : 0, start: n.start(t), depth: t, node: r } } } function Ub(n) { return e => w$(e.$from, n) } function kn(n, e, t) { return n.config[e] === void 0 && n.parent ? kn(n.parent, e, t) : typeof n.config[e] == "function" ? n.config[e].bind({ ...t, parent: n.parent ? kn(n.parent, e, t) : null }) : n.config[e] } function GE(n) { return n.map(e => { const t = { name: e.name, options: e.options, storage: e.storage }, r = kn(e, "addExtensions", t); return r ? [e, ...GE(r())] : e }).flat(10) } function WE(n, e) { const t = cp.fromSchema(e).serializeFragment(n), i = document.implementation.createHTMLDocument().createElement("div"); return i.appendChild(t), i.innerHTML } function XL(n) { return typeof n == "function" } function Ci(n, e = void 0, ...t) { return XL(n) ? e ? n.bind(e)(...t) : n(...t) : n } function b$(n = {}) { return Object.keys(n).length === 0 && n.constructor === Object } function Ig(n) { const e = n.filter(i => i.type === "extension"), t = n.filter(i => i.type === "node"), r = n.filter(i => i.type === "mark"); return { baseExtensions: e, nodeExtensions: t, markExtensions: r } } function ZL(n) { const e = [], { nodeExtensions: t, markExtensions: r } = Ig(n), i = [...t, ...r], s = { default: null, validate: void 0, rendered: !0, renderHTML: null, parseHTML: null, keepOnSplit: !0, isRequired: !1 }; return n.forEach(a => { const o = { name: a.name, options: a.options, storage: a.storage, extensions: i }, A = kn(a, "addGlobalAttributes", o); if (!A) return; A().forEach(f => { f.types.forEach(h => { Object.entries(f.attributes).forEach(([m, p]) => { e.push({ type: h, name: m, attribute: { ...s, ...p } }) }) }) }) }), i.forEach(a => { const o = { name: a.name, options: a.options, storage: a.storage }, A = kn(a, "addAttributes", o); if (!A) return; const u = A(); Object.entries(u).forEach(([f, h]) => { const m = { ...s, ...h }; typeof m?.default == "function" && (m.default = m.default()), m?.isRequired && m?.default === void 0 && delete m.default, e.push({ type: a.name, name: f, attribute: m }) }) }), e } function Ma(...n) { return n.filter(e => !!e).reduce((e, t) => { const r = { ...e }; return Object.entries(t).forEach(([i, s]) => { if (!r[i]) { r[i] = s; return } if (i === "class") { const o = s ? String(s).split(" ") : [], A = r[i] ? r[i].split(" ") : [], u = o.filter(f => !A.includes(f)); r[i] = [...A, ...u].join(" ") } else if (i === "style") { const o = s ? s.split(";").map(f => f.trim()).filter(Boolean) : [], A = r[i] ? r[i].split(";").map(f => f.trim()).filter(Boolean) : [], u = new Map; A.forEach(f => { const [h, m] = f.split(":").map(p => p.trim()); u.set(h, m) }), o.forEach(f => { const [h, m] = f.split(":").map(p => p.trim()); u.set(h, m) }), r[i] = Array.from(u.entries()).map(([f, h]) => `${f}: ${h}`).join("; ") } else r[i] = s }), r }, {}) } function aw(n, e) { return e.filter(t => t.type === n.type.name).filter(t => t.attribute.rendered).map(t => t.attribute.renderHTML ? t.attribute.renderHTML(n.attrs) || {} : { [t.name]: n.attrs[t.name] }).reduce((t, r) => Ma(t, r), {}) } function x$(n) { return typeof n != "string" ? n : n.match(/^[+-]?(?:\d*\.)?\d+$/) ? Number(n) : n === "true" ? !0 : n === "false" ? !1 : n } function jk(n, e) { return "style" in n ? n : { ...n, getAttrs: t => { const r = n.getAttrs ? n.getAttrs(t) : n.attrs; if (r === !1) return !1; const i = e.reduce((s, a) => { const o = a.attribute.parseHTML ? a.attribute.parseHTML(t) : x$(t.getAttribute(a.name)); return o == null ? s : { ...s, [a.name]: o } }, {}); return { ...r, ...i } } } } function zk(n) { return Object.fromEntries(Object.entries(n).filter(([e, t]) => e === "attrs" && b$(t) ? !1 : t != null)) } function Kk(n) { var e, t; const r = {}; return !((e = n?.attribute) != null && e.isRequired) && "default" in (n?.attribute || {}) && (r.default = n.attribute.default), ((t = n?.attribute) == null ? void 0 : t.validate) !== void 0 && (r.validate = n.attribute.validate), [n.name, r] } function B$(n, e) { var t; const r = ZL(n), { nodeExtensions: i, markExtensions: s } = Ig(n), a = (t = i.find(u => kn(u, "topNode"))) == null ? void 0 : t.name, o = Object.fromEntries(i.map(u => { const f = r.filter(_ => _.type === u.name), h = { name: u.name, options: u.options, storage: u.storage, editor: e }, m = n.reduce((_, O) => { const I = kn(O, "extendNodeSchema", h); return { ..._, ...I ? I(u) : {} } }, {}), p = zk({ ...m, content: Ci(kn(u, "content", h)), marks: Ci(kn(u, "marks", h)), group: Ci(kn(u, "group", h)), inline: Ci(kn(u, "inline", h)), atom: Ci(kn(u, "atom", h)), selectable: Ci(kn(u, "selectable", h)), draggable: Ci(kn(u, "draggable", h)), code: Ci(kn(u, "code", h)), whitespace: Ci(kn(u, "whitespace", h)), linebreakReplacement: Ci(kn(u, "linebreakReplacement", h)), defining: Ci(kn(u, "defining", h)), isolating: Ci(kn(u, "isolating", h)), attrs: Object.fromEntries(f.map(Kk)) }), b = Ci(kn(u, "parseHTML", h)); b && (p.parseDOM = b.map(_ => jk(_, f))); const y = kn(u, "renderHTML", h); y && (p.toDOM = _ => y({ node: _, HTMLAttributes: aw(_, f) })); const E = kn(u, "renderText", h); return E && (p.toText = E), [u.name, p] })), A = Object.fromEntries(s.map(u => { const f = r.filter(E => E.type === u.name), h = { name: u.name, options: u.options, storage: u.storage, editor: e }, m = n.reduce((E, _) => { const O = kn(_, "extendMarkSchema", h); return { ...E, ...O ? O(u) : {} } }, {}), p = zk({ ...m, inclusive: Ci(kn(u, "inclusive", h)), excludes: Ci(kn(u, "excludes", h)), group: Ci(kn(u, "group", h)), spanning: Ci(kn(u, "spanning", h)), code: Ci(kn(u, "code", h)), attrs: Object.fromEntries(f.map(Kk)) }), b = Ci(kn(u, "parseHTML", h)); b && (p.parseDOM = b.map(E => jk(E, f))); const y = kn(u, "renderHTML", h); return y && (p.toDOM = E => y({ mark: E, HTMLAttributes: aw(E, f) })), [u.name, p] })); return new TI({ topNode: a, nodes: o, marks: A }) } function C$(n) { const e = n.filter((t, r) => n.indexOf(t) !== r); return Array.from(new Set(e)) } function YE(n) { return n.sort((t, r) => { const i = kn(t, "priority") || 100, s = kn(r, "priority") || 100; return i > s ? -1 : i < s ? 1 : 0 }) } function qL(n) { const e = YE(GE(n)), t = C$(e.map(r => r.name)); return t.length && console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r => `'${r}'`).join(", ")}]. This can lead to issues.`), e } function $L(n, e, t) {
  const { from: r, to: i } = e, { blockSeparator: s = `

`, textSerializers: a = {} } = t || {}; let o = ""; return n.nodesBetween(r, i, (A, u, f, h) => { var m; A.isBlock && u > r && (o += s); const p = a?.[A.type.name]; if (p) return f && (o += p({ node: A, pos: u, parent: f, index: h, range: e })), !1; A.isText && (o += (m = A?.text) == null ? void 0 : m.slice(Math.max(r, u) - u, i - u)) }), o
} function E$(n, e) { const t = { from: 0, to: n.content.size }; return $L(n, t, e) } function e6(n) { return Object.fromEntries(Object.entries(n.nodes).filter(([, e]) => e.spec.toText).map(([e, t]) => [e, t.spec.toText])) } function S$(n, e) { const t = La(e, n.schema), { from: r, to: i } = n.selection, s = []; n.doc.nodesBetween(r, i, o => { s.push(o) }); const a = s.reverse().find(o => o.type.name === t.name); return a ? { ...a.attrs } : {} } function t6(n, e) { const t = Fb(typeof e == "string" ? e : e.name, n.schema); return t === "node" ? S$(n, e) : t === "mark" ? YL(n, e) : {} } function _$(n, e = JSON.stringify) { const t = {}; return n.filter(r => { const i = e(r); return Object.prototype.hasOwnProperty.call(t, i) ? !1 : t[i] = !0 }) } function N$(n) { const e = _$(n); return e.length === 1 ? e : e.filter((t, r) => !e.filter((s, a) => a !== r).some(s => t.oldRange.from >= s.oldRange.from && t.oldRange.to <= s.oldRange.to && t.newRange.from >= s.newRange.from && t.newRange.to <= s.newRange.to)) } function n6(n) { const { mapping: e, steps: t } = n, r = []; return e.maps.forEach((i, s) => { const a = []; if (i.ranges.length) i.forEach((o, A) => { a.push({ from: o, to: A }) }); else { const { from: o, to: A } = t[s]; if (o === void 0 || A === void 0) return; a.push({ from: o, to: A }) } a.forEach(({ from: o, to: A }) => { const u = e.slice(s).map(o, -1), f = e.slice(s).map(A), h = e.invert().map(u, -1), m = e.invert().map(f); r.push({ oldRange: { from: h, to: m }, newRange: { from: u, to: f } }) }) }), N$(r) } function JE(n, e, t) { const r = []; return n === e ? t.resolve(n).marks().forEach(i => { const s = t.resolve(n), a = KE(s, i.type); a && r.push({ mark: i, ...a }) }) : t.nodesBetween(n, e, (i, s) => { !i || i?.nodeSize === void 0 || r.push(...i.marks.map(a => ({ from: s, to: s + i.nodeSize, mark: a }))) }), r } var k$ = (n, e, t, r = 20) => { const i = n.doc.resolve(t); let s = r, a = null; for (; s > 0 && a === null;) { const o = i.node(s); o?.type.name === e ? a = o : s -= 1 } return [a, s] }; function Mx(n, e) { return e.nodes[n] || e.marks[n] || null } function v1(n, e, t) { return Object.fromEntries(Object.entries(t).filter(([r]) => { const i = n.find(s => s.type === e && s.name === r); return i ? i.attribute.keepOnSplit : !1 })) } var T$ = (n, e = 500) => { let t = ""; const r = n.parentOffset; return n.parent.nodesBetween(Math.max(0, r - e), r, (i, s, a, o) => { var A, u; const f = ((u = (A = i.type.spec).toText) == null ? void 0 : u.call(A, { node: i, pos: s, parent: a, index: o })) || i.textContent || "%leaf%"; t += i.isAtom && !i.isText ? f : f.slice(0, Math.max(0, r - s)) }), t }; function RC(n, e, t = {}) { const { empty: r, ranges: i } = n.selection, s = e ? xf(e, n.schema) : null; if (r) return !!(n.storedMarks || n.selection.$from.marks()).filter(h => s ? s.name === h.type.name : !0).find(h => sw(h.attrs, t, { strict: !1 })); let a = 0; const o = []; if (i.forEach(({ $from: h, $to: m }) => { const p = h.pos, b = m.pos; n.doc.nodesBetween(p, b, (y, E) => { if (!y.isText && !y.marks.length) return; const _ = Math.max(p, E), O = Math.min(b, E + y.nodeSize), I = O - _; a += I, o.push(...y.marks.map(D => ({ mark: D, from: _, to: O }))) }) }), a === 0) return !1; const A = o.filter(h => s ? s.name === h.mark.type.name : !0).filter(h => sw(h.mark.attrs, t, { strict: !1 })).reduce((h, m) => h + m.to - m.from, 0), u = o.filter(h => s ? h.mark.type !== s && h.mark.type.excludes(s) : !0).reduce((h, m) => h + m.to - m.from, 0); return (A > 0 ? A + u : A) >= a } function F$(n, e, t = {}) { if (!e) return Od(n, null, t) || RC(n, null, t); const r = Fb(e, n.schema); return r === "node" ? Od(n, e, t) : r === "mark" ? RC(n, e, t) : !1 } var U$ = (n, e) => { const { $from: t, $to: r, $anchor: i } = n.selection; if (e) { const s = Ub(o => o.type.name === e)(n.selection); if (!s) return !1; const a = n.doc.resolve(s.pos + 1); return i.pos + 1 === a.end() } return !(r.parentOffset < r.parent.nodeSize - 2 || t.pos !== r.pos) }, O$ = n => { const { $from: e, $to: t } = n.selection; return !(e.parentOffset > 0 || e.pos !== t.pos) }; function Vk(n, e) { return Array.isArray(e) ? e.some(t => (typeof t == "string" ? t : t.name) === n.name) : e } function Gk(n, e) { const { nodeExtensions: t } = Ig(e), r = t.find(a => a.name === n); if (!r) return !1; const i = { name: r.name, options: r.options, storage: r.storage }, s = Ci(kn(r, "group", i)); return typeof s != "string" ? !1 : s.split(" ").includes("list") } function Ob(n, { checkChildren: e = !0, ignoreWhitespace: t = !1 } = {}) { var r; if (t) { if (n.type.name === "hardBreak") return !0; if (n.isText) return /^\s*$/m.test((r = n.text) != null ? r : "") } if (n.isText) return !n.text; if (n.isAtom || n.isLeaf) return !1; if (n.content.childCount === 0) return !0; if (e) { let i = !0; return n.content.forEach(s => { i !== !1 && (Ob(s, { ignoreWhitespace: t, checkChildren: e }) || (i = !1)) }), i } return !1 } function r6(n) { return n instanceof Un } function R$(n, e, t) { var r; const { selection: i } = e; let s = null; if (KL(i) && (s = i.$cursor), s) { const o = (r = n.storedMarks) != null ? r : s.marks(); return s.parent.type.allowsMarkType(t) && (!!t.isInSet(o) || !o.some(u => u.type.excludes(t))) } const { ranges: a } = i; return a.some(({ $from: o, $to: A }) => { let u = o.depth === 0 ? n.doc.inlineContent && n.doc.type.allowsMarkType(t) : !1; return n.doc.nodesBetween(o.pos, A.pos, (f, h, m) => { if (u) return !1; if (f.isInline) { const p = !m || m.type.allowsMarkType(t), b = !!t.isInSet(f.marks) || !f.marks.some(y => y.type.excludes(t)); u = p && b } return !u }), u }) } var I$ = (n, e = {}) => ({ tr: t, state: r, dispatch: i }) => { const { selection: s } = t, { empty: a, ranges: o } = s, A = xf(n, r.schema); if (i) if (a) { const u = YL(r, A); t.addStoredMark(A.create({ ...u, ...e })) } else o.forEach(u => { const f = u.$from.pos, h = u.$to.pos; r.doc.nodesBetween(f, h, (m, p) => { const b = Math.max(p, f), y = Math.min(p + m.nodeSize, h); m.marks.find(_ => _.type === A) ? m.marks.forEach(_ => { A === _.type && t.addMark(b, y, A.create({ ..._.attrs, ...e })) }) : t.addMark(b, y, A.create(e)) }) }); return R$(r, t, A) }, L$ = (n, e) => ({ tr: t }) => (t.setMeta(n, e), !0), M$ = (n, e = {}) => ({ state: t, dispatch: r, chain: i }) => { const s = La(n, t.schema); let a; return t.selection.$anchor.sameParent(t.selection.$head) && (a = t.selection.$anchor.parent.attrs), s.isTextblock ? i().command(({ commands: o }) => ak(s, { ...a, ...e })(t) ? !0 : o.clearNodes()).command(({ state: o }) => ak(s, { ...a, ...e })(o, r)).run() : (console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'), !1) }, Q$ = n => ({ tr: e, dispatch: t }) => { if (t) { const { doc: r } = e, i = Mh(n, 0, r.content.size), s = Un.create(r, i); e.setSelection(s) } return !0 }, D$ = (n, e) => ({ tr: t, state: r, dispatch: i }) => { const { selection: s } = r; let a, o; return typeof e == "number" ? (a = e, o = e) : e && "from" in e && "to" in e ? (a = e.from, o = e.to) : (a = s.from, o = s.to), i && t.doc.nodesBetween(a, o, (A, u) => { A.isText || t.setNodeMarkup(u, void 0, { ...A.attrs, dir: n }) }), !0 }, P$ = n => ({ tr: e, dispatch: t }) => { if (t) { const { doc: r } = e, { from: i, to: s } = typeof n == "number" ? { from: n, to: n } : n, a = qn.atStart(r).from, o = qn.atEnd(r).to, A = Mh(i, a, o), u = Mh(s, a, o), f = qn.create(r, A, u); e.setSelection(f) } return !0 }, H$ = n => ({ state: e, dispatch: t }) => { const r = La(n, e.schema); return QX(r)(e, t) }; function Wk(n, e) { const t = n.storedMarks || n.selection.$to.parentOffset && n.selection.$from.marks(); if (t) { const r = t.filter(i => e?.includes(i.type.name)); n.tr.ensureMarks(r) } } var j$ = ({ keepMarks: n = !0 } = {}) => ({ tr: e, state: t, dispatch: r, editor: i }) => { const { selection: s, doc: a } = e, { $from: o, $to: A } = s, u = i.extensionManager.attributes, f = v1(u, o.node().type.name, o.node().attrs); if (s instanceof Un && s.node.isBlock) return !o.parentOffset || !hf(a, o.pos) ? !1 : (r && (n && Wk(t, i.extensionManager.splittableMarks), e.split(o.pos).scrollIntoView()), !0); if (!o.parent.isBlock) return !1; const h = A.parentOffset === A.parent.content.size, m = o.depth === 0 ? void 0 : v$(o.node(-1).contentMatchAt(o.indexAfter(-1))); let p = h && m ? [{ type: m, attrs: f }] : void 0, b = hf(e.doc, e.mapping.map(o.pos), 1, p); if (!p && !b && hf(e.doc, e.mapping.map(o.pos), 1, m ? [{ type: m }] : void 0) && (b = !0, p = m ? [{ type: m, attrs: f }] : void 0), r) { if (b && (s instanceof qn && e.deleteSelection(), e.split(e.mapping.map(o.pos), 1, p), m && !h && !o.parentOffset && o.parent.type !== m)) { const y = e.mapping.map(o.before()), E = e.doc.resolve(y); o.node(-1).canReplaceWith(E.index(), E.index() + 1, m) && e.setNodeMarkup(e.mapping.map(o.before()), m) } n && Wk(t, i.extensionManager.splittableMarks), e.scrollIntoView() } return b }, z$ = (n, e = {}) => ({ tr: t, state: r, dispatch: i, editor: s }) => { var a; const o = La(n, r.schema), { $from: A, $to: u } = r.selection, f = r.selection.node; if (f && f.isBlock || A.depth < 2 || !A.sameParent(u)) return !1; const h = A.node(-1); if (h.type !== o) return !1; const m = s.extensionManager.attributes; if (A.parent.content.size === 0 && A.node(-1).childCount === A.indexAfter(-1)) { if (A.depth === 2 || A.node(-3).type !== o || A.index(-2) !== A.node(-2).childCount - 1) return !1; if (i) { let _ = kt.empty; const O = A.index(-1) ? 1 : A.index(-2) ? 2 : 3; for (let W = A.depth - O; W >= A.depth - 3; W -= 1)_ = kt.from(A.node(W).copy(_)); const I = A.indexAfter(-1) < A.node(-2).childCount ? 1 : A.indexAfter(-2) < A.node(-3).childCount ? 2 : 3, D = { ...v1(m, A.node().type.name, A.node().attrs), ...e }, z = ((a = o.contentMatch.defaultType) == null ? void 0 : a.createAndFill(D)) || void 0; _ = _.append(kt.from(o.createAndFill(null, z) || void 0)); const X = A.before(A.depth - (O - 1)); t.replace(X, A.after(-I), new Jt(_, 4 - O, 0)); let q = -1; t.doc.nodesBetween(X, t.doc.content.size, (W, G) => { if (q > -1) return !1; W.isTextblock && W.content.size === 0 && (q = G + 1) }), q > -1 && t.setSelection(qn.near(t.doc.resolve(q))), t.scrollIntoView() } return !0 } const p = u.pos === A.end() ? h.contentMatchAt(0).defaultType : null, b = { ...v1(m, h.type.name, h.attrs), ...e }, y = { ...v1(m, A.node().type.name, A.node().attrs), ...e }; t.delete(A.pos, u.pos); const E = p ? [{ type: o, attrs: b }, { type: p, attrs: y }] : [{ type: o, attrs: b }]; if (!hf(t.doc, A.pos, 2)) return !1; if (i) { const { selection: _, storedMarks: O } = r, { splittableMarks: I } = s.extensionManager, D = O || _.$to.parentOffset && _.$from.marks(); if (t.split(A.pos, 2, E).scrollIntoView(), !D || !i) return !0; const z = D.filter(X => I.includes(X.type.name)); t.ensureMarks(z) } return !0 }, Qx = (n, e) => { const t = Ub(a => a.type === e)(n.selection); if (!t) return !0; const r = n.doc.resolve(Math.max(0, t.pos - 1)).before(t.depth); if (r === void 0) return !0; const i = n.doc.nodeAt(r); return t.node.type === i?.type && Gd(n.doc, t.pos) && n.join(t.pos), !0 }, Dx = (n, e) => { const t = Ub(a => a.type === e)(n.selection); if (!t) return !0; const r = n.doc.resolve(t.start).after(t.depth); if (r === void 0) return !0; const i = n.doc.nodeAt(r); return t.node.type === i?.type && Gd(n.doc, r) && n.join(r), !0 }, K$ = (n, e, t, r = {}) => ({ editor: i, tr: s, state: a, dispatch: o, chain: A, commands: u, can: f }) => { const { extensions: h, splittableMarks: m } = i.extensionManager, p = La(n, a.schema), b = La(e, a.schema), { selection: y, storedMarks: E } = a, { $from: _, $to: O } = y, I = _.blockRange(O), D = E || y.$to.parentOffset && y.$from.marks(); if (!I) return !1; const z = Ub(X => Gk(X.type.name, h))(y); if (I.depth >= 1 && z && I.depth - z.depth <= 1) { if (z.node.type === p) return u.liftListItem(b); if (Gk(z.node.type.name, h) && p.validContent(z.node.content) && o) return A().command(() => (s.setNodeMarkup(z.pos, p), !0)).command(() => Qx(s, p)).command(() => Dx(s, p)).run() } return !t || !D || !o ? A().command(() => f().wrapInList(p, r) ? !0 : u.clearNodes()).wrapInList(p, r).command(() => Qx(s, p)).command(() => Dx(s, p)).run() : A().command(() => { const X = f().wrapInList(p, r), q = D.filter(W => m.includes(W.type.name)); return s.ensureMarks(q), X ? !0 : u.clearNodes() }).wrapInList(p, r).command(() => Qx(s, p)).command(() => Dx(s, p)).run() }, V$ = (n, e = {}, t = {}) => ({ state: r, commands: i }) => { const { extendEmptyMarkRange: s = !1 } = t, a = xf(n, r.schema); return RC(r, a, e) ? i.unsetMark(a, { extendEmptyMarkRange: s }) : i.setMark(a, e) }, G$ = (n, e, t = {}) => ({ state: r, commands: i }) => { const s = La(n, r.schema), a = La(e, r.schema), o = Od(r, s, t); let A; return r.selection.$anchor.sameParent(r.selection.$head) && (A = r.selection.$anchor.parent.attrs), o ? i.setNode(a, A) : i.setNode(s, { ...A, ...t }) }, W$ = (n, e = {}) => ({ state: t, commands: r }) => { const i = La(n, t.schema); return Od(t, i, e) ? r.lift(i) : r.wrapIn(i, e) }, Y$ = () => ({ state: n, dispatch: e }) => { const t = n.plugins; for (let r = 0; r < t.length; r += 1) { const i = t[r]; let s; if (i.spec.isInputRules && (s = i.getState(n))) { if (e) { const a = n.tr, o = s.transform; for (let A = o.steps.length - 1; A >= 0; A -= 1)a.step(o.steps[A].invert(o.docs[A])); if (s.text) { const A = a.doc.resolve(s.from).marks(); a.replaceWith(s.from, s.to, n.schema.text(s.text, A)) } else a.delete(s.from, s.to) } return !0 } } return !1 }, J$ = () => ({ tr: n, dispatch: e }) => { const { selection: t } = n, { empty: r, ranges: i } = t; return r || e && i.forEach(s => { n.removeMark(s.$from.pos, s.$to.pos) }), !0 }, X$ = (n, e = {}) => ({ tr: t, state: r, dispatch: i }) => { var s; const { extendEmptyMarkRange: a = !1 } = e, { selection: o } = t, A = xf(n, r.schema), { $from: u, empty: f, ranges: h } = o; if (!i) return !0; if (f && a) { let { from: m, to: p } = o; const b = (s = u.marks().find(E => E.type === A)) == null ? void 0 : s.attrs, y = KE(u, A, b); y && (m = y.from, p = y.to), t.removeMark(m, p, A) } else h.forEach(m => { t.removeMark(m.$from.pos, m.$to.pos, A) }); return t.removeStoredMark(A), !0 }, Z$ = n => ({ tr: e, state: t, dispatch: r }) => { const { selection: i } = t; let s, a; return typeof n == "number" ? (s = n, a = n) : n && "from" in n && "to" in n ? (s = n.from, a = n.to) : (s = i.from, a = i.to), r && e.doc.nodesBetween(s, a, (o, A) => { if (o.isText) return; const u = { ...o.attrs }; delete u.dir, e.setNodeMarkup(A, void 0, u) }), !0 }, q$ = (n, e = {}) => ({ tr: t, state: r, dispatch: i }) => { let s = null, a = null; const o = Fb(typeof n == "string" ? n : n.name, r.schema); if (!o) return !1; o === "node" && (s = La(n, r.schema)), o === "mark" && (a = xf(n, r.schema)); let A = !1; return t.selection.ranges.forEach(u => { const f = u.$from.pos, h = u.$to.pos; let m, p, b, y; t.selection.empty ? r.doc.nodesBetween(f, h, (E, _) => { s && s === E.type && (A = !0, b = Math.max(_, f), y = Math.min(_ + E.nodeSize, h), m = _, p = E) }) : r.doc.nodesBetween(f, h, (E, _) => { _ < f && s && s === E.type && (A = !0, b = Math.max(_, f), y = Math.min(_ + E.nodeSize, h), m = _, p = E), _ >= f && _ <= h && (s && s === E.type && (A = !0, i && t.setNodeMarkup(_, void 0, { ...E.attrs, ...e })), a && E.marks.length && E.marks.forEach(O => { if (a === O.type && (A = !0, i)) { const I = Math.max(_, f), D = Math.min(_ + E.nodeSize, h); t.addMark(I, D, a.create({ ...O.attrs, ...e })) } })) }), p && (m !== void 0 && i && t.setNodeMarkup(m, void 0, { ...p.attrs, ...e }), a && p.marks.length && p.marks.forEach(E => { a === E.type && i && t.addMark(b, y, a.create({ ...E.attrs, ...e })) })) }), A }, $$ = (n, e = {}) => ({ state: t, dispatch: r }) => { const i = La(n, t.schema); return FX(i, e)(t, r) }, eee = (n, e = {}) => ({ state: t, dispatch: r }) => { const i = La(n, t.schema); return UX(i, e)(t, r) }, tee = class { constructor() { this.callbacks = {} } on(n, e) { return this.callbacks[n] || (this.callbacks[n] = []), this.callbacks[n].push(e), this } emit(n, ...e) { const t = this.callbacks[n]; return t && t.forEach(r => r.apply(this, e)), this } off(n, e) { const t = this.callbacks[n]; return t && (e ? this.callbacks[n] = t.filter(r => r !== e) : delete this.callbacks[n]), this } once(n, e) { const t = (...r) => { this.off(n, t), e.apply(this, r) }; return this.on(n, t) } removeAllListeners() { this.callbacks = {} } }, Rb = class { constructor(n) { var e; this.find = n.find, this.handler = n.handler, this.undoable = (e = n.undoable) != null ? e : !0 } }, nee = (n, e) => { if (zE(e)) return e.exec(n); const t = e(n); if (!t) return null; const r = [t.text]; return r.index = t.index, r.input = n, r.data = t.data, t.replaceWith && (t.text.includes(t.replaceWith) || console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'), r.push(t.replaceWith)), r }; function Ey(n) { var e; const { editor: t, from: r, to: i, text: s, rules: a, plugin: o } = n, { view: A } = t; if (A.composing) return !1; const u = A.state.doc.resolve(r); if (u.parent.type.spec.code || (e = u.nodeBefore || u.nodeAfter) != null && e.marks.find(m => m.type.spec.code)) return !1; let f = !1; const h = T$(u) + s; return a.forEach(m => { if (f) return; const p = nee(h, m.find); if (!p) return; const b = A.state.tr, y = kb({ state: A.state, transaction: b }), E = { from: r - (p[0].length - s.length), to: i }, { commands: _, chain: O, can: I } = new Tb({ editor: t, state: y }); m.handler({ state: y, range: E, match: p, commands: _, chain: O, can: I }) === null || !b.steps.length || (m.undoable && b.setMeta(o, { transform: b, from: r, to: i, text: s }), A.dispatch(b), f = !0) }), f } function ree(n) {
  const { editor: e, rules: t } = n, r = new Rs({
    state: { init() { return null }, apply(i, s, a) { const o = i.getMeta(r); if (o) return o; const A = i.getMeta("applyInputRules"); return !!A && setTimeout(() => { let { text: f } = A; typeof f == "string" ? f = f : f = WE(kt.from(f), a.schema); const { from: h } = A, m = h + f.length; Ey({ editor: e, from: h, to: m, text: f, rules: t, plugin: r }) }), i.selectionSet || i.docChanged ? null : s } }, props: {
      handleTextInput(i, s, a, o) { return Ey({ editor: e, from: s, to: a, text: o, rules: t, plugin: r }) }, handleDOMEvents: { compositionend: i => (setTimeout(() => { const { $cursor: s } = i.state.selection; s && Ey({ editor: e, from: s.pos, to: s.pos, text: "", rules: t, plugin: r }) }), !1) }, handleKeyDown(i, s) {
        if (s.key !== "Enter") return !1; const { $cursor: a } = i.state.selection; return a ? Ey({
          editor: e, from: a.pos, to: a.pos, text: `
`, rules: t, plugin: r
        }) : !1
      }
    }, isInputRules: !0
  }); return r
} function iee(n) { return Object.prototype.toString.call(n).slice(8, -1) } function Sy(n) { return iee(n) !== "Object" ? !1 : n.constructor === Object && Object.getPrototypeOf(n) === Object.prototype } function i6(n, e) { const t = { ...n }; return Sy(n) && Sy(e) && Object.keys(e).forEach(r => { Sy(e[r]) && Sy(n[r]) ? t[r] = i6(n[r], e[r]) : t[r] = e[r] }), t } var XE = class { constructor(n = {}) { this.type = "extendable", this.parent = null, this.child = null, this.name = "", this.config = { name: this.name }, this.config = { ...this.config, ...n }, this.name = this.config.name } get options() { return { ...Ci(kn(this, "addOptions", { name: this.name })) || {} } } get storage() { return { ...Ci(kn(this, "addStorage", { name: this.name, options: this.options })) || {} } } configure(n = {}) { const e = this.extend({ ...this.config, addOptions: () => i6(this.options, n) }); return e.name = this.name, e.parent = this.parent, e } extend(n = {}) { const e = new this.constructor({ ...this.config, ...n }); return e.parent = this, this.child = e, e.name = "name" in n ? n.name : e.parent.name, e } }, up = class s6 extends XE { constructor() { super(...arguments), this.type = "mark" } static create(e = {}) { const t = typeof e == "function" ? e() : e; return new s6(t) } static handleExit({ editor: e, mark: t }) { const { tr: r } = e.state, i = e.state.selection.$from; if (i.pos === i.end()) { const a = i.marks(); if (!!!a.find(u => u?.type.name === t.name)) return !1; const A = a.find(u => u?.type.name === t.name); return A && r.removeStoredMark(A), r.insertText(" ", i.pos), e.view.dispatch(r), !0 } return !1 } configure(e) { return super.configure(e) } extend(e) { const t = typeof e == "function" ? e() : e; return super.extend(t) } }; function see(n) { return typeof n == "number" } var aee = class { constructor(n) { this.find = n.find, this.handler = n.handler } }, oee = (n, e, t) => { if (zE(e)) return [...n.matchAll(e)]; const r = e(n, t); return r ? r.map(i => { const s = [i.text]; return s.index = i.index, s.input = n, s.data = i.data, i.replaceWith && (i.text.includes(i.replaceWith) || console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'), s.push(i.replaceWith)), s }) : [] }; function lee(n) { const { editor: e, state: t, from: r, to: i, rule: s, pasteEvent: a, dropEvent: o } = n, { commands: A, chain: u, can: f } = new Tb({ editor: e, state: t }), h = []; return t.doc.nodesBetween(r, i, (p, b) => { var y, E, _, O, I; if ((E = (y = p.type) == null ? void 0 : y.spec) != null && E.code || !(p.isText || p.isTextblock || p.isInline)) return; const D = (I = (O = (_ = p.content) == null ? void 0 : _.size) != null ? O : p.nodeSize) != null ? I : 0, z = Math.max(r, b), X = Math.min(i, b + D); if (z >= X) return; const q = p.isText ? p.text || "" : p.textBetween(z - b, X - b, void 0, ""); oee(q, s.find, a).forEach(G => { if (G.index === void 0) return; const fe = z + G.index + 1, ne = fe + G[0].length, V = { from: t.tr.mapping.map(fe), to: t.tr.mapping.map(ne) }, se = s.handler({ state: t, range: V, match: G, commands: A, chain: u, can: f, pasteEvent: a, dropEvent: o }); h.push(se) }) }), h.every(p => p !== null) } var _y = null, Aee = n => { var e; const t = new ClipboardEvent("paste", { clipboardData: new DataTransfer }); return (e = t.clipboardData) == null || e.setData("text/html", n), t }; function cee(n) { const { editor: e, rules: t } = n; let r = null, i = !1, s = !1, a = typeof ClipboardEvent < "u" ? new ClipboardEvent("paste") : null, o; try { o = typeof DragEvent < "u" ? new DragEvent("drop") : null } catch { o = null } const A = ({ state: f, from: h, to: m, rule: p, pasteEvt: b }) => { const y = f.tr, E = kb({ state: f, transaction: y }); if (!(!lee({ editor: e, state: E, from: Math.max(h - 1, 0), to: m.b - 1, rule: p, pasteEvent: b, dropEvent: o }) || !y.steps.length)) { try { o = typeof DragEvent < "u" ? new DragEvent("drop") : null } catch { o = null } return a = typeof ClipboardEvent < "u" ? new ClipboardEvent("paste") : null, y } }; return t.map(f => new Rs({ view(h) { const m = b => { var y; r = (y = h.dom.parentElement) != null && y.contains(b.target) ? h.dom.parentElement : null, r && (_y = e) }, p = () => { _y && (_y = null) }; return window.addEventListener("dragstart", m), window.addEventListener("dragend", p), { destroy() { window.removeEventListener("dragstart", m), window.removeEventListener("dragend", p) } } }, props: { handleDOMEvents: { drop: (h, m) => { if (s = r === h.dom.parentElement, o = m, !s) { const p = _y; p?.isEditable && setTimeout(() => { const b = p.state.selection; b && p.commands.deleteRange({ from: b.from, to: b.to }) }, 10) } return !1 }, paste: (h, m) => { var p; const b = (p = m.clipboardData) == null ? void 0 : p.getData("text/html"); return a = m, i = !!b?.includes("data-pm-slice"), !1 } } }, appendTransaction: (h, m, p) => { const b = h[0], y = b.getMeta("uiEvent") === "paste" && !i, E = b.getMeta("uiEvent") === "drop" && !s, _ = b.getMeta("applyPasteRules"), O = !!_; if (!y && !E && !O) return; if (O) { let { text: z } = _; typeof z == "string" ? z = z : z = WE(kt.from(z), p.schema); const { from: X } = _, q = X + z.length, W = Aee(z); return A({ rule: f, state: p, from: X, to: { b: q }, pasteEvt: W }) } const I = m.doc.content.findDiffStart(p.doc.content), D = m.doc.content.findDiffEnd(p.doc.content); if (!(!see(I) || !D || I === D.b)) return A({ rule: f, state: p, from: I, to: D, pasteEvt: a }) } })) } var Ib = class { constructor(n, e) { this.splittableMarks = [], this.editor = e, this.baseExtensions = n, this.extensions = qL(n), this.schema = B$(this.extensions, e), this.setupExtensions() } get commands() { return this.extensions.reduce((n, e) => { const t = { name: e.name, options: e.options, storage: this.editor.extensionStorage[e.name], editor: this.editor, type: Mx(e.name, this.schema) }, r = kn(e, "addCommands", t); return r ? { ...n, ...r() } : n }, {}) } get plugins() { const { editor: n } = this; return YE([...this.extensions].reverse()).flatMap(r => { const i = { name: r.name, options: r.options, storage: this.editor.extensionStorage[r.name], editor: n, type: Mx(r.name, this.schema) }, s = [], a = kn(r, "addKeyboardShortcuts", i); let o = {}; if (r.type === "mark" && kn(r, "exitable", i) && (o.ArrowRight = () => up.handleExit({ editor: n, mark: r })), a) { const m = Object.fromEntries(Object.entries(a()).map(([p, b]) => [p, () => b({ editor: n })])); o = { ...o, ...m } } const A = Sq(o); s.push(A); const u = kn(r, "addInputRules", i); if (Vk(r, n.options.enableInputRules) && u) { const m = u(); if (m && m.length) { const p = ree({ editor: n, rules: m }), b = Array.isArray(p) ? p : [p]; s.push(...b) } } const f = kn(r, "addPasteRules", i); if (Vk(r, n.options.enablePasteRules) && f) { const m = f(); if (m && m.length) { const p = cee({ editor: n, rules: m }); s.push(...p) } } const h = kn(r, "addProseMirrorPlugins", i); if (h) { const m = h(); s.push(...m) } return s }) } get attributes() { return ZL(this.extensions) } get nodeViews() { const { editor: n } = this, { nodeExtensions: e } = Ig(this.extensions); return Object.fromEntries(e.filter(t => !!kn(t, "addNodeView")).map(t => { const r = this.attributes.filter(A => A.type === t.name), i = { name: t.name, options: t.options, storage: this.editor.extensionStorage[t.name], editor: n, type: La(t.name, this.schema) }, s = kn(t, "addNodeView", i); if (!s) return []; const a = s(); if (!a) return []; const o = (A, u, f, h, m) => { const p = aw(A, r); return a({ node: A, view: u, getPos: f, decorations: h, innerDecorations: m, editor: n, extension: t, HTMLAttributes: p }) }; return [t.name, o] })) } get markViews() { const { editor: n } = this, { markExtensions: e } = Ig(this.extensions); return Object.fromEntries(e.filter(t => !!kn(t, "addMarkView")).map(t => { const r = this.attributes.filter(o => o.type === t.name), i = { name: t.name, options: t.options, storage: this.editor.extensionStorage[t.name], editor: n, type: xf(t.name, this.schema) }, s = kn(t, "addMarkView", i); if (!s) return []; const a = (o, A, u) => { const f = aw(o, r); return s()({ mark: o, view: A, inline: u, editor: n, extension: t, HTMLAttributes: f, updateAttributes: h => { Cee(o, n, h) } }) }; return [t.name, a] })) } setupExtensions() { const n = this.extensions; this.editor.extensionStorage = Object.fromEntries(n.map(e => [e.name, e.storage])), n.forEach(e => { var t; const r = { name: e.name, options: e.options, storage: this.editor.extensionStorage[e.name], editor: this.editor, type: Mx(e.name, this.schema) }; e.type === "mark" && ((t = Ci(kn(e, "keepOnSplit", r))) == null || t) && this.splittableMarks.push(e.name); const i = kn(e, "onBeforeCreate", r), s = kn(e, "onCreate", r), a = kn(e, "onUpdate", r), o = kn(e, "onSelectionUpdate", r), A = kn(e, "onTransaction", r), u = kn(e, "onFocus", r), f = kn(e, "onBlur", r), h = kn(e, "onDestroy", r); i && this.editor.on("beforeCreate", i), s && this.editor.on("create", s), a && this.editor.on("update", a), o && this.editor.on("selectionUpdate", o), A && this.editor.on("transaction", A), u && this.editor.on("focus", u), f && this.editor.on("blur", f), h && this.editor.on("destroy", h) }) } }; Ib.resolve = qL; Ib.sort = YE; Ib.flatten = GE; var uee = {}; jE(uee, { ClipboardTextSerializer: () => o6, Commands: () => l6, Delete: () => A6, Drop: () => c6, Editable: () => u6, FocusEvents: () => d6, Keymap: () => h6, Paste: () => p6, Tabindex: () => g6, TextDirection: () => m6, focusEventsPluginKey: () => f6 }); var ga = class a6 extends XE { constructor() { super(...arguments), this.type = "extension" } static create(e = {}) { const t = typeof e == "function" ? e() : e; return new a6(t) } configure(e) { return super.configure(e) } extend(e) { const t = typeof e == "function" ? e() : e; return super.extend(t) } }, o6 = ga.create({ name: "clipboardTextSerializer", addOptions() { return { blockSeparator: void 0 } }, addProseMirrorPlugins() { return [new Rs({ key: new qa("clipboardTextSerializer"), props: { clipboardTextSerializer: () => { const { editor: n } = this, { state: e, schema: t } = n, { doc: r, selection: i } = e, { ranges: s } = i, a = Math.min(...s.map(f => f.$from.pos)), o = Math.max(...s.map(f => f.$to.pos)), A = e6(t); return $L(r, { from: a, to: o }, { ...this.options.blockSeparator !== void 0 ? { blockSeparator: this.options.blockSeparator } : {}, textSerializers: A }) } } })] } }), l6 = ga.create({ name: "commands", addCommands() { return { ...jL } } }), A6 = ga.create({ name: "delete", onUpdate({ transaction: n, appendedTransactions: e }) { var t, r, i; const s = () => { var a, o, A, u; if ((u = (A = (o = (a = this.editor.options.coreExtensionOptions) == null ? void 0 : a.delete) == null ? void 0 : o.filterTransaction) == null ? void 0 : A.call(o, n)) != null ? u : n.getMeta("y-sync$")) return; const f = JL(n.before, [n, ...e]); n6(f).forEach(p => { f.mapping.mapResult(p.oldRange.from).deletedAfter && f.mapping.mapResult(p.oldRange.to).deletedBefore && f.before.nodesBetween(p.oldRange.from, p.oldRange.to, (b, y) => { const E = y + b.nodeSize - 2, _ = p.oldRange.from <= y && E <= p.oldRange.to; this.editor.emit("delete", { type: "node", node: b, from: y, to: E, newFrom: f.mapping.map(y), newTo: f.mapping.map(E), deletedRange: p.oldRange, newRange: p.newRange, partial: !_, editor: this.editor, transaction: n, combinedTransform: f }) }) }); const m = f.mapping; f.steps.forEach((p, b) => { var y, E; if (p instanceof Jc) { const _ = m.slice(b).map(p.from, -1), O = m.slice(b).map(p.to), I = m.invert().map(_, -1), D = m.invert().map(O), z = (y = f.doc.nodeAt(_ - 1)) == null ? void 0 : y.marks.some(q => q.eq(p.mark)), X = (E = f.doc.nodeAt(O)) == null ? void 0 : E.marks.some(q => q.eq(p.mark)); this.editor.emit("delete", { type: "mark", mark: p.mark, from: p.from, to: p.to, deletedRange: { from: I, to: D }, newRange: { from: _, to: O }, partial: !!(X || z), editor: this.editor, transaction: n, combinedTransform: f }) } }) }; (i = (r = (t = this.editor.options.coreExtensionOptions) == null ? void 0 : t.delete) == null ? void 0 : r.async) == null || i ? setTimeout(s, 0) : s() } }), c6 = ga.create({ name: "drop", addProseMirrorPlugins() { return [new Rs({ key: new qa("tiptapDrop"), props: { handleDrop: (n, e, t, r) => { this.editor.emit("drop", { editor: this.editor, event: e, slice: t, moved: r }) } } })] } }), u6 = ga.create({ name: "editable", addProseMirrorPlugins() { return [new Rs({ key: new qa("editable"), props: { editable: () => this.editor.options.editable } })] } }), f6 = new qa("focusEvents"), d6 = ga.create({ name: "focusEvents", addProseMirrorPlugins() { const { editor: n } = this; return [new Rs({ key: f6, props: { handleDOMEvents: { focus: (e, t) => { n.isFocused = !0; const r = n.state.tr.setMeta("focus", { event: t }).setMeta("addToHistory", !1); return e.dispatch(r), !1 }, blur: (e, t) => { n.isFocused = !1; const r = n.state.tr.setMeta("blur", { event: t }).setMeta("addToHistory", !1); return e.dispatch(r), !1 } } } })] } }), h6 = ga.create({ name: "keymap", addKeyboardShortcuts() { const n = () => this.editor.commands.first(({ commands: a }) => [() => a.undoInputRule(), () => a.command(({ tr: o }) => { const { selection: A, doc: u } = o, { empty: f, $anchor: h } = A, { pos: m, parent: p } = h, b = h.parent.isTextblock && m > 0 ? o.doc.resolve(m - 1) : h, y = b.parent.type.spec.isolating, E = h.pos - h.parentOffset, _ = y && b.parent.childCount === 1 ? E === h.pos : mr.atStart(u).from === m; return !f || !p.type.isTextblock || p.textContent.length || !_ || _ && h.parent.type.name === "paragraph" ? !1 : a.clearNodes() }), () => a.deleteSelection(), () => a.joinBackward(), () => a.selectNodeBackward()]), e = () => this.editor.commands.first(({ commands: a }) => [() => a.deleteSelection(), () => a.deleteCurrentNode(), () => a.joinForward(), () => a.selectNodeForward()]), r = { Enter: () => this.editor.commands.first(({ commands: a }) => [() => a.newlineInCode(), () => a.createParagraphNear(), () => a.liftEmptyBlock(), () => a.splitBlock()]), "Mod-Enter": () => this.editor.commands.exitCode(), Backspace: n, "Mod-Backspace": n, "Shift-Backspace": n, Delete: e, "Mod-Delete": e, "Mod-a": () => this.editor.commands.selectAll() }, i = { ...r }, s = { ...r, "Ctrl-h": n, "Alt-Backspace": n, "Ctrl-d": e, "Ctrl-Alt-Backspace": e, "Alt-Delete": e, "Alt-d": e, "Ctrl-a": () => this.editor.commands.selectTextblockStart(), "Ctrl-e": () => this.editor.commands.selectTextblockEnd() }; return VE() || WL() ? s : i }, addProseMirrorPlugins() { return [new Rs({ key: new qa("clearDocument"), appendTransaction: (n, e, t) => { if (n.some(y => y.getMeta("composition"))) return; const r = n.some(y => y.docChanged) && !e.doc.eq(t.doc), i = n.some(y => y.getMeta("preventClearDocument")); if (!r || i) return; const { empty: s, from: a, to: o } = e.selection, A = mr.atStart(e.doc).from, u = mr.atEnd(e.doc).to; if (s || !(a === A && o === u) || !Ob(t.doc)) return; const m = t.tr, p = kb({ state: t, transaction: m }), { commands: b } = new Tb({ editor: this.editor, state: p }); if (b.clearNodes(), !!m.steps.length) return m } })] } }), p6 = ga.create({ name: "paste", addProseMirrorPlugins() { return [new Rs({ key: new qa("tiptapPaste"), props: { handlePaste: (n, e, t) => { this.editor.emit("paste", { editor: this.editor, event: e, slice: t }) } } })] } }), g6 = ga.create({ name: "tabindex", addProseMirrorPlugins() { return [new Rs({ key: new qa("tabindex"), props: { attributes: () => this.editor.isEditable ? { tabindex: "0" } : {} } })] } }), m6 = ga.create({ name: "textDirection", addOptions() { return { direction: void 0 } }, addGlobalAttributes() { if (!this.options.direction) return []; const { nodeExtensions: n } = Ig(this.extensions); return [{ types: n.filter(e => e.name !== "text").map(e => e.name), attributes: { dir: { default: this.options.direction, parseHTML: e => { const t = e.getAttribute("dir"); return t && (t === "ltr" || t === "rtl" || t === "auto") ? t : this.options.direction }, renderHTML: e => e.dir ? { dir: e.dir } : {} } } }] }, addProseMirrorPlugins() { return [new Rs({ key: new qa("textDirection"), props: { attributes: () => { const n = this.options.direction; return n ? { dir: n } : {} } } })] } }), fee = class lg { constructor(e, t, r = !1, i = null) { this.currentNode = null, this.actualDepth = null, this.isBlock = r, this.resolvedPos = e, this.editor = t, this.currentNode = i } get name() { return this.node.type.name } get node() { return this.currentNode || this.resolvedPos.node() } get element() { return this.editor.view.domAtPos(this.pos).node } get depth() { var e; return (e = this.actualDepth) != null ? e : this.resolvedPos.depth } get pos() { return this.resolvedPos.pos } get content() { return this.node.content } set content(e) { let t = this.from, r = this.to; if (this.isBlock) { if (this.content.size === 0) { console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`); return } t = this.from + 1, r = this.to - 1 } this.editor.commands.insertContentAt({ from: t, to: r }, e) } get attributes() { return this.node.attrs } get textContent() { return this.node.textContent } get size() { return this.node.nodeSize } get from() { return this.isBlock ? this.pos : this.resolvedPos.start(this.resolvedPos.depth) } get range() { return { from: this.from, to: this.to } } get to() { return this.isBlock ? this.pos + this.size : this.resolvedPos.end(this.resolvedPos.depth) + (this.node.isText ? 0 : 1) } get parent() { if (this.depth === 0) return null; const e = this.resolvedPos.start(this.resolvedPos.depth - 1), t = this.resolvedPos.doc.resolve(e); return new lg(t, this.editor) } get before() { let e = this.resolvedPos.doc.resolve(this.from - (this.isBlock ? 1 : 2)); return e.depth !== this.depth && (e = this.resolvedPos.doc.resolve(this.from - 3)), new lg(e, this.editor) } get after() { let e = this.resolvedPos.doc.resolve(this.to + (this.isBlock ? 2 : 1)); return e.depth !== this.depth && (e = this.resolvedPos.doc.resolve(this.to + 3)), new lg(e, this.editor) } get children() { const e = []; return this.node.content.forEach((t, r) => { const i = t.isBlock && !t.isTextblock, s = t.isAtom && !t.isText, a = this.pos + r + (s ? 0 : 1); if (a < 0 || a > this.resolvedPos.doc.nodeSize - 2) return; const o = this.resolvedPos.doc.resolve(a); if (!i && o.depth <= this.depth) return; const A = new lg(o, this.editor, i, i ? t : null); i && (A.actualDepth = this.depth + 1), e.push(new lg(o, this.editor, i, i ? t : null)) }), e } get firstChild() { return this.children[0] || null } get lastChild() { const e = this.children; return e[e.length - 1] || null } closest(e, t = {}) { let r = null, i = this.parent; for (; i && !r;) { if (i.node.type.name === e) if (Object.keys(t).length > 0) { const s = i.node.attrs, a = Object.keys(t); for (let o = 0; o < a.length; o += 1) { const A = a[o]; if (s[A] !== t[A]) break } } else r = i; i = i.parent } return r } querySelector(e, t = {}) { return this.querySelectorAll(e, t, !0)[0] || null } querySelectorAll(e, t = {}, r = !1) { let i = []; if (!this.children || this.children.length === 0) return i; const s = Object.keys(t); return this.children.forEach(a => { r && i.length > 0 || (a.node.type.name === e && s.every(A => t[A] === a.node.attrs[A]) && i.push(a), !(r && i.length > 0) && (i = i.concat(a.querySelectorAll(e, t, r)))) }), i } setAttribute(e) { const { tr: t } = this.editor.state; t.setNodeMarkup(this.from, void 0, { ...this.node.attrs, ...e }), this.editor.view.dispatch(t) } }, dee = `.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`; function hee(n, e, t) { const r = document.querySelector("style[data-tiptap-style]"); if (r !== null) return r; const i = document.createElement("style"); return e && i.setAttribute("nonce", e), i.setAttribute("data-tiptap-style", ""), i.innerHTML = n, document.getElementsByTagName("head")[0].appendChild(i), i } var pee = class extends tee {
  constructor(n = {}) { super(), this.css = null, this.className = "tiptap", this.editorView = null, this.isFocused = !1, this.isInitialized = !1, this.extensionStorage = {}, this.instanceId = Math.random().toString(36).slice(2, 9), this.options = { element: typeof document < "u" ? document.createElement("div") : null, content: "", injectCSS: !0, injectNonce: void 0, extensions: [], autofocus: !1, editable: !0, textDirection: void 0, editorProps: {}, parseOptions: {}, coreExtensionOptions: {}, enableInputRules: !0, enablePasteRules: !0, enableCoreExtensions: !0, enableContentCheck: !1, emitContentError: !1, onBeforeCreate: () => null, onCreate: () => null, onMount: () => null, onUnmount: () => null, onUpdate: () => null, onSelectionUpdate: () => null, onTransaction: () => null, onFocus: () => null, onBlur: () => null, onDestroy: () => null, onContentError: ({ error: r }) => { throw r }, onPaste: () => null, onDrop: () => null, onDelete: () => null }, this.isCapturingTransaction = !1, this.capturedTransaction = null, this.setOptions(n), this.createExtensionManager(), this.createCommandManager(), this.createSchema(), this.on("beforeCreate", this.options.onBeforeCreate), this.emit("beforeCreate", { editor: this }), this.on("mount", this.options.onMount), this.on("unmount", this.options.onUnmount), this.on("contentError", this.options.onContentError), this.on("create", this.options.onCreate), this.on("update", this.options.onUpdate), this.on("selectionUpdate", this.options.onSelectionUpdate), this.on("transaction", this.options.onTransaction), this.on("focus", this.options.onFocus), this.on("blur", this.options.onBlur), this.on("destroy", this.options.onDestroy), this.on("drop", ({ event: r, slice: i, moved: s }) => this.options.onDrop(r, i, s)), this.on("paste", ({ event: r, slice: i }) => this.options.onPaste(r, i)), this.on("delete", this.options.onDelete); const e = this.createDoc(), t = VL(e, this.options.autofocus); this.editorState = hg.create({ doc: e, schema: this.schema, selection: t || void 0 }), this.options.element && this.mount(this.options.element) } mount(n) { if (typeof document > "u") throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment."); this.createView(n), this.emit("mount", { editor: this }), this.css && !document.head.contains(this.css) && document.head.appendChild(this.css), window.setTimeout(() => { this.isDestroyed || (this.options.autofocus !== !1 && this.options.autofocus !== null && this.commands.focus(this.options.autofocus), this.emit("create", { editor: this }), this.isInitialized = !0) }, 0) } unmount() { if (this.editorView) { const n = this.editorView.dom; n?.editor && delete n.editor, this.editorView.destroy() } if (this.editorView = null, this.isInitialized = !1, this.css && !document.querySelectorAll(`.${this.className}`).length) try { typeof this.css.remove == "function" ? this.css.remove() : this.css.parentNode && this.css.parentNode.removeChild(this.css) } catch (n) { console.warn("Failed to remove CSS element:", n) } this.css = null, this.emit("unmount", { editor: this }) } get storage() { return this.extensionStorage } get commands() { return this.commandManager.commands } chain() { return this.commandManager.chain() } can() { return this.commandManager.can() } injectCSS() { this.options.injectCSS && typeof document < "u" && (this.css = hee(dee, this.options.injectNonce)) } setOptions(n = {}) { this.options = { ...this.options, ...n }, !(!this.editorView || !this.state || this.isDestroyed) && (this.options.editorProps && this.view.setProps(this.options.editorProps), this.view.updateState(this.state)) } setEditable(n, e = !0) { this.setOptions({ editable: n }), e && this.emit("update", { editor: this, transaction: this.state.tr, appendedTransactions: [] }) } get isEditable() { return this.options.editable && this.view && this.view.editable } get view() { return this.editorView ? this.editorView : new Proxy({ state: this.editorState, updateState: n => { this.editorState = n }, dispatch: n => { this.dispatchTransaction(n) }, composing: !1, dragging: null, editable: !0, isDestroyed: !1 }, { get: (n, e) => { if (this.editorView) return this.editorView[e]; if (e === "state") return this.editorState; if (e in n) return Reflect.get(n, e); throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`) } }) } get state() { return this.editorView && (this.editorState = this.view.state), this.editorState } registerPlugin(n, e) { const t = XL(e) ? e(n, [...this.state.plugins]) : [...this.state.plugins, n], r = this.state.reconfigure({ plugins: t }); return this.view.updateState(r), r } unregisterPlugin(n) { if (this.isDestroyed) return; const e = this.state.plugins; let t = e; if ([].concat(n).forEach(i => { const s = typeof i == "string" ? `${i}$` : i.key; t = t.filter(a => !a.key.startsWith(s)) }), e.length === t.length) return; const r = this.state.reconfigure({ plugins: t }); return this.view.updateState(r), r } createExtensionManager() { var n, e; const r = [...this.options.enableCoreExtensions ? [u6, o6.configure({ blockSeparator: (e = (n = this.options.coreExtensionOptions) == null ? void 0 : n.clipboardTextSerializer) == null ? void 0 : e.blockSeparator }), l6, d6, h6, g6, c6, p6, A6, m6.configure({ direction: this.options.textDirection })].filter(i => typeof this.options.enableCoreExtensions == "object" ? this.options.enableCoreExtensions[i.name] !== !1 : !0) : [], ...this.options.extensions].filter(i => ["extension", "node", "mark"].includes(i?.type)); this.extensionManager = new Ib(r, this) } createCommandManager() { this.commandManager = new Tb({ editor: this }) } createSchema() { this.schema = this.extensionManager.schema } createDoc() { let n; try { n = OC(this.options.content, this.schema, this.options.parseOptions, { errorOnInvalidContent: this.options.enableContentCheck }) } catch (e) { if (!(e instanceof Error) || !["[tiptap error]: Invalid JSON content", "[tiptap error]: Invalid HTML content"].includes(e.message)) throw e; this.emit("contentError", { editor: this, error: e, disableCollaboration: () => { "collaboration" in this.storage && typeof this.storage.collaboration == "object" && this.storage.collaboration && (this.storage.collaboration.isDisabled = !0), this.options.extensions = this.options.extensions.filter(t => t.name !== "collaboration"), this.createExtensionManager() } }), n = OC(this.options.content, this.schema, this.options.parseOptions, { errorOnInvalidContent: !1 }) } return n } createView(n) { var e; this.editorView = new PL(n, { ...this.options.editorProps, attributes: { role: "textbox", ...(e = this.options.editorProps) == null ? void 0 : e.attributes }, dispatchTransaction: this.dispatchTransaction.bind(this), state: this.editorState, markViews: this.extensionManager.markViews, nodeViews: this.extensionManager.nodeViews }); const t = this.state.reconfigure({ plugins: this.extensionManager.plugins }); this.view.updateState(t), this.prependClass(), this.injectCSS(); const r = this.view.dom; r.editor = this } createNodeViews() { this.view.isDestroyed || this.view.setProps({ markViews: this.extensionManager.markViews, nodeViews: this.extensionManager.nodeViews }) } prependClass() { this.view.dom.className = `${this.className} ${this.view.dom.className}` } captureTransaction(n) { this.isCapturingTransaction = !0, n(), this.isCapturingTransaction = !1; const e = this.capturedTransaction; return this.capturedTransaction = null, e } dispatchTransaction(n) { if (this.view.isDestroyed) return; if (this.isCapturingTransaction) { if (!this.capturedTransaction) { this.capturedTransaction = n; return } n.steps.forEach(u => { var f; return (f = this.capturedTransaction) == null ? void 0 : f.step(u) }); return } const { state: e, transactions: t } = this.state.applyTransaction(n), r = !this.state.selection.eq(e.selection), i = t.includes(n), s = this.state; if (this.emit("beforeTransaction", { editor: this, transaction: n, nextState: e }), !i) return; this.view.updateState(e), this.emit("transaction", { editor: this, transaction: n, appendedTransactions: t.slice(1) }), r && this.emit("selectionUpdate", { editor: this, transaction: n }); const a = t.findLast(u => u.getMeta("focus") || u.getMeta("blur")), o = a?.getMeta("focus"), A = a?.getMeta("blur"); o && this.emit("focus", { editor: this, event: o.event, transaction: a }), A && this.emit("blur", { editor: this, event: A.event, transaction: a }), !(n.getMeta("preventUpdate") || !t.some(u => u.docChanged) || s.doc.eq(e.doc)) && this.emit("update", { editor: this, transaction: n, appendedTransactions: t.slice(1) }) } getAttributes(n) { return t6(this.state, n) } isActive(n, e) { const t = typeof n == "string" ? n : null, r = typeof n == "string" ? e : n; return F$(this.state, t, r) } getJSON() { return this.state.doc.toJSON() } getHTML() { return WE(this.state.doc.content, this.schema) } getText(n) {
    const { blockSeparator: e = `

`, textSerializers: t = {} } = n || {}; return E$(this.state.doc, { blockSeparator: e, textSerializers: { ...e6(this.schema), ...t } })
  } get isEmpty() { return Ob(this.state.doc) } destroy() { this.emit("destroy"), this.unmount(), this.removeAllListeners() } get isDestroyed() { var n, e; return (e = (n = this.editorView) == null ? void 0 : n.isDestroyed) != null ? e : !0 } $node(n, e) { var t; return ((t = this.$doc) == null ? void 0 : t.querySelector(n, e)) || null } $nodes(n, e) { var t; return ((t = this.$doc) == null ? void 0 : t.querySelectorAll(n, e)) || null } $pos(n) { const e = this.state.doc.resolve(n); return new fee(e, this) } get $doc() { return this.$pos(0) }
}; function Lg(n) { return new Rb({ find: n.find, handler: ({ state: e, range: t, match: r }) => { const i = Ci(n.getAttributes, void 0, r); if (i === !1 || i === null) return null; const { tr: s } = e, a = r[r.length - 1], o = r[0]; if (a) { const A = o.search(/\S/), u = t.from + o.indexOf(a), f = u + a.length; if (JE(t.from, t.to, e.doc).filter(p => p.mark.type.excluded.find(y => y === n.type && y !== p.mark.type)).filter(p => p.to > u).length) return null; f < t.to && s.delete(f, t.to), u > t.from && s.delete(t.from + A, u); const m = t.from + A + a.length; s.addMark(t.from + A, m, n.type.create(i || {})), s.removeStoredMark(n.type) } }, undoable: n.undoable }) } function gee(n) { return new Rb({ find: n.find, handler: ({ state: e, range: t, match: r }) => { const i = Ci(n.getAttributes, void 0, r) || {}, { tr: s } = e, a = t.from; let o = t.to; const A = n.type.create(i); if (r[1]) { const u = r[0].lastIndexOf(r[1]); let f = a + u; f > o ? f = o : o = f + r[1].length; const h = r[0][r[0].length - 1]; s.insertText(h, a + r[0].length - 1), s.replaceWith(f, o, A) } else if (r[0]) { const u = n.type.isInline ? a : a - 1; s.insert(u, n.type.create(i)).delete(s.mapping.map(a), s.mapping.map(o)) } s.scrollIntoView() }, undoable: n.undoable }) } function IC(n) { return new Rb({ find: n.find, handler: ({ state: e, range: t, match: r }) => { const i = e.doc.resolve(t.from), s = Ci(n.getAttributes, void 0, r) || {}; if (!i.node(-1).canReplaceWith(i.index(-1), i.indexAfter(-1), n.type)) return null; e.tr.delete(t.from, t.to).setBlockType(t.from, t.from, n.type, s) }, undoable: n.undoable }) } function Mg(n) { return new Rb({ find: n.find, handler: ({ state: e, range: t, match: r, chain: i }) => { const s = Ci(n.getAttributes, void 0, r) || {}, a = e.tr.delete(t.from, t.to), A = a.doc.resolve(t.from).blockRange(), u = A && SE(A, n.type, s); if (!u) return null; if (a.wrap(A, u), n.keepMarks && n.editor) { const { selection: h, storedMarks: m } = e, { splittableMarks: p } = n.editor.extensionManager, b = m || h.$to.parentOffset && h.$from.marks(); if (b) { const y = b.filter(E => p.includes(E.type.name)); a.ensureMarks(y) } } if (n.keepAttributes) { const h = n.type.name === "bulletList" || n.type.name === "orderedList" ? "listItem" : "taskList"; i().updateAttributes(h, s).run() } const f = a.doc.resolve(t.from - 1).nodeBefore; f && f.type === n.type && Gd(a.doc, t.from - 1) && (!n.joinPredicate || n.joinPredicate(r, f)) && a.join(t.from - 1) }, undoable: n.undoable }) } function mee(n, e) { const { selection: t } = n, { $from: r } = t; if (t instanceof Un) { const s = r.index(); return r.parent.canReplaceWith(s, s + 1, e) } let i = r.depth; for (; i >= 0;) { const s = r.index(i); if (r.node(i).contentMatchAt(s).matchType(e)) return !0; i -= 1 } return !1 } var vee = {}; jE(vee, { createAtomBlockMarkdownSpec: () => yee, createBlockMarkdownSpec: () => wee, createInlineMarkdownSpec: () => Bee, parseAttributes: () => ZE, parseIndentedBlocks: () => LC, renderNestedMarkdownContent: () => $E, serializeAttributes: () => qE }); function ZE(n) { if (!n?.trim()) return {}; const e = {}, t = [], r = n.replace(/["']([^"']*)["']/g, u => (t.push(u), `__QUOTED_${t.length - 1}__`)), i = r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g); if (i) { const u = i.map(f => f.trim().slice(1)); e.class = u.join(" ") } const s = r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/); s && (e.id = s[1]); const a = /([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g; Array.from(r.matchAll(a)).forEach(([, u, f]) => { var h; const m = parseInt(((h = f.match(/__QUOTED_(\d+)__/)) == null ? void 0 : h[1]) || "0", 10), p = t[m]; p && (e[u] = p.slice(1, -1)) }); const A = r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g, "").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g, "").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g, "").trim(); return A && A.split(/\s+/).filter(Boolean).forEach(f => { f.match(/^[a-zA-Z][\w-]*$/) && (e[f] = !0) }), e } function qE(n) { if (!n || Object.keys(n).length === 0) return ""; const e = []; return n.class && String(n.class).split(/\s+/).filter(Boolean).forEach(r => e.push(`.${r}`)), n.id && e.push(`#${n.id}`), Object.entries(n).forEach(([t, r]) => { t === "class" || t === "id" || (r === !0 ? e.push(t) : r !== !1 && r != null && e.push(`${t}="${String(r)}"`)) }), e.join(" ") } function yee(n) { const { nodeName: e, name: t, parseAttributes: r = ZE, serializeAttributes: i = qE, defaultAttributes: s = {}, requiredAttributes: a = [], allowedAttributes: o } = n, A = t || e, u = f => { if (!o) return f; const h = {}; return o.forEach(m => { m in f && (h[m] = f[m]) }), h }; return { parseMarkdown: (f, h) => { const m = { ...s, ...f.attributes }; return h.createNode(e, m, []) }, markdownTokenizer: { name: e, level: "block", start(f) { var h; const m = new RegExp(`^:::${A}(?:\\s|$)`, "m"), p = (h = f.match(m)) == null ? void 0 : h.index; return p !== void 0 ? p : -1 }, tokenize(f, h, m) { const p = new RegExp(`^:::${A}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`), b = f.match(p); if (!b) return; const y = b[1] || "", E = r(y); if (!a.find(O => !(O in E))) return { type: e, raw: b[0], attributes: E } } }, renderMarkdown: f => { const h = u(f.attrs || {}), m = i(h), p = m ? ` {${m}}` : ""; return `:::${A}${p} :::` } } } function wee(n) {
  const { nodeName: e, name: t, getContent: r, parseAttributes: i = ZE, serializeAttributes: s = qE, defaultAttributes: a = {}, content: o = "block", allowedAttributes: A } = n, u = t || e, f = h => { if (!A) return h; const m = {}; return A.forEach(p => { p in h && (m[p] = h[p]) }), m }; return {
    parseMarkdown: (h, m) => { let p; if (r) { const y = r(h); p = typeof y == "string" ? [{ type: "text", text: y }] : y } else o === "block" ? p = m.parseChildren(h.tokens || []) : p = m.parseInline(h.tokens || []); const b = { ...a, ...h.attributes }; return m.createNode(e, b, p) }, markdownTokenizer: { name: e, level: "block", start(h) { var m; const p = new RegExp(`^:::${u}`, "m"), b = (m = h.match(p)) == null ? void 0 : m.index; return b !== void 0 ? b : -1 }, tokenize(h, m, p) { var b; const y = new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`), E = h.match(y); if (!E) return; const [_, O = ""] = E, I = i(O); let D = 1; const z = _.length; let X = ""; const q = /^:::([\w-]*)(\s.*)?/gm, W = h.slice(z); for (q.lastIndex = 0; ;) { const G = q.exec(W); if (G === null) break; const fe = G.index, ne = G[1]; if (!((b = G[2]) != null && b.endsWith(":::"))) { if (ne) D += 1; else if (D -= 1, D === 0) { const V = W.slice(0, fe); X = V.trim(); const se = h.slice(0, z + fe + G[0].length); let M = []; if (X) if (o === "block") for (M = p.blockTokens(V), M.forEach(pe => { pe.text && (!pe.tokens || pe.tokens.length === 0) && (pe.tokens = p.inlineTokens(pe.text)) }); M.length > 0;) { const pe = M[M.length - 1]; if (pe.type === "paragraph" && (!pe.text || pe.text.trim() === "")) M.pop(); else break } else M = p.inlineTokens(X); return { type: e, raw: se, attributes: I, content: X, tokens: M } } } } } }, renderMarkdown: (h, m) => {
      const p = f(h.attrs || {}), b = s(p), y = b ? ` {${b}}` : "", E = m.renderChildren(h.content || [], `

`); return `:::${u}${y}

${E}

:::`}
  }
} function bee(n) { if (!n.trim()) return {}; const e = {}, t = /(\w+)=(?:"([^"]*)"|'([^']*)')/g; let r = t.exec(n); for (; r !== null;) { const [, i, s, a] = r; e[i] = s || a, r = t.exec(n) } return e } function xee(n) { return Object.entries(n).filter(([, e]) => e != null).map(([e, t]) => `${e}="${t}"`).join(" ") } function Bee(n) { const { nodeName: e, name: t, getContent: r, parseAttributes: i = bee, serializeAttributes: s = xee, defaultAttributes: a = {}, selfClosing: o = !1, allowedAttributes: A } = n, u = t || e, f = m => { if (!A) return m; const p = {}; return A.forEach(b => { b in m && (p[b] = m[b]) }), p }, h = u.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"); return { parseMarkdown: (m, p) => { const b = { ...a, ...m.attributes }; if (o) return p.createNode(e, b); const y = r ? r(m) : m.content || ""; return y ? p.createNode(e, b, [p.createTextNode(y)]) : p.createNode(e, b, []) }, markdownTokenizer: { name: e, level: "inline", start(m) { const p = o ? new RegExp(`\\[${h}\\s*[^\\]]*\\]`) : new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`), b = m.match(p), y = b?.index; return y !== void 0 ? y : -1 }, tokenize(m, p, b) { const y = o ? new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`) : new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`), E = m.match(y); if (!E) return; let _ = "", O = ""; if (o) { const [, D] = E; O = D } else { const [, D, z] = E; O = D, _ = z || "" } const I = i(O.trim()); return { type: e, raw: E[0], content: _.trim(), attributes: I } } }, renderMarkdown: m => { let p = ""; r ? p = r(m) : m.content && m.content.length > 0 && (p = m.content.filter(_ => _.type === "text").map(_ => _.text).join("")); const b = f(m.attrs || {}), y = s(b), E = y ? ` ${y}` : ""; return o ? `[${u}${E}]` : `[${u}${E}]${p}[/${u}]` } } } function LC(n, e, t) {
  var r, i, s, a; const o = n.split(`
`), A = []; let u = "", f = 0; const h = e.baseIndentSize || 2; for (; f < o.length;) {
    const m = o[f], p = m.match(e.itemPattern); if (!p) {
      if (A.length > 0) break; if (m.trim() === "") {
        f += 1, u = `${u}${m}
`; continue
      } else return
    } const b = e.extractItemData(p), { indentLevel: y, mainContent: E } = b; u = `${u}${m}
`; const _ = [E]; for (f += 1; f < o.length;) {
      const z = o[f]; if (z.trim() === "") {
        const q = o.slice(f + 1).findIndex(fe => fe.trim() !== ""); if (q === -1) break; if ((((i = (r = o[f + 1 + q].match(/^(\s*)/)) == null ? void 0 : r[1]) == null ? void 0 : i.length) || 0) > y) {
          _.push(z), u = `${u}${z}
`, f += 1; continue
        } else break
      } if ((((a = (s = z.match(/^(\s*)/)) == null ? void 0 : s[1]) == null ? void 0 : a.length) || 0) > y) _.push(z), u = `${u}${z}
`, f += 1; else break
    } let O; const I = _.slice(1); if (I.length > 0) {
      const z = I.map(X => X.slice(y + h)).join(`
`); z.trim() && (e.customNestedParser ? O = e.customNestedParser(z) : O = t.blockTokens(z))
    } const D = e.createToken(b, O); A.push(D)
  } if (A.length !== 0) return { items: A, raw: u }
} function $E(n, e, t, r) {
  if (!n || !Array.isArray(n.content)) return ""; const i = typeof t == "function" ? t(r) : t, [s, ...a] = n.content, o = e.renderChildren([s]), A = [`${i}${o}`]; return a && a.length > 0 && a.forEach(u => {
    const f = e.renderChildren([u]); if (f) {
      const h = f.split(`
`).map(m => m ? e.indent(m) : "").join(`
`); A.push(h)
    }
  }), A.join(`
`)
} function Cee(n, e, t = {}) { const { state: r } = e, { doc: i, tr: s } = r, a = n; i.descendants((o, A) => { const u = s.mapping.map(A), f = s.mapping.map(A) + o.nodeSize; let h = null; if (o.marks.forEach(p => { if (p !== a) return !1; h = p }), !h) return; let m = !1; if (Object.keys(t).forEach(p => { t[p] !== h.attrs[p] && (m = !0) }), m) { const p = n.type.create({ ...n.attrs, ...t }); s.removeMark(u, f, n.type), s.addMark(u, f, p) } }), s.docChanged && e.view.dispatch(s) } var GA = class v6 extends XE { constructor() { super(...arguments), this.type = "node" } static create(e = {}) { const t = typeof e == "function" ? e() : e; return new v6(t) } configure(e) { return super.configure(e) } extend(e) { const t = typeof e == "function" ? e() : e; return super.extend(t) } }; function sp(n) { return new aee({ find: n.find, handler: ({ state: e, range: t, match: r, pasteEvent: i }) => { const s = Ci(n.getAttributes, void 0, r, i); if (s === !1 || s === null) return null; const { tr: a } = e, o = r[r.length - 1], A = r[0]; let u = t.to; if (o) { const f = A.search(/\S/), h = t.from + A.indexOf(o), m = h + o.length; if (JE(t.from, t.to, e.doc).filter(b => b.mark.type.excluded.find(E => E === n.type && E !== b.mark.type)).filter(b => b.to > h).length) return null; m < t.to && a.delete(m, t.to), h > t.from && a.delete(t.from + f, h), u = t.from + f + o.length, a.addMark(t.from + f, u, n.type.create(s || {})), a.removeStoredMark(n.type) } } }) } var Px, Yk; function Eee() { return Yk || (Yk = 1, Px = function n(e, t) { if (e === t) return !0; if (e && t && typeof e == "object" && typeof t == "object") { if (e.constructor !== t.constructor) return !1; var r, i, s; if (Array.isArray(e)) { if (r = e.length, r != t.length) return !1; for (i = r; i-- !== 0;)if (!n(e[i], t[i])) return !1; return !0 } if (e instanceof Map && t instanceof Map) { if (e.size !== t.size) return !1; for (i of e.entries()) if (!t.has(i[0])) return !1; for (i of e.entries()) if (!n(i[1], t.get(i[0]))) return !1; return !0 } if (e instanceof Set && t instanceof Set) { if (e.size !== t.size) return !1; for (i of e.entries()) if (!t.has(i[0])) return !1; return !0 } if (ArrayBuffer.isView(e) && ArrayBuffer.isView(t)) { if (r = e.length, r != t.length) return !1; for (i = r; i-- !== 0;)if (e[i] !== t[i]) return !1; return !0 } if (e.constructor === RegExp) return e.source === t.source && e.flags === t.flags; if (e.valueOf !== Object.prototype.valueOf) return e.valueOf() === t.valueOf(); if (e.toString !== Object.prototype.toString) return e.toString() === t.toString(); if (s = Object.keys(e), r = s.length, r !== Object.keys(t).length) return !1; for (i = r; i-- !== 0;)if (!Object.prototype.hasOwnProperty.call(t, s[i])) return !1; for (i = r; i-- !== 0;) { var a = s[i]; if (!(a === "_owner" && e.$$typeof) && !n(e[a], t[a])) return !1 } return !0 } return e !== e && t !== t }), Px } var See = Eee(); const _ee = Pg(See); var Hx = { exports: {} }, jx = {}; var Jk; function Nee() { if (Jk) return jx; Jk = 1; var n = lp(), e = dI(); function t(u, f) { return u === f && (u !== 0 || 1 / u === 1 / f) || u !== u && f !== f } var r = typeof Object.is == "function" ? Object.is : t, i = e.useSyncExternalStore, s = n.useRef, a = n.useEffect, o = n.useMemo, A = n.useDebugValue; return jx.useSyncExternalStoreWithSelector = function (u, f, h, m, p) { var b = s(null); if (b.current === null) { var y = { hasValue: !1, value: null }; b.current = y } else y = b.current; b = o(function () { function _(X) { if (!O) { if (O = !0, I = X, X = m(X), p !== void 0 && y.hasValue) { var q = y.value; if (p(q, X)) return D = q } return D = X } if (q = D, r(I, X)) return q; var W = m(X); return p !== void 0 && p(q, W) ? (I = X, q) : (I = X, D = W) } var O = !1, I, D, z = h === void 0 ? null : h; return [function () { return _(f()) }, z === null ? void 0 : function () { return _(z()) }] }, [f, h, m, p]); var E = i(u, b[0], b[1]); return a(function () { y.hasValue = !0, y.value = E }, [E]), A(E), E }, jx } var Xk; function kee() { return Xk || (Xk = 1, Hx.exports = Nee()), Hx.exports } var Tee = kee(), Fee = (...n) => e => { n.forEach(t => { typeof t == "function" ? t(e) : t && (t.current = e) }) }, Uee = ({ contentComponent: n }) => { const e = hI.useSyncExternalStore(n.subscribe, n.getSnapshot, n.getServerSnapshot); return g.jsx(g.Fragment, { children: Object.values(e) }) }; function Oee() { const n = new Set; let e = {}; return { subscribe(t) { return n.add(t), () => { n.delete(t) } }, getSnapshot() { return e }, getServerSnapshot() { return e }, setRenderer(t, r) { e = { ...e, [t]: qF.createPortal(r.reactElement, r.element, t) }, n.forEach(i => i()) }, removeRenderer(t) { const r = { ...e }; delete r[t], e = r, n.forEach(i => i()) } } } var Ree = class extends Xa.Component { constructor(n) { var e; super(n), this.editorContentRef = Xa.createRef(), this.initialized = !1, this.state = { hasContentComponentInitialized: !!((e = n.editor) != null && e.contentComponent) } } componentDidMount() { this.init() } componentDidUpdate() { this.init() } init() { const n = this.props.editor; if (n && !n.isDestroyed && n.options.element) { if (n.contentComponent) return; const e = this.editorContentRef.current; e.append(n.view.dom), n.setOptions({ element: e }), n.contentComponent = Oee(), this.state.hasContentComponentInitialized || (this.unsubscribeToContentComponent = n.contentComponent.subscribe(() => { this.setState(t => t.hasContentComponentInitialized ? t : { hasContentComponentInitialized: !0 }), this.unsubscribeToContentComponent && this.unsubscribeToContentComponent() })), n.createNodeViews(), this.initialized = !0 } } componentWillUnmount() { var n; const e = this.props.editor; if (e) { this.initialized = !1, e.isDestroyed || e.view.setProps({ nodeViews: {} }), this.unsubscribeToContentComponent && this.unsubscribeToContentComponent(), e.contentComponent = null; try { if (!((n = e.view.dom) != null && n.firstChild)) return; const t = document.createElement("div"); t.append(e.view.dom), e.setOptions({ element: t }) } catch { } } } render() { const { editor: n, innerRef: e, ...t } = this.props; return g.jsxs(g.Fragment, { children: [g.jsx("div", { ref: Fee(e, this.editorContentRef), ...t }), n?.contentComponent && g.jsx(Uee, { contentComponent: n.contentComponent })] }) } }, Iee = F.forwardRef((n, e) => { const t = Xa.useMemo(() => Math.floor(Math.random() * 4294967295).toString(), [n.editor]); return Xa.createElement(Ree, { key: t, innerRef: e, ...n }) }), Lee = Xa.memo(Iee), Mee = typeof window < "u" ? F.useLayoutEffect : F.useEffect, Qee = class { constructor(n) { this.transactionNumber = 0, this.lastTransactionNumber = 0, this.subscribers = new Set, this.editor = n, this.lastSnapshot = { editor: n, transactionNumber: 0 }, this.getSnapshot = this.getSnapshot.bind(this), this.getServerSnapshot = this.getServerSnapshot.bind(this), this.watch = this.watch.bind(this), this.subscribe = this.subscribe.bind(this) } getSnapshot() { return this.transactionNumber === this.lastTransactionNumber ? this.lastSnapshot : (this.lastTransactionNumber = this.transactionNumber, this.lastSnapshot = { editor: this.editor, transactionNumber: this.transactionNumber }, this.lastSnapshot) } getServerSnapshot() { return { editor: null, transactionNumber: 0 } } subscribe(n) { return this.subscribers.add(n), () => { this.subscribers.delete(n) } } watch(n) { if (this.editor = n, this.editor) { const e = () => { this.transactionNumber += 1, this.subscribers.forEach(r => r()) }, t = this.editor; return t.on("transaction", e), () => { t.off("transaction", e) } } } }; function Dee(n) { var e; const [t] = F.useState(() => new Qee(n.editor)), r = Tee.useSyncExternalStoreWithSelector(t.subscribe, t.getSnapshot, t.getServerSnapshot, n.selector, (e = n.equalityFn) != null ? e : _ee); return Mee(() => t.watch(n.editor), [n.editor, t]), F.useDebugValue(r), r } var Pee = !1, MC = typeof window > "u", Hee = MC || !!(typeof window < "u" && window.next), jee = class y6 { constructor(e) { this.editor = null, this.subscriptions = new Set, this.isComponentMounted = !1, this.previousDeps = null, this.instanceId = "", this.options = e, this.subscriptions = new Set, this.setEditor(this.getInitialEditor()), this.scheduleDestroy(), this.getEditor = this.getEditor.bind(this), this.getServerSnapshot = this.getServerSnapshot.bind(this), this.subscribe = this.subscribe.bind(this), this.refreshEditorInstance = this.refreshEditorInstance.bind(this), this.scheduleDestroy = this.scheduleDestroy.bind(this), this.onRender = this.onRender.bind(this), this.createEditor = this.createEditor.bind(this) } setEditor(e) { this.editor = e, this.instanceId = Math.random().toString(36).slice(2, 9), this.subscriptions.forEach(t => t()) } getInitialEditor() { return this.options.current.immediatelyRender === void 0 ? MC || Hee ? null : this.createEditor() : (this.options.current.immediatelyRender, this.options.current.immediatelyRender ? this.createEditor() : null) } createEditor() { const e = { ...this.options.current, onBeforeCreate: (...r) => { var i, s; return (s = (i = this.options.current).onBeforeCreate) == null ? void 0 : s.call(i, ...r) }, onBlur: (...r) => { var i, s; return (s = (i = this.options.current).onBlur) == null ? void 0 : s.call(i, ...r) }, onCreate: (...r) => { var i, s; return (s = (i = this.options.current).onCreate) == null ? void 0 : s.call(i, ...r) }, onDestroy: (...r) => { var i, s; return (s = (i = this.options.current).onDestroy) == null ? void 0 : s.call(i, ...r) }, onFocus: (...r) => { var i, s; return (s = (i = this.options.current).onFocus) == null ? void 0 : s.call(i, ...r) }, onSelectionUpdate: (...r) => { var i, s; return (s = (i = this.options.current).onSelectionUpdate) == null ? void 0 : s.call(i, ...r) }, onTransaction: (...r) => { var i, s; return (s = (i = this.options.current).onTransaction) == null ? void 0 : s.call(i, ...r) }, onUpdate: (...r) => { var i, s; return (s = (i = this.options.current).onUpdate) == null ? void 0 : s.call(i, ...r) }, onContentError: (...r) => { var i, s; return (s = (i = this.options.current).onContentError) == null ? void 0 : s.call(i, ...r) }, onDrop: (...r) => { var i, s; return (s = (i = this.options.current).onDrop) == null ? void 0 : s.call(i, ...r) }, onPaste: (...r) => { var i, s; return (s = (i = this.options.current).onPaste) == null ? void 0 : s.call(i, ...r) }, onDelete: (...r) => { var i, s; return (s = (i = this.options.current).onDelete) == null ? void 0 : s.call(i, ...r) } }; return new pee(e) } getEditor() { return this.editor } getServerSnapshot() { return null } subscribe(e) { return this.subscriptions.add(e), () => { this.subscriptions.delete(e) } } static compareOptions(e, t) { return Object.keys(e).every(r => ["onCreate", "onBeforeCreate", "onDestroy", "onUpdate", "onTransaction", "onFocus", "onBlur", "onSelectionUpdate", "onContentError", "onDrop", "onPaste"].includes(r) ? !0 : r === "extensions" && e.extensions && t.extensions ? e.extensions.length !== t.extensions.length ? !1 : e.extensions.every((i, s) => { var a; return i === ((a = t.extensions) == null ? void 0 : a[s]) }) : e[r] === t[r]) } onRender(e) { return () => (this.isComponentMounted = !0, clearTimeout(this.scheduledDestructionTimeout), this.editor && !this.editor.isDestroyed && e.length === 0 ? y6.compareOptions(this.options.current, this.editor.options) || this.editor.setOptions({ ...this.options.current, editable: this.editor.isEditable }) : this.refreshEditorInstance(e), () => { this.isComponentMounted = !1, this.scheduleDestroy() }) } refreshEditorInstance(e) { if (this.editor && !this.editor.isDestroyed) { if (this.previousDeps === null) { this.previousDeps = e; return } if (this.previousDeps.length === e.length && this.previousDeps.every((r, i) => r === e[i])) return } this.editor && !this.editor.isDestroyed && this.editor.destroy(), this.setEditor(this.createEditor()), this.previousDeps = e } scheduleDestroy() { const e = this.instanceId, t = this.editor; this.scheduledDestructionTimeout = setTimeout(() => { if (this.isComponentMounted && this.instanceId === e) { t && t.setOptions(this.options.current); return } t && !t.isDestroyed && (t.destroy(), this.instanceId === e && this.setEditor(null)) }, 1) } }; function zee(n = {}, e = []) { const t = F.useRef(n); t.current = n; const [r] = F.useState(() => new jee(t)), i = hI.useSyncExternalStore(r.subscribe, r.getEditor, r.getServerSnapshot); return F.useDebugValue(i), F.useEffect(r.onRender(e)), Dee({ editor: i, selector: ({ transactionNumber: s }) => n.shouldRerenderOnTransaction === !1 || n.shouldRerenderOnTransaction === void 0 ? null : n.immediatelyRender && s === 0 ? 0 : s + 1 }), i } var Kee = F.createContext({ editor: null }); Kee.Consumer; var Vee = F.createContext({ onDragStart: () => { }, nodeViewContentChildren: void 0, nodeViewContentRef: () => { } }), Gee = () => F.useContext(Vee); Xa.forwardRef((n, e) => { const { onDragStart: t } = Gee(), r = n.as || "div"; return g.jsx(r, { ...n, ref: e, "data-node-view-wrapper": "", onDragStart: t, style: { whiteSpace: "normal", ...n.style } }) }); Xa.createContext({ markViewContentRef: () => { } }); var ow = (n, e) => { if (n === "slot") return 0; if (n instanceof Function) return n(e); const { children: t, ...r } = e ?? {}; if (n === "svg") throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead"); return [n, r, t] }, Wee = /^\s*>\s$/, Yee = GA.create({
  name: "blockquote", addOptions() { return { HTMLAttributes: {} } }, content: "block+", group: "block", defining: !0, parseHTML() { return [{ tag: "blockquote" }] }, renderHTML({ HTMLAttributes: n }) { return ow("blockquote", { ...Ma(this.options.HTMLAttributes, n), children: ow("slot", {}) }) }, parseMarkdown: (n, e) => e.createNode("blockquote", void 0, e.parseChildren(n.tokens || [])), renderMarkdown: (n, e) => {
    if (!n.content) return ""; const t = ">", r = []; return n.content.forEach(i => {
      const o = e.renderChildren([i]).split(`
`).map(A => A.trim() === "" ? t : `${t} ${A}`); r.push(o.join(`
`))
    }), r.join(`
${t}
`)
  }, addCommands() { return { setBlockquote: () => ({ commands: n }) => n.wrapIn(this.name), toggleBlockquote: () => ({ commands: n }) => n.toggleWrap(this.name), unsetBlockquote: () => ({ commands: n }) => n.lift(this.name) } }, addKeyboardShortcuts() { return { "Mod-Shift-b": () => this.editor.commands.toggleBlockquote() } }, addInputRules() { return [Mg({ find: Wee, type: this.type })] }
}), Jee = /(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/, Xee = /(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g, Zee = /(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/, qee = /(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g, $ee = up.create({ name: "bold", addOptions() { return { HTMLAttributes: {} } }, parseHTML() { return [{ tag: "strong" }, { tag: "b", getAttrs: n => n.style.fontWeight !== "normal" && null }, { style: "font-weight=400", clearMark: n => n.type.name === this.name }, { style: "font-weight", getAttrs: n => /^(bold(er)?|[5-9]\d{2,})$/.test(n) && null }] }, renderHTML({ HTMLAttributes: n }) { return ow("strong", { ...Ma(this.options.HTMLAttributes, n), children: ow("slot", {}) }) }, markdownTokenName: "strong", parseMarkdown: (n, e) => e.applyMark("bold", e.parseInline(n.tokens || [])), renderMarkdown: (n, e) => `**${e.renderChildren(n)}**`, addCommands() { return { setBold: () => ({ commands: n }) => n.setMark(this.name), toggleBold: () => ({ commands: n }) => n.toggleMark(this.name), unsetBold: () => ({ commands: n }) => n.unsetMark(this.name) } }, addKeyboardShortcuts() { return { "Mod-b": () => this.editor.commands.toggleBold(), "Mod-B": () => this.editor.commands.toggleBold() } }, addInputRules() { return [Lg({ find: Jee, type: this.type }), Lg({ find: Zee, type: this.type })] }, addPasteRules() { return [sp({ find: Xee, type: this.type }), sp({ find: qee, type: this.type })] } }), ete = /(^|[^`])`([^`]+)`(?!`)$/, tte = /(^|[^`])`([^`]+)`(?!`)/g, nte = up.create({ name: "code", addOptions() { return { HTMLAttributes: {} } }, excludes: "_", code: !0, exitable: !0, parseHTML() { return [{ tag: "code" }] }, renderHTML({ HTMLAttributes: n }) { return ["code", Ma(this.options.HTMLAttributes, n), 0] }, markdownTokenName: "codespan", parseMarkdown: (n, e) => e.applyMark("code", [{ type: "text", text: n.text || "" }]), renderMarkdown: (n, e) => n.content ? `\`${e.renderChildren(n.content)}\`` : "", addCommands() { return { setCode: () => ({ commands: n }) => n.setMark(this.name), toggleCode: () => ({ commands: n }) => n.toggleMark(this.name), unsetCode: () => ({ commands: n }) => n.unsetMark(this.name) } }, addKeyboardShortcuts() { return { "Mod-e": () => this.editor.commands.toggleCode() } }, addInputRules() { return [Lg({ find: ete, type: this.type })] }, addPasteRules() { return [sp({ find: tte, type: this.type })] } }), zx = 4, rte = /^```([a-z]+)?[\s\n]$/, ite = /^~~~([a-z]+)?[\s\n]$/, ste = GA.create({
  name: "codeBlock", addOptions() { return { languageClassPrefix: "language-", exitOnTripleEnter: !0, exitOnArrowDown: !0, defaultLanguage: null, enableTabIndentation: !1, tabSize: zx, HTMLAttributes: {} } }, content: "text*", marks: "", group: "block", code: !0, defining: !0, addAttributes() { return { language: { default: this.options.defaultLanguage, parseHTML: n => { var e; const { languageClassPrefix: t } = this.options; if (!t) return null; const s = [...((e = n.firstElementChild) == null ? void 0 : e.classList) || []].filter(a => a.startsWith(t)).map(a => a.replace(t, ""))[0]; return s || null }, rendered: !1 } } }, parseHTML() { return [{ tag: "pre", preserveWhitespace: "full" }] }, renderHTML({ node: n, HTMLAttributes: e }) { return ["pre", Ma(this.options.HTMLAttributes, e), ["code", { class: n.attrs.language ? this.options.languageClassPrefix + n.attrs.language : null }, 0]] }, markdownTokenName: "code", parseMarkdown: (n, e) => { var t; return ((t = n.raw) == null ? void 0 : t.startsWith("```")) === !1 && n.codeBlockStyle !== "indented" ? [] : e.createNode("codeBlock", { language: n.lang || null }, n.text ? [e.createTextNode(n.text)] : []) }, renderMarkdown: (n, e) => {
    var t; let r = ""; const i = ((t = n.attrs) == null ? void 0 : t.language) || ""; return n.content ? r = [`\`\`\`${i}`, e.renderChildren(n.content), "```"].join(`
`) : r = `\`\`\`${i}

\`\`\``, r
  }, addCommands() { return { setCodeBlock: n => ({ commands: e }) => e.setNode(this.name, n), toggleCodeBlock: n => ({ commands: e }) => e.toggleNode(this.name, "paragraph", n) } }, addKeyboardShortcuts() {
    return {
      "Mod-Alt-c": () => this.editor.commands.toggleCodeBlock(), Backspace: () => { const { empty: n, $anchor: e } = this.editor.state.selection, t = e.pos === 1; return !n || e.parent.type.name !== this.name ? !1 : t || !e.parent.textContent.length ? this.editor.commands.clearNodes() : !1 }, Tab: ({ editor: n }) => {
        var e; if (!this.options.enableTabIndentation) return !1; const t = (e = this.options.tabSize) != null ? e : zx, { state: r } = n, { selection: i } = r, { $from: s, empty: a } = i; if (s.parent.type !== this.type) return !1; const o = " ".repeat(t); return a ? n.commands.insertContent(o) : n.commands.command(({ tr: A }) => {
          const { from: u, to: f } = i, p = r.doc.textBetween(u, f, `
`, `
`).split(`
`).map(b => o + b).join(`
`); return A.replaceWith(u, f, r.schema.text(p)), !0
        })
      }, "Shift-Tab": ({ editor: n }) => {
        var e; if (!this.options.enableTabIndentation) return !1; const t = (e = this.options.tabSize) != null ? e : zx, { state: r } = n, { selection: i } = r, { $from: s, empty: a } = i; return s.parent.type !== this.type ? !1 : a ? n.commands.command(({ tr: o }) => {
          var A; const { pos: u } = s, f = s.start(), h = s.end(), p = r.doc.textBetween(f, h, `
`, `
`).split(`
`); let b = 0, y = 0; const E = u - f; for (let X = 0; X < p.length; X += 1) { if (y + p[X].length >= E) { b = X; break } y += p[X].length + 1 } const O = ((A = p[b].match(/^ */)) == null ? void 0 : A[0]) || "", I = Math.min(O.length, t); if (I === 0) return !0; let D = f; for (let X = 0; X < b; X += 1)D += p[X].length + 1; return o.delete(D, D + I), u - D <= I && o.setSelection(qn.create(o.doc, D)), !0
        }) : n.commands.command(({ tr: o }) => {
          const { from: A, to: u } = i, m = r.doc.textBetween(A, u, `
`, `
`).split(`
`).map(p => { var b; const y = ((b = p.match(/^ */)) == null ? void 0 : b[0]) || "", E = Math.min(y.length, t); return p.slice(E) }).join(`
`); return o.replaceWith(A, u, r.schema.text(m)), !0
        })
      }, Enter: ({ editor: n }) => {
        if (!this.options.exitOnTripleEnter) return !1; const { state: e } = n, { selection: t } = e, { $from: r, empty: i } = t; if (!i || r.parent.type !== this.type) return !1; const s = r.parentOffset === r.parent.nodeSize - 2, a = r.parent.textContent.endsWith(`

`); return !s || !a ? !1 : n.chain().command(({ tr: o }) => (o.delete(r.pos - 2, r.pos), !0)).exitCode().run()
      }, ArrowDown: ({ editor: n }) => { if (!this.options.exitOnArrowDown) return !1; const { state: e } = n, { selection: t, doc: r } = e, { $from: i, empty: s } = t; if (!s || i.parent.type !== this.type || !(i.parentOffset === i.parent.nodeSize - 2)) return !1; const o = i.after(); return o === void 0 ? !1 : r.nodeAt(o) ? n.commands.command(({ tr: u }) => (u.setSelection(mr.near(r.resolve(o))), !0)) : n.commands.exitCode() }
    }
  }, addInputRules() { return [IC({ find: rte, type: this.type, getAttributes: n => ({ language: n[1] }) }), IC({ find: ite, type: this.type, getAttributes: n => ({ language: n[1] }) })] }, addProseMirrorPlugins() {
    return [new Rs({
      key: new qa("codeBlockVSCodeHandler"), props: {
        handlePaste: (n, e) => {
          if (!e.clipboardData || this.editor.isActive(this.type.name)) return !1; const t = e.clipboardData.getData("text/plain"), r = e.clipboardData.getData("vscode-editor-data"), i = r ? JSON.parse(r) : void 0, s = i?.mode; if (!t || !s) return !1; const { tr: a, schema: o } = n.state, A = o.text(t.replace(/\r\n?/g, `
`)); return a.replaceSelectionWith(this.type.create({ language: s }, A)), a.selection.$from.parent.type !== this.type && a.setSelection(qn.near(a.doc.resolve(Math.max(0, a.selection.from - 2)))), a.setMeta("paste", !0), n.dispatch(a), !0
        }
      }
    })]
  }
}), ate = GA.create({
  name: "doc", topNode: !0, content: "block+", renderMarkdown: (n, e) => n.content ? e.renderChildren(n.content, `

`) : ""
}), ote = GA.create({
  name: "hardBreak", markdownTokenName: "br", addOptions() { return { keepMarks: !0, HTMLAttributes: {} } }, inline: !0, group: "inline", selectable: !1, linebreakReplacement: !0, parseHTML() { return [{ tag: "br" }] }, renderHTML({ HTMLAttributes: n }) { return ["br", Ma(this.options.HTMLAttributes, n)] }, renderText() {
    return `
`}, renderMarkdown: () => `  
`, parseMarkdown: () => ({ type: "hardBreak" }), addCommands() { return { setHardBreak: () => ({ commands: n, chain: e, state: t, editor: r }) => n.first([() => n.exitCode(), () => n.command(() => { const { selection: i, storedMarks: s } = t; if (i.$from.parent.type.spec.isolating) return !1; const { keepMarks: a } = this.options, { splittableMarks: o } = r.extensionManager, A = s || i.$to.parentOffset && i.$from.marks(); return e().insertContent({ type: this.name }).command(({ tr: u, dispatch: f }) => { if (f && A && a) { const h = A.filter(m => o.includes(m.type.name)); u.ensureMarks(h) } return !0 }).run() })]) } }, addKeyboardShortcuts() { return { "Mod-Enter": () => this.editor.commands.setHardBreak(), "Shift-Enter": () => this.editor.commands.setHardBreak() } }
}), lte = GA.create({ name: "heading", addOptions() { return { levels: [1, 2, 3, 4, 5, 6], HTMLAttributes: {} } }, content: "inline*", group: "block", defining: !0, addAttributes() { return { level: { default: 1, rendered: !1 } } }, parseHTML() { return this.options.levels.map(n => ({ tag: `h${n}`, attrs: { level: n } })) }, renderHTML({ node: n, HTMLAttributes: e }) { return [`h${this.options.levels.includes(n.attrs.level) ? n.attrs.level : this.options.levels[0]}`, Ma(this.options.HTMLAttributes, e), 0] }, parseMarkdown: (n, e) => e.createNode("heading", { level: n.depth || 1 }, e.parseInline(n.tokens || [])), renderMarkdown: (n, e) => { var t; const r = (t = n.attrs) != null && t.level ? parseInt(n.attrs.level, 10) : 1, i = "#".repeat(r); return n.content ? `${i} ${e.renderChildren(n.content)}` : "" }, addCommands() { return { setHeading: n => ({ commands: e }) => this.options.levels.includes(n.level) ? e.setNode(this.name, n) : !1, toggleHeading: n => ({ commands: e }) => this.options.levels.includes(n.level) ? e.toggleNode(this.name, "paragraph", n) : !1 } }, addKeyboardShortcuts() { return this.options.levels.reduce((n, e) => ({ ...n, [`Mod-Alt-${e}`]: () => this.editor.commands.toggleHeading({ level: e }) }), {}) }, addInputRules() { return this.options.levels.map(n => IC({ find: new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`), type: this.type, getAttributes: { level: n } })) } }), Ate = GA.create({ name: "horizontalRule", addOptions() { return { HTMLAttributes: {}, nextNodeType: "paragraph" } }, group: "block", parseHTML() { return [{ tag: "hr" }] }, renderHTML({ HTMLAttributes: n }) { return ["hr", Ma(this.options.HTMLAttributes, n)] }, markdownTokenName: "hr", parseMarkdown: (n, e) => e.createNode("horizontalRule"), renderMarkdown: () => "---", addCommands() { return { setHorizontalRule: () => ({ chain: n, state: e }) => { if (!mee(e, e.schema.nodes[this.name])) return !1; const { selection: t } = e, { $to: r } = t, i = n(); return r6(t) ? i.insertContentAt(r.pos, { type: this.name }) : i.insertContent({ type: this.name }), i.command(({ state: s, tr: a, dispatch: o }) => { if (o) { const { $to: A } = a.selection, u = A.end(); if (A.nodeAfter) A.nodeAfter.isTextblock ? a.setSelection(qn.create(a.doc, A.pos + 1)) : A.nodeAfter.isBlock ? a.setSelection(Un.create(a.doc, A.pos)) : a.setSelection(qn.create(a.doc, A.pos)); else { const f = s.schema.nodes[this.options.nextNodeType] || A.parent.type.contentMatch.defaultType, h = f?.create(); h && (a.insert(u, h), a.setSelection(qn.create(a.doc, u + 1))) } a.scrollIntoView() } return !0 }).run() } } }, addInputRules() { return [gee({ find: /^(?:---|-|___\s|\*\*\*\s)$/, type: this.type })] } }), cte = /(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/, ute = /(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g, fte = /(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/, dte = /(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g, hte = up.create({ name: "italic", addOptions() { return { HTMLAttributes: {} } }, parseHTML() { return [{ tag: "em" }, { tag: "i", getAttrs: n => n.style.fontStyle !== "normal" && null }, { style: "font-style=normal", clearMark: n => n.type.name === this.name }, { style: "font-style=italic" }] }, renderHTML({ HTMLAttributes: n }) { return ["em", Ma(this.options.HTMLAttributes, n), 0] }, addCommands() { return { setItalic: () => ({ commands: n }) => n.setMark(this.name), toggleItalic: () => ({ commands: n }) => n.toggleMark(this.name), unsetItalic: () => ({ commands: n }) => n.unsetMark(this.name) } }, markdownTokenName: "em", parseMarkdown: (n, e) => e.applyMark("italic", e.parseInline(n.tokens || [])), renderMarkdown: (n, e) => `*${e.renderChildren(n)}*`, addKeyboardShortcuts() { return { "Mod-i": () => this.editor.commands.toggleItalic(), "Mod-I": () => this.editor.commands.toggleItalic() } }, addInputRules() { return [Lg({ find: cte, type: this.type }), Lg({ find: fte, type: this.type })] }, addPasteRules() { return [sp({ find: ute, type: this.type }), sp({ find: dte, type: this.type })] } }); const pte = "aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2", gte = "121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222", QC = "numeric", DC = "ascii", PC = "alpha", c0 = "asciinumeric", Jm = "alphanumeric", HC = "domain", w6 = "emoji", mte = "scheme", vte = "slashscheme", Kx = "whitespace"; function yte(n, e) { return n in e || (e[n] = []), e[n] } function Qh(n, e, t) { e[QC] && (e[c0] = !0, e[Jm] = !0), e[DC] && (e[c0] = !0, e[PC] = !0), e[c0] && (e[Jm] = !0), e[PC] && (e[Jm] = !0), e[Jm] && (e[HC] = !0), e[w6] && (e[HC] = !0); for (const r in e) { const i = yte(r, t); i.indexOf(n) < 0 && i.push(n) } } function wte(n, e) { const t = {}; for (const r in e) e[r].indexOf(n) >= 0 && (t[r] = !0); return t } function pA(n = null) { this.j = {}, this.jr = [], this.jd = null, this.t = n } pA.groups = {}; pA.prototype = { accepts() { return !!this.t }, go(n) { const e = this, t = e.j[n]; if (t) return t; for (let r = 0; r < e.jr.length; r++) { const i = e.jr[r][0], s = e.jr[r][1]; if (s && i.test(n)) return s } return e.jd }, has(n, e = !1) { return e ? n in this.j : !!this.go(n) }, ta(n, e, t, r) { for (let i = 0; i < n.length; i++)this.tt(n[i], e, t, r) }, tr(n, e, t, r) { r = r || pA.groups; let i; return e && e.j ? i = e : (i = new pA(e), t && r && Qh(e, t, r)), this.jr.push([n, i]), i }, ts(n, e, t, r) { let i = this; const s = n.length; if (!s) return i; for (let a = 0; a < s - 1; a++)i = i.tt(n[a]); return i.tt(n[s - 1], e, t, r) }, tt(n, e, t, r) { r = r || pA.groups; const i = this; if (e && e.j) return i.j[n] = e, e; const s = e; let a, o = i.go(n); if (o ? (a = new pA, Object.assign(a.j, o.j), a.jr.push.apply(a.jr, o.jr), a.jd = o.jd, a.t = o.t) : a = new pA, s) { if (r) if (a.t && typeof a.t == "string") { const A = Object.assign(wte(a.t, r), t); Qh(s, A, r) } else t && Qh(s, t, r); a.t = s } return i.j[n] = a, a } }; const gr = (n, e, t, r, i) => n.ta(e, t, r, i), Ws = (n, e, t, r, i) => n.tr(e, t, r, i), Zk = (n, e, t, r, i) => n.ts(e, t, r, i), Ut = (n, e, t, r, i) => n.tt(e, t, r, i), af = "WORD", jC = "UWORD", b6 = "ASCIINUMERICAL", x6 = "ALPHANUMERICAL", P0 = "LOCALHOST", zC = "TLD", KC = "UTLD", y1 = "SCHEME", Ag = "SLASH_SCHEME", eS = "NUM", VC = "WS", tS = "NL", u0 = "OPENBRACE", f0 = "CLOSEBRACE", lw = "OPENBRACKET", Aw = "CLOSEBRACKET", cw = "OPENPAREN", uw = "CLOSEPAREN", fw = "OPENANGLEBRACKET", dw = "CLOSEANGLEBRACKET", hw = "FULLWIDTHLEFTPAREN", pw = "FULLWIDTHRIGHTPAREN", gw = "LEFTCORNERBRACKET", mw = "RIGHTCORNERBRACKET", vw = "LEFTWHITECORNERBRACKET", yw = "RIGHTWHITECORNERBRACKET", ww = "FULLWIDTHLESSTHAN", bw = "FULLWIDTHGREATERTHAN", xw = "AMPERSAND", Bw = "APOSTROPHE", Cw = "ASTERISK", ad = "AT", Ew = "BACKSLASH", Sw = "BACKTICK", _w = "CARET", ud = "COLON", nS = "COMMA", Nw = "DOLLAR", bu = "DOT", kw = "EQUALS", rS = "EXCLAMATION", ic = "HYPHEN", d0 = "PERCENT", Tw = "PIPE", Fw = "PLUS", Uw = "POUND", h0 = "QUERY", iS = "QUOTE", B6 = "FULLWIDTHMIDDLEDOT", sS = "SEMI", xu = "SLASH", p0 = "TILDE", Ow = "UNDERSCORE", C6 = "EMOJI", Rw = "SYM"; var E6 = Object.freeze({ __proto__: null, ALPHANUMERICAL: x6, AMPERSAND: xw, APOSTROPHE: Bw, ASCIINUMERICAL: b6, ASTERISK: Cw, AT: ad, BACKSLASH: Ew, BACKTICK: Sw, CARET: _w, CLOSEANGLEBRACKET: dw, CLOSEBRACE: f0, CLOSEBRACKET: Aw, CLOSEPAREN: uw, COLON: ud, COMMA: nS, DOLLAR: Nw, DOT: bu, EMOJI: C6, EQUALS: kw, EXCLAMATION: rS, FULLWIDTHGREATERTHAN: bw, FULLWIDTHLEFTPAREN: hw, FULLWIDTHLESSTHAN: ww, FULLWIDTHMIDDLEDOT: B6, FULLWIDTHRIGHTPAREN: pw, HYPHEN: ic, LEFTCORNERBRACKET: gw, LEFTWHITECORNERBRACKET: vw, LOCALHOST: P0, NL: tS, NUM: eS, OPENANGLEBRACKET: fw, OPENBRACE: u0, OPENBRACKET: lw, OPENPAREN: cw, PERCENT: d0, PIPE: Tw, PLUS: Fw, POUND: Uw, QUERY: h0, QUOTE: iS, RIGHTCORNERBRACKET: mw, RIGHTWHITECORNERBRACKET: yw, SCHEME: y1, SEMI: sS, SLASH: xu, SLASH_SCHEME: Ag, SYM: Rw, TILDE: p0, TLD: zC, UNDERSCORE: Ow, UTLD: KC, UWORD: jC, WORD: af, WS: VC }); const $u = /[a-z]/, Lm = new RegExp("\\p{L}", "u"), Vx = new RegExp("\\p{Emoji}", "u"), ef = /\d/, Gx = /\s/, qk = "\r", Wx = `
`, bte = "", xte = "", Yx = ""; let Ny = null, ky = null; function Bte(n = []) { const e = {}; pA.groups = e; const t = new pA; Ny == null && (Ny = $k(pte)), ky == null && (ky = $k(gte)), Ut(t, "'", Bw), Ut(t, "{", u0), Ut(t, "}", f0), Ut(t, "[", lw), Ut(t, "]", Aw), Ut(t, "(", cw), Ut(t, ")", uw), Ut(t, "<", fw), Ut(t, ">", dw), Ut(t, "", hw), Ut(t, "", pw), Ut(t, "", gw), Ut(t, "", mw), Ut(t, "", vw), Ut(t, "", yw), Ut(t, "", ww), Ut(t, "", bw), Ut(t, "&", xw), Ut(t, "*", Cw), Ut(t, "@", ad), Ut(t, "`", Sw), Ut(t, "^", _w), Ut(t, ":", ud), Ut(t, ",", nS), Ut(t, "$", Nw), Ut(t, ".", bu), Ut(t, "=", kw), Ut(t, "!", rS), Ut(t, "-", ic), Ut(t, "%", d0), Ut(t, "|", Tw), Ut(t, "+", Fw), Ut(t, "#", Uw), Ut(t, "?", h0), Ut(t, '"', iS), Ut(t, "/", xu), Ut(t, ";", sS), Ut(t, "~", p0), Ut(t, "_", Ow), Ut(t, "\\", Ew), Ut(t, "", B6); const r = Ws(t, ef, eS, { [QC]: !0 }); Ws(r, ef, r); const i = Ws(r, $u, b6, { [c0]: !0 }), s = Ws(r, Lm, x6, { [Jm]: !0 }), a = Ws(t, $u, af, { [DC]: !0 }); Ws(a, ef, i), Ws(a, $u, a), Ws(i, ef, i), Ws(i, $u, i); const o = Ws(t, Lm, jC, { [PC]: !0 }); Ws(o, $u), Ws(o, ef, s), Ws(o, Lm, o), Ws(s, ef, s), Ws(s, $u), Ws(s, Lm, s); const A = Ut(t, Wx, tS, { [Kx]: !0 }), u = Ut(t, qk, VC, { [Kx]: !0 }), f = Ws(t, Gx, VC, { [Kx]: !0 }); Ut(t, Yx, f), Ut(u, Wx, A), Ut(u, Yx, f), Ws(u, Gx, f), Ut(f, qk), Ut(f, Wx), Ws(f, Gx, f), Ut(f, Yx, f); const h = Ws(t, Vx, C6, { [w6]: !0 }); Ut(h, "#"), Ws(h, Vx, h), Ut(h, bte, h); const m = Ut(h, xte); Ut(m, "#"), Ws(m, Vx, h); const p = [[$u, a], [ef, i]], b = [[$u, null], [Lm, o], [ef, s]]; for (let y = 0; y < Ny.length; y++)Zf(t, Ny[y], zC, af, p); for (let y = 0; y < ky.length; y++)Zf(t, ky[y], KC, jC, b); Qh(zC, { tld: !0, ascii: !0 }, e), Qh(KC, { utld: !0, alpha: !0 }, e), Zf(t, "file", y1, af, p), Zf(t, "mailto", y1, af, p), Zf(t, "http", Ag, af, p), Zf(t, "https", Ag, af, p), Zf(t, "ftp", Ag, af, p), Zf(t, "ftps", Ag, af, p), Qh(y1, { scheme: !0, ascii: !0 }, e), Qh(Ag, { slashscheme: !0, ascii: !0 }, e), n = n.sort((y, E) => y[0] > E[0] ? 1 : -1); for (let y = 0; y < n.length; y++) { const E = n[y][0], O = n[y][1] ? { [mte]: !0 } : { [vte]: !0 }; E.indexOf("-") >= 0 ? O[HC] = !0 : $u.test(E) ? ef.test(E) ? O[c0] = !0 : O[DC] = !0 : O[QC] = !0, Zk(t, E, E, O) } return Zk(t, "localhost", P0, { ascii: !0 }), t.jd = new pA(Rw), { start: t, tokens: Object.assign({ groups: e }, E6) } } function S6(n, e) { const t = Cte(e.replace(/[A-Z]/g, o => o.toLowerCase())), r = t.length, i = []; let s = 0, a = 0; for (; a < r;) { let o = n, A = null, u = 0, f = null, h = -1, m = -1; for (; a < r && (A = o.go(t[a]));)o = A, o.accepts() ? (h = 0, m = 0, f = o) : h >= 0 && (h += t[a].length, m++), u += t[a].length, s += t[a].length, a++; s -= h, a -= m, u -= h, i.push({ t: f.t, v: e.slice(s - u, s), s: s - u, e: s }) } return i } function Cte(n) { const e = [], t = n.length; let r = 0; for (; r < t;) { let i = n.charCodeAt(r), s, a = i < 55296 || i > 56319 || r + 1 === t || (s = n.charCodeAt(r + 1)) < 56320 || s > 57343 ? n[r] : n.slice(r, r + 2); e.push(a), r += a.length } return e } function Zf(n, e, t, r, i) { let s; const a = e.length; for (let o = 0; o < a - 1; o++) { const A = e[o]; n.j[A] ? s = n.j[A] : (s = new pA(r), s.jr = i.slice(), n.j[A] = s), n = s } return s = new pA(t), s.jr = i.slice(), n.j[e[a - 1]] = s, s } function $k(n) { const e = [], t = []; let r = 0, i = "0123456789"; for (; r < n.length;) { let s = 0; for (; i.indexOf(n[r + s]) >= 0;)s++; if (s > 0) { e.push(t.join("")); for (let a = parseInt(n.substring(r, r + s), 10); a > 0; a--)t.pop(); r += s } else t.push(n[r]), r++ } return e } const H0 = { defaultProtocol: "http", events: null, format: e3, formatHref: e3, nl2br: !1, tagName: "a", target: null, rel: null, validate: !0, truncate: 1 / 0, className: null, attributes: null, ignoreTags: [], render: null }; function aS(n, e = null) { let t = Object.assign({}, H0); n && (t = Object.assign(t, n instanceof aS ? n.o : n)); const r = t.ignoreTags, i = []; for (let s = 0; s < r.length; s++)i.push(r[s].toUpperCase()); this.o = t, e && (this.defaultRender = e), this.ignoreTags = i } aS.prototype = { o: H0, ignoreTags: [], defaultRender(n) { return n }, check(n) { return this.get("validate", n.toString(), n) }, get(n, e, t) { const r = e != null; let i = this.o[n]; return i && (typeof i == "object" ? (i = t.t in i ? i[t.t] : H0[n], typeof i == "function" && r && (i = i(e, t))) : typeof i == "function" && r && (i = i(e, t.t, t)), i) }, getObj(n, e, t) { let r = this.o[n]; return typeof r == "function" && e != null && (r = r(e, t.t, t)), r }, render(n) { const e = n.render(this); return (this.get("render", null, n) || this.defaultRender)(e, n.t, n) } }; function e3(n) { return n } function _6(n, e) { this.t = "token", this.v = n, this.tk = e } _6.prototype = { isLink: !1, toString() { return this.v }, toHref(n) { return this.toString() }, toFormattedString(n) { const e = this.toString(), t = n.get("truncate", e, this), r = n.get("format", e, this); return t && r.length > t ? r.substring(0, t) + "" : r }, toFormattedHref(n) { return n.get("formatHref", this.toHref(n.get("defaultProtocol")), this) }, startIndex() { return this.tk[0].s }, endIndex() { return this.tk[this.tk.length - 1].e }, toObject(n = H0.defaultProtocol) { return { type: this.t, value: this.toString(), isLink: this.isLink, href: this.toHref(n), start: this.startIndex(), end: this.endIndex() } }, toFormattedObject(n) { return { type: this.t, value: this.toFormattedString(n), isLink: this.isLink, href: this.toFormattedHref(n), start: this.startIndex(), end: this.endIndex() } }, validate(n) { return n.get("validate", this.toString(), this) }, render(n) { const e = this, t = this.toHref(n.get("defaultProtocol")), r = n.get("formatHref", t, this), i = n.get("tagName", t, e), s = this.toFormattedString(n), a = {}, o = n.get("className", t, e), A = n.get("target", t, e), u = n.get("rel", t, e), f = n.getObj("attributes", t, e), h = n.getObj("events", t, e); return a.href = r, o && (a.class = o), A && (a.target = A), u && (a.rel = u), f && Object.assign(a, f), { tagName: i, attributes: a, content: s, eventListeners: h } } }; function Lb(n, e) { class t extends _6 { constructor(i, s) { super(i, s), this.t = n } } for (const r in e) t.prototype[r] = e[r]; return t.t = n, t } const t3 = Lb("email", { isLink: !0, toHref() { return "mailto:" + this.toString() } }), n3 = Lb("text"), Ete = Lb("nl"), Ty = Lb("url", { isLink: !0, toHref(n = H0.defaultProtocol) { return this.hasProtocol() ? this.v : `${n}://${this.v}` }, hasProtocol() { const n = this.tk; return n.length >= 2 && n[0].t !== P0 && n[1].t === ud } }), rc = n => new pA(n); function Ste({ groups: n }) { const e = n.domain.concat([xw, Cw, ad, Ew, Sw, _w, Nw, kw, ic, eS, d0, Tw, Fw, Uw, xu, Rw, p0, Ow]), t = [Bw, ud, nS, bu, rS, d0, h0, iS, sS, fw, dw, u0, f0, Aw, lw, cw, uw, hw, pw, gw, mw, vw, yw, ww, bw], r = [xw, Bw, Cw, Ew, Sw, _w, Nw, kw, ic, u0, f0, d0, Tw, Fw, Uw, h0, xu, Rw, p0, Ow], i = rc(), s = Ut(i, p0); gr(s, r, s), gr(s, n.domain, s); const a = rc(), o = rc(), A = rc(); gr(i, n.domain, a), gr(i, n.scheme, o), gr(i, n.slashscheme, A), gr(a, r, s), gr(a, n.domain, a); const u = Ut(a, ad); Ut(s, ad, u), Ut(o, ad, u), Ut(A, ad, u); const f = Ut(s, bu); gr(f, r, s), gr(f, n.domain, s); const h = rc(); gr(u, n.domain, h), gr(h, n.domain, h); const m = Ut(h, bu); gr(m, n.domain, h); const p = rc(t3); gr(m, n.tld, p), gr(m, n.utld, p), Ut(u, P0, p); const b = Ut(h, ic); Ut(b, ic, b), gr(b, n.domain, h), gr(p, n.domain, h), Ut(p, bu, m), Ut(p, ic, b); const y = Ut(p, ud); gr(y, n.numeric, t3); const E = Ut(a, ic), _ = Ut(a, bu); Ut(E, ic, E), gr(E, n.domain, a), gr(_, r, s), gr(_, n.domain, a); const O = rc(Ty); gr(_, n.tld, O), gr(_, n.utld, O), gr(O, n.domain, a), gr(O, r, s), Ut(O, bu, _), Ut(O, ic, E), Ut(O, ad, u); const I = Ut(O, ud), D = rc(Ty); gr(I, n.numeric, D); const z = rc(Ty), X = rc(); gr(z, e, z), gr(z, t, X), gr(X, e, z), gr(X, t, X), Ut(O, xu, z), Ut(D, xu, z); const q = Ut(o, ud), W = Ut(A, ud), G = Ut(W, xu), fe = Ut(G, xu); gr(o, n.domain, a), Ut(o, bu, _), Ut(o, ic, E), gr(A, n.domain, a), Ut(A, bu, _), Ut(A, ic, E), gr(q, n.domain, z), Ut(q, xu, z), Ut(q, h0, z), gr(fe, n.domain, z), gr(fe, e, z), Ut(fe, xu, z); const ne = [[u0, f0], [lw, Aw], [cw, uw], [fw, dw], [hw, pw], [gw, mw], [vw, yw], [ww, bw]]; for (let V = 0; V < ne.length; V++) { const [se, M] = ne[V], pe = Ut(z, se); Ut(X, se, pe), Ut(pe, M, z); const Z = rc(Ty); gr(pe, e, Z); const ae = rc(); gr(pe, t), gr(Z, e, Z), gr(Z, t, ae), gr(ae, e, Z), gr(ae, t, ae), Ut(Z, M, z), Ut(ae, M, z) } return Ut(i, P0, O), Ut(i, tS, Ete), { start: i, tokens: E6 } } function _te(n, e, t) { let r = t.length, i = 0, s = [], a = []; for (; i < r;) { let o = n, A = null, u = null, f = 0, h = null, m = -1; for (; i < r && !(A = o.go(t[i].t));)a.push(t[i++]); for (; i < r && (u = A || o.go(t[i].t));)A = null, o = u, o.accepts() ? (m = 0, h = o) : m >= 0 && m++, i++, f++; if (m < 0) i -= f, i < r && (a.push(t[i]), i++); else { a.length > 0 && (s.push(Jx(n3, e, a)), a = []), i -= m, f -= m; const p = h.t, b = t.slice(i - f, i); s.push(Jx(p, e, b)) } } return a.length > 0 && s.push(Jx(n3, e, a)), s } function Jx(n, e, t) { const r = t[0].s, i = t[t.length - 1].e, s = e.slice(r, i); return new n(s, t) } const Nte = typeof console < "u" && console && console.warn || (() => { }), kte = "until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.", ls = { scanner: null, parser: null, tokenQueue: [], pluginQueue: [], customSchemes: [], initialized: !1 }; function Tte() { return pA.groups = {}, ls.scanner = null, ls.parser = null, ls.tokenQueue = [], ls.pluginQueue = [], ls.customSchemes = [], ls.initialized = !1, ls } function r3(n, e = !1) {
  if (ls.initialized && Nte(`linkifyjs: already initialized - will not register custom scheme "${n}" ${kte}`), !/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n)) throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`); ls.customSchemes.push([n, e])
} function Fte() { ls.scanner = Bte(ls.customSchemes); for (let n = 0; n < ls.tokenQueue.length; n++)ls.tokenQueue[n][1]({ scanner: ls.scanner }); ls.parser = Ste(ls.scanner.tokens); for (let n = 0; n < ls.pluginQueue.length; n++)ls.pluginQueue[n][1]({ scanner: ls.scanner, parser: ls.parser }); return ls.initialized = !0, ls } function oS(n) { return ls.initialized || Fte(), _te(ls.parser.start, n, S6(ls.scanner.start, n)) } oS.scan = S6; function N6(n, e = null, t = null) { if (e && typeof e == "object") { if (t) throw Error(`linkifyjs: Invalid link type ${e}; must be a string`); t = e, e = null } const r = new aS(t), i = oS(n), s = []; for (let a = 0; a < i.length; a++) { const o = i[a]; o.isLink && (!e || o.t === e) && r.check(o) && s.push(o.toFormattedObject(r)) } return s } var lS = "[\0- -\u2029]", Ute = new RegExp(lS), Ote = new RegExp(`${lS}$`), Rte = new RegExp(lS, "g"); function Ite(n) { return n.length === 1 ? n[0].isLink : n.length === 3 && n[1].isLink ? ["()", "[]"].includes(n[0].value + n[2].value) : !1 } function Lte(n) { return new Rs({ key: new qa("autolink"), appendTransaction: (e, t, r) => { const i = e.some(u => u.docChanged) && !t.doc.eq(r.doc), s = e.some(u => u.getMeta("preventAutolink")); if (!i || s) return; const { tr: a } = r, o = JL(t.doc, [...e]); if (n6(o).forEach(({ newRange: u }) => { const f = y$(r.doc, u, p => p.isTextblock); let h, m; if (f.length > 1) h = f[0], m = r.doc.textBetween(h.pos, h.pos + h.node.nodeSize, void 0, " "); else if (f.length) { const p = r.doc.textBetween(u.from, u.to, " ", " "); if (!Ote.test(p)) return; h = f[0], m = r.doc.textBetween(h.pos, u.to, void 0, " ") } if (h && m) { const p = m.split(Ute).filter(Boolean); if (p.length <= 0) return !1; const b = p[p.length - 1], y = h.pos + m.lastIndexOf(b); if (!b) return !1; const E = oS(b).map(_ => _.toObject(n.defaultProtocol)); if (!Ite(E)) return !1; E.filter(_ => _.isLink).map(_ => ({ ..._, from: y + _.start + 1, to: y + _.end + 1 })).filter(_ => r.schema.marks.code ? !r.doc.rangeHasMark(_.from, _.to, r.schema.marks.code) : !0).filter(_ => n.validate(_.value)).filter(_ => n.shouldAutoLink(_.value)).forEach(_ => { JE(_.from, _.to, r.doc).some(O => O.mark.type === n.type) || a.addMark(_.from, _.to, n.type.create({ href: _.href })) }) } }), !!a.steps.length) return a } }) } function Mte(n) { return new Rs({ key: new qa("handleClickLink"), props: { handleClick: (e, t, r) => { var i, s; if (r.button !== 0 || !e.editable) return !1; let a = null; if (r.target instanceof HTMLAnchorElement) a = r.target; else { let f = r.target; const h = []; for (; f.nodeName !== "DIV";)h.push(f), f = f.parentNode; a = h.find(m => m.nodeName === "A") } if (!a) return !1; const o = t6(e.state, n.type.name), A = (i = a?.href) != null ? i : o.href, u = (s = a?.target) != null ? s : o.target; return n.enableClickSelection && n.editor.commands.extendMarkRange(n.type.name), a && A ? (window.open(A, u), !0) : !1 } } }) } function Qte(n) { return new Rs({ key: new qa("handlePasteLink"), props: { handlePaste: (e, t, r) => { const { shouldAutoLink: i } = n, { state: s } = e, { selection: a } = s, { empty: o } = a; if (o) return !1; let A = ""; r.content.forEach(f => { A += f.textContent }); const u = N6(A, { defaultProtocol: n.defaultProtocol }).find(f => f.isLink && f.value === A); return !A || !u || i !== void 0 && !i(u.href) ? !1 : n.editor.commands.setMark(n.type, { href: u.href }) } } }) } function bh(n, e) { const t = ["http", "https", "ftp", "ftps", "mailto", "tel", "callto", "sms", "cid", "xmpp"]; return e && e.forEach(r => { const i = typeof r == "string" ? r : r.scheme; i && t.push(i) }), !n || n.replace(Rte, "").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`, "i")) } var Dte = up.create({ name: "link", priority: 1e3, keepOnSplit: !1, exitable: !0, onCreate() { this.options.validate && !this.options.shouldAutoLink && (this.options.shouldAutoLink = this.options.validate, console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")), this.options.protocols.forEach(n => { if (typeof n == "string") { r3(n); return } r3(n.scheme, n.optionalSlashes) }) }, onDestroy() { Tte() }, inclusive() { return this.options.autolink }, addOptions() { return { openOnClick: !0, enableClickSelection: !1, linkOnPaste: !0, autolink: !0, protocols: [], defaultProtocol: "http", HTMLAttributes: { target: "_blank", rel: "noopener noreferrer nofollow", class: null }, isAllowedUri: (n, e) => !!bh(n, e.protocols), validate: n => !!n, shouldAutoLink: n => !!n } }, addAttributes() { return { href: { default: null, parseHTML(n) { return n.getAttribute("href") } }, target: { default: this.options.HTMLAttributes.target }, rel: { default: this.options.HTMLAttributes.rel }, class: { default: this.options.HTMLAttributes.class } } }, parseHTML() { return [{ tag: "a[href]", getAttrs: n => { const e = n.getAttribute("href"); return !e || !this.options.isAllowedUri(e, { defaultValidate: t => !!bh(t, this.options.protocols), protocols: this.options.protocols, defaultProtocol: this.options.defaultProtocol }) ? !1 : null } }] }, renderHTML({ HTMLAttributes: n }) { return this.options.isAllowedUri(n.href, { defaultValidate: e => !!bh(e, this.options.protocols), protocols: this.options.protocols, defaultProtocol: this.options.defaultProtocol }) ? ["a", Ma(this.options.HTMLAttributes, n), 0] : ["a", Ma(this.options.HTMLAttributes, { ...n, href: "" }), 0] }, markdownTokenName: "link", parseMarkdown: (n, e) => e.applyMark("link", e.parseInline(n.tokens || []), { href: n.href, title: n.title || null }), renderMarkdown: (n, e) => { var t; const r = ((t = n.attrs) == null ? void 0 : t.href) || ""; return `[${e.renderChildren(n)}](${r})` }, addCommands() { return { setLink: n => ({ chain: e }) => { const { href: t } = n; return this.options.isAllowedUri(t, { defaultValidate: r => !!bh(r, this.options.protocols), protocols: this.options.protocols, defaultProtocol: this.options.defaultProtocol }) ? e().setMark(this.name, n).setMeta("preventAutolink", !0).run() : !1 }, toggleLink: n => ({ chain: e }) => { const { href: t } = n || {}; return t && !this.options.isAllowedUri(t, { defaultValidate: r => !!bh(r, this.options.protocols), protocols: this.options.protocols, defaultProtocol: this.options.defaultProtocol }) ? !1 : e().toggleMark(this.name, n, { extendEmptyMarkRange: !0 }).setMeta("preventAutolink", !0).run() }, unsetLink: () => ({ chain: n }) => n().unsetMark(this.name, { extendEmptyMarkRange: !0 }).setMeta("preventAutolink", !0).run() } }, addPasteRules() { return [sp({ find: n => { const e = []; if (n) { const { protocols: t, defaultProtocol: r } = this.options, i = N6(n).filter(s => s.isLink && this.options.isAllowedUri(s.value, { defaultValidate: a => !!bh(a, t), protocols: t, defaultProtocol: r })); i.length && i.forEach(s => { this.options.shouldAutoLink(s.value) && e.push({ text: s.value, data: { href: s.href }, index: s.start }) }) } return e }, type: this.type, getAttributes: n => { var e; return { href: (e = n.data) == null ? void 0 : e.href } } })] }, addProseMirrorPlugins() { const n = [], { protocols: e, defaultProtocol: t } = this.options; return this.options.autolink && n.push(Lte({ type: this.type, defaultProtocol: this.options.defaultProtocol, validate: r => this.options.isAllowedUri(r, { defaultValidate: i => !!bh(i, e), protocols: e, defaultProtocol: t }), shouldAutoLink: this.options.shouldAutoLink })), this.options.openOnClick === !0 && n.push(Mte({ type: this.type, editor: this.editor, enableClickSelection: this.options.enableClickSelection })), this.options.linkOnPaste && n.push(Qte({ editor: this.editor, defaultProtocol: this.options.defaultProtocol, type: this.type, shouldAutoLink: this.options.shouldAutoLink })), n } }), Pte = Object.defineProperty, Hte = (n, e) => { for (var t in e) Pte(n, t, { get: e[t], enumerable: !0 }) }, jte = "listItem", i3 = "textStyle", s3 = /^\s*([-+*])\s$/, k6 = GA.create({
  name: "bulletList", addOptions() { return { itemTypeName: "listItem", HTMLAttributes: {}, keepMarks: !1, keepAttributes: !1 } }, group: "block list", content() { return `${this.options.itemTypeName}+` }, parseHTML() { return [{ tag: "ul" }] }, renderHTML({ HTMLAttributes: n }) { return ["ul", Ma(this.options.HTMLAttributes, n), 0] }, markdownTokenName: "list", parseMarkdown: (n, e) => n.type !== "list" || n.ordered ? [] : { type: "bulletList", content: n.items ? e.parseChildren(n.items) : [] }, renderMarkdown: (n, e) => n.content ? e.renderChildren(n.content, `
`) : "", markdownOptions: { indentsContent: !0 }, addCommands() { return { toggleBulletList: () => ({ commands: n, chain: e }) => this.options.keepAttributes ? e().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(jte, this.editor.getAttributes(i3)).run() : n.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks) } }, addKeyboardShortcuts() { return { "Mod-Shift-8": () => this.editor.commands.toggleBulletList() } }, addInputRules() { let n = Mg({ find: s3, type: this.type }); return (this.options.keepMarks || this.options.keepAttributes) && (n = Mg({ find: s3, type: this.type, keepMarks: this.options.keepMarks, keepAttributes: this.options.keepAttributes, getAttributes: () => this.editor.getAttributes(i3), editor: this.editor })), [n] }
}), T6 = GA.create({ name: "listItem", addOptions() { return { HTMLAttributes: {}, bulletListTypeName: "bulletList", orderedListTypeName: "orderedList" } }, content: "paragraph block*", defining: !0, parseHTML() { return [{ tag: "li" }] }, renderHTML({ HTMLAttributes: n }) { return ["li", Ma(this.options.HTMLAttributes, n), 0] }, markdownTokenName: "list_item", parseMarkdown: (n, e) => { if (n.type !== "list_item") return []; let t = []; if (n.tokens && n.tokens.length > 0) if (n.tokens.some(i => i.type === "paragraph")) t = e.parseChildren(n.tokens); else { const i = n.tokens[0]; if (i && i.type === "text" && i.tokens && i.tokens.length > 0) { if (t = [{ type: "paragraph", content: e.parseInline(i.tokens) }], n.tokens.length > 1) { const a = n.tokens.slice(1), o = e.parseChildren(a); t.push(...o) } } else t = e.parseChildren(n.tokens) } return t.length === 0 && (t = [{ type: "paragraph", content: [] }]), { type: "listItem", content: t } }, renderMarkdown: (n, e, t) => $E(n, e, r => r.parentType === "bulletList" ? "- " : r.parentType === "orderedList" ? `${r.index + 1}. ` : "- ", t), addKeyboardShortcuts() { return { Enter: () => this.editor.commands.splitListItem(this.name), Tab: () => this.editor.commands.sinkListItem(this.name), "Shift-Tab": () => this.editor.commands.liftListItem(this.name) } } }), zte = {}; Hte(zte, { findListItemPos: () => cv, getNextListDepth: () => AS, handleBackspace: () => GC, handleDelete: () => WC, hasListBefore: () => F6, hasListItemAfter: () => Kte, hasListItemBefore: () => U6, listItemHasSubList: () => O6, nextListIsDeeper: () => R6, nextListIsHigher: () => I6 }); var cv = (n, e) => { const { $from: t } = e.selection, r = La(n, e.schema); let i = null, s = t.depth, a = t.pos, o = null; for (; s > 0 && o === null;)i = t.node(s), i.type === r ? o = s : (s -= 1, a -= 1); return o === null ? null : { $pos: e.doc.resolve(a), depth: o } }, AS = (n, e) => { const t = cv(n, e); if (!t) return !1; const [, r] = k$(e, n, t.$pos.pos + 4); return r }, F6 = (n, e, t) => { const { $anchor: r } = n.selection, i = Math.max(0, r.pos - 2), s = n.doc.resolve(i).node(); return !(!s || !t.includes(s.type.name)) }, U6 = (n, e) => { var t; const { $anchor: r } = e.selection, i = e.doc.resolve(r.pos - 2); return !(i.index() === 0 || ((t = i.nodeBefore) == null ? void 0 : t.type.name) !== n) }, O6 = (n, e, t) => { if (!t) return !1; const r = La(n, e.schema); let i = !1; return t.descendants(s => { s.type === r && (i = !0) }), i }, GC = (n, e, t) => { if (n.commands.undoInputRule()) return !0; if (n.state.selection.from !== n.state.selection.to) return !1; if (!Od(n.state, e) && F6(n.state, e, t)) { const { $anchor: o } = n.state.selection, A = n.state.doc.resolve(o.before() - 1), u = []; A.node().descendants((m, p) => { m.type.name === e && u.push({ node: m, pos: p }) }); const f = u.at(-1); if (!f) return !1; const h = n.state.doc.resolve(A.start() + f.pos + 1); return n.chain().cut({ from: o.start() - 1, to: o.end() + 1 }, h.end()).joinForward().run() } if (!Od(n.state, e) || !O$(n.state)) return !1; const r = cv(e, n.state); if (!r) return !1; const s = n.state.doc.resolve(r.$pos.pos - 2).node(r.depth), a = O6(e, n.state, s); return U6(e, n.state) && !a ? n.commands.joinItemBackward() : n.chain().liftListItem(e).run() }, R6 = (n, e) => { const t = AS(n, e), r = cv(n, e); return !r || !t ? !1 : t > r.depth }, I6 = (n, e) => { const t = AS(n, e), r = cv(n, e); return !r || !t ? !1 : t < r.depth }, WC = (n, e) => { if (!Od(n.state, e) || !U$(n.state, e)) return !1; const { selection: t } = n.state, { $from: r, $to: i } = t; return !t.empty && r.sameParent(i) ? !1 : R6(e, n.state) ? n.chain().focus(n.state.selection.from + 4).lift(e).joinBackward().run() : I6(e, n.state) ? n.chain().joinForward().joinBackward().run() : n.commands.joinItemForward() }, Kte = (n, e) => { var t; const { $anchor: r } = e.selection, i = e.doc.resolve(r.pos - r.parentOffset - 2); return !(i.index() === i.parent.childCount - 1 || ((t = i.nodeAfter) == null ? void 0 : t.type.name) !== n) }, L6 = ga.create({ name: "listKeymap", addOptions() { return { listTypes: [{ itemName: "listItem", wrapperNames: ["bulletList", "orderedList"] }, { itemName: "taskItem", wrapperNames: ["taskList"] }] } }, addKeyboardShortcuts() { return { Delete: ({ editor: n }) => { let e = !1; return this.options.listTypes.forEach(({ itemName: t }) => { n.state.schema.nodes[t] !== void 0 && WC(n, t) && (e = !0) }), e }, "Mod-Delete": ({ editor: n }) => { let e = !1; return this.options.listTypes.forEach(({ itemName: t }) => { n.state.schema.nodes[t] !== void 0 && WC(n, t) && (e = !0) }), e }, Backspace: ({ editor: n }) => { let e = !1; return this.options.listTypes.forEach(({ itemName: t, wrapperNames: r }) => { n.state.schema.nodes[t] !== void 0 && GC(n, t, r) && (e = !0) }), e }, "Mod-Backspace": ({ editor: n }) => { let e = !1; return this.options.listTypes.forEach(({ itemName: t, wrapperNames: r }) => { n.state.schema.nodes[t] !== void 0 && GC(n, t, r) && (e = !0) }), e } } } }), a3 = /^(\s*)(\d+)\.\s+(.*)$/, Vte = /^\s/; function Gte(n) {
  const e = []; let t = 0, r = 0; for (; t < n.length;) {
    const i = n[t], s = i.match(a3); if (!s) break; const [, a, o, A] = s, u = a.length; let f = A, h = t + 1; const m = [i]; for (; h < n.length;) {
      const p = n[h]; if (p.match(a3)) break; if (p.trim() === "") m.push(p), f += `
`, h += 1; else if (p.match(Vte)) m.push(p), f += `
${p.slice(u + 2)}`, h += 1; else break
    } e.push({
      indent: u, number: parseInt(o, 10), content: f.trim(), raw: m.join(`
`)
    }), r = h, t = h
  } return [e, r]
} function M6(n, e, t) {
  var r; const i = []; let s = 0; for (; s < n.length;) {
    const a = n[s]; if (a.indent === e) {
      const o = a.content.split(`
`), A = ((r = o[0]) == null ? void 0 : r.trim()) || "", u = []; A && u.push({ type: "paragraph", raw: A, tokens: t.inlineTokens(A) }); const f = o.slice(1).join(`
`).trim(); if (f) { const p = t.blockTokens(f); u.push(...p) } let h = s + 1; const m = []; for (; h < n.length && n[h].indent > e;)m.push(n[h]), h += 1; if (m.length > 0) {
        const p = Math.min(...m.map(y => y.indent)), b = M6(m, p, t); u.push({
          type: "list", ordered: !0, start: m[0].number, items: b, raw: m.map(y => y.raw).join(`
`)
        })
      } i.push({ type: "list_item", raw: a.raw, tokens: u }), s = h
    } else s += 1
  } return i
} function Wte(n, e) { return n.map(t => { if (t.type !== "list_item") return e.parseChildren([t])[0]; const r = []; return t.tokens && t.tokens.length > 0 && t.tokens.forEach(i => { if (i.type === "paragraph" || i.type === "list" || i.type === "blockquote" || i.type === "code") r.push(...e.parseChildren([i])); else if (i.type === "text" && i.tokens) { const s = e.parseChildren([i]); r.push({ type: "paragraph", content: s }) } else { const s = e.parseChildren([i]); s.length > 0 && r.push(...s) } }), { type: "listItem", content: r } }) } var Yte = "listItem", o3 = "textStyle", l3 = /^(\d+)\.\s$/, Q6 = GA.create({
  name: "orderedList", addOptions() { return { itemTypeName: "listItem", HTMLAttributes: {}, keepMarks: !1, keepAttributes: !1 } }, group: "block list", content() { return `${this.options.itemTypeName}+` }, addAttributes() { return { start: { default: 1, parseHTML: n => n.hasAttribute("start") ? parseInt(n.getAttribute("start") || "", 10) : 1 }, type: { default: null, parseHTML: n => n.getAttribute("type") } } }, parseHTML() { return [{ tag: "ol" }] }, renderHTML({ HTMLAttributes: n }) { const { start: e, ...t } = n; return e === 1 ? ["ol", Ma(this.options.HTMLAttributes, t), 0] : ["ol", Ma(this.options.HTMLAttributes, n), 0] }, markdownTokenName: "list", parseMarkdown: (n, e) => { if (n.type !== "list" || !n.ordered) return []; const t = n.start || 1, r = n.items ? Wte(n.items, e) : []; return t !== 1 ? { type: "orderedList", attrs: { start: t }, content: r } : { type: "orderedList", content: r } }, renderMarkdown: (n, e) => n.content ? e.renderChildren(n.content, `
`) : "", markdownTokenizer: {
    name: "orderedList", level: "block", start: n => { const e = n.match(/^(\s*)(\d+)\.\s+/), t = e?.index; return t !== void 0 ? t : -1 }, tokenize: (n, e, t) => {
      var r; const i = n.split(`
`), [s, a] = Gte(i); if (s.length === 0) return; const o = M6(s, 0, t); return o.length === 0 ? void 0 : {
        type: "list", ordered: !0, start: ((r = s[0]) == null ? void 0 : r.number) || 1, items: o, raw: i.slice(0, a).join(`
`)
      }
    }
  }, markdownOptions: { indentsContent: !0 }, addCommands() { return { toggleOrderedList: () => ({ commands: n, chain: e }) => this.options.keepAttributes ? e().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(Yte, this.editor.getAttributes(o3)).run() : n.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks) } }, addKeyboardShortcuts() { return { "Mod-Shift-7": () => this.editor.commands.toggleOrderedList() } }, addInputRules() { let n = Mg({ find: l3, type: this.type, getAttributes: e => ({ start: +e[1] }), joinPredicate: (e, t) => t.childCount + t.attrs.start === +e[1] }); return (this.options.keepMarks || this.options.keepAttributes) && (n = Mg({ find: l3, type: this.type, keepMarks: this.options.keepMarks, keepAttributes: this.options.keepAttributes, getAttributes: e => ({ start: +e[1], ...this.editor.getAttributes(o3) }), joinPredicate: (e, t) => t.childCount + t.attrs.start === +e[1], editor: this.editor })), [n] }
}), Jte = /^\s*(\[([( |x])?\])\s$/, Xte = GA.create({ name: "taskItem", addOptions() { return { nested: !1, HTMLAttributes: {}, taskListTypeName: "taskList", a11y: void 0 } }, content() { return this.options.nested ? "paragraph block*" : "paragraph+" }, defining: !0, addAttributes() { return { checked: { default: !1, keepOnSplit: !1, parseHTML: n => { const e = n.getAttribute("data-checked"); return e === "" || e === "true" }, renderHTML: n => ({ "data-checked": n.checked }) } } }, parseHTML() { return [{ tag: `li[data-type="${this.name}"]`, priority: 51 }] }, renderHTML({ node: n, HTMLAttributes: e }) { return ["li", Ma(this.options.HTMLAttributes, e, { "data-type": this.name }), ["label", ["input", { type: "checkbox", checked: n.attrs.checked ? "checked" : null }], ["span"]], ["div", 0]] }, parseMarkdown: (n, e) => { const t = []; if (n.tokens && n.tokens.length > 0 ? t.push(e.createNode("paragraph", {}, e.parseInline(n.tokens))) : n.text ? t.push(e.createNode("paragraph", {}, [e.createNode("text", { text: n.text })])) : t.push(e.createNode("paragraph", {}, [])), n.nestedTokens && n.nestedTokens.length > 0) { const r = e.parseChildren(n.nestedTokens); t.push(...r) } return e.createNode("taskItem", { checked: n.checked || !1 }, t) }, renderMarkdown: (n, e) => { var t; const i = `- [${(t = n.attrs) != null && t.checked ? "x" : " "}] `; return $E(n, e, i) }, addKeyboardShortcuts() { const n = { Enter: () => this.editor.commands.splitListItem(this.name), "Shift-Tab": () => this.editor.commands.liftListItem(this.name) }; return this.options.nested ? { ...n, Tab: () => this.editor.commands.sinkListItem(this.name) } : n }, addNodeView() { return ({ node: n, HTMLAttributes: e, getPos: t, editor: r }) => { const i = document.createElement("li"), s = document.createElement("label"), a = document.createElement("span"), o = document.createElement("input"), A = document.createElement("div"), u = f => { var h, m; o.ariaLabel = ((m = (h = this.options.a11y) == null ? void 0 : h.checkboxLabel) == null ? void 0 : m.call(h, f, o.checked)) || `Task item checkbox for ${f.textContent || "empty task item"}` }; return u(n), s.contentEditable = "false", o.type = "checkbox", o.addEventListener("mousedown", f => f.preventDefault()), o.addEventListener("change", f => { if (!r.isEditable && !this.options.onReadOnlyChecked) { o.checked = !o.checked; return } const { checked: h } = f.target; r.isEditable && typeof t == "function" && r.chain().focus(void 0, { scrollIntoView: !1 }).command(({ tr: m }) => { const p = t(); if (typeof p != "number") return !1; const b = m.doc.nodeAt(p); return m.setNodeMarkup(p, void 0, { ...b?.attrs, checked: h }), !0 }).run(), !r.isEditable && this.options.onReadOnlyChecked && (this.options.onReadOnlyChecked(n, h) || (o.checked = !o.checked)) }), Object.entries(this.options.HTMLAttributes).forEach(([f, h]) => { i.setAttribute(f, h) }), i.dataset.checked = n.attrs.checked, o.checked = n.attrs.checked, s.append(o, a), i.append(s, A), Object.entries(e).forEach(([f, h]) => { i.setAttribute(f, h) }), { dom: i, contentDOM: A, update: f => f.type !== this.type ? !1 : (i.dataset.checked = f.attrs.checked, o.checked = f.attrs.checked, u(f), !0) } } }, addInputRules() { return [Mg({ find: Jte, type: this.type, getAttributes: n => ({ checked: n[n.length - 1] === "x" }) })] } }), Zte = GA.create({
  name: "taskList", addOptions() { return { itemTypeName: "taskItem", HTMLAttributes: {} } }, group: "block list", content() { return `${this.options.itemTypeName}+` }, parseHTML() { return [{ tag: `ul[data-type="${this.name}"]`, priority: 51 }] }, renderHTML({ HTMLAttributes: n }) { return ["ul", Ma(this.options.HTMLAttributes, n, { "data-type": this.name }), 0] }, parseMarkdown: (n, e) => e.createNode("taskList", {}, e.parseChildren(n.items || [])), renderMarkdown: (n, e) => n.content ? e.renderChildren(n.content, `
`) : "", markdownTokenizer: { name: "taskList", level: "block", start(n) { var e; const t = (e = n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/)) == null ? void 0 : e.index; return t !== void 0 ? t : -1 }, tokenize(n, e, t) { const r = s => { const a = LC(s, { itemPattern: /^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/, extractItemData: o => ({ indentLevel: o[1].length, mainContent: o[4], checked: o[3].toLowerCase() === "x" }), createToken: (o, A) => ({ type: "taskItem", raw: "", mainContent: o.mainContent, indentLevel: o.indentLevel, checked: o.checked, text: o.mainContent, tokens: t.inlineTokens(o.mainContent), nestedTokens: A }), customNestedParser: r }, t); return a ? [{ type: "taskList", raw: a.raw, items: a.items }] : t.blockTokens(s) }, i = LC(n, { itemPattern: /^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/, extractItemData: s => ({ indentLevel: s[1].length, mainContent: s[4], checked: s[3].toLowerCase() === "x" }), createToken: (s, a) => ({ type: "taskItem", raw: "", mainContent: s.mainContent, indentLevel: s.indentLevel, checked: s.checked, text: s.mainContent, tokens: t.inlineTokens(s.mainContent), nestedTokens: a }), customNestedParser: r }, t); if (i) return { type: "taskList", raw: i.raw, items: i.items } } }, markdownOptions: { indentsContent: !0 }, addCommands() { return { toggleTaskList: () => ({ commands: n }) => n.toggleList(this.name, this.options.itemTypeName) } }, addKeyboardShortcuts() { return { "Mod-Shift-9": () => this.editor.commands.toggleTaskList() } }
}); ga.create({ name: "listKit", addExtensions() { const n = []; return this.options.bulletList !== !1 && n.push(k6.configure(this.options.bulletList)), this.options.listItem !== !1 && n.push(T6.configure(this.options.listItem)), this.options.listKeymap !== !1 && n.push(L6.configure(this.options.listKeymap)), this.options.orderedList !== !1 && n.push(Q6.configure(this.options.orderedList)), this.options.taskItem !== !1 && n.push(Xte.configure(this.options.taskItem)), this.options.taskList !== !1 && n.push(Zte.configure(this.options.taskList)), n } }); var qte = GA.create({ name: "paragraph", priority: 1e3, addOptions() { return { HTMLAttributes: {} } }, group: "block", content: "inline*", parseHTML() { return [{ tag: "p" }] }, renderHTML({ HTMLAttributes: n }) { return ["p", Ma(this.options.HTMLAttributes, n), 0] }, parseMarkdown: (n, e) => { const t = n.tokens || []; return t.length === 1 && t[0].type === "image" ? e.parseChildren([t[0]]) : e.createNode("paragraph", void 0, e.parseInline(t)) }, renderMarkdown: (n, e) => !n || !Array.isArray(n.content) ? "" : e.renderChildren(n.content), addCommands() { return { setParagraph: () => ({ commands: n }) => n.setNode(this.name) } }, addKeyboardShortcuts() { return { "Mod-Alt-0": () => this.editor.commands.setParagraph() } } }), $te = /(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/, ene = /(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g, tne = up.create({ name: "strike", addOptions() { return { HTMLAttributes: {} } }, parseHTML() { return [{ tag: "s" }, { tag: "del" }, { tag: "strike" }, { style: "text-decoration", consuming: !1, getAttrs: n => n.includes("line-through") ? {} : !1 }] }, renderHTML({ HTMLAttributes: n }) { return ["s", Ma(this.options.HTMLAttributes, n), 0] }, markdownTokenName: "del", parseMarkdown: (n, e) => e.applyMark("strike", e.parseInline(n.tokens || [])), renderMarkdown: (n, e) => `~~${e.renderChildren(n)}~~`, addCommands() { return { setStrike: () => ({ commands: n }) => n.setMark(this.name), toggleStrike: () => ({ commands: n }) => n.toggleMark(this.name), unsetStrike: () => ({ commands: n }) => n.unsetMark(this.name) } }, addKeyboardShortcuts() { return { "Mod-Shift-s": () => this.editor.commands.toggleStrike() } }, addInputRules() { return [Lg({ find: $te, type: this.type })] }, addPasteRules() { return [sp({ find: ene, type: this.type })] } }), nne = GA.create({ name: "text", group: "inline", parseMarkdown: n => ({ type: "text", text: n.text || "" }), renderMarkdown: n => n.text || "" }), rne = up.create({ name: "underline", addOptions() { return { HTMLAttributes: {} } }, parseHTML() { return [{ tag: "u" }, { style: "text-decoration", consuming: !1, getAttrs: n => n.includes("underline") ? {} : !1 }] }, renderHTML({ HTMLAttributes: n }) { return ["u", Ma(this.options.HTMLAttributes, n), 0] }, parseMarkdown(n, e) { return e.applyMark(this.name || "underline", e.parseInline(n.tokens || [])) }, renderMarkdown(n, e) { return `++${e.renderChildren(n)}++` }, markdownTokenizer: { name: "underline", level: "inline", start(n) { return n.indexOf("++") }, tokenize(n, e, t) { const i = /^(\+\+)([\s\S]+?)(\+\+)/.exec(n); if (!i) return; const s = i[2].trim(); return { type: "underline", raw: i[0], text: s, tokens: t.inlineTokens(s) } } }, addCommands() { return { setUnderline: () => ({ commands: n }) => n.setMark(this.name), toggleUnderline: () => ({ commands: n }) => n.toggleMark(this.name), unsetUnderline: () => ({ commands: n }) => n.unsetMark(this.name) } }, addKeyboardShortcuts() { return { "Mod-u": () => this.editor.commands.toggleUnderline(), "Mod-U": () => this.editor.commands.toggleUnderline() } } }); function ine(n = {}) { return new Rs({ view(e) { return new sne(e, n) } }) } class sne { constructor(e, t) { var r; this.editorView = e, this.cursorPos = null, this.element = null, this.timeout = -1, this.width = (r = t.width) !== null && r !== void 0 ? r : 1, this.color = t.color === !1 ? void 0 : t.color || "black", this.class = t.class, this.handlers = ["dragover", "dragend", "drop", "dragleave"].map(i => { let s = a => { this[i](a) }; return e.dom.addEventListener(i, s), { name: i, handler: s } }) } destroy() { this.handlers.forEach(({ name: e, handler: t }) => this.editorView.dom.removeEventListener(e, t)) } update(e, t) { this.cursorPos != null && t.doc != e.state.doc && (this.cursorPos > e.state.doc.content.size ? this.setCursor(null) : this.updateOverlay()) } setCursor(e) { e != this.cursorPos && (this.cursorPos = e, e == null ? (this.element.parentNode.removeChild(this.element), this.element = null) : this.updateOverlay()) } updateOverlay() { let e = this.editorView.state.doc.resolve(this.cursorPos), t = !e.parent.inlineContent, r, i = this.editorView.dom, s = i.getBoundingClientRect(), a = s.width / i.offsetWidth, o = s.height / i.offsetHeight; if (t) { let h = e.nodeBefore, m = e.nodeAfter; if (h || m) { let p = this.editorView.nodeDOM(this.cursorPos - (h ? h.nodeSize : 0)); if (p) { let b = p.getBoundingClientRect(), y = h ? b.bottom : b.top; h && m && (y = (y + this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top) / 2); let E = this.width / 2 * o; r = { left: b.left, right: b.right, top: y - E, bottom: y + E } } } } if (!r) { let h = this.editorView.coordsAtPos(this.cursorPos), m = this.width / 2 * a; r = { left: h.left - m, right: h.left + m, top: h.top, bottom: h.bottom } } let A = this.editorView.dom.offsetParent; this.element || (this.element = A.appendChild(document.createElement("div")), this.class && (this.element.className = this.class), this.element.style.cssText = "position: absolute; z-index: 50; pointer-events: none;", this.color && (this.element.style.backgroundColor = this.color)), this.element.classList.toggle("prosemirror-dropcursor-block", t), this.element.classList.toggle("prosemirror-dropcursor-inline", !t); let u, f; if (!A || A == document.body && getComputedStyle(A).position == "static") u = -pageXOffset, f = -pageYOffset; else { let h = A.getBoundingClientRect(), m = h.width / A.offsetWidth, p = h.height / A.offsetHeight; u = h.left - A.scrollLeft * m, f = h.top - A.scrollTop * p } this.element.style.left = (r.left - u) / a + "px", this.element.style.top = (r.top - f) / o + "px", this.element.style.width = (r.right - r.left) / a + "px", this.element.style.height = (r.bottom - r.top) / o + "px" } scheduleRemoval(e) { clearTimeout(this.timeout), this.timeout = setTimeout(() => this.setCursor(null), e) } dragover(e) { if (!this.editorView.editable) return; let t = this.editorView.posAtCoords({ left: e.clientX, top: e.clientY }), r = t && t.inside >= 0 && this.editorView.state.doc.nodeAt(t.inside), i = r && r.type.spec.disableDropCursor, s = typeof i == "function" ? i(this.editorView, t, e) : i; if (t && !s) { let a = t.pos; if (this.editorView.dragging && this.editorView.dragging.slice) { let o = HI(this.editorView.state.doc, a, this.editorView.dragging.slice); o != null && (a = o) } this.setCursor(a), this.scheduleRemoval(5e3) } } dragend() { this.scheduleRemoval(20) } drop() { this.scheduleRemoval(20) } dragleave(e) { this.editorView.dom.contains(e.relatedTarget) || this.setCursor(null) } } class Js extends mr { constructor(e) { super(e, e) } map(e, t) { let r = e.resolve(t.map(this.head)); return Js.valid(r) ? new Js(r) : mr.near(r) } content() { return Jt.empty } eq(e) { return e instanceof Js && e.head == this.head } toJSON() { return { type: "gapcursor", pos: this.head } } static fromJSON(e, t) { if (typeof t.pos != "number") throw new RangeError("Invalid input for GapCursor.fromJSON"); return new Js(e.resolve(t.pos)) } getBookmark() { return new cS(this.anchor) } static valid(e) { let t = e.parent; if (t.isTextblock || !ane(e) || !one(e)) return !1; let r = t.type.spec.allowGapCursor; if (r != null) return r; let i = t.contentMatchAt(e.index()).defaultType; return i && i.isTextblock } static findGapCursorFrom(e, t, r = !1) { e: for (; ;) { if (!r && Js.valid(e)) return e; let i = e.pos, s = null; for (let a = e.depth; ; a--) { let o = e.node(a); if (t > 0 ? e.indexAfter(a) < o.childCount : e.index(a) > 0) { s = o.child(t > 0 ? e.indexAfter(a) : e.index(a) - 1); break } else if (a == 0) return null; i += t; let A = e.doc.resolve(i); if (Js.valid(A)) return A } for (; ;) { let a = t > 0 ? s.firstChild : s.lastChild; if (!a) { if (s.isAtom && !s.isText && !Un.isSelectable(s)) { e = e.doc.resolve(i + s.nodeSize * t), r = !1; continue e } break } s = a, i += t; let o = e.doc.resolve(i); if (Js.valid(o)) return o } return null } } } Js.prototype.visible = !1; Js.findFrom = Js.findGapCursorFrom; mr.jsonID("gapcursor", Js); class cS { constructor(e) { this.pos = e } map(e) { return new cS(e.map(this.pos)) } resolve(e) { let t = e.resolve(this.pos); return Js.valid(t) ? new Js(t) : mr.near(t) } } function D6(n) { return n.isAtom || n.spec.isolating || n.spec.createGapCursor } function ane(n) { for (let e = n.depth; e >= 0; e--) { let t = n.index(e), r = n.node(e); if (t == 0) { if (r.type.spec.isolating) return !0; continue } for (let i = r.child(t - 1); ; i = i.lastChild) { if (i.childCount == 0 && !i.inlineContent || D6(i.type)) return !0; if (i.inlineContent) return !1 } } return !0 } function one(n) { for (let e = n.depth; e >= 0; e--) { let t = n.indexAfter(e), r = n.node(e); if (t == r.childCount) { if (r.type.spec.isolating) return !0; continue } for (let i = r.child(t); ; i = i.firstChild) { if (i.childCount == 0 && !i.inlineContent || D6(i.type)) return !0; if (i.inlineContent) return !1 } } return !0 } function lne() { return new Rs({ props: { decorations: fne, createSelectionBetween(n, e, t) { return e.pos == t.pos && Js.valid(t) ? new Js(t) : null }, handleClick: cne, handleKeyDown: Ane, handleDOMEvents: { beforeinput: une } } }) } const Ane = HL({ ArrowLeft: Fy("horiz", -1), ArrowRight: Fy("horiz", 1), ArrowUp: Fy("vert", -1), ArrowDown: Fy("vert", 1) }); function Fy(n, e) { const t = n == "vert" ? e > 0 ? "down" : "up" : e > 0 ? "right" : "left"; return function (r, i, s) { let a = r.selection, o = e > 0 ? a.$to : a.$from, A = a.empty; if (a instanceof qn) { if (!s.endOfTextblock(t) || o.depth == 0) return !1; A = !1, o = r.doc.resolve(e > 0 ? o.after() : o.before()) } let u = Js.findGapCursorFrom(o, e, A); return u ? (i && i(r.tr.setSelection(new Js(u))), !0) : !1 } } function cne(n, e, t) { if (!n || !n.editable) return !1; let r = n.state.doc.resolve(e); if (!Js.valid(r)) return !1; let i = n.posAtCoords({ left: t.clientX, top: t.clientY }); return i && i.inside > -1 && Un.isSelectable(n.state.doc.nodeAt(i.inside)) ? !1 : (n.dispatch(n.state.tr.setSelection(new Js(r))), !0) } function une(n, e) { if (e.inputType != "insertCompositionText" || !(n.state.selection instanceof Js)) return !1; let { $from: t } = n.state.selection, r = t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text); if (!r) return !1; let i = kt.empty; for (let a = r.length - 1; a >= 0; a--)i = kt.from(r[a].createAndFill(null, i)); let s = n.state.tr.replace(t.pos, t.pos, new Jt(i, 0, 0)); return s.setSelection(qn.near(s.doc.resolve(t.pos + 1))), n.dispatch(s), !1 } function fne(n) { if (!(n.selection instanceof Js)) return null; let e = document.createElement("div"); return e.className = "ProseMirror-gapcursor", Os.create(n.doc, [Pl.widget(n.selection.head, e, { key: "gapcursor" })]) } var Iw = 200, Eo = function () { }; Eo.prototype.append = function (e) { return e.length ? (e = Eo.from(e), !this.length && e || e.length < Iw && this.leafAppend(e) || this.length < Iw && e.leafPrepend(this) || this.appendInner(e)) : this }; Eo.prototype.prepend = function (e) { return e.length ? Eo.from(e).append(this) : this }; Eo.prototype.appendInner = function (e) { return new dne(this, e) }; Eo.prototype.slice = function (e, t) { return e === void 0 && (e = 0), t === void 0 && (t = this.length), e >= t ? Eo.empty : this.sliceInner(Math.max(0, e), Math.min(this.length, t)) }; Eo.prototype.get = function (e) { if (!(e < 0 || e >= this.length)) return this.getInner(e) }; Eo.prototype.forEach = function (e, t, r) { t === void 0 && (t = 0), r === void 0 && (r = this.length), t <= r ? this.forEachInner(e, t, r, 0) : this.forEachInvertedInner(e, t, r, 0) }; Eo.prototype.map = function (e, t, r) { t === void 0 && (t = 0), r === void 0 && (r = this.length); var i = []; return this.forEach(function (s, a) { return i.push(e(s, a)) }, t, r), i }; Eo.from = function (e) { return e instanceof Eo ? e : e && e.length ? new P6(e) : Eo.empty }; var P6 = (function (n) { function e(r) { n.call(this), this.values = r } n && (e.__proto__ = n), e.prototype = Object.create(n && n.prototype), e.prototype.constructor = e; var t = { length: { configurable: !0 }, depth: { configurable: !0 } }; return e.prototype.flatten = function () { return this.values }, e.prototype.sliceInner = function (i, s) { return i == 0 && s == this.length ? this : new e(this.values.slice(i, s)) }, e.prototype.getInner = function (i) { return this.values[i] }, e.prototype.forEachInner = function (i, s, a, o) { for (var A = s; A < a; A++)if (i(this.values[A], o + A) === !1) return !1 }, e.prototype.forEachInvertedInner = function (i, s, a, o) { for (var A = s - 1; A >= a; A--)if (i(this.values[A], o + A) === !1) return !1 }, e.prototype.leafAppend = function (i) { if (this.length + i.length <= Iw) return new e(this.values.concat(i.flatten())) }, e.prototype.leafPrepend = function (i) { if (this.length + i.length <= Iw) return new e(i.flatten().concat(this.values)) }, t.length.get = function () { return this.values.length }, t.depth.get = function () { return 0 }, Object.defineProperties(e.prototype, t), e })(Eo); Eo.empty = new P6([]); var dne = (function (n) { function e(t, r) { n.call(this), this.left = t, this.right = r, this.length = t.length + r.length, this.depth = Math.max(t.depth, r.depth) + 1 } return n && (e.__proto__ = n), e.prototype = Object.create(n && n.prototype), e.prototype.constructor = e, e.prototype.flatten = function () { return this.left.flatten().concat(this.right.flatten()) }, e.prototype.getInner = function (r) { return r < this.left.length ? this.left.get(r) : this.right.get(r - this.left.length) }, e.prototype.forEachInner = function (r, i, s, a) { var o = this.left.length; if (i < o && this.left.forEachInner(r, i, Math.min(s, o), a) === !1 || s > o && this.right.forEachInner(r, Math.max(i - o, 0), Math.min(this.length, s) - o, a + o) === !1) return !1 }, e.prototype.forEachInvertedInner = function (r, i, s, a) { var o = this.left.length; if (i > o && this.right.forEachInvertedInner(r, i - o, Math.max(s, o) - o, a + o) === !1 || s < o && this.left.forEachInvertedInner(r, Math.min(i, o), s, a) === !1) return !1 }, e.prototype.sliceInner = function (r, i) { if (r == 0 && i == this.length) return this; var s = this.left.length; return i <= s ? this.left.slice(r, i) : r >= s ? this.right.slice(r - s, i - s) : this.left.slice(r, s).append(this.right.slice(0, i - s)) }, e.prototype.leafAppend = function (r) { var i = this.right.leafAppend(r); if (i) return new e(this.left, i) }, e.prototype.leafPrepend = function (r) { var i = this.left.leafPrepend(r); if (i) return new e(i, this.right) }, e.prototype.appendInner = function (r) { return this.left.depth >= Math.max(this.right.depth, r.depth) + 1 ? new e(this.left, new e(this.right, r)) : new e(this, r) }, e })(Eo); const hne = 500; class Vc { constructor(e, t) { this.items = e, this.eventCount = t } popEvent(e, t) { if (this.eventCount == 0) return null; let r = this.items.length; for (; ; r--)if (this.items.get(r - 1).selection) { --r; break } let i, s; t && (i = this.remapping(r, this.items.length), s = i.maps.length); let a = e.tr, o, A, u = [], f = []; return this.items.forEach((h, m) => { if (!h.step) { i || (i = this.remapping(r, m + 1), s = i.maps.length), s--, f.push(h); return } if (i) { f.push(new qf(h.map)); let p = h.step.map(i.slice(s)), b; p && a.maybeStep(p).doc && (b = a.mapping.maps[a.mapping.maps.length - 1], u.push(new qf(b, void 0, void 0, u.length + f.length))), s--, b && i.appendMap(b, s) } else a.maybeStep(h.step); if (h.selection) return o = i ? h.selection.map(i.slice(s)) : h.selection, A = new Vc(this.items.slice(0, r).append(f.reverse().concat(u)), this.eventCount - 1), !1 }, this.items.length, 0), { remaining: A, transform: a, selection: o } } addTransform(e, t, r, i) { let s = [], a = this.eventCount, o = this.items, A = !i && o.length ? o.get(o.length - 1) : null; for (let f = 0; f < e.steps.length; f++) { let h = e.steps[f].invert(e.docs[f]), m = new qf(e.mapping.maps[f], h, t), p; (p = A && A.merge(m)) && (m = p, f ? s.pop() : o = o.slice(0, o.length - 1)), s.push(m), t && (a++, t = void 0), i || (A = m) } let u = a - r.depth; return u > gne && (o = pne(o, u), a -= u), new Vc(o.append(s), a) } remapping(e, t) { let r = new R0; return this.items.forEach((i, s) => { let a = i.mirrorOffset != null && s - i.mirrorOffset >= e ? r.maps.length - i.mirrorOffset : void 0; r.appendMap(i.map, a) }, e, t), r } addMaps(e) { return this.eventCount == 0 ? this : new Vc(this.items.append(e.map(t => new qf(t))), this.eventCount) } rebased(e, t) { if (!this.eventCount) return this; let r = [], i = Math.max(0, this.items.length - t), s = e.mapping, a = e.steps.length, o = this.eventCount; this.items.forEach(m => { m.selection && o-- }, i); let A = t; this.items.forEach(m => { let p = s.getMirror(--A); if (p == null) return; a = Math.min(a, p); let b = s.maps[p]; if (m.step) { let y = e.steps[p].invert(e.docs[p]), E = m.selection && m.selection.map(s.slice(A + 1, p)); E && o++, r.push(new qf(b, y, E)) } else r.push(new qf(b)) }, i); let u = []; for (let m = t; m < a; m++)u.push(new qf(s.maps[m])); let f = this.items.slice(0, i).append(u).append(r), h = new Vc(f, o); return h.emptyItemCount() > hne && (h = h.compress(this.items.length - r.length)), h } emptyItemCount() { let e = 0; return this.items.forEach(t => { t.step || e++ }), e } compress(e = this.items.length) { let t = this.remapping(0, e), r = t.maps.length, i = [], s = 0; return this.items.forEach((a, o) => { if (o >= e) i.push(a), a.selection && s++; else if (a.step) { let A = a.step.map(t.slice(r)), u = A && A.getMap(); if (r--, u && t.appendMap(u, r), A) { let f = a.selection && a.selection.map(t.slice(r)); f && s++; let h = new qf(u.invert(), A, f), m, p = i.length - 1; (m = i.length && i[p].merge(h)) ? i[p] = m : i.push(h) } } else a.map && r-- }, this.items.length, 0), new Vc(Eo.from(i.reverse()), s) } } Vc.empty = new Vc(Eo.empty, 0); function pne(n, e) { let t; return n.forEach((r, i) => { if (r.selection && e-- == 0) return t = i, !1 }), n.slice(t) } let qf = class H6 { constructor(e, t, r, i) { this.map = e, this.step = t, this.selection = r, this.mirrorOffset = i } merge(e) { if (this.step && e.step && !e.selection) { let t = e.step.merge(this.step); if (t) return new H6(t.getMap().invert(), t, this.selection) } } }; class od { constructor(e, t, r, i, s) { this.done = e, this.undone = t, this.prevRanges = r, this.prevTime = i, this.prevComposition = s } } const gne = 20; function mne(n, e, t, r) { let i = t.getMeta(Vh), s; if (i) return i.historyState; t.getMeta(wne) && (n = new od(n.done, n.undone, null, 0, -1)); let a = t.getMeta("appendedTransaction"); if (t.steps.length == 0) return n; if (a && a.getMeta(Vh)) return a.getMeta(Vh).redo ? new od(n.done.addTransform(t, void 0, r, w1(e)), n.undone, A3(t.mapping.maps), n.prevTime, n.prevComposition) : new od(n.done, n.undone.addTransform(t, void 0, r, w1(e)), null, n.prevTime, n.prevComposition); if (t.getMeta("addToHistory") !== !1 && !(a && a.getMeta("addToHistory") === !1)) { let o = t.getMeta("composition"), A = n.prevTime == 0 || !a && n.prevComposition != o && (n.prevTime < (t.time || 0) - r.newGroupDelay || !vne(t, n.prevRanges)), u = a ? Xx(n.prevRanges, t.mapping) : A3(t.mapping.maps); return new od(n.done.addTransform(t, A ? e.selection.getBookmark() : void 0, r, w1(e)), Vc.empty, u, t.time, o ?? n.prevComposition) } else return (s = t.getMeta("rebased")) ? new od(n.done.rebased(t, s), n.undone.rebased(t, s), Xx(n.prevRanges, t.mapping), n.prevTime, n.prevComposition) : new od(n.done.addMaps(t.mapping.maps), n.undone.addMaps(t.mapping.maps), Xx(n.prevRanges, t.mapping), n.prevTime, n.prevComposition) } function vne(n, e) { if (!e) return !1; if (!n.docChanged) return !0; let t = !1; return n.mapping.maps[0].forEach((r, i) => { for (let s = 0; s < e.length; s += 2)r <= e[s + 1] && i >= e[s] && (t = !0) }), t } function A3(n) { let e = []; for (let t = n.length - 1; t >= 0 && e.length == 0; t--)n[t].forEach((r, i, s, a) => e.push(s, a)); return e } function Xx(n, e) { if (!n) return null; let t = []; for (let r = 0; r < n.length; r += 2) { let i = e.map(n[r], 1), s = e.map(n[r + 1], -1); i <= s && t.push(i, s) } return t } function yne(n, e, t) { let r = w1(e), i = Vh.get(e).spec.config, s = (t ? n.undone : n.done).popEvent(e, r); if (!s) return null; let a = s.selection.resolve(s.transform.doc), o = (t ? n.done : n.undone).addTransform(s.transform, e.selection.getBookmark(), i, r), A = new od(t ? o : s.remaining, t ? s.remaining : o, null, 0, -1); return s.transform.setSelection(a).setMeta(Vh, { redo: t, historyState: A }) } let Zx = !1, c3 = null; function w1(n) { let e = n.plugins; if (c3 != e) { Zx = !1, c3 = e; for (let t = 0; t < e.length; t++)if (e[t].spec.historyPreserveItems) { Zx = !0; break } } return Zx } const Vh = new qa("history"), wne = new qa("closeHistory"); function bne(n = {}) { return n = { depth: n.depth || 100, newGroupDelay: n.newGroupDelay || 500 }, new Rs({ key: Vh, state: { init() { return new od(Vc.empty, Vc.empty, null, 0, -1) }, apply(e, t, r) { return mne(t, r, e, n) } }, config: n, props: { handleDOMEvents: { beforeinput(e, t) { let r = t.inputType, i = r == "historyUndo" ? z6 : r == "historyRedo" ? K6 : null; return !i || !e.editable ? !1 : (t.preventDefault(), i(e.state, e.dispatch)) } } } }) } function j6(n, e) { return (t, r) => { let i = Vh.getState(t); if (!i || (n ? i.undone : i.done).eventCount == 0) return !1; if (r) { let s = yne(i, t, n); s && r(e ? s.scrollIntoView() : s) } return !0 } } const z6 = j6(!1, !0), K6 = j6(!0, !0); ga.create({ name: "characterCount", addOptions() { return { limit: null, mode: "textSize", textCounter: n => n.length, wordCounter: n => n.split(" ").filter(e => e !== "").length } }, addStorage() { return { characters: () => 0, words: () => 0 } }, onBeforeCreate() { this.storage.characters = n => { const e = n?.node || this.editor.state.doc; if ((n?.mode || this.options.mode) === "textSize") { const r = e.textBetween(0, e.content.size, void 0, " "); return this.options.textCounter(r) } return e.nodeSize }, this.storage.words = n => { const e = n?.node || this.editor.state.doc, t = e.textBetween(0, e.content.size, " ", " "); return this.options.wordCounter(t) } }, addProseMirrorPlugins() { let n = !1; return [new Rs({ key: new qa("characterCount"), appendTransaction: (e, t, r) => { if (n) return; const i = this.options.limit; if (i == null || i === 0) { n = !0; return } const s = this.storage.characters({ node: r.doc }); if (s > i) { const a = s - i, o = 0, A = a; console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`); const u = r.tr.deleteRange(o, A); return n = !0, u } n = !0 }, filterTransaction: (e, t) => { const r = this.options.limit; if (!e.docChanged || r === 0 || r === null || r === void 0) return !0; const i = this.storage.characters({ node: t.doc }), s = this.storage.characters({ node: e.doc }); if (s <= r || i > r && s > r && s <= i) return !0; if (i > r && s > r && s > i || !e.getMeta("paste")) return !1; const o = e.selection.$head.pos, A = s - r, u = o - A, f = o; return e.deleteRange(u, f), !(this.storage.characters({ node: e.doc }) > r) } })] } }); var xne = ga.create({ name: "dropCursor", addOptions() { return { color: "currentColor", width: 1, class: void 0 } }, addProseMirrorPlugins() { return [ine(this.options)] } }); ga.create({ name: "focus", addOptions() { return { className: "has-focus", mode: "all" } }, addProseMirrorPlugins() { return [new Rs({ key: new qa("focus"), props: { decorations: ({ doc: n, selection: e }) => { const { isEditable: t, isFocused: r } = this.editor, { anchor: i } = e, s = []; if (!t || !r) return Os.create(n, []); let a = 0; this.options.mode === "deepest" && n.descendants((A, u) => { if (A.isText) return; if (!(i >= u && i <= u + A.nodeSize - 1)) return !1; a += 1 }); let o = 0; return n.descendants((A, u) => { if (A.isText || !(i >= u && i <= u + A.nodeSize - 1)) return !1; if (o += 1, this.options.mode === "deepest" && a - o > 0 || this.options.mode === "shallowest" && o > 1) return this.options.mode === "deepest"; s.push(Pl.node(u, u + A.nodeSize, { class: this.options.className })) }), Os.create(n, s) } } })] } }); var Bne = ga.create({ name: "gapCursor", addProseMirrorPlugins() { return [lne()] }, extendNodeSchema(n) { var e; const t = { name: n.name, options: n.options, storage: n.storage }; return { allowGapCursor: (e = Ci(kn(n, "allowGapCursor", t))) != null ? e : null } } }), Cne = ga.create({ name: "placeholder", addOptions() { return { emptyEditorClass: "is-editor-empty", emptyNodeClass: "is-empty", placeholder: "Write something ", showOnlyWhenEditable: !0, showOnlyCurrent: !0, includeChildren: !1 } }, addProseMirrorPlugins() { return [new Rs({ key: new qa("placeholder"), props: { decorations: ({ doc: n, selection: e }) => { const t = this.editor.isEditable || !this.options.showOnlyWhenEditable, { anchor: r } = e, i = []; if (!t) return null; const s = this.editor.isEmpty; return n.descendants((a, o) => { const A = r >= o && r <= o + a.nodeSize, u = !a.isLeaf && Ob(a); if ((A || !this.options.showOnlyCurrent) && u) { const f = [this.options.emptyNodeClass]; s && f.push(this.options.emptyEditorClass); const h = Pl.node(o, o + a.nodeSize, { class: f.join(" "), "data-placeholder": typeof this.options.placeholder == "function" ? this.options.placeholder({ editor: this.editor, node: a, pos: o, hasAnchor: A }) : this.options.placeholder }); i.push(h) } return this.options.includeChildren }), Os.create(n, i) } } })] } }); ga.create({ name: "selection", addOptions() { return { className: "selection" } }, addProseMirrorPlugins() { const { editor: n, options: e } = this; return [new Rs({ key: new qa("selection"), props: { decorations(t) { return t.selection.empty || n.isFocused || !n.isEditable || r6(t.selection) || n.view.dragging ? null : Os.create(t.doc, [Pl.inline(t.selection.from, t.selection.to, { class: e.className })]) } } })] } }); function u3({ types: n, node: e }) { return e && Array.isArray(n) && n.includes(e.type) || e?.type === n } var Ene = ga.create({ name: "trailingNode", addOptions() { return { node: void 0, notAfter: [] } }, addProseMirrorPlugins() { var n; const e = new qa(this.name), t = this.options.node || ((n = this.editor.schema.topNodeType.contentMatch.defaultType) == null ? void 0 : n.name) || "paragraph", r = Object.entries(this.editor.schema.nodes).map(([, i]) => i).filter(i => (this.options.notAfter || []).concat(t).includes(i.name)); return [new Rs({ key: e, appendTransaction: (i, s, a) => { const { doc: o, tr: A, schema: u } = a, f = e.getState(a), h = o.content.size, m = u.nodes[t]; if (f) return A.insert(h, m.create()) }, state: { init: (i, s) => { const a = s.tr.doc.lastChild; return !u3({ node: a, types: r }) }, apply: (i, s) => { if (!i.docChanged || i.getMeta("__uniqueIDTransaction")) return s; const a = i.doc.lastChild; return !u3({ node: a, types: r }) } } })] } }), Sne = ga.create({ name: "undoRedo", addOptions() { return { depth: 100, newGroupDelay: 500 } }, addCommands() { return { undo: () => ({ state: n, dispatch: e }) => z6(n, e), redo: () => ({ state: n, dispatch: e }) => K6(n, e) } }, addProseMirrorPlugins() { return [bne(this.options)] }, addKeyboardShortcuts() { return { "Mod-z": () => this.editor.commands.undo(), "Shift-Mod-z": () => this.editor.commands.redo(), "Mod-y": () => this.editor.commands.redo(), "Mod-": () => this.editor.commands.undo(), "Shift-Mod-": () => this.editor.commands.redo() } } }), _ne = ga.create({ name: "starterKit", addExtensions() { var n, e, t, r; const i = []; return this.options.bold !== !1 && i.push($ee.configure(this.options.bold)), this.options.blockquote !== !1 && i.push(Yee.configure(this.options.blockquote)), this.options.bulletList !== !1 && i.push(k6.configure(this.options.bulletList)), this.options.code !== !1 && i.push(nte.configure(this.options.code)), this.options.codeBlock !== !1 && i.push(ste.configure(this.options.codeBlock)), this.options.document !== !1 && i.push(ate.configure(this.options.document)), this.options.dropcursor !== !1 && i.push(xne.configure(this.options.dropcursor)), this.options.gapcursor !== !1 && i.push(Bne.configure(this.options.gapcursor)), this.options.hardBreak !== !1 && i.push(ote.configure(this.options.hardBreak)), this.options.heading !== !1 && i.push(lte.configure(this.options.heading)), this.options.undoRedo !== !1 && i.push(Sne.configure(this.options.undoRedo)), this.options.horizontalRule !== !1 && i.push(Ate.configure(this.options.horizontalRule)), this.options.italic !== !1 && i.push(hte.configure(this.options.italic)), this.options.listItem !== !1 && i.push(T6.configure(this.options.listItem)), this.options.listKeymap !== !1 && i.push(L6.configure((n = this.options) == null ? void 0 : n.listKeymap)), this.options.link !== !1 && i.push(Dte.configure((e = this.options) == null ? void 0 : e.link)), this.options.orderedList !== !1 && i.push(Q6.configure(this.options.orderedList)), this.options.paragraph !== !1 && i.push(qte.configure(this.options.paragraph)), this.options.strike !== !1 && i.push(tne.configure(this.options.strike)), this.options.text !== !1 && i.push(nne.configure(this.options.text)), this.options.underline !== !1 && i.push(rne.configure((t = this.options) == null ? void 0 : t.underline)), this.options.trailingNode !== !1 && i.push(Ene.configure((r = this.options) == null ? void 0 : r.trailingNode)), i } }), Nne = _ne, kne = Cne; function Tne({ content: n = "", onChange: e, readOnly: t = !1 }) { const r = zee({ extensions: [Nne, kne.configure({ placeholder: "Write your report here..." })], content: n, editable: !t, onUpdate: ({ editor: i }) => { e?.(i.getHTML()) } }); return r ? g.jsxs("div", { className: "border rounded-md", children: [!t && g.jsxs("div", { className: "border-b p-2 flex gap-1 bg-muted/20", children: [g.jsx(Vt, { variant: "ghost", size: "sm", onClick: () => r.chain().focus().toggleBold().run(), className: r.isActive("bold") ? "bg-muted" : "", children: g.jsx(r9, { className: "h-4 w-4" }) }), g.jsx(Vt, { variant: "ghost", size: "sm", onClick: () => r.chain().focus().toggleItalic().run(), className: r.isActive("italic") ? "bg-muted" : "", children: g.jsx(S9, { className: "h-4 w-4" }) }), g.jsx("div", { className: "w-px h-6 bg-border mx-1" }), g.jsx(Vt, { variant: "ghost", size: "sm", onClick: () => r.chain().focus().toggleHeading({ level: 1 }).run(), className: r.isActive("heading", { level: 1 }) ? "bg-muted" : "", children: g.jsx(x9, { className: "h-4 w-4" }) }), g.jsx(Vt, { variant: "ghost", size: "sm", onClick: () => r.chain().focus().toggleHeading({ level: 2 }).run(), className: r.isActive("heading", { level: 2 }) ? "bg-muted" : "", children: g.jsx(C9, { className: "h-4 w-4" }) }), g.jsx("div", { className: "w-px h-6 bg-border mx-1" }), g.jsx(Vt, { variant: "ghost", size: "sm", onClick: () => r.chain().focus().toggleBulletList().run(), className: r.isActive("bulletList") ? "bg-muted" : "", children: g.jsx(L9, { className: "h-4 w-4" }) }), g.jsx(Vt, { variant: "ghost", size: "sm", onClick: () => r.chain().focus().toggleOrderedList().run(), className: r.isActive("orderedList") ? "bg-muted" : "", children: g.jsx(R9, { className: "h-4 w-4" }) })] }), g.jsx("div", { className: "p-4 min-h-[300px] prose dark:prose-invert max-w-none", children: g.jsx(Lee, { editor: r }) })] }) : null } const Xc = { async getAll() { const { data: n, error: e } = await jt.from("noose_civilians").select("*").order("full_name"); if (e) throw e; return n }, async getById(n) { const { data: e, error: t } = await jt.from("noose_civilians").select("*").eq("id", n).single(); if (t) throw t; return e }, async create(n) { const { data: e, error: t } = await jt.from("noose_civilians").insert(n).select().single(); if (t) throw t; return e }, async update(n, e) { const { data: t, error: r } = await jt.from("noose_civilians").update(e).eq("id", n).select().single(); if (r) throw r; return t }, async search(n) { const { data: e, error: t } = await jt.from("noose_civilians").select("*").ilike("full_name", `%${n}%`).limit(10); if (t) throw t; return e } }, uS = F.forwardRef(({ report: n, author: e, suspect: t, redactedFields: r = [], preview: i = !1 }, s) => { const a = A => r.includes(A), o = (A, u) => a(u) ? "[REDACTED]" : A || ""; return g.jsxs("div", { ref: s, className: `${i ? "" : "hidden"} print:block p-8 max-w-[210mm] mx-auto font-serif`, style: { backgroundColor: "#ffffff", color: "#000000" }, children: [g.jsxs("div", { className: "text-center mb-8 border-b-2 pb-4", style: { borderColor: "#000000" }, children: [g.jsx("div", { className: "w-32 h-32 mx-auto mb-4 flex items-center justify-center", children: g.jsx("img", { src: "/noose-seal.png", alt: "NOOSE Seal", className: "w-full h-full object-contain" }) }), g.jsx("h1", { className: "text-2xl font-bold uppercase tracking-wider mb-2", children: "National Office of Security Enforcement" }), g.jsx("h2", { className: "text-xl font-bold uppercase underline mb-4", children: "RAPPORT OFFICIEL" }), g.jsxs("div", { className: "text-sm font-bold space-y-1", children: [g.jsxs("p", { children: ["Classification : ", g.jsx("span", { className: "uppercase", children: n.classification })] }), g.jsxs("p", { children: ["Date de cration : ", new Date(n.created_at).toLocaleDateString()] }), g.jsxs("p", { children: ["Rfrence : US-GOV/US-NOOSE/", n.id.slice(0, 8).toUpperCase()] })] })] }), g.jsxs("div", { className: "text-[10px] text-justify mb-8 leading-tight space-y-2", children: [g.jsxs("p", { children: ["Ce document est class ", g.jsx("strong", { children: "CONFIDENTIEL" }), " et est destin  un usage interne uniquement. Toute divulgation non autorise, reproduction ou distribution de ce document est strictement interdite et constitue une violation des protocoles de scurit du DHS."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "U.S. Code Title 18  793" }), " - Espionnage et divulgation de documents relatifs  la dfense nationale."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "U.S. Code Title 18  1905" }), " - Divulgation de renseignements confidentiels."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "DHS Directive 100-01" }), " - Security and Emergency Preparedness."] })] }), g.jsxs("div", { className: "mb-6 border flex", style: { borderColor: "#000000" }, children: [g.jsx("div", { className: "w-32 border-r p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "OBJET" }), g.jsx("div", { className: "p-2 flex-1 font-bold uppercase", children: n.title })] }), g.jsxs("div", { className: "mb-6", children: [g.jsx("h3", { className: "font-bold uppercase mb-2 border-b", style: { borderColor: "#000000", display: "block" }, children: "INFORMATIONS OFFICIERS" }), g.jsx("table", { className: "w-full border-collapse border text-sm", style: { borderColor: "#000000" }, children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 w-1/3 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Nom" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: e?.username?.split(" ").pop() || "UNKNOWN" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Prnom" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: e?.username?.split(" ")[0] || "UNKNOWN" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Matricule" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: e?.matricule || "N/A" })] })] }) })] }), g.jsxs("div", { className: "mb-6", children: [g.jsx("h3", { className: "font-bold uppercase mb-1", children: "INFORMATIONS SUSPECT" }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), g.jsx("table", { className: "w-full border-collapse border text-sm", style: { borderColor: "#000000" }, children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 w-1/3 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Nom" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: o(t?.full_name?.split(" ").pop(), "suspect_name") })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Prnom" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: o(t?.full_name?.split(" ")[0], "suspect_name") })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Date de Naissance / Lieu" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: a("suspect_dob") ? "[REDACTED]" : g.jsxs(g.Fragment, { children: [t?.dob ? new Date(t.dob).toLocaleDateString() : "", t?.pob ? ` / ${t.pob}` : ""] }) })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Lieu de rsidence" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: o(t?.address, "suspect_address") })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Taille / Poids" }), g.jsxs("td", { className: "border p-2", style: { borderColor: "#000000" }, children: [t?.height ? `${t.height}` : "", t?.weight ? ` / ${t.weight}` : ""] })] })] }) })] }), g.jsxs("div", { className: "mb-8 flex-1", children: [g.jsx("h3", { className: "font-bold uppercase mb-2 border-b", style: { borderColor: "#000000", display: "block" }, children: "DTAILS DES FAITS" }), g.jsx("div", { className: "border p-4 min-h-[300px] text-sm [&>p]:mb-2", style: { borderColor: "#000000" }, dangerouslySetInnerHTML: { __html: n.content } })] }), g.jsxs("div", { className: "mt-auto pt-8 border-t", style: { borderColor: "#000000" }, children: [g.jsx("p", { className: "font-bold", children: "Cordialement," }), g.jsx("p", { className: "mt-8", children: e?.username || "Officer Signature" })] })] }) }); uS.displayName = "ReportPDF"; function V6(n) { const e = Fne(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(One); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function Fne(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = Ine(i), o = Rne(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var Une = Symbol("radix.slottable"); function One(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === Une } function Rne(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function Ine(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var Lne = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], G6 = Lne.reduce((n, e) => { const t = V6(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), Mb = "Popover", [W6] = Dd(Mb, [vb]), uv = vb(), [Mne, Yd] = W6(Mb), Y6 = n => { const { __scopePopover: e, children: t, open: r, defaultOpen: i, onOpenChange: s, modal: a = !1 } = n, o = uv(e), A = F.useRef(null), [u, f] = F.useState(!1), [h, m] = Jh({ prop: r, defaultProp: i ?? !1, onChange: s, caller: Mb }); return g.jsx(CR, { ...o, children: g.jsx(Mne, { scope: e, contentId: Hl(), triggerRef: A, open: h, onOpenChange: m, onOpenToggle: F.useCallback(() => m(p => !p), [m]), hasCustomAnchor: u, onCustomAnchorAdd: F.useCallback(() => f(!0), []), onCustomAnchorRemove: F.useCallback(() => f(!1), []), modal: a, children: t }) }) }; Y6.displayName = Mb; var J6 = "PopoverAnchor", Qne = F.forwardRef((n, e) => { const { __scopePopover: t, ...r } = n, i = Yd(J6, t), s = uv(t), { onCustomAnchorAdd: a, onCustomAnchorRemove: o } = i; return F.useEffect(() => (a(), () => o()), [a, o]), g.jsx(xE, { ...s, ...r, ref: e }) }); Qne.displayName = J6; var X6 = "PopoverTrigger", Z6 = F.forwardRef((n, e) => { const { __scopePopover: t, ...r } = n, i = Yd(X6, t), s = uv(t), a = is(e, i.triggerRef), o = g.jsx(G6.button, { type: "button", "aria-haspopup": "dialog", "aria-expanded": i.open, "aria-controls": i.contentId, "data-state": nM(i.open), ...r, ref: a, onClick: dr(n.onClick, i.onOpenToggle) }); return i.hasCustomAnchor ? o : g.jsx(xE, { asChild: !0, ...s, children: o }) }); Z6.displayName = X6; var fS = "PopoverPortal", [Dne, Pne] = W6(fS, { forceMount: void 0 }), q6 = n => { const { __scopePopover: e, forceMount: t, children: r, container: i } = n, s = Yd(fS, e); return g.jsx(Dne, { scope: e, forceMount: t, children: g.jsx(Pd, { present: t || s.open, children: g.jsx(Ab, { asChild: !0, container: i, children: r }) }) }) }; q6.displayName = fS; var Qg = "PopoverContent", $6 = F.forwardRef((n, e) => { const t = Pne(Qg, n.__scopePopover), { forceMount: r = t.forceMount, ...i } = n, s = Yd(Qg, n.__scopePopover); return g.jsx(Pd, { present: r || s.open, children: s.modal ? g.jsx(jne, { ...i, ref: e }) : g.jsx(zne, { ...i, ref: e }) }) }); $6.displayName = Qg; var Hne = V6("PopoverContent.RemoveScroll"), jne = F.forwardRef((n, e) => { const t = Yd(Qg, n.__scopePopover), r = F.useRef(null), i = is(e, r), s = F.useRef(!1); return F.useEffect(() => { const a = r.current; if (a) return sE(a) }, []), g.jsx(ub, { as: Hne, allowPinchZoom: !0, children: g.jsx(eM, { ...n, ref: i, trapFocus: t.open, disableOutsidePointerEvents: !0, onCloseAutoFocus: dr(n.onCloseAutoFocus, a => { a.preventDefault(), s.current || t.triggerRef.current?.focus() }), onPointerDownOutside: dr(n.onPointerDownOutside, a => { const o = a.detail.originalEvent, A = o.button === 0 && o.ctrlKey === !0, u = o.button === 2 || A; s.current = u }, { checkForDefaultPrevented: !1 }), onFocusOutside: dr(n.onFocusOutside, a => a.preventDefault(), { checkForDefaultPrevented: !1 }) }) }) }), zne = F.forwardRef((n, e) => { const t = Yd(Qg, n.__scopePopover), r = F.useRef(!1), i = F.useRef(!1); return g.jsx(eM, { ...n, ref: e, trapFocus: !1, disableOutsidePointerEvents: !1, onCloseAutoFocus: s => { n.onCloseAutoFocus?.(s), s.defaultPrevented || (r.current || t.triggerRef.current?.focus(), s.preventDefault()), r.current = !1, i.current = !1 }, onInteractOutside: s => { n.onInteractOutside?.(s), s.defaultPrevented || (r.current = !0, s.detail.originalEvent.type === "pointerdown" && (i.current = !0)); const a = s.target; t.triggerRef.current?.contains(a) && s.preventDefault(), s.detail.originalEvent.type === "focusin" && i.current && s.preventDefault() } }) }), eM = F.forwardRef((n, e) => { const { __scopePopover: t, trapFocus: r, onOpenAutoFocus: i, onCloseAutoFocus: s, disableOutsidePointerEvents: a, onEscapeKeyDown: o, onPointerDownOutside: A, onFocusOutside: u, onInteractOutside: f, ...h } = n, m = Yd(Qg, t), p = uv(t); return iE(), g.jsx(lb, { asChild: !0, loop: !0, trapped: r, onMountAutoFocus: i, onUnmountAutoFocus: s, children: g.jsx(ob, { asChild: !0, disableOutsidePointerEvents: a, onInteractOutside: f, onEscapeKeyDown: o, onPointerDownOutside: A, onFocusOutside: u, onDismiss: () => m.onOpenChange(!1), children: g.jsx(ER, { "data-state": nM(m.open), role: "dialog", id: m.contentId, ...p, ...h, ref: e, style: { ...h.style, "--radix-popover-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-popover-content-available-width": "var(--radix-popper-available-width)", "--radix-popover-content-available-height": "var(--radix-popper-available-height)", "--radix-popover-trigger-width": "var(--radix-popper-anchor-width)", "--radix-popover-trigger-height": "var(--radix-popper-anchor-height)" } }) }) }) }), tM = "PopoverClose", Kne = F.forwardRef((n, e) => { const { __scopePopover: t, ...r } = n, i = Yd(tM, t); return g.jsx(G6.button, { type: "button", ...r, ref: e, onClick: dr(n.onClick, () => i.onOpenChange(!1)) }) }); Kne.displayName = tM; var Vne = "PopoverArrow", Gne = F.forwardRef((n, e) => { const { __scopePopover: t, ...r } = n, i = uv(t); return g.jsx(SR, { ...i, ...r, ref: e }) }); Gne.displayName = Vne; function nM(n) { return n ? "open" : "closed" } var Wne = Y6, Yne = Z6, Jne = q6, rM = $6; const iM = Wne, sM = Yne, dS = F.forwardRef(({ className: n, align: e = "center", sideOffset: t = 4, ...r }, i) => g.jsx(Jne, { children: g.jsx(rM, { ref: i, align: e, sideOffset: t, className: Dn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2", n), ...r }) })); dS.displayName = rM.displayName; const of = { async getAll(n) { let e = jt.from("teams").select("*").order("name"); n && (e = e.eq("division", n)); const { data: t, error: r } = await e; if (r) throw r; return t }, async getById(n) { const { data: e, error: t } = await jt.from("teams").select("*").eq("id", n).single(); if (t) throw t; const { data: r, error: i } = await jt.from("team_members").select("*, user:noose_user(username, rank, division)").eq("team_id", n); if (i) throw i; return { ...e, members: r, member_count: r.length } }, async getUserTeams(n) { const { data: e, error: t } = await jt.from("team_members").select("teams(*)").eq("user_id", n); if (t) throw t; return e ? e.map(r => r.teams).filter(Boolean) : [] }, async create(n) { const { data: e, error: t } = await jt.from("teams").insert(n).select().single(); if (t) throw t; return e }, async update(n, e) { const { data: t, error: r } = await jt.from("teams").update({ ...e, updated_at: new Date().toISOString() }).eq("id", n).select().single(); if (r) throw r; return t }, async delete(n) { const { error: e } = await jt.from("teams").delete().eq("id", n); if (e) throw e }, async addMember(n, e, t = "member") { const { data: r, error: i } = await jt.from("team_members").insert({ team_id: n, user_id: e, role: t }).select().single(); if (i) throw i; return r }, async removeMember(n, e) { const { error: t } = await jt.from("team_members").delete().eq("team_id", n).eq("user_id", e); if (t) throw t }, async updateMemberRole(n, e, t) { const { data: r, error: i } = await jt.from("team_members").update({ role: t }).eq("team_id", n).eq("user_id", e).select().single(); if (i) throw i; return r }, async isMember(n, e) { const { data: t, error: r } = await jt.from("team_members").select("id").eq("team_id", n).eq("user_id", e).maybeSingle(); if (r) throw r; return !!t }, async getMembers(n) { const { data: e, error: t } = await jt.from("team_members").select("*, user:noose_user(username, rank, division)").eq("team_id", n); if (t) throw t; return e } }, f3 = { Investigation: "bg-blue-100 text-blue-800 border-blue-300", Patrol: "bg-green-100 text-green-800 border-green-300", Tactical: "bg-red-100 text-red-800 border-red-300", Intelligence: "bg-purple-100 text-purple-800 border-purple-300", Cybersecurity: "bg-cyan-100 text-cyan-800 border-cyan-300", General: "bg-gray-100 text-gray-800 border-gray-300" }; function YC({ team: n, onClick: e, onRemove: t, className: r }) { const i = f3[n.division] || f3.General; return g.jsxs(nl, { variant: "outline", className: Dn("cursor-pointer transition-all hover:shadow-sm", i, r), onClick: e, children: [g.jsx("span", { className: "font-medium", children: n.name }), g.jsxs("span", { className: "ml-1 text-xs opacity-70", children: ["(", n.division, ")"] }), t && g.jsx("button", { onClick: s => { s.stopPropagation(), t() }, className: "ml-2 hover:text-destructive", children: "" })] }) } function Xne({ selectedTeams: n, onTeamsChange: e, userDivision: t }) { const [r, i] = F.useState(!1), [s, a] = F.useState([]), [o, A] = F.useState([]), [u, f] = F.useState(!1); F.useEffect(() => { (async () => { f(!0); try { const b = await of.getAll(t); a(b) } catch (b) { console.error("Failed to load teams:", b) } finally { f(!1) } })() }, [t]), F.useEffect(() => { (async () => { if (n.length === 0) { A([]); return } const b = s.filter(y => n.includes(y.id)); A(b) })() }, [n, s]); const h = p => { const b = n.includes(p) ? n.filter(y => y !== p) : [...n, p]; e(b) }, m = p => { e(n.filter(b => b !== p)) }; return g.jsxs("div", { className: "space-y-2", children: [g.jsxs(iM, { open: r, onOpenChange: i, children: [g.jsx(sM, { asChild: !0, children: g.jsxs(Vt, { variant: "outline", role: "combobox", "aria-expanded": r, className: "w-full justify-between", children: [n.length > 0 ? `${n.length} team(s) selected` : "Select teams to share with...", g.jsx(uO, { className: "ml-2 h-4 w-4 shrink-0 opacity-50" })] }) }), g.jsx(dS, { className: "w-[400px] p-0", children: g.jsxs(ev, { children: [g.jsx(tv, { placeholder: "Search teams..." }), g.jsxs(nv, { children: [g.jsx(rv, { children: u ? "Loading teams..." : "No teams found." }), g.jsx(iv, { heading: "Available Teams", children: s.map(p => g.jsxs(sv, { value: p.name, onSelect: () => h(p.id), children: [g.jsx(sb, { className: Dn("mr-2 h-4 w-4", n.includes(p.id) ? "opacity-100" : "opacity-0") }), g.jsxs("div", { className: "flex flex-col", children: [g.jsx("span", { className: "font-medium", children: p.name }), g.jsxs("span", { className: "text-xs text-muted-foreground", children: [p.division, p.description && `  ${p.description}`] })] })] }, p.id)) })] })] }) })] }), o.length > 0 && g.jsx("div", { className: "flex flex-wrap gap-2", children: o.map(p => g.jsx(YC, { team: p, onRemove: () => m(p.id) }, p.id)) })] }) } function Zne(n) { const e = qne(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(ere); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function qne(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = nre(i), o = tre(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var $ne = Symbol("radix.slottable"); function ere(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === $ne } function tre(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function nre(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var rre = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], hS = rre.reduce((n, e) => { const t = Zne(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), Qb = "Checkbox", [ire] = Dd(Qb), [sre, pS] = ire(Qb); function are(n) { const { __scopeCheckbox: e, checked: t, children: r, defaultChecked: i, disabled: s, form: a, name: o, onCheckedChange: A, required: u, value: f = "on", internal_do_not_use_render: h } = n, [m, p] = Jh({ prop: t, defaultProp: i ?? !1, onChange: A, caller: Qb }), [b, y] = F.useState(null), [E, _] = F.useState(null), O = F.useRef(!1), I = b ? !!a || !!b.closest("form") : !0, D = { checked: m, disabled: s, setChecked: p, control: b, setControl: y, name: o, form: a, value: f, hasConsumerStoppedPropagationRef: O, required: u, defaultChecked: Ed(i) ? !1 : i, isFormControl: I, bubbleInput: E, setBubbleInput: _ }; return g.jsx(sre, { scope: e, ...D, children: ore(h) ? h(D) : r }) } var aM = "CheckboxTrigger", oM = F.forwardRef(({ __scopeCheckbox: n, onKeyDown: e, onClick: t, ...r }, i) => { const { control: s, value: a, disabled: o, checked: A, required: u, setControl: f, setChecked: h, hasConsumerStoppedPropagationRef: m, isFormControl: p, bubbleInput: b } = pS(aM, n), y = is(i, f), E = F.useRef(A); return F.useEffect(() => { const _ = s?.form; if (_) { const O = () => h(E.current); return _.addEventListener("reset", O), () => _.removeEventListener("reset", O) } }, [s, h]), g.jsx(hS.button, { type: "button", role: "checkbox", "aria-checked": Ed(A) ? "mixed" : A, "aria-required": u, "data-state": fM(A), "data-disabled": o ? "" : void 0, disabled: o, value: a, ...r, ref: y, onKeyDown: dr(e, _ => { _.key === "Enter" && _.preventDefault() }), onClick: dr(t, _ => { h(O => Ed(O) ? !0 : !O), b && p && (m.current = _.isPropagationStopped(), m.current || _.stopPropagation()) }) }) }); oM.displayName = aM; var gS = F.forwardRef((n, e) => { const { __scopeCheckbox: t, name: r, checked: i, defaultChecked: s, required: a, disabled: o, value: A, onCheckedChange: u, form: f, ...h } = n; return g.jsx(are, { __scopeCheckbox: t, checked: i, defaultChecked: s, disabled: o, required: a, onCheckedChange: u, name: r, form: f, value: A, internal_do_not_use_render: ({ isFormControl: m }) => g.jsxs(g.Fragment, { children: [g.jsx(oM, { ...h, ref: e, __scopeCheckbox: t }), m && g.jsx(uM, { __scopeCheckbox: t })] }) }) }); gS.displayName = Qb; var lM = "CheckboxIndicator", AM = F.forwardRef((n, e) => { const { __scopeCheckbox: t, forceMount: r, ...i } = n, s = pS(lM, t); return g.jsx(Pd, { present: r || Ed(s.checked) || s.checked === !0, children: g.jsx(hS.span, { "data-state": fM(s.checked), "data-disabled": s.disabled ? "" : void 0, ...i, ref: e, style: { pointerEvents: "none", ...n.style } }) }) }); AM.displayName = lM; var cM = "CheckboxBubbleInput", uM = F.forwardRef(({ __scopeCheckbox: n, ...e }, t) => { const { control: r, hasConsumerStoppedPropagationRef: i, checked: s, defaultChecked: a, required: o, disabled: A, name: u, value: f, form: h, bubbleInput: m, setBubbleInput: p } = pS(cM, n), b = is(t, p), y = NR(s), E = hR(r); F.useEffect(() => { const O = m; if (!O) return; const I = window.HTMLInputElement.prototype, z = Object.getOwnPropertyDescriptor(I, "checked").set, X = !i.current; if (y !== s && z) { const q = new Event("click", { bubbles: X }); O.indeterminate = Ed(s), z.call(O, Ed(s) ? !1 : s), O.dispatchEvent(q) } }, [m, y, s, i]); const _ = F.useRef(Ed(s) ? !1 : s); return g.jsx(hS.input, { type: "checkbox", "aria-hidden": !0, defaultChecked: a ?? _.current, required: o, disabled: A, name: u, value: f, form: h, ...e, tabIndex: -1, ref: b, style: { ...e.style, ...E, position: "absolute", pointerEvents: "none", opacity: 0, margin: 0, transform: "translateX(-100%)" } }) }); uM.displayName = cM; function ore(n) { return typeof n == "function" } function Ed(n) { return n === "indeterminate" } function fM(n) { return Ed(n) ? "indeterminate" : n ? "checked" : "unchecked" } const Kc = F.forwardRef(({ className: n, ...e }, t) => g.jsx(gS, { ref: t, className: Dn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground", n), ...e, children: g.jsx(AM, { className: Dn("flex items-center justify-center text-current"), children: g.jsx(sb, { className: "h-4 w-4" }) }) })); Kc.displayName = gS.displayName; const Lw = { async createVersion(n, e, t, r) { const { data: i, error: s } = await jt.from("report_versions").insert({ report_id: n, version_type: e, redacted_fields: t, created_by: r }).select().single(); if (s) throw s; return i }, async updateVersion(n, e) { const { data: t, error: r } = await jt.from("report_versions").update({ redacted_fields: e }).eq("id", n).select().single(); if (r) throw r; return t }, async getVersions(n) { const { data: e, error: t } = await jt.from("report_versions").select("*").eq("report_id", n).order("created_at", { ascending: !1 }); if (t) throw t; return e }, async getVersion(n, e) { const { data: t, error: r } = await jt.from("report_versions").select("*").eq("report_id", n).eq("version_type", e).maybeSingle(); if (r) throw r; return t }, async deleteVersion(n) { const { error: e } = await jt.from("report_versions").delete().eq("id", n); if (e) throw e }, async getVersionForClearance(n, e) { return e >= 4 ? null : e >= 2 ? this.getVersion(n, "partial") : this.getVersion(n, "public") }, configToFields(n) { const e = []; return n.suspect_name && e.push("suspect_name"), n.suspect_address && e.push("suspect_address"), n.suspect_dob && e.push("suspect_dob"), n.officer_name && e.push("officer_name"), n.witness_names && e.push("witness_names"), n.phone_numbers && e.push("phone_numbers"), n.custom_fields && e.push(...n.custom_fields), e }, applyRedaction(n, e) { const t = { ...n }; return e.forEach(r => { r in t && (t[r] = "[REDACTED]") }), t } }; function lre({ reportId: n, open: e, onOpenChange: t, onSaved: r }) { const { user: i } = Fu(), [s, a] = F.useState("partial"), [o, A] = F.useState({}), [u, f] = F.useState(!1), h = b => { A(y => ({ ...y, [b]: !y[b] })) }, m = async () => { if (i) { f(!0); try { const b = Lw.configToFields(o); await Lw.createVersion(n, s, b, i.id), t(!1), r && r(), A({}), a("partial") } catch (b) { console.error("Failed to create redacted version:", b), alert("Failed to create redacted version") } finally { f(!1) } } }, p = () => { switch (s) { case "partial": return "Visible to users with clearance level 2-3. Some sensitive information redacted."; case "public": return "Visible to users with clearance level 0-1. Most sensitive information redacted."; default: return "" } }; return g.jsx(Gc, { open: e, onOpenChange: t, children: g.jsxs(cc, { className: "max-w-2xl", children: [g.jsxs(Wc, { children: [g.jsxs(uc, { className: "flex items-center gap-2", children: [g.jsx(kg, { className: "h-5 w-5" }), "Manage Document Redaction"] }), g.jsx(Yc, { children: "Create redacted versions of this report for different clearance levels. Select which fields to redact." })] }), g.jsxs("div", { className: "space-y-6 py-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Version Type" }), g.jsxs(hc, { value: s, onValueChange: b => a(b), children: [g.jsx(jA, { children: g.jsx(pc, {}) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "partial", children: g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsx(h9, { className: "h-4 w-4" }), g.jsx("span", { children: "Partial (Clearance 2-3)" })] }) }), g.jsx(Zn, { value: "public", children: g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsx(g9, { className: "h-4 w-4" }), g.jsx("span", { children: "Public (Clearance 0-1)" })] }) })] })] }), g.jsx("p", { className: "text-xs text-muted-foreground", children: p() })] }), g.jsxs("div", { className: "space-y-4", children: [g.jsx(Cn, { children: "Fields to Redact" }), g.jsxs("div", { className: "grid grid-cols-2 gap-4 p-4 border rounded-md", children: [g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "suspect_name", checked: o.suspect_name || !1, onCheckedChange: () => h("suspect_name") }), g.jsx("label", { htmlFor: "suspect_name", className: "text-sm font-medium", children: "Suspect Name" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "suspect_address", checked: o.suspect_address || !1, onCheckedChange: () => h("suspect_address") }), g.jsx("label", { htmlFor: "suspect_address", className: "text-sm font-medium", children: "Suspect Address" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "suspect_dob", checked: o.suspect_dob || !1, onCheckedChange: () => h("suspect_dob") }), g.jsx("label", { htmlFor: "suspect_dob", className: "text-sm font-medium", children: "Suspect Date of Birth" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "officer_name", checked: o.officer_name || !1, onCheckedChange: () => h("officer_name") }), g.jsx("label", { htmlFor: "officer_name", className: "text-sm font-medium", children: "Officer Name" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "witness_names", checked: o.witness_names || !1, onCheckedChange: () => h("witness_names") }), g.jsx("label", { htmlFor: "witness_names", className: "text-sm font-medium", children: "Witness Names" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "phone_numbers", checked: o.phone_numbers || !1, onCheckedChange: () => h("phone_numbers") }), g.jsx("label", { htmlFor: "phone_numbers", className: "text-sm font-medium", children: "Phone Numbers" })] })] })] }), g.jsxs("div", { className: "p-4 bg-muted rounded-md", children: [g.jsx("p", { className: "text-sm font-medium mb-2", children: "Preview:" }), g.jsx("p", { className: "text-xs text-muted-foreground", children: Object.values(o).filter(Boolean).length === 0 ? "No fields selected for redaction" : `${Object.values(o).filter(Boolean).length} field(s) will be replaced with [REDACTED]` })] }), g.jsxs("div", { className: "flex gap-2 pt-4 border-t", children: [g.jsx(Vt, { onClick: m, disabled: u || Object.values(o).filter(Boolean).length === 0, className: "flex-1", children: u ? "Saving..." : "Create Redacted Version" }), g.jsx(Vt, { variant: "outline", onClick: () => t(!1), className: "flex-1", children: "Cancel" })] })] })] }) }) } function Are({ reportId: n, onVersionSelect: e, onRefresh: t }) { const { user: r } = Fu(), [i, s] = F.useState([]), [a, o] = F.useState("full"), [A, u] = F.useState(!1); F.useEffect(() => { f() }, [n]); const f = async () => { u(!0); try { const y = await Lw.getVersions(n); s(y) } catch (y) { console.error("Failed to load versions:", y) } finally { u(!1) } }, h = async y => { if (o(y), y === "full") { e(null); return } const E = i.find(_ => _.version_type === y); E && e(E) }, m = async y => { if (confirm("Delete this redacted version?")) try { await Lw.deleteVersion(y), f(), t && t(); const E = i.find(_ => _.id === y); E && a === E.version_type && (o("full"), e(null)) } catch (E) { console.error("Failed to delete version:", E), alert("Failed to delete version") } }, p = y => { switch (y) { case "full": return g.jsx(nl, { variant: "default", children: "Full (No Redaction)" }); case "partial": return g.jsx(nl, { variant: "secondary", children: "Partial (Clearance 2-3)" }); case "public": return g.jsx(nl, { variant: "outline", children: "Public (Clearance 0-1)" }); default: return null } }, b = y => { const E = r?.clearance || 0; return E >= 4 || E >= 2 && y !== "full" || E < 2 && y === "public" }; return g.jsxs("div", { className: "space-y-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Document Version" }), g.jsxs(hc, { value: a, onValueChange: h, children: [g.jsx(jA, { children: g.jsx(pc, {}) }), g.jsxs(zA, { children: [b("full") && g.jsx(Zn, { value: "full", children: g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsx(Eu, { className: "h-4 w-4" }), g.jsx("span", { children: "Full Version (No Redaction)" })] }) }), i.filter(y => b(y.version_type)).map(y => g.jsx(Zn, { value: y.version_type, children: g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsx(Eu, { className: "h-4 w-4" }), g.jsxs("span", { children: [y.version_type === "partial" ? "Partial" : "Public", " Version", y.redacted_fields.length > 0 && ` (${y.redacted_fields.length} fields redacted)`] })] }) }, y.id))] })] }), g.jsxs("div", { className: "flex items-center gap-2", children: [p(a), r?.clearance && r.clearance >= 4 && g.jsxs("span", { className: "text-xs text-muted-foreground", children: ["Your clearance: Level ", r.clearance] })] })] }), r?.permissions.includes("admin.access") && i.length > 0 && g.jsxs("div", { className: "space-y-2 p-4 border rounded-md", children: [g.jsx(Cn, { className: "text-xs", children: "Manage Versions" }), g.jsx("div", { className: "space-y-2", children: i.map(y => g.jsxs("div", { className: "flex items-center justify-between text-sm", children: [g.jsxs("div", { children: [g.jsx("span", { className: "font-medium capitalize", children: y.version_type }), g.jsxs("span", { className: "text-muted-foreground ml-2", children: ["(", y.redacted_fields.length, " fields)"] })] }), g.jsx(Vt, { size: "icon", variant: "ghost", onClick: () => m(y.id), children: g.jsx(tE, { className: "h-4 w-4 text-destructive" }) })] }, y.id)) })] }), A && g.jsx("p", { className: "text-xs text-muted-foreground text-center", children: "Loading versions..." })] }) } function d3() { const { id: n } = $w(), e = bc(), { user: t } = Fu(), r = !n || n === "new", [i, s] = F.useState(""), [a, o] = F.useState("Unclassified"), [A, u] = F.useState(""), [f, h] = F.useState("Draft"), [m, p] = F.useState(new Date().toISOString()), [b, y] = F.useState(!r), [E, _] = F.useState(null), [O, I] = F.useState(null), [D, z] = F.useState(""), [X, q] = F.useState([]), [W, G] = F.useState(!1), [fe, ne] = F.useState([]), [V, se] = F.useState(!1), [M, pe] = F.useState([]); F.useEffect(() => { if (!r && n) { async function j() { try { const L = await Th.getById(n); if (s(L.title), o(L.classification), u(L.content), h(L.status), p(L.created_at), L.suspect_id) { _(L.suspect_id); const re = await Xc.getById(L.suspect_id); I(re) } L.shared_with_teams && ne(L.shared_with_teams) } catch (L) { console.error("Failed to fetch report:", L) } finally { y(!1) } } j() } }, [n, r]), F.useEffect(() => { const L = setTimeout(async () => { if (D.length < 2) { q([]); return } G(!0); try { const re = await fE.search(D, "civilian"); q(re) } catch (re) { console.error(re) } finally { G(!1) } }, 300); return () => clearTimeout(L) }, [D]), F.useEffect(() => { E && !O ? Xc.getById(E).then(I).catch(console.error) : E || I(null) }, [E]); const Z = async j => { _(j), z(""), q([]); try { const L = await Xc.getById(j); I(L) } catch (L) { console.error("Failed to fetch suspect:", L) } }, ae = () => { _(null), I(null) }, me = async () => { try { const j = { title: i, classification: a, content: A, status: f, author_id: t?.id, suspect_id: E || void 0 }; r ? await Th.create(j) : n && (await Th.update(n, j), (fe.length > 0 || fe.length !== (await Th.getById(n)).shared_with_teams?.length) && await Th.shareWithTeams(n, fe)), e("/reports") } catch (j) { console.error("Failed to save report:", j) } }, ke = () => { window.print() }; if (b) return g.jsx("div", { className: "p-8 text-center", children: "Loading report..." }); const Ce = { id: n || "NEW", title: i, classification: a, content: A, status: f, created_at: m, author_id: t?.id || "", updated_at: new Date().toISOString(), suspect_id: E || void 0 }; return g.jsxs(g.Fragment, { children: [g.jsx("div", { className: "print-only hidden print:block", children: g.jsx(uS, { report: Ce, author: t, suspect: O, redactedFields: M }) }), g.jsxs("div", { className: "space-y-6 max-w-4xl mx-auto print:hidden", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { className: "flex items-center gap-4", children: [g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => e("/reports"), children: g.jsx(ib, { className: "h-4 w-4" }) }), g.jsx("h1", { className: "text-2xl font-bold tracking-tight", children: r ? "New Report" : `Report ${n}` }), !r && g.jsx("span", { className: `text-xs px-2 py-0.5 rounded-full border ${f === "Validated" ? "bg-green-100 text-green-800 border-green-200" : "bg-yellow-100 text-yellow-800 border-yellow-200"}`, children: f })] }), g.jsxs("div", { className: "flex items-center gap-2", children: [!r && g.jsxs(g.Fragment, { children: [g.jsxs(Vt, { variant: "outline", onClick: () => se(!0), children: [g.jsx(kg, { className: "mr-2 h-4 w-4" }), " Manage Redactions"] }), g.jsxs(Vt, { variant: "outline", onClick: ke, children: [g.jsx(P1, { className: "mr-2 h-4 w-4" }), " Export PDF"] })] }), g.jsxs(Vt, { onClick: me, children: [g.jsx(ab, { className: "mr-2 h-4 w-4" }), " Save Report"] })] })] }), g.jsxs("div", { className: "grid grid-cols-3 gap-6", children: [g.jsxs("div", { className: "col-span-2 space-y-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "title", children: "Report Title" }), g.jsx(xr, { id: "title", value: i, onChange: j => s(j.target.value), placeholder: "Enter report title" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Content" }), g.jsx(Tne, { content: A, onChange: u })] })] }), g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Classification" }), g.jsxs(hc, { value: a, onValueChange: o, children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Select classification" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "Unclassified", children: "Unclassified" }), g.jsx(Zn, { value: "Restricted", children: "Restricted" }), g.jsx(Zn, { value: "Confidential", children: "Confidential" }), g.jsx(Zn, { value: "Secret", children: "Secret" }), g.jsx(Zn, { value: "Top Secret", children: "Top Secret" })] })] }), g.jsx("p", { className: "text-xs text-muted-foreground", children: "Higher classification restricts access to authorized personnel only." })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Status" }), g.jsxs(hc, { value: f, onValueChange: h, children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Select status" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "Draft", children: "Draft" }), g.jsx(Zn, { value: "Validated", children: "Validated" }), g.jsx(Zn, { value: "Archived", children: "Archived" })] })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Suspect" }), O ? g.jsxs("div", { className: "flex items-center justify-between p-3 border rounded-md bg-muted/50", children: [g.jsxs("div", { children: [g.jsx("p", { className: "font-medium text-sm", children: O.full_name }), g.jsxs("p", { className: "text-xs text-muted-foreground", children: ["DOB: ", O.dob || "Unknown"] })] }), g.jsx(Vt, { variant: "ghost", size: "icon", onClick: ae, children: g.jsx(rE, { className: "h-4 w-4" }) })] }) : g.jsxs("div", { className: "border rounded-md relative", children: [g.jsx(_u, { className: "absolute left-2 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Search suspect...", value: D, onChange: j => z(j.target.value), className: "pl-8 border-0 focus-visible:ring-0" }), D.length >= 2 && g.jsx("div", { className: "absolute top-full left-0 right-0 z-10 bg-popover text-popover-foreground shadow-md rounded-md border mt-1 max-h-60 overflow-auto", children: X.length === 0 && !W ? g.jsx("div", { className: "p-2 text-sm text-muted-foreground text-center", children: "No civilians found." }) : g.jsx("div", { className: "p-1", children: X.map(j => g.jsxs("div", { className: "flex flex-col px-2 py-1.5 text-sm rounded-sm hover:bg-accent hover:text-accent-foreground cursor-pointer", onClick: () => Z(j.id), children: [g.jsx("span", { className: "font-medium", children: j.title }), g.jsx("span", { className: "text-xs text-muted-foreground", children: j.summary })] }, j.id)) }) })] })] }), !r && g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Share with Teams" }), g.jsx(Xne, { selectedTeams: fe, onTeamsChange: ne, userDivision: t?.division }), g.jsx("p", { className: "text-xs text-muted-foreground", children: "Share this report with specific teams for collaboration." })] }), !r && g.jsx("div", { className: "space-y-2", children: g.jsx(Are, { reportId: n, onVersionSelect: j => { pe(j?.redacted_fields || []) } }) })] })] })] }), g.jsx(lre, { reportId: n || "", open: V, onOpenChange: se, onSaved: () => { pe([]) } })] }) } const xg = { async getAll() { const { data: n, error: e } = await jt.from("arrests").select("*, officer:noose_user(username, rank)").order("created_at", { ascending: !1 }); if (e) throw e; return n }, async getById(n) { const { data: e, error: t } = await jt.from("arrests").select("*, officer:noose_user(username, rank)").eq("id", n).single(); if (t) throw t; return e }, async create(n) { const { data: e, error: t } = await jt.from("arrests").insert(n).select().single(); if (t) throw t; return e }, async update(n, e) { const { data: t, error: r } = await jt.from("arrests").update(e).eq("id", n).select().single(); if (r) throw r; return t }, async delete(n) { const { error: e } = await jt.from("arrests").delete().eq("id", n); if (e) throw e }, async getByCivilianId(n) { const { data: e, error: t } = await jt.from("arrests").select("*, officer:noose_user(username, rank)").eq("civilian_id", n).order("created_at", { ascending: !1 }); if (t) throw t; return e } }; function cre() { const n = bc(), [e, t] = F.useState(""), [r, i] = F.useState([]), [s, a] = F.useState(!0); F.useEffect(() => { async function A() { try { const u = await xg.getAll(); i(u) } catch (u) { console.error("Failed to fetch arrests:", u) } finally { a(!1) } } A() }, []); const o = r.filter(A => A.suspect_name.toLowerCase().includes(e.toLowerCase()) || A.id.toLowerCase().includes(e.toLowerCase())); return g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Arrestations" }), g.jsxs(Vt, { onClick: () => n("/arrests/new"), children: [g.jsx(Ap, { className: "mr-2 h-4 w-4" }), " Nouvelle arrestation"] })] }), g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsxs("div", { className: "relative flex-1 max-w-sm", children: [g.jsx(_u, { className: "absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Rechercher des arrestations...", className: "pl-9", value: e, onChange: A => t(A.target.value) })] }), g.jsx(Vt, { variant: "outline", size: "icon", children: g.jsx(eE, { className: "h-4 w-4" }) })] }), g.jsx("div", { className: "rounded-md border bg-card", children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "ID" }), g.jsx(er, { children: "Suspect" }), g.jsx(er, { children: "Charges" }), g.jsx(er, { children: "Date" }), g.jsx(er, { children: "Officier" }), g.jsx(er, { children: "Statut" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: s ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 7, className: "text-center py-8", children: "Chargement des arrestations..." }) }) : o.length === 0 ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 7, className: "text-center py-8", children: "Aucune arrestation trouve." }) }) : o.map(A => g.jsxs(Ii, { className: "cursor-pointer hover:bg-muted/50", onClick: () => n(`/arrests/${A.id}`), children: [g.jsxs(wn, { className: "font-medium", children: [A.id.substring(0, 8), "..."] }), g.jsx(wn, { children: A.suspect_name }), g.jsx(wn, { className: "max-w-[200px] truncate", children: A.charges.join(", ") }), g.jsx(wn, { children: new Date(A.created_at).toLocaleDateString() }), g.jsx(wn, { children: A.officer ? g.jsxs("div", { className: "flex flex-col", children: [g.jsx("span", { className: "text-sm font-medium", children: A.officer.username }), g.jsx("span", { className: "text-xs text-muted-foreground", children: A.officer.rank })] }) : g.jsx("span", { className: "text-muted-foreground text-xs", children: A.arresting_officer_id }) }), g.jsx(wn, { children: g.jsx(nl, { variant: A.status === "Processed" ? "default" : "secondary", children: A.status }) }), g.jsx(wn, { className: "text-right", children: g.jsx(Vt, { variant: "ghost", size: "sm", children: "Voir" }) })] }, A.id)) })] }) })] }) } const Db = F.forwardRef(({ className: n, ...e }, t) => g.jsx("textarea", { className: Dn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", n), ref: t, ...e })); Db.displayName = "Textarea"; function ure({ value: n, onSelect: e }) { const [t, r] = F.useState(!1), [i, s] = F.useState(""), [a, o] = F.useState([]), [A, u] = F.useState(!1), [f, h] = F.useState(null), [m, p] = F.useState(new Set); F.useEffect(() => { t && (s(""), o([])) }, [t]), F.useEffect(() => { (async () => { try { const E = await xg.getAll(), _ = new Set(E.map(O => O.civilian_id).filter(Boolean)); p(_) } catch (E) { console.error("Failed to load arrests:", E) } })() }, []), F.useEffect(() => { if (i.length < 2) { o([]); return } const E = setTimeout(async () => { u(!0); try { const _ = await Xc.search(i); o(_) } catch (_) { console.error("Search error:", _) } finally { u(!1) } }, 300); return () => clearTimeout(E) }, [i]); const b = async () => { try { const y = await Xc.create({ full_name: i, flags: [], licenses: {} }); e(y), h(y), r(!1), alert(`Profile created for ${y.full_name}`) } catch (y) { console.error("Create error:", y), alert("Failed to create profile") } }; return g.jsxs(iM, { open: t, onOpenChange: r, children: [g.jsx(sM, { asChild: !0, children: g.jsxs(Vt, { variant: "outline", role: "combobox", "aria-expanded": t, className: "w-full justify-between", children: [f ? f.full_name : n || "Select or enter name...", g.jsx(uO, { className: "ml-2 h-4 w-4 shrink-0 opacity-50" })] }) }), g.jsx(dS, { className: "w-[300px] p-0", children: g.jsxs(ev, { children: [g.jsx(tv, { placeholder: "Search name...", value: i, onValueChange: s }), g.jsxs(nv, { children: [g.jsx(rv, { children: g.jsxs("div", { className: "p-2 text-center", children: [g.jsx("p", { className: "text-sm text-muted-foreground mb-2", children: A ? "Searching..." : "No person found." }), !A && g.jsxs(Vt, { size: "sm", className: "w-full", onClick: b, children: [g.jsx(Z0, { className: "mr-2 h-4 w-4" }), 'Create "', i, '"'] })] }) }), g.jsx(iv, { heading: "Civilians", children: a.map(y => { const E = m.has(y.id); return g.jsxs(sv, { value: y.full_name, onSelect: () => { e(y), h(y), r(!1) }, className: Dn(E && "text-muted-foreground"), children: [g.jsx(sb, { className: Dn("mr-2 h-4 w-4", f?.id === y.id ? "opacity-100" : "opacity-0") }), g.jsxs("div", { className: "flex items-center justify-between w-full", children: [g.jsxs("div", { className: "flex-1", children: [y.full_name, y.dob && g.jsxs("span", { className: "ml-2 text-xs text-muted-foreground", children: ["(", y.dob, ")"] })] }), E && g.jsx("span", { className: "ml-2 text-xs bg-muted px-2 py-0.5 rounded pointer-events-none shrink-0", children: "Previously Arrested" })] })] }, y.id) }) })] })] }) })] }) } var xh = {}, Mm = {}; var h3; function fre() {
  if (h3) return Mm; h3 = 1; var n = lp(), e = Zw(); function t(x) { var S = "https://react.dev/errors/" + x; if (1 < arguments.length) { S += "?args[]=" + encodeURIComponent(arguments[1]); for (var R = 2; R < arguments.length; R++)S += "&args[]=" + encodeURIComponent(arguments[R]) } return "Minified React error #" + x + "; visit " + S + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } var r = Symbol.for("react.transitional.element"), i = Symbol.for("react.portal"), s = Symbol.for("react.fragment"), a = Symbol.for("react.strict_mode"), o = Symbol.for("react.profiler"), A = Symbol.for("react.consumer"), u = Symbol.for("react.context"), f = Symbol.for("react.forward_ref"), h = Symbol.for("react.suspense"), m = Symbol.for("react.suspense_list"), p = Symbol.for("react.memo"), b = Symbol.for("react.lazy"), y = Symbol.for("react.scope"), E = Symbol.for("react.activity"), _ = Symbol.for("react.legacy_hidden"), O = Symbol.for("react.memo_cache_sentinel"), I = Symbol.for("react.view_transition"), D = Symbol.iterator; function z(x) { return x === null || typeof x != "object" ? null : (x = D && x[D] || x["@@iterator"], typeof x == "function" ? x : null) } var X = Array.isArray; function q(x, S) { var R = x.length & 3, K = x.length - R, ee = S; for (S = 0; S < K;) { var be = x.charCodeAt(S) & 255 | (x.charCodeAt(++S) & 255) << 8 | (x.charCodeAt(++S) & 255) << 16 | (x.charCodeAt(++S) & 255) << 24; ++S, be = 3432918353 * (be & 65535) + ((3432918353 * (be >>> 16) & 65535) << 16) & 4294967295, be = be << 15 | be >>> 17, be = 461845907 * (be & 65535) + ((461845907 * (be >>> 16) & 65535) << 16) & 4294967295, ee ^= be, ee = ee << 13 | ee >>> 19, ee = 5 * (ee & 65535) + ((5 * (ee >>> 16) & 65535) << 16) & 4294967295, ee = (ee & 65535) + 27492 + (((ee >>> 16) + 58964 & 65535) << 16) } switch (be = 0, R) { case 3: be ^= (x.charCodeAt(S + 2) & 255) << 16; case 2: be ^= (x.charCodeAt(S + 1) & 255) << 8; case 1: be ^= x.charCodeAt(S) & 255, be = 3432918353 * (be & 65535) + ((3432918353 * (be >>> 16) & 65535) << 16) & 4294967295, be = be << 15 | be >>> 17, ee ^= 461845907 * (be & 65535) + ((461845907 * (be >>> 16) & 65535) << 16) & 4294967295 }return ee ^= x.length, ee ^= ee >>> 16, ee = 2246822507 * (ee & 65535) + ((2246822507 * (ee >>> 16) & 65535) << 16) & 4294967295, ee ^= ee >>> 13, ee = 3266489909 * (ee & 65535) + ((3266489909 * (ee >>> 16) & 65535) << 16) & 4294967295, (ee ^ ee >>> 16) >>> 0 } var W = Object.assign, G = Object.prototype.hasOwnProperty, fe = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), ne = {}, V = {}; function se(x) { return G.call(V, x) ? !0 : G.call(ne, x) ? !1 : fe.test(x) ? V[x] = !0 : (ne[x] = !0, !1) } var M = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")), pe = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), Z = /["'&<>]/; function ae(x) { if (typeof x == "boolean" || typeof x == "number" || typeof x == "bigint") return "" + x; x = "" + x; var S = Z.exec(x); if (S) { var R = "", K, ee = 0; for (K = S.index; K < x.length; K++) { switch (x.charCodeAt(K)) { case 34: S = "&quot;"; break; case 38: S = "&amp;"; break; case 39: S = "&#x27;"; break; case 60: S = "&lt;"; break; case 62: S = "&gt;"; break; default: continue }ee !== K && (R += x.slice(ee, K)), ee = K + 1, R += S } x = ee !== K ? R + x.slice(ee, K) : R } return x } var me = /([A-Z])/g, ke = /^ms-/, Ce = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function j(x) { return Ce.test("" + x) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : x } var L = n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, re = e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, ie = { pending: !1, data: null, method: null, action: null }, oe = re.d; re.d = { f: oe.f, r: oe.r, D: $a, C: mi, L: _o, m: _l, X: Si, S: No, M: xc }; var de = [], Be = null, Re = /(<\/|<)(s)(cript)/gi; function Ie(x, S, R, K) { return "" + S + (R === "s" ? "\\u0073" : "\\u0053") + K } function Ye(x, S, R, K, ee) { return { idPrefix: x === void 0 ? "" : x, nextFormID: 0, streamingFormat: 0, bootstrapScriptContent: R, bootstrapScripts: K, bootstrapModules: ee, instructions: 0, hasBody: !1, hasHtml: !1, unknownResources: {}, dnsResources: {}, connectResources: { default: {}, anonymous: {}, credentials: {} }, imageResources: {}, styleResources: {}, scriptResources: {}, moduleUnknownResources: {}, moduleScriptResources: {} } } function $e(x, S, R, K) { return { insertionMode: x, selectedValue: S, tagScope: R, viewTransition: K } } function yt(x, S, R) { var K = x.tagScope & -25; switch (S) { case "noscript": return $e(2, null, K | 1, null); case "select": return $e(2, R.value != null ? R.value : R.defaultValue, K, null); case "svg": return $e(4, null, K, null); case "picture": return $e(2, null, K | 2, null); case "math": return $e(5, null, K, null); case "foreignObject": return $e(2, null, K, null); case "table": return $e(6, null, K, null); case "thead": case "tbody": case "tfoot": return $e(7, null, K, null); case "colgroup": return $e(9, null, K, null); case "tr": return $e(8, null, K, null); case "head": if (2 > x.insertionMode) return $e(3, null, K, null); break; case "html": if (x.insertionMode === 0) return $e(1, null, K, null) }return 6 <= x.insertionMode || 2 > x.insertionMode ? $e(2, null, K, null) : x.tagScope !== K ? $e(x.insertionMode, x.selectedValue, K, null) : x } function at(x) { return x === null ? null : { update: x.update, enter: "none", exit: "none", share: x.update, name: x.autoName, autoName: x.autoName, nameIdx: 0 } } function $(x, S) { return S.tagScope & 32 && (x.instructions |= 128), $e(S.insertionMode, S.selectedValue, S.tagScope | 12, at(S.viewTransition)) } function Ae(x, S) { x = at(S.viewTransition); var R = S.tagScope | 16; return x !== null && x.share !== "none" && (R |= 64), $e(S.insertionMode, S.selectedValue, R, x) } var Me = new Map; function _e(x, S) { if (typeof S != "object") throw Error(t(62)); var R = !0, K; for (K in S) if (G.call(S, K)) { var ee = S[K]; if (ee != null && typeof ee != "boolean" && ee !== "") { if (K.indexOf("--") === 0) { var be = ae(K); ee = ae(("" + ee).trim()) } else be = Me.get(K), be === void 0 && (be = ae(K.replace(me, "-$1").toLowerCase().replace(ke, "-ms-")), Me.set(K, be)), ee = typeof ee == "number" ? ee === 0 || M.has(K) ? "" + ee : ee + "px" : ae(("" + ee).trim()); R ? (R = !1, x.push(' style="', be, ":", ee)) : x.push(";", be, ":", ee) } } R || x.push('"') } function we(x, S, R) { R && typeof R != "function" && typeof R != "symbol" && x.push(" ", S, '=""') } function Ne(x, S, R) { typeof R != "function" && typeof R != "symbol" && typeof R != "boolean" && x.push(" ", S, '="', ae(R), '"') } var tt = ae("javascript:throw new Error('React form unexpectedly submitted.')"); function Je(x, S) { this.push('<input type="hidden"'), Qe(x), Ne(this, "name", S), Ne(this, "value", x), this.push("/>") } function Qe(x) { if (typeof x != "string") throw Error(t(480)) } function lt(x, S) { if (typeof S.$$FORM_ACTION == "function") { var R = x.nextFormID++; x = x.idPrefix + R; try { var K = S.$$FORM_ACTION(x); if (K) { var ee = K.data; ee?.forEach(Qe) } return K } catch (be) { if (typeof be == "object" && be !== null && typeof be.then == "function") throw be } } return null } function Bt(x, S, R, K, ee, be, Ue, ot) { var ze = null; if (typeof K == "function") { var At = lt(S, K); At !== null ? (ot = At.name, K = At.action || "", ee = At.encType, be = At.method, Ue = At.target, ze = At.data) : (x.push(" ", "formAction", '="', tt, '"'), Ue = be = ee = K = ot = null, Lt(S, R)) } return ot != null && st(x, "name", ot), K != null && st(x, "formAction", K), ee != null && st(x, "formEncType", ee), be != null && st(x, "formMethod", be), Ue != null && st(x, "formTarget", Ue), ze } function st(x, S, R) { switch (S) { case "className": Ne(x, "class", R); break; case "tabIndex": Ne(x, "tabindex", R); break; case "dir": case "role": case "viewBox": case "width": case "height": Ne(x, S, R); break; case "style": _e(x, R); break; case "src": case "href": if (R === "") break; case "action": case "formAction": if (R == null || typeof R == "function" || typeof R == "symbol" || typeof R == "boolean") break; R = j("" + R), x.push(" ", S, '="', ae(R), '"'); break; case "defaultValue": case "defaultChecked": case "innerHTML": case "suppressContentEditableWarning": case "suppressHydrationWarning": case "ref": break; case "autoFocus": case "multiple": case "muted": we(x, S.toLowerCase(), R); break; case "xlinkHref": if (typeof R == "function" || typeof R == "symbol" || typeof R == "boolean") break; R = j("" + R), x.push(" ", "xlink:href", '="', ae(R), '"'); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": typeof R != "function" && typeof R != "symbol" && x.push(" ", S, '="', ae(R), '"'); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": R && typeof R != "function" && typeof R != "symbol" && x.push(" ", S, '=""'); break; case "capture": case "download": R === !0 ? x.push(" ", S, '=""') : R !== !1 && typeof R != "function" && typeof R != "symbol" && x.push(" ", S, '="', ae(R), '"'); break; case "cols": case "rows": case "size": case "span": typeof R != "function" && typeof R != "symbol" && !isNaN(R) && 1 <= R && x.push(" ", S, '="', ae(R), '"'); break; case "rowSpan": case "start": typeof R == "function" || typeof R == "symbol" || isNaN(R) || x.push(" ", S, '="', ae(R), '"'); break; case "xlinkActuate": Ne(x, "xlink:actuate", R); break; case "xlinkArcrole": Ne(x, "xlink:arcrole", R); break; case "xlinkRole": Ne(x, "xlink:role", R); break; case "xlinkShow": Ne(x, "xlink:show", R); break; case "xlinkTitle": Ne(x, "xlink:title", R); break; case "xlinkType": Ne(x, "xlink:type", R); break; case "xmlBase": Ne(x, "xml:base", R); break; case "xmlLang": Ne(x, "xml:lang", R); break; case "xmlSpace": Ne(x, "xml:space", R); break; default: if ((!(2 < S.length) || S[0] !== "o" && S[0] !== "O" || S[1] !== "n" && S[1] !== "N") && (S = pe.get(S) || S, se(S))) { switch (typeof R) { case "function": case "symbol": return; case "boolean": var K = S.toLowerCase().slice(0, 5); if (K !== "data-" && K !== "aria-") return }x.push(" ", S, '="', ae(R), '"') } } } function Ct(x, S, R) { if (S != null) { if (R != null) throw Error(t(60)); if (typeof S != "object" || !("__html" in S)) throw Error(t(61)); S = S.__html, S != null && x.push("" + S) } } function Xt(x) { var S = ""; return n.Children.forEach(x, function (R) { R != null && (S += R) }), S } function Lt(x, S) { if ((x.instructions & 16) === 0) { x.instructions |= 16; var R = S.preamble, K = S.bootstrapChunks; (R.htmlChunks || R.headChunks) && K.length === 0 ? (K.push(S.startInlineScript), Is(K, x), K.push(">", `addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`, "<\/script>")) : K.unshift(S.startInlineScript, ">", `addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`, "<\/script>") } } function Ft(x, S) { x.push(Qt("link")); for (var R in S) if (G.call(S, R)) { var K = S[R]; if (K != null) switch (R) { case "children": case "dangerouslySetInnerHTML": throw Error(t(399, "link")); default: st(x, R, K) } } return x.push("/>"), null } var bn = /(<\/|<)(s)(tyle)/gi; function Pt(x, S, R, K) { return "" + S + (R === "s" ? "\\73 " : "\\53 ") + K } function Br(x, S, R) { x.push(Qt(R)); for (var K in S) if (G.call(S, K)) { var ee = S[K]; if (ee != null) switch (K) { case "children": case "dangerouslySetInnerHTML": throw Error(t(399, R)); default: st(x, K, ee) } } return x.push("/>"), null } function en(x, S) { x.push(Qt("title")); var R = null, K = null, ee; for (ee in S) if (G.call(S, ee)) { var be = S[ee]; if (be != null) switch (ee) { case "children": R = be; break; case "dangerouslySetInnerHTML": K = be; break; default: st(x, ee, be) } } return x.push(">"), S = Array.isArray(R) ? 2 > R.length ? R[0] : null : R, typeof S != "function" && typeof S != "symbol" && S !== null && S !== void 0 && x.push(ae("" + S)), Ct(x, K, R), x.push(hn("title")), null } function nn(x, S) { x.push(Qt("script")); var R = null, K = null, ee; for (ee in S) if (G.call(S, ee)) { var be = S[ee]; if (be != null) switch (ee) { case "children": R = be; break; case "dangerouslySetInnerHTML": K = be; break; default: st(x, ee, be) } } return x.push(">"), Ct(x, K, R), typeof R == "string" && x.push(("" + R).replace(Re, Ie)), x.push(hn("script")), null } function vn(x, S, R) { x.push(Qt(R)); var K = R = null, ee; for (ee in S) if (G.call(S, ee)) { var be = S[ee]; if (be != null) switch (ee) { case "children": R = be; break; case "dangerouslySetInnerHTML": K = be; break; default: st(x, ee, be) } } return x.push(">"), Ct(x, K, R), R } function En(x, S, R) { x.push(Qt(R)); var K = R = null, ee; for (ee in S) if (G.call(S, ee)) { var be = S[ee]; if (be != null) switch (ee) { case "children": R = be; break; case "dangerouslySetInnerHTML": K = be; break; default: st(x, ee, be) } } return x.push(">"), Ct(x, K, R), typeof R == "string" ? (x.push(ae(R)), null) : R } var rn = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/, Fr = new Map; function Qt(x) { var S = Fr.get(x); if (S === void 0) { if (!rn.test(x)) throw Error(t(65, x)); S = "<" + x, Fr.set(x, S) } return S } function Wt(x, S, R, K, ee, be, Ue, ot, ze) {
    switch (S) {
      case "div": case "span": case "svg": case "path": break; case "a": x.push(Qt("a")); var At = null, wt = null, ft; for (ft in R) if (G.call(R, ft)) { var Ot = R[ft]; if (Ot != null) switch (ft) { case "children": At = Ot; break; case "dangerouslySetInnerHTML": wt = Ot; break; case "href": Ot === "" ? Ne(x, "href", "") : st(x, ft, Ot); break; default: st(x, ft, Ot) } } if (x.push(">"), Ct(x, wt, At), typeof At == "string") { x.push(ae(At)); var qt = null } else qt = At; return qt; case "g": case "p": case "li": break; case "select": x.push(Qt("select")); var Wn = null, Pn = null, Mn; for (Mn in R) if (G.call(R, Mn)) { var Ln = R[Mn]; if (Ln != null) switch (Mn) { case "children": Wn = Ln; break; case "dangerouslySetInnerHTML": Pn = Ln; break; case "defaultValue": case "value": break; default: st(x, Mn, Ln) } } return x.push(">"), Ct(x, Pn, Wn), Wn; case "option": var zn = ot.selectedValue; x.push(Qt("option")); var _r = null, Xr = null, Tn = null, Rn = null, ir; for (ir in R) if (G.call(R, ir)) { var Pr = R[ir]; if (Pr != null) switch (ir) { case "children": _r = Pr; break; case "selected": Tn = Pr; break; case "dangerouslySetInnerHTML": Rn = Pr; break; case "value": Xr = Pr; default: st(x, ir, Pr) } } if (zn != null) { var or = Xr !== null ? "" + Xr : Xt(_r); if (X(zn)) { for (var hi = 0; hi < zn.length; hi++)if ("" + zn[hi] === or) { x.push(' selected=""'); break } } else "" + zn === or && x.push(' selected=""') } else Tn && x.push(' selected=""'); return x.push(">"), Ct(x, Rn, _r), _r; case "textarea": x.push(Qt("textarea")); var yr = null, li = null, ti = null, Vr; for (Vr in R) if (G.call(R, Vr)) { var ps = R[Vr]; if (ps != null) switch (Vr) { case "children": ti = ps; break; case "value": yr = ps; break; case "defaultValue": li = ps; break; case "dangerouslySetInnerHTML": throw Error(t(91)); default: st(x, Vr, ps) } } if (yr === null && li !== null && (yr = li), x.push(">"), ti != null) { if (yr != null) throw Error(t(92)); if (X(ti)) { if (1 < ti.length) throw Error(t(93)); yr = "" + ti[0] } yr = "" + ti } return typeof yr == "string" && yr[0] === `
`&& x.push(`
`), yr !== null && x.push(ae("" + yr)), null; case "input": x.push(Qt("input")); var ho = null, js = null, zs = null, Wo = null, ki = null, ia = null, sa = null, Ti = null, Ji = null, aa; for (aa in R) if (G.call(R, aa)) { var Hr = R[aa]; if (Hr != null) switch (aa) { case "children": case "dangerouslySetInnerHTML": throw Error(t(399, "input")); case "name": ho = Hr; break; case "formAction": js = Hr; break; case "formEncType": zs = Hr; break; case "formMethod": Wo = Hr; break; case "formTarget": ki = Hr; break; case "defaultChecked": Ji = Hr; break; case "defaultValue": sa = Hr; break; case "checked": Ti = Hr; break; case "value": ia = Hr; break; default: st(x, aa, Hr) } } var gs = Bt(x, K, ee, js, zs, Wo, ki, ho); return Ti !== null ? we(x, "checked", Ti) : Ji !== null && we(x, "checked", Ji), ia !== null ? st(x, "value", ia) : sa !== null && st(x, "value", sa), x.push("/>"), gs?.forEach(Je, x), null; case "button": x.push(Qt("button")); var Ts = null, lu = null, _c = null, Nc = null, Au = null, Pi = null, ni = null, Yn; for (Yn in R) if (G.call(R, Yn)) { var pi = R[Yn]; if (pi != null) switch (Yn) { case "children": Ts = pi; break; case "dangerouslySetInnerHTML": lu = pi; break; case "name": _c = pi; break; case "formAction": Nc = pi; break; case "formEncType": Au = pi; break; case "formMethod": Pi = pi; break; case "formTarget": ni = pi; break; default: st(x, Yn, pi) } } var Gr = Bt(x, K, ee, Nc, Au, Pi, ni, _c); if (x.push(">"), Gr?.forEach(Je, x), Ct(x, lu, Ts), typeof Ts == "string") { x.push(ae(Ts)); var Ba = null } else Ba = Ts; return Ba; case "form": x.push(Qt("form")); var oa = null, kc = null, Xi = null, Hi = null, po = null, nA = null, ll; for (ll in R) if (G.call(R, ll)) { var go = R[ll]; if (go != null) switch (ll) { case "children": oa = go; break; case "dangerouslySetInnerHTML": kc = go; break; case "action": Xi = go; break; case "encType": Hi = go; break; case "method": po = go; break; case "target": nA = go; break; default: st(x, ll, go) } } var Al = null, Wr = null; if (typeof Xi == "function") { var la = lt(K, Xi); la !== null ? (Xi = la.action || "", Hi = la.encType, po = la.method, nA = la.target, Al = la.data, Wr = la.name) : (x.push(" ", "action", '="', tt, '"'), nA = po = Hi = Xi = null, Lt(K, ee)) } if (Xi != null && st(x, "action", Xi), Hi != null && st(x, "encType", Hi), po != null && st(x, "method", po), nA != null && st(x, "target", nA), x.push(">"), Wr !== null && (x.push('<input type="hidden"'), Ne(x, "name", Wr), x.push("/>"), Al?.forEach(Je, x)), Ct(x, kc, oa), typeof oa == "string") { x.push(ae(oa)); var Fs = null } else Fs = oa; return Fs; case "menuitem": x.push(Qt("menuitem")); for (var Va in R) if (G.call(R, Va)) { var cl = R[Va]; if (cl != null) switch (Va) { case "children": case "dangerouslySetInnerHTML": throw Error(t(400)); default: st(x, Va, cl) } } return x.push(">"), null; case "object": x.push(Qt("object")); var ss = null, Yo = null, Ca; for (Ca in R) if (G.call(R, Ca)) { var Yr = R[Ca]; if (Yr != null) switch (Ca) { case "children": ss = Yr; break; case "dangerouslySetInnerHTML": Yo = Yr; break; case "data": var Zi = j("" + Yr); if (Zi === "") break; x.push(" ", "data", '="', ae(Zi), '"'); break; default: st(x, Ca, Yr) } } if (x.push(">"), Ct(x, Yo, ss), typeof ss == "string") { x.push(ae(ss)); var BA = null } else BA = ss; return BA; case "title": var Ks = ot.tagScope & 1, Lu = ot.tagScope & 4; if (ot.insertionMode === 4 || Ks || R.itemProp != null) var Tc = en(x, R); else Lu ? Tc = null : (en(ee.hoistableChunks, R), Tc = void 0); return Tc; case "link": var Ai = ot.tagScope & 1, CA = ot.tagScope & 4, JA = R.rel, Ga = R.href, ul = R.precedence; if (ot.insertionMode === 4 || Ai || R.itemProp != null || typeof JA != "string" || typeof Ga != "string" || Ga === "") { Ft(x, R); var C = null } else if (R.rel === "stylesheet") if (typeof ul != "string" || R.disabled != null || R.onLoad || R.onError) C = Ft(x, R); else { var k = ee.styles.get(ul), P = K.styleResources.hasOwnProperty(Ga) ? K.styleResources[Ga] : void 0; if (P !== null) { K.styleResources[Ga] = null, k || (k = { precedence: ae(ul), rules: [], hrefs: [], sheets: new Map }, ee.styles.set(ul, k)); var J = { state: 0, props: W({}, R, { "data-precedence": R.precedence, precedence: null }) }; if (P) { P.length === 2 && Es(J.props, P); var ce = ee.preloads.stylesheets.get(Ga); ce && 0 < ce.length ? ce.length = 0 : J.state = 1 } k.sheets.set(Ga, J), Ue && Ue.stylesheets.add(J) } else if (k) { var he = k.sheets.get(Ga); he && Ue && Ue.stylesheets.add(he) } ze && x.push("<!-- -->"), C = null } else R.onLoad || R.onError ? C = Ft(x, R) : (ze && x.push("<!-- -->"), C = CA ? null : Ft(ee.hoistableChunks, R)); return C; case "script": var ge = ot.tagScope & 1, ye = R.async; if (typeof R.src != "string" || !R.src || !ye || typeof ye == "function" || typeof ye == "symbol" || R.onLoad || R.onError || ot.insertionMode === 4 || ge || R.itemProp != null) var Ee = nn(x, R); else { var Se = R.src; if (R.type === "module") var Pe = K.moduleScriptResources, et = ee.preloads.moduleScripts; else Pe = K.scriptResources, et = ee.preloads.scripts; var Te = Pe.hasOwnProperty(Se) ? Pe[Se] : void 0; if (Te !== null) { Pe[Se] = null; var Ke = R; if (Te) { Te.length === 2 && (Ke = W({}, R), Es(Ke, Te)); var Xe = et.get(Se); Xe && (Xe.length = 0) } var pt = []; ee.scripts.add(pt), nn(pt, Ke) } ze && x.push("<!-- -->"), Ee = null } return Ee; case "style": var qe = ot.tagScope & 1, ut = R.precedence, ht = R.href, Nt = R.nonce; if (ot.insertionMode === 4 || qe || R.itemProp != null || typeof ut != "string" || typeof ht != "string" || ht === "") { x.push(Qt("style")); var vt = null, Yt = null, Mt; for (Mt in R) if (G.call(R, Mt)) { var Bn = R[Mt]; if (Bn != null) switch (Mt) { case "children": vt = Bn; break; case "dangerouslySetInnerHTML": Yt = Bn; break; default: st(x, Mt, Bn) } } x.push(">"); var Dt = Array.isArray(vt) ? 2 > vt.length ? vt[0] : null : vt; typeof Dt != "function" && typeof Dt != "symbol" && Dt !== null && Dt !== void 0 && x.push(("" + Dt).replace(bn, Pt)), Ct(x, Yt, vt), x.push(hn("style")); var Jn = null } else { var wr = ee.styles.get(ut); if ((K.styleResources.hasOwnProperty(ht) ? K.styleResources[ht] : void 0) !== null) { K.styleResources[ht] = null, wr || (wr = { precedence: ae(ut), rules: [], hrefs: [], sheets: new Map }, ee.styles.set(ut, wr)); var Hn = ee.nonce.style; if (!Hn || Hn === Nt) { wr.hrefs.push(ae(ht)); var Ht = wr.rules, Tt = null, Zr = null, fn; for (fn in R) if (G.call(R, fn)) { var _n = R[fn]; if (_n != null) switch (fn) { case "children": Tt = _n; break; case "dangerouslySetInnerHTML": Zr = _n } } var lr = Array.isArray(Tt) ? 2 > Tt.length ? Tt[0] : null : Tt; typeof lr != "function" && typeof lr != "symbol" && lr !== null && lr !== void 0 && Ht.push(("" + lr).replace(bn, Pt)), Ct(Ht, Zr, Tt) } } wr && Ue && Ue.styles.add(wr), ze && x.push("<!-- -->"), Jn = void 0 } return Jn; case "meta": var Or = ot.tagScope & 1, qi = ot.tagScope & 4; if (ot.insertionMode === 4 || Or || R.itemProp != null) var Jr = Br(x, R, "meta"); else ze && x.push("<!-- -->"), Jr = qi ? null : typeof R.charSet == "string" ? Br(ee.charsetChunks, R, "meta") : R.name === "viewport" ? Br(ee.viewportChunks, R, "meta") : Br(ee.hoistableChunks, R, "meta"); return Jr; case "listing": case "pre": x.push(Qt(S)); var ci = null, w = null, B; for (B in R) if (G.call(R, B)) { var T = R[B]; if (T != null) switch (B) { case "children": ci = T; break; case "dangerouslySetInnerHTML": w = T; break; default: st(x, B, T) } } if (x.push(">"), w != null) {
        if (ci != null) throw Error(t(60)); if (typeof w != "object" || !("__html" in w)) throw Error(t(61)); var H = w.__html; H != null && (typeof H == "string" && 0 < H.length && H[0] === `
`? x.push(`
`, H) : x.push("" + H))
      } return typeof ci == "string" && ci[0] === `
`&& x.push(`
`), ci; case "img": var Y = ot.tagScope & 3, ue = R.src, xe = R.srcSet; if (!(R.loading === "lazy" || !ue && !xe || typeof ue != "string" && ue != null || typeof xe != "string" && xe != null || R.fetchPriority === "low" || Y) && (typeof ue != "string" || ue[4] !== ":" || ue[0] !== "d" && ue[0] !== "D" || ue[1] !== "a" && ue[1] !== "A" || ue[2] !== "t" && ue[2] !== "T" || ue[3] !== "a" && ue[3] !== "A") && (typeof xe != "string" || xe[4] !== ":" || xe[0] !== "d" && xe[0] !== "D" || xe[1] !== "a" && xe[1] !== "A" || xe[2] !== "t" && xe[2] !== "T" || xe[3] !== "a" && xe[3] !== "A")) {
        Ue !== null && ot.tagScope & 64 && (Ue.suspenseyImages = !0); var He = typeof R.sizes == "string" ? R.sizes : void 0, Oe = xe ? xe + `
`+ (He || "") : ue, je = ee.preloads.images, We = je.get(Oe); if (We) (R.fetchPriority === "high" || 10 > ee.highImagePreloads.size) && (je.delete(Oe), ee.highImagePreloads.add(We)); else if (!K.imageResources.hasOwnProperty(Oe)) { K.imageResources[Oe] = de; var nt = R.crossOrigin, _t = typeof nt == "string" ? nt === "use-credentials" ? nt : "" : void 0, St = ee.headers, zt; St && 0 < St.remainingCapacity && typeof R.srcSet != "string" && (R.fetchPriority === "high" || 500 > St.highImagePreloads.length) && (zt = Qr(ue, "image", { imageSrcSet: R.srcSet, imageSizes: R.sizes, crossOrigin: _t, integrity: R.integrity, nonce: R.nonce, type: R.type, fetchPriority: R.fetchPriority, referrerPolicy: R.refererPolicy }), 0 <= (St.remainingCapacity -= zt.length + 2)) ? (ee.resets.image[Oe] = de, St.highImagePreloads && (St.highImagePreloads += ", "), St.highImagePreloads += zt) : (We = [], Ft(We, { rel: "preload", as: "image", href: xe ? void 0 : ue, imageSrcSet: xe, imageSizes: He, crossOrigin: _t, integrity: R.integrity, type: R.type, fetchPriority: R.fetchPriority, referrerPolicy: R.referrerPolicy }), R.fetchPriority === "high" || 10 > ee.highImagePreloads.size ? ee.highImagePreloads.add(We) : (ee.bulkPreloads.add(We), je.set(Oe, We))) }
      } return Br(x, R, "img"); case "base": case "area": case "br": case "col": case "embed": case "hr": case "keygen": case "param": case "source": case "track": case "wbr": return Br(x, R, S); case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": break; case "head": if (2 > ot.insertionMode) { var gn = be || ee.preamble; if (gn.headChunks) throw Error(t(545, "`<head>`")); be !== null && x.push("<!--head-->"), gn.headChunks = []; var un = vn(gn.headChunks, R, "head") } else un = En(x, R, "head"); return un; case "body": if (2 > ot.insertionMode) { var It = be || ee.preamble; if (It.bodyChunks) throw Error(t(545, "`<body>`")); be !== null && x.push("<!--body-->"), It.bodyChunks = []; var Rt = vn(It.bodyChunks, R, "body") } else Rt = En(x, R, "body"); return Rt; case "html": if (ot.insertionMode === 0) { var Fn = be || ee.preamble; if (Fn.htmlChunks) throw Error(t(545, "`<html>`")); be !== null && x.push("<!--html-->"), Fn.htmlChunks = [""]; var qr = vn(Fn.htmlChunks, R, "html") } else qr = En(x, R, "html"); return qr; default: if (S.indexOf("-") !== -1) { x.push(Qt(S)); var bi = null, sn = null, ur; for (ur in R) if (G.call(R, ur)) { var jr = R[ur]; if (jr != null) { var Fi = ur; switch (ur) { case "children": bi = jr; break; case "dangerouslySetInnerHTML": sn = jr; break; case "style": _e(x, jr); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "ref": break; case "className": Fi = "class"; default: if (se(ur) && typeof jr != "function" && typeof jr != "symbol" && jr !== !1) { if (jr === !0) jr = ""; else if (typeof jr == "object") continue; x.push(" ", Fi, '="', ae(jr), '"') } } } } return x.push(">"), Ct(x, sn, bi), bi }
    }return En(x, R, S)
  } var Cr = new Map; function hn(x) { var S = Cr.get(x); return S === void 0 && (S = "</" + x + ">", Cr.set(x, S)), S } function Zt(x, S) { x = x.preamble, x.htmlChunks === null && S.htmlChunks && (x.htmlChunks = S.htmlChunks), x.headChunks === null && S.headChunks && (x.headChunks = S.headChunks), x.bodyChunks === null && S.bodyChunks && (x.bodyChunks = S.bodyChunks) } function ar(x, S) { S = S.bootstrapChunks; for (var R = 0; R < S.length - 1; R++)x.push(S[R]); return R < S.length ? (R = S[R], S.length = 0, x.push(R)) : !0 } function Xs(x, S, R) { if (x.push('<!--$?--><template id="'), R === null) throw Error(t(395)); return x.push(S.boundaryPrefix), S = R.toString(16), x.push(S), x.push('"></template>') } function $r(x, S, R, K) { switch (R.insertionMode) { case 0: case 1: case 3: case 2: return x.push('<div hidden id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); case 4: return x.push('<svg aria-hidden="true" style="display:none" id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); case 5: return x.push('<math aria-hidden="true" style="display:none" id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); case 6: return x.push('<table hidden id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); case 7: return x.push('<table hidden><tbody id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); case 8: return x.push('<table hidden><tr id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); case 9: return x.push('<table hidden><colgroup id="'), x.push(S.segmentPrefix), S = K.toString(16), x.push(S), x.push('">'); default: throw Error(t(397)) } } function So(x, S) { switch (S.insertionMode) { case 0: case 1: case 3: case 2: return x.push("</div>"); case 4: return x.push("</svg>"); case 5: return x.push("</math>"); case 6: return x.push("</table>"); case 7: return x.push("</tbody></table>"); case 8: return x.push("</tr></table>"); case 9: return x.push("</colgroup></table>"); default: throw Error(t(397)) } } var Qa = /[<\u2028\u2029]/g; function pn(x) { return JSON.stringify(x).replace(Qa, function (S) { switch (S) { case "<": return "\\u003c"; case "\u2028": return "\\u2028"; case "\u2029": return "\\u2029"; default: throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React") } }) } var rl = /[&><\u2028\u2029]/g; function ma(x) { return JSON.stringify(x).replace(rl, function (S) { switch (S) { case "&": return "\\u0026"; case ">": return "\\u003e"; case "<": return "\\u003c"; case "\u2028": return "\\u2028"; case "\u2029": return "\\u2029"; default: throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React") } }) } var Cs = !1, Mr = !0; function Ar(x) { var S = x.rules, R = x.hrefs, K = 0; if (R.length) { for (this.push(Be.startInlineStyle), this.push(' media="not all" data-precedence="'), this.push(x.precedence), this.push('" data-href="'); K < R.length - 1; K++)this.push(R[K]), this.push(" "); for (this.push(R[K]), this.push('">'), K = 0; K < S.length; K++)this.push(S[K]); Mr = this.push("</style>"), Cs = !0, S.length = 0, R.length = 0 } } function Kn(x) { return x.state !== 2 ? Cs = !0 : !1 } function Li(x, S, R) { return Cs = !1, Mr = !0, Be = R, S.styles.forEach(Ar, x), Be = null, S.stylesheets.forEach(Kn), Cs && (R.stylesToHoist = !0), Mr } function Vi(x) { for (var S = 0; S < x.length; S++)this.push(x[S]); x.length = 0 } var rr = []; function Kr(x) { Ft(rr, x.props); for (var S = 0; S < rr.length; S++)this.push(rr[S]); rr.length = 0, x.state = 2 } function fi(x) { var S = 0 < x.sheets.size; x.sheets.forEach(Kr, this), x.sheets.clear(); var R = x.rules, K = x.hrefs; if (!S || K.length) { if (this.push(Be.startInlineStyle), this.push(' data-precedence="'), this.push(x.precedence), x = 0, K.length) { for (this.push('" data-href="'); x < K.length - 1; x++)this.push(K[x]), this.push(" "); this.push(K[x]) } for (this.push('">'), x = 0; x < R.length; x++)this.push(R[x]); this.push("</style>"), R.length = 0, K.length = 0 } } function cs(x) { if (x.state === 0) { x.state = 1; var S = x.props; for (Ft(rr, { rel: "preload", as: "style", href: x.props.href, crossOrigin: S.crossOrigin, fetchPriority: S.fetchPriority, integrity: S.integrity, media: S.media, hrefLang: S.hrefLang, referrerPolicy: S.referrerPolicy }), x = 0; x < rr.length; x++)this.push(rr[x]); rr.length = 0 } } function va(x) { x.sheets.forEach(cs, this), x.sheets.clear() } function Is(x, S) { (S.instructions & 32) === 0 && (S.instructions |= 32, x.push(' id="', ae("_" + S.idPrefix + "R_"), '"')) } function Vl(x, S) { x.push("["); var R = "["; S.stylesheets.forEach(function (K) { if (K.state !== 2) if (K.state === 3) x.push(R), K = ma("" + K.props.href), x.push(K), x.push("]"), R = ",["; else { x.push(R); var ee = K.props["data-precedence"], be = K.props, Ue = j("" + K.props.href); Ue = ma(Ue), x.push(Ue), ee = "" + ee, x.push(","), ee = ma(ee), x.push(ee); for (var ot in be) if (G.call(be, ot) && (ee = be[ot], ee != null)) switch (ot) { case "href": case "rel": case "precedence": case "data-precedence": break; case "children": case "dangerouslySetInnerHTML": throw Error(t(399, "link")); default: $n(x, ot, ee) }x.push("]"), R = ",[", K.state = 3 } }), x.push("]") } function $n(x, S, R) { var K = S.toLowerCase(); switch (typeof R) { case "function": case "symbol": return }switch (S) { case "innerHTML": case "dangerouslySetInnerHTML": case "suppressContentEditableWarning": case "suppressHydrationWarning": case "style": case "ref": return; case "className": K = "class", S = "" + R; break; case "hidden": if (R === !1) return; S = ""; break; case "src": case "href": R = j(R), S = "" + R; break; default: if (2 < S.length && (S[0] === "o" || S[0] === "O") && (S[1] === "n" || S[1] === "N") || !se(S)) return; S = "" + R }x.push(","), K = ma(K), x.push(K), x.push(","), K = ma(S), x.push(K) } function cr() { return { styles: new Set, stylesheets: new Set, suspenseyImages: !1 } } function $a(x) { var S = Vn || null; if (S) { var R = S.resumableState, K = S.renderState; if (typeof x == "string" && x) { if (!R.dnsResources.hasOwnProperty(x)) { R.dnsResources[x] = null, R = K.headers; var ee, be; (be = R && 0 < R.remainingCapacity) && (be = (ee = "<" + ("" + x).replace(eo, Gl) + ">; rel=dns-prefetch", 0 <= (R.remainingCapacity -= ee.length + 2))), be ? (K.resets.dns[x] = null, R.preconnects && (R.preconnects += ", "), R.preconnects += ee) : (ee = [], Ft(ee, { href: x, rel: "dns-prefetch" }), K.preconnects.add(ee)) } Ni(S) } } else oe.D(x) } function mi(x, S) { var R = Vn || null; if (R) { var K = R.resumableState, ee = R.renderState; if (typeof x == "string" && x) { var be = S === "use-credentials" ? "credentials" : typeof S == "string" ? "anonymous" : "default"; if (!K.connectResources[be].hasOwnProperty(x)) { K.connectResources[be][x] = null, K = ee.headers; var Ue, ot; if (ot = K && 0 < K.remainingCapacity) { if (ot = "<" + ("" + x).replace(eo, Gl) + ">; rel=preconnect", typeof S == "string") { var ze = ("" + S).replace(to, Wl); ot += '; crossorigin="' + ze + '"' } ot = (Ue = ot, 0 <= (K.remainingCapacity -= Ue.length + 2)) } ot ? (ee.resets.connect[be][x] = null, K.preconnects && (K.preconnects += ", "), K.preconnects += Ue) : (be = [], Ft(be, { rel: "preconnect", href: x, crossOrigin: S }), ee.preconnects.add(be)) } Ni(R) } } else oe.C(x, S) } function _o(x, S, R) {
    var K = Vn || null; if (K) {
      var ee = K.resumableState, be = K.renderState; if (S && x) {
        switch (S) {
          case "image": if (R) var Ue = R.imageSrcSet, ot = R.imageSizes, ze = R.fetchPriority; var At = Ue ? Ue + `
`+ (ot || "") : x; if (ee.imageResources.hasOwnProperty(At)) return; ee.imageResources[At] = de, ee = be.headers; var wt; ee && 0 < ee.remainingCapacity && typeof Ue != "string" && ze === "high" && (wt = Qr(x, S, R), 0 <= (ee.remainingCapacity -= wt.length + 2)) ? (be.resets.image[At] = de, ee.highImagePreloads && (ee.highImagePreloads += ", "), ee.highImagePreloads += wt) : (ee = [], Ft(ee, W({ rel: "preload", href: Ue ? void 0 : x, as: S }, R)), ze === "high" ? be.highImagePreloads.add(ee) : (be.bulkPreloads.add(ee), be.preloads.images.set(At, ee))); break; case "style": if (ee.styleResources.hasOwnProperty(x)) return; Ue = [], Ft(Ue, W({ rel: "preload", href: x, as: S }, R)), ee.styleResources[x] = !R || typeof R.crossOrigin != "string" && typeof R.integrity != "string" ? de : [R.crossOrigin, R.integrity], be.preloads.stylesheets.set(x, Ue), be.bulkPreloads.add(Ue); break; case "script": if (ee.scriptResources.hasOwnProperty(x)) return; Ue = [], be.preloads.scripts.set(x, Ue), be.bulkPreloads.add(Ue), Ft(Ue, W({ rel: "preload", href: x, as: S }, R)), ee.scriptResources[x] = !R || typeof R.crossOrigin != "string" && typeof R.integrity != "string" ? de : [R.crossOrigin, R.integrity]; break; default: if (ee.unknownResources.hasOwnProperty(S)) { if (Ue = ee.unknownResources[S], Ue.hasOwnProperty(x)) return } else Ue = {}, ee.unknownResources[S] = Ue; if (Ue[x] = de, (ee = be.headers) && 0 < ee.remainingCapacity && S === "font" && (At = Qr(x, S, R), 0 <= (ee.remainingCapacity -= At.length + 2))) be.resets.font[x] = de, ee.fontPreloads && (ee.fontPreloads += ", "), ee.fontPreloads += At; else switch (ee = [], x = W({ rel: "preload", href: x, as: S }, R), Ft(ee, x), S) { case "font": be.fontPreloads.add(ee); break; default: be.bulkPreloads.add(ee) }
        }Ni(K)
      }
    } else oe.L(x, S, R)
  } function _l(x, S) { var R = Vn || null; if (R) { var K = R.resumableState, ee = R.renderState; if (x) { var be = S && typeof S.as == "string" ? S.as : "script"; switch (be) { case "script": if (K.moduleScriptResources.hasOwnProperty(x)) return; be = [], K.moduleScriptResources[x] = !S || typeof S.crossOrigin != "string" && typeof S.integrity != "string" ? de : [S.crossOrigin, S.integrity], ee.preloads.moduleScripts.set(x, be); break; default: if (K.moduleUnknownResources.hasOwnProperty(be)) { var Ue = K.unknownResources[be]; if (Ue.hasOwnProperty(x)) return } else Ue = {}, K.moduleUnknownResources[be] = Ue; be = [], Ue[x] = de }Ft(be, W({ rel: "modulepreload", href: x }, S)), ee.bulkPreloads.add(be), Ni(R) } } else oe.m(x, S) } function No(x, S, R) { var K = Vn || null; if (K) { var ee = K.resumableState, be = K.renderState; if (x) { S = S || "default"; var Ue = be.styles.get(S), ot = ee.styleResources.hasOwnProperty(x) ? ee.styleResources[x] : void 0; ot !== null && (ee.styleResources[x] = null, Ue || (Ue = { precedence: ae(S), rules: [], hrefs: [], sheets: new Map }, be.styles.set(S, Ue)), S = { state: 0, props: W({ rel: "stylesheet", href: x, "data-precedence": S }, R) }, ot && (ot.length === 2 && Es(S.props, ot), (be = be.preloads.stylesheets.get(x)) && 0 < be.length ? be.length = 0 : S.state = 1), Ue.sheets.set(x, S), Ni(K)) } } else oe.S(x, S, R) } function Si(x, S) { var R = Vn || null; if (R) { var K = R.resumableState, ee = R.renderState; if (x) { var be = K.scriptResources.hasOwnProperty(x) ? K.scriptResources[x] : void 0; be !== null && (K.scriptResources[x] = null, S = W({ src: x, async: !0 }, S), be && (be.length === 2 && Es(S, be), x = ee.preloads.scripts.get(x)) && (x.length = 0), x = [], ee.scripts.add(x), nn(x, S), Ni(R)) } } else oe.X(x, S) } function xc(x, S) { var R = Vn || null; if (R) { var K = R.resumableState, ee = R.renderState; if (x) { var be = K.moduleScriptResources.hasOwnProperty(x) ? K.moduleScriptResources[x] : void 0; be !== null && (K.moduleScriptResources[x] = null, S = W({ src: x, type: "module", async: !0 }, S), be && (be.length === 2 && Es(S, be), x = ee.preloads.moduleScripts.get(x)) && (x.length = 0), x = [], ee.scripts.add(x), nn(x, S), Ni(R)) } } else oe.M(x, S) } function Es(x, S) { x.crossOrigin == null && (x.crossOrigin = S[0]), x.integrity == null && (x.integrity = S[1]) } function Qr(x, S, R) { x = ("" + x).replace(eo, Gl), S = ("" + S).replace(to, Wl), S = "<" + x + '>; rel=preload; as="' + S + '"'; for (var K in R) G.call(R, K) && (x = R[K], typeof x == "string" && (S += "; " + K.toLowerCase() + '="' + ("" + x).replace(to, Wl) + '"')); return S } var eo = /[<>\r\n]/g; function Gl(x) {
    switch (x) {
      case "<": return "%3C"; case ">": return "%3E"; case `
`: return "%0A"; case "\r": return "%0D"; default: throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")
    }
  } var to = /["';,\r\n]/g; function Wl(x) {
    switch (x) {
      case '"': return "%22"; case "'": return "%27"; case ";": return "%3B"; case ",": return "%2C"; case `
`: return "%0A"; case "\r": return "%0D"; default: throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")
    }
  } function su(x) { this.styles.add(x) } function Da(x) { this.stylesheets.add(x) } function ya(x, S) { S.styles.forEach(su, x), S.stylesheets.forEach(Da, x), S.suspenseyImages && (x.suspenseyImages = !0) } function wa(x, S) { var R = x.idPrefix, K = [], ee = x.bootstrapScriptContent, be = x.bootstrapScripts, Ue = x.bootstrapModules; ee !== void 0 && (K.push("<script"), Is(K, x), K.push(">", ("" + ee).replace(Re, Ie), "<\/script>")), ee = R + "P:"; var ot = R + "S:"; R += "B:"; var ze = new Set, At = new Set, wt = new Set, ft = new Map, Ot = new Set, qt = new Set, Wn = new Set, Pn = { images: new Map, stylesheets: new Map, scripts: new Map, moduleScripts: new Map }; if (be !== void 0) for (var Mn = 0; Mn < be.length; Mn++) { var Ln = be[Mn], zn, _r = void 0, Xr = void 0, Tn = { rel: "preload", as: "script", fetchPriority: "low", nonce: void 0 }; typeof Ln == "string" ? Tn.href = zn = Ln : (Tn.href = zn = Ln.src, Tn.integrity = Xr = typeof Ln.integrity == "string" ? Ln.integrity : void 0, Tn.crossOrigin = _r = typeof Ln == "string" || Ln.crossOrigin == null ? void 0 : Ln.crossOrigin === "use-credentials" ? "use-credentials" : ""), Ln = x; var Rn = zn; Ln.scriptResources[Rn] = null, Ln.moduleScriptResources[Rn] = null, Ln = [], Ft(Ln, Tn), Ot.add(Ln), K.push('<script src="', ae(zn), '"'), typeof Xr == "string" && K.push(' integrity="', ae(Xr), '"'), typeof _r == "string" && K.push(' crossorigin="', ae(_r), '"'), Is(K, x), K.push(' async=""><\/script>') } if (Ue !== void 0) for (be = 0; be < Ue.length; be++)Tn = Ue[be], _r = zn = void 0, Xr = { rel: "modulepreload", fetchPriority: "low", nonce: void 0 }, typeof Tn == "string" ? Xr.href = Mn = Tn : (Xr.href = Mn = Tn.src, Xr.integrity = _r = typeof Tn.integrity == "string" ? Tn.integrity : void 0, Xr.crossOrigin = zn = typeof Tn == "string" || Tn.crossOrigin == null ? void 0 : Tn.crossOrigin === "use-credentials" ? "use-credentials" : ""), Tn = x, Ln = Mn, Tn.scriptResources[Ln] = null, Tn.moduleScriptResources[Ln] = null, Tn = [], Ft(Tn, Xr), Ot.add(Tn), K.push('<script type="module" src="', ae(Mn), '"'), typeof _r == "string" && K.push(' integrity="', ae(_r), '"'), typeof zn == "string" && K.push(' crossorigin="', ae(zn), '"'), Is(K, x), K.push(' async=""><\/script>'); return { placeholderPrefix: ee, segmentPrefix: ot, boundaryPrefix: R, startInlineScript: "<script", startInlineStyle: "<style", preamble: { htmlChunks: null, headChunks: null, bodyChunks: null }, externalRuntimeScript: null, bootstrapChunks: K, importMapChunks: [], onHeaders: void 0, headers: null, resets: { font: {}, dns: {}, connect: { default: {}, anonymous: {}, credentials: {} }, image: {}, style: {} }, charsetChunks: [], viewportChunks: [], hoistableChunks: [], preconnects: ze, fontPreloads: At, highImagePreloads: wt, styles: ft, bootstrapScripts: Ot, scripts: qt, bulkPreloads: Wn, preloads: Pn, nonce: { script: void 0, style: void 0 }, stylesToHoist: !1, generateStaticMarkup: S } } function hr(x, S, R, K) { return R.generateStaticMarkup ? (x.push(ae(S)), !1) : (S === "" ? x = K : (K && x.push("<!-- -->"), x.push(ae(S)), x = !0), x) } function no(x, S, R, K) { S.generateStaticMarkup || R && K && x.push("<!-- -->") } var ro = Function.prototype.bind, Yl = Symbol.for("react.client.reference"); function Nl(x) { if (x == null) return null; if (typeof x == "function") return x.$$typeof === Yl ? null : x.displayName || x.name || null; if (typeof x == "string") return x; switch (x) { case s: return "Fragment"; case o: return "Profiler"; case a: return "StrictMode"; case h: return "Suspense"; case m: return "SuspenseList"; case E: return "Activity" }if (typeof x == "object") switch (x.$$typeof) { case i: return "Portal"; case u: return x.displayName || "Context"; case A: return (x._context.displayName || "Context") + ".Consumer"; case f: var S = x.render; return x = x.displayName, x || (x = S.displayName || S.name || "", x = x !== "" ? "ForwardRef(" + x + ")" : "ForwardRef"), x; case p: return S = x.displayName || null, S !== null ? S : Nl(x.type) || "Memo"; case b: S = x._payload, x = x._init; try { return Nl(x(S)) } catch { } }return null } var pr = {}, si = null; function vi(x, S) { if (x !== S) { x.context._currentValue2 = x.parentValue, x = x.parent; var R = S.parent; if (x === null) { if (R !== null) throw Error(t(401)) } else { if (R === null) throw Error(t(401)); vi(x, R) } S.context._currentValue2 = S.value } } function Jl(x) { x.context._currentValue2 = x.parentValue, x = x.parent, x !== null && Jl(x) } function ko(x) { var S = x.parent; S !== null && ko(S), x.context._currentValue2 = x.value } function yA(x, S) { if (x.context._currentValue2 = x.parentValue, x = x.parent, x === null) throw Error(t(402)); x.depth === S.depth ? vi(x, S) : yA(x, S) } function Ss(x, S) { var R = S.parent; if (R === null) throw Error(t(402)); x.depth === R.depth ? vi(x, R) : Ss(x, R), S.context._currentValue2 = S.value } function io(x) { var S = si; S !== x && (S === null ? ko(x) : x === null ? Jl(S) : S.depth === x.depth ? vi(S, x) : S.depth > x.depth ? yA(S, x) : Ss(S, x), si = x) } var WA = { enqueueSetState: function (x, S) { x = x._reactInternals, x.queue !== null && x.queue.push(S) }, enqueueReplaceState: function (x, S) { x = x._reactInternals, x.replace = !0, x.queue = [S] }, enqueueForceUpdate: function () { } }, To = { id: 1, overflow: "" }; function Pa(x, S, R) { var K = x.id; x = x.overflow; var ee = 32 - wA(K) - 1; K &= ~(1 << ee), R += 1; var be = 32 - wA(S) + ee; if (30 < be) { var Ue = ee - ee % 5; return be = (K & (1 << Ue) - 1).toString(32), K >>= Ue, ee -= Ue, { id: 1 << 32 - wA(S) + ee | R << ee | K, overflow: be + x } } return { id: 1 << be | R << ee | K, overflow: x } } var wA = Math.clz32 ? Math.clz32 : Cc, au = Math.log, Bc = Math.LN2; function Cc(x) { return x >>>= 0, x === 0 ? 32 : 31 - (au(x) / Bc | 0) | 0 } function us() { } var ei = Error(t(460)); function Fo(x, S, R) { switch (R = x[R], R === void 0 ? x.push(S) : R !== S && (S.then(us, us), S = R), S.status) { case "fulfilled": return S.value; case "rejected": throw S.reason; default: switch (typeof S.status == "string" ? S.then(us, us) : (x = S, x.status = "pending", x.then(function (K) { if (S.status === "pending") { var ee = S; ee.status = "fulfilled", ee.value = K } }, function (K) { if (S.status === "pending") { var ee = S; ee.status = "rejected", ee.reason = K } })), S.status) { case "fulfilled": return S.value; case "rejected": throw S.reason }throw so = S, ei } } var so = null; function il() { if (so === null) throw Error(t(459)); var x = so; return so = null, x } function Xl(x, S) { return x === S && (x !== 0 || 1 / x === 1 / S) || x !== x && S !== S } var xn = typeof Object.is == "function" ? Object.is : Xl, ao = null, bA = null, YA = null, Zs = null, Gi = null, Ur = null, Uo = !1, Ls = !1, Oo = 0, ba = 0, Zl = -1, qs = 0, Ro = null, Ha = null, Mi = 0; function fs() { if (ao === null) throw Error(t(321)); return ao } function ja() { if (0 < Mi) throw Error(t(312)); return { memoizedState: null, queue: null, next: null } } function Io() { return Ur === null ? Gi === null ? (Uo = !1, Gi = Ur = ja()) : (Uo = !0, Ur = Gi) : Ur.next === null ? (Uo = !1, Ur = Ur.next = ja()) : (Uo = !0, Ur = Ur.next), Ur } function Lo() { var x = Ro; return Ro = null, x } function Mo() { Zs = YA = bA = ao = null, Ls = !1, Gi = null, Mi = 0, Ur = Ha = null } function sl(x, S) { return typeof S == "function" ? S(x) : S } function al(x, S, R) { if (ao = fs(), Ur = Io(), Uo) { var K = Ur.queue; if (S = K.dispatch, Ha !== null && (R = Ha.get(K), R !== void 0)) { Ha.delete(K), K = Ur.memoizedState; do K = x(K, R.action), R = R.next; while (R !== null); return Ur.memoizedState = K, [K, S] } return [Ur.memoizedState, S] } return x = x === sl ? typeof S == "function" ? S() : S : R !== void 0 ? R(S) : S, Ur.memoizedState = x, x = Ur.queue = { last: null, dispatch: null }, x = x.dispatch = Ec.bind(null, ao, x), [Ur.memoizedState, x] } function ql(x, S) { if (ao = fs(), Ur = Io(), S = S === void 0 ? null : S, Ur !== null) { var R = Ur.memoizedState; if (R !== null && S !== null) { var K = R[1]; e: if (K === null) K = !1; else { for (var ee = 0; ee < K.length && ee < S.length; ee++)if (!xn(S[ee], K[ee])) { K = !1; break e } K = !0 } if (K) return R[0] } } return x = x(), Ur.memoizedState = [x, S], x } function Ec(x, S, R) { if (25 <= Mi) throw Error(t(301)); if (x === ao) if (Ls = !0, x = { action: R, next: null }, Ha === null && (Ha = new Map), R = Ha.get(S), R === void 0) Ha.set(S, x); else { for (S = R; S.next !== null;)S = S.next; S.next = x } } function kl() { throw Error(t(440)) } function Tl() { throw Error(t(394)) } function ou() { throw Error(t(479)) } function Qo(x, S, R) { fs(); var K = ba++, ee = YA; if (typeof x.$$FORM_ACTION == "function") { var be = null, Ue = Zs; ee = ee.formState; var ot = x.$$IS_SIGNATURE_EQUAL; if (ee !== null && typeof ot == "function") { var ze = ee[1]; ot.call(x, ee[2], ee[3]) && (be = R !== void 0 ? "p" + R : "k" + q(JSON.stringify([Ue, null, K]), 0), ze === be && (Zl = K, S = ee[0])) } var At = x.bind(null, S); return x = function (ft) { At(ft) }, typeof At.$$FORM_ACTION == "function" && (x.$$FORM_ACTION = function (ft) { ft = At.$$FORM_ACTION(ft), R !== void 0 && (R += "", ft.action = R); var Ot = ft.data; return Ot && (be === null && (be = R !== void 0 ? "p" + R : "k" + q(JSON.stringify([Ue, null, K]), 0)), Ot.append("$ACTION_KEY", be)), ft }), [S, x, !1] } var wt = x.bind(null, S); return [S, function (ft) { wt(ft) }, !1] } function Sc(x) { var S = qs; return qs += 1, Ro === null && (Ro = []), Fo(Ro, x, S) } function Q() { throw Error(t(393)) } var le = { readContext: function (x) { return x._currentValue2 }, use: function (x) { if (x !== null && typeof x == "object") { if (typeof x.then == "function") return Sc(x); if (x.$$typeof === u) return x._currentValue2 } throw Error(t(438, String(x))) }, useContext: function (x) { return fs(), x._currentValue2 }, useMemo: ql, useReducer: al, useRef: function (x) { ao = fs(), Ur = Io(); var S = Ur.memoizedState; return S === null ? (x = { current: x }, Ur.memoizedState = x) : S }, useState: function (x) { return al(sl, x) }, useInsertionEffect: us, useLayoutEffect: us, useCallback: function (x, S) { return ql(function () { return x }, S) }, useImperativeHandle: us, useEffect: us, useDebugValue: us, useDeferredValue: function (x, S) { return fs(), S !== void 0 ? S : x }, useTransition: function () { return fs(), [!1, Tl] }, useId: function () { var x = bA.treeContext, S = x.overflow; x = x.id, x = (x & ~(1 << 32 - wA(x) - 1)).toString(32) + S; var R = Fe; if (R === null) throw Error(t(404)); return S = Oo++, x = "_" + R.idPrefix + "R_" + x, 0 < S && (x += "H" + S.toString(32)), x + "_" }, useSyncExternalStore: function (x, S, R) { if (R === void 0) throw Error(t(407)); return R() }, useOptimistic: function (x) { return fs(), [x, ou] }, useActionState: Qo, useFormState: Qo, useHostTransitionStatus: function () { return fs(), ie }, useMemoCache: function (x) { for (var S = Array(x), R = 0; R < x; R++)S[R] = O; return S }, useCacheRefresh: function () { return Q }, useEffectEvent: function () { return kl } }, Fe = null, De = { getCacheForType: function () { throw Error(t(248)) }, cacheSignal: function () { throw Error(t(248)) } }, Ge, gt; function xt(x) {
    if (Ge === void 0) try { throw Error() } catch (R) {
      var S = R.stack.trim().match(/\n( *(at )?)/); Ge = S && S[1] || "", gt = -1 < R.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < R.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ Ge + x + gt
  } var Gt = !1; function tn(x, S) {
    if (!x || Gt) return ""; Gt = !0; var R = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var K = { DetermineComponentFrameRoot: function () { try { if (S) { var ft = function () { throw Error() }; if (Object.defineProperty(ft.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(ft, []) } catch (qt) { var Ot = qt } Reflect.construct(x, [], ft) } else { try { ft.call() } catch (qt) { Ot = qt } x.call(ft.prototype) } } else { try { throw Error() } catch (qt) { Ot = qt } (ft = x()) && typeof ft.catch == "function" && ft.catch(function () { }) } } catch (qt) { if (qt && Ot && typeof qt.stack == "string") return [qt.stack, Ot.stack] } return [null, null] } }; K.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var ee = Object.getOwnPropertyDescriptor(K.DetermineComponentFrameRoot, "name"); ee && ee.configurable && Object.defineProperty(K.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var be = K.DetermineComponentFrameRoot(), Ue = be[0], ot = be[1]; if (Ue && ot) {
        var ze = Ue.split(`
`), At = ot.split(`
`); for (ee = K = 0; K < ze.length && !ze[K].includes("DetermineComponentFrameRoot");)K++; for (; ee < At.length && !At[ee].includes("DetermineComponentFrameRoot");)ee++; if (K === ze.length || ee === At.length) for (K = ze.length - 1, ee = At.length - 1; 1 <= K && 0 <= ee && ze[K] !== At[ee];)ee--; for (; 1 <= K && 0 <= ee; K--, ee--)if (ze[K] !== At[ee]) {
          if (K !== 1 || ee !== 1) do if (K--, ee--, 0 > ee || ze[K] !== At[ee]) {
            var wt = `
`+ ze[K].replace(" at new ", " at "); return x.displayName && wt.includes("<anonymous>") && (wt = wt.replace("<anonymous>", x.displayName)), wt
          } while (1 <= K && 0 <= ee); break
        }
      }
    } finally { Gt = !1, Error.prepareStackTrace = R } return (R = x ? x.displayName || x.name : "") ? xt(R) : ""
  } function Sn(x) {
    if (typeof x == "string") return xt(x); if (typeof x == "function") return x.prototype && x.prototype.isReactComponent ? tn(x, !0) : tn(x, !1); if (typeof x == "object" && x !== null) {
      switch (x.$$typeof) { case f: return tn(x.render, !1); case p: return tn(x.type, !1); case b: var S = x, R = S._payload; S = S._init; try { x = S(R) } catch { return xt("Lazy") } return Sn(x) }if (typeof x.name == "string") {
        e: {
          R = x.name, S = x.env; var K = x.debugLocation; if (K != null && (x = Error.prepareStackTrace, Error.prepareStackTrace = void 0, K = K.stack, Error.prepareStackTrace = x, K.startsWith(`Error: react-stack-top-frame
`) && (K = K.slice(29)), x = K.indexOf(`
`), x !== -1 && (K = K.slice(x + 1)), x = K.indexOf("react_stack_bottom_frame"), x !== -1 && (x = K.lastIndexOf(`
`, x)), x = x !== -1 ? K = K.slice(0, x) : "", K = x.lastIndexOf(`
`), x = K === -1 ? x : x.slice(K + 1), x.indexOf(R) !== -1)) {
            R = `
`+ x; break e
          } R = xt(R + (S ? " [" + S + "]" : ""))
        } return R
      }
    } switch (x) { case m: return xt("SuspenseList"); case h: return xt("Suspense") }return ""
  } function On(x, S) { return (500 < S.byteSize || !1) && S.contentPreamble === null } function vr(x) { if (typeof x == "object" && x !== null && typeof x.environmentName == "string") { var S = x.environmentName; x = [x].slice(0), typeof x[0] == "string" ? x.splice(0, 1, "[%s] " + x[0], " " + S + " ") : x.splice(0, 0, "[%s]", " " + S + " "), x.unshift(console), S = ro.apply(console.error, x), S() } else console.error(x); return null } function yi(x, S, R, K, ee, be, Ue, ot, ze, At, wt) { var ft = new Set; this.destination = null, this.flushScheduled = !1, this.resumableState = x, this.renderState = S, this.rootFormatContext = R, this.progressiveChunkSize = K === void 0 ? 12800 : K, this.status = 10, this.fatalError = null, this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0, this.completedPreambleSegments = this.completedRootSegment = null, this.byteSize = 0, this.abortableTasks = ft, this.pingedTasks = [], this.clientRenderedBoundaries = [], this.completedBoundaries = [], this.partialBoundaries = [], this.trackedPostpones = null, this.onError = ee === void 0 ? vr : ee, this.onPostpone = At === void 0 ? us : At, this.onAllReady = be === void 0 ? us : be, this.onShellReady = Ue === void 0 ? us : Ue, this.onShellError = ot === void 0 ? us : ot, this.onFatalError = ze === void 0 ? us : ze, this.formState = wt === void 0 ? null : wt } function Qi(x, S, R, K, ee, be, Ue, ot, ze, At, wt, ft) { return S = new yi(S, R, K, ee, be, Ue, ot, ze, At, wt, ft), R = _s(S, 0, null, K, !1, !1), R.parentFlushed = !0, x = Wi(S, null, x, -1, null, R, null, null, S.abortableTasks, null, K, null, To, null, null), Ms(x), S.pingedTasks.push(x), S } var Vn = null; function di(x, S) { x.pingedTasks.push(S), x.pingedTasks.length === 1 && (x.flushScheduled = x.destination !== null, zo(x)) } function _i(x, S, R, K, ee) { return R = { status: 0, rootSegmentID: -1, parentFlushed: !1, pendingTasks: 0, row: S, completedSegments: [], byteSize: 0, fallbackAbortableTasks: R, errorDigest: null, contentState: cr(), fallbackState: cr(), contentPreamble: K, fallbackPreamble: ee, trackedContentKeyPath: null, trackedFallbackNode: null }, S !== null && (S.pendingTasks++, K = S.boundaries, K !== null && (x.allPendingTasks++, R.pendingTasks++, K.push(R)), x = S.inheritedHoistables, x !== null && ya(R.contentState, x)), R } function Wi(x, S, R, K, ee, be, Ue, ot, ze, At, wt, ft, Ot, qt, Wn) { x.allPendingTasks++, ee === null ? x.pendingRootTasks++ : ee.pendingTasks++, qt !== null && qt.pendingTasks++; var Pn = { replay: null, node: R, childIndex: K, ping: function () { return di(x, Pn) }, blockedBoundary: ee, blockedSegment: be, blockedPreamble: Ue, hoistableState: ot, abortSet: ze, keyPath: At, formatContext: wt, context: ft, treeContext: Ot, row: qt, componentStack: Wn, thenableState: S }; return ze.add(Pn), Pn } function ol(x, S, R, K, ee, be, Ue, ot, ze, At, wt, ft, Ot, qt) { x.allPendingTasks++, be === null ? x.pendingRootTasks++ : be.pendingTasks++, Ot !== null && Ot.pendingTasks++, R.pendingTasks++; var Wn = { replay: R, node: K, childIndex: ee, ping: function () { return di(x, Wn) }, blockedBoundary: be, blockedSegment: null, blockedPreamble: null, hoistableState: Ue, abortSet: ot, keyPath: ze, formatContext: At, context: wt, treeContext: ft, row: Ot, componentStack: qt, thenableState: S }; return ot.add(Wn), Wn } function _s(x, S, R, K, ee, be) { return { status: 0, parentFlushed: !1, id: -1, index: S, chunks: [], children: [], preambleChildren: [], parentFormatContext: K, boundary: R, lastPushedText: ee, textEmbedded: be } } function Ms(x) { var S = x.node; if (typeof S == "object" && S !== null) switch (S.$$typeof) { case r: x.componentStack = { parent: x.componentStack, type: S.type } } } function Fl(x) { return x === null ? null : { parent: x.parent, type: "Suspense Fallback" } } function za(x) {
    var S = {}; return x && Object.defineProperty(S, "componentStack", {
      configurable: !0, enumerable: !0, get: function () {
        try { var R = "", K = x; do R += Sn(K.type), K = K.parent; while (K); var ee = R } catch (be) {
          ee = `
Error generating stack: `+ be.message + `
`+ be.stack
        } return Object.defineProperty(S, "componentStack", { value: ee }), ee
      }
    }), S
  } function ai(x, S, R) { if (x = x.onError, S = x(S, R), S == null || typeof S == "string") return S } function Qs(x, S) { var R = x.onShellError, K = x.onFatalError; R(S), K(S), x.destination !== null ? (x.status = 14, x.destination.destroy(S)) : (x.status = 13, x.fatalError = S) } function Er(x, S) { ds(x, S.next, S.hoistables) } function ds(x, S, R) { for (; S !== null;) { R !== null && (ya(S.hoistables, R), S.inheritedHoistables = R); var K = S.boundaries; if (K !== null) { S.boundaries = null; for (var ee = 0; ee < K.length; ee++) { var be = K[ee]; R !== null && ya(be.contentState, R), jo(x, be, null, null) } } if (S.pendingTasks--, 0 < S.pendingTasks) break; R = S.hoistables, S = S.next } } function Yi(x, S) { var R = S.boundaries; if (R !== null && S.pendingTasks === R.length) { for (var K = !0, ee = 0; ee < R.length; ee++) { var be = R[ee]; if (be.pendingTasks !== 1 || be.parentFlushed || On(x, be)) { K = !1; break } } K && ds(x, S, S.hoistables) } } function oo(x) { var S = { pendingTasks: 1, boundaries: null, hoistables: cr(), inheritedHoistables: null, together: !1, next: null }; return x !== null && 0 < x.pendingTasks && (S.pendingTasks++, S.boundaries = [], x.next = S), S } function Ul(x, S, R, K, ee) { var be = S.keyPath, Ue = S.treeContext, ot = S.row; S.keyPath = R, R = K.length; var ze = null; if (S.replay !== null) { var At = S.replay.slots; if (At !== null && typeof At == "object") for (var wt = 0; wt < R; wt++) { var ft = ee !== "backwards" && ee !== "unstable_legacy-backwards" ? wt : R - 1 - wt, Ot = K[ft]; S.row = ze = oo(ze), S.treeContext = Pa(Ue, R, ft); var qt = At[ft]; typeof qt == "number" ? (lo(x, S, qt, Ot, ft), delete At[ft]) : Nr(x, S, Ot, ft), --ze.pendingTasks === 0 && Er(x, ze) } else for (At = 0; At < R; At++)wt = ee !== "backwards" && ee !== "unstable_legacy-backwards" ? At : R - 1 - At, ft = K[wt], S.row = ze = oo(ze), S.treeContext = Pa(Ue, R, wt), Nr(x, S, ft, wt), --ze.pendingTasks === 0 && Er(x, ze) } else if (ee !== "backwards" && ee !== "unstable_legacy-backwards") for (ee = 0; ee < R; ee++)At = K[ee], S.row = ze = oo(ze), S.treeContext = Pa(Ue, R, ee), Nr(x, S, At, ee), --ze.pendingTasks === 0 && Er(x, ze); else { for (ee = S.blockedSegment, At = ee.children.length, wt = ee.chunks.length, ft = R - 1; 0 <= ft; ft--) { Ot = K[ft], S.row = ze = oo(ze), S.treeContext = Pa(Ue, R, ft), qt = _s(x, wt, null, S.formatContext, ft === 0 ? ee.lastPushedText : !0, !0), ee.children.splice(At, 0, qt), S.blockedSegment = qt; try { Nr(x, S, Ot, ft), no(qt.chunks, x.renderState, qt.lastPushedText, qt.textEmbedded), qt.status = 1, --ze.pendingTasks === 0 && Er(x, ze) } catch (Wn) { throw qt.status = x.status === 12 ? 3 : 4, Wn } } S.blockedSegment = ee, ee.lastPushedText = !1 } ot !== null && ze !== null && 0 < ze.pendingTasks && (ot.pendingTasks++, ze.next = ot), S.treeContext = Ue, S.row = ot, S.keyPath = be } function $l(x, S, R, K, ee, be) { var Ue = S.thenableState; for (S.thenableState = null, ao = {}, bA = S, YA = x, Zs = R, ba = Oo = 0, Zl = -1, qs = 0, Ro = Ue, x = K(ee, be); Ls;)Ls = !1, ba = Oo = 0, Zl = -1, qs = 0, Mi += 1, Ur = null, x = K(ee, be); return Mo(), x } function Do(x, S, R, K, ee, be, Ue) { var ot = !1; if (be !== 0 && x.formState !== null) { var ze = S.blockedSegment; if (ze !== null) { ot = !0, ze = ze.chunks; for (var At = 0; At < be; At++)At === Ue ? ze.push("<!--F!-->") : ze.push("<!--F-->") } } be = S.keyPath, S.keyPath = R, ee ? (R = S.treeContext, S.treeContext = Pa(R, 1, 0), Nr(x, S, K, -1), S.treeContext = R) : ot ? Nr(x, S, K, -1) : Ns(x, S, K, -1), S.keyPath = be } function hs(x, S, R, K, ee, be) { if (typeof K == "function") if (K.prototype && K.prototype.isReactComponent) { var Ue = ee; if ("ref" in ee) { Ue = {}; for (var ot in ee) ot !== "ref" && (Ue[ot] = ee[ot]) } var ze = K.defaultProps; if (ze) { Ue === ee && (Ue = W({}, Ue, ee)); for (var At in ze) Ue[At] === void 0 && (Ue[At] = ze[At]) } ee = Ue, Ue = pr, ze = K.contextType, typeof ze == "object" && ze !== null && (Ue = ze._currentValue2), Ue = new K(ee, Ue); var wt = Ue.state !== void 0 ? Ue.state : null; if (Ue.updater = WA, Ue.props = ee, Ue.state = wt, ze = { queue: [], replace: !1 }, Ue._reactInternals = ze, be = K.contextType, Ue.context = typeof be == "object" && be !== null ? be._currentValue2 : pr, be = K.getDerivedStateFromProps, typeof be == "function" && (be = be(ee, wt), wt = be == null ? wt : W({}, wt, be), Ue.state = wt), typeof K.getDerivedStateFromProps != "function" && typeof Ue.getSnapshotBeforeUpdate != "function" && (typeof Ue.UNSAFE_componentWillMount == "function" || typeof Ue.componentWillMount == "function")) if (K = Ue.state, typeof Ue.componentWillMount == "function" && Ue.componentWillMount(), typeof Ue.UNSAFE_componentWillMount == "function" && Ue.UNSAFE_componentWillMount(), K !== Ue.state && WA.enqueueReplaceState(Ue, Ue.state, null), ze.queue !== null && 0 < ze.queue.length) if (K = ze.queue, be = ze.replace, ze.queue = null, ze.replace = !1, be && K.length === 1) Ue.state = K[0]; else { for (ze = be ? K[0] : Ue.state, wt = !0, be = be ? 1 : 0; be < K.length; be++)At = K[be], At = typeof At == "function" ? At.call(Ue, ze, ee, void 0) : At, At != null && (wt ? (wt = !1, ze = W({}, ze, At)) : W(ze, At)); Ue.state = ze } else ze.queue = null; if (K = Ue.render(), x.status === 12) throw null; ee = S.keyPath, S.keyPath = R, Ns(x, S, K, -1), S.keyPath = ee } else { if (K = $l(x, S, R, K, ee, void 0), x.status === 12) throw null; Do(x, S, R, K, Oo !== 0, ba, Zl) } else if (typeof K == "string") if (Ue = S.blockedSegment, Ue === null) Ue = ee.children, ze = S.formatContext, wt = S.keyPath, S.formatContext = yt(ze, K, ee), S.keyPath = R, Nr(x, S, Ue, -1), S.formatContext = ze, S.keyPath = wt; else { if (wt = Wt(Ue.chunks, K, ee, x.resumableState, x.renderState, S.blockedPreamble, S.hoistableState, S.formatContext, Ue.lastPushedText), Ue.lastPushedText = !1, ze = S.formatContext, be = S.keyPath, S.keyPath = R, (S.formatContext = yt(ze, K, ee)).insertionMode === 3) { R = _s(x, 0, null, S.formatContext, !1, !1), Ue.preambleChildren.push(R), S.blockedSegment = R; try { R.status = 6, Nr(x, S, wt, -1), no(R.chunks, x.renderState, R.lastPushedText, R.textEmbedded), R.status = 1 } finally { S.blockedSegment = Ue } } else Nr(x, S, wt, -1); S.formatContext = ze, S.keyPath = be; e: { switch (S = Ue.chunks, x = x.resumableState, K) { case "title": case "style": case "script": case "area": case "base": case "br": case "col": case "embed": case "hr": case "img": case "input": case "keygen": case "link": case "meta": case "param": case "source": case "track": case "wbr": break e; case "body": if (1 >= ze.insertionMode) { x.hasBody = !0; break e } break; case "html": if (ze.insertionMode === 0) { x.hasHtml = !0; break e } break; case "head": if (1 >= ze.insertionMode) break e }S.push(hn(K)) } Ue.lastPushedText = !1 } else { switch (K) { case _: case a: case o: case s: K = S.keyPath, S.keyPath = R, Ns(x, S, ee.children, -1), S.keyPath = K; return; case E: K = S.blockedSegment, K === null ? ee.mode !== "hidden" && (K = S.keyPath, S.keyPath = R, Nr(x, S, ee.children, -1), S.keyPath = K) : ee.mode !== "hidden" && (x.renderState.generateStaticMarkup || K.chunks.push("<!--&-->"), K.lastPushedText = !1, Ue = S.keyPath, S.keyPath = R, Nr(x, S, ee.children, -1), S.keyPath = Ue, x.renderState.generateStaticMarkup || K.chunks.push("<!--/&-->"), K.lastPushedText = !1); return; case m: e: { if (K = ee.children, ee = ee.revealOrder, ee === "forwards" || ee === "backwards" || ee === "unstable_legacy-backwards") { if (X(K)) { Ul(x, S, R, K, ee); break e } if ((Ue = z(K)) && (Ue = Ue.call(K))) { if (ze = Ue.next(), !ze.done) { do ze = Ue.next(); while (!ze.done); Ul(x, S, R, K, ee) } break e } } ee === "together" ? (ee = S.keyPath, Ue = S.row, ze = S.row = oo(null), ze.boundaries = [], ze.together = !0, S.keyPath = R, Ns(x, S, K, -1), --ze.pendingTasks === 0 && Er(x, ze), S.keyPath = ee, S.row = Ue, Ue !== null && 0 < ze.pendingTasks && (Ue.pendingTasks++, ze.next = Ue)) : (ee = S.keyPath, S.keyPath = R, Ns(x, S, K, -1), S.keyPath = ee) } return; case I: case y: throw Error(t(343)); case h: e: if (S.replay !== null) { K = S.keyPath, Ue = S.formatContext, ze = S.row, S.keyPath = R, S.formatContext = Ae(x.resumableState, Ue), S.row = null, R = ee.children; try { Nr(x, S, R, -1) } finally { S.keyPath = K, S.formatContext = Ue, S.row = ze } } else { K = S.keyPath, be = S.formatContext; var ft = S.row, Ot = S.blockedBoundary; At = S.blockedPreamble; var qt = S.hoistableState; ot = S.blockedSegment; var Wn = ee.fallback; ee = ee.children; var Pn = new Set, Mn = _i(x, S.row, Pn, null, null); x.trackedPostpones !== null && (Mn.trackedContentKeyPath = R); var Ln = _s(x, ot.chunks.length, Mn, S.formatContext, !1, !1); ot.children.push(Ln), ot.lastPushedText = !1; var zn = _s(x, 0, null, S.formatContext, !1, !1); if (zn.parentFlushed = !0, x.trackedPostpones !== null) { Ue = S.componentStack, ze = [R[0], "Suspense Fallback", R[2]], wt = [ze[1], ze[2], [], null], x.trackedPostpones.workingMap.set(ze, wt), Mn.trackedFallbackNode = wt, S.blockedSegment = Ln, S.blockedPreamble = Mn.fallbackPreamble, S.keyPath = ze, S.formatContext = $(x.resumableState, be), S.componentStack = Fl(Ue), Ln.status = 6; try { Nr(x, S, Wn, -1), no(Ln.chunks, x.renderState, Ln.lastPushedText, Ln.textEmbedded), Ln.status = 1 } catch (_r) { throw Ln.status = x.status === 12 ? 3 : 4, _r } finally { S.blockedSegment = ot, S.blockedPreamble = At, S.keyPath = K, S.formatContext = be } S = Wi(x, null, ee, -1, Mn, zn, Mn.contentPreamble, Mn.contentState, S.abortSet, R, Ae(x.resumableState, S.formatContext), S.context, S.treeContext, null, Ue), Ms(S), x.pingedTasks.push(S) } else { S.blockedBoundary = Mn, S.blockedPreamble = Mn.contentPreamble, S.hoistableState = Mn.contentState, S.blockedSegment = zn, S.keyPath = R, S.formatContext = Ae(x.resumableState, be), S.row = null, zn.status = 6; try { if (Nr(x, S, ee, -1), no(zn.chunks, x.renderState, zn.lastPushedText, zn.textEmbedded), zn.status = 1, oi(Mn, zn), Mn.pendingTasks === 0 && Mn.status === 0) { if (Mn.status = 1, !On(x, Mn)) { ft !== null && --ft.pendingTasks === 0 && Er(x, ft), x.pendingRootTasks === 0 && S.blockedPreamble && ta(x); break e } } else ft !== null && ft.together && Yi(x, ft) } catch (_r) { Mn.status = 4, x.status === 12 ? (zn.status = 3, Ue = x.fatalError) : (zn.status = 4, Ue = _r), ze = za(S.componentStack), wt = ai(x, Ue, ze), Mn.errorDigest = wt, eA(x, Mn) } finally { S.blockedBoundary = Ot, S.blockedPreamble = At, S.hoistableState = qt, S.blockedSegment = ot, S.keyPath = K, S.formatContext = be, S.row = ft } S = Wi(x, null, Wn, -1, Ot, Ln, Mn.fallbackPreamble, Mn.fallbackState, Pn, [R[0], "Suspense Fallback", R[2]], $(x.resumableState, S.formatContext), S.context, S.treeContext, S.row, Fl(S.componentStack)), Ms(S), x.pingedTasks.push(S) } } return }if (typeof K == "object" && K !== null) switch (K.$$typeof) { case f: if ("ref" in ee) for (Wn in Ue = {}, ee) Wn !== "ref" && (Ue[Wn] = ee[Wn]); else Ue = ee; K = $l(x, S, R, K.render, Ue, be), Do(x, S, R, K, Oo !== 0, ba, Zl); return; case p: hs(x, S, R, K.type, ee, be); return; case u: if (ze = ee.children, Ue = S.keyPath, ee = ee.value, wt = K._currentValue2, K._currentValue2 = ee, be = si, si = K = { parent: be, depth: be === null ? 0 : be.depth + 1, context: K, parentValue: wt, value: ee }, S.context = K, S.keyPath = R, Ns(x, S, ze, -1), x = si, x === null) throw Error(t(403)); x.context._currentValue2 = x.parentValue, x = si = x.parent, S.context = x, S.keyPath = Ue; return; case A: ee = ee.children, K = ee(K._context._currentValue2), ee = S.keyPath, S.keyPath = R, Ns(x, S, K, -1), S.keyPath = ee; return; case b: if (Ue = K._init, K = Ue(K._payload), x.status === 12) throw null; hs(x, S, R, K, ee, be); return }throw Error(t(130, K == null ? K : typeof K, "")) } } function lo(x, S, R, K, ee) { var be = S.replay, Ue = S.blockedBoundary, ot = _s(x, 0, null, S.formatContext, !1, !1); ot.id = R, ot.parentFlushed = !0; try { S.replay = null, S.blockedSegment = ot, Nr(x, S, K, ee), ot.status = 1, Ue === null ? x.completedRootSegment = ot : (oi(Ue, ot), Ue.parentFlushed && x.partialBoundaries.push(Ue)) } finally { S.replay = be, S.blockedSegment = null } } function Ns(x, S, R, K) { S.replay !== null && typeof S.replay.slots == "number" ? lo(x, S, S.replay.slots, R, K) : (S.node = R, S.childIndex = K, R = S.componentStack, Ms(S), xA(x, S), S.componentStack = R) } function xA(x, S) { var R = S.node, K = S.childIndex; if (R !== null) { if (typeof R == "object") { switch (R.$$typeof) { case r: var ee = R.type, be = R.key, Ue = R.props; R = Ue.ref; var ot = R !== void 0 ? R : null, ze = Nl(ee), At = be ?? (K === -1 ? 0 : K); if (be = [S.keyPath, ze, At], S.replay !== null) e: { var wt = S.replay; for (K = wt.nodes, R = 0; R < K.length; R++) { var ft = K[R]; if (At === ft[1]) { if (ft.length === 4) { if (ze !== null && ze !== ft[0]) throw Error(t(490, ft[0], ze)); var Ot = ft[2]; ze = ft[3], At = S.node, S.replay = { nodes: Ot, slots: ze, pendingTasks: 1 }; try { if (hs(x, S, be, ee, Ue, ot), S.replay.pendingTasks === 1 && 0 < S.replay.nodes.length) throw Error(t(488)); S.replay.pendingTasks-- } catch (Rn) { if (typeof Rn == "object" && Rn !== null && (Rn === ei || typeof Rn.then == "function")) throw S.node === At ? S.replay = wt : K.splice(R, 1), Rn; S.replay.pendingTasks--, Ue = za(S.componentStack), be = x, x = S.blockedBoundary, ee = Rn, Ue = ai(be, ee, Ue), Ps(be, x, Ot, ze, ee, Ue) } S.replay = wt } else { if (ee !== h) throw Error(t(490, "Suspense", Nl(ee) || "Unknown")); t: { wt = void 0, ee = ft[5], ot = ft[2], ze = ft[3], At = ft[4] === null ? [] : ft[4][2], ft = ft[4] === null ? null : ft[4][3]; var qt = S.keyPath, Wn = S.formatContext, Pn = S.row, Mn = S.replay, Ln = S.blockedBoundary, zn = S.hoistableState, _r = Ue.children, Xr = Ue.fallback, Tn = new Set; Ue = _i(x, S.row, Tn, null, null), Ue.parentFlushed = !0, Ue.rootSegmentID = ee, S.blockedBoundary = Ue, S.hoistableState = Ue.contentState, S.keyPath = be, S.formatContext = Ae(x.resumableState, Wn), S.row = null, S.replay = { nodes: ot, slots: ze, pendingTasks: 1 }; try { if (Nr(x, S, _r, -1), S.replay.pendingTasks === 1 && 0 < S.replay.nodes.length) throw Error(t(488)); if (S.replay.pendingTasks--, Ue.pendingTasks === 0 && Ue.status === 0) { Ue.status = 1, x.completedBoundaries.push(Ue); break t } } catch (Rn) { Ue.status = 4, Ot = za(S.componentStack), wt = ai(x, Rn, Ot), Ue.errorDigest = wt, S.replay.pendingTasks--, x.clientRenderedBoundaries.push(Ue) } finally { S.blockedBoundary = Ln, S.hoistableState = zn, S.replay = Mn, S.keyPath = qt, S.formatContext = Wn, S.row = Pn } Ot = ol(x, null, { nodes: At, slots: ft, pendingTasks: 0 }, Xr, -1, Ln, Ue.fallbackState, Tn, [be[0], "Suspense Fallback", be[2]], $(x.resumableState, S.formatContext), S.context, S.treeContext, S.row, Fl(S.componentStack)), Ms(Ot), x.pingedTasks.push(Ot) } } K.splice(R, 1); break e } } } else hs(x, S, be, ee, Ue, ot); return; case i: throw Error(t(257)); case b: if (Ot = R._init, R = Ot(R._payload), x.status === 12) throw null; Ns(x, S, R, K); return }if (X(R)) { Ds(x, S, R, K); return } if ((Ot = z(R)) && (Ot = Ot.call(R))) { if (R = Ot.next(), !R.done) { Ue = []; do Ue.push(R.value), R = Ot.next(); while (!R.done); Ds(x, S, Ue, K) } return } if (typeof R.then == "function") return S.thenableState = null, Ns(x, S, Sc(R), K); if (R.$$typeof === u) return Ns(x, S, R._currentValue2, K); throw K = Object.prototype.toString.call(R), Error(t(31, K === "[object Object]" ? "object with keys {" + Object.keys(R).join(", ") + "}" : K)) } typeof R == "string" ? (K = S.blockedSegment, K !== null && (K.lastPushedText = hr(K.chunks, R, x.renderState, K.lastPushedText))) : (typeof R == "number" || typeof R == "bigint") && (K = S.blockedSegment, K !== null && (K.lastPushedText = hr(K.chunks, "" + R, x.renderState, K.lastPushedText))) } } function Ds(x, S, R, K) { var ee = S.keyPath; if (K !== -1 && (S.keyPath = [S.keyPath, "Fragment", K], S.replay !== null)) { for (var be = S.replay, Ue = be.nodes, ot = 0; ot < Ue.length; ot++) { var ze = Ue[ot]; if (ze[1] === K) { K = ze[2], ze = ze[3], S.replay = { nodes: K, slots: ze, pendingTasks: 1 }; try { if (Ds(x, S, R, -1), S.replay.pendingTasks === 1 && 0 < S.replay.nodes.length) throw Error(t(488)); S.replay.pendingTasks-- } catch (ft) { if (typeof ft == "object" && ft !== null && (ft === ei || typeof ft.then == "function")) throw ft; S.replay.pendingTasks--, R = za(S.componentStack); var At = S.blockedBoundary, wt = ft; R = ai(x, wt, R), Ps(x, At, K, ze, wt, R) } S.replay = be, Ue.splice(ot, 1); break } } S.keyPath = ee; return } if (be = S.treeContext, Ue = R.length, S.replay !== null && (ot = S.replay.slots, ot !== null && typeof ot == "object")) { for (K = 0; K < Ue; K++)ze = R[K], S.treeContext = Pa(be, Ue, K), At = ot[K], typeof At == "number" ? (lo(x, S, At, ze, K), delete ot[K]) : Nr(x, S, ze, K); S.treeContext = be, S.keyPath = ee; return } for (ot = 0; ot < Ue; ot++)K = R[ot], S.treeContext = Pa(be, Ue, ot), Nr(x, S, K, ot); S.treeContext = be, S.keyPath = ee } function $s(x, S, R) { if (R.status = 5, R.rootSegmentID = x.nextSegmentId++, x = R.trackedContentKeyPath, x === null) throw Error(t(486)); var K = R.trackedFallbackNode, ee = [], be = S.workingMap.get(x); return be === void 0 ? (R = [x[1], x[2], ee, null, K, R.rootSegmentID], S.workingMap.set(x, R), Gn(R, x[0], S), R) : (be[4] = K, be[5] = R.rootSegmentID, be) } function Ao(x, S, R, K) { K.status = 5; var ee = R.keyPath, be = R.blockedBoundary; if (be === null) K.id = x.nextSegmentId++, S.rootSlots = K.id, x.completedRootSegment !== null && (x.completedRootSegment.status = 5); else { if (be !== null && be.status === 0) { var Ue = $s(x, S, be); if (be.trackedContentKeyPath === ee && R.childIndex === -1) { K.id === -1 && (K.id = K.parentFlushed ? be.rootSegmentID : x.nextSegmentId++), Ue[3] = K.id; return } } if (K.id === -1 && (K.id = K.parentFlushed && be !== null ? be.rootSegmentID : x.nextSegmentId++), R.childIndex === -1) ee === null ? S.rootSlots = K.id : (R = S.workingMap.get(ee), R === void 0 ? (R = [ee[1], ee[2], [], K.id], Gn(R, ee[0], S)) : R[3] = K.id); else { if (ee === null) { if (x = S.rootSlots, x === null) x = S.rootSlots = {}; else if (typeof x == "number") throw Error(t(491)) } else if (be = S.workingMap, Ue = be.get(ee), Ue === void 0) x = {}, Ue = [ee[1], ee[2], [], x], be.set(ee, Ue), Gn(Ue, ee[0], S); else if (x = Ue[3], x === null) x = Ue[3] = {}; else if (typeof x == "number") throw Error(t(491)); x[R.childIndex] = K.id } } } function eA(x, S) { x = x.trackedPostpones, x !== null && (S = S.trackedContentKeyPath, S !== null && (S = x.workingMap.get(S), S !== void 0 && (S.length = 4, S[2] = [], S[3] = null))) } function xa(x, S, R) { return ol(x, R, S.replay, S.node, S.childIndex, S.blockedBoundary, S.hoistableState, S.abortSet, S.keyPath, S.formatContext, S.context, S.treeContext, S.row, S.componentStack) } function Po(x, S, R) { var K = S.blockedSegment, ee = _s(x, K.chunks.length, null, S.formatContext, K.lastPushedText, !0); return K.children.push(ee), K.lastPushedText = !1, Wi(x, R, S.node, S.childIndex, S.blockedBoundary, ee, S.blockedPreamble, S.hoistableState, S.abortSet, S.keyPath, S.formatContext, S.context, S.treeContext, S.row, S.componentStack) } function Nr(x, S, R, K) { var ee = S.formatContext, be = S.context, Ue = S.keyPath, ot = S.treeContext, ze = S.componentStack, At = S.blockedSegment; if (At === null) { At = S.replay; try { return Ns(x, S, R, K) } catch (Ot) { if (Mo(), R = Ot === ei ? il() : Ot, x.status !== 12 && typeof R == "object" && R !== null) { if (typeof R.then == "function") { K = Ot === ei ? Lo() : null, x = xa(x, S, K).ping, R.then(x, x), S.formatContext = ee, S.context = be, S.keyPath = Ue, S.treeContext = ot, S.componentStack = ze, S.replay = At, io(be); return } if (R.message === "Maximum call stack size exceeded") { R = Ot === ei ? Lo() : null, R = xa(x, S, R), x.pingedTasks.push(R), S.formatContext = ee, S.context = be, S.keyPath = Ue, S.treeContext = ot, S.componentStack = ze, S.replay = At, io(be); return } } } } else { var wt = At.children.length, ft = At.chunks.length; try { return Ns(x, S, R, K) } catch (Ot) { if (Mo(), At.children.length = wt, At.chunks.length = ft, R = Ot === ei ? il() : Ot, x.status !== 12 && typeof R == "object" && R !== null) { if (typeof R.then == "function") { At = R, R = Ot === ei ? Lo() : null, x = Po(x, S, R).ping, At.then(x, x), S.formatContext = ee, S.context = be, S.keyPath = Ue, S.treeContext = ot, S.componentStack = ze, io(be); return } if (R.message === "Maximum call stack size exceeded") { At = Ot === ei ? Lo() : null, At = Po(x, S, At), x.pingedTasks.push(At), S.formatContext = ee, S.context = be, S.keyPath = Ue, S.treeContext = ot, S.componentStack = ze, io(be); return } } } } throw S.formatContext = ee, S.context = be, S.keyPath = Ue, S.treeContext = ot, io(be), R } function ea(x) { var S = x.blockedBoundary, R = x.blockedSegment; R !== null && (R.status = 3, jo(this, S, x.row, R)) } function Ps(x, S, R, K, ee, be) { for (var Ue = 0; Ue < R.length; Ue++) { var ot = R[Ue]; if (ot.length === 4) Ps(x, S, ot[2], ot[3], ee, be); else { ot = ot[5]; var ze = x, At = be, wt = _i(ze, null, new Set, null, null); wt.parentFlushed = !0, wt.rootSegmentID = ot, wt.status = 4, wt.errorDigest = At, wt.parentFlushed && ze.clientRenderedBoundaries.push(wt) } } if (R.length = 0, K !== null) { if (S === null) throw Error(t(487)); if (S.status !== 4 && (S.status = 4, S.errorDigest = be, S.parentFlushed && x.clientRenderedBoundaries.push(S)), typeof K == "object") for (var ft in K) delete K[ft] } } function co(x, S, R) { var K = x.blockedBoundary, ee = x.blockedSegment; if (ee !== null) { if (ee.status === 6) return; ee.status = 3 } var be = za(x.componentStack); if (K === null) { if (S.status !== 13 && S.status !== 14) { if (K = x.replay, K === null) { S.trackedPostpones !== null && ee !== null ? (K = S.trackedPostpones, ai(S, R, be), Ao(S, K, x, ee), jo(S, null, x.row, ee)) : (ai(S, R, be), Qs(S, R)); return } K.pendingTasks--, K.pendingTasks === 0 && 0 < K.nodes.length && (ee = ai(S, R, be), Ps(S, null, K.nodes, K.slots, R, ee)), S.pendingRootTasks--, S.pendingRootTasks === 0 && tA(S) } } else { var Ue = S.trackedPostpones; if (K.status !== 4) { if (Ue !== null && ee !== null) return ai(S, R, be), Ao(S, Ue, x, ee), K.fallbackAbortableTasks.forEach(function (ot) { return co(ot, S, R) }), K.fallbackAbortableTasks.clear(), jo(S, K, x.row, ee); K.status = 4, ee = ai(S, R, be), K.status = 4, K.errorDigest = ee, eA(S, K), K.parentFlushed && S.clientRenderedBoundaries.push(K) } K.pendingTasks--, ee = K.row, ee !== null && --ee.pendingTasks === 0 && Er(S, ee), K.fallbackAbortableTasks.forEach(function (ot) { return co(ot, S, R) }), K.fallbackAbortableTasks.clear() } x = x.row, x !== null && --x.pendingTasks === 0 && Er(S, x), S.allPendingTasks--, S.allPendingTasks === 0 && Ol(S) } function Ho(x, S) { try { var R = x.renderState, K = R.onHeaders; if (K) { var ee = R.headers; if (ee) { R.headers = null; var be = ee.preconnects; if (ee.fontPreloads && (be && (be += ", "), be += ee.fontPreloads), ee.highImagePreloads && (be && (be += ", "), be += ee.highImagePreloads), !S) { var Ue = R.styles.values(), ot = Ue.next(); e: for (; 0 < ee.remainingCapacity && !ot.done; ot = Ue.next())for (var ze = ot.value.sheets.values(), At = ze.next(); 0 < ee.remainingCapacity && !At.done; At = ze.next()) { var wt = At.value, ft = wt.props, Ot = ft.href, qt = wt.props, Wn = Qr(qt.href, "style", { crossOrigin: qt.crossOrigin, integrity: qt.integrity, nonce: qt.nonce, type: qt.type, fetchPriority: qt.fetchPriority, referrerPolicy: qt.referrerPolicy, media: qt.media }); if (0 <= (ee.remainingCapacity -= Wn.length + 2)) R.resets.style[Ot] = de, be && (be += ", "), be += Wn, R.resets.style[Ot] = typeof ft.crossOrigin == "string" || typeof ft.integrity == "string" ? [ft.crossOrigin, ft.integrity] : de; else break e } } K(be ? { Link: be } : {}) } } } catch (Pn) { ai(x, Pn, {}) } } function tA(x) { x.trackedPostpones === null && Ho(x, !0), x.trackedPostpones === null && ta(x), x.onShellError = us, x = x.onShellReady, x() } function Ol(x) { Ho(x, x.trackedPostpones === null ? !0 : x.completedRootSegment === null || x.completedRootSegment.status !== 5), ta(x), x = x.onAllReady, x() } function oi(x, S) { if (S.chunks.length === 0 && S.children.length === 1 && S.children[0].boundary === null && S.children[0].id === -1) { var R = S.children[0]; R.id = S.id, R.parentFlushed = !0, R.status !== 1 && R.status !== 3 && R.status !== 4 || oi(x, R) } else x.completedSegments.push(S) } function jo(x, S, R, K) { if (R !== null && (--R.pendingTasks === 0 ? Er(x, R) : R.together && Yi(x, R)), x.allPendingTasks--, S === null) { if (K !== null && K.parentFlushed) { if (x.completedRootSegment !== null) throw Error(t(389)); x.completedRootSegment = K } x.pendingRootTasks--, x.pendingRootTasks === 0 && tA(x) } else if (S.pendingTasks--, S.status !== 4) if (S.pendingTasks === 0) { if (S.status === 0 && (S.status = 1), K !== null && K.parentFlushed && (K.status === 1 || K.status === 3) && oi(S, K), S.parentFlushed && x.completedBoundaries.push(S), S.status === 1) R = S.row, R !== null && ya(R.hoistables, S.contentState), On(x, S) || (S.fallbackAbortableTasks.forEach(ea, x), S.fallbackAbortableTasks.clear(), R !== null && --R.pendingTasks === 0 && Er(x, R)), x.pendingRootTasks === 0 && x.trackedPostpones === null && S.contentPreamble !== null && ta(x); else if (S.status === 5 && (S = S.row, S !== null)) { if (x.trackedPostpones !== null) { R = x.trackedPostpones; var ee = S.next; if (ee !== null && (K = ee.boundaries, K !== null)) for (ee.boundaries = null, ee = 0; ee < K.length; ee++) { var be = K[ee]; $s(x, R, be), jo(x, be, null, null) } } --S.pendingTasks === 0 && Er(x, S) } } else K === null || !K.parentFlushed || K.status !== 1 && K.status !== 3 || (oi(S, K), S.completedSegments.length === 1 && S.parentFlushed && x.partialBoundaries.push(S)), S = S.row, S !== null && S.together && Yi(x, S); x.allPendingTasks === 0 && Ol(x) } function zo(x) { if (x.status !== 14 && x.status !== 13) { var S = si, R = L.H; L.H = le; var K = L.A; L.A = De; var ee = Vn; Vn = x; var be = Fe; Fe = x.resumableState; try { var Ue = x.pingedTasks, ot; for (ot = 0; ot < Ue.length; ot++) { var ze = Ue[ot], At = x, wt = ze.blockedSegment; if (wt === null) { var ft = At; if (ze.replay.pendingTasks !== 0) { io(ze.context); try { if (typeof ze.replay.slots == "number" ? lo(ft, ze, ze.replay.slots, ze.node, ze.childIndex) : xA(ft, ze), ze.replay.pendingTasks === 1 && 0 < ze.replay.nodes.length) throw Error(t(488)); ze.replay.pendingTasks--, ze.abortSet.delete(ze), jo(ft, ze.blockedBoundary, ze.row, null) } catch (Vr) { Mo(); var Ot = Vr === ei ? il() : Vr; if (typeof Ot == "object" && Ot !== null && typeof Ot.then == "function") { var qt = ze.ping; Ot.then(qt, qt), ze.thenableState = Vr === ei ? Lo() : null } else { ze.replay.pendingTasks--, ze.abortSet.delete(ze); var Wn = za(ze.componentStack); At = void 0; var Pn = ft, Mn = ze.blockedBoundary, Ln = ft.status === 12 ? ft.fatalError : Ot, zn = ze.replay.nodes, _r = ze.replay.slots; At = ai(Pn, Ln, Wn), Ps(Pn, Mn, zn, _r, Ln, At), ft.pendingRootTasks--, ft.pendingRootTasks === 0 && tA(ft), ft.allPendingTasks--, ft.allPendingTasks === 0 && Ol(ft) } } finally { } } } else if (ft = void 0, Pn = wt, Pn.status === 0) { Pn.status = 6, io(ze.context); var Xr = Pn.children.length, Tn = Pn.chunks.length; try { xA(At, ze), no(Pn.chunks, At.renderState, Pn.lastPushedText, Pn.textEmbedded), ze.abortSet.delete(ze), Pn.status = 1, jo(At, ze.blockedBoundary, ze.row, Pn) } catch (Vr) { Mo(), Pn.children.length = Xr, Pn.chunks.length = Tn; var Rn = Vr === ei ? il() : At.status === 12 ? At.fatalError : Vr; if (At.status === 12 && At.trackedPostpones !== null) { var ir = At.trackedPostpones, Pr = za(ze.componentStack); ze.abortSet.delete(ze), ai(At, Rn, Pr), Ao(At, ir, ze, Pn), jo(At, ze.blockedBoundary, ze.row, Pn) } else if (typeof Rn == "object" && Rn !== null && typeof Rn.then == "function") { Pn.status = 0, ze.thenableState = Vr === ei ? Lo() : null; var or = ze.ping; Rn.then(or, or) } else { var hi = za(ze.componentStack); ze.abortSet.delete(ze), Pn.status = 4; var yr = ze.blockedBoundary, li = ze.row; if (li !== null && --li.pendingTasks === 0 && Er(At, li), At.allPendingTasks--, ft = ai(At, Rn, hi), yr === null) Qs(At, Rn); else if (yr.pendingTasks--, yr.status !== 4) { yr.status = 4, yr.errorDigest = ft, eA(At, yr); var ti = yr.row; ti !== null && --ti.pendingTasks === 0 && Er(At, ti), yr.parentFlushed && At.clientRenderedBoundaries.push(yr), At.pendingRootTasks === 0 && At.trackedPostpones === null && yr.contentPreamble !== null && ta(At) } At.allPendingTasks === 0 && Ol(At) } } finally { } } } Ue.splice(0, ot), x.destination !== null && fo(x, x.destination) } catch (Vr) { ai(x, Vr, {}), Qs(x, Vr) } finally { Fe = be, L.H = R, L.A = K, R === le && io(S), Vn = ee } } } function Hs(x, S, R) { S.preambleChildren.length && R.push(S.preambleChildren); for (var K = !1, ee = 0; ee < S.children.length; ee++)K = Di(x, S.children[ee], R) || K; return K } function Di(x, S, R) { var K = S.boundary; if (K === null) return Hs(x, S, R); var ee = K.contentPreamble, be = K.fallbackPreamble; if (ee === null || be === null) return !1; switch (K.status) { case 1: if (Zt(x.renderState, ee), x.byteSize += K.byteSize, S = K.completedSegments[0], !S) throw Error(t(391)); return Hs(x, S, R); case 5: if (x.trackedPostpones !== null) return !0; case 4: if (S.status === 1) return Zt(x.renderState, be), Hs(x, S, R); default: return !0 } } function ta(x) { if (x.completedRootSegment && x.completedPreambleSegments === null) { var S = [], R = x.byteSize, K = Di(x, x.completedRootSegment, S), ee = x.renderState.preamble; K === !1 || ee.headChunks && ee.bodyChunks ? x.completedPreambleSegments = S : x.byteSize = R } } function Ko(x, S, R, K) { switch (R.parentFlushed = !0, R.status) { case 0: R.id = x.nextSegmentId++; case 5: return K = R.id, R.lastPushedText = !1, R.textEmbedded = !1, x = x.renderState, S.push('<template id="'), S.push(x.placeholderPrefix), x = K.toString(16), S.push(x), S.push('"></template>'); case 1: R.status = 2; var ee = !0, be = R.chunks, Ue = 0; R = R.children; for (var ot = 0; ot < R.length; ot++) { for (ee = R[ot]; Ue < ee.index; Ue++)S.push(be[Ue]); ee = na(x, S, ee, K) } for (; Ue < be.length - 1; Ue++)S.push(be[Ue]); return Ue < be.length && (ee = S.push(be[Ue])), ee; case 3: return !0; default: throw Error(t(390)) } } var uo = 0; function na(x, S, R, K) { var ee = R.boundary; if (ee === null) return Ko(x, S, R, K); if (ee.parentFlushed = !0, ee.status === 4) { var be = ee.row; return be !== null && --be.pendingTasks === 0 && Er(x, be), x.renderState.generateStaticMarkup || (ee = ee.errorDigest, S.push("<!--$!-->"), S.push("<template"), ee && (S.push(' data-dgst="'), ee = ae(ee), S.push(ee), S.push('"')), S.push("></template>")), Ko(x, S, R, K), x = x.renderState.generateStaticMarkup ? !0 : S.push("<!--/$-->"), x } if (ee.status !== 1) return ee.status === 0 && (ee.rootSegmentID = x.nextSegmentId++), 0 < ee.completedSegments.length && x.partialBoundaries.push(ee), Xs(S, x.renderState, ee.rootSegmentID), K && ya(K, ee.fallbackState), Ko(x, S, R, K), S.push("<!--/$-->"); if (!ks && On(x, ee) && uo + ee.byteSize > x.progressiveChunkSize) return ee.rootSegmentID = x.nextSegmentId++, x.completedBoundaries.push(ee), Xs(S, x.renderState, ee.rootSegmentID), Ko(x, S, R, K), S.push("<!--/$-->"); if (uo += ee.byteSize, K && ya(K, ee.contentState), R = ee.row, R !== null && On(x, ee) && --R.pendingTasks === 0 && Er(x, R), x.renderState.generateStaticMarkup || S.push("<!--$-->"), R = ee.completedSegments, R.length !== 1) throw Error(t(391)); return na(x, S, R[0], K), x = x.renderState.generateStaticMarkup ? !0 : S.push("<!--/$-->"), x } function Vo(x, S, R, K) { return $r(S, x.renderState, R.parentFormatContext, R.id), na(x, S, R, K), So(S, R.parentFormatContext) } function Go(x, S, R) {
    uo = R.byteSize; for (var K = R.completedSegments, ee = 0; ee < K.length; ee++)Ka(x, S, R, K[ee]); K.length = 0, K = R.row, K !== null && On(x, R) && --K.pendingTasks === 0 && Er(x, K), Li(S, R.contentState, x.renderState), K = x.resumableState, x = x.renderState, ee = R.rootSegmentID, R = R.contentState; var be = x.stylesToHoist; return x.stylesToHoist = !1, S.push(x.startInlineScript), S.push(">"), be ? ((K.instructions & 4) === 0 && (K.instructions |= 4, S.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')), (K.instructions & 2) === 0 && (K.instructions |= 2, S.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)), (K.instructions & 8) === 0 ? (K.instructions |= 8, S.push(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`)) : S.push('$RR("')) : ((K.instructions & 2) === 0 && (K.instructions |= 2, S.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)), S.push('$RC("')), K = ee.toString(16), S.push(x.boundaryPrefix), S.push(K), S.push('","'), S.push(x.segmentPrefix), S.push(K), be ? (S.push('",'), Vl(S, R)) : S.push('"'), R = S.push(")<\/script>"), ar(S, x) && R
  } function Ka(x, S, R, K) { if (K.status === 2) return !0; var ee = R.contentState, be = K.id; if (be === -1) { if ((K.id = R.rootSegmentID) === -1) throw Error(t(392)); return Vo(x, S, K, ee) } return be === R.rootSegmentID ? Vo(x, S, K, ee) : (Vo(x, S, K, ee), R = x.resumableState, x = x.renderState, S.push(x.startInlineScript), S.push(">"), (R.instructions & 1) === 0 ? (R.instructions |= 1, S.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')) : S.push('$RS("'), S.push(x.segmentPrefix), be = be.toString(16), S.push(be), S.push('","'), S.push(x.placeholderPrefix), S.push(be), S = S.push('")<\/script>'), S) } var ks = !1; function fo(x, S) { try { if (!(0 < x.pendingRootTasks)) { var R, K = x.completedRootSegment; if (K !== null) { if (K.status === 5) return; var ee = x.completedPreambleSegments; if (ee === null) return; uo = x.byteSize; var be = x.resumableState, Ue = x.renderState, ot = Ue.preamble, ze = ot.htmlChunks, At = ot.headChunks, wt; if (ze) { for (wt = 0; wt < ze.length; wt++)S.push(ze[wt]); if (At) for (wt = 0; wt < At.length; wt++)S.push(At[wt]); else { var ft = Qt("head"); S.push(ft), S.push(">") } } else if (At) for (wt = 0; wt < At.length; wt++)S.push(At[wt]); var Ot = Ue.charsetChunks; for (wt = 0; wt < Ot.length; wt++)S.push(Ot[wt]); Ot.length = 0, Ue.preconnects.forEach(Vi, S), Ue.preconnects.clear(); var qt = Ue.viewportChunks; for (wt = 0; wt < qt.length; wt++)S.push(qt[wt]); qt.length = 0, Ue.fontPreloads.forEach(Vi, S), Ue.fontPreloads.clear(), Ue.highImagePreloads.forEach(Vi, S), Ue.highImagePreloads.clear(), Be = Ue, Ue.styles.forEach(fi, S), Be = null; var Wn = Ue.importMapChunks; for (wt = 0; wt < Wn.length; wt++)S.push(Wn[wt]); Wn.length = 0, Ue.bootstrapScripts.forEach(Vi, S), Ue.scripts.forEach(Vi, S), Ue.scripts.clear(), Ue.bulkPreloads.forEach(Vi, S), Ue.bulkPreloads.clear(), be.instructions |= 32; var Pn = Ue.hoistableChunks; for (wt = 0; wt < Pn.length; wt++)S.push(Pn[wt]); for (be = Pn.length = 0; be < ee.length; be++) { var Mn = ee[be]; for (Ue = 0; Ue < Mn.length; Ue++)na(x, S, Mn[Ue], null) } var Ln = x.renderState.preamble, zn = Ln.headChunks; if (Ln.htmlChunks || zn) { var _r = hn("head"); S.push(_r) } var Xr = Ln.bodyChunks; if (Xr) for (ee = 0; ee < Xr.length; ee++)S.push(Xr[ee]); na(x, S, K, null), x.completedRootSegment = null; var Tn = x.renderState; if (x.allPendingTasks !== 0 || x.clientRenderedBoundaries.length !== 0 || x.completedBoundaries.length !== 0 || x.trackedPostpones !== null && (x.trackedPostpones.rootNodes.length !== 0 || x.trackedPostpones.rootSlots !== null)) { var Rn = x.resumableState; if ((Rn.instructions & 64) === 0) { if (Rn.instructions |= 64, S.push(Tn.startInlineScript), (Rn.instructions & 32) === 0) { Rn.instructions |= 32; var ir = "_" + Rn.idPrefix + "R_"; S.push(' id="'); var Pr = ae(ir); S.push(Pr), S.push('"') } S.push(">"), S.push("requestAnimationFrame(function(){$RT=performance.now()});"), S.push("<\/script>") } } ar(S, Tn) } var or = x.renderState; K = 0; var hi = or.viewportChunks; for (K = 0; K < hi.length; K++)S.push(hi[K]); hi.length = 0, or.preconnects.forEach(Vi, S), or.preconnects.clear(), or.fontPreloads.forEach(Vi, S), or.fontPreloads.clear(), or.highImagePreloads.forEach(Vi, S), or.highImagePreloads.clear(), or.styles.forEach(va, S), or.scripts.forEach(Vi, S), or.scripts.clear(), or.bulkPreloads.forEach(Vi, S), or.bulkPreloads.clear(); var yr = or.hoistableChunks; for (K = 0; K < yr.length; K++)S.push(yr[K]); yr.length = 0; var li = x.clientRenderedBoundaries; for (R = 0; R < li.length; R++) { var ti = li[R]; or = S; var Vr = x.resumableState, ps = x.renderState, ho = ti.rootSegmentID, js = ti.errorDigest; or.push(ps.startInlineScript), or.push(">"), (Vr.instructions & 4) === 0 ? (Vr.instructions |= 4, or.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')) : or.push('$RX("'), or.push(ps.boundaryPrefix); var zs = ho.toString(16); if (or.push(zs), or.push('"'), js) { or.push(","); var Wo = pn(js || ""); or.push(Wo) } var ki = or.push(")<\/script>"); if (!ki) { x.destination = null, R++, li.splice(0, R); return } } li.splice(0, R); var ia = x.completedBoundaries; for (R = 0; R < ia.length; R++)if (!Go(x, S, ia[R])) { x.destination = null, R++, ia.splice(0, R); return } ia.splice(0, R), ks = !0; var sa = x.partialBoundaries; for (R = 0; R < sa.length; R++) { var Ti = sa[R]; e: { li = x, ti = S, uo = Ti.byteSize; var Ji = Ti.completedSegments; for (ki = 0; ki < Ji.length; ki++)if (!Ka(li, ti, Ti, Ji[ki])) { ki++, Ji.splice(0, ki); var aa = !1; break e } Ji.splice(0, ki); var Hr = Ti.row; Hr !== null && Hr.together && Ti.pendingTasks === 1 && (Hr.pendingTasks === 1 ? ds(li, Hr, Hr.hoistables) : Hr.pendingTasks--), aa = Li(ti, Ti.contentState, li.renderState) } if (!aa) { x.destination = null, R++, sa.splice(0, R); return } } sa.splice(0, R), ks = !1; var gs = x.completedBoundaries; for (R = 0; R < gs.length; R++)if (!Go(x, S, gs[R])) { x.destination = null, R++, gs.splice(0, R); return } gs.splice(0, R) } } finally { ks = !1, x.allPendingTasks === 0 && x.clientRenderedBoundaries.length === 0 && x.completedBoundaries.length === 0 && (x.flushScheduled = !1, R = x.resumableState, R.hasBody && (sa = hn("body"), S.push(sa)), R.hasHtml && (R = hn("html"), S.push(R)), x.status = 14, S.push(null), x.destination = null) } } function Ni(x) { if (x.flushScheduled === !1 && x.pingedTasks.length === 0 && x.destination !== null) { x.flushScheduled = !0; var S = x.destination; S ? fo(x, S) : x.flushScheduled = !1 } } function ra(x, S) { if (x.status === 13) x.status = 14, S.destroy(x.fatalError); else if (x.status !== 14 && x.destination === null) { x.destination = S; try { fo(x, S) } catch (R) { ai(x, R, {}), Qs(x, R) } } } function Sr(x, S) { (x.status === 11 || x.status === 10) && (x.status = 12); try { var R = x.abortableTasks; if (0 < R.size) { var K = S === void 0 ? Error(t(432)) : typeof S == "object" && S !== null && typeof S.then == "function" ? Error(t(530)) : S; x.fatalError = K, R.forEach(function (ee) { return co(ee, x, K) }), R.clear() } x.destination !== null && fo(x, x.destination) } catch (ee) { ai(x, ee, {}), Qs(x, ee) } } function Gn(x, S, R) { if (S === null) R.rootNodes.push(x); else { var K = R.workingMap, ee = K.get(S); ee === void 0 && (ee = [S[1], S[2], [], null], K.set(S, ee), Gn(ee, S[0], R)), ee[2].push(x) } } function Dr() { } function wi(x, S, R, K) { var ee = !1, be = null, Ue = "", ot = !1; if (S = Ye(S ? S.identifierPrefix : void 0), x = Qi(x, S, wa(S, R), $e(0, null, 0, null), 1 / 0, Dr, void 0, function () { ot = !0 }, void 0, void 0, void 0), x.flushScheduled = x.destination !== null, zo(x), x.status === 10 && (x.status = 11), x.trackedPostpones === null && Ho(x, x.pendingRootTasks === 0), Sr(x, K), ra(x, { push: function (ze) { return ze !== null && (Ue += ze), !0 }, destroy: function (ze) { ee = !0, be = ze } }), ee && be !== K) throw be; if (!ot) throw Error(t(426)); return Ue } return Mm.renderToStaticMarkup = function (x, S) { return wi(x, S, !0, 'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server') }, Mm.renderToString = function (x, S) { return wi(x, S, !1, 'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server') }, Mm.version = "19.2.0", Mm
} var Bh = {}; var p3; function dre() {
  if (p3) return Bh; p3 = 1; var n = lp(), e = Zw(); function t(w) { var B = "https://react.dev/errors/" + w; if (1 < arguments.length) { B += "?args[]=" + encodeURIComponent(arguments[1]); for (var T = 2; T < arguments.length; T++)B += "&args[]=" + encodeURIComponent(arguments[T]) } return "Minified React error #" + w + "; visit " + B + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } var r = Symbol.for("react.transitional.element"), i = Symbol.for("react.portal"), s = Symbol.for("react.fragment"), a = Symbol.for("react.strict_mode"), o = Symbol.for("react.profiler"), A = Symbol.for("react.consumer"), u = Symbol.for("react.context"), f = Symbol.for("react.forward_ref"), h = Symbol.for("react.suspense"), m = Symbol.for("react.suspense_list"), p = Symbol.for("react.memo"), b = Symbol.for("react.lazy"), y = Symbol.for("react.scope"), E = Symbol.for("react.activity"), _ = Symbol.for("react.legacy_hidden"), O = Symbol.for("react.memo_cache_sentinel"), I = Symbol.for("react.view_transition"), D = Symbol.iterator; function z(w) { return w === null || typeof w != "object" ? null : (w = D && w[D] || w["@@iterator"], typeof w == "function" ? w : null) } var X = Array.isArray; function q(w, B) { var T = w.length & 3, H = w.length - T, Y = B; for (B = 0; B < H;) { var ue = w.charCodeAt(B) & 255 | (w.charCodeAt(++B) & 255) << 8 | (w.charCodeAt(++B) & 255) << 16 | (w.charCodeAt(++B) & 255) << 24; ++B, ue = 3432918353 * (ue & 65535) + ((3432918353 * (ue >>> 16) & 65535) << 16) & 4294967295, ue = ue << 15 | ue >>> 17, ue = 461845907 * (ue & 65535) + ((461845907 * (ue >>> 16) & 65535) << 16) & 4294967295, Y ^= ue, Y = Y << 13 | Y >>> 19, Y = 5 * (Y & 65535) + ((5 * (Y >>> 16) & 65535) << 16) & 4294967295, Y = (Y & 65535) + 27492 + (((Y >>> 16) + 58964 & 65535) << 16) } switch (ue = 0, T) { case 3: ue ^= (w.charCodeAt(B + 2) & 255) << 16; case 2: ue ^= (w.charCodeAt(B + 1) & 255) << 8; case 1: ue ^= w.charCodeAt(B) & 255, ue = 3432918353 * (ue & 65535) + ((3432918353 * (ue >>> 16) & 65535) << 16) & 4294967295, ue = ue << 15 | ue >>> 17, Y ^= 461845907 * (ue & 65535) + ((461845907 * (ue >>> 16) & 65535) << 16) & 4294967295 }return Y ^= w.length, Y ^= Y >>> 16, Y = 2246822507 * (Y & 65535) + ((2246822507 * (Y >>> 16) & 65535) << 16) & 4294967295, Y ^= Y >>> 13, Y = 3266489909 * (Y & 65535) + ((3266489909 * (Y >>> 16) & 65535) << 16) & 4294967295, (Y ^ Y >>> 16) >>> 0 } var W = new MessageChannel, G = []; W.port1.onmessage = function () { var w = G.shift(); w && w() }; function fe(w) { G.push(w), W.port2.postMessage(null) } function ne(w) { setTimeout(function () { throw w }) } var V = Promise, se = typeof queueMicrotask == "function" ? queueMicrotask : function (w) { V.resolve(null).then(w).catch(ne) }, M = null, pe = 0; function Z(w, B) { if (B.byteLength !== 0) if (2048 < B.byteLength) 0 < pe && (w.enqueue(new Uint8Array(M.buffer, 0, pe)), M = new Uint8Array(2048), pe = 0), w.enqueue(B); else { var T = M.length - pe; T < B.byteLength && (T === 0 ? w.enqueue(M) : (M.set(B.subarray(0, T), pe), w.enqueue(M), B = B.subarray(T)), M = new Uint8Array(2048), pe = 0), M.set(B, pe), pe += B.byteLength } } function ae(w, B) { return Z(w, B), !0 } function me(w) { M && 0 < pe && (w.enqueue(new Uint8Array(M.buffer, 0, pe)), M = null, pe = 0) } var ke = new TextEncoder; function Ce(w) { return ke.encode(w) } function j(w) { return ke.encode(w) } function L(w) { return w.byteLength } function re(w, B) { typeof w.error == "function" ? w.error(B) : w.close() } var ie = Object.assign, oe = Object.prototype.hasOwnProperty, de = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), Be = {}, Re = {}; function Ie(w) { return oe.call(Re, w) ? !0 : oe.call(Be, w) ? !1 : de.test(w) ? Re[w] = !0 : (Be[w] = !0, !1) } var Ye = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")), $e = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), yt = /["'&<>]/; function at(w) { if (typeof w == "boolean" || typeof w == "number" || typeof w == "bigint") return "" + w; w = "" + w; var B = yt.exec(w); if (B) { var T = "", H, Y = 0; for (H = B.index; H < w.length; H++) { switch (w.charCodeAt(H)) { case 34: B = "&quot;"; break; case 38: B = "&amp;"; break; case 39: B = "&#x27;"; break; case 60: B = "&lt;"; break; case 62: B = "&gt;"; break; default: continue }Y !== H && (T += w.slice(Y, H)), Y = H + 1, T += B } w = Y !== H ? T + w.slice(Y, H) : T } return w } var $ = /([A-Z])/g, Ae = /^ms-/, Me = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function _e(w) { return Me.test("" + w) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : w } var we = n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, Ne = e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, tt = { pending: !1, data: null, method: null, action: null }, Je = Ne.d; Ne.d = { f: Je.f, r: Je.r, D: co, C: Ho, L: tA, m: Ol, X: jo, S: oi, M: zo }; var Qe = [], lt = null; j('"></template>'); var Bt = j("<script"), st = j("<\/script>"), Ct = j('<script src="'), Xt = j('<script type="module" src="'), Lt = j(' nonce="'), Ft = j(' integrity="'), bn = j(' crossorigin="'), Pt = j(' async=""><\/script>'), Br = j("<style"), en = /(<\/|<)(s)(cript)/gi; function nn(w, B, T, H) { return "" + B + (T === "s" ? "\\u0073" : "\\u0053") + H } var vn = j('<script type="importmap">'), En = j("<\/script>"); function rn(w, B, T, H, Y, ue) { T = typeof B == "string" ? B : B && B.script; var xe = T === void 0 ? Bt : j('<script nonce="' + at(T) + '"'), He = typeof B == "string" ? void 0 : B && B.style, Oe = He === void 0 ? Br : j('<style nonce="' + at(He) + '"'), je = w.idPrefix, We = [], nt = w.bootstrapScriptContent, _t = w.bootstrapScripts, St = w.bootstrapModules; if (nt !== void 0 && (We.push(xe), $s(We, w), We.push(cr, Ce(("" + nt).replace(en, nn)), st)), nt = [], H !== void 0 && (nt.push(vn), nt.push(Ce(("" + JSON.stringify(H)).replace(en, nn))), nt.push(En)), H = Y ? { preconnects: "", fontPreloads: "", highImagePreloads: "", remainingCapacity: 2 + (typeof ue == "number" ? ue : 2e3) } : null, Y = { placeholderPrefix: j(je + "P:"), segmentPrefix: j(je + "S:"), boundaryPrefix: j(je + "B:"), startInlineScript: xe, startInlineStyle: Oe, preamble: Qt(), externalRuntimeScript: null, bootstrapChunks: We, importMapChunks: nt, onHeaders: Y, headers: H, resets: { font: {}, dns: {}, connect: { default: {}, anonymous: {}, credentials: {} }, image: {}, style: {} }, charsetChunks: [], viewportChunks: [], hoistableChunks: [], preconnects: new Set, fontPreloads: new Set, highImagePreloads: new Set, styles: new Map, bootstrapScripts: new Set, scripts: new Set, bulkPreloads: new Set, preloads: { images: new Map, stylesheets: new Map, scripts: new Map, moduleScripts: new Map }, nonce: { script: T, style: He }, hoistableState: null, stylesToHoist: !1 }, _t !== void 0) for (H = 0; H < _t.length; H++)je = _t[H], He = xe = void 0, Oe = { rel: "preload", as: "script", fetchPriority: "low", nonce: B }, typeof je == "string" ? Oe.href = ue = je : (Oe.href = ue = je.src, Oe.integrity = He = typeof je.integrity == "string" ? je.integrity : void 0, Oe.crossOrigin = xe = typeof je == "string" || je.crossOrigin == null ? void 0 : je.crossOrigin === "use-credentials" ? "use-credentials" : ""), je = w, nt = ue, je.scriptResources[nt] = null, je.moduleScriptResources[nt] = null, je = [], Qr(je, Oe), Y.bootstrapScripts.add(je), We.push(Ct, Ce(at(ue)), Kn), T && We.push(Lt, Ce(at(T)), Kn), typeof He == "string" && We.push(Ft, Ce(at(He)), Kn), typeof xe == "string" && We.push(bn, Ce(at(xe)), Kn), $s(We, w), We.push(Pt); if (St !== void 0) for (B = 0; B < St.length; B++)He = St[B], ue = H = void 0, xe = { rel: "modulepreload", fetchPriority: "low", nonce: T }, typeof He == "string" ? xe.href = _t = He : (xe.href = _t = He.src, xe.integrity = ue = typeof He.integrity == "string" ? He.integrity : void 0, xe.crossOrigin = H = typeof He == "string" || He.crossOrigin == null ? void 0 : He.crossOrigin === "use-credentials" ? "use-credentials" : ""), He = w, Oe = _t, He.scriptResources[Oe] = null, He.moduleScriptResources[Oe] = null, He = [], Qr(He, xe), Y.bootstrapScripts.add(He), We.push(Xt, Ce(at(_t)), Kn), T && We.push(Lt, Ce(at(T)), Kn), typeof ue == "string" && We.push(Ft, Ce(at(ue)), Kn), typeof H == "string" && We.push(bn, Ce(at(H)), Kn), $s(We, w), We.push(Pt); return Y } function Fr(w, B, T, H, Y) { return { idPrefix: w === void 0 ? "" : w, nextFormID: 0, streamingFormat: 0, bootstrapScriptContent: T, bootstrapScripts: H, bootstrapModules: Y, instructions: 0, hasBody: !1, hasHtml: !1, unknownResources: {}, dnsResources: {}, connectResources: { default: {}, anonymous: {}, credentials: {} }, imageResources: {}, styleResources: {}, scriptResources: {}, moduleUnknownResources: {}, moduleScriptResources: {} } } function Qt() { return { htmlChunks: null, headChunks: null, bodyChunks: null } } function Wt(w, B, T, H) { return { insertionMode: w, selectedValue: B, tagScope: T, viewTransition: H } } function Cr(w) { return Wt(w === "http://www.w3.org/2000/svg" ? 4 : w === "http://www.w3.org/1998/Math/MathML" ? 5 : 0, null, 0, null) } function hn(w, B, T) { var H = w.tagScope & -25; switch (B) { case "noscript": return Wt(2, null, H | 1, null); case "select": return Wt(2, T.value != null ? T.value : T.defaultValue, H, null); case "svg": return Wt(4, null, H, null); case "picture": return Wt(2, null, H | 2, null); case "math": return Wt(5, null, H, null); case "foreignObject": return Wt(2, null, H, null); case "table": return Wt(6, null, H, null); case "thead": case "tbody": case "tfoot": return Wt(7, null, H, null); case "colgroup": return Wt(9, null, H, null); case "tr": return Wt(8, null, H, null); case "head": if (2 > w.insertionMode) return Wt(3, null, H, null); break; case "html": if (w.insertionMode === 0) return Wt(1, null, H, null) }return 6 <= w.insertionMode || 2 > w.insertionMode ? Wt(2, null, H, null) : w.tagScope !== H ? Wt(w.insertionMode, w.selectedValue, H, null) : w } function Zt(w) { return w === null ? null : { update: w.update, enter: "none", exit: "none", share: w.update, name: w.autoName, autoName: w.autoName, nameIdx: 0 } } function ar(w, B) { return B.tagScope & 32 && (w.instructions |= 128), Wt(B.insertionMode, B.selectedValue, B.tagScope | 12, Zt(B.viewTransition)) } function Xs(w, B) { w = Zt(B.viewTransition); var T = B.tagScope | 16; return w !== null && w.share !== "none" && (T |= 64), Wt(B.insertionMode, B.selectedValue, T, w) } var $r = j("<!-- -->"); function So(w, B, T, H) { return B === "" ? H : (H && w.push($r), w.push(Ce(at(B))), !0) } var Qa = new Map, pn = j(' style="'), rl = j(":"), ma = j(";"); function Cs(w, B) { if (typeof B != "object") throw Error(t(62)); var T = !0, H; for (H in B) if (oe.call(B, H)) { var Y = B[H]; if (Y != null && typeof Y != "boolean" && Y !== "") { if (H.indexOf("--") === 0) { var ue = Ce(at(H)); Y = Ce(at(("" + Y).trim())) } else ue = Qa.get(H), ue === void 0 && (ue = j(at(H.replace($, "-$1").toLowerCase().replace(Ae, "-ms-"))), Qa.set(H, ue)), Y = typeof Y == "number" ? Y === 0 || Ye.has(H) ? Ce("" + Y) : Ce(Y + "px") : Ce(at(("" + Y).trim())); T ? (T = !1, w.push(pn, ue, rl, Y)) : w.push(ma, ue, rl, Y) } } T || w.push(Kn) } var Mr = j(" "), Ar = j('="'), Kn = j('"'), Li = j('=""'); function Vi(w, B, T) { T && typeof T != "function" && typeof T != "symbol" && w.push(Mr, Ce(B), Li) } function rr(w, B, T) { typeof T != "function" && typeof T != "symbol" && typeof T != "boolean" && w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn) } var Kr = j(at("javascript:throw new Error('React form unexpectedly submitted.')")), fi = j('<input type="hidden"'); function cs(w, B) { this.push(fi), va(w), rr(this, "name", B), rr(this, "value", w), this.push($a) } function va(w) { if (typeof w != "string") throw Error(t(480)) } function Is(w, B) { if (typeof B.$$FORM_ACTION == "function") { var T = w.nextFormID++; w = w.idPrefix + T; try { var H = B.$$FORM_ACTION(w); if (H) { var Y = H.data; Y?.forEach(va) } return H } catch (ue) { if (typeof ue == "object" && ue !== null && typeof ue.then == "function") throw ue } } return null } function Vl(w, B, T, H, Y, ue, xe, He) { var Oe = null; if (typeof H == "function") { var je = Is(B, H); je !== null ? (He = je.name, H = je.action || "", Y = je.encType, ue = je.method, xe = je.target, Oe = je.data) : (w.push(Mr, Ce("formAction"), Ar, Kr, Kn), xe = ue = Y = H = He = null, Si(B, T)) } return He != null && $n(w, "name", He), H != null && $n(w, "formAction", H), Y != null && $n(w, "formEncType", Y), ue != null && $n(w, "formMethod", ue), xe != null && $n(w, "formTarget", xe), Oe } function $n(w, B, T) { switch (B) { case "className": rr(w, "class", T); break; case "tabIndex": rr(w, "tabindex", T); break; case "dir": case "role": case "viewBox": case "width": case "height": rr(w, B, T); break; case "style": Cs(w, T); break; case "src": case "href": if (T === "") break; case "action": case "formAction": if (T == null || typeof T == "function" || typeof T == "symbol" || typeof T == "boolean") break; T = _e("" + T), w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn); break; case "defaultValue": case "defaultChecked": case "innerHTML": case "suppressContentEditableWarning": case "suppressHydrationWarning": case "ref": break; case "autoFocus": case "multiple": case "muted": Vi(w, B.toLowerCase(), T); break; case "xlinkHref": if (typeof T == "function" || typeof T == "symbol" || typeof T == "boolean") break; T = _e("" + T), w.push(Mr, Ce("xlink:href"), Ar, Ce(at(T)), Kn); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": typeof T != "function" && typeof T != "symbol" && w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": T && typeof T != "function" && typeof T != "symbol" && w.push(Mr, Ce(B), Li); break; case "capture": case "download": T === !0 ? w.push(Mr, Ce(B), Li) : T !== !1 && typeof T != "function" && typeof T != "symbol" && w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn); break; case "cols": case "rows": case "size": case "span": typeof T != "function" && typeof T != "symbol" && !isNaN(T) && 1 <= T && w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn); break; case "rowSpan": case "start": typeof T == "function" || typeof T == "symbol" || isNaN(T) || w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn); break; case "xlinkActuate": rr(w, "xlink:actuate", T); break; case "xlinkArcrole": rr(w, "xlink:arcrole", T); break; case "xlinkRole": rr(w, "xlink:role", T); break; case "xlinkShow": rr(w, "xlink:show", T); break; case "xlinkTitle": rr(w, "xlink:title", T); break; case "xlinkType": rr(w, "xlink:type", T); break; case "xmlBase": rr(w, "xml:base", T); break; case "xmlLang": rr(w, "xml:lang", T); break; case "xmlSpace": rr(w, "xml:space", T); break; default: if ((!(2 < B.length) || B[0] !== "o" && B[0] !== "O" || B[1] !== "n" && B[1] !== "N") && (B = $e.get(B) || B, Ie(B))) { switch (typeof T) { case "function": case "symbol": return; case "boolean": var H = B.toLowerCase().slice(0, 5); if (H !== "data-" && H !== "aria-") return }w.push(Mr, Ce(B), Ar, Ce(at(T)), Kn) } } } var cr = j(">"), $a = j("/>"); function mi(w, B, T) { if (B != null) { if (T != null) throw Error(t(60)); if (typeof B != "object" || !("__html" in B)) throw Error(t(61)); B = B.__html, B != null && w.push(Ce("" + B)) } } function _o(w) { var B = ""; return n.Children.forEach(w, function (T) { T != null && (B += T) }), B } var _l = j(' selected=""'), No = j(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`); function Si(w, B) { if ((w.instructions & 16) === 0) { w.instructions |= 16; var T = B.preamble, H = B.bootstrapChunks; (T.htmlChunks || T.headChunks) && H.length === 0 ? (H.push(B.startInlineScript), $s(H, w), H.push(cr, No, st)) : H.unshift(B.startInlineScript, cr, No, st) } } var xc = j("<!--F!-->"), Es = j("<!--F-->"); function Qr(w, B) { w.push(pr("link")); for (var T in B) if (oe.call(B, T)) { var H = B[T]; if (H != null) switch (T) { case "children": case "dangerouslySetInnerHTML": throw Error(t(399, "link")); default: $n(w, T, H) } } return w.push($a), null } var eo = /(<\/|<)(s)(tyle)/gi; function Gl(w, B, T, H) { return "" + B + (T === "s" ? "\\73 " : "\\53 ") + H } function to(w, B, T) { w.push(pr(T)); for (var H in B) if (oe.call(B, H)) { var Y = B[H]; if (Y != null) switch (H) { case "children": case "dangerouslySetInnerHTML": throw Error(t(399, T)); default: $n(w, H, Y) } } return w.push($a), null } function Wl(w, B) { w.push(pr("title")); var T = null, H = null, Y; for (Y in B) if (oe.call(B, Y)) { var ue = B[Y]; if (ue != null) switch (Y) { case "children": T = ue; break; case "dangerouslySetInnerHTML": H = ue; break; default: $n(w, Y, ue) } } return w.push(cr), B = Array.isArray(T) ? 2 > T.length ? T[0] : null : T, typeof B != "function" && typeof B != "symbol" && B !== null && B !== void 0 && w.push(Ce(at("" + B))), mi(w, H, T), w.push(ko("title")), null } var su = j("<!--head-->"), Da = j("<!--body-->"), ya = j("<!--html-->"); function wa(w, B) { w.push(pr("script")); var T = null, H = null, Y; for (Y in B) if (oe.call(B, Y)) { var ue = B[Y]; if (ue != null) switch (Y) { case "children": T = ue; break; case "dangerouslySetInnerHTML": H = ue; break; default: $n(w, Y, ue) } } return w.push(cr), mi(w, H, T), typeof T == "string" && w.push(Ce(("" + T).replace(en, nn))), w.push(ko("script")), null } function hr(w, B, T) { w.push(pr(T)); var H = T = null, Y; for (Y in B) if (oe.call(B, Y)) { var ue = B[Y]; if (ue != null) switch (Y) { case "children": T = ue; break; case "dangerouslySetInnerHTML": H = ue; break; default: $n(w, Y, ue) } } return w.push(cr), mi(w, H, T), T } function no(w, B, T) { w.push(pr(T)); var H = T = null, Y; for (Y in B) if (oe.call(B, Y)) { var ue = B[Y]; if (ue != null) switch (Y) { case "children": T = ue; break; case "dangerouslySetInnerHTML": H = ue; break; default: $n(w, Y, ue) } } return w.push(cr), mi(w, H, T), typeof T == "string" ? (w.push(Ce(at(T))), null) : T } var ro = j(`
`), Yl = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/, Nl = new Map; function pr(w) { var B = Nl.get(w); if (B === void 0) { if (!Yl.test(w)) throw Error(t(65, w)); B = j("<" + w), Nl.set(w, B) } return B } var si = j("<!DOCTYPE html>"); function vi(w, B, T, H, Y, ue, xe, He, Oe) {
    switch (B) {
      case "div": case "span": case "svg": case "path": break; case "a": w.push(pr("a")); var je = null, We = null, nt; for (nt in T) if (oe.call(T, nt)) { var _t = T[nt]; if (_t != null) switch (nt) { case "children": je = _t; break; case "dangerouslySetInnerHTML": We = _t; break; case "href": _t === "" ? rr(w, "href", "") : $n(w, nt, _t); break; default: $n(w, nt, _t) } } if (w.push(cr), mi(w, We, je), typeof je == "string") { w.push(Ce(at(je))); var St = null } else St = je; return St; case "g": case "p": case "li": break; case "select": w.push(pr("select")); var zt = null, gn = null, un; for (un in T) if (oe.call(T, un)) { var It = T[un]; if (It != null) switch (un) { case "children": zt = It; break; case "dangerouslySetInnerHTML": gn = It; break; case "defaultValue": case "value": break; default: $n(w, un, It) } } return w.push(cr), mi(w, gn, zt), zt; case "option": var Rt = He.selectedValue; w.push(pr("option")); var Fn = null, qr = null, bi = null, sn = null, ur; for (ur in T) if (oe.call(T, ur)) { var jr = T[ur]; if (jr != null) switch (ur) { case "children": Fn = jr; break; case "selected": bi = jr; break; case "dangerouslySetInnerHTML": sn = jr; break; case "value": qr = jr; default: $n(w, ur, jr) } } if (Rt != null) { var Fi = qr !== null ? "" + qr : _o(Fn); if (X(Rt)) { for (var mo = 0; mo < Rt.length; mo++)if ("" + Rt[mo] === Fi) { w.push(_l); break } } else "" + Rt === Fi && w.push(_l) } else bi && w.push(_l); return w.push(cr), mi(w, sn, Fn), Fn; case "textarea": w.push(pr("textarea")); var In = null, fl = null, vo = null, $i; for ($i in T) if (oe.call(T, $i)) { var es = T[$i]; if (es != null) switch ($i) { case "children": vo = es; break; case "value": In = es; break; case "defaultValue": fl = es; break; case "dangerouslySetInnerHTML": throw Error(t(91)); default: $n(w, $i, es) } } if (In === null && fl !== null && (In = fl), w.push(cr), vo != null) { if (In != null) throw Error(t(92)); if (X(vo)) { if (1 < vo.length) throw Error(t(93)); In = "" + vo[0] } In = "" + vo } return typeof In == "string" && In[0] === `
`&& w.push(ro), In !== null && w.push(Ce(at("" + In))), null; case "input": w.push(pr("input")); var Fc = null, EA = null, Rl = null, rA = null, ts = null, zr = null, dl = null, iA = null, XA = null, Il; for (Il in T) if (oe.call(T, Il)) { var ms = T[Il]; if (ms != null) switch (Il) { case "children": case "dangerouslySetInnerHTML": throw Error(t(399, "input")); case "name": Fc = ms; break; case "formAction": EA = ms; break; case "formEncType": Rl = ms; break; case "formMethod": rA = ms; break; case "formTarget": ts = ms; break; case "defaultChecked": XA = ms; break; case "defaultValue": dl = ms; break; case "checked": iA = ms; break; case "value": zr = ms; break; default: $n(w, Il, ms) } } var Mu = Vl(w, H, Y, EA, Rl, rA, ts, Fc); return iA !== null ? Vi(w, "checked", iA) : XA !== null && Vi(w, "checked", XA), zr !== null ? $n(w, "value", zr) : dl !== null && $n(w, "value", dl), w.push($a), Mu?.forEach(cs, w), null; case "button": w.push(pr("button")); var sA = null, Qu = null, Du = null, aA = null, Bf = null, Cf = null, Jd = null, Uc; for (Uc in T) if (oe.call(T, Uc)) { var Ea = T[Uc]; if (Ea != null) switch (Uc) { case "children": sA = Ea; break; case "dangerouslySetInnerHTML": Qu = Ea; break; case "name": Du = Ea; break; case "formAction": aA = Ea; break; case "formEncType": Bf = Ea; break; case "formMethod": Cf = Ea; break; case "formTarget": Jd = Ea; break; default: $n(w, Uc, Ea) } } var Xd = Vl(w, H, Y, aA, Bf, Cf, Jd, Du); if (w.push(cr), Xd?.forEach(cs, w), mi(w, Qu, sA), typeof sA == "string") { w.push(Ce(at(sA))); var Zd = null } else Zd = sA; return Zd; case "form": w.push(pr("form")); var cu = null, Ef = null, ZA = null, Ll = null, qA = null, SA = null, yo; for (yo in T) if (oe.call(T, yo)) { var Sa = T[yo]; if (Sa != null) switch (yo) { case "children": cu = Sa; break; case "dangerouslySetInnerHTML": Ef = Sa; break; case "action": ZA = Sa; break; case "encType": Ll = Sa; break; case "method": qA = Sa; break; case "target": SA = Sa; break; default: $n(w, yo, Sa) } } var Ml = null, uu = null; if (typeof ZA == "function") { var oA = Is(H, ZA); oA !== null ? (ZA = oA.action || "", Ll = oA.encType, qA = oA.method, SA = oA.target, Ml = oA.data, uu = oA.name) : (w.push(Mr, Ce("action"), Ar, Kr, Kn), SA = qA = Ll = ZA = null, Si(H, Y)) } if (ZA != null && $n(w, "action", ZA), Ll != null && $n(w, "encType", Ll), qA != null && $n(w, "method", qA), SA != null && $n(w, "target", SA), w.push(cr), uu !== null && (w.push(fi), rr(w, "name", uu), w.push($a), Ml?.forEach(cs, w)), mi(w, Ef, cu), typeof cu == "string") { w.push(Ce(at(cu))); var $A = null } else $A = cu; return $A; case "menuitem": w.push(pr("menuitem")); for (var Pu in T) if (oe.call(T, Pu)) { var Oc = T[Pu]; if (Oc != null) switch (Pu) { case "children": case "dangerouslySetInnerHTML": throw Error(t(400)); default: $n(w, Pu, Oc) } } return w.push(cr), null; case "object": w.push(pr("object")); var lA = null, $g = null, Hu; for (Hu in T) if (oe.call(T, Hu)) { var qd = T[Hu]; if (qd != null) switch (Hu) { case "children": lA = qd; break; case "dangerouslySetInnerHTML": $g = qd; break; case "data": var em = _e("" + qd); if (em === "") break; w.push(Mr, Ce("data"), Ar, Ce(at(em)), Kn); break; default: $n(w, Hu, qd) } } if (w.push(cr), mi(w, $g, lA), typeof lA == "string") { w.push(Ce(at(lA))); var tm = null } else tm = lA; return tm; case "title": var gv = He.tagScope & 1, mv = He.tagScope & 4; if (He.insertionMode === 4 || gv || T.itemProp != null) var hp = Wl(w, T); else mv ? hp = null : (Wl(Y.hoistableChunks, T), hp = void 0); return hp; case "link": var nm = He.tagScope & 1, vv = He.tagScope & 4, yv = T.rel, ec = T.href, $d = T.precedence; if (He.insertionMode === 4 || nm || T.itemProp != null || typeof yv != "string" || typeof ec != "string" || ec === "") { Qr(w, T); var Sf = null } else if (T.rel === "stylesheet") if (typeof $d != "string" || T.disabled != null || T.onLoad || T.onError) Sf = Qr(w, T); else { var _f = Y.styles.get($d), Nf = H.styleResources.hasOwnProperty(ec) ? H.styleResources[ec] : void 0; if (Nf !== null) { H.styleResources[ec] = null, _f || (_f = { precedence: Ce(at($d)), rules: [], hrefs: [], sheets: new Map }, Y.styles.set($d, _f)); var eh = { state: 0, props: ie({}, T, { "data-precedence": T.precedence, precedence: null }) }; if (Nf) { Nf.length === 2 && Hs(eh.props, Nf); var pp = Y.preloads.stylesheets.get(ec); pp && 0 < pp.length ? pp.length = 0 : eh.state = 1 } _f.sheets.set(ec, eh), xe && xe.stylesheets.add(eh) } else if (_f) { var gp = _f.sheets.get(ec); gp && xe && xe.stylesheets.add(gp) } Oe && w.push($r), Sf = null } else T.onLoad || T.onError ? Sf = Qr(w, T) : (Oe && w.push($r), Sf = vv ? null : Qr(Y.hoistableChunks, T)); return Sf; case "script": var wv = He.tagScope & 1, mp = T.async; if (typeof T.src != "string" || !T.src || !mp || typeof mp == "function" || typeof mp == "symbol" || T.onLoad || T.onError || He.insertionMode === 4 || wv || T.itemProp != null) var bv = wa(w, T); else { var vp = T.src; if (T.type === "module") var th = H.moduleScriptResources, kf = Y.preloads.moduleScripts; else th = H.scriptResources, kf = Y.preloads.scripts; var Tf = th.hasOwnProperty(vp) ? th[vp] : void 0; if (Tf !== null) { th[vp] = null; var Ff = T; if (Tf) { Tf.length === 2 && (Ff = ie({}, T), Hs(Ff, Tf)); var rm = kf.get(vp); rm && (rm.length = 0) } var im = []; Y.scripts.add(im), wa(im, Ff) } Oe && w.push($r), bv = null } return bv; case "style": var nh = He.tagScope & 1, rh = T.precedence, fu = T.href, xv = T.nonce; if (He.insertionMode === 4 || nh || T.itemProp != null || typeof rh != "string" || typeof fu != "string" || fu === "") { w.push(pr("style")); var du = null, yp = null, Uf; for (Uf in T) if (oe.call(T, Uf)) { var ih = T[Uf]; if (ih != null) switch (Uf) { case "children": du = ih; break; case "dangerouslySetInnerHTML": yp = ih; break; default: $n(w, Uf, ih) } } w.push(cr); var _A = Array.isArray(du) ? 2 > du.length ? du[0] : null : du; typeof _A != "function" && typeof _A != "symbol" && _A !== null && _A !== void 0 && w.push(Ce(("" + _A).replace(eo, Gl))), mi(w, yp, du), w.push(ko("style")); var sm = null } else { var hu = Y.styles.get(rh); if ((H.styleResources.hasOwnProperty(fu) ? H.styleResources[fu] : void 0) !== null) { H.styleResources[fu] = null, hu || (hu = { precedence: Ce(at(rh)), rules: [], hrefs: [], sheets: new Map }, Y.styles.set(rh, hu)); var am = Y.nonce.style; if (!am || am === xv) { hu.hrefs.push(Ce(at(fu))); var sh = hu.rules, ju = null, wp = null, ah; for (ah in T) if (oe.call(T, ah)) { var bp = T[ah]; if (bp != null) switch (ah) { case "children": ju = bp; break; case "dangerouslySetInnerHTML": wp = bp } } var oh = Array.isArray(ju) ? 2 > ju.length ? ju[0] : null : ju; typeof oh != "function" && typeof oh != "symbol" && oh !== null && oh !== void 0 && sh.push(Ce(("" + oh).replace(eo, Gl))), mi(sh, wp, ju) } } hu && xe && xe.styles.add(hu), Oe && w.push($r), sm = void 0 } return sm; case "meta": var om = He.tagScope & 1, Vs = He.tagScope & 4; if (He.insertionMode === 4 || om || T.itemProp != null) var _a = to(w, T, "meta"); else Oe && w.push($r), _a = Vs ? null : typeof T.charSet == "string" ? to(Y.charsetChunks, T, "meta") : T.name === "viewport" ? to(Y.viewportChunks, T, "meta") : to(Y.hoistableChunks, T, "meta"); return _a; case "listing": case "pre": w.push(pr(B)); var Of = null, Rf = null, If; for (If in T) if (oe.call(T, If)) { var lh = T[If]; if (lh != null) switch (If) { case "children": Of = lh; break; case "dangerouslySetInnerHTML": Rf = lh; break; default: $n(w, If, lh) } } if (w.push(cr), Rf != null) {
        if (Of != null) throw Error(t(60)); if (typeof Rf != "object" || !("__html" in Rf)) throw Error(t(61)); var NA = Rf.__html; NA != null && (typeof NA == "string" && 0 < NA.length && NA[0] === `
`? w.push(ro, Ce(NA)) : w.push(Ce("" + NA)))
      } return typeof Of == "string" && Of[0] === `
`&& w.push(ro), Of; case "img": var Bv = He.tagScope & 3, Aa = T.src, Na = T.srcSet; if (!(T.loading === "lazy" || !Aa && !Na || typeof Aa != "string" && Aa != null || typeof Na != "string" && Na != null || T.fetchPriority === "low" || Bv) && (typeof Aa != "string" || Aa[4] !== ":" || Aa[0] !== "d" && Aa[0] !== "D" || Aa[1] !== "a" && Aa[1] !== "A" || Aa[2] !== "t" && Aa[2] !== "T" || Aa[3] !== "a" && Aa[3] !== "A") && (typeof Na != "string" || Na[4] !== ":" || Na[0] !== "d" && Na[0] !== "D" || Na[1] !== "a" && Na[1] !== "A" || Na[2] !== "t" && Na[2] !== "T" || Na[3] !== "a" && Na[3] !== "A")) {
        xe !== null && He.tagScope & 64 && (xe.suspenseyImages = !0); var Cv = typeof T.sizes == "string" ? T.sizes : void 0, Rc = Na ? Na + `
`+ (Cv || "") : Aa, Ah = Y.preloads.images, pu = Ah.get(Rc); if (pu) (T.fetchPriority === "high" || 10 > Y.highImagePreloads.size) && (Ah.delete(Rc), Y.highImagePreloads.add(pu)); else if (!H.imageResources.hasOwnProperty(Rc)) { H.imageResources[Rc] = Qe; var xp = T.crossOrigin, lm = typeof xp == "string" ? xp === "use-credentials" ? xp : "" : void 0, Ic = Y.headers, ch; Ic && 0 < Ic.remainingCapacity && typeof T.srcSet != "string" && (T.fetchPriority === "high" || 500 > Ic.highImagePreloads.length) && (ch = Di(Aa, "image", { imageSrcSet: T.srcSet, imageSizes: T.sizes, crossOrigin: lm, integrity: T.integrity, nonce: T.nonce, type: T.type, fetchPriority: T.fetchPriority, referrerPolicy: T.refererPolicy }), 0 <= (Ic.remainingCapacity -= ch.length + 2)) ? (Y.resets.image[Rc] = Qe, Ic.highImagePreloads && (Ic.highImagePreloads += ", "), Ic.highImagePreloads += ch) : (pu = [], Qr(pu, { rel: "preload", as: "image", href: Na ? void 0 : Aa, imageSrcSet: Na, imageSizes: Cv, crossOrigin: lm, integrity: T.integrity, type: T.type, fetchPriority: T.fetchPriority, referrerPolicy: T.referrerPolicy }), T.fetchPriority === "high" || 10 > Y.highImagePreloads.size ? Y.highImagePreloads.add(pu) : (Y.bulkPreloads.add(pu), Ah.set(Rc, pu))) }
      } return to(w, T, "img"); case "base": case "area": case "br": case "col": case "embed": case "hr": case "keygen": case "param": case "source": case "track": case "wbr": return to(w, T, B); case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": break; case "head": if (2 > He.insertionMode) { var uh = ue || Y.preamble; if (uh.headChunks) throw Error(t(545, "`<head>`")); ue !== null && w.push(su), uh.headChunks = []; var Am = hr(uh.headChunks, T, "head") } else Am = no(w, T, "head"); return Am; case "body": if (2 > He.insertionMode) { var fh = ue || Y.preamble; if (fh.bodyChunks) throw Error(t(545, "`<body>`")); ue !== null && w.push(Da), fh.bodyChunks = []; var dh = hr(fh.bodyChunks, T, "body") } else dh = no(w, T, "body"); return dh; case "html": if (He.insertionMode === 0) { var hh = ue || Y.preamble; if (hh.htmlChunks) throw Error(t(545, "`<html>`")); ue !== null && w.push(ya), hh.htmlChunks = [si]; var cm = hr(hh.htmlChunks, T, "html") } else cm = no(w, T, "html"); return cm; default: if (B.indexOf("-") !== -1) { w.push(pr(B)); var ph = null, um = null, hl; for (hl in T) if (oe.call(T, hl)) { var Ql = T[hl]; if (Ql != null) { var Ev = hl; switch (hl) { case "children": ph = Ql; break; case "dangerouslySetInnerHTML": um = Ql; break; case "style": Cs(w, Ql); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "ref": break; case "className": Ev = "class"; default: if (Ie(hl) && typeof Ql != "function" && typeof Ql != "symbol" && Ql !== !1) { if (Ql === !0) Ql = ""; else if (typeof Ql == "object") continue; w.push(Mr, Ce(Ev), Ar, Ce(at(Ql)), Kn) } } } } return w.push(cr), mi(w, um, ph), ph }
    }return no(w, T, B)
  } var Jl = new Map; function ko(w) { var B = Jl.get(w); return B === void 0 && (B = j("</" + w + ">"), Jl.set(w, B)), B } function yA(w, B) { w = w.preamble, w.htmlChunks === null && B.htmlChunks && (w.htmlChunks = B.htmlChunks), w.headChunks === null && B.headChunks && (w.headChunks = B.headChunks), w.bodyChunks === null && B.bodyChunks && (w.bodyChunks = B.bodyChunks) } function Ss(w, B) { B = B.bootstrapChunks; for (var T = 0; T < B.length - 1; T++)Z(w, B[T]); return T < B.length ? (T = B[T], B.length = 0, ae(w, T)) : !0 } var io = j("requestAnimationFrame(function(){$RT=performance.now()});"), WA = j('<template id="'), To = j('"></template>'), Pa = j("<!--&-->"), wA = j("<!--/&-->"), au = j("<!--$-->"), Bc = j('<!--$?--><template id="'), Cc = j('"></template>'), us = j("<!--$!-->"), ei = j("<!--/$-->"), Fo = j("<template"), so = j('"'), il = j(' data-dgst="'); j(' data-msg="'), j(' data-stck="'), j(' data-cstck="'); var Xl = j("></template>"); function xn(w, B, T) { if (Z(w, Bc), T === null) throw Error(t(395)); return Z(w, B.boundaryPrefix), Z(w, Ce(T.toString(16))), ae(w, Cc) } var ao = j('<div hidden id="'), bA = j('">'), YA = j("</div>"), Zs = j('<svg aria-hidden="true" style="display:none" id="'), Gi = j('">'), Ur = j("</svg>"), Uo = j('<math aria-hidden="true" style="display:none" id="'), Ls = j('">'), Oo = j("</math>"), ba = j('<table hidden id="'), Zl = j('">'), qs = j("</table>"), Ro = j('<table hidden><tbody id="'), Ha = j('">'), Mi = j("</tbody></table>"), fs = j('<table hidden><tr id="'), ja = j('">'), Io = j("</tr></table>"), Lo = j('<table hidden><colgroup id="'), Mo = j('">'), sl = j("</colgroup></table>"); function al(w, B, T, H) { switch (T.insertionMode) { case 0: case 1: case 3: case 2: return Z(w, ao), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, bA); case 4: return Z(w, Zs), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, Gi); case 5: return Z(w, Uo), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, Ls); case 6: return Z(w, ba), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, Zl); case 7: return Z(w, Ro), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, Ha); case 8: return Z(w, fs), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, ja); case 9: return Z(w, Lo), Z(w, B.segmentPrefix), Z(w, Ce(H.toString(16))), ae(w, Mo); default: throw Error(t(397)) } } function ql(w, B) { switch (B.insertionMode) { case 0: case 1: case 3: case 2: return ae(w, YA); case 4: return ae(w, Ur); case 5: return ae(w, Oo); case 6: return ae(w, qs); case 7: return ae(w, Mi); case 8: return ae(w, Io); case 9: return ae(w, sl); default: throw Error(t(397)) } } var Ec = j('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'), kl = j('$RS("'), Tl = j('","'), ou = j('")<\/script>'); j('<template data-rsi="" data-sid="'), j('" data-pid="'); var Qo = j(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`); Ce(`$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),
H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll('img[src]:not([loading="lazy"])'))}}}if(B){var z=
document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=
performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);`); var Sc = j('$RC("'), Q = j(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`), le = j('$RR("'), Fe = j('","'), De = j('",'), Ge = j('"'), gt = j(")<\/script>"); j('<template data-rci="" data-bid="'), j('<template data-rri="" data-bid="'), j('" data-sid="'), j('" data-sty="'); var xt = j('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'), Gt = j('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'), tn = j('$RX("'), Sn = j('"'), On = j(","), vr = j(")<\/script>"); j('<template data-rxi="" data-bid="'), j('" data-dgst="'), j('" data-msg="'), j('" data-stck="'), j('" data-cstck="'); var yi = /[<\u2028\u2029]/g; function Qi(w) { return JSON.stringify(w).replace(yi, function (B) { switch (B) { case "<": return "\\u003c"; case "\u2028": return "\\u2028"; case "\u2029": return "\\u2029"; default: throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React") } }) } var Vn = /[&><\u2028\u2029]/g; function di(w) { return JSON.stringify(w).replace(Vn, function (B) { switch (B) { case "&": return "\\u0026"; case ">": return "\\u003e"; case "<": return "\\u003c"; case "\u2028": return "\\u2028"; case "\u2029": return "\\u2029"; default: throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React") } }) } var _i = j(' media="not all" data-precedence="'), Wi = j('" data-href="'), ol = j('">'), _s = j("</style>"), Ms = !1, Fl = !0; function za(w) { var B = w.rules, T = w.hrefs, H = 0; if (T.length) { for (Z(this, lt.startInlineStyle), Z(this, _i), Z(this, w.precedence), Z(this, Wi); H < T.length - 1; H++)Z(this, T[H]), Z(this, $l); for (Z(this, T[H]), Z(this, ol), H = 0; H < B.length; H++)Z(this, B[H]); Fl = ae(this, _s), Ms = !0, B.length = 0, T.length = 0 } } function ai(w) { return w.state !== 2 ? Ms = !0 : !1 } function Qs(w, B, T) { return Ms = !1, Fl = !0, lt = T, B.styles.forEach(za, w), lt = null, B.stylesheets.forEach(ai), Ms && (T.stylesToHoist = !0), Fl } function Er(w) { for (var B = 0; B < w.length; B++)Z(this, w[B]); w.length = 0 } var ds = []; function Yi(w) { Qr(ds, w.props); for (var B = 0; B < ds.length; B++)Z(this, ds[B]); ds.length = 0, w.state = 2 } var oo = j(' data-precedence="'), Ul = j('" data-href="'), $l = j(" "), Do = j('">'), hs = j("</style>"); function lo(w) { var B = 0 < w.sheets.size; w.sheets.forEach(Yi, this), w.sheets.clear(); var T = w.rules, H = w.hrefs; if (!B || H.length) { if (Z(this, lt.startInlineStyle), Z(this, oo), Z(this, w.precedence), w = 0, H.length) { for (Z(this, Ul); w < H.length - 1; w++)Z(this, H[w]), Z(this, $l); Z(this, H[w]) } for (Z(this, Do), w = 0; w < T.length; w++)Z(this, T[w]); Z(this, hs), T.length = 0, H.length = 0 } } function Ns(w) { if (w.state === 0) { w.state = 1; var B = w.props; for (Qr(ds, { rel: "preload", as: "style", href: w.props.href, crossOrigin: B.crossOrigin, fetchPriority: B.fetchPriority, integrity: B.integrity, media: B.media, hrefLang: B.hrefLang, referrerPolicy: B.referrerPolicy }), w = 0; w < ds.length; w++)Z(this, ds[w]); ds.length = 0 } } function xA(w) { w.sheets.forEach(Ns, this), w.sheets.clear() } j('<link rel="expect" href="#'), j('" blocking="render"/>'); var Ds = j(' id="'); function $s(w, B) { (B.instructions & 32) === 0 && (B.instructions |= 32, w.push(Ds, Ce(at("_" + B.idPrefix + "R_")), Kn)) } var Ao = j("["), eA = j(",["), xa = j(","), Po = j("]"); function Nr(w, B) { Z(w, Ao); var T = Ao; B.stylesheets.forEach(function (H) { if (H.state !== 2) if (H.state === 3) Z(w, T), Z(w, Ce(di("" + H.props.href))), Z(w, Po), T = eA; else { Z(w, T); var Y = H.props["data-precedence"], ue = H.props, xe = _e("" + H.props.href); Z(w, Ce(di(xe))), Y = "" + Y, Z(w, xa), Z(w, Ce(di(Y))); for (var He in ue) if (oe.call(ue, He) && (Y = ue[He], Y != null)) switch (He) { case "href": case "rel": case "precedence": case "data-precedence": break; case "children": case "dangerouslySetInnerHTML": throw Error(t(399, "link")); default: ea(w, He, Y) }Z(w, Po), T = eA, H.state = 3 } }), Z(w, Po) } function ea(w, B, T) { var H = B.toLowerCase(); switch (typeof T) { case "function": case "symbol": return }switch (B) { case "innerHTML": case "dangerouslySetInnerHTML": case "suppressContentEditableWarning": case "suppressHydrationWarning": case "style": case "ref": return; case "className": H = "class", B = "" + T; break; case "hidden": if (T === !1) return; B = ""; break; case "src": case "href": T = _e(T), B = "" + T; break; default: if (2 < B.length && (B[0] === "o" || B[0] === "O") && (B[1] === "n" || B[1] === "N") || !Ie(B)) return; B = "" + T }Z(w, xa), Z(w, Ce(di(H))), Z(w, xa), Z(w, Ce(di(B))) } function Ps() { return { styles: new Set, stylesheets: new Set, suspenseyImages: !1 } } function co(w) { var B = Wr || null; if (B) { var T = B.resumableState, H = B.renderState; if (typeof w == "string" && w) { if (!T.dnsResources.hasOwnProperty(w)) { T.dnsResources[w] = null, T = H.headers; var Y, ue; (ue = T && 0 < T.remainingCapacity) && (ue = (Y = "<" + ("" + w).replace(ta, Ko) + ">; rel=dns-prefetch", 0 <= (T.remainingCapacity -= Y.length + 2))), ue ? (H.resets.dns[w] = null, T.preconnects && (T.preconnects += ", "), T.preconnects += Y) : (Y = [], Qr(Y, { href: w, rel: "dns-prefetch" }), H.preconnects.add(Y)) } _n(B) } } else Je.D(w) } function Ho(w, B) { var T = Wr || null; if (T) { var H = T.resumableState, Y = T.renderState; if (typeof w == "string" && w) { var ue = B === "use-credentials" ? "credentials" : typeof B == "string" ? "anonymous" : "default"; if (!H.connectResources[ue].hasOwnProperty(w)) { H.connectResources[ue][w] = null, H = Y.headers; var xe, He; if (He = H && 0 < H.remainingCapacity) { if (He = "<" + ("" + w).replace(ta, Ko) + ">; rel=preconnect", typeof B == "string") { var Oe = ("" + B).replace(uo, na); He += '; crossorigin="' + Oe + '"' } He = (xe = He, 0 <= (H.remainingCapacity -= xe.length + 2)) } He ? (Y.resets.connect[ue][w] = null, H.preconnects && (H.preconnects += ", "), H.preconnects += xe) : (ue = [], Qr(ue, { rel: "preconnect", href: w, crossOrigin: B }), Y.preconnects.add(ue)) } _n(T) } } else Je.C(w, B) } function tA(w, B, T) {
    var H = Wr || null; if (H) {
      var Y = H.resumableState, ue = H.renderState; if (B && w) {
        switch (B) {
          case "image": if (T) var xe = T.imageSrcSet, He = T.imageSizes, Oe = T.fetchPriority; var je = xe ? xe + `
`+ (He || "") : w; if (Y.imageResources.hasOwnProperty(je)) return; Y.imageResources[je] = Qe, Y = ue.headers; var We; Y && 0 < Y.remainingCapacity && typeof xe != "string" && Oe === "high" && (We = Di(w, B, T), 0 <= (Y.remainingCapacity -= We.length + 2)) ? (ue.resets.image[je] = Qe, Y.highImagePreloads && (Y.highImagePreloads += ", "), Y.highImagePreloads += We) : (Y = [], Qr(Y, ie({ rel: "preload", href: xe ? void 0 : w, as: B }, T)), Oe === "high" ? ue.highImagePreloads.add(Y) : (ue.bulkPreloads.add(Y), ue.preloads.images.set(je, Y))); break; case "style": if (Y.styleResources.hasOwnProperty(w)) return; xe = [], Qr(xe, ie({ rel: "preload", href: w, as: B }, T)), Y.styleResources[w] = !T || typeof T.crossOrigin != "string" && typeof T.integrity != "string" ? Qe : [T.crossOrigin, T.integrity], ue.preloads.stylesheets.set(w, xe), ue.bulkPreloads.add(xe); break; case "script": if (Y.scriptResources.hasOwnProperty(w)) return; xe = [], ue.preloads.scripts.set(w, xe), ue.bulkPreloads.add(xe), Qr(xe, ie({ rel: "preload", href: w, as: B }, T)), Y.scriptResources[w] = !T || typeof T.crossOrigin != "string" && typeof T.integrity != "string" ? Qe : [T.crossOrigin, T.integrity]; break; default: if (Y.unknownResources.hasOwnProperty(B)) { if (xe = Y.unknownResources[B], xe.hasOwnProperty(w)) return } else xe = {}, Y.unknownResources[B] = xe; if (xe[w] = Qe, (Y = ue.headers) && 0 < Y.remainingCapacity && B === "font" && (je = Di(w, B, T), 0 <= (Y.remainingCapacity -= je.length + 2))) ue.resets.font[w] = Qe, Y.fontPreloads && (Y.fontPreloads += ", "), Y.fontPreloads += je; else switch (Y = [], w = ie({ rel: "preload", href: w, as: B }, T), Qr(Y, w), B) { case "font": ue.fontPreloads.add(Y); break; default: ue.bulkPreloads.add(Y) }
        }_n(H)
      }
    } else Je.L(w, B, T)
  } function Ol(w, B) { var T = Wr || null; if (T) { var H = T.resumableState, Y = T.renderState; if (w) { var ue = B && typeof B.as == "string" ? B.as : "script"; switch (ue) { case "script": if (H.moduleScriptResources.hasOwnProperty(w)) return; ue = [], H.moduleScriptResources[w] = !B || typeof B.crossOrigin != "string" && typeof B.integrity != "string" ? Qe : [B.crossOrigin, B.integrity], Y.preloads.moduleScripts.set(w, ue); break; default: if (H.moduleUnknownResources.hasOwnProperty(ue)) { var xe = H.unknownResources[ue]; if (xe.hasOwnProperty(w)) return } else xe = {}, H.moduleUnknownResources[ue] = xe; ue = [], xe[w] = Qe }Qr(ue, ie({ rel: "modulepreload", href: w }, B)), Y.bulkPreloads.add(ue), _n(T) } } else Je.m(w, B) } function oi(w, B, T) { var H = Wr || null; if (H) { var Y = H.resumableState, ue = H.renderState; if (w) { B = B || "default"; var xe = ue.styles.get(B), He = Y.styleResources.hasOwnProperty(w) ? Y.styleResources[w] : void 0; He !== null && (Y.styleResources[w] = null, xe || (xe = { precedence: Ce(at(B)), rules: [], hrefs: [], sheets: new Map }, ue.styles.set(B, xe)), B = { state: 0, props: ie({ rel: "stylesheet", href: w, "data-precedence": B }, T) }, He && (He.length === 2 && Hs(B.props, He), (ue = ue.preloads.stylesheets.get(w)) && 0 < ue.length ? ue.length = 0 : B.state = 1), xe.sheets.set(w, B), _n(H)) } } else Je.S(w, B, T) } function jo(w, B) { var T = Wr || null; if (T) { var H = T.resumableState, Y = T.renderState; if (w) { var ue = H.scriptResources.hasOwnProperty(w) ? H.scriptResources[w] : void 0; ue !== null && (H.scriptResources[w] = null, B = ie({ src: w, async: !0 }, B), ue && (ue.length === 2 && Hs(B, ue), w = Y.preloads.scripts.get(w)) && (w.length = 0), w = [], Y.scripts.add(w), wa(w, B), _n(T)) } } else Je.X(w, B) } function zo(w, B) { var T = Wr || null; if (T) { var H = T.resumableState, Y = T.renderState; if (w) { var ue = H.moduleScriptResources.hasOwnProperty(w) ? H.moduleScriptResources[w] : void 0; ue !== null && (H.moduleScriptResources[w] = null, B = ie({ src: w, type: "module", async: !0 }, B), ue && (ue.length === 2 && Hs(B, ue), w = Y.preloads.moduleScripts.get(w)) && (w.length = 0), w = [], Y.scripts.add(w), wa(w, B), _n(T)) } } else Je.M(w, B) } function Hs(w, B) { w.crossOrigin == null && (w.crossOrigin = B[0]), w.integrity == null && (w.integrity = B[1]) } function Di(w, B, T) { w = ("" + w).replace(ta, Ko), B = ("" + B).replace(uo, na), B = "<" + w + '>; rel=preload; as="' + B + '"'; for (var H in T) oe.call(T, H) && (w = T[H], typeof w == "string" && (B += "; " + H.toLowerCase() + '="' + ("" + w).replace(uo, na) + '"')); return B } var ta = /[<>\r\n]/g; function Ko(w) {
    switch (w) {
      case "<": return "%3C"; case ">": return "%3E"; case `
`: return "%0A"; case "\r": return "%0D"; default: throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")
    }
  } var uo = /["';,\r\n]/g; function na(w) {
    switch (w) {
      case '"': return "%22"; case "'": return "%27"; case ";": return "%3B"; case ",": return "%2C"; case `
`: return "%0A"; case "\r": return "%0D"; default: throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")
    }
  } function Vo(w) { this.styles.add(w) } function Go(w) { this.stylesheets.add(w) } function Ka(w, B) { B.styles.forEach(Vo, w), B.stylesheets.forEach(Go, w), B.suspenseyImages && (w.suspenseyImages = !0) } function ks(w) { return 0 < w.stylesheets.size || w.suspenseyImages } var fo = Function.prototype.bind, Ni = Symbol.for("react.client.reference"); function ra(w) { if (w == null) return null; if (typeof w == "function") return w.$$typeof === Ni ? null : w.displayName || w.name || null; if (typeof w == "string") return w; switch (w) { case s: return "Fragment"; case o: return "Profiler"; case a: return "StrictMode"; case h: return "Suspense"; case m: return "SuspenseList"; case E: return "Activity" }if (typeof w == "object") switch (w.$$typeof) { case i: return "Portal"; case u: return w.displayName || "Context"; case A: return (w._context.displayName || "Context") + ".Consumer"; case f: var B = w.render; return w = w.displayName, w || (w = B.displayName || B.name || "", w = w !== "" ? "ForwardRef(" + w + ")" : "ForwardRef"), w; case p: return B = w.displayName || null, B !== null ? B : ra(w.type) || "Memo"; case b: B = w._payload, w = w._init; try { return ra(w(B)) } catch { } }return null } var Sr = {}, Gn = null; function Dr(w, B) { if (w !== B) { w.context._currentValue = w.parentValue, w = w.parent; var T = B.parent; if (w === null) { if (T !== null) throw Error(t(401)) } else { if (T === null) throw Error(t(401)); Dr(w, T) } B.context._currentValue = B.value } } function wi(w) { w.context._currentValue = w.parentValue, w = w.parent, w !== null && wi(w) } function x(w) { var B = w.parent; B !== null && x(B), w.context._currentValue = w.value } function S(w, B) { if (w.context._currentValue = w.parentValue, w = w.parent, w === null) throw Error(t(402)); w.depth === B.depth ? Dr(w, B) : S(w, B) } function R(w, B) { var T = B.parent; if (T === null) throw Error(t(402)); w.depth === T.depth ? Dr(w, T) : R(w, T), B.context._currentValue = B.value } function K(w) { var B = Gn; B !== w && (B === null ? x(w) : w === null ? wi(B) : B.depth === w.depth ? Dr(B, w) : B.depth > w.depth ? S(B, w) : R(B, w), Gn = w) } var ee = { enqueueSetState: function (w, B) { w = w._reactInternals, w.queue !== null && w.queue.push(B) }, enqueueReplaceState: function (w, B) { w = w._reactInternals, w.replace = !0, w.queue = [B] }, enqueueForceUpdate: function () { } }, be = { id: 1, overflow: "" }; function Ue(w, B, T) { var H = w.id; w = w.overflow; var Y = 32 - ot(H) - 1; H &= ~(1 << Y), T += 1; var ue = 32 - ot(B) + Y; if (30 < ue) { var xe = Y - Y % 5; return ue = (H & (1 << xe) - 1).toString(32), H >>= xe, Y -= xe, { id: 1 << 32 - ot(B) + Y | T << Y | H, overflow: ue + w } } return { id: 1 << ue | T << Y | H, overflow: w } } var ot = Math.clz32 ? Math.clz32 : wt, ze = Math.log, At = Math.LN2; function wt(w) { return w >>>= 0, w === 0 ? 32 : 31 - (ze(w) / At | 0) | 0 } function ft() { } var Ot = Error(t(460)); function qt(w, B, T) { switch (T = w[T], T === void 0 ? w.push(B) : T !== B && (B.then(ft, ft), B = T), B.status) { case "fulfilled": return B.value; case "rejected": throw B.reason; default: switch (typeof B.status == "string" ? B.then(ft, ft) : (w = B, w.status = "pending", w.then(function (H) { if (B.status === "pending") { var Y = B; Y.status = "fulfilled", Y.value = H } }, function (H) { if (B.status === "pending") { var Y = B; Y.status = "rejected", Y.reason = H } })), B.status) { case "fulfilled": return B.value; case "rejected": throw B.reason }throw Wn = B, Ot } } var Wn = null; function Pn() { if (Wn === null) throw Error(t(459)); var w = Wn; return Wn = null, w } function Mn(w, B) { return w === B && (w !== 0 || 1 / w === 1 / B) || w !== w && B !== B } var Ln = typeof Object.is == "function" ? Object.is : Mn, zn = null, _r = null, Xr = null, Tn = null, Rn = null, ir = null, Pr = !1, or = !1, hi = 0, yr = 0, li = -1, ti = 0, Vr = null, ps = null, ho = 0; function js() { if (zn === null) throw Error(t(321)); return zn } function zs() { if (0 < ho) throw Error(t(312)); return { memoizedState: null, queue: null, next: null } } function Wo() { return ir === null ? Rn === null ? (Pr = !1, Rn = ir = zs()) : (Pr = !0, ir = Rn) : ir.next === null ? (Pr = !1, ir = ir.next = zs()) : (Pr = !0, ir = ir.next), ir } function ki() { var w = Vr; return Vr = null, w } function ia() { Tn = Xr = _r = zn = null, or = !1, Rn = null, ho = 0, ir = ps = null } function sa(w, B) { return typeof B == "function" ? B(w) : B } function Ti(w, B, T) { if (zn = js(), ir = Wo(), Pr) { var H = ir.queue; if (B = H.dispatch, ps !== null && (T = ps.get(H), T !== void 0)) { ps.delete(H), H = ir.memoizedState; do H = w(H, T.action), T = T.next; while (T !== null); return ir.memoizedState = H, [H, B] } return [ir.memoizedState, B] } return w = w === sa ? typeof B == "function" ? B() : B : T !== void 0 ? T(B) : B, ir.memoizedState = w, w = ir.queue = { last: null, dispatch: null }, w = w.dispatch = aa.bind(null, zn, w), [ir.memoizedState, w] } function Ji(w, B) { if (zn = js(), ir = Wo(), B = B === void 0 ? null : B, ir !== null) { var T = ir.memoizedState; if (T !== null && B !== null) { var H = T[1]; e: if (H === null) H = !1; else { for (var Y = 0; Y < H.length && Y < B.length; Y++)if (!Ln(B[Y], H[Y])) { H = !1; break e } H = !0 } if (H) return T[0] } } return w = w(), ir.memoizedState = [w, B], w } function aa(w, B, T) { if (25 <= ho) throw Error(t(301)); if (w === zn) if (or = !0, w = { action: T, next: null }, ps === null && (ps = new Map), T = ps.get(B), T === void 0) ps.set(B, w); else { for (B = T; B.next !== null;)B = B.next; B.next = w } } function Hr() { throw Error(t(440)) } function gs() { throw Error(t(394)) } function Ts() { throw Error(t(479)) } function lu(w, B, T) { js(); var H = yr++, Y = Xr; if (typeof w.$$FORM_ACTION == "function") { var ue = null, xe = Tn; Y = Y.formState; var He = w.$$IS_SIGNATURE_EQUAL; if (Y !== null && typeof He == "function") { var Oe = Y[1]; He.call(w, Y[2], Y[3]) && (ue = T !== void 0 ? "p" + T : "k" + q(JSON.stringify([xe, null, H]), 0), Oe === ue && (li = H, B = Y[0])) } var je = w.bind(null, B); return w = function (nt) { je(nt) }, typeof je.$$FORM_ACTION == "function" && (w.$$FORM_ACTION = function (nt) { nt = je.$$FORM_ACTION(nt), T !== void 0 && (T += "", nt.action = T); var _t = nt.data; return _t && (ue === null && (ue = T !== void 0 ? "p" + T : "k" + q(JSON.stringify([xe, null, H]), 0)), _t.append("$ACTION_KEY", ue)), nt }), [B, w, !1] } var We = w.bind(null, B); return [B, function (nt) { We(nt) }, !1] } function _c(w) { var B = ti; return ti += 1, Vr === null && (Vr = []), qt(Vr, w, B) } function Nc() { throw Error(t(393)) } var Au = { readContext: function (w) { return w._currentValue }, use: function (w) { if (w !== null && typeof w == "object") { if (typeof w.then == "function") return _c(w); if (w.$$typeof === u) return w._currentValue } throw Error(t(438, String(w))) }, useContext: function (w) { return js(), w._currentValue }, useMemo: Ji, useReducer: Ti, useRef: function (w) { zn = js(), ir = Wo(); var B = ir.memoizedState; return B === null ? (w = { current: w }, ir.memoizedState = w) : B }, useState: function (w) { return Ti(sa, w) }, useInsertionEffect: ft, useLayoutEffect: ft, useCallback: function (w, B) { return Ji(function () { return w }, B) }, useImperativeHandle: ft, useEffect: ft, useDebugValue: ft, useDeferredValue: function (w, B) { return js(), B !== void 0 ? B : w }, useTransition: function () { return js(), [!1, gs] }, useId: function () { var w = _r.treeContext, B = w.overflow; w = w.id, w = (w & ~(1 << 32 - ot(w) - 1)).toString(32) + B; var T = Pi; if (T === null) throw Error(t(404)); return B = hi++, w = "_" + T.idPrefix + "R_" + w, 0 < B && (w += "H" + B.toString(32)), w + "_" }, useSyncExternalStore: function (w, B, T) { if (T === void 0) throw Error(t(407)); return T() }, useOptimistic: function (w) { return js(), [w, Ts] }, useActionState: lu, useFormState: lu, useHostTransitionStatus: function () { return js(), tt }, useMemoCache: function (w) { for (var B = Array(w), T = 0; T < w; T++)B[T] = O; return B }, useCacheRefresh: function () { return Nc }, useEffectEvent: function () { return Hr } }, Pi = null, ni = { getCacheForType: function () { throw Error(t(248)) }, cacheSignal: function () { throw Error(t(248)) } }, Yn, pi; function Gr(w) {
    if (Yn === void 0) try { throw Error() } catch (T) {
      var B = T.stack.trim().match(/\n( *(at )?)/); Yn = B && B[1] || "", pi = -1 < T.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < T.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ Yn + w + pi
  } var Ba = !1; function oa(w, B) {
    if (!w || Ba) return ""; Ba = !0; var T = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var H = { DetermineComponentFrameRoot: function () { try { if (B) { var nt = function () { throw Error() }; if (Object.defineProperty(nt.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(nt, []) } catch (St) { var _t = St } Reflect.construct(w, [], nt) } else { try { nt.call() } catch (St) { _t = St } w.call(nt.prototype) } } else { try { throw Error() } catch (St) { _t = St } (nt = w()) && typeof nt.catch == "function" && nt.catch(function () { }) } } catch (St) { if (St && _t && typeof St.stack == "string") return [St.stack, _t.stack] } return [null, null] } }; H.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var Y = Object.getOwnPropertyDescriptor(H.DetermineComponentFrameRoot, "name"); Y && Y.configurable && Object.defineProperty(H.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var ue = H.DetermineComponentFrameRoot(), xe = ue[0], He = ue[1]; if (xe && He) {
        var Oe = xe.split(`
`), je = He.split(`
`); for (Y = H = 0; H < Oe.length && !Oe[H].includes("DetermineComponentFrameRoot");)H++; for (; Y < je.length && !je[Y].includes("DetermineComponentFrameRoot");)Y++; if (H === Oe.length || Y === je.length) for (H = Oe.length - 1, Y = je.length - 1; 1 <= H && 0 <= Y && Oe[H] !== je[Y];)Y--; for (; 1 <= H && 0 <= Y; H--, Y--)if (Oe[H] !== je[Y]) {
          if (H !== 1 || Y !== 1) do if (H--, Y--, 0 > Y || Oe[H] !== je[Y]) {
            var We = `
`+ Oe[H].replace(" at new ", " at "); return w.displayName && We.includes("<anonymous>") && (We = We.replace("<anonymous>", w.displayName)), We
          } while (1 <= H && 0 <= Y); break
        }
      }
    } finally { Ba = !1, Error.prepareStackTrace = T } return (T = w ? w.displayName || w.name : "") ? Gr(T) : ""
  } function kc(w) {
    if (typeof w == "string") return Gr(w); if (typeof w == "function") return w.prototype && w.prototype.isReactComponent ? oa(w, !0) : oa(w, !1); if (typeof w == "object" && w !== null) {
      switch (w.$$typeof) { case f: return oa(w.render, !1); case p: return oa(w.type, !1); case b: var B = w, T = B._payload; B = B._init; try { w = B(T) } catch { return Gr("Lazy") } return kc(w) }if (typeof w.name == "string") {
        e: {
          T = w.name, B = w.env; var H = w.debugLocation; if (H != null && (w = Error.prepareStackTrace, Error.prepareStackTrace = void 0, H = H.stack, Error.prepareStackTrace = w, H.startsWith(`Error: react-stack-top-frame
`) && (H = H.slice(29)), w = H.indexOf(`
`), w !== -1 && (H = H.slice(w + 1)), w = H.indexOf("react_stack_bottom_frame"), w !== -1 && (w = H.lastIndexOf(`
`, w)), w = w !== -1 ? H = H.slice(0, w) : "", H = w.lastIndexOf(`
`), w = H === -1 ? w : w.slice(H + 1), w.indexOf(T) !== -1)) {
            T = `
`+ w; break e
          } T = Gr(T + (B ? " [" + B + "]" : ""))
        } return T
      }
    } switch (w) { case m: return Gr("SuspenseList"); case h: return Gr("Suspense") }return ""
  } function Xi(w, B) { return (500 < B.byteSize || ks(B.contentState)) && B.contentPreamble === null } function Hi(w) { if (typeof w == "object" && w !== null && typeof w.environmentName == "string") { var B = w.environmentName; w = [w].slice(0), typeof w[0] == "string" ? w.splice(0, 1, "%c%s%c " + w[0], "background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px", " " + B + " ", "") : w.splice(0, 0, "%c%s%c", "background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px", " " + B + " ", ""), w.unshift(console), B = fo.apply(console.error, w), B() } else console.error(w); return null } function po(w, B, T, H, Y, ue, xe, He, Oe, je, We) { var nt = new Set; this.destination = null, this.flushScheduled = !1, this.resumableState = w, this.renderState = B, this.rootFormatContext = T, this.progressiveChunkSize = H === void 0 ? 12800 : H, this.status = 10, this.fatalError = null, this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0, this.completedPreambleSegments = this.completedRootSegment = null, this.byteSize = 0, this.abortableTasks = nt, this.pingedTasks = [], this.clientRenderedBoundaries = [], this.completedBoundaries = [], this.partialBoundaries = [], this.trackedPostpones = null, this.onError = Y === void 0 ? Hi : Y, this.onPostpone = je === void 0 ? ft : je, this.onAllReady = ue === void 0 ? ft : ue, this.onShellReady = xe === void 0 ? ft : xe, this.onShellError = He === void 0 ? ft : He, this.onFatalError = Oe === void 0 ? ft : Oe, this.formState = We === void 0 ? null : We } function nA(w, B, T, H, Y, ue, xe, He, Oe, je, We, nt) { return B = new po(B, T, H, Y, ue, xe, He, Oe, je, We, nt), T = ss(B, 0, null, H, !1, !1), T.parentFlushed = !0, w = Va(B, null, w, -1, null, T, null, null, B.abortableTasks, null, H, null, be, null, null), Yo(w), B.pingedTasks.push(w), B } function ll(w, B, T, H, Y, ue, xe, He, Oe, je, We) { return w = nA(w, B, T, H, Y, ue, xe, He, Oe, je, We, void 0), w.trackedPostpones = { workingMap: new Map, rootNodes: [], rootSlots: null }, w } function go(w, B, T, H, Y, ue, xe, He, Oe) { return T = new po(B.resumableState, T, B.rootFormatContext, B.progressiveChunkSize, H, Y, ue, xe, He, Oe, null), T.nextSegmentId = B.nextSegmentId, typeof B.replaySlots == "number" ? (H = ss(T, 0, null, B.rootFormatContext, !1, !1), H.parentFlushed = !0, w = Va(T, null, w, -1, null, H, null, null, T.abortableTasks, null, B.rootFormatContext, null, be, null, null), Yo(w), T.pingedTasks.push(w), T) : (w = cl(T, null, { nodes: B.replayNodes, slots: B.replaySlots, pendingTasks: 0 }, w, -1, null, null, T.abortableTasks, null, B.rootFormatContext, null, be, null, null), Yo(w), T.pingedTasks.push(w), T) } function Al(w, B, T, H, Y, ue, xe, He, Oe) { return w = go(w, B, T, H, Y, ue, xe, He, Oe), w.trackedPostpones = { workingMap: new Map, rootNodes: [], rootSlots: null }, w } var Wr = null; function la(w, B) { w.pingedTasks.push(B), w.pingedTasks.length === 1 && (w.flushScheduled = w.destination !== null, w.trackedPostpones !== null || w.status === 10 ? se(function () { return Nt(w) }) : fe(function () { return Nt(w) })) } function Fs(w, B, T, H, Y) { return T = { status: 0, rootSegmentID: -1, parentFlushed: !1, pendingTasks: 0, row: B, completedSegments: [], byteSize: 0, fallbackAbortableTasks: T, errorDigest: null, contentState: Ps(), fallbackState: Ps(), contentPreamble: H, fallbackPreamble: Y, trackedContentKeyPath: null, trackedFallbackNode: null }, B !== null && (B.pendingTasks++, H = B.boundaries, H !== null && (w.allPendingTasks++, T.pendingTasks++, H.push(T)), w = B.inheritedHoistables, w !== null && Ka(T.contentState, w)), T } function Va(w, B, T, H, Y, ue, xe, He, Oe, je, We, nt, _t, St, zt) { w.allPendingTasks++, Y === null ? w.pendingRootTasks++ : Y.pendingTasks++, St !== null && St.pendingTasks++; var gn = { replay: null, node: T, childIndex: H, ping: function () { return la(w, gn) }, blockedBoundary: Y, blockedSegment: ue, blockedPreamble: xe, hoistableState: He, abortSet: Oe, keyPath: je, formatContext: We, context: nt, treeContext: _t, row: St, componentStack: zt, thenableState: B }; return Oe.add(gn), gn } function cl(w, B, T, H, Y, ue, xe, He, Oe, je, We, nt, _t, St) { w.allPendingTasks++, ue === null ? w.pendingRootTasks++ : ue.pendingTasks++, _t !== null && _t.pendingTasks++, T.pendingTasks++; var zt = { replay: T, node: H, childIndex: Y, ping: function () { return la(w, zt) }, blockedBoundary: ue, blockedSegment: null, blockedPreamble: null, hoistableState: xe, abortSet: He, keyPath: Oe, formatContext: je, context: We, treeContext: nt, row: _t, componentStack: St, thenableState: B }; return He.add(zt), zt } function ss(w, B, T, H, Y, ue) { return { status: 0, parentFlushed: !1, id: -1, index: B, chunks: [], children: [], preambleChildren: [], parentFormatContext: H, boundary: T, lastPushedText: Y, textEmbedded: ue } } function Yo(w) { var B = w.node; if (typeof B == "object" && B !== null) switch (B.$$typeof) { case r: w.componentStack = { parent: w.componentStack, type: B.type } } } function Ca(w) { return w === null ? null : { parent: w.parent, type: "Suspense Fallback" } } function Yr(w) {
    var B = {}; return w && Object.defineProperty(B, "componentStack", {
      configurable: !0, enumerable: !0, get: function () {
        try { var T = "", H = w; do T += kc(H.type), H = H.parent; while (H); var Y = T } catch (ue) {
          Y = `
Error generating stack: `+ ue.message + `
`+ ue.stack
        } return Object.defineProperty(B, "componentStack", { value: Y }), Y
      }
    }), B
  } function Zi(w, B, T) { if (w = w.onError, B = w(B, T), B == null || typeof B == "string") return B } function BA(w, B) { var T = w.onShellError, H = w.onFatalError; T(B), H(B), w.destination !== null ? (w.status = 14, re(w.destination, B)) : (w.status = 13, w.fatalError = B) } function Ks(w, B) { Lu(w, B.next, B.hoistables) } function Lu(w, B, T) { for (; B !== null;) { T !== null && (Ka(B.hoistables, T), B.inheritedHoistables = T); var H = B.boundaries; if (H !== null) { B.boundaries = null; for (var Y = 0; Y < H.length; Y++) { var ue = H[Y]; T !== null && Ka(ue.contentState, T), ht(w, ue, null, null) } } if (B.pendingTasks--, 0 < B.pendingTasks) break; T = B.hoistables, B = B.next } } function Tc(w, B) { var T = B.boundaries; if (T !== null && B.pendingTasks === T.length) { for (var H = !0, Y = 0; Y < T.length; Y++) { var ue = T[Y]; if (ue.pendingTasks !== 1 || ue.parentFlushed || Xi(w, ue)) { H = !1; break } } H && Lu(w, B, B.hoistables) } } function Ai(w) { var B = { pendingTasks: 1, boundaries: null, hoistables: Ps(), inheritedHoistables: null, together: !1, next: null }; return w !== null && 0 < w.pendingTasks && (B.pendingTasks++, B.boundaries = [], w.next = B), B } function CA(w, B, T, H, Y) { var ue = B.keyPath, xe = B.treeContext, He = B.row; B.keyPath = T, T = H.length; var Oe = null; if (B.replay !== null) { var je = B.replay.slots; if (je !== null && typeof je == "object") for (var We = 0; We < T; We++) { var nt = Y !== "backwards" && Y !== "unstable_legacy-backwards" ? We : T - 1 - We, _t = H[nt]; B.row = Oe = Ai(Oe), B.treeContext = Ue(xe, T, nt); var St = je[nt]; typeof St == "number" ? (C(w, B, St, _t, nt), delete je[nt]) : Se(w, B, _t, nt), --Oe.pendingTasks === 0 && Ks(w, Oe) } else for (je = 0; je < T; je++)We = Y !== "backwards" && Y !== "unstable_legacy-backwards" ? je : T - 1 - je, nt = H[We], B.row = Oe = Ai(Oe), B.treeContext = Ue(xe, T, We), Se(w, B, nt, We), --Oe.pendingTasks === 0 && Ks(w, Oe) } else if (Y !== "backwards" && Y !== "unstable_legacy-backwards") for (Y = 0; Y < T; Y++)je = H[Y], B.row = Oe = Ai(Oe), B.treeContext = Ue(xe, T, Y), Se(w, B, je, Y), --Oe.pendingTasks === 0 && Ks(w, Oe); else { for (Y = B.blockedSegment, je = Y.children.length, We = Y.chunks.length, nt = T - 1; 0 <= nt; nt--) { _t = H[nt], B.row = Oe = Ai(Oe), B.treeContext = Ue(xe, T, nt), St = ss(w, We, null, B.formatContext, nt === 0 ? Y.lastPushedText : !0, !0), Y.children.splice(je, 0, St), B.blockedSegment = St; try { Se(w, B, _t, nt), St.lastPushedText && St.textEmbedded && St.chunks.push($r), St.status = 1, ut(w, B.blockedBoundary, St), --Oe.pendingTasks === 0 && Ks(w, Oe) } catch (zt) { throw St.status = w.status === 12 ? 3 : 4, zt } } B.blockedSegment = Y, Y.lastPushedText = !1 } He !== null && Oe !== null && 0 < Oe.pendingTasks && (He.pendingTasks++, Oe.next = He), B.treeContext = xe, B.row = He, B.keyPath = ue } function JA(w, B, T, H, Y, ue) { var xe = B.thenableState; for (B.thenableState = null, zn = {}, _r = B, Xr = w, Tn = T, yr = hi = 0, li = -1, ti = 0, Vr = xe, w = H(Y, ue); or;)or = !1, yr = hi = 0, li = -1, ti = 0, ho += 1, ir = null, w = H(Y, ue); return ia(), w } function Ga(w, B, T, H, Y, ue, xe) { var He = !1; if (ue !== 0 && w.formState !== null) { var Oe = B.blockedSegment; if (Oe !== null) { He = !0, Oe = Oe.chunks; for (var je = 0; je < ue; je++)je === xe ? Oe.push(xc) : Oe.push(Es) } } ue = B.keyPath, B.keyPath = T, Y ? (T = B.treeContext, B.treeContext = Ue(T, 1, 0), Se(w, B, H, -1), B.treeContext = T) : He ? Se(w, B, H, -1) : k(w, B, H, -1), B.keyPath = ue } function ul(w, B, T, H, Y, ue) { if (typeof H == "function") if (H.prototype && H.prototype.isReactComponent) { var xe = Y; if ("ref" in Y) { xe = {}; for (var He in Y) He !== "ref" && (xe[He] = Y[He]) } var Oe = H.defaultProps; if (Oe) { xe === Y && (xe = ie({}, xe, Y)); for (var je in Oe) xe[je] === void 0 && (xe[je] = Oe[je]) } Y = xe, xe = Sr, Oe = H.contextType, typeof Oe == "object" && Oe !== null && (xe = Oe._currentValue), xe = new H(Y, xe); var We = xe.state !== void 0 ? xe.state : null; if (xe.updater = ee, xe.props = Y, xe.state = We, Oe = { queue: [], replace: !1 }, xe._reactInternals = Oe, ue = H.contextType, xe.context = typeof ue == "object" && ue !== null ? ue._currentValue : Sr, ue = H.getDerivedStateFromProps, typeof ue == "function" && (ue = ue(Y, We), We = ue == null ? We : ie({}, We, ue), xe.state = We), typeof H.getDerivedStateFromProps != "function" && typeof xe.getSnapshotBeforeUpdate != "function" && (typeof xe.UNSAFE_componentWillMount == "function" || typeof xe.componentWillMount == "function")) if (H = xe.state, typeof xe.componentWillMount == "function" && xe.componentWillMount(), typeof xe.UNSAFE_componentWillMount == "function" && xe.UNSAFE_componentWillMount(), H !== xe.state && ee.enqueueReplaceState(xe, xe.state, null), Oe.queue !== null && 0 < Oe.queue.length) if (H = Oe.queue, ue = Oe.replace, Oe.queue = null, Oe.replace = !1, ue && H.length === 1) xe.state = H[0]; else { for (Oe = ue ? H[0] : xe.state, We = !0, ue = ue ? 1 : 0; ue < H.length; ue++)je = H[ue], je = typeof je == "function" ? je.call(xe, Oe, Y, void 0) : je, je != null && (We ? (We = !1, Oe = ie({}, Oe, je)) : ie(Oe, je)); xe.state = Oe } else Oe.queue = null; if (H = xe.render(), w.status === 12) throw null; Y = B.keyPath, B.keyPath = T, k(w, B, H, -1), B.keyPath = Y } else { if (H = JA(w, B, T, H, Y, void 0), w.status === 12) throw null; Ga(w, B, T, H, hi !== 0, yr, li) } else if (typeof H == "string") if (xe = B.blockedSegment, xe === null) xe = Y.children, Oe = B.formatContext, We = B.keyPath, B.formatContext = hn(Oe, H, Y), B.keyPath = T, Se(w, B, xe, -1), B.formatContext = Oe, B.keyPath = We; else { if (We = vi(xe.chunks, H, Y, w.resumableState, w.renderState, B.blockedPreamble, B.hoistableState, B.formatContext, xe.lastPushedText), xe.lastPushedText = !1, Oe = B.formatContext, ue = B.keyPath, B.keyPath = T, (B.formatContext = hn(Oe, H, Y)).insertionMode === 3) { T = ss(w, 0, null, B.formatContext, !1, !1), xe.preambleChildren.push(T), B.blockedSegment = T; try { T.status = 6, Se(w, B, We, -1), T.lastPushedText && T.textEmbedded && T.chunks.push($r), T.status = 1, ut(w, B.blockedBoundary, T) } finally { B.blockedSegment = xe } } else Se(w, B, We, -1); B.formatContext = Oe, B.keyPath = ue; e: { switch (B = xe.chunks, w = w.resumableState, H) { case "title": case "style": case "script": case "area": case "base": case "br": case "col": case "embed": case "hr": case "img": case "input": case "keygen": case "link": case "meta": case "param": case "source": case "track": case "wbr": break e; case "body": if (1 >= Oe.insertionMode) { w.hasBody = !0; break e } break; case "html": if (Oe.insertionMode === 0) { w.hasHtml = !0; break e } break; case "head": if (1 >= Oe.insertionMode) break e }B.push(ko(H)) } xe.lastPushedText = !1 } else { switch (H) { case _: case a: case o: case s: H = B.keyPath, B.keyPath = T, k(w, B, Y.children, -1), B.keyPath = H; return; case E: H = B.blockedSegment, H === null ? Y.mode !== "hidden" && (H = B.keyPath, B.keyPath = T, Se(w, B, Y.children, -1), B.keyPath = H) : Y.mode !== "hidden" && (H.chunks.push(Pa), H.lastPushedText = !1, xe = B.keyPath, B.keyPath = T, Se(w, B, Y.children, -1), B.keyPath = xe, H.chunks.push(wA), H.lastPushedText = !1); return; case m: e: { if (H = Y.children, Y = Y.revealOrder, Y === "forwards" || Y === "backwards" || Y === "unstable_legacy-backwards") { if (X(H)) { CA(w, B, T, H, Y); break e } if ((xe = z(H)) && (xe = xe.call(H))) { if (Oe = xe.next(), !Oe.done) { do Oe = xe.next(); while (!Oe.done); CA(w, B, T, H, Y) } break e } } Y === "together" ? (Y = B.keyPath, xe = B.row, Oe = B.row = Ai(null), Oe.boundaries = [], Oe.together = !0, B.keyPath = T, k(w, B, H, -1), --Oe.pendingTasks === 0 && Ks(w, Oe), B.keyPath = Y, B.row = xe, xe !== null && 0 < Oe.pendingTasks && (xe.pendingTasks++, Oe.next = xe)) : (Y = B.keyPath, B.keyPath = T, k(w, B, H, -1), B.keyPath = Y) } return; case I: case y: throw Error(t(343)); case h: e: if (B.replay !== null) { H = B.keyPath, xe = B.formatContext, Oe = B.row, B.keyPath = T, B.formatContext = Xs(w.resumableState, xe), B.row = null, T = Y.children; try { Se(w, B, T, -1) } finally { B.keyPath = H, B.formatContext = xe, B.row = Oe } } else { H = B.keyPath, ue = B.formatContext; var nt = B.row; je = B.blockedBoundary, He = B.blockedPreamble; var _t = B.hoistableState, St = B.blockedSegment, zt = Y.fallback; Y = Y.children; var gn = new Set, un = 2 > B.formatContext.insertionMode ? Fs(w, B.row, gn, Qt(), Qt()) : Fs(w, B.row, gn, null, null); w.trackedPostpones !== null && (un.trackedContentKeyPath = T); var It = ss(w, St.chunks.length, un, B.formatContext, !1, !1); St.children.push(It), St.lastPushedText = !1; var Rt = ss(w, 0, null, B.formatContext, !1, !1); if (Rt.parentFlushed = !0, w.trackedPostpones !== null) { xe = B.componentStack, Oe = [T[0], "Suspense Fallback", T[2]], We = [Oe[1], Oe[2], [], null], w.trackedPostpones.workingMap.set(Oe, We), un.trackedFallbackNode = We, B.blockedSegment = It, B.blockedPreamble = un.fallbackPreamble, B.keyPath = Oe, B.formatContext = ar(w.resumableState, ue), B.componentStack = Ca(xe), It.status = 6; try { Se(w, B, zt, -1), It.lastPushedText && It.textEmbedded && It.chunks.push($r), It.status = 1, ut(w, je, It) } catch (Fn) { throw It.status = w.status === 12 ? 3 : 4, Fn } finally { B.blockedSegment = St, B.blockedPreamble = He, B.keyPath = H, B.formatContext = ue } B = Va(w, null, Y, -1, un, Rt, un.contentPreamble, un.contentState, B.abortSet, T, Xs(w.resumableState, B.formatContext), B.context, B.treeContext, null, xe), Yo(B), w.pingedTasks.push(B) } else { B.blockedBoundary = un, B.blockedPreamble = un.contentPreamble, B.hoistableState = un.contentState, B.blockedSegment = Rt, B.keyPath = T, B.formatContext = Xs(w.resumableState, ue), B.row = null, Rt.status = 6; try { if (Se(w, B, Y, -1), Rt.lastPushedText && Rt.textEmbedded && Rt.chunks.push($r), Rt.status = 1, ut(w, un, Rt), qe(un, Rt), un.pendingTasks === 0 && un.status === 0) { if (un.status = 1, !Xi(w, un)) { nt !== null && --nt.pendingTasks === 0 && Ks(w, nt), w.pendingRootTasks === 0 && B.blockedPreamble && Mt(w); break e } } else nt !== null && nt.together && Tc(w, nt) } catch (Fn) { un.status = 4, w.status === 12 ? (Rt.status = 3, xe = w.fatalError) : (Rt.status = 4, xe = Fn), Oe = Yr(B.componentStack), We = Zi(w, xe, Oe), un.errorDigest = We, ge(w, un) } finally { B.blockedBoundary = je, B.blockedPreamble = He, B.hoistableState = _t, B.blockedSegment = St, B.keyPath = H, B.formatContext = ue, B.row = nt } B = Va(w, null, zt, -1, je, It, un.fallbackPreamble, un.fallbackState, gn, [T[0], "Suspense Fallback", T[2]], ar(w.resumableState, B.formatContext), B.context, B.treeContext, B.row, Ca(B.componentStack)), Yo(B), w.pingedTasks.push(B) } } return }if (typeof H == "object" && H !== null) switch (H.$$typeof) { case f: if ("ref" in Y) for (St in xe = {}, Y) St !== "ref" && (xe[St] = Y[St]); else xe = Y; H = JA(w, B, T, H.render, xe, ue), Ga(w, B, T, H, hi !== 0, yr, li); return; case p: ul(w, B, T, H.type, Y, ue); return; case u: if (Oe = Y.children, xe = B.keyPath, Y = Y.value, We = H._currentValue, H._currentValue = Y, ue = Gn, Gn = H = { parent: ue, depth: ue === null ? 0 : ue.depth + 1, context: H, parentValue: We, value: Y }, B.context = H, B.keyPath = T, k(w, B, Oe, -1), w = Gn, w === null) throw Error(t(403)); w.context._currentValue = w.parentValue, w = Gn = w.parent, B.context = w, B.keyPath = xe; return; case A: Y = Y.children, H = Y(H._context._currentValue), Y = B.keyPath, B.keyPath = T, k(w, B, H, -1), B.keyPath = Y; return; case b: if (xe = H._init, H = xe(H._payload), w.status === 12) throw null; ul(w, B, T, H, Y, ue); return }throw Error(t(130, H == null ? H : typeof H, "")) } } function C(w, B, T, H, Y) { var ue = B.replay, xe = B.blockedBoundary, He = ss(w, 0, null, B.formatContext, !1, !1); He.id = T, He.parentFlushed = !0; try { B.replay = null, B.blockedSegment = He, Se(w, B, H, Y), He.status = 1, ut(w, xe, He), xe === null ? w.completedRootSegment = He : (qe(xe, He), xe.parentFlushed && w.partialBoundaries.push(xe)) } finally { B.replay = ue, B.blockedSegment = null } } function k(w, B, T, H) { B.replay !== null && typeof B.replay.slots == "number" ? C(w, B, B.replay.slots, T, H) : (B.node = T, B.childIndex = H, T = B.componentStack, Yo(B), P(w, B), B.componentStack = T) } function P(w, B) { var T = B.node, H = B.childIndex; if (T !== null) { if (typeof T == "object") { switch (T.$$typeof) { case r: var Y = T.type, ue = T.key, xe = T.props; T = xe.ref; var He = T !== void 0 ? T : null, Oe = ra(Y), je = ue ?? (H === -1 ? 0 : H); if (ue = [B.keyPath, Oe, je], B.replay !== null) e: { var We = B.replay; for (H = We.nodes, T = 0; T < H.length; T++) { var nt = H[T]; if (je === nt[1]) { if (nt.length === 4) { if (Oe !== null && Oe !== nt[0]) throw Error(t(490, nt[0], Oe)); var _t = nt[2]; Oe = nt[3], je = B.node, B.replay = { nodes: _t, slots: Oe, pendingTasks: 1 }; try { if (ul(w, B, ue, Y, xe, He), B.replay.pendingTasks === 1 && 0 < B.replay.nodes.length) throw Error(t(488)); B.replay.pendingTasks-- } catch (sn) { if (typeof sn == "object" && sn !== null && (sn === Ot || typeof sn.then == "function")) throw B.node === je ? B.replay = We : H.splice(T, 1), sn; B.replay.pendingTasks--, xe = Yr(B.componentStack), ue = w, w = B.blockedBoundary, Y = sn, xe = Zi(ue, Y, xe), et(ue, w, _t, Oe, Y, xe) } B.replay = We } else { if (Y !== h) throw Error(t(490, "Suspense", ra(Y) || "Unknown")); t: { We = void 0, Y = nt[5], He = nt[2], Oe = nt[3], je = nt[4] === null ? [] : nt[4][2], nt = nt[4] === null ? null : nt[4][3]; var St = B.keyPath, zt = B.formatContext, gn = B.row, un = B.replay, It = B.blockedBoundary, Rt = B.hoistableState, Fn = xe.children, qr = xe.fallback, bi = new Set; xe = 2 > B.formatContext.insertionMode ? Fs(w, B.row, bi, Qt(), Qt()) : Fs(w, B.row, bi, null, null), xe.parentFlushed = !0, xe.rootSegmentID = Y, B.blockedBoundary = xe, B.hoistableState = xe.contentState, B.keyPath = ue, B.formatContext = Xs(w.resumableState, zt), B.row = null, B.replay = { nodes: He, slots: Oe, pendingTasks: 1 }; try { if (Se(w, B, Fn, -1), B.replay.pendingTasks === 1 && 0 < B.replay.nodes.length) throw Error(t(488)); if (B.replay.pendingTasks--, xe.pendingTasks === 0 && xe.status === 0) { xe.status = 1, w.completedBoundaries.push(xe); break t } } catch (sn) { xe.status = 4, _t = Yr(B.componentStack), We = Zi(w, sn, _t), xe.errorDigest = We, B.replay.pendingTasks--, w.clientRenderedBoundaries.push(xe) } finally { B.blockedBoundary = It, B.hoistableState = Rt, B.replay = un, B.keyPath = St, B.formatContext = zt, B.row = gn } _t = cl(w, null, { nodes: je, slots: nt, pendingTasks: 0 }, qr, -1, It, xe.fallbackState, bi, [ue[0], "Suspense Fallback", ue[2]], ar(w.resumableState, B.formatContext), B.context, B.treeContext, B.row, Ca(B.componentStack)), Yo(_t), w.pingedTasks.push(_t) } } H.splice(T, 1); break e } } } else ul(w, B, ue, Y, xe, He); return; case i: throw Error(t(257)); case b: if (_t = T._init, T = _t(T._payload), w.status === 12) throw null; k(w, B, T, H); return }if (X(T)) { J(w, B, T, H); return } if ((_t = z(T)) && (_t = _t.call(T))) { if (T = _t.next(), !T.done) { xe = []; do xe.push(T.value), T = _t.next(); while (!T.done); J(w, B, xe, H) } return } if (typeof T.then == "function") return B.thenableState = null, k(w, B, _c(T), H); if (T.$$typeof === u) return k(w, B, T._currentValue, H); throw H = Object.prototype.toString.call(T), Error(t(31, H === "[object Object]" ? "object with keys {" + Object.keys(T).join(", ") + "}" : H)) } typeof T == "string" ? (H = B.blockedSegment, H !== null && (H.lastPushedText = So(H.chunks, T, w.renderState, H.lastPushedText))) : (typeof T == "number" || typeof T == "bigint") && (H = B.blockedSegment, H !== null && (H.lastPushedText = So(H.chunks, "" + T, w.renderState, H.lastPushedText))) } } function J(w, B, T, H) { var Y = B.keyPath; if (H !== -1 && (B.keyPath = [B.keyPath, "Fragment", H], B.replay !== null)) { for (var ue = B.replay, xe = ue.nodes, He = 0; He < xe.length; He++) { var Oe = xe[He]; if (Oe[1] === H) { H = Oe[2], Oe = Oe[3], B.replay = { nodes: H, slots: Oe, pendingTasks: 1 }; try { if (J(w, B, T, -1), B.replay.pendingTasks === 1 && 0 < B.replay.nodes.length) throw Error(t(488)); B.replay.pendingTasks-- } catch (nt) { if (typeof nt == "object" && nt !== null && (nt === Ot || typeof nt.then == "function")) throw nt; B.replay.pendingTasks--, T = Yr(B.componentStack); var je = B.blockedBoundary, We = nt; T = Zi(w, We, T), et(w, je, H, Oe, We, T) } B.replay = ue, xe.splice(He, 1); break } } B.keyPath = Y; return } if (ue = B.treeContext, xe = T.length, B.replay !== null && (He = B.replay.slots, He !== null && typeof He == "object")) { for (H = 0; H < xe; H++)Oe = T[H], B.treeContext = Ue(ue, xe, H), je = He[H], typeof je == "number" ? (C(w, B, je, Oe, H), delete He[H]) : Se(w, B, Oe, H); B.treeContext = ue, B.keyPath = Y; return } for (He = 0; He < xe; He++)H = T[He], B.treeContext = Ue(ue, xe, He), Se(w, B, H, He); B.treeContext = ue, B.keyPath = Y } function ce(w, B, T) { if (T.status = 5, T.rootSegmentID = w.nextSegmentId++, w = T.trackedContentKeyPath, w === null) throw Error(t(486)); var H = T.trackedFallbackNode, Y = [], ue = B.workingMap.get(w); return ue === void 0 ? (T = [w[1], w[2], Y, null, H, T.rootSegmentID], B.workingMap.set(w, T), qi(T, w[0], B), T) : (ue[4] = H, ue[5] = T.rootSegmentID, ue) } function he(w, B, T, H) { H.status = 5; var Y = T.keyPath, ue = T.blockedBoundary; if (ue === null) H.id = w.nextSegmentId++, B.rootSlots = H.id, w.completedRootSegment !== null && (w.completedRootSegment.status = 5); else { if (ue !== null && ue.status === 0) { var xe = ce(w, B, ue); if (ue.trackedContentKeyPath === Y && T.childIndex === -1) { H.id === -1 && (H.id = H.parentFlushed ? ue.rootSegmentID : w.nextSegmentId++), xe[3] = H.id; return } } if (H.id === -1 && (H.id = H.parentFlushed && ue !== null ? ue.rootSegmentID : w.nextSegmentId++), T.childIndex === -1) Y === null ? B.rootSlots = H.id : (T = B.workingMap.get(Y), T === void 0 ? (T = [Y[1], Y[2], [], H.id], qi(T, Y[0], B)) : T[3] = H.id); else { if (Y === null) { if (w = B.rootSlots, w === null) w = B.rootSlots = {}; else if (typeof w == "number") throw Error(t(491)) } else if (ue = B.workingMap, xe = ue.get(Y), xe === void 0) w = {}, xe = [Y[1], Y[2], [], w], ue.set(Y, xe), qi(xe, Y[0], B); else if (w = xe[3], w === null) w = xe[3] = {}; else if (typeof w == "number") throw Error(t(491)); w[T.childIndex] = H.id } } } function ge(w, B) { w = w.trackedPostpones, w !== null && (B = B.trackedContentKeyPath, B !== null && (B = w.workingMap.get(B), B !== void 0 && (B.length = 4, B[2] = [], B[3] = null))) } function ye(w, B, T) { return cl(w, T, B.replay, B.node, B.childIndex, B.blockedBoundary, B.hoistableState, B.abortSet, B.keyPath, B.formatContext, B.context, B.treeContext, B.row, B.componentStack) } function Ee(w, B, T) { var H = B.blockedSegment, Y = ss(w, H.chunks.length, null, B.formatContext, H.lastPushedText, !0); return H.children.push(Y), H.lastPushedText = !1, Va(w, T, B.node, B.childIndex, B.blockedBoundary, Y, B.blockedPreamble, B.hoistableState, B.abortSet, B.keyPath, B.formatContext, B.context, B.treeContext, B.row, B.componentStack) } function Se(w, B, T, H) { var Y = B.formatContext, ue = B.context, xe = B.keyPath, He = B.treeContext, Oe = B.componentStack, je = B.blockedSegment; if (je === null) { je = B.replay; try { return k(w, B, T, H) } catch (_t) { if (ia(), T = _t === Ot ? Pn() : _t, w.status !== 12 && typeof T == "object" && T !== null) { if (typeof T.then == "function") { H = _t === Ot ? ki() : null, w = ye(w, B, H).ping, T.then(w, w), B.formatContext = Y, B.context = ue, B.keyPath = xe, B.treeContext = He, B.componentStack = Oe, B.replay = je, K(ue); return } if (T.message === "Maximum call stack size exceeded") { T = _t === Ot ? ki() : null, T = ye(w, B, T), w.pingedTasks.push(T), B.formatContext = Y, B.context = ue, B.keyPath = xe, B.treeContext = He, B.componentStack = Oe, B.replay = je, K(ue); return } } } } else { var We = je.children.length, nt = je.chunks.length; try { return k(w, B, T, H) } catch (_t) { if (ia(), je.children.length = We, je.chunks.length = nt, T = _t === Ot ? Pn() : _t, w.status !== 12 && typeof T == "object" && T !== null) { if (typeof T.then == "function") { je = T, T = _t === Ot ? ki() : null, w = Ee(w, B, T).ping, je.then(w, w), B.formatContext = Y, B.context = ue, B.keyPath = xe, B.treeContext = He, B.componentStack = Oe, K(ue); return } if (T.message === "Maximum call stack size exceeded") { je = _t === Ot ? ki() : null, je = Ee(w, B, je), w.pingedTasks.push(je), B.formatContext = Y, B.context = ue, B.keyPath = xe, B.treeContext = He, B.componentStack = Oe, K(ue); return } } } } throw B.formatContext = Y, B.context = ue, B.keyPath = xe, B.treeContext = He, K(ue), T } function Pe(w) { var B = w.blockedBoundary, T = w.blockedSegment; T !== null && (T.status = 3, ht(this, B, w.row, T)) } function et(w, B, T, H, Y, ue) { for (var xe = 0; xe < T.length; xe++) { var He = T[xe]; if (He.length === 4) et(w, B, He[2], He[3], Y, ue); else { He = He[5]; var Oe = w, je = ue, We = Fs(Oe, null, new Set, null, null); We.parentFlushed = !0, We.rootSegmentID = He, We.status = 4, We.errorDigest = je, We.parentFlushed && Oe.clientRenderedBoundaries.push(We) } } if (T.length = 0, H !== null) { if (B === null) throw Error(t(487)); if (B.status !== 4 && (B.status = 4, B.errorDigest = ue, B.parentFlushed && w.clientRenderedBoundaries.push(B)), typeof H == "object") for (var nt in H) delete H[nt] } } function Te(w, B, T) { var H = w.blockedBoundary, Y = w.blockedSegment; if (Y !== null) { if (Y.status === 6) return; Y.status = 3 } var ue = Yr(w.componentStack); if (H === null) { if (B.status !== 13 && B.status !== 14) { if (H = w.replay, H === null) { B.trackedPostpones !== null && Y !== null ? (H = B.trackedPostpones, Zi(B, T, ue), he(B, H, w, Y), ht(B, null, w.row, Y)) : (Zi(B, T, ue), BA(B, T)); return } H.pendingTasks--, H.pendingTasks === 0 && 0 < H.nodes.length && (Y = Zi(B, T, ue), et(B, null, H.nodes, H.slots, T, Y)), B.pendingRootTasks--, B.pendingRootTasks === 0 && Xe(B) } } else { var xe = B.trackedPostpones; if (H.status !== 4) { if (xe !== null && Y !== null) return Zi(B, T, ue), he(B, xe, w, Y), H.fallbackAbortableTasks.forEach(function (He) { return Te(He, B, T) }), H.fallbackAbortableTasks.clear(), ht(B, H, w.row, Y); H.status = 4, Y = Zi(B, T, ue), H.status = 4, H.errorDigest = Y, ge(B, H), H.parentFlushed && B.clientRenderedBoundaries.push(H) } H.pendingTasks--, Y = H.row, Y !== null && --Y.pendingTasks === 0 && Ks(B, Y), H.fallbackAbortableTasks.forEach(function (He) { return Te(He, B, T) }), H.fallbackAbortableTasks.clear() } w = w.row, w !== null && --w.pendingTasks === 0 && Ks(B, w), B.allPendingTasks--, B.allPendingTasks === 0 && pt(B) } function Ke(w, B) { try { var T = w.renderState, H = T.onHeaders; if (H) { var Y = T.headers; if (Y) { T.headers = null; var ue = Y.preconnects; if (Y.fontPreloads && (ue && (ue += ", "), ue += Y.fontPreloads), Y.highImagePreloads && (ue && (ue += ", "), ue += Y.highImagePreloads), !B) { var xe = T.styles.values(), He = xe.next(); e: for (; 0 < Y.remainingCapacity && !He.done; He = xe.next())for (var Oe = He.value.sheets.values(), je = Oe.next(); 0 < Y.remainingCapacity && !je.done; je = Oe.next()) { var We = je.value, nt = We.props, _t = nt.href, St = We.props, zt = Di(St.href, "style", { crossOrigin: St.crossOrigin, integrity: St.integrity, nonce: St.nonce, type: St.type, fetchPriority: St.fetchPriority, referrerPolicy: St.referrerPolicy, media: St.media }); if (0 <= (Y.remainingCapacity -= zt.length + 2)) T.resets.style[_t] = Qe, ue && (ue += ", "), ue += zt, T.resets.style[_t] = typeof nt.crossOrigin == "string" || typeof nt.integrity == "string" ? [nt.crossOrigin, nt.integrity] : Qe; else break e } } H(ue ? { Link: ue } : {}) } } } catch (gn) { Zi(w, gn, {}) } } function Xe(w) { w.trackedPostpones === null && Ke(w, !0), w.trackedPostpones === null && Mt(w), w.onShellError = ft, w = w.onShellReady, w() } function pt(w) { Ke(w, w.trackedPostpones === null ? !0 : w.completedRootSegment === null || w.completedRootSegment.status !== 5), Mt(w), w = w.onAllReady, w() } function qe(w, B) { if (B.chunks.length === 0 && B.children.length === 1 && B.children[0].boundary === null && B.children[0].id === -1) { var T = B.children[0]; T.id = B.id, T.parentFlushed = !0, T.status !== 1 && T.status !== 3 && T.status !== 4 || qe(w, T) } else w.completedSegments.push(B) } function ut(w, B, T) { if (L !== null) { T = T.chunks; for (var H = 0, Y = 0; Y < T.length; Y++)H += T[Y].byteLength; B === null ? w.byteSize += H : B.byteSize += H } } function ht(w, B, T, H) { if (T !== null && (--T.pendingTasks === 0 ? Ks(w, T) : T.together && Tc(w, T)), w.allPendingTasks--, B === null) { if (H !== null && H.parentFlushed) { if (w.completedRootSegment !== null) throw Error(t(389)); w.completedRootSegment = H } w.pendingRootTasks--, w.pendingRootTasks === 0 && Xe(w) } else if (B.pendingTasks--, B.status !== 4) if (B.pendingTasks === 0) { if (B.status === 0 && (B.status = 1), H !== null && H.parentFlushed && (H.status === 1 || H.status === 3) && qe(B, H), B.parentFlushed && w.completedBoundaries.push(B), B.status === 1) T = B.row, T !== null && Ka(T.hoistables, B.contentState), Xi(w, B) || (B.fallbackAbortableTasks.forEach(Pe, w), B.fallbackAbortableTasks.clear(), T !== null && --T.pendingTasks === 0 && Ks(w, T)), w.pendingRootTasks === 0 && w.trackedPostpones === null && B.contentPreamble !== null && Mt(w); else if (B.status === 5 && (B = B.row, B !== null)) { if (w.trackedPostpones !== null) { T = w.trackedPostpones; var Y = B.next; if (Y !== null && (H = Y.boundaries, H !== null)) for (Y.boundaries = null, Y = 0; Y < H.length; Y++) { var ue = H[Y]; ce(w, T, ue), ht(w, ue, null, null) } } --B.pendingTasks === 0 && Ks(w, B) } } else H === null || !H.parentFlushed || H.status !== 1 && H.status !== 3 || (qe(B, H), B.completedSegments.length === 1 && B.parentFlushed && w.partialBoundaries.push(B)), B = B.row, B !== null && B.together && Tc(w, B); w.allPendingTasks === 0 && pt(w) } function Nt(w) { if (w.status !== 14 && w.status !== 13) { var B = Gn, T = we.H; we.H = Au; var H = we.A; we.A = ni; var Y = Wr; Wr = w; var ue = Pi; Pi = w.resumableState; try { var xe = w.pingedTasks, He; for (He = 0; He < xe.length; He++) { var Oe = xe[He], je = w, We = Oe.blockedSegment; if (We === null) { var nt = je; if (Oe.replay.pendingTasks !== 0) { K(Oe.context); try { if (typeof Oe.replay.slots == "number" ? C(nt, Oe, Oe.replay.slots, Oe.node, Oe.childIndex) : P(nt, Oe), Oe.replay.pendingTasks === 1 && 0 < Oe.replay.nodes.length) throw Error(t(488)); Oe.replay.pendingTasks--, Oe.abortSet.delete(Oe), ht(nt, Oe.blockedBoundary, Oe.row, null) } catch ($i) { ia(); var _t = $i === Ot ? Pn() : $i; if (typeof _t == "object" && _t !== null && typeof _t.then == "function") { var St = Oe.ping; _t.then(St, St), Oe.thenableState = $i === Ot ? ki() : null } else { Oe.replay.pendingTasks--, Oe.abortSet.delete(Oe); var zt = Yr(Oe.componentStack); je = void 0; var gn = nt, un = Oe.blockedBoundary, It = nt.status === 12 ? nt.fatalError : _t, Rt = Oe.replay.nodes, Fn = Oe.replay.slots; je = Zi(gn, It, zt), et(gn, un, Rt, Fn, It, je), nt.pendingRootTasks--, nt.pendingRootTasks === 0 && Xe(nt), nt.allPendingTasks--, nt.allPendingTasks === 0 && pt(nt) } } finally { } } } else if (nt = void 0, gn = We, gn.status === 0) { gn.status = 6, K(Oe.context); var qr = gn.children.length, bi = gn.chunks.length; try { P(je, Oe), gn.lastPushedText && gn.textEmbedded && gn.chunks.push($r), Oe.abortSet.delete(Oe), gn.status = 1, ut(je, Oe.blockedBoundary, gn), ht(je, Oe.blockedBoundary, Oe.row, gn) } catch ($i) { ia(), gn.children.length = qr, gn.chunks.length = bi; var sn = $i === Ot ? Pn() : je.status === 12 ? je.fatalError : $i; if (je.status === 12 && je.trackedPostpones !== null) { var ur = je.trackedPostpones, jr = Yr(Oe.componentStack); Oe.abortSet.delete(Oe), Zi(je, sn, jr), he(je, ur, Oe, gn), ht(je, Oe.blockedBoundary, Oe.row, gn) } else if (typeof sn == "object" && sn !== null && typeof sn.then == "function") { gn.status = 0, Oe.thenableState = $i === Ot ? ki() : null; var Fi = Oe.ping; sn.then(Fi, Fi) } else { var mo = Yr(Oe.componentStack); Oe.abortSet.delete(Oe), gn.status = 4; var In = Oe.blockedBoundary, fl = Oe.row; if (fl !== null && --fl.pendingTasks === 0 && Ks(je, fl), je.allPendingTasks--, nt = Zi(je, sn, mo), In === null) BA(je, sn); else if (In.pendingTasks--, In.status !== 4) { In.status = 4, In.errorDigest = nt, ge(je, In); var vo = In.row; vo !== null && --vo.pendingTasks === 0 && Ks(je, vo), In.parentFlushed && je.clientRenderedBoundaries.push(In), je.pendingRootTasks === 0 && je.trackedPostpones === null && In.contentPreamble !== null && Mt(je) } je.allPendingTasks === 0 && pt(je) } } finally { } } } xe.splice(0, He), w.destination !== null && Zr(w, w.destination) } catch ($i) { Zi(w, $i, {}), BA(w, $i) } finally { Pi = ue, we.H = T, we.A = H, T === Au && K(B), Wr = Y } } } function vt(w, B, T) { B.preambleChildren.length && T.push(B.preambleChildren); for (var H = !1, Y = 0; Y < B.children.length; Y++)H = Yt(w, B.children[Y], T) || H; return H } function Yt(w, B, T) { var H = B.boundary; if (H === null) return vt(w, B, T); var Y = H.contentPreamble, ue = H.fallbackPreamble; if (Y === null || ue === null) return !1; switch (H.status) { case 1: if (yA(w.renderState, Y), w.byteSize += H.byteSize, B = H.completedSegments[0], !B) throw Error(t(391)); return vt(w, B, T); case 5: if (w.trackedPostpones !== null) return !0; case 4: if (B.status === 1) return yA(w.renderState, ue), vt(w, B, T); default: return !0 } } function Mt(w) { if (w.completedRootSegment && w.completedPreambleSegments === null) { var B = [], T = w.byteSize, H = Yt(w, w.completedRootSegment, B), Y = w.renderState.preamble; H === !1 || Y.headChunks && Y.bodyChunks ? w.completedPreambleSegments = B : w.byteSize = T } } function Bn(w, B, T, H) { switch (T.parentFlushed = !0, T.status) { case 0: T.id = w.nextSegmentId++; case 5: return H = T.id, T.lastPushedText = !1, T.textEmbedded = !1, w = w.renderState, Z(B, WA), Z(B, w.placeholderPrefix), w = Ce(H.toString(16)), Z(B, w), ae(B, To); case 1: T.status = 2; var Y = !0, ue = T.chunks, xe = 0; T = T.children; for (var He = 0; He < T.length; He++) { for (Y = T[He]; xe < Y.index; xe++)Z(B, ue[xe]); Y = Jn(w, B, Y, H) } for (; xe < ue.length - 1; xe++)Z(B, ue[xe]); return xe < ue.length && (Y = ae(B, ue[xe])), Y; case 3: return !0; default: throw Error(t(390)) } } var Dt = 0; function Jn(w, B, T, H) { var Y = T.boundary; if (Y === null) return Bn(w, B, T, H); if (Y.parentFlushed = !0, Y.status === 4) { var ue = Y.row; ue !== null && --ue.pendingTasks === 0 && Ks(w, ue), Y = Y.errorDigest, ae(B, us), Z(B, Fo), Y && (Z(B, il), Z(B, Ce(at(Y))), Z(B, so)), ae(B, Xl), Bn(w, B, T, H) } else if (Y.status !== 1) Y.status === 0 && (Y.rootSegmentID = w.nextSegmentId++), 0 < Y.completedSegments.length && w.partialBoundaries.push(Y), xn(B, w.renderState, Y.rootSegmentID), H && Ka(H, Y.fallbackState), Bn(w, B, T, H); else if (!Tt && Xi(w, Y) && (Dt + Y.byteSize > w.progressiveChunkSize || ks(Y.contentState))) Y.rootSegmentID = w.nextSegmentId++, w.completedBoundaries.push(Y), xn(B, w.renderState, Y.rootSegmentID), Bn(w, B, T, H); else { if (Dt += Y.byteSize, H && Ka(H, Y.contentState), T = Y.row, T !== null && Xi(w, Y) && --T.pendingTasks === 0 && Ks(w, T), ae(B, au), T = Y.completedSegments, T.length !== 1) throw Error(t(391)); Jn(w, B, T[0], H) } return ae(B, ei) } function wr(w, B, T, H) { return al(B, w.renderState, T.parentFormatContext, T.id), Jn(w, B, T, H), ql(B, T.parentFormatContext) } function Hn(w, B, T) { Dt = T.byteSize; for (var H = T.completedSegments, Y = 0; Y < H.length; Y++)Ht(w, B, T, H[Y]); H.length = 0, H = T.row, H !== null && Xi(w, T) && --H.pendingTasks === 0 && Ks(w, H), Qs(B, T.contentState, w.renderState), H = w.resumableState, w = w.renderState, Y = T.rootSegmentID, T = T.contentState; var ue = w.stylesToHoist; return w.stylesToHoist = !1, Z(B, w.startInlineScript), Z(B, cr), ue ? ((H.instructions & 4) === 0 && (H.instructions |= 4, Z(B, xt)), (H.instructions & 2) === 0 && (H.instructions |= 2, Z(B, Qo)), (H.instructions & 8) === 0 ? (H.instructions |= 8, Z(B, Q)) : Z(B, le)) : ((H.instructions & 2) === 0 && (H.instructions |= 2, Z(B, Qo)), Z(B, Sc)), H = Ce(Y.toString(16)), Z(B, w.boundaryPrefix), Z(B, H), Z(B, Fe), Z(B, w.segmentPrefix), Z(B, H), ue ? (Z(B, De), Nr(B, T)) : Z(B, Ge), T = ae(B, gt), Ss(B, w) && T } function Ht(w, B, T, H) { if (H.status === 2) return !0; var Y = T.contentState, ue = H.id; if (ue === -1) { if ((H.id = T.rootSegmentID) === -1) throw Error(t(392)); return wr(w, B, H, Y) } return ue === T.rootSegmentID ? wr(w, B, H, Y) : (wr(w, B, H, Y), T = w.resumableState, w = w.renderState, Z(B, w.startInlineScript), Z(B, cr), (T.instructions & 1) === 0 ? (T.instructions |= 1, Z(B, Ec)) : Z(B, kl), Z(B, w.segmentPrefix), ue = Ce(ue.toString(16)), Z(B, ue), Z(B, Tl), Z(B, w.placeholderPrefix), Z(B, ue), B = ae(B, ou), B) } var Tt = !1; function Zr(w, B) { M = new Uint8Array(2048), pe = 0; try { if (!(0 < w.pendingRootTasks)) { var T, H = w.completedRootSegment; if (H !== null) { if (H.status === 5) return; var Y = w.completedPreambleSegments; if (Y === null) return; Dt = w.byteSize; var ue = w.resumableState, xe = w.renderState, He = xe.preamble, Oe = He.htmlChunks, je = He.headChunks, We; if (Oe) { for (We = 0; We < Oe.length; We++)Z(B, Oe[We]); if (je) for (We = 0; We < je.length; We++)Z(B, je[We]); else Z(B, pr("head")), Z(B, cr) } else if (je) for (We = 0; We < je.length; We++)Z(B, je[We]); var nt = xe.charsetChunks; for (We = 0; We < nt.length; We++)Z(B, nt[We]); nt.length = 0, xe.preconnects.forEach(Er, B), xe.preconnects.clear(); var _t = xe.viewportChunks; for (We = 0; We < _t.length; We++)Z(B, _t[We]); _t.length = 0, xe.fontPreloads.forEach(Er, B), xe.fontPreloads.clear(), xe.highImagePreloads.forEach(Er, B), xe.highImagePreloads.clear(), lt = xe, xe.styles.forEach(lo, B), lt = null; var St = xe.importMapChunks; for (We = 0; We < St.length; We++)Z(B, St[We]); St.length = 0, xe.bootstrapScripts.forEach(Er, B), xe.scripts.forEach(Er, B), xe.scripts.clear(), xe.bulkPreloads.forEach(Er, B), xe.bulkPreloads.clear(), Oe || je || (ue.instructions |= 32); var zt = xe.hoistableChunks; for (We = 0; We < zt.length; We++)Z(B, zt[We]); for (ue = zt.length = 0; ue < Y.length; ue++) { var gn = Y[ue]; for (xe = 0; xe < gn.length; xe++)Jn(w, B, gn[xe], null) } var un = w.renderState.preamble, It = un.headChunks; (un.htmlChunks || It) && Z(B, ko("head")); var Rt = un.bodyChunks; if (Rt) for (Y = 0; Y < Rt.length; Y++)Z(B, Rt[Y]); Jn(w, B, H, null), w.completedRootSegment = null; var Fn = w.renderState; if (w.allPendingTasks !== 0 || w.clientRenderedBoundaries.length !== 0 || w.completedBoundaries.length !== 0 || w.trackedPostpones !== null && (w.trackedPostpones.rootNodes.length !== 0 || w.trackedPostpones.rootSlots !== null)) { var qr = w.resumableState; if ((qr.instructions & 64) === 0) { if (qr.instructions |= 64, Z(B, Fn.startInlineScript), (qr.instructions & 32) === 0) { qr.instructions |= 32; var bi = "_" + qr.idPrefix + "R_"; Z(B, Ds), Z(B, Ce(at(bi))), Z(B, Kn) } Z(B, cr), Z(B, io), ae(B, st) } } Ss(B, Fn) } var sn = w.renderState; H = 0; var ur = sn.viewportChunks; for (H = 0; H < ur.length; H++)Z(B, ur[H]); ur.length = 0, sn.preconnects.forEach(Er, B), sn.preconnects.clear(), sn.fontPreloads.forEach(Er, B), sn.fontPreloads.clear(), sn.highImagePreloads.forEach(Er, B), sn.highImagePreloads.clear(), sn.styles.forEach(xA, B), sn.scripts.forEach(Er, B), sn.scripts.clear(), sn.bulkPreloads.forEach(Er, B), sn.bulkPreloads.clear(); var jr = sn.hoistableChunks; for (H = 0; H < jr.length; H++)Z(B, jr[H]); jr.length = 0; var Fi = w.clientRenderedBoundaries; for (T = 0; T < Fi.length; T++) { var mo = Fi[T]; sn = B; var In = w.resumableState, fl = w.renderState, vo = mo.rootSegmentID, $i = mo.errorDigest; Z(sn, fl.startInlineScript), Z(sn, cr), (In.instructions & 4) === 0 ? (In.instructions |= 4, Z(sn, Gt)) : Z(sn, tn), Z(sn, fl.boundaryPrefix), Z(sn, Ce(vo.toString(16))), Z(sn, Sn), $i && (Z(sn, On), Z(sn, Ce(Qi($i || "")))); var es = ae(sn, vr); if (!es) { w.destination = null, T++, Fi.splice(0, T); return } } Fi.splice(0, T); var Fc = w.completedBoundaries; for (T = 0; T < Fc.length; T++)if (!Hn(w, B, Fc[T])) { w.destination = null, T++, Fc.splice(0, T); return } Fc.splice(0, T), me(B), M = new Uint8Array(2048), pe = 0, Tt = !0; var EA = w.partialBoundaries; for (T = 0; T < EA.length; T++) { var Rl = EA[T]; e: { Fi = w, mo = B, Dt = Rl.byteSize; var rA = Rl.completedSegments; for (es = 0; es < rA.length; es++)if (!Ht(Fi, mo, Rl, rA[es])) { es++, rA.splice(0, es); var ts = !1; break e } rA.splice(0, es); var zr = Rl.row; zr !== null && zr.together && Rl.pendingTasks === 1 && (zr.pendingTasks === 1 ? Lu(Fi, zr, zr.hoistables) : zr.pendingTasks--), ts = Qs(mo, Rl.contentState, Fi.renderState) } if (!ts) { w.destination = null, T++, EA.splice(0, T); return } } EA.splice(0, T), Tt = !1; var dl = w.completedBoundaries; for (T = 0; T < dl.length; T++)if (!Hn(w, B, dl[T])) { w.destination = null, T++, dl.splice(0, T); return } dl.splice(0, T) } } finally { Tt = !1, w.allPendingTasks === 0 && w.clientRenderedBoundaries.length === 0 && w.completedBoundaries.length === 0 ? (w.flushScheduled = !1, T = w.resumableState, T.hasBody && Z(B, ko("body")), T.hasHtml && Z(B, ko("html")), me(B), w.status = 14, B.close(), w.destination = null) : me(B) } } function fn(w) { w.flushScheduled = w.destination !== null, se(function () { return Nt(w) }), fe(function () { w.status === 10 && (w.status = 11), w.trackedPostpones === null && Ke(w, w.pendingRootTasks === 0) }) } function _n(w) { w.flushScheduled === !1 && w.pingedTasks.length === 0 && w.destination !== null && (w.flushScheduled = !0, fe(function () { var B = w.destination; B ? Zr(w, B) : w.flushScheduled = !1 })) } function lr(w, B) { if (w.status === 13) w.status = 14, re(B, w.fatalError); else if (w.status !== 14 && w.destination === null) { w.destination = B; try { Zr(w, B) } catch (T) { Zi(w, T, {}), BA(w, T) } } } function Or(w, B) { (w.status === 11 || w.status === 10) && (w.status = 12); try { var T = w.abortableTasks; if (0 < T.size) { var H = B === void 0 ? Error(t(432)) : typeof B == "object" && B !== null && typeof B.then == "function" ? Error(t(530)) : B; w.fatalError = H, T.forEach(function (Y) { return Te(Y, w, H) }), T.clear() } w.destination !== null && Zr(w, w.destination) } catch (Y) { Zi(w, Y, {}), BA(w, Y) } } function qi(w, B, T) { if (B === null) T.rootNodes.push(w); else { var H = T.workingMap, Y = H.get(B); Y === void 0 && (Y = [B[1], B[2], [], null], H.set(B, Y), qi(Y, B[0], T)), Y[2].push(w) } } function Jr(w) { var B = w.trackedPostpones; if (B === null || B.rootNodes.length === 0 && B.rootSlots === null) return w.trackedPostpones = null; if (w.completedRootSegment === null || w.completedRootSegment.status !== 5 && w.completedPreambleSegments !== null) { var T = w.nextSegmentId, H = B.rootSlots, Y = w.resumableState; Y.bootstrapScriptContent = void 0, Y.bootstrapScripts = void 0, Y.bootstrapModules = void 0 } else { T = 0, H = -1, Y = w.resumableState; var ue = w.renderState; Y.nextFormID = 0, Y.hasBody = !1, Y.hasHtml = !1, Y.unknownResources = { font: ue.resets.font }, Y.dnsResources = ue.resets.dns, Y.connectResources = ue.resets.connect, Y.imageResources = ue.resets.image, Y.styleResources = ue.resets.style, Y.scriptResources = {}, Y.moduleUnknownResources = {}, Y.moduleScriptResources = {}, Y.instructions = 0 } return { nextSegmentId: T, rootFormatContext: w.rootFormatContext, progressiveChunkSize: w.progressiveChunkSize, resumableState: w.resumableState, replayNodes: B.rootNodes, replaySlots: H } } function ci() { var w = n.version; if (w !== "19.2.0") throw Error(t(527, w, "19.2.0")) } return ci(), ci(), Bh.prerender = function (w, B) { return new Promise(function (T, H) { var Y = B ? B.onHeaders : void 0, ue; Y && (ue = function (We) { Y(new Headers(We)) }); var xe = Fr(B ? B.identifierPrefix : void 0, B ? B.unstable_externalRuntimeSrc : void 0, B ? B.bootstrapScriptContent : void 0, B ? B.bootstrapScripts : void 0, B ? B.bootstrapModules : void 0), He = ll(w, xe, rn(xe, void 0, B ? B.unstable_externalRuntimeSrc : void 0, B ? B.importMap : void 0, ue, B ? B.maxHeadersLength : void 0), Cr(B ? B.namespaceURI : void 0), B ? B.progressiveChunkSize : void 0, B ? B.onError : void 0, function () { var We = new ReadableStream({ type: "bytes", pull: function (nt) { lr(He, nt) }, cancel: function (nt) { He.destination = null, Or(He, nt) } }, { highWaterMark: 0 }); We = { postponed: Jr(He), prelude: We }, T(We) }, void 0, void 0, H, B ? B.onPostpone : void 0); if (B && B.signal) { var Oe = B.signal; if (Oe.aborted) Or(He, Oe.reason); else { var je = function () { Or(He, Oe.reason), Oe.removeEventListener("abort", je) }; Oe.addEventListener("abort", je) } } fn(He) }) }, Bh.renderToReadableStream = function (w, B) { return new Promise(function (T, H) { var Y, ue, xe = new Promise(function (St, zt) { ue = St, Y = zt }), He = B ? B.onHeaders : void 0, Oe; He && (Oe = function (St) { He(new Headers(St)) }); var je = Fr(B ? B.identifierPrefix : void 0, B ? B.unstable_externalRuntimeSrc : void 0, B ? B.bootstrapScriptContent : void 0, B ? B.bootstrapScripts : void 0, B ? B.bootstrapModules : void 0), We = nA(w, je, rn(je, B ? B.nonce : void 0, B ? B.unstable_externalRuntimeSrc : void 0, B ? B.importMap : void 0, Oe, B ? B.maxHeadersLength : void 0), Cr(B ? B.namespaceURI : void 0), B ? B.progressiveChunkSize : void 0, B ? B.onError : void 0, ue, function () { var St = new ReadableStream({ type: "bytes", pull: function (zt) { lr(We, zt) }, cancel: function (zt) { We.destination = null, Or(We, zt) } }, { highWaterMark: 0 }); St.allReady = xe, T(St) }, function (St) { xe.catch(function () { }), H(St) }, Y, B ? B.onPostpone : void 0, B ? B.formState : void 0); if (B && B.signal) { var nt = B.signal; if (nt.aborted) Or(We, nt.reason); else { var _t = function () { Or(We, nt.reason), nt.removeEventListener("abort", _t) }; nt.addEventListener("abort", _t) } } fn(We) }) }, Bh.resume = function (w, B, T) { return new Promise(function (H, Y) { var ue, xe, He = new Promise(function (nt, _t) { xe = nt, ue = _t }), Oe = go(w, B, rn(B.resumableState, T ? T.nonce : void 0, void 0, void 0, void 0, void 0), T ? T.onError : void 0, xe, function () { var nt = new ReadableStream({ type: "bytes", pull: function (_t) { lr(Oe, _t) }, cancel: function (_t) { Oe.destination = null, Or(Oe, _t) } }, { highWaterMark: 0 }); nt.allReady = He, H(nt) }, function (nt) { He.catch(function () { }), Y(nt) }, ue, T ? T.onPostpone : void 0); if (T && T.signal) { var je = T.signal; if (je.aborted) Or(Oe, je.reason); else { var We = function () { Or(Oe, je.reason), je.removeEventListener("abort", We) }; je.addEventListener("abort", We) } } fn(Oe) }) }, Bh.resumeAndPrerender = function (w, B, T) { return new Promise(function (H, Y) { var ue = Al(w, B, rn(B.resumableState, void 0, void 0, void 0, void 0, void 0), T ? T.onError : void 0, function () { var Oe = new ReadableStream({ type: "bytes", pull: function (je) { lr(ue, je) }, cancel: function (je) { ue.destination = null, Or(ue, je) } }, { highWaterMark: 0 }); Oe = { postponed: Jr(ue), prelude: Oe }, H(Oe) }, void 0, void 0, Y, T ? T.onPostpone : void 0); if (T && T.signal) { var xe = T.signal; if (xe.aborted) Or(ue, xe.reason); else { var He = function () { Or(ue, xe.reason), xe.removeEventListener("abort", He) }; xe.addEventListener("abort", He) } } fn(ue) }) }, Bh.version = "19.2.0", Bh
} var g3; function hre() { if (g3) return xh; g3 = 1; var n, e; return n = fre(), e = dre(), xh.version = n.version, xh.renderToString = n.renderToString, xh.renderToStaticMarkup = n.renderToStaticMarkup, xh.renderToReadableStream = e.renderToReadableStream, xh.resume = e.resume, xh } var pre = hre(); const dM = Pg(pre); var JC = function (n, e) { return JC = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, r) { t.__proto__ = r } || function (t, r) { for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]) }, JC(n, e) }; function nu(n, e) { if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null"); JC(n, e); function t() { this.constructor = n } n.prototype = e === null ? Object.create(e) : (t.prototype = e.prototype, new t) } var XC = function () { return XC = Object.assign || function (e) { for (var t, r = 1, i = arguments.length; r < i; r++) { t = arguments[r]; for (var s in t) Object.prototype.hasOwnProperty.call(t, s) && (e[s] = t[s]) } return e }, XC.apply(this, arguments) }; function Dl(n, e, t, r) { function i(s) { return s instanceof t ? s : new t(function (a) { a(s) }) } return new (t || (t = Promise))(function (s, a) { function o(f) { try { u(r.next(f)) } catch (h) { a(h) } } function A(f) { try { u(r.throw(f)) } catch (h) { a(h) } } function u(f) { f.done ? s(f.value) : i(f.value).then(o, A) } u((r = r.apply(n, [])).next()) }) } function bl(n, e) { var t = { label: 0, sent: function () { if (s[0] & 1) throw s[1]; return s[1] }, trys: [], ops: [] }, r, i, s, a; return a = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function () { return this }), a; function o(u) { return function (f) { return A([u, f]) } } function A(u) { if (r) throw new TypeError("Generator is already executing."); for (; t;)try { if (r = 1, i && (s = u[0] & 2 ? i.return : u[0] ? i.throw || ((s = i.return) && s.call(i), 0) : i.next) && !(s = s.call(i, u[1])).done) return s; switch (i = 0, s && (u = [u[0] & 2, s.value]), u[0]) { case 0: case 1: s = u; break; case 4: return t.label++, { value: u[1], done: !1 }; case 5: t.label++, i = u[1], u = [0]; continue; case 7: u = t.ops.pop(), t.trys.pop(); continue; default: if (s = t.trys, !(s = s.length > 0 && s[s.length - 1]) && (u[0] === 6 || u[0] === 2)) { t = 0; continue } if (u[0] === 3 && (!s || u[1] > s[0] && u[1] < s[3])) { t.label = u[1]; break } if (u[0] === 6 && t.label < s[1]) { t.label = s[1], s = u; break } if (s && t.label < s[2]) { t.label = s[2], t.ops.push(u); break } s[2] && t.ops.pop(), t.trys.pop(); continue }u = e.call(n, t) } catch (f) { u = [6, f], i = 0 } finally { r = s = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } } function Uy(n, e, t) { if (arguments.length === 2) for (var r = 0, i = e.length, s; r < i; r++)(s || !(r in e)) && (s || (s = Array.prototype.slice.call(e, 0, r)), s[r] = e[r]); return n.concat(s || e) } var wf = (function () { function n(e, t, r, i) { this.left = e, this.top = t, this.width = r, this.height = i } return n.prototype.add = function (e, t, r, i) { return new n(this.left + e, this.top + t, this.width + r, this.height + i) }, n.fromClientRect = function (e, t) { return new n(t.left + e.windowBounds.left, t.top + e.windowBounds.top, t.width, t.height) }, n.fromDOMRectList = function (e, t) { var r = Array.from(t).find(function (i) { return i.width !== 0 }); return r ? new n(r.left + e.windowBounds.left, r.top + e.windowBounds.top, r.width, r.height) : n.EMPTY }, n.EMPTY = new n(0, 0, 0, 0), n })(), Pb = function (n, e) { return wf.fromClientRect(n, e.getBoundingClientRect()) }, gre = function (n) { var e = n.body, t = n.documentElement; if (!e || !t) throw new Error("Unable to get document size"); var r = Math.max(Math.max(e.scrollWidth, t.scrollWidth), Math.max(e.offsetWidth, t.offsetWidth), Math.max(e.clientWidth, t.clientWidth)), i = Math.max(Math.max(e.scrollHeight, t.scrollHeight), Math.max(e.offsetHeight, t.offsetHeight), Math.max(e.clientHeight, t.clientHeight)); return new wf(0, 0, r, i) }, Hb = function (n) { for (var e = [], t = 0, r = n.length; t < r;) { var i = n.charCodeAt(t++); if (i >= 55296 && i <= 56319 && t < r) { var s = n.charCodeAt(t++); (s & 64512) === 56320 ? e.push(((i & 1023) << 10) + (s & 1023) + 65536) : (e.push(i), t--) } else e.push(i) } return e }, fa = function () { for (var n = [], e = 0; e < arguments.length; e++)n[e] = arguments[e]; if (String.fromCodePoint) return String.fromCodePoint.apply(String, n); var t = n.length; if (!t) return ""; for (var r = [], i = -1, s = ""; ++i < t;) { var a = n[i]; a <= 65535 ? r.push(a) : (a -= 65536, r.push((a >> 10) + 55296, a % 1024 + 56320)), (i + 1 === t || r.length > 16384) && (s += String.fromCharCode.apply(String, r), r.length = 0) } return s }, m3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", mre = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Oy = 0; Oy < m3.length; Oy++)mre[m3.charCodeAt(Oy)] = Oy; var v3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Xm = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Ry = 0; Ry < v3.length; Ry++)Xm[v3.charCodeAt(Ry)] = Ry; var vre = function (n) { var e = n.length * .75, t = n.length, r, i = 0, s, a, o, A; n[n.length - 1] === "=" && (e--, n[n.length - 2] === "=" && e--); var u = typeof ArrayBuffer < "u" && typeof Uint8Array < "u" && typeof Uint8Array.prototype.slice < "u" ? new ArrayBuffer(e) : new Array(e), f = Array.isArray(u) ? u : new Uint8Array(u); for (r = 0; r < t; r += 4)s = Xm[n.charCodeAt(r)], a = Xm[n.charCodeAt(r + 1)], o = Xm[n.charCodeAt(r + 2)], A = Xm[n.charCodeAt(r + 3)], f[i++] = s << 2 | a >> 4, f[i++] = (a & 15) << 4 | o >> 2, f[i++] = (o & 3) << 6 | A & 63; return u }, yre = function (n) { for (var e = n.length, t = [], r = 0; r < e; r += 2)t.push(n[r + 1] << 8 | n[r]); return t }, wre = function (n) { for (var e = n.length, t = [], r = 0; r < e; r += 4)t.push(n[r + 3] << 24 | n[r + 2] << 16 | n[r + 1] << 8 | n[r]); return t }, Gh = 5, mS = 11, qx = 2, bre = mS - Gh, hM = 65536 >> Gh, xre = 1 << Gh, $x = xre - 1, Bre = 1024 >> Gh, Cre = hM + Bre, Ere = Cre, Sre = 32, _re = Ere + Sre, Nre = 65536 >> mS, kre = 1 << bre, Tre = kre - 1, y3 = function (n, e, t) { return n.slice ? n.slice(e, t) : new Uint16Array(Array.prototype.slice.call(n, e, t)) }, Fre = function (n, e, t) { return n.slice ? n.slice(e, t) : new Uint32Array(Array.prototype.slice.call(n, e, t)) }, Ure = function (n, e) { var t = vre(n), r = Array.isArray(t) ? wre(t) : new Uint32Array(t), i = Array.isArray(t) ? yre(t) : new Uint16Array(t), s = 24, a = y3(i, s / 2, r[4] / 2), o = r[5] === 2 ? y3(i, (s + r[4]) / 2) : Fre(r, Math.ceil((s + r[4]) / 4)); return new Ore(r[0], r[1], r[2], r[3], a, o) }, Ore = (function () { function n(e, t, r, i, s, a) { this.initialValue = e, this.errorValue = t, this.highStart = r, this.highValueIndex = i, this.index = s, this.data = a } return n.prototype.get = function (e) { var t; if (e >= 0) { if (e < 55296 || e > 56319 && e <= 65535) return t = this.index[e >> Gh], t = (t << qx) + (e & $x), this.data[t]; if (e <= 65535) return t = this.index[hM + (e - 55296 >> Gh)], t = (t << qx) + (e & $x), this.data[t]; if (e < this.highStart) return t = _re - Nre + (e >> mS), t = this.index[t], t += e >> Gh & Tre, t = this.index[t], t = (t << qx) + (e & $x), this.data[t]; if (e <= 1114111) return this.data[this.highValueIndex] } return this.errorValue }, n })(), w3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Rre = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Iy = 0; Iy < w3.length; Iy++)Rre[w3.charCodeAt(Iy)] = Iy; var Ire = "KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==", b3 = 50, Lre = 1, pM = 2, gM = 3, Mre = 4, Qre = 5, x3 = 7, mM = 8, B3 = 9, pd = 10, ZC = 11, C3 = 12, qC = 13, Dre = 14, Zm = 15, $C = 16, Ly = 17, Qm = 18, Pre = 19, E3 = 20, e5 = 21, Dm = 22, eB = 23, Wp = 24, IA = 25, qm = 26, $m = 27, Yp = 28, Hre = 29, Uh = 30, jre = 31, My = 32, Qy = 33, t5 = 34, n5 = 35, r5 = 36, j0 = 37, i5 = 38, b1 = 39, x1 = 40, tB = 41, vM = 42, zre = 43, Kre = [9001, 65288], yM = "!", Lr = "", Dy = "", s5 = Ure(Ire), tf = [Uh, r5], a5 = [Lre, pM, gM, Qre], wM = [pd, mM], S3 = [$m, qm], Vre = a5.concat(wM), _3 = [i5, b1, x1, t5, n5], Gre = [Zm, qC], Wre = function (n, e) { e === void 0 && (e = "strict"); var t = [], r = [], i = []; return n.forEach(function (s, a) { var o = s5.get(s); if (o > b3 ? (i.push(!0), o -= b3) : i.push(!1), ["normal", "auto", "loose"].indexOf(e) !== -1 && [8208, 8211, 12316, 12448].indexOf(s) !== -1) return r.push(a), t.push($C); if (o === Mre || o === ZC) { if (a === 0) return r.push(a), t.push(Uh); var A = t[a - 1]; return Vre.indexOf(A) === -1 ? (r.push(r[a - 1]), t.push(A)) : (r.push(a), t.push(Uh)) } if (r.push(a), o === jre) return t.push(e === "strict" ? e5 : j0); if (o === vM || o === Hre) return t.push(Uh); if (o === zre) return s >= 131072 && s <= 196605 || s >= 196608 && s <= 262141 ? t.push(j0) : t.push(Uh); t.push(o) }), [r, t, i] }, nB = function (n, e, t, r) { var i = r[t]; if (Array.isArray(n) ? n.indexOf(i) !== -1 : n === i) for (var s = t; s <= r.length;) { s++; var a = r[s]; if (a === e) return !0; if (a !== pd) break } if (i === pd) for (var s = t; s > 0;) { s--; var o = r[s]; if (Array.isArray(n) ? n.indexOf(o) !== -1 : n === o) for (var A = t; A <= r.length;) { A++; var a = r[A]; if (a === e) return !0; if (a !== pd) break } if (o !== pd) break } return !1 }, N3 = function (n, e) { for (var t = n; t >= 0;) { var r = e[t]; if (r === pd) t--; else return r } return 0 }, Yre = function (n, e, t, r, i) { if (t[r] === 0) return Lr; var s = r - 1; if (Array.isArray(i) && i[s] === !0) return Lr; var a = s - 1, o = s + 1, A = e[s], u = a >= 0 ? e[a] : 0, f = e[o]; if (A === pM && f === gM) return Lr; if (a5.indexOf(A) !== -1) return yM; if (a5.indexOf(f) !== -1 || wM.indexOf(f) !== -1) return Lr; if (N3(s, e) === mM) return Dy; if (s5.get(n[s]) === ZC || (A === My || A === Qy) && s5.get(n[o]) === ZC || A === x3 || f === x3 || A === B3 || [pd, qC, Zm].indexOf(A) === -1 && f === B3 || [Ly, Qm, Pre, Wp, Yp].indexOf(f) !== -1 || N3(s, e) === Dm || nB(eB, Dm, s, e) || nB([Ly, Qm], e5, s, e) || nB(C3, C3, s, e)) return Lr; if (A === pd) return Dy; if (A === eB || f === eB) return Lr; if (f === $C || A === $C) return Dy; if ([qC, Zm, e5].indexOf(f) !== -1 || A === Dre || u === r5 && Gre.indexOf(A) !== -1 || A === Yp && f === r5 || f === E3 || tf.indexOf(f) !== -1 && A === IA || tf.indexOf(A) !== -1 && f === IA || A === $m && [j0, My, Qy].indexOf(f) !== -1 || [j0, My, Qy].indexOf(A) !== -1 && f === qm || tf.indexOf(A) !== -1 && S3.indexOf(f) !== -1 || S3.indexOf(A) !== -1 && tf.indexOf(f) !== -1 || [$m, qm].indexOf(A) !== -1 && (f === IA || [Dm, Zm].indexOf(f) !== -1 && e[o + 1] === IA) || [Dm, Zm].indexOf(A) !== -1 && f === IA || A === IA && [IA, Yp, Wp].indexOf(f) !== -1) return Lr; if ([IA, Yp, Wp, Ly, Qm].indexOf(f) !== -1) for (var h = s; h >= 0;) { var m = e[h]; if (m === IA) return Lr; if ([Yp, Wp].indexOf(m) !== -1) h--; else break } if ([$m, qm].indexOf(f) !== -1) for (var h = [Ly, Qm].indexOf(A) !== -1 ? a : s; h >= 0;) { var m = e[h]; if (m === IA) return Lr; if ([Yp, Wp].indexOf(m) !== -1) h--; else break } if (i5 === A && [i5, b1, t5, n5].indexOf(f) !== -1 || [b1, t5].indexOf(A) !== -1 && [b1, x1].indexOf(f) !== -1 || [x1, n5].indexOf(A) !== -1 && f === x1 || _3.indexOf(A) !== -1 && [E3, qm].indexOf(f) !== -1 || _3.indexOf(f) !== -1 && A === $m || tf.indexOf(A) !== -1 && tf.indexOf(f) !== -1 || A === Wp && tf.indexOf(f) !== -1 || tf.concat(IA).indexOf(A) !== -1 && f === Dm && Kre.indexOf(n[o]) === -1 || tf.concat(IA).indexOf(f) !== -1 && A === Qm) return Lr; if (A === tB && f === tB) { for (var p = t[s], b = 1; p > 0 && (p--, e[p] === tB);)b++; if (b % 2 !== 0) return Lr } return A === My && f === Qy ? Lr : Dy }, Jre = function (n, e) { e || (e = { lineBreak: "normal", wordBreak: "normal" }); var t = Wre(n, e.lineBreak), r = t[0], i = t[1], s = t[2]; (e.wordBreak === "break-all" || e.wordBreak === "break-word") && (i = i.map(function (o) { return [IA, Uh, vM].indexOf(o) !== -1 ? j0 : o })); var a = e.wordBreak === "keep-all" ? s.map(function (o, A) { return o && n[A] >= 19968 && n[A] <= 40959 }) : void 0; return [r, i, a] }, Xre = (function () { function n(e, t, r, i) { this.codePoints = e, this.required = t === yM, this.start = r, this.end = i } return n.prototype.slice = function () { return fa.apply(void 0, this.codePoints.slice(this.start, this.end)) }, n })(), Zre = function (n, e) { var t = Hb(n), r = Jre(t, e), i = r[0], s = r[1], a = r[2], o = t.length, A = 0, u = 0; return { next: function () { if (u >= o) return { done: !0, value: null }; for (var f = Lr; u < o && (f = Yre(t, s, i, ++u, a)) === Lr;); if (f !== Lr || u === o) { var h = new Xre(t, f, A, u); return A = u, { value: h, done: !1 } } return { done: !0, value: null } } } }, qre = 1, $re = 2, fv = 4, k3 = 8, Mw = 10, T3 = 47, g0 = 92, eie = 9, tie = 32, Py = 34, Pm = 61, nie = 35, rie = 36, iie = 37, Hy = 39, jy = 40, Hm = 41, sie = 95, hA = 45, aie = 33, oie = 60, lie = 62, Aie = 64, cie = 91, uie = 93, fie = 61, die = 123, zy = 63, hie = 125, F3 = 124, pie = 126, gie = 128, U3 = 65533, rB = 42, Dh = 43, mie = 44, vie = 58, yie = 59, z0 = 46, wie = 0, bie = 8, xie = 11, Bie = 14, Cie = 31, Eie = 127, vu = -1, bM = 48, xM = 97, BM = 101, Sie = 102, _ie = 117, Nie = 122, CM = 65, EM = 69, SM = 70, kie = 85, Tie = 90, Bl = function (n) { return n >= bM && n <= 57 }, Fie = function (n) { return n >= 55296 && n <= 57343 }, Jp = function (n) { return Bl(n) || n >= CM && n <= SM || n >= xM && n <= Sie }, Uie = function (n) { return n >= xM && n <= Nie }, Oie = function (n) { return n >= CM && n <= Tie }, Rie = function (n) { return Uie(n) || Oie(n) }, Iie = function (n) { return n >= gie }, Ky = function (n) { return n === Mw || n === eie || n === tie }, Qw = function (n) { return Rie(n) || Iie(n) || n === sie }, O3 = function (n) { return Qw(n) || Bl(n) || n === hA }, Lie = function (n) { return n >= wie && n <= bie || n === xie || n >= Bie && n <= Cie || n === Eie }, ld = function (n, e) { return n !== g0 ? !1 : e !== Mw }, Vy = function (n, e, t) { return n === hA ? Qw(e) || ld(e, t) : Qw(n) ? !0 : !!(n === g0 && ld(n, e)) }, iB = function (n, e, t) { return n === Dh || n === hA ? Bl(e) ? !0 : e === z0 && Bl(t) : Bl(n === z0 ? e : n) }, Mie = function (n) { var e = 0, t = 1; (n[e] === Dh || n[e] === hA) && (n[e] === hA && (t = -1), e++); for (var r = []; Bl(n[e]);)r.push(n[e++]); var i = r.length ? parseInt(fa.apply(void 0, r), 10) : 0; n[e] === z0 && e++; for (var s = []; Bl(n[e]);)s.push(n[e++]); var a = s.length, o = a ? parseInt(fa.apply(void 0, s), 10) : 0; (n[e] === EM || n[e] === BM) && e++; var A = 1; (n[e] === Dh || n[e] === hA) && (n[e] === hA && (A = -1), e++); for (var u = []; Bl(n[e]);)u.push(n[e++]); var f = u.length ? parseInt(fa.apply(void 0, u), 10) : 0; return t * (i + o * Math.pow(10, -a)) * Math.pow(10, A * f) }, Qie = { type: 2 }, Die = { type: 3 }, Pie = { type: 4 }, Hie = { type: 13 }, jie = { type: 8 }, zie = { type: 21 }, Kie = { type: 9 }, Vie = { type: 10 }, Gie = { type: 11 }, Wie = { type: 12 }, Yie = { type: 14 }, Gy = { type: 23 }, Jie = { type: 1 }, Xie = { type: 25 }, Zie = { type: 24 }, qie = { type: 26 }, $ie = { type: 27 }, ese = { type: 28 }, tse = { type: 29 }, nse = { type: 31 }, o5 = { type: 32 }, _M = (function () { function n() { this._value = [] } return n.prototype.write = function (e) { this._value = this._value.concat(Hb(e)) }, n.prototype.read = function () { for (var e = [], t = this.consumeToken(); t !== o5;)e.push(t), t = this.consumeToken(); return e }, n.prototype.consumeToken = function () { var e = this.consumeCodePoint(); switch (e) { case Py: return this.consumeStringToken(Py); case nie: var t = this.peekCodePoint(0), r = this.peekCodePoint(1), i = this.peekCodePoint(2); if (O3(t) || ld(r, i)) { var s = Vy(t, r, i) ? $re : qre, a = this.consumeName(); return { type: 5, value: a, flags: s } } break; case rie: if (this.peekCodePoint(0) === Pm) return this.consumeCodePoint(), Hie; break; case Hy: return this.consumeStringToken(Hy); case jy: return Qie; case Hm: return Die; case rB: if (this.peekCodePoint(0) === Pm) return this.consumeCodePoint(), Yie; break; case Dh: if (iB(e, this.peekCodePoint(0), this.peekCodePoint(1))) return this.reconsumeCodePoint(e), this.consumeNumericToken(); break; case mie: return Pie; case hA: var o = e, A = this.peekCodePoint(0), u = this.peekCodePoint(1); if (iB(o, A, u)) return this.reconsumeCodePoint(e), this.consumeNumericToken(); if (Vy(o, A, u)) return this.reconsumeCodePoint(e), this.consumeIdentLikeToken(); if (A === hA && u === lie) return this.consumeCodePoint(), this.consumeCodePoint(), Zie; break; case z0: if (iB(e, this.peekCodePoint(0), this.peekCodePoint(1))) return this.reconsumeCodePoint(e), this.consumeNumericToken(); break; case T3: if (this.peekCodePoint(0) === rB) for (this.consumeCodePoint(); ;) { var f = this.consumeCodePoint(); if (f === rB && (f = this.consumeCodePoint(), f === T3)) return this.consumeToken(); if (f === vu) return this.consumeToken() } break; case vie: return qie; case yie: return $ie; case oie: if (this.peekCodePoint(0) === aie && this.peekCodePoint(1) === hA && this.peekCodePoint(2) === hA) return this.consumeCodePoint(), this.consumeCodePoint(), Xie; break; case Aie: var h = this.peekCodePoint(0), m = this.peekCodePoint(1), p = this.peekCodePoint(2); if (Vy(h, m, p)) { var a = this.consumeName(); return { type: 7, value: a } } break; case cie: return ese; case g0: if (ld(e, this.peekCodePoint(0))) return this.reconsumeCodePoint(e), this.consumeIdentLikeToken(); break; case uie: return tse; case fie: if (this.peekCodePoint(0) === Pm) return this.consumeCodePoint(), jie; break; case die: return Gie; case hie: return Wie; case _ie: case kie: var b = this.peekCodePoint(0), y = this.peekCodePoint(1); return b === Dh && (Jp(y) || y === zy) && (this.consumeCodePoint(), this.consumeUnicodeRangeToken()), this.reconsumeCodePoint(e), this.consumeIdentLikeToken(); case F3: if (this.peekCodePoint(0) === Pm) return this.consumeCodePoint(), Kie; if (this.peekCodePoint(0) === F3) return this.consumeCodePoint(), zie; break; case pie: if (this.peekCodePoint(0) === Pm) return this.consumeCodePoint(), Vie; break; case vu: return o5 }return Ky(e) ? (this.consumeWhiteSpace(), nse) : Bl(e) ? (this.reconsumeCodePoint(e), this.consumeNumericToken()) : Qw(e) ? (this.reconsumeCodePoint(e), this.consumeIdentLikeToken()) : { type: 6, value: fa(e) } }, n.prototype.consumeCodePoint = function () { var e = this._value.shift(); return typeof e > "u" ? -1 : e }, n.prototype.reconsumeCodePoint = function (e) { this._value.unshift(e) }, n.prototype.peekCodePoint = function (e) { return e >= this._value.length ? -1 : this._value[e] }, n.prototype.consumeUnicodeRangeToken = function () { for (var e = [], t = this.consumeCodePoint(); Jp(t) && e.length < 6;)e.push(t), t = this.consumeCodePoint(); for (var r = !1; t === zy && e.length < 6;)e.push(t), t = this.consumeCodePoint(), r = !0; if (r) { var i = parseInt(fa.apply(void 0, e.map(function (A) { return A === zy ? bM : A })), 16), s = parseInt(fa.apply(void 0, e.map(function (A) { return A === zy ? SM : A })), 16); return { type: 30, start: i, end: s } } var a = parseInt(fa.apply(void 0, e), 16); if (this.peekCodePoint(0) === hA && Jp(this.peekCodePoint(1))) { this.consumeCodePoint(), t = this.consumeCodePoint(); for (var o = []; Jp(t) && o.length < 6;)o.push(t), t = this.consumeCodePoint(); var s = parseInt(fa.apply(void 0, o), 16); return { type: 30, start: a, end: s } } else return { type: 30, start: a, end: a } }, n.prototype.consumeIdentLikeToken = function () { var e = this.consumeName(); return e.toLowerCase() === "url" && this.peekCodePoint(0) === jy ? (this.consumeCodePoint(), this.consumeUrlToken()) : this.peekCodePoint(0) === jy ? (this.consumeCodePoint(), { type: 19, value: e }) : { type: 20, value: e } }, n.prototype.consumeUrlToken = function () { var e = []; if (this.consumeWhiteSpace(), this.peekCodePoint(0) === vu) return { type: 22, value: "" }; var t = this.peekCodePoint(0); if (t === Hy || t === Py) { var r = this.consumeStringToken(this.consumeCodePoint()); return r.type === 0 && (this.consumeWhiteSpace(), this.peekCodePoint(0) === vu || this.peekCodePoint(0) === Hm) ? (this.consumeCodePoint(), { type: 22, value: r.value }) : (this.consumeBadUrlRemnants(), Gy) } for (; ;) { var i = this.consumeCodePoint(); if (i === vu || i === Hm) return { type: 22, value: fa.apply(void 0, e) }; if (Ky(i)) return this.consumeWhiteSpace(), this.peekCodePoint(0) === vu || this.peekCodePoint(0) === Hm ? (this.consumeCodePoint(), { type: 22, value: fa.apply(void 0, e) }) : (this.consumeBadUrlRemnants(), Gy); if (i === Py || i === Hy || i === jy || Lie(i)) return this.consumeBadUrlRemnants(), Gy; if (i === g0) if (ld(i, this.peekCodePoint(0))) e.push(this.consumeEscapedCodePoint()); else return this.consumeBadUrlRemnants(), Gy; else e.push(i) } }, n.prototype.consumeWhiteSpace = function () { for (; Ky(this.peekCodePoint(0));)this.consumeCodePoint() }, n.prototype.consumeBadUrlRemnants = function () { for (; ;) { var e = this.consumeCodePoint(); if (e === Hm || e === vu) return; ld(e, this.peekCodePoint(0)) && this.consumeEscapedCodePoint() } }, n.prototype.consumeStringSlice = function (e) { for (var t = 5e4, r = ""; e > 0;) { var i = Math.min(t, e); r += fa.apply(void 0, this._value.splice(0, i)), e -= i } return this._value.shift(), r }, n.prototype.consumeStringToken = function (e) { var t = "", r = 0; do { var i = this._value[r]; if (i === vu || i === void 0 || i === e) return t += this.consumeStringSlice(r), { type: 0, value: t }; if (i === Mw) return this._value.splice(0, r), Jie; if (i === g0) { var s = this._value[r + 1]; s !== vu && s !== void 0 && (s === Mw ? (t += this.consumeStringSlice(r), r = -1, this._value.shift()) : ld(i, s) && (t += this.consumeStringSlice(r), t += fa(this.consumeEscapedCodePoint()), r = -1)) } r++ } while (!0) }, n.prototype.consumeNumber = function () { var e = [], t = fv, r = this.peekCodePoint(0); for ((r === Dh || r === hA) && e.push(this.consumeCodePoint()); Bl(this.peekCodePoint(0));)e.push(this.consumeCodePoint()); r = this.peekCodePoint(0); var i = this.peekCodePoint(1); if (r === z0 && Bl(i)) for (e.push(this.consumeCodePoint(), this.consumeCodePoint()), t = k3; Bl(this.peekCodePoint(0));)e.push(this.consumeCodePoint()); r = this.peekCodePoint(0), i = this.peekCodePoint(1); var s = this.peekCodePoint(2); if ((r === EM || r === BM) && ((i === Dh || i === hA) && Bl(s) || Bl(i))) for (e.push(this.consumeCodePoint(), this.consumeCodePoint()), t = k3; Bl(this.peekCodePoint(0));)e.push(this.consumeCodePoint()); return [Mie(e), t] }, n.prototype.consumeNumericToken = function () { var e = this.consumeNumber(), t = e[0], r = e[1], i = this.peekCodePoint(0), s = this.peekCodePoint(1), a = this.peekCodePoint(2); if (Vy(i, s, a)) { var o = this.consumeName(); return { type: 15, number: t, flags: r, unit: o } } return i === iie ? (this.consumeCodePoint(), { type: 16, number: t, flags: r }) : { type: 17, number: t, flags: r } }, n.prototype.consumeEscapedCodePoint = function () { var e = this.consumeCodePoint(); if (Jp(e)) { for (var t = fa(e); Jp(this.peekCodePoint(0)) && t.length < 6;)t += fa(this.consumeCodePoint()); Ky(this.peekCodePoint(0)) && this.consumeCodePoint(); var r = parseInt(t, 16); return r === 0 || Fie(r) || r > 1114111 ? U3 : r } return e === vu ? U3 : e }, n.prototype.consumeName = function () { for (var e = ""; ;) { var t = this.consumeCodePoint(); if (O3(t)) e += fa(t); else if (ld(t, this.peekCodePoint(0))) e += fa(this.consumeEscapedCodePoint()); else return this.reconsumeCodePoint(t), e } }, n })(), NM = (function () { function n(e) { this._tokens = e } return n.create = function (e) { var t = new _M; return t.write(e), new n(t.read()) }, n.parseValue = function (e) { return n.create(e).parseComponentValue() }, n.parseValues = function (e) { return n.create(e).parseComponentValues() }, n.prototype.parseComponentValue = function () { for (var e = this.consumeToken(); e.type === 31;)e = this.consumeToken(); if (e.type === 32) throw new SyntaxError("Error parsing CSS component value, unexpected EOF"); this.reconsumeToken(e); var t = this.consumeComponentValue(); do e = this.consumeToken(); while (e.type === 31); if (e.type === 32) return t; throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one") }, n.prototype.parseComponentValues = function () { for (var e = []; ;) { var t = this.consumeComponentValue(); if (t.type === 32) return e; e.push(t), e.push() } }, n.prototype.consumeComponentValue = function () { var e = this.consumeToken(); switch (e.type) { case 11: case 28: case 2: return this.consumeSimpleBlock(e.type); case 19: return this.consumeFunction(e) }return e }, n.prototype.consumeSimpleBlock = function (e) { for (var t = { type: e, values: [] }, r = this.consumeToken(); ;) { if (r.type === 32 || ise(r, e)) return t; this.reconsumeToken(r), t.values.push(this.consumeComponentValue()), r = this.consumeToken() } }, n.prototype.consumeFunction = function (e) { for (var t = { name: e.value, values: [], type: 18 }; ;) { var r = this.consumeToken(); if (r.type === 32 || r.type === 3) return t; this.reconsumeToken(r), t.values.push(this.consumeComponentValue()) } }, n.prototype.consumeToken = function () { var e = this._tokens.shift(); return typeof e > "u" ? o5 : e }, n.prototype.reconsumeToken = function (e) { this._tokens.unshift(e) }, n })(), dv = function (n) { return n.type === 15 }, Zg = function (n) { return n.type === 17 }, Ri = function (n) { return n.type === 20 }, rse = function (n) { return n.type === 0 }, l5 = function (n, e) { return Ri(n) && n.value === e }, kM = function (n) { return n.type !== 31 }, Dg = function (n) { return n.type !== 31 && n.type !== 4 }, Ou = function (n) { var e = [], t = []; return n.forEach(function (r) { if (r.type === 4) { if (t.length === 0) throw new Error("Error parsing function args, zero tokens for arg"); e.push(t), t = []; return } r.type !== 31 && t.push(r) }), t.length && e.push(t), e }, ise = function (n, e) { return e === 11 && n.type === 12 || e === 28 && n.type === 29 ? !0 : e === 2 && n.type === 3 }, Rd = function (n) { return n.type === 17 || n.type === 15 }, Fa = function (n) { return n.type === 16 || Rd(n) }, TM = function (n) { return n.length > 1 ? [n[0], n[1]] : [n[0]] }, tl = { type: 17, number: 0, flags: fv }, vS = { type: 16, number: 50, flags: fv }, gd = { type: 16, number: 100, flags: fv }, e0 = function (n, e, t) { var r = n[0], i = n[1]; return [rs(r, e), rs(typeof i < "u" ? i : r, t)] }, rs = function (n, e) { if (n.type === 16) return n.number / 100 * e; if (dv(n)) switch (n.unit) { case "rem": case "em": return 16 * n.number; case "px": default: return n.number }return n.number }, FM = "deg", UM = "grad", OM = "rad", RM = "turn", jb = { name: "angle", parse: function (n, e) { if (e.type === 15) switch (e.unit) { case FM: return Math.PI * e.number / 180; case UM: return Math.PI / 200 * e.number; case OM: return e.number; case RM: return Math.PI * 2 * e.number }throw new Error("Unsupported angle type") } }, IM = function (n) { return n.type === 15 && (n.unit === FM || n.unit === UM || n.unit === OM || n.unit === RM) }, LM = function (n) { var e = n.filter(Ri).map(function (t) { return t.value }).join(" "); switch (e) { case "to bottom right": case "to right bottom": case "left top": case "top left": return [tl, tl]; case "to top": case "bottom": return fc(0); case "to bottom left": case "to left bottom": case "right top": case "top right": return [tl, gd]; case "to right": case "left": return fc(90); case "to top left": case "to left top": case "right bottom": case "bottom right": return [gd, gd]; case "to bottom": case "top": return fc(180); case "to top right": case "to right top": case "left bottom": case "bottom left": return [gd, tl]; case "to left": case "right": return fc(270) }return 0 }, fc = function (n) { return Math.PI * n / 180 }, Sd = { name: "color", parse: function (n, e) { if (e.type === 18) { var t = sse[e.name]; if (typeof t > "u") throw new Error('Attempting to parse an unsupported color function "' + e.name + '"'); return t(n, e.values) } if (e.type === 5) { if (e.value.length === 3) { var r = e.value.substring(0, 1), i = e.value.substring(1, 2), s = e.value.substring(2, 3); return md(parseInt(r + r, 16), parseInt(i + i, 16), parseInt(s + s, 16), 1) } if (e.value.length === 4) { var r = e.value.substring(0, 1), i = e.value.substring(1, 2), s = e.value.substring(2, 3), a = e.value.substring(3, 4); return md(parseInt(r + r, 16), parseInt(i + i, 16), parseInt(s + s, 16), parseInt(a + a, 16) / 255) } if (e.value.length === 6) { var r = e.value.substring(0, 2), i = e.value.substring(2, 4), s = e.value.substring(4, 6); return md(parseInt(r, 16), parseInt(i, 16), parseInt(s, 16), 1) } if (e.value.length === 8) { var r = e.value.substring(0, 2), i = e.value.substring(2, 4), s = e.value.substring(4, 6), a = e.value.substring(6, 8); return md(parseInt(r, 16), parseInt(i, 16), parseInt(s, 16), parseInt(a, 16) / 255) } } if (e.type === 20) { var o = gf[e.value.toUpperCase()]; if (typeof o < "u") return o } return gf.TRANSPARENT } }, _d = function (n) { return (255 & n) === 0 }, bo = function (n) { var e = 255 & n, t = 255 & n >> 8, r = 255 & n >> 16, i = 255 & n >> 24; return e < 255 ? "rgba(" + i + "," + r + "," + t + "," + e / 255 + ")" : "rgb(" + i + "," + r + "," + t + ")" }, md = function (n, e, t, r) { return (n << 24 | e << 16 | t << 8 | Math.round(r * 255) << 0) >>> 0 }, R3 = function (n, e) { if (n.type === 17) return n.number; if (n.type === 16) { var t = e === 3 ? 1 : 255; return e === 3 ? n.number / 100 * t : Math.round(n.number / 100 * t) } return 0 }, I3 = function (n, e) { var t = e.filter(Dg); if (t.length === 3) { var r = t.map(R3), i = r[0], s = r[1], a = r[2]; return md(i, s, a, 1) } if (t.length === 4) { var o = t.map(R3), i = o[0], s = o[1], a = o[2], A = o[3]; return md(i, s, a, A) } return 0 }; function sB(n, e, t) { return t < 0 && (t += 1), t >= 1 && (t -= 1), t < 1 / 6 ? (e - n) * t * 6 + n : t < 1 / 2 ? e : t < 2 / 3 ? (e - n) * 6 * (2 / 3 - t) + n : n } var L3 = function (n, e) { var t = e.filter(Dg), r = t[0], i = t[1], s = t[2], a = t[3], o = (r.type === 17 ? fc(r.number) : jb.parse(n, r)) / (Math.PI * 2), A = Fa(i) ? i.number / 100 : 0, u = Fa(s) ? s.number / 100 : 0, f = typeof a < "u" && Fa(a) ? rs(a, 1) : 1; if (A === 0) return md(u * 255, u * 255, u * 255, 1); var h = u <= .5 ? u * (A + 1) : u + A - u * A, m = u * 2 - h, p = sB(m, h, o + 1 / 3), b = sB(m, h, o), y = sB(m, h, o - 1 / 3); return md(p * 255, b * 255, y * 255, f) }, sse = { hsl: L3, hsla: L3, rgb: I3, rgba: I3 }, m0 = function (n, e) { return Sd.parse(n, NM.create(e).parseComponentValue()) }, gf = { ALICEBLUE: 4042850303, ANTIQUEWHITE: 4209760255, AQUA: 16777215, AQUAMARINE: 2147472639, AZURE: 4043309055, BEIGE: 4126530815, BISQUE: 4293182719, BLACK: 255, BLANCHEDALMOND: 4293643775, BLUE: 65535, BLUEVIOLET: 2318131967, BROWN: 2771004159, BURLYWOOD: 3736635391, CADETBLUE: 1604231423, CHARTREUSE: 2147418367, CHOCOLATE: 3530104575, CORAL: 4286533887, CORNFLOWERBLUE: 1687547391, CORNSILK: 4294499583, CRIMSON: 3692313855, CYAN: 16777215, DARKBLUE: 35839, DARKCYAN: 9145343, DARKGOLDENROD: 3095837695, DARKGRAY: 2846468607, DARKGREEN: 6553855, DARKGREY: 2846468607, DARKKHAKI: 3182914559, DARKMAGENTA: 2332068863, DARKOLIVEGREEN: 1433087999, DARKORANGE: 4287365375, DARKORCHID: 2570243327, DARKRED: 2332033279, DARKSALMON: 3918953215, DARKSEAGREEN: 2411499519, DARKSLATEBLUE: 1211993087, DARKSLATEGRAY: 793726975, DARKSLATEGREY: 793726975, DARKTURQUOISE: 13554175, DARKVIOLET: 2483082239, DEEPPINK: 4279538687, DEEPSKYBLUE: 12582911, DIMGRAY: 1768516095, DIMGREY: 1768516095, DODGERBLUE: 512819199, FIREBRICK: 2988581631, FLORALWHITE: 4294635775, FORESTGREEN: 579543807, FUCHSIA: 4278255615, GAINSBORO: 3705462015, GHOSTWHITE: 4177068031, GOLD: 4292280575, GOLDENROD: 3668254975, GRAY: 2155905279, GREEN: 8388863, GREENYELLOW: 2919182335, GREY: 2155905279, HONEYDEW: 4043305215, HOTPINK: 4285117695, INDIANRED: 3445382399, INDIGO: 1258324735, IVORY: 4294963455, KHAKI: 4041641215, LAVENDER: 3873897215, LAVENDERBLUSH: 4293981695, LAWNGREEN: 2096890111, LEMONCHIFFON: 4294626815, LIGHTBLUE: 2916673279, LIGHTCORAL: 4034953471, LIGHTCYAN: 3774873599, LIGHTGOLDENRODYELLOW: 4210742015, LIGHTGRAY: 3553874943, LIGHTGREEN: 2431553791, LIGHTGREY: 3553874943, LIGHTPINK: 4290167295, LIGHTSALMON: 4288707327, LIGHTSEAGREEN: 548580095, LIGHTSKYBLUE: 2278488831, LIGHTSLATEGRAY: 2005441023, LIGHTSLATEGREY: 2005441023, LIGHTSTEELBLUE: 2965692159, LIGHTYELLOW: 4294959359, LIME: 16711935, LIMEGREEN: 852308735, LINEN: 4210091775, MAGENTA: 4278255615, MAROON: 2147483903, MEDIUMAQUAMARINE: 1724754687, MEDIUMBLUE: 52735, MEDIUMORCHID: 3126187007, MEDIUMPURPLE: 2473647103, MEDIUMSEAGREEN: 1018393087, MEDIUMSLATEBLUE: 2070474495, MEDIUMSPRINGGREEN: 16423679, MEDIUMTURQUOISE: 1221709055, MEDIUMVIOLETRED: 3340076543, MIDNIGHTBLUE: 421097727, MINTCREAM: 4127193855, MISTYROSE: 4293190143, MOCCASIN: 4293178879, NAVAJOWHITE: 4292783615, NAVY: 33023, OLDLACE: 4260751103, OLIVE: 2155872511, OLIVEDRAB: 1804477439, ORANGE: 4289003775, ORANGERED: 4282712319, ORCHID: 3664828159, PALEGOLDENROD: 4008225535, PALEGREEN: 2566625535, PALETURQUOISE: 2951671551, PALEVIOLETRED: 3681588223, PAPAYAWHIP: 4293907967, PEACHPUFF: 4292524543, PERU: 3448061951, PINK: 4290825215, PLUM: 3718307327, POWDERBLUE: 2967529215, PURPLE: 2147516671, REBECCAPURPLE: 1714657791, RED: 4278190335, ROSYBROWN: 3163525119, ROYALBLUE: 1097458175, SADDLEBROWN: 2336560127, SALMON: 4202722047, SANDYBROWN: 4104413439, SEAGREEN: 780883967, SEASHELL: 4294307583, SIENNA: 2689740287, SILVER: 3233857791, SKYBLUE: 2278484991, SLATEBLUE: 1784335871, SLATEGRAY: 1887473919, SLATEGREY: 1887473919, SNOW: 4294638335, SPRINGGREEN: 16744447, STEELBLUE: 1182971135, TAN: 3535047935, TEAL: 8421631, THISTLE: 3636451583, TOMATO: 4284696575, TRANSPARENT: 0, TURQUOISE: 1088475391, VIOLET: 4001558271, WHEAT: 4125012991, WHITE: 4294967295, WHITESMOKE: 4126537215, YELLOW: 4294902015, YELLOWGREEN: 2597139199 }, ase = { name: "background-clip", initialValue: "border-box", prefix: !1, type: 1, parse: function (n, e) { return e.map(function (t) { if (Ri(t)) switch (t.value) { case "padding-box": return 1; case "content-box": return 2 }return 0 }) } }, ose = { name: "background-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, zb = function (n, e) { var t = Sd.parse(n, e[0]), r = e[1]; return r && Fa(r) ? { color: t, stop: r } : { color: t, stop: null } }, M3 = function (n, e) { var t = n[0], r = n[n.length - 1]; t.stop === null && (t.stop = tl), r.stop === null && (r.stop = gd); for (var i = [], s = 0, a = 0; a < n.length; a++) { var o = n[a].stop; if (o !== null) { var A = rs(o, e); A > s ? i.push(A) : i.push(s), s = A } else i.push(null) } for (var u = null, a = 0; a < i.length; a++) { var f = i[a]; if (f === null) u === null && (u = a); else if (u !== null) { for (var h = a - u, m = i[u - 1], p = (f - m) / (h + 1), b = 1; b <= h; b++)i[u + b - 1] = p * b; u = null } } return n.map(function (y, E) { var _ = y.color; return { color: _, stop: Math.max(Math.min(1, i[E] / e), 0) } }) }, lse = function (n, e, t) { var r = e / 2, i = t / 2, s = rs(n[0], e) - r, a = i - rs(n[1], t); return (Math.atan2(a, s) + Math.PI * 2) % (Math.PI * 2) }, Ase = function (n, e, t) { var r = typeof n == "number" ? n : lse(n, e, t), i = Math.abs(e * Math.sin(r)) + Math.abs(t * Math.cos(r)), s = e / 2, a = t / 2, o = i / 2, A = Math.sin(r - Math.PI / 2) * o, u = Math.cos(r - Math.PI / 2) * o; return [i, s - u, s + u, a - A, a + A] }, Pc = function (n, e) { return Math.sqrt(n * n + e * e) }, Q3 = function (n, e, t, r, i) { var s = [[0, 0], [0, e], [n, 0], [n, e]]; return s.reduce(function (a, o) { var A = o[0], u = o[1], f = Pc(t - A, r - u); return (i ? f < a.optimumDistance : f > a.optimumDistance) ? { optimumCorner: o, optimumDistance: f } : a }, { optimumDistance: i ? 1 / 0 : -1 / 0, optimumCorner: null }).optimumCorner }, cse = function (n, e, t, r, i) { var s = 0, a = 0; switch (n.size) { case 0: n.shape === 0 ? s = a = Math.min(Math.abs(e), Math.abs(e - r), Math.abs(t), Math.abs(t - i)) : n.shape === 1 && (s = Math.min(Math.abs(e), Math.abs(e - r)), a = Math.min(Math.abs(t), Math.abs(t - i))); break; case 2: if (n.shape === 0) s = a = Math.min(Pc(e, t), Pc(e, t - i), Pc(e - r, t), Pc(e - r, t - i)); else if (n.shape === 1) { var o = Math.min(Math.abs(t), Math.abs(t - i)) / Math.min(Math.abs(e), Math.abs(e - r)), A = Q3(r, i, e, t, !0), u = A[0], f = A[1]; s = Pc(u - e, (f - t) / o), a = o * s } break; case 1: n.shape === 0 ? s = a = Math.max(Math.abs(e), Math.abs(e - r), Math.abs(t), Math.abs(t - i)) : n.shape === 1 && (s = Math.max(Math.abs(e), Math.abs(e - r)), a = Math.max(Math.abs(t), Math.abs(t - i))); break; case 3: if (n.shape === 0) s = a = Math.max(Pc(e, t), Pc(e, t - i), Pc(e - r, t), Pc(e - r, t - i)); else if (n.shape === 1) { var o = Math.max(Math.abs(t), Math.abs(t - i)) / Math.max(Math.abs(e), Math.abs(e - r)), h = Q3(r, i, e, t, !1), u = h[0], f = h[1]; s = Pc(u - e, (f - t) / o), a = o * s } break }return Array.isArray(n.size) && (s = rs(n.size[0], r), a = n.size.length === 2 ? rs(n.size[1], i) : s), [s, a] }, use = function (n, e) { var t = fc(180), r = []; return Ou(e).forEach(function (i, s) { if (s === 0) { var a = i[0]; if (a.type === 20 && a.value === "to") { t = LM(i); return } else if (IM(a)) { t = jb.parse(n, a); return } } var o = zb(n, i); r.push(o) }), { angle: t, stops: r, type: 1 } }, Wy = function (n, e) { var t = fc(180), r = []; return Ou(e).forEach(function (i, s) { if (s === 0) { var a = i[0]; if (a.type === 20 && ["top", "left", "right", "bottom"].indexOf(a.value) !== -1) { t = LM(i); return } else if (IM(a)) { t = (jb.parse(n, a) + fc(270)) % fc(360); return } } var o = zb(n, i); r.push(o) }), { angle: t, stops: r, type: 1 } }, fse = function (n, e) { var t = fc(180), r = [], i = 1, s = 0, a = 3, o = []; return Ou(e).forEach(function (A, u) { var f = A[0]; if (u === 0) { if (Ri(f) && f.value === "linear") { i = 1; return } else if (Ri(f) && f.value === "radial") { i = 2; return } } if (f.type === 18) { if (f.name === "from") { var h = Sd.parse(n, f.values[0]); r.push({ stop: tl, color: h }) } else if (f.name === "to") { var h = Sd.parse(n, f.values[0]); r.push({ stop: gd, color: h }) } else if (f.name === "color-stop") { var m = f.values.filter(Dg); if (m.length === 2) { var h = Sd.parse(n, m[1]), p = m[0]; Zg(p) && r.push({ stop: { type: 16, number: p.number * 100, flags: p.flags }, color: h }) } } } }), i === 1 ? { angle: (t + fc(180)) % fc(360), stops: r, type: i } : { size: a, shape: s, stops: r, position: o, type: i } }, MM = "closest-side", QM = "farthest-side", DM = "closest-corner", PM = "farthest-corner", HM = "circle", jM = "ellipse", zM = "cover", KM = "contain", dse = function (n, e) { var t = 0, r = 3, i = [], s = []; return Ou(e).forEach(function (a, o) { var A = !0; if (o === 0) { var u = !1; A = a.reduce(function (h, m) { if (u) if (Ri(m)) switch (m.value) { case "center": return s.push(vS), h; case "top": case "left": return s.push(tl), h; case "right": case "bottom": return s.push(gd), h } else (Fa(m) || Rd(m)) && s.push(m); else if (Ri(m)) switch (m.value) { case HM: return t = 0, !1; case jM: return t = 1, !1; case "at": return u = !0, !1; case MM: return r = 0, !1; case zM: case QM: return r = 1, !1; case KM: case DM: return r = 2, !1; case PM: return r = 3, !1 } else if (Rd(m) || Fa(m)) return Array.isArray(r) || (r = []), r.push(m), !1; return h }, A) } if (A) { var f = zb(n, a); i.push(f) } }), { size: r, shape: t, stops: i, position: s, type: 2 } }, Yy = function (n, e) { var t = 0, r = 3, i = [], s = []; return Ou(e).forEach(function (a, o) { var A = !0; if (o === 0 ? A = a.reduce(function (f, h) { if (Ri(h)) switch (h.value) { case "center": return s.push(vS), !1; case "top": case "left": return s.push(tl), !1; case "right": case "bottom": return s.push(gd), !1 } else if (Fa(h) || Rd(h)) return s.push(h), !1; return f }, A) : o === 1 && (A = a.reduce(function (f, h) { if (Ri(h)) switch (h.value) { case HM: return t = 0, !1; case jM: return t = 1, !1; case KM: case MM: return r = 0, !1; case QM: return r = 1, !1; case DM: return r = 2, !1; case zM: case PM: return r = 3, !1 } else if (Rd(h) || Fa(h)) return Array.isArray(r) || (r = []), r.push(h), !1; return f }, A)), A) { var u = zb(n, a); i.push(u) } }), { size: r, shape: t, stops: i, position: s, type: 2 } }, hse = function (n) { return n.type === 1 }, pse = function (n) { return n.type === 2 }, yS = { name: "image", parse: function (n, e) { if (e.type === 22) { var t = { url: e.value, type: 0 }; return n.cache.addImage(e.value), t } if (e.type === 18) { var r = VM[e.name]; if (typeof r > "u") throw new Error('Attempting to parse an unsupported image function "' + e.name + '"'); return r(n, e.values) } throw new Error("Unsupported image type " + e.type) } }; function gse(n) { return !(n.type === 20 && n.value === "none") && (n.type !== 18 || !!VM[n.name]) } var VM = { "linear-gradient": use, "-moz-linear-gradient": Wy, "-ms-linear-gradient": Wy, "-o-linear-gradient": Wy, "-webkit-linear-gradient": Wy, "radial-gradient": dse, "-moz-radial-gradient": Yy, "-ms-radial-gradient": Yy, "-o-radial-gradient": Yy, "-webkit-radial-gradient": Yy, "-webkit-gradient": fse }, mse = { name: "background-image", initialValue: "none", type: 1, prefix: !1, parse: function (n, e) { if (e.length === 0) return []; var t = e[0]; return t.type === 20 && t.value === "none" ? [] : e.filter(function (r) { return Dg(r) && gse(r) }).map(function (r) { return yS.parse(n, r) }) } }, vse = { name: "background-origin", initialValue: "border-box", prefix: !1, type: 1, parse: function (n, e) { return e.map(function (t) { if (Ri(t)) switch (t.value) { case "padding-box": return 1; case "content-box": return 2 }return 0 }) } }, yse = { name: "background-position", initialValue: "0% 0%", type: 1, prefix: !1, parse: function (n, e) { return Ou(e).map(function (t) { return t.filter(Fa) }).map(TM) } }, wse = { name: "background-repeat", initialValue: "repeat", prefix: !1, type: 1, parse: function (n, e) { return Ou(e).map(function (t) { return t.filter(Ri).map(function (r) { return r.value }).join(" ") }).map(bse) } }, bse = function (n) { switch (n) { case "no-repeat": return 1; case "repeat-x": case "repeat no-repeat": return 2; case "repeat-y": case "no-repeat repeat": return 3; case "repeat": default: return 0 } }, Bg; (function (n) { n.AUTO = "auto", n.CONTAIN = "contain", n.COVER = "cover" })(Bg || (Bg = {})); var xse = { name: "background-size", initialValue: "0", prefix: !1, type: 1, parse: function (n, e) { return Ou(e).map(function (t) { return t.filter(Bse) }) } }, Bse = function (n) { return Ri(n) || Fa(n) }, Kb = function (n) { return { name: "border-" + n + "-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" } }, Cse = Kb("top"), Ese = Kb("right"), Sse = Kb("bottom"), _se = Kb("left"), Vb = function (n) { return { name: "border-radius-" + n, initialValue: "0 0", prefix: !1, type: 1, parse: function (e, t) { return TM(t.filter(Fa)) } } }, Nse = Vb("top-left"), kse = Vb("top-right"), Tse = Vb("bottom-right"), Fse = Vb("bottom-left"), Gb = function (n) { return { name: "border-" + n + "-style", initialValue: "solid", prefix: !1, type: 2, parse: function (e, t) { switch (t) { case "none": return 0; case "dashed": return 2; case "dotted": return 3; case "double": return 4 }return 1 } } }, Use = Gb("top"), Ose = Gb("right"), Rse = Gb("bottom"), Ise = Gb("left"), Wb = function (n) { return { name: "border-" + n + "-width", initialValue: "0", type: 0, prefix: !1, parse: function (e, t) { return dv(t) ? t.number : 0 } } }, Lse = Wb("top"), Mse = Wb("right"), Qse = Wb("bottom"), Dse = Wb("left"), Pse = { name: "color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, Hse = { name: "direction", initialValue: "ltr", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "rtl": return 1; case "ltr": default: return 0 } } }, jse = { name: "display", initialValue: "inline-block", prefix: !1, type: 1, parse: function (n, e) { return e.filter(Ri).reduce(function (t, r) { return t | zse(r.value) }, 0) } }, zse = function (n) { switch (n) { case "block": case "-webkit-box": return 2; case "inline": return 4; case "run-in": return 8; case "flow": return 16; case "flow-root": return 32; case "table": return 64; case "flex": case "-webkit-flex": return 128; case "grid": case "-ms-grid": return 256; case "ruby": return 512; case "subgrid": return 1024; case "list-item": return 2048; case "table-row-group": return 4096; case "table-header-group": return 8192; case "table-footer-group": return 16384; case "table-row": return 32768; case "table-cell": return 65536; case "table-column-group": return 131072; case "table-column": return 262144; case "table-caption": return 524288; case "ruby-base": return 1048576; case "ruby-text": return 2097152; case "ruby-base-container": return 4194304; case "ruby-text-container": return 8388608; case "contents": return 16777216; case "inline-block": return 33554432; case "inline-list-item": return 67108864; case "inline-table": return 134217728; case "inline-flex": return 268435456; case "inline-grid": return 536870912 }return 0 }, Kse = { name: "float", initialValue: "none", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "left": return 1; case "right": return 2; case "inline-start": return 3; case "inline-end": return 4 }return 0 } }, Vse = { name: "letter-spacing", initialValue: "0", prefix: !1, type: 0, parse: function (n, e) { return e.type === 20 && e.value === "normal" ? 0 : e.type === 17 || e.type === 15 ? e.number : 0 } }, Dw; (function (n) { n.NORMAL = "normal", n.STRICT = "strict" })(Dw || (Dw = {})); var Gse = { name: "line-break", initialValue: "normal", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "strict": return Dw.STRICT; case "normal": default: return Dw.NORMAL } } }, Wse = { name: "line-height", initialValue: "normal", prefix: !1, type: 4 }, D3 = function (n, e) { return Ri(n) && n.value === "normal" ? 1.2 * e : n.type === 17 ? e * n.number : Fa(n) ? rs(n, e) : e }, Yse = { name: "list-style-image", initialValue: "none", type: 0, prefix: !1, parse: function (n, e) { return e.type === 20 && e.value === "none" ? null : yS.parse(n, e) } }, Jse = { name: "list-style-position", initialValue: "outside", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "inside": return 0; case "outside": default: return 1 } } }, A5 = { name: "list-style-type", initialValue: "none", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "disc": return 0; case "circle": return 1; case "square": return 2; case "decimal": return 3; case "cjk-decimal": return 4; case "decimal-leading-zero": return 5; case "lower-roman": return 6; case "upper-roman": return 7; case "lower-greek": return 8; case "lower-alpha": return 9; case "upper-alpha": return 10; case "arabic-indic": return 11; case "armenian": return 12; case "bengali": return 13; case "cambodian": return 14; case "cjk-earthly-branch": return 15; case "cjk-heavenly-stem": return 16; case "cjk-ideographic": return 17; case "devanagari": return 18; case "ethiopic-numeric": return 19; case "georgian": return 20; case "gujarati": return 21; case "gurmukhi": return 22; case "hebrew": return 22; case "hiragana": return 23; case "hiragana-iroha": return 24; case "japanese-formal": return 25; case "japanese-informal": return 26; case "kannada": return 27; case "katakana": return 28; case "katakana-iroha": return 29; case "khmer": return 30; case "korean-hangul-formal": return 31; case "korean-hanja-formal": return 32; case "korean-hanja-informal": return 33; case "lao": return 34; case "lower-armenian": return 35; case "malayalam": return 36; case "mongolian": return 37; case "myanmar": return 38; case "oriya": return 39; case "persian": return 40; case "simp-chinese-formal": return 41; case "simp-chinese-informal": return 42; case "tamil": return 43; case "telugu": return 44; case "thai": return 45; case "tibetan": return 46; case "trad-chinese-formal": return 47; case "trad-chinese-informal": return 48; case "upper-armenian": return 49; case "disclosure-open": return 50; case "disclosure-closed": return 51; case "none": default: return -1 } } }, Yb = function (n) { return { name: "margin-" + n, initialValue: "0", prefix: !1, type: 4 } }, Xse = Yb("top"), Zse = Yb("right"), qse = Yb("bottom"), $se = Yb("left"), eae = { name: "overflow", initialValue: "visible", prefix: !1, type: 1, parse: function (n, e) { return e.filter(Ri).map(function (t) { switch (t.value) { case "hidden": return 1; case "scroll": return 2; case "clip": return 3; case "auto": return 4; case "visible": default: return 0 } }) } }, tae = { name: "overflow-wrap", initialValue: "normal", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "break-word": return "break-word"; case "normal": default: return "normal" } } }, Jb = function (n) { return { name: "padding-" + n, initialValue: "0", prefix: !1, type: 3, format: "length-percentage" } }, nae = Jb("top"), rae = Jb("right"), iae = Jb("bottom"), sae = Jb("left"), aae = { name: "text-align", initialValue: "left", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "right": return 2; case "center": case "justify": return 1; case "left": default: return 0 } } }, oae = { name: "position", initialValue: "static", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "relative": return 1; case "absolute": return 2; case "fixed": return 3; case "sticky": return 4 }return 0 } }, lae = { name: "text-shadow", initialValue: "none", type: 1, prefix: !1, parse: function (n, e) { return e.length === 1 && l5(e[0], "none") ? [] : Ou(e).map(function (t) { for (var r = { color: gf.TRANSPARENT, offsetX: tl, offsetY: tl, blur: tl }, i = 0, s = 0; s < t.length; s++) { var a = t[s]; Rd(a) ? (i === 0 ? r.offsetX = a : i === 1 ? r.offsetY = a : r.blur = a, i++) : r.color = Sd.parse(n, a) } return r }) } }, Aae = { name: "text-transform", initialValue: "none", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "uppercase": return 2; case "lowercase": return 1; case "capitalize": return 3 }return 0 } }, cae = { name: "transform", initialValue: "none", prefix: !0, type: 0, parse: function (n, e) { if (e.type === 20 && e.value === "none") return null; if (e.type === 18) { var t = dae[e.name]; if (typeof t > "u") throw new Error('Attempting to parse an unsupported transform function "' + e.name + '"'); return t(e.values) } return null } }, uae = function (n) { var e = n.filter(function (t) { return t.type === 17 }).map(function (t) { return t.number }); return e.length === 6 ? e : null }, fae = function (n) { var e = n.filter(function (A) { return A.type === 17 }).map(function (A) { return A.number }), t = e[0], r = e[1]; e[2], e[3]; var i = e[4], s = e[5]; e[6], e[7], e[8], e[9], e[10], e[11]; var a = e[12], o = e[13]; return e[14], e[15], e.length === 16 ? [t, r, i, s, a, o] : null }, dae = { matrix: uae, matrix3d: fae }, P3 = { type: 16, number: 50, flags: fv }, hae = [P3, P3], pae = { name: "transform-origin", initialValue: "50% 50%", prefix: !0, type: 1, parse: function (n, e) { var t = e.filter(Fa); return t.length !== 2 ? hae : [t[0], t[1]] } }, gae = { name: "visible", initialValue: "none", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "hidden": return 1; case "collapse": return 2; case "visible": default: return 0 } } }, v0; (function (n) { n.NORMAL = "normal", n.BREAK_ALL = "break-all", n.KEEP_ALL = "keep-all" })(v0 || (v0 = {})); var mae = { name: "word-break", initialValue: "normal", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "break-all": return v0.BREAK_ALL; case "keep-all": return v0.KEEP_ALL; case "normal": default: return v0.NORMAL } } }, vae = { name: "z-index", initialValue: "auto", prefix: !1, type: 0, parse: function (n, e) { if (e.type === 20) return { auto: !0, order: 0 }; if (Zg(e)) return { auto: !1, order: e.number }; throw new Error("Invalid z-index number parsed") } }, GM = { name: "time", parse: function (n, e) { if (e.type === 15) switch (e.unit.toLowerCase()) { case "s": return 1e3 * e.number; case "ms": return e.number }throw new Error("Unsupported time type") } }, yae = { name: "opacity", initialValue: "1", type: 0, prefix: !1, parse: function (n, e) { return Zg(e) ? e.number : 1 } }, wae = { name: "text-decoration-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, bae = { name: "text-decoration-line", initialValue: "none", prefix: !1, type: 1, parse: function (n, e) { return e.filter(Ri).map(function (t) { switch (t.value) { case "underline": return 1; case "overline": return 2; case "line-through": return 3; case "none": return 4 }return 0 }).filter(function (t) { return t !== 0 }) } }, xae = { name: "font-family", initialValue: "", prefix: !1, type: 1, parse: function (n, e) { var t = [], r = []; return e.forEach(function (i) { switch (i.type) { case 20: case 0: t.push(i.value); break; case 17: t.push(i.number.toString()); break; case 4: r.push(t.join(" ")), t.length = 0; break } }), t.length && r.push(t.join(" ")), r.map(function (i) { return i.indexOf(" ") === -1 ? i : "'" + i + "'" }) } }, Bae = { name: "font-size", initialValue: "0", prefix: !1, type: 3, format: "length" }, Cae = { name: "font-weight", initialValue: "normal", type: 0, prefix: !1, parse: function (n, e) { if (Zg(e)) return e.number; if (Ri(e)) switch (e.value) { case "bold": return 700; case "normal": default: return 400 }return 400 } }, Eae = { name: "font-variant", initialValue: "none", type: 1, prefix: !1, parse: function (n, e) { return e.filter(Ri).map(function (t) { return t.value }) } }, Sae = { name: "font-style", initialValue: "normal", prefix: !1, type: 2, parse: function (n, e) { switch (e) { case "oblique": return "oblique"; case "italic": return "italic"; case "normal": default: return "normal" } } }, Za = function (n, e) { return (n & e) !== 0 }, _ae = { name: "content", initialValue: "none", type: 1, prefix: !1, parse: function (n, e) { if (e.length === 0) return []; var t = e[0]; return t.type === 20 && t.value === "none" ? [] : e } }, Nae = { name: "counter-increment", initialValue: "none", prefix: !0, type: 1, parse: function (n, e) { if (e.length === 0) return null; var t = e[0]; if (t.type === 20 && t.value === "none") return null; for (var r = [], i = e.filter(kM), s = 0; s < i.length; s++) { var a = i[s], o = i[s + 1]; if (a.type === 20) { var A = o && Zg(o) ? o.number : 1; r.push({ counter: a.value, increment: A }) } } return r } }, kae = { name: "counter-reset", initialValue: "none", prefix: !0, type: 1, parse: function (n, e) { if (e.length === 0) return []; for (var t = [], r = e.filter(kM), i = 0; i < r.length; i++) { var s = r[i], a = r[i + 1]; if (Ri(s) && s.value !== "none") { var o = a && Zg(a) ? a.number : 0; t.push({ counter: s.value, reset: o }) } } return t } }, Tae = { name: "duration", initialValue: "0s", prefix: !1, type: 1, parse: function (n, e) { return e.filter(dv).map(function (t) { return GM.parse(n, t) }) } }, Fae = { name: "quotes", initialValue: "none", prefix: !0, type: 1, parse: function (n, e) { if (e.length === 0) return null; var t = e[0]; if (t.type === 20 && t.value === "none") return null; var r = [], i = e.filter(rse); if (i.length % 2 !== 0) return null; for (var s = 0; s < i.length; s += 2) { var a = i[s].value, o = i[s + 1].value; r.push({ open: a, close: o }) } return r } }, H3 = function (n, e, t) { if (!n) return ""; var r = n[Math.min(e, n.length - 1)]; return r ? t ? r.open : r.close : "" }, Uae = { name: "box-shadow", initialValue: "none", type: 1, prefix: !1, parse: function (n, e) { return e.length === 1 && l5(e[0], "none") ? [] : Ou(e).map(function (t) { for (var r = { color: 255, offsetX: tl, offsetY: tl, blur: tl, spread: tl, inset: !1 }, i = 0, s = 0; s < t.length; s++) { var a = t[s]; l5(a, "inset") ? r.inset = !0 : Rd(a) ? (i === 0 ? r.offsetX = a : i === 1 ? r.offsetY = a : i === 2 ? r.blur = a : r.spread = a, i++) : r.color = Sd.parse(n, a) } return r }) } }, Oae = { name: "paint-order", initialValue: "normal", prefix: !1, type: 1, parse: function (n, e) { var t = [0, 1, 2], r = []; return e.filter(Ri).forEach(function (i) { switch (i.value) { case "stroke": r.push(1); break; case "fill": r.push(0); break; case "markers": r.push(2); break } }), t.forEach(function (i) { r.indexOf(i) === -1 && r.push(i) }), r } }, Rae = { name: "-webkit-text-stroke-color", initialValue: "currentcolor", prefix: !1, type: 3, format: "color" }, Iae = { name: "-webkit-text-stroke-width", initialValue: "0", type: 0, prefix: !1, parse: function (n, e) { return dv(e) ? e.number : 0 } }, Lae = (function () { function n(e, t) { var r, i; this.animationDuration = $t(e, Tae, t.animationDuration), this.backgroundClip = $t(e, ase, t.backgroundClip), this.backgroundColor = $t(e, ose, t.backgroundColor), this.backgroundImage = $t(e, mse, t.backgroundImage), this.backgroundOrigin = $t(e, vse, t.backgroundOrigin), this.backgroundPosition = $t(e, yse, t.backgroundPosition), this.backgroundRepeat = $t(e, wse, t.backgroundRepeat), this.backgroundSize = $t(e, xse, t.backgroundSize), this.borderTopColor = $t(e, Cse, t.borderTopColor), this.borderRightColor = $t(e, Ese, t.borderRightColor), this.borderBottomColor = $t(e, Sse, t.borderBottomColor), this.borderLeftColor = $t(e, _se, t.borderLeftColor), this.borderTopLeftRadius = $t(e, Nse, t.borderTopLeftRadius), this.borderTopRightRadius = $t(e, kse, t.borderTopRightRadius), this.borderBottomRightRadius = $t(e, Tse, t.borderBottomRightRadius), this.borderBottomLeftRadius = $t(e, Fse, t.borderBottomLeftRadius), this.borderTopStyle = $t(e, Use, t.borderTopStyle), this.borderRightStyle = $t(e, Ose, t.borderRightStyle), this.borderBottomStyle = $t(e, Rse, t.borderBottomStyle), this.borderLeftStyle = $t(e, Ise, t.borderLeftStyle), this.borderTopWidth = $t(e, Lse, t.borderTopWidth), this.borderRightWidth = $t(e, Mse, t.borderRightWidth), this.borderBottomWidth = $t(e, Qse, t.borderBottomWidth), this.borderLeftWidth = $t(e, Dse, t.borderLeftWidth), this.boxShadow = $t(e, Uae, t.boxShadow), this.color = $t(e, Pse, t.color), this.direction = $t(e, Hse, t.direction), this.display = $t(e, jse, t.display), this.float = $t(e, Kse, t.cssFloat), this.fontFamily = $t(e, xae, t.fontFamily), this.fontSize = $t(e, Bae, t.fontSize), this.fontStyle = $t(e, Sae, t.fontStyle), this.fontVariant = $t(e, Eae, t.fontVariant), this.fontWeight = $t(e, Cae, t.fontWeight), this.letterSpacing = $t(e, Vse, t.letterSpacing), this.lineBreak = $t(e, Gse, t.lineBreak), this.lineHeight = $t(e, Wse, t.lineHeight), this.listStyleImage = $t(e, Yse, t.listStyleImage), this.listStylePosition = $t(e, Jse, t.listStylePosition), this.listStyleType = $t(e, A5, t.listStyleType), this.marginTop = $t(e, Xse, t.marginTop), this.marginRight = $t(e, Zse, t.marginRight), this.marginBottom = $t(e, qse, t.marginBottom), this.marginLeft = $t(e, $se, t.marginLeft), this.opacity = $t(e, yae, t.opacity); var s = $t(e, eae, t.overflow); this.overflowX = s[0], this.overflowY = s[s.length > 1 ? 1 : 0], this.overflowWrap = $t(e, tae, t.overflowWrap), this.paddingTop = $t(e, nae, t.paddingTop), this.paddingRight = $t(e, rae, t.paddingRight), this.paddingBottom = $t(e, iae, t.paddingBottom), this.paddingLeft = $t(e, sae, t.paddingLeft), this.paintOrder = $t(e, Oae, t.paintOrder), this.position = $t(e, oae, t.position), this.textAlign = $t(e, aae, t.textAlign), this.textDecorationColor = $t(e, wae, (r = t.textDecorationColor) !== null && r !== void 0 ? r : t.color), this.textDecorationLine = $t(e, bae, (i = t.textDecorationLine) !== null && i !== void 0 ? i : t.textDecoration), this.textShadow = $t(e, lae, t.textShadow), this.textTransform = $t(e, Aae, t.textTransform), this.transform = $t(e, cae, t.transform), this.transformOrigin = $t(e, pae, t.transformOrigin), this.visibility = $t(e, gae, t.visibility), this.webkitTextStrokeColor = $t(e, Rae, t.webkitTextStrokeColor), this.webkitTextStrokeWidth = $t(e, Iae, t.webkitTextStrokeWidth), this.wordBreak = $t(e, mae, t.wordBreak), this.zIndex = $t(e, vae, t.zIndex) } return n.prototype.isVisible = function () { return this.display > 0 && this.opacity > 0 && this.visibility === 0 }, n.prototype.isTransparent = function () { return _d(this.backgroundColor) }, n.prototype.isTransformed = function () { return this.transform !== null }, n.prototype.isPositioned = function () { return this.position !== 0 }, n.prototype.isPositionedWithZIndex = function () { return this.isPositioned() && !this.zIndex.auto }, n.prototype.isFloating = function () { return this.float !== 0 }, n.prototype.isInlineLevel = function () { return Za(this.display, 4) || Za(this.display, 33554432) || Za(this.display, 268435456) || Za(this.display, 536870912) || Za(this.display, 67108864) || Za(this.display, 134217728) }, n })(), Mae = (function () { function n(e, t) { this.content = $t(e, _ae, t.content), this.quotes = $t(e, Fae, t.quotes) } return n })(), j3 = (function () { function n(e, t) { this.counterIncrement = $t(e, Nae, t.counterIncrement), this.counterReset = $t(e, kae, t.counterReset) } return n })(), $t = function (n, e, t) { var r = new _M, i = t !== null && typeof t < "u" ? t.toString() : e.initialValue; r.write(i); var s = new NM(r.read()); switch (e.type) { case 2: var a = s.parseComponentValue(); return e.parse(n, Ri(a) ? a.value : e.initialValue); case 0: return e.parse(n, s.parseComponentValue()); case 1: return e.parse(n, s.parseComponentValues()); case 4: return s.parseComponentValue(); case 3: switch (e.format) { case "angle": return jb.parse(n, s.parseComponentValue()); case "color": return Sd.parse(n, s.parseComponentValue()); case "image": return yS.parse(n, s.parseComponentValue()); case "length": var o = s.parseComponentValue(); return Rd(o) ? o : tl; case "length-percentage": var A = s.parseComponentValue(); return Fa(A) ? A : tl; case "time": return GM.parse(n, s.parseComponentValue()) }break } }, Qae = "data-html2canvas-debug", Dae = function (n) { var e = n.getAttribute(Qae); switch (e) { case "all": return 1; case "clone": return 2; case "parse": return 3; case "render": return 4; default: return 0 } }, c5 = function (n, e) { var t = Dae(n); return t === 1 || e === t }, Ru = (function () { function n(e, t) { if (this.context = e, this.textNodes = [], this.elements = [], this.flags = 0, c5(t, 3)) debugger; this.styles = new Lae(e, window.getComputedStyle(t, null)), d5(t) && (this.styles.animationDuration.some(function (r) { return r > 0 }) && (t.style.animationDuration = "0s"), this.styles.transform !== null && (t.style.transform = "none")), this.bounds = Pb(this.context, t), c5(t, 4) && (this.flags |= 16) } return n })(), Pae = "AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=", z3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", t0 = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Jy = 0; Jy < z3.length; Jy++)t0[z3.charCodeAt(Jy)] = Jy; var Hae = function (n) { var e = n.length * .75, t = n.length, r, i = 0, s, a, o, A; n[n.length - 1] === "=" && (e--, n[n.length - 2] === "=" && e--); var u = typeof ArrayBuffer < "u" && typeof Uint8Array < "u" && typeof Uint8Array.prototype.slice < "u" ? new ArrayBuffer(e) : new Array(e), f = Array.isArray(u) ? u : new Uint8Array(u); for (r = 0; r < t; r += 4)s = t0[n.charCodeAt(r)], a = t0[n.charCodeAt(r + 1)], o = t0[n.charCodeAt(r + 2)], A = t0[n.charCodeAt(r + 3)], f[i++] = s << 2 | a >> 4, f[i++] = (a & 15) << 4 | o >> 2, f[i++] = (o & 3) << 6 | A & 63; return u }, jae = function (n) { for (var e = n.length, t = [], r = 0; r < e; r += 2)t.push(n[r + 1] << 8 | n[r]); return t }, zae = function (n) { for (var e = n.length, t = [], r = 0; r < e; r += 4)t.push(n[r + 3] << 24 | n[r + 2] << 16 | n[r + 1] << 8 | n[r]); return t }, Wh = 5, wS = 11, aB = 2, Kae = wS - Wh, WM = 65536 >> Wh, Vae = 1 << Wh, oB = Vae - 1, Gae = 1024 >> Wh, Wae = WM + Gae, Yae = Wae, Jae = 32, Xae = Yae + Jae, Zae = 65536 >> wS, qae = 1 << Kae, $ae = qae - 1, K3 = function (n, e, t) { return n.slice ? n.slice(e, t) : new Uint16Array(Array.prototype.slice.call(n, e, t)) }, eoe = function (n, e, t) { return n.slice ? n.slice(e, t) : new Uint32Array(Array.prototype.slice.call(n, e, t)) }, toe = function (n, e) { var t = Hae(n), r = Array.isArray(t) ? zae(t) : new Uint32Array(t), i = Array.isArray(t) ? jae(t) : new Uint16Array(t), s = 24, a = K3(i, s / 2, r[4] / 2), o = r[5] === 2 ? K3(i, (s + r[4]) / 2) : eoe(r, Math.ceil((s + r[4]) / 4)); return new noe(r[0], r[1], r[2], r[3], a, o) }, noe = (function () { function n(e, t, r, i, s, a) { this.initialValue = e, this.errorValue = t, this.highStart = r, this.highValueIndex = i, this.index = s, this.data = a } return n.prototype.get = function (e) { var t; if (e >= 0) { if (e < 55296 || e > 56319 && e <= 65535) return t = this.index[e >> Wh], t = (t << aB) + (e & oB), this.data[t]; if (e <= 65535) return t = this.index[WM + (e - 55296 >> Wh)], t = (t << aB) + (e & oB), this.data[t]; if (e < this.highStart) return t = Xae - Zae + (e >> wS), t = this.index[t], t += e >> Wh & $ae, t = this.index[t], t = (t << aB) + (e & oB), this.data[t]; if (e <= 1114111) return this.data[this.highValueIndex] } return this.errorValue }, n })(), V3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", roe = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Xy = 0; Xy < V3.length; Xy++)roe[V3.charCodeAt(Xy)] = Xy; var ioe = 1, lB = 2, AB = 3, G3 = 4, W3 = 5, soe = 7, Y3 = 8, cB = 9, uB = 10, J3 = 11, X3 = 12, Z3 = 13, q3 = 14, fB = 15, aoe = function (n) { for (var e = [], t = 0, r = n.length; t < r;) { var i = n.charCodeAt(t++); if (i >= 55296 && i <= 56319 && t < r) { var s = n.charCodeAt(t++); (s & 64512) === 56320 ? e.push(((i & 1023) << 10) + (s & 1023) + 65536) : (e.push(i), t--) } else e.push(i) } return e }, ooe = function () { for (var n = [], e = 0; e < arguments.length; e++)n[e] = arguments[e]; if (String.fromCodePoint) return String.fromCodePoint.apply(String, n); var t = n.length; if (!t) return ""; for (var r = [], i = -1, s = ""; ++i < t;) { var a = n[i]; a <= 65535 ? r.push(a) : (a -= 65536, r.push((a >> 10) + 55296, a % 1024 + 56320)), (i + 1 === t || r.length > 16384) && (s += String.fromCharCode.apply(String, r), r.length = 0) } return s }, loe = toe(Pae), sc = "", dB = "", Aoe = function (n) { return loe.get(n) }, coe = function (n, e, t) { var r = t - 2, i = e[r], s = e[t - 1], a = e[t]; if (s === lB && a === AB) return sc; if (s === lB || s === AB || s === G3 || a === lB || a === AB || a === G3) return dB; if (s === Y3 && [Y3, cB, J3, X3].indexOf(a) !== -1 || (s === J3 || s === cB) && (a === cB || a === uB) || (s === X3 || s === uB) && a === uB || a === Z3 || a === W3 || a === soe || s === ioe) return sc; if (s === Z3 && a === q3) { for (; i === W3;)i = e[--r]; if (i === q3) return sc } if (s === fB && a === fB) { for (var o = 0; i === fB;)o++, i = e[--r]; if (o % 2 === 0) return sc } return dB }, uoe = function (n) { var e = aoe(n), t = e.length, r = 0, i = 0, s = e.map(Aoe); return { next: function () { if (r >= t) return { done: !0, value: null }; for (var a = sc; r < t && (a = coe(e, s, ++r)) === sc;); if (a !== sc || r === t) { var o = ooe.apply(null, e.slice(i, r)); return i = r, { value: o, done: !1 } } return { done: !0, value: null } } } }, foe = function (n) { for (var e = uoe(n), t = [], r; !(r = e.next()).done;)r.value && t.push(r.value.slice()); return t }, doe = function (n) { var e = 123; if (n.createRange) { var t = n.createRange(); if (t.getBoundingClientRect) { var r = n.createElement("boundtest"); r.style.height = e + "px", r.style.display = "block", n.body.appendChild(r), t.selectNode(r); var i = t.getBoundingClientRect(), s = Math.round(i.height); if (n.body.removeChild(r), s === e) return !0 } } return !1 }, hoe = function (n) { var e = n.createElement("boundtest"); e.style.width = "50px", e.style.display = "block", e.style.fontSize = "12px", e.style.letterSpacing = "0px", e.style.wordSpacing = "0px", n.body.appendChild(e); var t = n.createRange(); e.innerHTML = typeof "".repeat == "function" ? "&#128104;".repeat(10) : ""; var r = e.firstChild, i = Hb(r.data).map(function (A) { return fa(A) }), s = 0, a = {}, o = i.every(function (A, u) { t.setStart(r, s), t.setEnd(r, s + A.length); var f = t.getBoundingClientRect(); s += A.length; var h = f.x > a.x || f.y > a.y; return a = f, u === 0 ? !0 : h }); return n.body.removeChild(e), o }, poe = function () { return typeof new Image().crossOrigin < "u" }, goe = function () { return typeof new XMLHttpRequest().responseType == "string" }, moe = function (n) { var e = new Image, t = n.createElement("canvas"), r = t.getContext("2d"); if (!r) return !1; e.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>"; try { r.drawImage(e, 0, 0), t.toDataURL() } catch { return !1 } return !0 }, $3 = function (n) { return n[0] === 0 && n[1] === 255 && n[2] === 0 && n[3] === 255 }, voe = function (n) { var e = n.createElement("canvas"), t = 100; e.width = t, e.height = t; var r = e.getContext("2d"); if (!r) return Promise.reject(!1); r.fillStyle = "rgb(0, 255, 0)", r.fillRect(0, 0, t, t); var i = new Image, s = e.toDataURL(); i.src = s; var a = u5(t, t, 0, 0, i); return r.fillStyle = "red", r.fillRect(0, 0, t, t), eT(a).then(function (o) { r.drawImage(o, 0, 0); var A = r.getImageData(0, 0, t, t).data; r.fillStyle = "red", r.fillRect(0, 0, t, t); var u = n.createElement("div"); return u.style.backgroundImage = "url(" + s + ")", u.style.height = t + "px", $3(A) ? eT(u5(t, t, 0, 0, u)) : Promise.reject(!1) }).then(function (o) { return r.drawImage(o, 0, 0), $3(r.getImageData(0, 0, t, t).data) }).catch(function () { return !1 }) }, u5 = function (n, e, t, r, i) { var s = "http://www.w3.org/2000/svg", a = document.createElementNS(s, "svg"), o = document.createElementNS(s, "foreignObject"); return a.setAttributeNS(null, "width", n.toString()), a.setAttributeNS(null, "height", e.toString()), o.setAttributeNS(null, "width", "100%"), o.setAttributeNS(null, "height", "100%"), o.setAttributeNS(null, "x", t.toString()), o.setAttributeNS(null, "y", r.toString()), o.setAttributeNS(null, "externalResourcesRequired", "true"), a.appendChild(o), o.appendChild(i), a }, eT = function (n) { return new Promise(function (e, t) { var r = new Image; r.onload = function () { return e(r) }, r.onerror = t, r.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(n)) }) }, qo = { get SUPPORT_RANGE_BOUNDS() { var n = doe(document); return Object.defineProperty(qo, "SUPPORT_RANGE_BOUNDS", { value: n }), n }, get SUPPORT_WORD_BREAKING() { var n = qo.SUPPORT_RANGE_BOUNDS && hoe(document); return Object.defineProperty(qo, "SUPPORT_WORD_BREAKING", { value: n }), n }, get SUPPORT_SVG_DRAWING() { var n = moe(document); return Object.defineProperty(qo, "SUPPORT_SVG_DRAWING", { value: n }), n }, get SUPPORT_FOREIGNOBJECT_DRAWING() { var n = typeof Array.from == "function" && typeof window.fetch == "function" ? voe(document) : Promise.resolve(!1); return Object.defineProperty(qo, "SUPPORT_FOREIGNOBJECT_DRAWING", { value: n }), n }, get SUPPORT_CORS_IMAGES() { var n = poe(); return Object.defineProperty(qo, "SUPPORT_CORS_IMAGES", { value: n }), n }, get SUPPORT_RESPONSE_TYPE() { var n = goe(); return Object.defineProperty(qo, "SUPPORT_RESPONSE_TYPE", { value: n }), n }, get SUPPORT_CORS_XHR() { var n = "withCredentials" in new XMLHttpRequest; return Object.defineProperty(qo, "SUPPORT_CORS_XHR", { value: n }), n }, get SUPPORT_NATIVE_TEXT_SEGMENTATION() { var n = !!(typeof Intl < "u" && Intl.Segmenter); return Object.defineProperty(qo, "SUPPORT_NATIVE_TEXT_SEGMENTATION", { value: n }), n } }, y0 = (function () { function n(e, t) { this.text = e, this.bounds = t } return n })(), yoe = function (n, e, t, r) { var i = xoe(e, t), s = [], a = 0; return i.forEach(function (o) { if (t.textDecorationLine.length || o.trim().length > 0) if (qo.SUPPORT_RANGE_BOUNDS) { var A = tT(r, a, o.length).getClientRects(); if (A.length > 1) { var u = bS(o), f = 0; u.forEach(function (m) { s.push(new y0(m, wf.fromDOMRectList(n, tT(r, f + a, m.length).getClientRects()))), f += m.length }) } else s.push(new y0(o, wf.fromDOMRectList(n, A))) } else { var h = r.splitText(o.length); s.push(new y0(o, woe(n, r))), r = h } else qo.SUPPORT_RANGE_BOUNDS || (r = r.splitText(o.length)); a += o.length }), s }, woe = function (n, e) { var t = e.ownerDocument; if (t) { var r = t.createElement("html2canvaswrapper"); r.appendChild(e.cloneNode(!0)); var i = e.parentNode; if (i) { i.replaceChild(r, e); var s = Pb(n, r); return r.firstChild && i.replaceChild(r.firstChild, r), s } } return wf.EMPTY }, tT = function (n, e, t) { var r = n.ownerDocument; if (!r) throw new Error("Node has no owner document"); var i = r.createRange(); return i.setStart(n, e), i.setEnd(n, e + t), i }, bS = function (n) { if (qo.SUPPORT_NATIVE_TEXT_SEGMENTATION) { var e = new Intl.Segmenter(void 0, { granularity: "grapheme" }); return Array.from(e.segment(n)).map(function (t) { return t.segment }) } return foe(n) }, boe = function (n, e) { if (qo.SUPPORT_NATIVE_TEXT_SEGMENTATION) { var t = new Intl.Segmenter(void 0, { granularity: "word" }); return Array.from(t.segment(n)).map(function (r) { return r.segment }) } return Coe(n, e) }, xoe = function (n, e) { return e.letterSpacing !== 0 ? bS(n) : boe(n, e) }, Boe = [32, 160, 4961, 65792, 65793, 4153, 4241], Coe = function (n, e) { for (var t = Zre(n, { lineBreak: e.lineBreak, wordBreak: e.overflowWrap === "break-word" ? "break-word" : e.wordBreak }), r = [], i, s = function () { if (i.value) { var a = i.value.slice(), o = Hb(a), A = ""; o.forEach(function (u) { Boe.indexOf(u) === -1 ? A += fa(u) : (A.length && r.push(A), r.push(fa(u)), A = "") }), A.length && r.push(A) } }; !(i = t.next()).done;)s(); return r }, Eoe = (function () { function n(e, t, r) { this.text = Soe(t.data, r.textTransform), this.textBounds = yoe(e, this.text, r, t) } return n })(), Soe = function (n, e) { switch (e) { case 1: return n.toLowerCase(); case 3: return n.replace(_oe, Noe); case 2: return n.toUpperCase(); default: return n } }, _oe = /(^|\s|:|-|\(|\))([a-z])/g, Noe = function (n, e, t) { return n.length > 0 ? e + t.toUpperCase() : n }, YM = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i.src = r.currentSrc || r.src, i.intrinsicWidth = r.naturalWidth, i.intrinsicHeight = r.naturalHeight, i.context.cache.addImage(i.src), i } return e })(Ru), JM = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i.canvas = r, i.intrinsicWidth = r.width, i.intrinsicHeight = r.height, i } return e })(Ru), XM = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this, s = new XMLSerializer, a = Pb(t, r); return r.setAttribute("width", a.width + "px"), r.setAttribute("height", a.height + "px"), i.svg = "data:image/svg+xml," + encodeURIComponent(s.serializeToString(r)), i.intrinsicWidth = r.width.baseVal.value, i.intrinsicHeight = r.height.baseVal.value, i.context.cache.addImage(i.svg), i } return e })(Ru), ZM = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i.value = r.value, i } return e })(Ru), f5 = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i.start = r.start, i.reversed = typeof r.reversed == "boolean" && r.reversed === !0, i } return e })(Ru), koe = [{ type: 15, flags: 0, unit: "px", number: 3 }], Toe = [{ type: 16, flags: 0, number: 50 }], Foe = function (n) { return n.width > n.height ? new wf(n.left + (n.width - n.height) / 2, n.top, n.height, n.height) : n.width < n.height ? new wf(n.left, n.top + (n.height - n.width) / 2, n.width, n.width) : n }, Uoe = function (n) { var e = n.type === Ooe ? new Array(n.value.length + 1).join("") : n.value; return e.length === 0 ? n.placeholder || "" : e }, Pw = "checkbox", Hw = "radio", Ooe = "password", nT = 707406591, xS = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; switch (i.type = r.type.toLowerCase(), i.checked = r.checked, i.value = Uoe(r), (i.type === Pw || i.type === Hw) && (i.styles.backgroundColor = 3739148031, i.styles.borderTopColor = i.styles.borderRightColor = i.styles.borderBottomColor = i.styles.borderLeftColor = 2779096575, i.styles.borderTopWidth = i.styles.borderRightWidth = i.styles.borderBottomWidth = i.styles.borderLeftWidth = 1, i.styles.borderTopStyle = i.styles.borderRightStyle = i.styles.borderBottomStyle = i.styles.borderLeftStyle = 1, i.styles.backgroundClip = [0], i.styles.backgroundOrigin = [0], i.bounds = Foe(i.bounds)), i.type) { case Pw: i.styles.borderTopRightRadius = i.styles.borderTopLeftRadius = i.styles.borderBottomRightRadius = i.styles.borderBottomLeftRadius = koe; break; case Hw: i.styles.borderTopRightRadius = i.styles.borderTopLeftRadius = i.styles.borderBottomRightRadius = i.styles.borderBottomLeftRadius = Toe; break }return i } return e })(Ru), qM = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this, s = r.options[r.selectedIndex || 0]; return i.value = s && s.text || "", i } return e })(Ru), $M = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i.value = r.value, i } return e })(Ru), eQ = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; i.src = r.src, i.width = parseInt(r.width, 10) || 0, i.height = parseInt(r.height, 10) || 0, i.backgroundColor = i.styles.backgroundColor; try { if (r.contentWindow && r.contentWindow.document && r.contentWindow.document.documentElement) { i.tree = nQ(t, r.contentWindow.document.documentElement); var s = r.contentWindow.document.documentElement ? m0(t, getComputedStyle(r.contentWindow.document.documentElement).backgroundColor) : gf.TRANSPARENT, a = r.contentWindow.document.body ? m0(t, getComputedStyle(r.contentWindow.document.body).backgroundColor) : gf.TRANSPARENT; i.backgroundColor = _d(s) ? _d(a) ? i.styles.backgroundColor : a : s } } catch { } return i } return e })(Ru), Roe = ["OL", "UL", "MENU"], B1 = function (n, e, t, r) { for (var i = e.firstChild, s = void 0; i; i = s)if (s = i.nextSibling, rQ(i) && i.data.trim().length > 0) t.textNodes.push(new Eoe(n, i, t.styles)); else if (pg(i)) if (oQ(i) && i.assignedNodes) i.assignedNodes().forEach(function (o) { return B1(n, o, t, r) }); else { var a = tQ(n, i); a.styles.isVisible() && (Ioe(i, a, r) ? a.flags |= 4 : Loe(a.styles) && (a.flags |= 2), Roe.indexOf(i.tagName) !== -1 && (a.flags |= 8), t.elements.push(a), i.slot, i.shadowRoot ? B1(n, i.shadowRoot, a, r) : !jw(i) && !iQ(i) && !zw(i) && B1(n, i, a, r)) } }, tQ = function (n, e) { return h5(e) ? new YM(n, e) : sQ(e) ? new JM(n, e) : iQ(e) ? new XM(n, e) : Moe(e) ? new ZM(n, e) : Qoe(e) ? new f5(n, e) : Doe(e) ? new xS(n, e) : zw(e) ? new qM(n, e) : jw(e) ? new $M(n, e) : aQ(e) ? new eQ(n, e) : new Ru(n, e) }, nQ = function (n, e) { var t = tQ(n, e); return t.flags |= 4, B1(n, e, t, t), t }, Ioe = function (n, e, t) { return e.styles.isPositionedWithZIndex() || e.styles.opacity < 1 || e.styles.isTransformed() || BS(n) && t.styles.isTransparent() }, Loe = function (n) { return n.isPositioned() || n.isFloating() }, rQ = function (n) { return n.nodeType === Node.TEXT_NODE }, pg = function (n) { return n.nodeType === Node.ELEMENT_NODE }, d5 = function (n) { return pg(n) && typeof n.style < "u" && !C1(n) }, C1 = function (n) { return typeof n.className == "object" }, Moe = function (n) { return n.tagName === "LI" }, Qoe = function (n) { return n.tagName === "OL" }, Doe = function (n) { return n.tagName === "INPUT" }, Poe = function (n) { return n.tagName === "HTML" }, iQ = function (n) { return n.tagName === "svg" }, BS = function (n) { return n.tagName === "BODY" }, sQ = function (n) { return n.tagName === "CANVAS" }, rT = function (n) { return n.tagName === "VIDEO" }, h5 = function (n) { return n.tagName === "IMG" }, aQ = function (n) { return n.tagName === "IFRAME" }, iT = function (n) { return n.tagName === "STYLE" }, Hoe = function (n) { return n.tagName === "SCRIPT" }, jw = function (n) { return n.tagName === "TEXTAREA" }, zw = function (n) { return n.tagName === "SELECT" }, oQ = function (n) { return n.tagName === "SLOT" }, sT = function (n) { return n.tagName.indexOf("-") > 0 }, joe = (function () { function n() { this.counters = {} } return n.prototype.getCounterValue = function (e) { var t = this.counters[e]; return t && t.length ? t[t.length - 1] : 1 }, n.prototype.getCounterValues = function (e) { var t = this.counters[e]; return t || [] }, n.prototype.pop = function (e) { var t = this; e.forEach(function (r) { return t.counters[r].pop() }) }, n.prototype.parse = function (e) { var t = this, r = e.counterIncrement, i = e.counterReset, s = !0; r !== null && r.forEach(function (o) { var A = t.counters[o.counter]; A && o.increment !== 0 && (s = !1, A.length || A.push(1), A[Math.max(0, A.length - 1)] += o.increment) }); var a = []; return s && i.forEach(function (o) { var A = t.counters[o.counter]; a.push(o.counter), A || (A = t.counters[o.counter] = []), A.push(o.reset) }), a }, n })(), aT = { integers: [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1], values: ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"] }, oT = { integers: [9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""] }, zoe = { integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""] }, Koe = { integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""] }, Xp = function (n, e, t, r, i, s) { return n < e || n > t ? K0(n, i, s.length > 0) : r.integers.reduce(function (a, o, A) { for (; n >= o;)n -= o, a += r.values[A]; return a }, "") + s }, lQ = function (n, e, t, r) { var i = ""; do t || n--, i = r(n) + i, n /= e; while (n * e >= e); return i }, ca = function (n, e, t, r, i) { var s = t - e + 1; return (n < 0 ? "-" : "") + (lQ(Math.abs(n), s, r, function (a) { return fa(Math.floor(a % s) + e) }) + i) }, Ch = function (n, e, t) { t === void 0 && (t = ". "); var r = e.length; return lQ(Math.abs(n), r, !1, function (i) { return e[Math.floor(i % r)] }) + t }, cg = 1, rd = 2, id = 4, n0 = 8, nf = function (n, e, t, r, i, s) { if (n < -9999 || n > 9999) return K0(n, 4, i.length > 0); var a = Math.abs(n), o = i; if (a === 0) return e[0] + o; for (var A = 0; a > 0 && A <= 4; A++) { var u = a % 10; u === 0 && Za(s, cg) && o !== "" ? o = e[u] + o : u > 1 || u === 1 && A === 0 || u === 1 && A === 1 && Za(s, rd) || u === 1 && A === 1 && Za(s, id) && n > 100 || u === 1 && A > 1 && Za(s, n0) ? o = e[u] + (A > 0 ? t[A - 1] : "") + o : u === 1 && A > 0 && (o = t[A - 1] + o), a = Math.floor(a / 10) } return (n < 0 ? r : "") + o }, lT = "", AT = "", cT = "", hB = "", K0 = function (n, e, t) { var r = t ? ". " : "", i = t ? "" : "", s = t ? ", " : "", a = t ? " " : ""; switch (e) { case 0: return "" + a; case 1: return "" + a; case 2: return "" + a; case 5: var o = ca(n, 48, 57, !0, r); return o.length < 4 ? "0" + o : o; case 4: return Ch(n, "", i); case 6: return Xp(n, 1, 3999, aT, 3, r).toLowerCase(); case 7: return Xp(n, 1, 3999, aT, 3, r); case 8: return ca(n, 945, 969, !1, r); case 9: return ca(n, 97, 122, !1, r); case 10: return ca(n, 65, 90, !1, r); case 11: return ca(n, 1632, 1641, !0, r); case 12: case 49: return Xp(n, 1, 9999, oT, 3, r); case 35: return Xp(n, 1, 9999, oT, 3, r).toLowerCase(); case 13: return ca(n, 2534, 2543, !0, r); case 14: case 30: return ca(n, 6112, 6121, !0, r); case 15: return Ch(n, "", i); case 16: return Ch(n, "", i); case 17: case 48: return nf(n, "", lT, "", i, rd | id | n0); case 47: return nf(n, "", AT, "", i, cg | rd | id | n0); case 42: return nf(n, "", lT, "", i, rd | id | n0); case 41: return nf(n, "", AT, "", i, cg | rd | id | n0); case 26: return nf(n, "", "", cT, i, 0); case 25: return nf(n, "", "", cT, i, cg | rd | id); case 31: return nf(n, "", "", hB, s, cg | rd | id); case 33: return nf(n, "", "", hB, s, 0); case 32: return nf(n, "", "", hB, s, cg | rd | id); case 18: return ca(n, 2406, 2415, !0, r); case 20: return Xp(n, 1, 19999, Koe, 3, r); case 21: return ca(n, 2790, 2799, !0, r); case 22: return ca(n, 2662, 2671, !0, r); case 22: return Xp(n, 1, 10999, zoe, 3, r); case 23: return Ch(n, ""); case 24: return Ch(n, ""); case 27: return ca(n, 3302, 3311, !0, r); case 28: return Ch(n, "", i); case 29: return Ch(n, "", i); case 34: return ca(n, 3792, 3801, !0, r); case 37: return ca(n, 6160, 6169, !0, r); case 38: return ca(n, 4160, 4169, !0, r); case 39: return ca(n, 2918, 2927, !0, r); case 40: return ca(n, 1776, 1785, !0, r); case 43: return ca(n, 3046, 3055, !0, r); case 44: return ca(n, 3174, 3183, !0, r); case 45: return ca(n, 3664, 3673, !0, r); case 46: return ca(n, 3872, 3881, !0, r); case 3: default: return ca(n, 48, 57, !0, r) } }, AQ = "data-html2canvas-ignore", uT = (function () { function n(e, t, r) { if (this.context = e, this.options = r, this.scrolledElements = [], this.referenceElement = t, this.counters = new joe, this.quoteDepth = 0, !t.ownerDocument) throw new Error("Cloned element does not have an owner document"); this.documentElement = this.cloneNode(t.ownerDocument.documentElement, !1) } return n.prototype.toIFrame = function (e, t) { var r = this, i = Voe(e, t); if (!i.contentWindow) return Promise.reject("Unable to find iframe window"); var s = e.defaultView.pageXOffset, a = e.defaultView.pageYOffset, o = i.contentWindow, A = o.document, u = Yoe(i).then(function () { return Dl(r, void 0, void 0, function () { var f, h; return bl(this, function (m) { switch (m.label) { case 0: return this.scrolledElements.forEach(qoe), o && (o.scrollTo(t.left, t.top), /(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (o.scrollY !== t.top || o.scrollX !== t.left) && (this.context.logger.warn("Unable to restore scroll position for cloned document"), this.context.windowBounds = this.context.windowBounds.add(o.scrollX - t.left, o.scrollY - t.top, 0, 0))), f = this.options.onclone, h = this.clonedReferenceElement, typeof h > "u" ? [2, Promise.reject("Error finding the " + this.referenceElement.nodeName + " in the cloned document")] : A.fonts && A.fonts.ready ? [4, A.fonts.ready] : [3, 2]; case 1: m.sent(), m.label = 2; case 2: return /(AppleWebKit)/g.test(navigator.userAgent) ? [4, Woe(A)] : [3, 4]; case 3: m.sent(), m.label = 4; case 4: return typeof f == "function" ? [2, Promise.resolve().then(function () { return f(A, h) }).then(function () { return i })] : [2, i] } }) }) }); return A.open(), A.write(Xoe(document.doctype) + "<html></html>"), Zoe(this.referenceElement.ownerDocument, s, a), A.replaceChild(A.adoptNode(this.documentElement), A.documentElement), A.close(), u }, n.prototype.createElementClone = function (e) { if (c5(e, 2)) debugger; if (sQ(e)) return this.createCanvasClone(e); if (rT(e)) return this.createVideoClone(e); if (iT(e)) return this.createStyleClone(e); var t = e.cloneNode(!1); return h5(t) && (h5(e) && e.currentSrc && e.currentSrc !== e.src && (t.src = e.currentSrc, t.srcset = ""), t.loading === "lazy" && (t.loading = "eager")), sT(t) ? this.createCustomElementClone(t) : t }, n.prototype.createCustomElementClone = function (e) { var t = document.createElement("html2canvascustomelement"); return pB(e.style, t), t }, n.prototype.createStyleClone = function (e) { try { var t = e.sheet; if (t && t.cssRules) { var r = [].slice.call(t.cssRules, 0).reduce(function (s, a) { return a && typeof a.cssText == "string" ? s + a.cssText : s }, ""), i = e.cloneNode(!1); return i.textContent = r, i } } catch (s) { if (this.context.logger.error("Unable to access cssRules property", s), s.name !== "SecurityError") throw s } return e.cloneNode(!1) }, n.prototype.createCanvasClone = function (e) { var t; if (this.options.inlineImages && e.ownerDocument) { var r = e.ownerDocument.createElement("img"); try { return r.src = e.toDataURL(), r } catch { this.context.logger.info("Unable to inline canvas contents, canvas is tainted", e) } } var i = e.cloneNode(!1); try { i.width = e.width, i.height = e.height; var s = e.getContext("2d"), a = i.getContext("2d"); if (a) if (!this.options.allowTaint && s) a.putImageData(s.getImageData(0, 0, e.width, e.height), 0, 0); else { var o = (t = e.getContext("webgl2")) !== null && t !== void 0 ? t : e.getContext("webgl"); if (o) { var A = o.getContextAttributes(); A?.preserveDrawingBuffer === !1 && this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false", e) } a.drawImage(e, 0, 0) } return i } catch { this.context.logger.info("Unable to clone canvas as it is tainted", e) } return i }, n.prototype.createVideoClone = function (e) { var t = e.ownerDocument.createElement("canvas"); t.width = e.offsetWidth, t.height = e.offsetHeight; var r = t.getContext("2d"); try { return r && (r.drawImage(e, 0, 0, t.width, t.height), this.options.allowTaint || r.getImageData(0, 0, t.width, t.height)), t } catch { this.context.logger.info("Unable to clone video as it is tainted", e) } var i = e.ownerDocument.createElement("canvas"); return i.width = e.offsetWidth, i.height = e.offsetHeight, i }, n.prototype.appendChildNode = function (e, t, r) { (!pg(t) || !Hoe(t) && !t.hasAttribute(AQ) && (typeof this.options.ignoreElements != "function" || !this.options.ignoreElements(t))) && (!this.options.copyStyles || !pg(t) || !iT(t)) && e.appendChild(this.cloneNode(t, r)) }, n.prototype.cloneChildNodes = function (e, t, r) { for (var i = this, s = e.shadowRoot ? e.shadowRoot.firstChild : e.firstChild; s; s = s.nextSibling)if (pg(s) && oQ(s) && typeof s.assignedNodes == "function") { var a = s.assignedNodes(); a.length && a.forEach(function (o) { return i.appendChildNode(t, o, r) }) } else this.appendChildNode(t, s, r) }, n.prototype.cloneNode = function (e, t) { if (rQ(e)) return document.createTextNode(e.data); if (!e.ownerDocument) return e.cloneNode(!1); var r = e.ownerDocument.defaultView; if (r && pg(e) && (d5(e) || C1(e))) { var i = this.createElementClone(e); i.style.transitionProperty = "none"; var s = r.getComputedStyle(e), a = r.getComputedStyle(e, ":before"), o = r.getComputedStyle(e, ":after"); this.referenceElement === e && d5(i) && (this.clonedReferenceElement = i), BS(i) && tle(i); var A = this.counters.parse(new j3(this.context, s)), u = this.resolvePseudoContent(e, i, a, w0.BEFORE); sT(e) && (t = !0), rT(e) || this.cloneChildNodes(e, i, t), u && i.insertBefore(u, i.firstChild); var f = this.resolvePseudoContent(e, i, o, w0.AFTER); return f && i.appendChild(f), this.counters.pop(A), (s && (this.options.copyStyles || C1(e)) && !aQ(e) || t) && pB(s, i), (e.scrollTop !== 0 || e.scrollLeft !== 0) && this.scrolledElements.push([i, e.scrollLeft, e.scrollTop]), (jw(e) || zw(e)) && (jw(i) || zw(i)) && (i.value = e.value), i } return e.cloneNode(!1) }, n.prototype.resolvePseudoContent = function (e, t, r, i) { var s = this; if (r) { var a = r.content, o = t.ownerDocument; if (!(!o || !a || a === "none" || a === "-moz-alt-content" || r.display === "none")) { this.counters.parse(new j3(this.context, r)); var A = new Mae(this.context, r), u = o.createElement("html2canvaspseudoelement"); pB(r, u), A.content.forEach(function (h) { if (h.type === 0) u.appendChild(o.createTextNode(h.value)); else if (h.type === 22) { var m = o.createElement("img"); m.src = h.value, m.style.opacity = "1", u.appendChild(m) } else if (h.type === 18) { if (h.name === "attr") { var p = h.values.filter(Ri); p.length && u.appendChild(o.createTextNode(e.getAttribute(p[0].value) || "")) } else if (h.name === "counter") { var b = h.values.filter(Dg), y = b[0], E = b[1]; if (y && Ri(y)) { var _ = s.counters.getCounterValue(y.value), O = E && Ri(E) ? A5.parse(s.context, E.value) : 3; u.appendChild(o.createTextNode(K0(_, O, !1))) } } else if (h.name === "counters") { var I = h.values.filter(Dg), y = I[0], D = I[1], E = I[2]; if (y && Ri(y)) { var z = s.counters.getCounterValues(y.value), X = E && Ri(E) ? A5.parse(s.context, E.value) : 3, q = D && D.type === 0 ? D.value : "", W = z.map(function (ne) { return K0(ne, X, !1) }).join(q); u.appendChild(o.createTextNode(W)) } } } else if (h.type === 20) switch (h.value) { case "open-quote": u.appendChild(o.createTextNode(H3(A.quotes, s.quoteDepth++, !0))); break; case "close-quote": u.appendChild(o.createTextNode(H3(A.quotes, --s.quoteDepth, !1))); break; default: u.appendChild(o.createTextNode(h.value)) } }), u.className = p5 + " " + g5; var f = i === w0.BEFORE ? " " + p5 : " " + g5; return C1(t) ? t.className.baseValue += f : t.className += f, u } } }, n.destroy = function (e) { return e.parentNode ? (e.parentNode.removeChild(e), !0) : !1 }, n })(), w0; (function (n) { n[n.BEFORE = 0] = "BEFORE", n[n.AFTER = 1] = "AFTER" })(w0 || (w0 = {})); var Voe = function (n, e) { var t = n.createElement("iframe"); return t.className = "html2canvas-container", t.style.visibility = "hidden", t.style.position = "fixed", t.style.left = "-10000px", t.style.top = "0px", t.style.border = "0", t.width = e.width.toString(), t.height = e.height.toString(), t.scrolling = "no", t.setAttribute(AQ, "true"), n.body.appendChild(t), t }, Goe = function (n) { return new Promise(function (e) { if (n.complete) { e(); return } if (!n.src) { e(); return } n.onload = e, n.onerror = e }) }, Woe = function (n) { return Promise.all([].slice.call(n.images, 0).map(Goe)) }, Yoe = function (n) { return new Promise(function (e, t) { var r = n.contentWindow; if (!r) return t("No window assigned for iframe"); var i = r.document; r.onload = n.onload = function () { r.onload = n.onload = null; var s = setInterval(function () { i.body.childNodes.length > 0 && i.readyState === "complete" && (clearInterval(s), e(n)) }, 50) } }) }, Joe = ["all", "d", "content"], pB = function (n, e) { for (var t = n.length - 1; t >= 0; t--) { var r = n.item(t); Joe.indexOf(r) === -1 && e.style.setProperty(r, n.getPropertyValue(r)) } return e }, Xoe = function (n) { var e = ""; return n && (e += "<!DOCTYPE ", n.name && (e += n.name), n.internalSubset && (e += n.internalSubset), n.publicId && (e += '"' + n.publicId + '"'), n.systemId && (e += '"' + n.systemId + '"'), e += ">"), e }, Zoe = function (n, e, t) { n && n.defaultView && (e !== n.defaultView.pageXOffset || t !== n.defaultView.pageYOffset) && n.defaultView.scrollTo(e, t) }, qoe = function (n) { var e = n[0], t = n[1], r = n[2]; e.scrollLeft = t, e.scrollTop = r }, $oe = ":before", ele = ":after", p5 = "___html2canvas___pseudoelement_before", g5 = "___html2canvas___pseudoelement_after", fT = `{
    content: "" !important;
    display: none !important;
}`, tle = function (n) {
    nle(n, "." + p5 + $oe + fT + `
         .`+ g5 + ele + fT)
  }, nle = function (n, e) { var t = n.ownerDocument; if (t) { var r = t.createElement("style"); r.textContent = e, n.appendChild(r) } }, cQ = (function () { function n() { } return n.getOrigin = function (e) { var t = n._link; return t ? (t.href = e, t.href = t.href, t.protocol + t.hostname + t.port) : "about:blank" }, n.isSameOrigin = function (e) { return n.getOrigin(e) === n._origin }, n.setContext = function (e) { n._link = e.document.createElement("a"), n._origin = n.getOrigin(e.location.href) }, n._origin = "about:blank", n })(), rle = (function () { function n(e, t) { this.context = e, this._options = t, this._cache = {} } return n.prototype.addImage = function (e) { var t = Promise.resolve(); return this.has(e) || (mB(e) || ole(e)) && (this._cache[e] = this.loadImage(e)).catch(function () { }), t }, n.prototype.match = function (e) { return this._cache[e] }, n.prototype.loadImage = function (e) { return Dl(this, void 0, void 0, function () { var t, r, i, s, a = this; return bl(this, function (o) { switch (o.label) { case 0: return t = cQ.isSameOrigin(e), r = !gB(e) && this._options.useCORS === !0 && qo.SUPPORT_CORS_IMAGES && !t, i = !gB(e) && !t && !mB(e) && typeof this._options.proxy == "string" && qo.SUPPORT_CORS_XHR && !r, !t && this._options.allowTaint === !1 && !gB(e) && !mB(e) && !i && !r ? [2] : (s = e, i ? [4, this.proxy(s)] : [3, 2]); case 1: s = o.sent(), o.label = 2; case 2: return this.context.logger.debug("Added image " + e.substring(0, 256)), [4, new Promise(function (A, u) { var f = new Image; f.onload = function () { return A(f) }, f.onerror = u, (lle(s) || r) && (f.crossOrigin = "anonymous"), f.src = s, f.complete === !0 && setTimeout(function () { return A(f) }, 500), a._options.imageTimeout > 0 && setTimeout(function () { return u("Timed out (" + a._options.imageTimeout + "ms) loading image") }, a._options.imageTimeout) })]; case 3: return [2, o.sent()] } }) }) }, n.prototype.has = function (e) { return typeof this._cache[e] < "u" }, n.prototype.keys = function () { return Promise.resolve(Object.keys(this._cache)) }, n.prototype.proxy = function (e) { var t = this, r = this._options.proxy; if (!r) throw new Error("No proxy defined"); var i = e.substring(0, 256); return new Promise(function (s, a) { var o = qo.SUPPORT_RESPONSE_TYPE ? "blob" : "text", A = new XMLHttpRequest; A.onload = function () { if (A.status === 200) if (o === "text") s(A.response); else { var h = new FileReader; h.addEventListener("load", function () { return s(h.result) }, !1), h.addEventListener("error", function (m) { return a(m) }, !1), h.readAsDataURL(A.response) } else a("Failed to proxy resource " + i + " with status code " + A.status) }, A.onerror = a; var u = r.indexOf("?") > -1 ? "&" : "?"; if (A.open("GET", "" + r + u + "url=" + encodeURIComponent(e) + "&responseType=" + o), o !== "text" && A instanceof XMLHttpRequest && (A.responseType = o), t._options.imageTimeout) { var f = t._options.imageTimeout; A.timeout = f, A.ontimeout = function () { return a("Timed out (" + f + "ms) proxying " + i) } } A.send() }) }, n })(), ile = /^data:image\/svg\+xml/i, sle = /^data:image\/.*;base64,/i, ale = /^data:image\/.*/i, ole = function (n) { return qo.SUPPORT_SVG_DRAWING || !Ale(n) }, gB = function (n) { return ale.test(n) }, lle = function (n) { return sle.test(n) }, mB = function (n) { return n.substr(0, 4) === "blob" }, Ale = function (n) { return n.substr(-3).toLowerCase() === "svg" || ile.test(n) }, Kt = (function () { function n(e, t) { this.type = 0, this.x = e, this.y = t } return n.prototype.add = function (e, t) { return new n(this.x + e, this.y + t) }, n })(), Zp = function (n, e, t) { return new Kt(n.x + (e.x - n.x) * t, n.y + (e.y - n.y) * t) }, Zy = (function () { function n(e, t, r, i) { this.type = 1, this.start = e, this.startControl = t, this.endControl = r, this.end = i } return n.prototype.subdivide = function (e, t) { var r = Zp(this.start, this.startControl, e), i = Zp(this.startControl, this.endControl, e), s = Zp(this.endControl, this.end, e), a = Zp(r, i, e), o = Zp(i, s, e), A = Zp(a, o, e); return t ? new n(this.start, r, a, A) : new n(A, o, s, this.end) }, n.prototype.add = function (e, t) { return new n(this.start.add(e, t), this.startControl.add(e, t), this.endControl.add(e, t), this.end.add(e, t)) }, n.prototype.reverse = function () { return new n(this.end, this.endControl, this.startControl, this.start) }, n })(), oc = function (n) { return n.type === 1 }, cle = (function () { function n(e) { var t = e.styles, r = e.bounds, i = e0(t.borderTopLeftRadius, r.width, r.height), s = i[0], a = i[1], o = e0(t.borderTopRightRadius, r.width, r.height), A = o[0], u = o[1], f = e0(t.borderBottomRightRadius, r.width, r.height), h = f[0], m = f[1], p = e0(t.borderBottomLeftRadius, r.width, r.height), b = p[0], y = p[1], E = []; E.push((s + A) / r.width), E.push((b + h) / r.width), E.push((a + y) / r.height), E.push((u + m) / r.height); var _ = Math.max.apply(Math, E); _ > 1 && (s /= _, a /= _, A /= _, u /= _, h /= _, m /= _, b /= _, y /= _); var O = r.width - A, I = r.height - m, D = r.width - h, z = r.height - y, X = t.borderTopWidth, q = t.borderRightWidth, W = t.borderBottomWidth, G = t.borderLeftWidth, fe = rs(t.paddingTop, e.bounds.width), ne = rs(t.paddingRight, e.bounds.width), V = rs(t.paddingBottom, e.bounds.width), se = rs(t.paddingLeft, e.bounds.width); this.topLeftBorderDoubleOuterBox = s > 0 || a > 0 ? ys(r.left + G / 3, r.top + X / 3, s - G / 3, a - X / 3, gi.TOP_LEFT) : new Kt(r.left + G / 3, r.top + X / 3), this.topRightBorderDoubleOuterBox = s > 0 || a > 0 ? ys(r.left + O, r.top + X / 3, A - q / 3, u - X / 3, gi.TOP_RIGHT) : new Kt(r.left + r.width - q / 3, r.top + X / 3), this.bottomRightBorderDoubleOuterBox = h > 0 || m > 0 ? ys(r.left + D, r.top + I, h - q / 3, m - W / 3, gi.BOTTOM_RIGHT) : new Kt(r.left + r.width - q / 3, r.top + r.height - W / 3), this.bottomLeftBorderDoubleOuterBox = b > 0 || y > 0 ? ys(r.left + G / 3, r.top + z, b - G / 3, y - W / 3, gi.BOTTOM_LEFT) : new Kt(r.left + G / 3, r.top + r.height - W / 3), this.topLeftBorderDoubleInnerBox = s > 0 || a > 0 ? ys(r.left + G * 2 / 3, r.top + X * 2 / 3, s - G * 2 / 3, a - X * 2 / 3, gi.TOP_LEFT) : new Kt(r.left + G * 2 / 3, r.top + X * 2 / 3), this.topRightBorderDoubleInnerBox = s > 0 || a > 0 ? ys(r.left + O, r.top + X * 2 / 3, A - q * 2 / 3, u - X * 2 / 3, gi.TOP_RIGHT) : new Kt(r.left + r.width - q * 2 / 3, r.top + X * 2 / 3), this.bottomRightBorderDoubleInnerBox = h > 0 || m > 0 ? ys(r.left + D, r.top + I, h - q * 2 / 3, m - W * 2 / 3, gi.BOTTOM_RIGHT) : new Kt(r.left + r.width - q * 2 / 3, r.top + r.height - W * 2 / 3), this.bottomLeftBorderDoubleInnerBox = b > 0 || y > 0 ? ys(r.left + G * 2 / 3, r.top + z, b - G * 2 / 3, y - W * 2 / 3, gi.BOTTOM_LEFT) : new Kt(r.left + G * 2 / 3, r.top + r.height - W * 2 / 3), this.topLeftBorderStroke = s > 0 || a > 0 ? ys(r.left + G / 2, r.top + X / 2, s - G / 2, a - X / 2, gi.TOP_LEFT) : new Kt(r.left + G / 2, r.top + X / 2), this.topRightBorderStroke = s > 0 || a > 0 ? ys(r.left + O, r.top + X / 2, A - q / 2, u - X / 2, gi.TOP_RIGHT) : new Kt(r.left + r.width - q / 2, r.top + X / 2), this.bottomRightBorderStroke = h > 0 || m > 0 ? ys(r.left + D, r.top + I, h - q / 2, m - W / 2, gi.BOTTOM_RIGHT) : new Kt(r.left + r.width - q / 2, r.top + r.height - W / 2), this.bottomLeftBorderStroke = b > 0 || y > 0 ? ys(r.left + G / 2, r.top + z, b - G / 2, y - W / 2, gi.BOTTOM_LEFT) : new Kt(r.left + G / 2, r.top + r.height - W / 2), this.topLeftBorderBox = s > 0 || a > 0 ? ys(r.left, r.top, s, a, gi.TOP_LEFT) : new Kt(r.left, r.top), this.topRightBorderBox = A > 0 || u > 0 ? ys(r.left + O, r.top, A, u, gi.TOP_RIGHT) : new Kt(r.left + r.width, r.top), this.bottomRightBorderBox = h > 0 || m > 0 ? ys(r.left + D, r.top + I, h, m, gi.BOTTOM_RIGHT) : new Kt(r.left + r.width, r.top + r.height), this.bottomLeftBorderBox = b > 0 || y > 0 ? ys(r.left, r.top + z, b, y, gi.BOTTOM_LEFT) : new Kt(r.left, r.top + r.height), this.topLeftPaddingBox = s > 0 || a > 0 ? ys(r.left + G, r.top + X, Math.max(0, s - G), Math.max(0, a - X), gi.TOP_LEFT) : new Kt(r.left + G, r.top + X), this.topRightPaddingBox = A > 0 || u > 0 ? ys(r.left + Math.min(O, r.width - q), r.top + X, O > r.width + q ? 0 : Math.max(0, A - q), Math.max(0, u - X), gi.TOP_RIGHT) : new Kt(r.left + r.width - q, r.top + X), this.bottomRightPaddingBox = h > 0 || m > 0 ? ys(r.left + Math.min(D, r.width - G), r.top + Math.min(I, r.height - W), Math.max(0, h - q), Math.max(0, m - W), gi.BOTTOM_RIGHT) : new Kt(r.left + r.width - q, r.top + r.height - W), this.bottomLeftPaddingBox = b > 0 || y > 0 ? ys(r.left + G, r.top + Math.min(z, r.height - W), Math.max(0, b - G), Math.max(0, y - W), gi.BOTTOM_LEFT) : new Kt(r.left + G, r.top + r.height - W), this.topLeftContentBox = s > 0 || a > 0 ? ys(r.left + G + se, r.top + X + fe, Math.max(0, s - (G + se)), Math.max(0, a - (X + fe)), gi.TOP_LEFT) : new Kt(r.left + G + se, r.top + X + fe), this.topRightContentBox = A > 0 || u > 0 ? ys(r.left + Math.min(O, r.width + G + se), r.top + X + fe, O > r.width + G + se ? 0 : A - G + se, u - (X + fe), gi.TOP_RIGHT) : new Kt(r.left + r.width - (q + ne), r.top + X + fe), this.bottomRightContentBox = h > 0 || m > 0 ? ys(r.left + Math.min(D, r.width - (G + se)), r.top + Math.min(I, r.height + X + fe), Math.max(0, h - (q + ne)), m - (W + V), gi.BOTTOM_RIGHT) : new Kt(r.left + r.width - (q + ne), r.top + r.height - (W + V)), this.bottomLeftContentBox = b > 0 || y > 0 ? ys(r.left + G + se, r.top + z, Math.max(0, b - (G + se)), y - (W + V), gi.BOTTOM_LEFT) : new Kt(r.left + G + se, r.top + r.height - (W + V)) } return n })(), gi; (function (n) { n[n.TOP_LEFT = 0] = "TOP_LEFT", n[n.TOP_RIGHT = 1] = "TOP_RIGHT", n[n.BOTTOM_RIGHT = 2] = "BOTTOM_RIGHT", n[n.BOTTOM_LEFT = 3] = "BOTTOM_LEFT" })(gi || (gi = {})); var ys = function (n, e, t, r, i) { var s = 4 * ((Math.sqrt(2) - 1) / 3), a = t * s, o = r * s, A = n + t, u = e + r; switch (i) { case gi.TOP_LEFT: return new Zy(new Kt(n, u), new Kt(n, u - o), new Kt(A - a, e), new Kt(A, e)); case gi.TOP_RIGHT: return new Zy(new Kt(n, e), new Kt(n + a, e), new Kt(A, u - o), new Kt(A, u)); case gi.BOTTOM_RIGHT: return new Zy(new Kt(A, e), new Kt(A, e + o), new Kt(n + a, u), new Kt(n, u)); case gi.BOTTOM_LEFT: default: return new Zy(new Kt(A, u), new Kt(A - a, u), new Kt(n, e + o), new Kt(n, e)) } }, Kw = function (n) { return [n.topLeftBorderBox, n.topRightBorderBox, n.bottomRightBorderBox, n.bottomLeftBorderBox] }, ule = function (n) { return [n.topLeftContentBox, n.topRightContentBox, n.bottomRightContentBox, n.bottomLeftContentBox] }, Vw = function (n) { return [n.topLeftPaddingBox, n.topRightPaddingBox, n.bottomRightPaddingBox, n.bottomLeftPaddingBox] }, fle = (function () { function n(e, t, r) { this.offsetX = e, this.offsetY = t, this.matrix = r, this.type = 0, this.target = 6 } return n })(), qy = (function () { function n(e, t) { this.path = e, this.target = t, this.type = 1 } return n })(), dle = (function () { function n(e) { this.opacity = e, this.type = 2, this.target = 6 } return n })(), hle = function (n) { return n.type === 0 }, uQ = function (n) { return n.type === 1 }, ple = function (n) { return n.type === 2 }, dT = function (n, e) { return n.length === e.length ? n.some(function (t, r) { return t === e[r] }) : !1 }, gle = function (n, e, t, r, i) { return n.map(function (s, a) { switch (a) { case 0: return s.add(e, t); case 1: return s.add(e + r, t); case 2: return s.add(e + r, t + i); case 3: return s.add(e, t + i) }return s }) }, fQ = (function () { function n(e) { this.element = e, this.inlineLevel = [], this.nonInlineLevel = [], this.negativeZIndex = [], this.zeroOrAutoZIndexOrTransformedOrOpacity = [], this.positiveZIndex = [], this.nonPositionedFloats = [], this.nonPositionedInlineLevel = [] } return n })(), dQ = (function () { function n(e, t) { if (this.container = e, this.parent = t, this.effects = [], this.curves = new cle(this.container), this.container.styles.opacity < 1 && this.effects.push(new dle(this.container.styles.opacity)), this.container.styles.transform !== null) { var r = this.container.bounds.left + this.container.styles.transformOrigin[0].number, i = this.container.bounds.top + this.container.styles.transformOrigin[1].number, s = this.container.styles.transform; this.effects.push(new fle(r, i, s)) } if (this.container.styles.overflowX !== 0) { var a = Kw(this.curves), o = Vw(this.curves); dT(a, o) ? this.effects.push(new qy(a, 6)) : (this.effects.push(new qy(a, 2)), this.effects.push(new qy(o, 4))) } } return n.prototype.getEffects = function (e) { for (var t = [2, 3].indexOf(this.container.styles.position) === -1, r = this.parent, i = this.effects.slice(0); r;) { var s = r.effects.filter(function (A) { return !uQ(A) }); if (t || r.container.styles.position !== 0 || !r.parent) { if (i.unshift.apply(i, s), t = [2, 3].indexOf(r.container.styles.position) === -1, r.container.styles.overflowX !== 0) { var a = Kw(r.curves), o = Vw(r.curves); dT(a, o) || i.unshift(new qy(o, 6)) } } else i.unshift.apply(i, s); r = r.parent } return i.filter(function (A) { return Za(A.target, e) }) }, n })(), m5 = function (n, e, t, r) { n.container.elements.forEach(function (i) { var s = Za(i.flags, 4), a = Za(i.flags, 2), o = new dQ(i, n); Za(i.styles.display, 2048) && r.push(o); var A = Za(i.flags, 8) ? [] : r; if (s || a) { var u = s || i.styles.isPositioned() ? t : e, f = new fQ(o); if (i.styles.isPositioned() || i.styles.opacity < 1 || i.styles.isTransformed()) { var h = i.styles.zIndex.order; if (h < 0) { var m = 0; u.negativeZIndex.some(function (b, y) { return h > b.element.container.styles.zIndex.order ? (m = y, !1) : m > 0 }), u.negativeZIndex.splice(m, 0, f) } else if (h > 0) { var p = 0; u.positiveZIndex.some(function (b, y) { return h >= b.element.container.styles.zIndex.order ? (p = y + 1, !1) : p > 0 }), u.positiveZIndex.splice(p, 0, f) } else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(f) } else i.styles.isFloating() ? u.nonPositionedFloats.push(f) : u.nonPositionedInlineLevel.push(f); m5(o, f, s ? f : t, A) } else i.styles.isInlineLevel() ? e.inlineLevel.push(o) : e.nonInlineLevel.push(o), m5(o, e, t, A); Za(i.flags, 8) && hQ(i, A) }) }, hQ = function (n, e) { for (var t = n instanceof f5 ? n.start : 1, r = n instanceof f5 ? n.reversed : !1, i = 0; i < e.length; i++) { var s = e[i]; s.container instanceof ZM && typeof s.container.value == "number" && s.container.value !== 0 && (t = s.container.value), s.listValue = K0(t, s.container.styles.listStyleType, !0), t += r ? -1 : 1 } }, mle = function (n) { var e = new dQ(n, null), t = new fQ(e), r = []; return m5(e, t, t, r), hQ(e.container, r), t }, hT = function (n, e) { switch (e) { case 0: return dc(n.topLeftBorderBox, n.topLeftPaddingBox, n.topRightBorderBox, n.topRightPaddingBox); case 1: return dc(n.topRightBorderBox, n.topRightPaddingBox, n.bottomRightBorderBox, n.bottomRightPaddingBox); case 2: return dc(n.bottomRightBorderBox, n.bottomRightPaddingBox, n.bottomLeftBorderBox, n.bottomLeftPaddingBox); case 3: default: return dc(n.bottomLeftBorderBox, n.bottomLeftPaddingBox, n.topLeftBorderBox, n.topLeftPaddingBox) } }, vle = function (n, e) { switch (e) { case 0: return dc(n.topLeftBorderBox, n.topLeftBorderDoubleOuterBox, n.topRightBorderBox, n.topRightBorderDoubleOuterBox); case 1: return dc(n.topRightBorderBox, n.topRightBorderDoubleOuterBox, n.bottomRightBorderBox, n.bottomRightBorderDoubleOuterBox); case 2: return dc(n.bottomRightBorderBox, n.bottomRightBorderDoubleOuterBox, n.bottomLeftBorderBox, n.bottomLeftBorderDoubleOuterBox); case 3: default: return dc(n.bottomLeftBorderBox, n.bottomLeftBorderDoubleOuterBox, n.topLeftBorderBox, n.topLeftBorderDoubleOuterBox) } }, yle = function (n, e) { switch (e) { case 0: return dc(n.topLeftBorderDoubleInnerBox, n.topLeftPaddingBox, n.topRightBorderDoubleInnerBox, n.topRightPaddingBox); case 1: return dc(n.topRightBorderDoubleInnerBox, n.topRightPaddingBox, n.bottomRightBorderDoubleInnerBox, n.bottomRightPaddingBox); case 2: return dc(n.bottomRightBorderDoubleInnerBox, n.bottomRightPaddingBox, n.bottomLeftBorderDoubleInnerBox, n.bottomLeftPaddingBox); case 3: default: return dc(n.bottomLeftBorderDoubleInnerBox, n.bottomLeftPaddingBox, n.topLeftBorderDoubleInnerBox, n.topLeftPaddingBox) } }, wle = function (n, e) { switch (e) { case 0: return $y(n.topLeftBorderStroke, n.topRightBorderStroke); case 1: return $y(n.topRightBorderStroke, n.bottomRightBorderStroke); case 2: return $y(n.bottomRightBorderStroke, n.bottomLeftBorderStroke); case 3: default: return $y(n.bottomLeftBorderStroke, n.topLeftBorderStroke) } }, $y = function (n, e) { var t = []; return oc(n) ? t.push(n.subdivide(.5, !1)) : t.push(n), oc(e) ? t.push(e.subdivide(.5, !0)) : t.push(e), t }, dc = function (n, e, t, r) { var i = []; return oc(n) ? i.push(n.subdivide(.5, !1)) : i.push(n), oc(t) ? i.push(t.subdivide(.5, !0)) : i.push(t), oc(r) ? i.push(r.subdivide(.5, !0).reverse()) : i.push(r), oc(e) ? i.push(e.subdivide(.5, !1).reverse()) : i.push(e), i }, pQ = function (n) { var e = n.bounds, t = n.styles; return e.add(t.borderLeftWidth, t.borderTopWidth, -(t.borderRightWidth + t.borderLeftWidth), -(t.borderTopWidth + t.borderBottomWidth)) }, Gw = function (n) { var e = n.styles, t = n.bounds, r = rs(e.paddingLeft, t.width), i = rs(e.paddingRight, t.width), s = rs(e.paddingTop, t.width), a = rs(e.paddingBottom, t.width); return t.add(r + e.borderLeftWidth, s + e.borderTopWidth, -(e.borderRightWidth + e.borderLeftWidth + r + i), -(e.borderTopWidth + e.borderBottomWidth + s + a)) }, ble = function (n, e) { return n === 0 ? e.bounds : n === 2 ? Gw(e) : pQ(e) }, xle = function (n, e) { return n === 0 ? e.bounds : n === 2 ? Gw(e) : pQ(e) }, vB = function (n, e, t) { var r = ble(ug(n.styles.backgroundOrigin, e), n), i = xle(ug(n.styles.backgroundClip, e), n), s = Ble(ug(n.styles.backgroundSize, e), t, r), a = s[0], o = s[1], A = e0(ug(n.styles.backgroundPosition, e), r.width - a, r.height - o), u = Cle(ug(n.styles.backgroundRepeat, e), A, s, r, i), f = Math.round(r.left + A[0]), h = Math.round(r.top + A[1]); return [u, f, h, a, o] }, qp = function (n) { return Ri(n) && n.value === Bg.AUTO }, e1 = function (n) { return typeof n == "number" }, Ble = function (n, e, t) { var r = e[0], i = e[1], s = e[2], a = n[0], o = n[1]; if (!a) return [0, 0]; if (Fa(a) && o && Fa(o)) return [rs(a, t.width), rs(o, t.height)]; var A = e1(s); if (Ri(a) && (a.value === Bg.CONTAIN || a.value === Bg.COVER)) { if (e1(s)) { var u = t.width / t.height; return u < s != (a.value === Bg.COVER) ? [t.width, t.width / s] : [t.height * s, t.height] } return [t.width, t.height] } var f = e1(r), h = e1(i), m = f || h; if (qp(a) && (!o || qp(o))) { if (f && h) return [r, i]; if (!A && !m) return [t.width, t.height]; if (m && A) { var p = f ? r : i * s, b = h ? i : r / s; return [p, b] } var y = f ? r : t.width, E = h ? i : t.height; return [y, E] } if (A) { var _ = 0, O = 0; return Fa(a) ? _ = rs(a, t.width) : Fa(o) && (O = rs(o, t.height)), qp(a) ? _ = O * s : (!o || qp(o)) && (O = _ / s), [_, O] } var I = null, D = null; if (Fa(a) ? I = rs(a, t.width) : o && Fa(o) && (D = rs(o, t.height)), I !== null && (!o || qp(o)) && (D = f && h ? I / r * i : t.height), D !== null && qp(a) && (I = f && h ? D / i * r : t.width), I !== null && D !== null) return [I, D]; throw new Error("Unable to calculate background-size for element") }, ug = function (n, e) { var t = n[e]; return typeof t > "u" ? n[0] : t }, Cle = function (n, e, t, r, i) { var s = e[0], a = e[1], o = t[0], A = t[1]; switch (n) { case 2: return [new Kt(Math.round(r.left), Math.round(r.top + a)), new Kt(Math.round(r.left + r.width), Math.round(r.top + a)), new Kt(Math.round(r.left + r.width), Math.round(A + r.top + a)), new Kt(Math.round(r.left), Math.round(A + r.top + a))]; case 3: return [new Kt(Math.round(r.left + s), Math.round(r.top)), new Kt(Math.round(r.left + s + o), Math.round(r.top)), new Kt(Math.round(r.left + s + o), Math.round(r.height + r.top)), new Kt(Math.round(r.left + s), Math.round(r.height + r.top))]; case 1: return [new Kt(Math.round(r.left + s), Math.round(r.top + a)), new Kt(Math.round(r.left + s + o), Math.round(r.top + a)), new Kt(Math.round(r.left + s + o), Math.round(r.top + a + A)), new Kt(Math.round(r.left + s), Math.round(r.top + a + A))]; default: return [new Kt(Math.round(i.left), Math.round(i.top)), new Kt(Math.round(i.left + i.width), Math.round(i.top)), new Kt(Math.round(i.left + i.width), Math.round(i.height + i.top)), new Kt(Math.round(i.left), Math.round(i.height + i.top))] } }, Ele = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", pT = "Hidden Text", Sle = (function () { function n(e) { this._data = {}, this._document = e } return n.prototype.parseMetrics = function (e, t) { var r = this._document.createElement("div"), i = this._document.createElement("img"), s = this._document.createElement("span"), a = this._document.body; r.style.visibility = "hidden", r.style.fontFamily = e, r.style.fontSize = t, r.style.margin = "0", r.style.padding = "0", r.style.whiteSpace = "nowrap", a.appendChild(r), i.src = Ele, i.width = 1, i.height = 1, i.style.margin = "0", i.style.padding = "0", i.style.verticalAlign = "baseline", s.style.fontFamily = e, s.style.fontSize = t, s.style.margin = "0", s.style.padding = "0", s.appendChild(this._document.createTextNode(pT)), r.appendChild(s), r.appendChild(i); var o = i.offsetTop - s.offsetTop + 2; r.removeChild(s), r.appendChild(this._document.createTextNode(pT)), r.style.lineHeight = "normal", i.style.verticalAlign = "super"; var A = i.offsetTop - r.offsetTop + 2; return a.removeChild(r), { baseline: o, middle: A } }, n.prototype.getMetrics = function (e, t) { var r = e + " " + t; return typeof this._data[r] > "u" && (this._data[r] = this.parseMetrics(e, t)), this._data[r] }, n })(), gQ = (function () { function n(e, t) { this.context = e, this.options = t } return n })(), _le = 1e4, Nle = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i._activeEffects = [], i.canvas = r.canvas ? r.canvas : document.createElement("canvas"), i.ctx = i.canvas.getContext("2d"), r.canvas || (i.canvas.width = Math.floor(r.width * r.scale), i.canvas.height = Math.floor(r.height * r.scale), i.canvas.style.width = r.width + "px", i.canvas.style.height = r.height + "px"), i.fontMetrics = new Sle(document), i.ctx.scale(i.options.scale, i.options.scale), i.ctx.translate(-r.x, -r.y), i.ctx.textBaseline = "bottom", i._activeEffects = [], i.context.logger.debug("Canvas renderer initialized (" + r.width + "x" + r.height + ") with scale " + r.scale), i } return e.prototype.applyEffects = function (t) { for (var r = this; this._activeEffects.length;)this.popEffect(); t.forEach(function (i) { return r.applyEffect(i) }) }, e.prototype.applyEffect = function (t) { this.ctx.save(), ple(t) && (this.ctx.globalAlpha = t.opacity), hle(t) && (this.ctx.translate(t.offsetX, t.offsetY), this.ctx.transform(t.matrix[0], t.matrix[1], t.matrix[2], t.matrix[3], t.matrix[4], t.matrix[5]), this.ctx.translate(-t.offsetX, -t.offsetY)), uQ(t) && (this.path(t.path), this.ctx.clip()), this._activeEffects.push(t) }, e.prototype.popEffect = function () { this._activeEffects.pop(), this.ctx.restore() }, e.prototype.renderStack = function (t) { return Dl(this, void 0, void 0, function () { var r; return bl(this, function (i) { switch (i.label) { case 0: return r = t.element.container.styles, r.isVisible() ? [4, this.renderStackContent(t)] : [3, 2]; case 1: i.sent(), i.label = 2; case 2: return [2] } }) }) }, e.prototype.renderNode = function (t) { return Dl(this, void 0, void 0, function () { return bl(this, function (r) { switch (r.label) { case 0: if (Za(t.container.flags, 16)) debugger; return t.container.styles.isVisible() ? [4, this.renderNodeBackgroundAndBorders(t)] : [3, 3]; case 1: return r.sent(), [4, this.renderNodeContent(t)]; case 2: r.sent(), r.label = 3; case 3: return [2] } }) }) }, e.prototype.renderTextWithLetterSpacing = function (t, r, i) { var s = this; if (r === 0) this.ctx.fillText(t.text, t.bounds.left, t.bounds.top + i); else { var a = bS(t.text); a.reduce(function (o, A) { return s.ctx.fillText(A, o, t.bounds.top + i), o + s.ctx.measureText(A).width }, t.bounds.left) } }, e.prototype.createFontStyle = function (t) { var r = t.fontVariant.filter(function (a) { return a === "normal" || a === "small-caps" }).join(""), i = Ole(t.fontFamily).join(", "), s = dv(t.fontSize) ? "" + t.fontSize.number + t.fontSize.unit : t.fontSize.number + "px"; return [[t.fontStyle, r, t.fontWeight, s, i].join(" "), i, s] }, e.prototype.renderTextNode = function (t, r) { return Dl(this, void 0, void 0, function () { var i, s, a, o, A, u, f, h, m = this; return bl(this, function (p) { return i = this.createFontStyle(r), s = i[0], a = i[1], o = i[2], this.ctx.font = s, this.ctx.direction = r.direction === 1 ? "rtl" : "ltr", this.ctx.textAlign = "left", this.ctx.textBaseline = "alphabetic", A = this.fontMetrics.getMetrics(a, o), u = A.baseline, f = A.middle, h = r.paintOrder, t.textBounds.forEach(function (b) { h.forEach(function (y) { switch (y) { case 0: m.ctx.fillStyle = bo(r.color), m.renderTextWithLetterSpacing(b, r.letterSpacing, u); var E = r.textShadow; E.length && b.text.trim().length && (E.slice(0).reverse().forEach(function (_) { m.ctx.shadowColor = bo(_.color), m.ctx.shadowOffsetX = _.offsetX.number * m.options.scale, m.ctx.shadowOffsetY = _.offsetY.number * m.options.scale, m.ctx.shadowBlur = _.blur.number, m.renderTextWithLetterSpacing(b, r.letterSpacing, u) }), m.ctx.shadowColor = "", m.ctx.shadowOffsetX = 0, m.ctx.shadowOffsetY = 0, m.ctx.shadowBlur = 0), r.textDecorationLine.length && (m.ctx.fillStyle = bo(r.textDecorationColor || r.color), r.textDecorationLine.forEach(function (_) { switch (_) { case 1: m.ctx.fillRect(b.bounds.left, Math.round(b.bounds.top + u), b.bounds.width, 1); break; case 2: m.ctx.fillRect(b.bounds.left, Math.round(b.bounds.top), b.bounds.width, 1); break; case 3: m.ctx.fillRect(b.bounds.left, Math.ceil(b.bounds.top + f), b.bounds.width, 1); break } })); break; case 1: r.webkitTextStrokeWidth && b.text.trim().length && (m.ctx.strokeStyle = bo(r.webkitTextStrokeColor), m.ctx.lineWidth = r.webkitTextStrokeWidth, m.ctx.lineJoin = window.chrome ? "miter" : "round", m.ctx.strokeText(b.text, b.bounds.left, b.bounds.top + u)), m.ctx.strokeStyle = "", m.ctx.lineWidth = 0, m.ctx.lineJoin = "miter"; break } }) }), [2] }) }) }, e.prototype.renderReplacedElement = function (t, r, i) { if (i && t.intrinsicWidth > 0 && t.intrinsicHeight > 0) { var s = Gw(t), a = Vw(r); this.path(a), this.ctx.save(), this.ctx.clip(), this.ctx.drawImage(i, 0, 0, t.intrinsicWidth, t.intrinsicHeight, s.left, s.top, s.width, s.height), this.ctx.restore() } }, e.prototype.renderNodeContent = function (t) { return Dl(this, void 0, void 0, function () { var r, i, s, a, o, A, O, O, u, f, h, m, D, p, b, z, y, E, _, O, I, D, z; return bl(this, function (X) { switch (X.label) { case 0: this.applyEffects(t.getEffects(4)), r = t.container, i = t.curves, s = r.styles, a = 0, o = r.textNodes, X.label = 1; case 1: return a < o.length ? (A = o[a], [4, this.renderTextNode(A, s)]) : [3, 4]; case 2: X.sent(), X.label = 3; case 3: return a++, [3, 1]; case 4: if (!(r instanceof YM)) return [3, 8]; X.label = 5; case 5: return X.trys.push([5, 7, , 8]), [4, this.context.cache.match(r.src)]; case 6: return O = X.sent(), this.renderReplacedElement(r, i, O), [3, 8]; case 7: return X.sent(), this.context.logger.error("Error loading image " + r.src), [3, 8]; case 8: if (r instanceof JM && this.renderReplacedElement(r, i, r.canvas), !(r instanceof XM)) return [3, 12]; X.label = 9; case 9: return X.trys.push([9, 11, , 12]), [4, this.context.cache.match(r.svg)]; case 10: return O = X.sent(), this.renderReplacedElement(r, i, O), [3, 12]; case 11: return X.sent(), this.context.logger.error("Error loading svg " + r.svg.substring(0, 255)), [3, 12]; case 12: return r instanceof eQ && r.tree ? (u = new e(this.context, { scale: this.options.scale, backgroundColor: r.backgroundColor, x: 0, y: 0, width: r.width, height: r.height }), [4, u.render(r.tree)]) : [3, 14]; case 13: f = X.sent(), r.width && r.height && this.ctx.drawImage(f, 0, 0, r.width, r.height, r.bounds.left, r.bounds.top, r.bounds.width, r.bounds.height), X.label = 14; case 14: if (r instanceof xS && (h = Math.min(r.bounds.width, r.bounds.height), r.type === Pw ? r.checked && (this.ctx.save(), this.path([new Kt(r.bounds.left + h * .39363, r.bounds.top + h * .79), new Kt(r.bounds.left + h * .16, r.bounds.top + h * .5549), new Kt(r.bounds.left + h * .27347, r.bounds.top + h * .44071), new Kt(r.bounds.left + h * .39694, r.bounds.top + h * .5649), new Kt(r.bounds.left + h * .72983, r.bounds.top + h * .23), new Kt(r.bounds.left + h * .84, r.bounds.top + h * .34085), new Kt(r.bounds.left + h * .39363, r.bounds.top + h * .79)]), this.ctx.fillStyle = bo(nT), this.ctx.fill(), this.ctx.restore()) : r.type === Hw && r.checked && (this.ctx.save(), this.ctx.beginPath(), this.ctx.arc(r.bounds.left + h / 2, r.bounds.top + h / 2, h / 4, 0, Math.PI * 2, !0), this.ctx.fillStyle = bo(nT), this.ctx.fill(), this.ctx.restore())), kle(r) && r.value.length) { switch (m = this.createFontStyle(s), D = m[0], p = m[1], b = this.fontMetrics.getMetrics(D, p).baseline, this.ctx.font = D, this.ctx.fillStyle = bo(s.color), this.ctx.textBaseline = "alphabetic", this.ctx.textAlign = Fle(r.styles.textAlign), z = Gw(r), y = 0, r.styles.textAlign) { case 1: y += z.width / 2; break; case 2: y += z.width; break }E = z.add(y, 0, 0, -z.height / 2 + 1), this.ctx.save(), this.path([new Kt(z.left, z.top), new Kt(z.left + z.width, z.top), new Kt(z.left + z.width, z.top + z.height), new Kt(z.left, z.top + z.height)]), this.ctx.clip(), this.renderTextWithLetterSpacing(new y0(r.value, E), s.letterSpacing, b), this.ctx.restore(), this.ctx.textBaseline = "alphabetic", this.ctx.textAlign = "left" } if (!Za(r.styles.display, 2048)) return [3, 20]; if (r.styles.listStyleImage === null) return [3, 19]; if (_ = r.styles.listStyleImage, _.type !== 0) return [3, 18]; O = void 0, I = _.url, X.label = 15; case 15: return X.trys.push([15, 17, , 18]), [4, this.context.cache.match(I)]; case 16: return O = X.sent(), this.ctx.drawImage(O, r.bounds.left - (O.width + 10), r.bounds.top), [3, 18]; case 17: return X.sent(), this.context.logger.error("Error loading list-style-image " + I), [3, 18]; case 18: return [3, 20]; case 19: t.listValue && r.styles.listStyleType !== -1 && (D = this.createFontStyle(s)[0], this.ctx.font = D, this.ctx.fillStyle = bo(s.color), this.ctx.textBaseline = "middle", this.ctx.textAlign = "right", z = new wf(r.bounds.left, r.bounds.top + rs(r.styles.paddingTop, r.bounds.width), r.bounds.width, D3(s.lineHeight, s.fontSize.number) / 2 + 1), this.renderTextWithLetterSpacing(new y0(t.listValue, z), s.letterSpacing, D3(s.lineHeight, s.fontSize.number) / 2 + 2), this.ctx.textBaseline = "bottom", this.ctx.textAlign = "left"), X.label = 20; case 20: return [2] } }) }) }, e.prototype.renderStackContent = function (t) { return Dl(this, void 0, void 0, function () { var r, i, _, s, a, _, o, A, _, u, f, _, h, m, _, p, b, _, y, E, _; return bl(this, function (O) { switch (O.label) { case 0: if (Za(t.element.container.flags, 16)) debugger; return [4, this.renderNodeBackgroundAndBorders(t.element)]; case 1: O.sent(), r = 0, i = t.negativeZIndex, O.label = 2; case 2: return r < i.length ? (_ = i[r], [4, this.renderStack(_)]) : [3, 5]; case 3: O.sent(), O.label = 4; case 4: return r++, [3, 2]; case 5: return [4, this.renderNodeContent(t.element)]; case 6: O.sent(), s = 0, a = t.nonInlineLevel, O.label = 7; case 7: return s < a.length ? (_ = a[s], [4, this.renderNode(_)]) : [3, 10]; case 8: O.sent(), O.label = 9; case 9: return s++, [3, 7]; case 10: o = 0, A = t.nonPositionedFloats, O.label = 11; case 11: return o < A.length ? (_ = A[o], [4, this.renderStack(_)]) : [3, 14]; case 12: O.sent(), O.label = 13; case 13: return o++, [3, 11]; case 14: u = 0, f = t.nonPositionedInlineLevel, O.label = 15; case 15: return u < f.length ? (_ = f[u], [4, this.renderStack(_)]) : [3, 18]; case 16: O.sent(), O.label = 17; case 17: return u++, [3, 15]; case 18: h = 0, m = t.inlineLevel, O.label = 19; case 19: return h < m.length ? (_ = m[h], [4, this.renderNode(_)]) : [3, 22]; case 20: O.sent(), O.label = 21; case 21: return h++, [3, 19]; case 22: p = 0, b = t.zeroOrAutoZIndexOrTransformedOrOpacity, O.label = 23; case 23: return p < b.length ? (_ = b[p], [4, this.renderStack(_)]) : [3, 26]; case 24: O.sent(), O.label = 25; case 25: return p++, [3, 23]; case 26: y = 0, E = t.positiveZIndex, O.label = 27; case 27: return y < E.length ? (_ = E[y], [4, this.renderStack(_)]) : [3, 30]; case 28: O.sent(), O.label = 29; case 29: return y++, [3, 27]; case 30: return [2] } }) }) }, e.prototype.mask = function (t) { this.ctx.beginPath(), this.ctx.moveTo(0, 0), this.ctx.lineTo(this.canvas.width, 0), this.ctx.lineTo(this.canvas.width, this.canvas.height), this.ctx.lineTo(0, this.canvas.height), this.ctx.lineTo(0, 0), this.formatPath(t.slice(0).reverse()), this.ctx.closePath() }, e.prototype.path = function (t) { this.ctx.beginPath(), this.formatPath(t), this.ctx.closePath() }, e.prototype.formatPath = function (t) { var r = this; t.forEach(function (i, s) { var a = oc(i) ? i.start : i; s === 0 ? r.ctx.moveTo(a.x, a.y) : r.ctx.lineTo(a.x, a.y), oc(i) && r.ctx.bezierCurveTo(i.startControl.x, i.startControl.y, i.endControl.x, i.endControl.y, i.end.x, i.end.y) }) }, e.prototype.renderRepeat = function (t, r, i, s) { this.path(t), this.ctx.fillStyle = r, this.ctx.translate(i, s), this.ctx.fill(), this.ctx.translate(-i, -s) }, e.prototype.resizeImage = function (t, r, i) { var s; if (t.width === r && t.height === i) return t; var a = (s = this.canvas.ownerDocument) !== null && s !== void 0 ? s : document, o = a.createElement("canvas"); o.width = Math.max(1, r), o.height = Math.max(1, i); var A = o.getContext("2d"); return A.drawImage(t, 0, 0, t.width, t.height, 0, 0, r, i), o }, e.prototype.renderBackgroundImage = function (t) { return Dl(this, void 0, void 0, function () { var r, i, s, a, o, A; return bl(this, function (u) { switch (u.label) { case 0: r = t.styles.backgroundImage.length - 1, i = function (f) { var h, m, p, fe, Z, ae, se, M, W, b, fe, Z, ae, se, M, y, E, _, O, I, D, z, X, q, W, G, fe, ne, V, se, M, pe, Z, ae, me, ke, Ce, j, L, re, ie, oe; return bl(this, function (de) { switch (de.label) { case 0: if (f.type !== 0) return [3, 5]; h = void 0, m = f.url, de.label = 1; case 1: return de.trys.push([1, 3, , 4]), [4, s.context.cache.match(m)]; case 2: return h = de.sent(), [3, 4]; case 3: return de.sent(), s.context.logger.error("Error loading background-image " + m), [3, 4]; case 4: return h && (p = vB(t, r, [h.width, h.height, h.width / h.height]), fe = p[0], Z = p[1], ae = p[2], se = p[3], M = p[4], W = s.ctx.createPattern(s.resizeImage(h, se, M), "repeat"), s.renderRepeat(fe, W, Z, ae)), [3, 6]; case 5: hse(f) ? (b = vB(t, r, [null, null, null]), fe = b[0], Z = b[1], ae = b[2], se = b[3], M = b[4], y = Ase(f.angle, se, M), E = y[0], _ = y[1], O = y[2], I = y[3], D = y[4], z = document.createElement("canvas"), z.width = se, z.height = M, X = z.getContext("2d"), q = X.createLinearGradient(_, I, O, D), M3(f.stops, E).forEach(function (Be) { return q.addColorStop(Be.stop, bo(Be.color)) }), X.fillStyle = q, X.fillRect(0, 0, se, M), se > 0 && M > 0 && (W = s.ctx.createPattern(z, "repeat"), s.renderRepeat(fe, W, Z, ae))) : pse(f) && (G = vB(t, r, [null, null, null]), fe = G[0], ne = G[1], V = G[2], se = G[3], M = G[4], pe = f.position.length === 0 ? [vS] : f.position, Z = rs(pe[0], se), ae = rs(pe[pe.length - 1], M), me = cse(f, Z, ae, se, M), ke = me[0], Ce = me[1], ke > 0 && Ce > 0 && (j = s.ctx.createRadialGradient(ne + Z, V + ae, 0, ne + Z, V + ae, ke), M3(f.stops, ke * 2).forEach(function (Be) { return j.addColorStop(Be.stop, bo(Be.color)) }), s.path(fe), s.ctx.fillStyle = j, ke !== Ce ? (L = t.bounds.left + .5 * t.bounds.width, re = t.bounds.top + .5 * t.bounds.height, ie = Ce / ke, oe = 1 / ie, s.ctx.save(), s.ctx.translate(L, re), s.ctx.transform(1, 0, 0, ie, 0, 0), s.ctx.translate(-L, -re), s.ctx.fillRect(ne, oe * (V - re) + re, se, M * oe), s.ctx.restore()) : s.ctx.fill())), de.label = 6; case 6: return r--, [2] } }) }, s = this, a = 0, o = t.styles.backgroundImage.slice(0).reverse(), u.label = 1; case 1: return a < o.length ? (A = o[a], [5, i(A)]) : [3, 4]; case 2: u.sent(), u.label = 3; case 3: return a++, [3, 1]; case 4: return [2] } }) }) }, e.prototype.renderSolidBorder = function (t, r, i) { return Dl(this, void 0, void 0, function () { return bl(this, function (s) { return this.path(hT(i, r)), this.ctx.fillStyle = bo(t), this.ctx.fill(), [2] }) }) }, e.prototype.renderDoubleBorder = function (t, r, i, s) { return Dl(this, void 0, void 0, function () { var a, o; return bl(this, function (A) { switch (A.label) { case 0: return r < 3 ? [4, this.renderSolidBorder(t, i, s)] : [3, 2]; case 1: return A.sent(), [2]; case 2: return a = vle(s, i), this.path(a), this.ctx.fillStyle = bo(t), this.ctx.fill(), o = yle(s, i), this.path(o), this.ctx.fill(), [2] } }) }) }, e.prototype.renderNodeBackgroundAndBorders = function (t) { return Dl(this, void 0, void 0, function () { var r, i, s, a, o, A, u, f, h = this; return bl(this, function (m) { switch (m.label) { case 0: return this.applyEffects(t.getEffects(2)), r = t.container.styles, i = !_d(r.backgroundColor) || r.backgroundImage.length, s = [{ style: r.borderTopStyle, color: r.borderTopColor, width: r.borderTopWidth }, { style: r.borderRightStyle, color: r.borderRightColor, width: r.borderRightWidth }, { style: r.borderBottomStyle, color: r.borderBottomColor, width: r.borderBottomWidth }, { style: r.borderLeftStyle, color: r.borderLeftColor, width: r.borderLeftWidth }], a = Tle(ug(r.backgroundClip, 0), t.curves), i || r.boxShadow.length ? (this.ctx.save(), this.path(a), this.ctx.clip(), _d(r.backgroundColor) || (this.ctx.fillStyle = bo(r.backgroundColor), this.ctx.fill()), [4, this.renderBackgroundImage(t.container)]) : [3, 2]; case 1: m.sent(), this.ctx.restore(), r.boxShadow.slice(0).reverse().forEach(function (p) { h.ctx.save(); var b = Kw(t.curves), y = p.inset ? 0 : _le, E = gle(b, -y + (p.inset ? 1 : -1) * p.spread.number, (p.inset ? 1 : -1) * p.spread.number, p.spread.number * (p.inset ? -2 : 2), p.spread.number * (p.inset ? -2 : 2)); p.inset ? (h.path(b), h.ctx.clip(), h.mask(E)) : (h.mask(b), h.ctx.clip(), h.path(E)), h.ctx.shadowOffsetX = p.offsetX.number + y, h.ctx.shadowOffsetY = p.offsetY.number, h.ctx.shadowColor = bo(p.color), h.ctx.shadowBlur = p.blur.number, h.ctx.fillStyle = p.inset ? bo(p.color) : "rgba(0,0,0,1)", h.ctx.fill(), h.ctx.restore() }), m.label = 2; case 2: o = 0, A = 0, u = s, m.label = 3; case 3: return A < u.length ? (f = u[A], f.style !== 0 && !_d(f.color) && f.width > 0 ? f.style !== 2 ? [3, 5] : [4, this.renderDashedDottedBorder(f.color, f.width, o, t.curves, 2)] : [3, 11]) : [3, 13]; case 4: return m.sent(), [3, 11]; case 5: return f.style !== 3 ? [3, 7] : [4, this.renderDashedDottedBorder(f.color, f.width, o, t.curves, 3)]; case 6: return m.sent(), [3, 11]; case 7: return f.style !== 4 ? [3, 9] : [4, this.renderDoubleBorder(f.color, f.width, o, t.curves)]; case 8: return m.sent(), [3, 11]; case 9: return [4, this.renderSolidBorder(f.color, o, t.curves)]; case 10: m.sent(), m.label = 11; case 11: o++, m.label = 12; case 12: return A++, [3, 3]; case 13: return [2] } }) }) }, e.prototype.renderDashedDottedBorder = function (t, r, i, s, a) { return Dl(this, void 0, void 0, function () { var o, A, u, f, h, m, p, b, y, E, _, O, I, D, z, X, z, X; return bl(this, function (q) { return this.ctx.save(), o = wle(s, i), A = hT(s, i), a === 2 && (this.path(A), this.ctx.clip()), oc(A[0]) ? (u = A[0].start.x, f = A[0].start.y) : (u = A[0].x, f = A[0].y), oc(A[1]) ? (h = A[1].end.x, m = A[1].end.y) : (h = A[1].x, m = A[1].y), i === 0 || i === 2 ? p = Math.abs(u - h) : p = Math.abs(f - m), this.ctx.beginPath(), a === 3 ? this.formatPath(o) : this.formatPath(A.slice(0, 2)), b = r < 3 ? r * 3 : r * 2, y = r < 3 ? r * 2 : r, a === 3 && (b = r, y = r), E = !0, p <= b * 2 ? E = !1 : p <= b * 2 + y ? (_ = p / (2 * b + y), b *= _, y *= _) : (O = Math.floor((p + y) / (b + y)), I = (p - O * b) / (O - 1), D = (p - (O + 1) * b) / O, y = D <= 0 || Math.abs(y - I) < Math.abs(y - D) ? I : D), E && (a === 3 ? this.ctx.setLineDash([0, b + y]) : this.ctx.setLineDash([b, y])), a === 3 ? (this.ctx.lineCap = "round", this.ctx.lineWidth = r) : this.ctx.lineWidth = r * 2 + 1.1, this.ctx.strokeStyle = bo(t), this.ctx.stroke(), this.ctx.setLineDash([]), a === 2 && (oc(A[0]) && (z = A[3], X = A[0], this.ctx.beginPath(), this.formatPath([new Kt(z.end.x, z.end.y), new Kt(X.start.x, X.start.y)]), this.ctx.stroke()), oc(A[1]) && (z = A[1], X = A[2], this.ctx.beginPath(), this.formatPath([new Kt(z.end.x, z.end.y), new Kt(X.start.x, X.start.y)]), this.ctx.stroke())), this.ctx.restore(), [2] }) }) }, e.prototype.render = function (t) { return Dl(this, void 0, void 0, function () { var r; return bl(this, function (i) { switch (i.label) { case 0: return this.options.backgroundColor && (this.ctx.fillStyle = bo(this.options.backgroundColor), this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height)), r = mle(t), [4, this.renderStack(r)]; case 1: return i.sent(), this.applyEffects([]), [2, this.canvas] } }) }) }, e })(gQ), kle = function (n) { return n instanceof $M || n instanceof qM ? !0 : n instanceof xS && n.type !== Hw && n.type !== Pw }, Tle = function (n, e) { switch (n) { case 0: return Kw(e); case 2: return ule(e); case 1: default: return Vw(e) } }, Fle = function (n) { switch (n) { case 1: return "center"; case 2: return "right"; case 0: default: return "left" } }, Ule = ["-apple-system", "system-ui"], Ole = function (n) { return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent) ? n.filter(function (e) { return Ule.indexOf(e) === -1 }) : n }, Rle = (function (n) { nu(e, n); function e(t, r) { var i = n.call(this, t, r) || this; return i.canvas = r.canvas ? r.canvas : document.createElement("canvas"), i.ctx = i.canvas.getContext("2d"), i.options = r, i.canvas.width = Math.floor(r.width * r.scale), i.canvas.height = Math.floor(r.height * r.scale), i.canvas.style.width = r.width + "px", i.canvas.style.height = r.height + "px", i.ctx.scale(i.options.scale, i.options.scale), i.ctx.translate(-r.x, -r.y), i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized (" + r.width + "x" + r.height + " at " + r.x + "," + r.y + ") with scale " + r.scale), i } return e.prototype.render = function (t) { return Dl(this, void 0, void 0, function () { var r, i; return bl(this, function (s) { switch (s.label) { case 0: return r = u5(this.options.width * this.options.scale, this.options.height * this.options.scale, this.options.scale, this.options.scale, t), [4, Ile(r)]; case 1: return i = s.sent(), this.options.backgroundColor && (this.ctx.fillStyle = bo(this.options.backgroundColor), this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale)), this.ctx.drawImage(i, -this.options.x * this.options.scale, -this.options.y * this.options.scale), [2, this.canvas] } }) }) }, e })(gQ), Ile = function (n) { return new Promise(function (e, t) { var r = new Image; r.onload = function () { e(r) }, r.onerror = t, r.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(n)) }) }, Lle = (function () { function n(e) { var t = e.id, r = e.enabled; this.id = t, this.enabled = r, this.start = Date.now() } return n.prototype.debug = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; this.enabled && (typeof window < "u" && window.console && typeof console.debug == "function" ? console.debug.apply(console, Uy([this.id, this.getTime() + "ms"], e)) : this.info.apply(this, e)) }, n.prototype.getTime = function () { return Date.now() - this.start }, n.prototype.info = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; this.enabled && typeof window < "u" && window.console && typeof console.info == "function" && console.info.apply(console, Uy([this.id, this.getTime() + "ms"], e)) }, n.prototype.warn = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; this.enabled && (typeof window < "u" && window.console && typeof console.warn == "function" ? console.warn.apply(console, Uy([this.id, this.getTime() + "ms"], e)) : this.info.apply(this, e)) }, n.prototype.error = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; this.enabled && (typeof window < "u" && window.console && typeof console.error == "function" ? console.error.apply(console, Uy([this.id, this.getTime() + "ms"], e)) : this.info.apply(this, e)) }, n.instances = {}, n })(), Mle = (function () { function n(e, t) { var r; this.windowBounds = t, this.instanceName = "#" + n.instanceCount++, this.logger = new Lle({ id: this.instanceName, enabled: e.logging }), this.cache = (r = e.cache) !== null && r !== void 0 ? r : new rle(this, e) } return n.instanceCount = 1, n })(), CS = function (n, e) { return e === void 0 && (e = {}), Qle(n, e) }; typeof window < "u" && cQ.setContext(window); var Qle = function (n, e) { return Dl(void 0, void 0, void 0, function () { var t, r, i, s, a, o, A, u, f, h, m, p, b, y, E, _, O, I, D, z, q, X, q, W, G, fe, ne, V, se, M, pe, Z, ae, me, ke, Ce, j, L, re, ie; return bl(this, function (oe) { switch (oe.label) { case 0: if (!n || typeof n != "object") return [2, Promise.reject("Invalid element provided as first argument")]; if (t = n.ownerDocument, !t) throw new Error("Element is not attached to a Document"); if (r = t.defaultView, !r) throw new Error("Document is not attached to a Window"); return i = { allowTaint: (W = e.allowTaint) !== null && W !== void 0 ? W : !1, imageTimeout: (G = e.imageTimeout) !== null && G !== void 0 ? G : 15e3, proxy: e.proxy, useCORS: (fe = e.useCORS) !== null && fe !== void 0 ? fe : !1 }, s = XC({ logging: (ne = e.logging) !== null && ne !== void 0 ? ne : !0, cache: e.cache }, i), a = { windowWidth: (V = e.windowWidth) !== null && V !== void 0 ? V : r.innerWidth, windowHeight: (se = e.windowHeight) !== null && se !== void 0 ? se : r.innerHeight, scrollX: (M = e.scrollX) !== null && M !== void 0 ? M : r.pageXOffset, scrollY: (pe = e.scrollY) !== null && pe !== void 0 ? pe : r.pageYOffset }, o = new wf(a.scrollX, a.scrollY, a.windowWidth, a.windowHeight), A = new Mle(s, o), u = (Z = e.foreignObjectRendering) !== null && Z !== void 0 ? Z : !1, f = { allowTaint: (ae = e.allowTaint) !== null && ae !== void 0 ? ae : !1, onclone: e.onclone, ignoreElements: e.ignoreElements, inlineImages: u, copyStyles: u }, A.logger.debug("Starting document clone with size " + o.width + "x" + o.height + " scrolled to " + -o.left + "," + -o.top), h = new uT(A, n, f), m = h.clonedReferenceElement, m ? [4, h.toIFrame(t, o)] : [2, Promise.reject("Unable to find element in cloned iframe")]; case 1: return p = oe.sent(), b = BS(m) || Poe(m) ? gre(m.ownerDocument) : Pb(A, m), y = b.width, E = b.height, _ = b.left, O = b.top, I = Dle(A, m, e.backgroundColor), D = { canvas: e.canvas, backgroundColor: I, scale: (ke = (me = e.scale) !== null && me !== void 0 ? me : r.devicePixelRatio) !== null && ke !== void 0 ? ke : 1, x: ((Ce = e.x) !== null && Ce !== void 0 ? Ce : 0) + _, y: ((j = e.y) !== null && j !== void 0 ? j : 0) + O, width: (L = e.width) !== null && L !== void 0 ? L : Math.ceil(y), height: (re = e.height) !== null && re !== void 0 ? re : Math.ceil(E) }, u ? (A.logger.debug("Document cloned, using foreign object rendering"), q = new Rle(A, D), [4, q.render(m)]) : [3, 3]; case 2: return z = oe.sent(), [3, 5]; case 3: return A.logger.debug("Document cloned, element located at " + _ + "," + O + " with size " + y + "x" + E + " using computed rendering"), A.logger.debug("Starting DOM parsing"), X = nQ(A, m), I === X.styles.backgroundColor && (X.styles.backgroundColor = gf.TRANSPARENT), A.logger.debug("Starting renderer for element at " + D.x + "," + D.y + " with size " + D.width + "x" + D.height), q = new Nle(A, D), [4, q.render(X)]; case 4: z = oe.sent(), oe.label = 5; case 5: return (!((ie = e.removeContainer) !== null && ie !== void 0) || ie) && (uT.destroy(p) || A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")), A.logger.debug("Finished rendering"), [2, z] } }) }) }, Dle = function (n, e, t) { var r = e.ownerDocument, i = r.documentElement ? m0(n, getComputedStyle(r.documentElement).backgroundColor) : gf.TRANSPARENT, s = r.body ? m0(n, getComputedStyle(r.body).backgroundColor) : gf.TRANSPARENT, a = typeof t == "string" ? m0(n, t) : t === null ? gf.TRANSPARENT : 4294967295; return e === r.documentElement ? _d(i) ? _d(s) ? a : s : i : a }; const Ple = Object.freeze(Object.defineProperty({ __proto__: null, default: CS }, Symbol.toStringTag, { value: "Module" })), Hle = "modulepreload", jle = function (n) { return "/" + n }, gT = {}, yB = function (e, t, r) { let i = Promise.resolve(); if (t && t.length > 0) { let A = function (u) { return Promise.all(u.map(f => Promise.resolve(f).then(h => ({ status: "fulfilled", value: h }), h => ({ status: "rejected", reason: h })))) }; document.getElementsByTagName("link"); const a = document.querySelector("meta[property=csp-nonce]"), o = a?.nonce || a?.getAttribute("nonce"); i = A(t.map(u => { if (u = jle(u), u in gT) return; gT[u] = !0; const f = u.endsWith(".css"), h = f ? '[rel="stylesheet"]' : ""; if (document.querySelector(`link[href="${u}"]${h}`)) return; const m = document.createElement("link"); if (m.rel = f ? "stylesheet" : Hle, f || (m.as = "script"), m.crossOrigin = "", m.href = u, o && m.setAttribute("nonce", o), document.head.appendChild(m), f) return new Promise((p, b) => { m.addEventListener("load", p), m.addEventListener("error", () => b(new Error(`Unable to preload CSS for ${u}`))) }) })) } function s(a) { const o = new Event("vite:preloadError", { cancelable: !0 }); if (o.payload = a, window.dispatchEvent(o), !o.defaultPrevented) throw a } return i.then(a => { for (const o of a || []) o.status === "rejected" && s(o.reason); return e().catch(s) }) }; function Ei(n) { "@babel/helpers - typeof"; return Ei = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Ei(n) } var $c = Uint8Array, PA = Uint16Array, ES = Int32Array, SS = new $c([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), _S = new $c([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), mT = new $c([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), mQ = function (n, e) { for (var t = new PA(31), r = 0; r < 31; ++r)t[r] = e += 1 << n[r - 1]; for (var i = new ES(t[30]), r = 1; r < 30; ++r)for (var s = t[r]; s < t[r + 1]; ++s)i[s] = s - t[r] << 5 | r; return { b: t, r: i } }, vQ = mQ(SS, 2), zle = vQ.b, v5 = vQ.r; zle[28] = 258, v5[258] = 28; var Kle = mQ(_S, 0), vT = Kle.r, y5 = new PA(32768); for (var As = 0; As < 32768; ++As) { var $f = (As & 43690) >> 1 | (As & 21845) << 1; $f = ($f & 52428) >> 2 | ($f & 13107) << 2, $f = ($f & 61680) >> 4 | ($f & 3855) << 4, y5[As] = (($f & 65280) >> 8 | ($f & 255) << 8) >> 1 } var b0 = (function (n, e, t) { for (var r = n.length, i = 0, s = new PA(e); i < r; ++i)n[i] && ++s[n[i] - 1]; var a = new PA(e); for (i = 1; i < e; ++i)a[i] = a[i - 1] + s[i - 1] << 1; var o; if (t) { o = new PA(1 << e); var A = 15 - e; for (i = 0; i < r; ++i)if (n[i]) for (var u = i << 4 | n[i], f = e - n[i], h = a[n[i] - 1]++ << f, m = h | (1 << f) - 1; h <= m; ++h)o[y5[h] >> A] = u } else for (o = new PA(r), i = 0; i < r; ++i)n[i] && (o[i] = y5[a[n[i] - 1]++] >> 15 - n[i]); return o }), ap = new $c(288); for (var As = 0; As < 144; ++As)ap[As] = 8; for (var As = 144; As < 256; ++As)ap[As] = 9; for (var As = 256; As < 280; ++As)ap[As] = 7; for (var As = 280; As < 288; ++As)ap[As] = 8; var Ww = new $c(32); for (var As = 0; As < 32; ++As)Ww[As] = 5; var Vle = b0(ap, 9, 0), Gle = b0(Ww, 5, 0), yQ = function (n) { return (n + 7) / 8 | 0 }, Wle = function (n, e, t) { return (t == null || t > n.length) && (t = n.length), new $c(n.subarray(e, t)) }, rf = function (n, e, t) { t <<= e & 7; var r = e / 8 | 0; n[r] |= t, n[r + 1] |= t >> 8 }, jm = function (n, e, t) { t <<= e & 7; var r = e / 8 | 0; n[r] |= t, n[r + 1] |= t >> 8, n[r + 2] |= t >> 16 }, wB = function (n, e) { for (var t = [], r = 0; r < n.length; ++r)n[r] && t.push({ s: r, f: n[r] }); var i = t.length, s = t.slice(); if (!i) return { t: bQ, l: 0 }; if (i == 1) { var a = new $c(t[0].s + 1); return a[t[0].s] = 1, { t: a, l: 1 } } t.sort(function (z, X) { return z.f - X.f }), t.push({ s: -1, f: 25001 }); var o = t[0], A = t[1], u = 0, f = 1, h = 2; for (t[0] = { s: -1, f: o.f + A.f, l: o, r: A }; f != i - 1;)o = t[t[u].f < t[h].f ? u++ : h++], A = t[u != f && t[u].f < t[h].f ? u++ : h++], t[f++] = { s: -1, f: o.f + A.f, l: o, r: A }; for (var m = s[0].s, r = 1; r < i; ++r)s[r].s > m && (m = s[r].s); var p = new PA(m + 1), b = w5(t[f - 1], p, 0); if (b > e) { var r = 0, y = 0, E = b - e, _ = 1 << E; for (s.sort(function (X, q) { return p[q.s] - p[X.s] || X.f - q.f }); r < i; ++r) { var O = s[r].s; if (p[O] > e) y += _ - (1 << b - p[O]), p[O] = e; else break } for (y >>= E; y > 0;) { var I = s[r].s; p[I] < e ? y -= 1 << e - p[I]++ - 1 : ++r } for (; r >= 0 && y; --r) { var D = s[r].s; p[D] == e && (--p[D], ++y) } b = e } return { t: new $c(p), l: b } }, w5 = function (n, e, t) { return n.s == -1 ? Math.max(w5(n.l, e, t + 1), w5(n.r, e, t + 1)) : e[n.s] = t }, yT = function (n) { for (var e = n.length; e && !n[--e];); for (var t = new PA(++e), r = 0, i = n[0], s = 1, a = function (A) { t[r++] = A }, o = 1; o <= e; ++o)if (n[o] == i && o != e) ++s; else { if (!i && s > 2) { for (; s > 138; s -= 138)a(32754); s > 2 && (a(s > 10 ? s - 11 << 5 | 28690 : s - 3 << 5 | 12305), s = 0) } else if (s > 3) { for (a(i), --s; s > 6; s -= 6)a(8304); s > 2 && (a(s - 3 << 5 | 8208), s = 0) } for (; s--;)a(i); s = 1, i = n[o] } return { c: t.subarray(0, r), n: e } }, zm = function (n, e) { for (var t = 0, r = 0; r < e.length; ++r)t += n[r] * e[r]; return t }, wQ = function (n, e, t) { var r = t.length, i = yQ(e + 2); n[i] = r & 255, n[i + 1] = r >> 8, n[i + 2] = n[i] ^ 255, n[i + 3] = n[i + 1] ^ 255; for (var s = 0; s < r; ++s)n[i + s + 4] = t[s]; return (i + 4 + r) * 8 }, wT = function (n, e, t, r, i, s, a, o, A, u, f) { rf(e, f++, t), ++i[256]; for (var h = wB(i, 15), m = h.t, p = h.l, b = wB(s, 15), y = b.t, E = b.l, _ = yT(m), O = _.c, I = _.n, D = yT(y), z = D.c, X = D.n, q = new PA(19), W = 0; W < O.length; ++W)++q[O[W] & 31]; for (var W = 0; W < z.length; ++W)++q[z[W] & 31]; for (var G = wB(q, 7), fe = G.t, ne = G.l, V = 19; V > 4 && !fe[mT[V - 1]]; --V); var se = u + 5 << 3, M = zm(i, ap) + zm(s, Ww) + a, pe = zm(i, m) + zm(s, y) + a + 14 + 3 * V + zm(q, fe) + 2 * q[16] + 3 * q[17] + 7 * q[18]; if (A >= 0 && se <= M && se <= pe) return wQ(e, f, n.subarray(A, A + u)); var Z, ae, me, ke; if (rf(e, f, 1 + (pe < M)), f += 2, pe < M) { Z = b0(m, p, 0), ae = m, me = b0(y, E, 0), ke = y; var Ce = b0(fe, ne, 0); rf(e, f, I - 257), rf(e, f + 5, X - 1), rf(e, f + 10, V - 4), f += 14; for (var W = 0; W < V; ++W)rf(e, f + 3 * W, fe[mT[W]]); f += 3 * V; for (var j = [O, z], L = 0; L < 2; ++L)for (var re = j[L], W = 0; W < re.length; ++W) { var ie = re[W] & 31; rf(e, f, Ce[ie]), f += fe[ie], ie > 15 && (rf(e, f, re[W] >> 5 & 127), f += re[W] >> 12) } } else Z = Vle, ae = ap, me = Gle, ke = Ww; for (var W = 0; W < o; ++W) { var oe = r[W]; if (oe > 255) { var ie = oe >> 18 & 31; jm(e, f, Z[ie + 257]), f += ae[ie + 257], ie > 7 && (rf(e, f, oe >> 23 & 31), f += SS[ie]); var de = oe & 31; jm(e, f, me[de]), f += ke[de], de > 3 && (jm(e, f, oe >> 5 & 8191), f += _S[de]) } else jm(e, f, Z[oe]), f += ae[oe] } return jm(e, f, Z[256]), f + ae[256] }, Yle = new ES([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]), bQ = new $c(0), Jle = function (n, e, t, r, i, s) { var a = s.z || n.length, o = new $c(r + a + 5 * (1 + Math.ceil(a / 7e3)) + i), A = o.subarray(r, o.length - i), u = s.l, f = (s.r || 0) & 7; if (e) { f && (A[0] = s.r >> 3); for (var h = Yle[e - 1], m = h >> 13, p = h & 8191, b = (1 << t) - 1, y = s.p || new PA(32768), E = s.h || new PA(b + 1), _ = Math.ceil(t / 3), O = 2 * _, I = function ($) { return (n[$] ^ n[$ + 1] << _ ^ n[$ + 2] << O) & b }, D = new ES(25e3), z = new PA(288), X = new PA(32), q = 0, W = 0, G = s.i || 0, fe = 0, ne = s.w || 0, V = 0; G + 2 < a; ++G) { var se = I(G), M = G & 32767, pe = E[se]; if (y[M] = pe, E[se] = M, ne <= G) { var Z = a - G; if ((q > 7e3 || fe > 24576) && (Z > 423 || !u)) { f = wT(n, A, 0, D, z, X, W, fe, V, G - V, f), fe = q = W = 0, V = G; for (var ae = 0; ae < 286; ++ae)z[ae] = 0; for (var ae = 0; ae < 30; ++ae)X[ae] = 0 } var me = 2, ke = 0, Ce = p, j = M - pe & 32767; if (Z > 2 && se == I(G - j)) for (var L = Math.min(m, Z) - 1, re = Math.min(32767, G), ie = Math.min(258, Z); j <= re && --Ce && M != pe;) { if (n[G + me] == n[G + me - j]) { for (var oe = 0; oe < ie && n[G + oe] == n[G + oe - j]; ++oe); if (oe > me) { if (me = oe, ke = j, oe > L) break; for (var de = Math.min(j, oe - 2), Be = 0, ae = 0; ae < de; ++ae) { var Re = G - j + ae & 32767, Ie = y[Re], Ye = Re - Ie & 32767; Ye > Be && (Be = Ye, pe = Re) } } } M = pe, pe = y[M], j += M - pe & 32767 } if (ke) { D[fe++] = 268435456 | v5[me] << 18 | vT[ke]; var $e = v5[me] & 31, yt = vT[ke] & 31; W += SS[$e] + _S[yt], ++z[257 + $e], ++X[yt], ne = G + me, ++q } else D[fe++] = n[G], ++z[n[G]] } } for (G = Math.max(G, ne); G < a; ++G)D[fe++] = n[G], ++z[n[G]]; f = wT(n, A, u, D, z, X, W, fe, V, G - V, f), u || (s.r = f & 7 | A[f / 8 | 0] << 3, f -= 7, s.h = E, s.p = y, s.i = G, s.w = ne) } else { for (var G = s.w || 0; G < a + u; G += 65535) { var at = G + 65535; at >= a && (A[f / 8 | 0] = u, at = a), f = wQ(A, f + 1, n.subarray(G, at)) } s.i = a } return Wle(o, 0, r + yQ(f) + i) }, xQ = function () { var n = 1, e = 0; return { p: function (t) { for (var r = n, i = e, s = t.length | 0, a = 0; a != s;) { for (var o = Math.min(a + 2655, s); a < o; ++a)i += r += t[a]; r = (r & 65535) + 15 * (r >> 16), i = (i & 65535) + 15 * (i >> 16) } n = r, e = i }, d: function () { return n %= 65521, e %= 65521, (n & 255) << 24 | (n & 65280) << 8 | (e & 255) << 8 | e >> 8 } } }, Xle = function (n, e, t, r, i) { if (!i && (i = { l: 1 }, e.dictionary)) { var s = e.dictionary.subarray(-32768), a = new $c(s.length + n.length); a.set(s), a.set(n, s.length), n = a, i.w = s.length } return Jle(n, e.level == null ? 6 : e.level, e.mem == null ? i.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(n.length))) * 1.5) : 20 : 12 + e.mem, t, r, i) }, BQ = function (n, e, t) { for (; t; ++e)n[e] = t, t >>>= 8 }, Zle = function (n, e) { var t = e.level, r = t == 0 ? 0 : t < 6 ? 1 : t == 9 ? 3 : 2; if (n[0] = 120, n[1] = r << 6 | (e.dictionary && 32), n[1] |= 31 - (n[0] << 8 | n[1]) % 31, e.dictionary) { var i = xQ(); i.p(e.dictionary), BQ(n, 2, i.d()) } }; function b5(n, e) { e || (e = {}); var t = xQ(); t.p(n); var r = Xle(n, e, e.dictionary ? 6 : 2, 4); return Zle(r, e), BQ(r, r.length - 4, t.d()), r } var qle = typeof TextDecoder < "u" && new TextDecoder, $le = 0; try { qle.decode(bQ, { stream: !0 }), $le = 1 } catch { } function eAe(n) { if (Array.isArray(n)) return n } function tAe(n, e) { var t = n == null ? null : typeof Symbol < "u" && n[Symbol.iterator] || n["@@iterator"]; if (t != null) { var r, i, s, a, o = [], A = !0, u = !1; try { if (s = (t = t.call(n)).next, e !== 0) for (; !(A = (r = s.call(t)).done) && (o.push(r.value), o.length !== e); A = !0); } catch (f) { u = !0, i = f } finally { try { if (!A && t.return != null && (a = t.return(), Object(a) !== a)) return } finally { if (u) throw i } } return o } } function bT(n, e) { (e == null || e > n.length) && (e = n.length); for (var t = 0, r = Array(e); t < e; t++)r[t] = n[t]; return r } function nAe(n, e) { if (n) { if (typeof n == "string") return bT(n, e); var t = {}.toString.call(n).slice(8, -1); return t === "Object" && n.constructor && (t = n.constructor.name), t === "Map" || t === "Set" ? Array.from(n) : t === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? bT(n, e) : void 0 } } function rAe() {
    throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
  } function xT(n, e) { return eAe(n) || tAe(n, e) || nAe(n, e) || rAe() } function BT(n, e = "utf8") { return new TextDecoder(e).decode(n) } const iAe = new TextEncoder; function sAe(n) { return iAe.encode(n) } const aAe = 1024 * 8, oAe = (() => { const n = new Uint8Array(4), e = new Uint32Array(n.buffer); return !((e[0] = 1) & n[0]) })(), bB = { int8: globalThis.Int8Array, uint8: globalThis.Uint8Array, int16: globalThis.Int16Array, uint16: globalThis.Uint16Array, int32: globalThis.Int32Array, uint32: globalThis.Uint32Array, uint64: globalThis.BigUint64Array, int64: globalThis.BigInt64Array, float32: globalThis.Float32Array, float64: globalThis.Float64Array }; class NS { buffer; byteLength; byteOffset; length; offset; lastWrittenByte; littleEndian; _data; _mark; _marks; constructor(e = aAe, t = {}) { let r = !1; typeof e == "number" ? e = new ArrayBuffer(e) : (r = !0, this.lastWrittenByte = e.byteLength); const i = t.offset ? t.offset >>> 0 : 0, s = e.byteLength - i; let a = i; (ArrayBuffer.isView(e) || e instanceof NS) && (e.byteLength !== e.buffer.byteLength && (a = e.byteOffset + i), e = e.buffer), r ? this.lastWrittenByte = s : this.lastWrittenByte = 0, this.buffer = e, this.length = s, this.byteLength = s, this.byteOffset = a, this.offset = 0, this.littleEndian = !0, this._data = new DataView(this.buffer, a, s), this._mark = 0, this._marks = [] } available(e = 1) { return this.offset + e <= this.length } isLittleEndian() { return this.littleEndian } setLittleEndian() { return this.littleEndian = !0, this } isBigEndian() { return !this.littleEndian } setBigEndian() { return this.littleEndian = !1, this } skip(e = 1) { return this.offset += e, this } back(e = 1) { return this.offset -= e, this } seek(e) { return this.offset = e, this } mark() { return this._mark = this.offset, this } reset() { return this.offset = this._mark, this } pushMark() { return this._marks.push(this.offset), this } popMark() { const e = this._marks.pop(); if (e === void 0) throw new Error("Mark stack empty"); return this.seek(e), this } rewind() { return this.offset = 0, this } ensureAvailable(e = 1) { if (!this.available(e)) { const r = (this.offset + e) * 2, i = new Uint8Array(r); i.set(new Uint8Array(this.buffer)), this.buffer = i.buffer, this.length = r, this.byteLength = r, this._data = new DataView(this.buffer) } return this } readBoolean() { return this.readUint8() !== 0 } readInt8() { return this._data.getInt8(this.offset++) } readUint8() { return this._data.getUint8(this.offset++) } readByte() { return this.readUint8() } readBytes(e = 1) { return this.readArray(e, "uint8") } readArray(e, t) { const r = bB[t].BYTES_PER_ELEMENT * e, i = this.byteOffset + this.offset, s = this.buffer.slice(i, i + r); if (this.littleEndian === oAe && t !== "uint8" && t !== "int8") { const o = new Uint8Array(this.buffer.slice(i, i + r)); o.reverse(); const A = new bB[t](o.buffer); return this.offset += r, A.reverse(), A } const a = new bB[t](s); return this.offset += r, a } readInt16() { const e = this._data.getInt16(this.offset, this.littleEndian); return this.offset += 2, e } readUint16() { const e = this._data.getUint16(this.offset, this.littleEndian); return this.offset += 2, e } readInt32() { const e = this._data.getInt32(this.offset, this.littleEndian); return this.offset += 4, e } readUint32() { const e = this._data.getUint32(this.offset, this.littleEndian); return this.offset += 4, e } readFloat32() { const e = this._data.getFloat32(this.offset, this.littleEndian); return this.offset += 4, e } readFloat64() { const e = this._data.getFloat64(this.offset, this.littleEndian); return this.offset += 8, e } readBigInt64() { const e = this._data.getBigInt64(this.offset, this.littleEndian); return this.offset += 8, e } readBigUint64() { const e = this._data.getBigUint64(this.offset, this.littleEndian); return this.offset += 8, e } readChar() { return String.fromCharCode(this.readInt8()) } readChars(e = 1) { let t = ""; for (let r = 0; r < e; r++)t += this.readChar(); return t } readUtf8(e = 1) { return BT(this.readBytes(e)) } decodeText(e = 1, t = "utf8") { return BT(this.readBytes(e), t) } writeBoolean(e) { return this.writeUint8(e ? 255 : 0), this } writeInt8(e) { return this.ensureAvailable(1), this._data.setInt8(this.offset++, e), this._updateLastWrittenByte(), this } writeUint8(e) { return this.ensureAvailable(1), this._data.setUint8(this.offset++, e), this._updateLastWrittenByte(), this } writeByte(e) { return this.writeUint8(e) } writeBytes(e) { this.ensureAvailable(e.length); for (let t = 0; t < e.length; t++)this._data.setUint8(this.offset++, e[t]); return this._updateLastWrittenByte(), this } writeInt16(e) { return this.ensureAvailable(2), this._data.setInt16(this.offset, e, this.littleEndian), this.offset += 2, this._updateLastWrittenByte(), this } writeUint16(e) { return this.ensureAvailable(2), this._data.setUint16(this.offset, e, this.littleEndian), this.offset += 2, this._updateLastWrittenByte(), this } writeInt32(e) { return this.ensureAvailable(4), this._data.setInt32(this.offset, e, this.littleEndian), this.offset += 4, this._updateLastWrittenByte(), this } writeUint32(e) { return this.ensureAvailable(4), this._data.setUint32(this.offset, e, this.littleEndian), this.offset += 4, this._updateLastWrittenByte(), this } writeFloat32(e) { return this.ensureAvailable(4), this._data.setFloat32(this.offset, e, this.littleEndian), this.offset += 4, this._updateLastWrittenByte(), this } writeFloat64(e) { return this.ensureAvailable(8), this._data.setFloat64(this.offset, e, this.littleEndian), this.offset += 8, this._updateLastWrittenByte(), this } writeBigInt64(e) { return this.ensureAvailable(8), this._data.setBigInt64(this.offset, e, this.littleEndian), this.offset += 8, this._updateLastWrittenByte(), this } writeBigUint64(e) { return this.ensureAvailable(8), this._data.setBigUint64(this.offset, e, this.littleEndian), this.offset += 8, this._updateLastWrittenByte(), this } writeChar(e) { return this.writeUint8(e.charCodeAt(0)) } writeChars(e) { for (let t = 0; t < e.length; t++)this.writeUint8(e.charCodeAt(t)); return this } writeUtf8(e) { return this.writeBytes(sAe(e)) } toArray() { return new Uint8Array(this.buffer, this.byteOffset, this.lastWrittenByte) } getWrittenByteLength() { return this.lastWrittenByte - this.byteOffset } _updateLastWrittenByte() { this.offset > this.lastWrittenByte && (this.lastWrittenByte = this.offset) } } function qg(n) { let e = n.length; for (; --e >= 0;)n[e] = 0 } const lAe = 3, AAe = 258, CQ = 29, cAe = 256, uAe = cAe + 1 + CQ, EQ = 30, fAe = 512, dAe = new Array((uAe + 2) * 2); qg(dAe); const hAe = new Array(EQ * 2); qg(hAe); const pAe = new Array(fAe); qg(pAe); const gAe = new Array(AAe - lAe + 1); qg(gAe); const mAe = new Array(CQ); qg(mAe); const vAe = new Array(EQ); qg(vAe); const yAe = (n, e, t, r) => { let i = n & 65535 | 0, s = n >>> 16 & 65535 | 0, a = 0; for (; t !== 0;) { a = t > 2e3 ? 2e3 : t, t -= a; do i = i + e[r++] | 0, s = s + i | 0; while (--a); i %= 65521, s %= 65521 } return i | s << 16 | 0 }; var x5 = yAe; const wAe = () => { let n, e = []; for (var t = 0; t < 256; t++) { n = t; for (var r = 0; r < 8; r++)n = n & 1 ? 3988292384 ^ n >>> 1 : n >>> 1; e[t] = n } return e }, bAe = new Uint32Array(wAe()), xAe = (n, e, t, r) => { const i = bAe, s = r + t; n ^= -1; for (let a = r; a < s; a++)n = n >>> 8 ^ i[(n ^ e[a]) & 255]; return n ^ -1 }; var yu = xAe, B5 = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" }, SQ = { Z_NO_FLUSH: 0, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_MEM_ERROR: -4, Z_BUF_ERROR: -5, Z_DEFLATED: 8 }; const BAe = (n, e) => Object.prototype.hasOwnProperty.call(n, e); var CAe = function (n) { const e = Array.prototype.slice.call(arguments, 1); for (; e.length;) { const t = e.shift(); if (t) { if (typeof t != "object") throw new TypeError(t + "must be non-object"); for (const r in t) BAe(t, r) && (n[r] = t[r]) } } return n }, EAe = n => { let e = 0; for (let r = 0, i = n.length; r < i; r++)e += n[r].length; const t = new Uint8Array(e); for (let r = 0, i = 0, s = n.length; r < s; r++) { let a = n[r]; t.set(a, i), i += a.length } return t }, _Q = { assign: CAe, flattenChunks: EAe }; let NQ = !0; try { String.fromCharCode.apply(null, new Uint8Array(1)) } catch { NQ = !1 } const V0 = new Uint8Array(256); for (let n = 0; n < 256; n++)V0[n] = n >= 252 ? 6 : n >= 248 ? 5 : n >= 240 ? 4 : n >= 224 ? 3 : n >= 192 ? 2 : 1; V0[254] = V0[254] = 1; var SAe = n => { if (typeof TextEncoder == "function" && TextEncoder.prototype.encode) return new TextEncoder().encode(n); let e, t, r, i, s, a = n.length, o = 0; for (i = 0; i < a; i++)t = n.charCodeAt(i), (t & 64512) === 55296 && i + 1 < a && (r = n.charCodeAt(i + 1), (r & 64512) === 56320 && (t = 65536 + (t - 55296 << 10) + (r - 56320), i++)), o += t < 128 ? 1 : t < 2048 ? 2 : t < 65536 ? 3 : 4; for (e = new Uint8Array(o), s = 0, i = 0; s < o; i++)t = n.charCodeAt(i), (t & 64512) === 55296 && i + 1 < a && (r = n.charCodeAt(i + 1), (r & 64512) === 56320 && (t = 65536 + (t - 55296 << 10) + (r - 56320), i++)), t < 128 ? e[s++] = t : t < 2048 ? (e[s++] = 192 | t >>> 6, e[s++] = 128 | t & 63) : t < 65536 ? (e[s++] = 224 | t >>> 12, e[s++] = 128 | t >>> 6 & 63, e[s++] = 128 | t & 63) : (e[s++] = 240 | t >>> 18, e[s++] = 128 | t >>> 12 & 63, e[s++] = 128 | t >>> 6 & 63, e[s++] = 128 | t & 63); return e }; const _Ae = (n, e) => { if (e < 65534 && n.subarray && NQ) return String.fromCharCode.apply(null, n.length === e ? n : n.subarray(0, e)); let t = ""; for (let r = 0; r < e; r++)t += String.fromCharCode(n[r]); return t }; var NAe = (n, e) => { const t = e || n.length; if (typeof TextDecoder == "function" && TextDecoder.prototype.decode) return new TextDecoder().decode(n.subarray(0, e)); let r, i; const s = new Array(t * 2); for (i = 0, r = 0; r < t;) { let a = n[r++]; if (a < 128) { s[i++] = a; continue } let o = V0[a]; if (o > 4) { s[i++] = 65533, r += o - 1; continue } for (a &= o === 2 ? 31 : o === 3 ? 15 : 7; o > 1 && r < t;)a = a << 6 | n[r++] & 63, o--; if (o > 1) { s[i++] = 65533; continue } a < 65536 ? s[i++] = a : (a -= 65536, s[i++] = 55296 | a >> 10 & 1023, s[i++] = 56320 | a & 1023) } return _Ae(s, i) }, kAe = (n, e) => { e = e || n.length, e > n.length && (e = n.length); let t = e - 1; for (; t >= 0 && (n[t] & 192) === 128;)t--; return t < 0 || t === 0 ? e : t + V0[n[t]] > e ? t : e }, C5 = { string2buf: SAe, buf2string: NAe, utf8border: kAe }; function TAe() { this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0 } var FAe = TAe; const t1 = 16209, UAe = 16191; var OAe = function (e, t) { let r, i, s, a, o, A, u, f, h, m, p, b, y, E, _, O, I, D, z, X, q, W, G, fe; const ne = e.state; r = e.next_in, G = e.input, i = r + (e.avail_in - 5), s = e.next_out, fe = e.output, a = s - (t - e.avail_out), o = s + (e.avail_out - 257), A = ne.dmax, u = ne.wsize, f = ne.whave, h = ne.wnext, m = ne.window, p = ne.hold, b = ne.bits, y = ne.lencode, E = ne.distcode, _ = (1 << ne.lenbits) - 1, O = (1 << ne.distbits) - 1; e: do { b < 15 && (p += G[r++] << b, b += 8, p += G[r++] << b, b += 8), I = y[p & _]; t: for (; ;) { if (D = I >>> 24, p >>>= D, b -= D, D = I >>> 16 & 255, D === 0) fe[s++] = I & 65535; else if (D & 16) { z = I & 65535, D &= 15, D && (b < D && (p += G[r++] << b, b += 8), z += p & (1 << D) - 1, p >>>= D, b -= D), b < 15 && (p += G[r++] << b, b += 8, p += G[r++] << b, b += 8), I = E[p & O]; n: for (; ;) { if (D = I >>> 24, p >>>= D, b -= D, D = I >>> 16 & 255, D & 16) { if (X = I & 65535, D &= 15, b < D && (p += G[r++] << b, b += 8, b < D && (p += G[r++] << b, b += 8)), X += p & (1 << D) - 1, X > A) { e.msg = "invalid distance too far back", ne.mode = t1; break e } if (p >>>= D, b -= D, D = s - a, X > D) { if (D = X - D, D > f && ne.sane) { e.msg = "invalid distance too far back", ne.mode = t1; break e } if (q = 0, W = m, h === 0) { if (q += u - D, D < z) { z -= D; do fe[s++] = m[q++]; while (--D); q = s - X, W = fe } } else if (h < D) { if (q += u + h - D, D -= h, D < z) { z -= D; do fe[s++] = m[q++]; while (--D); if (q = 0, h < z) { D = h, z -= D; do fe[s++] = m[q++]; while (--D); q = s - X, W = fe } } } else if (q += h - D, D < z) { z -= D; do fe[s++] = m[q++]; while (--D); q = s - X, W = fe } for (; z > 2;)fe[s++] = W[q++], fe[s++] = W[q++], fe[s++] = W[q++], z -= 3; z && (fe[s++] = W[q++], z > 1 && (fe[s++] = W[q++])) } else { q = s - X; do fe[s++] = fe[q++], fe[s++] = fe[q++], fe[s++] = fe[q++], z -= 3; while (z > 2); z && (fe[s++] = fe[q++], z > 1 && (fe[s++] = fe[q++])) } } else if ((D & 64) === 0) { I = E[(I & 65535) + (p & (1 << D) - 1)]; continue n } else { e.msg = "invalid distance code", ne.mode = t1; break e } break } } else if ((D & 64) === 0) { I = y[(I & 65535) + (p & (1 << D) - 1)]; continue t } else if (D & 32) { ne.mode = UAe; break e } else { e.msg = "invalid literal/length code", ne.mode = t1; break e } break } } while (r < i && s < o); z = b >> 3, r -= z, b -= z << 3, p &= (1 << b) - 1, e.next_in = r, e.next_out = s, e.avail_in = r < i ? 5 + (i - r) : 5 - (r - i), e.avail_out = s < o ? 257 + (o - s) : 257 - (s - o), ne.hold = p, ne.bits = b }; const $p = 15, CT = 852, ET = 592, ST = 0, xB = 1, _T = 2, RAe = new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]), IAe = new Uint8Array([16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]), LAe = new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]), MAe = new Uint8Array([16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]), QAe = (n, e, t, r, i, s, a, o) => { const A = o.bits; let u = 0, f = 0, h = 0, m = 0, p = 0, b = 0, y = 0, E = 0, _ = 0, O = 0, I, D, z, X, q, W = null, G; const fe = new Uint16Array($p + 1), ne = new Uint16Array($p + 1); let V = null, se, M, pe; for (u = 0; u <= $p; u++)fe[u] = 0; for (f = 0; f < r; f++)fe[e[t + f]]++; for (p = A, m = $p; m >= 1 && fe[m] === 0; m--); if (p > m && (p = m), m === 0) return i[s++] = 1 << 24 | 64 << 16 | 0, i[s++] = 1 << 24 | 64 << 16 | 0, o.bits = 1, 0; for (h = 1; h < m && fe[h] === 0; h++); for (p < h && (p = h), E = 1, u = 1; u <= $p; u++)if (E <<= 1, E -= fe[u], E < 0) return -1; if (E > 0 && (n === ST || m !== 1)) return -1; for (ne[1] = 0, u = 1; u < $p; u++)ne[u + 1] = ne[u] + fe[u]; for (f = 0; f < r; f++)e[t + f] !== 0 && (a[ne[e[t + f]]++] = f); if (n === ST ? (W = V = a, G = 20) : n === xB ? (W = RAe, V = IAe, G = 257) : (W = LAe, V = MAe, G = 0), O = 0, f = 0, u = h, q = s, b = p, y = 0, z = -1, _ = 1 << p, X = _ - 1, n === xB && _ > CT || n === _T && _ > ET) return 1; for (; ;) { se = u - y, a[f] + 1 < G ? (M = 0, pe = a[f]) : a[f] >= G ? (M = V[a[f] - G], pe = W[a[f] - G]) : (M = 96, pe = 0), I = 1 << u - y, D = 1 << b, h = D; do D -= I, i[q + (O >> y) + D] = se << 24 | M << 16 | pe | 0; while (D !== 0); for (I = 1 << u - 1; O & I;)I >>= 1; if (I !== 0 ? (O &= I - 1, O += I) : O = 0, f++, --fe[u] === 0) { if (u === m) break; u = e[t + a[f]] } if (u > p && (O & X) !== z) { for (y === 0 && (y = p), q += h, b = u - y, E = 1 << b; b + y < m && (E -= fe[b + y], !(E <= 0));)b++, E <<= 1; if (_ += 1 << b, n === xB && _ > CT || n === _T && _ > ET) return 1; z = O & X, i[z] = p << 24 | b << 16 | q - s | 0 } } return O !== 0 && (i[q + O] = u - y << 24 | 64 << 16 | 0), o.bits = p, 0 }; var x0 = QAe; const DAe = 0, kQ = 1, TQ = 2, { Z_FINISH: NT, Z_BLOCK: PAe, Z_TREES: n1, Z_OK: op, Z_STREAM_END: HAe, Z_NEED_DICT: jAe, Z_STREAM_ERROR: yc, Z_DATA_ERROR: FQ, Z_MEM_ERROR: UQ, Z_BUF_ERROR: zAe, Z_DEFLATED: kT } = SQ, Xb = 16180, TT = 16181, FT = 16182, UT = 16183, OT = 16184, RT = 16185, IT = 16186, LT = 16187, MT = 16188, QT = 16189, Yw = 16190, sf = 16191, BB = 16192, DT = 16193, CB = 16194, PT = 16195, HT = 16196, jT = 16197, zT = 16198, r1 = 16199, i1 = 16200, KT = 16201, VT = 16202, GT = 16203, WT = 16204, YT = 16205, EB = 16206, JT = 16207, XT = 16208, ws = 16209, OQ = 16210, RQ = 16211, KAe = 852, VAe = 592, GAe = 15, WAe = GAe, ZT = n => (n >>> 24 & 255) + (n >>> 8 & 65280) + ((n & 65280) << 8) + ((n & 255) << 24); function YAe() { this.strm = null, this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new Uint16Array(320), this.work = new Uint16Array(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0 } const fp = n => { if (!n) return 1; const e = n.state; return !e || e.strm !== n || e.mode < Xb || e.mode > RQ ? 1 : 0 }, IQ = n => { if (fp(n)) return yc; const e = n.state; return n.total_in = n.total_out = e.total = 0, n.msg = "", e.wrap && (n.adler = e.wrap & 1), e.mode = Xb, e.last = 0, e.havedict = 0, e.flags = -1, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new Int32Array(KAe), e.distcode = e.distdyn = new Int32Array(VAe), e.sane = 1, e.back = -1, op }, LQ = n => { if (fp(n)) return yc; const e = n.state; return e.wsize = 0, e.whave = 0, e.wnext = 0, IQ(n) }, MQ = (n, e) => { let t; if (fp(n)) return yc; const r = n.state; return e < 0 ? (t = 0, e = -e) : (t = (e >> 4) + 5, e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? yc : (r.window !== null && r.wbits !== e && (r.window = null), r.wrap = t, r.wbits = e, LQ(n)) }, QQ = (n, e) => { if (!n) return yc; const t = new YAe; n.state = t, t.strm = n, t.window = null, t.mode = Xb; const r = MQ(n, e); return r !== op && (n.state = null), r }, JAe = n => QQ(n, WAe); let qT = !0, SB, _B; const XAe = n => { if (qT) { SB = new Int32Array(512), _B = new Int32Array(32); let e = 0; for (; e < 144;)n.lens[e++] = 8; for (; e < 256;)n.lens[e++] = 9; for (; e < 280;)n.lens[e++] = 7; for (; e < 288;)n.lens[e++] = 8; for (x0(kQ, n.lens, 0, 288, SB, 0, n.work, { bits: 9 }), e = 0; e < 32;)n.lens[e++] = 5; x0(TQ, n.lens, 0, 32, _B, 0, n.work, { bits: 5 }), qT = !1 } n.lencode = SB, n.lenbits = 9, n.distcode = _B, n.distbits = 5 }, DQ = (n, e, t, r) => { let i; const s = n.state; return s.window === null && (s.wsize = 1 << s.wbits, s.wnext = 0, s.whave = 0, s.window = new Uint8Array(s.wsize)), r >= s.wsize ? (s.window.set(e.subarray(t - s.wsize, t), 0), s.wnext = 0, s.whave = s.wsize) : (i = s.wsize - s.wnext, i > r && (i = r), s.window.set(e.subarray(t - r, t - r + i), s.wnext), r -= i, r ? (s.window.set(e.subarray(t - r, t), 0), s.wnext = r, s.whave = s.wsize) : (s.wnext += i, s.wnext === s.wsize && (s.wnext = 0), s.whave < s.wsize && (s.whave += i))), 0 }, ZAe = (n, e) => { let t, r, i, s, a, o, A, u, f, h, m, p, b, y, E = 0, _, O, I, D, z, X, q, W; const G = new Uint8Array(4); let fe, ne; const V = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]); if (fp(n) || !n.output || !n.input && n.avail_in !== 0) return yc; t = n.state, t.mode === sf && (t.mode = BB), a = n.next_out, i = n.output, A = n.avail_out, s = n.next_in, r = n.input, o = n.avail_in, u = t.hold, f = t.bits, h = o, m = A, W = op; e: for (; ;)switch (t.mode) { case Xb: if (t.wrap === 0) { t.mode = BB; break } for (; f < 16;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (t.wrap & 2 && u === 35615) { t.wbits === 0 && (t.wbits = 15), t.check = 0, G[0] = u & 255, G[1] = u >>> 8 & 255, t.check = yu(t.check, G, 2, 0), u = 0, f = 0, t.mode = TT; break } if (t.head && (t.head.done = !1), !(t.wrap & 1) || (((u & 255) << 8) + (u >> 8)) % 31) { n.msg = "incorrect header check", t.mode = ws; break } if ((u & 15) !== kT) { n.msg = "unknown compression method", t.mode = ws; break } if (u >>>= 4, f -= 4, q = (u & 15) + 8, t.wbits === 0 && (t.wbits = q), q > 15 || q > t.wbits) { n.msg = "invalid window size", t.mode = ws; break } t.dmax = 1 << t.wbits, t.flags = 0, n.adler = t.check = 1, t.mode = u & 512 ? QT : sf, u = 0, f = 0; break; case TT: for (; f < 16;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (t.flags = u, (t.flags & 255) !== kT) { n.msg = "unknown compression method", t.mode = ws; break } if (t.flags & 57344) { n.msg = "unknown header flags set", t.mode = ws; break } t.head && (t.head.text = u >> 8 & 1), t.flags & 512 && t.wrap & 4 && (G[0] = u & 255, G[1] = u >>> 8 & 255, t.check = yu(t.check, G, 2, 0)), u = 0, f = 0, t.mode = FT; case FT: for (; f < 32;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } t.head && (t.head.time = u), t.flags & 512 && t.wrap & 4 && (G[0] = u & 255, G[1] = u >>> 8 & 255, G[2] = u >>> 16 & 255, G[3] = u >>> 24 & 255, t.check = yu(t.check, G, 4, 0)), u = 0, f = 0, t.mode = UT; case UT: for (; f < 16;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } t.head && (t.head.xflags = u & 255, t.head.os = u >> 8), t.flags & 512 && t.wrap & 4 && (G[0] = u & 255, G[1] = u >>> 8 & 255, t.check = yu(t.check, G, 2, 0)), u = 0, f = 0, t.mode = OT; case OT: if (t.flags & 1024) { for (; f < 16;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } t.length = u, t.head && (t.head.extra_len = u), t.flags & 512 && t.wrap & 4 && (G[0] = u & 255, G[1] = u >>> 8 & 255, t.check = yu(t.check, G, 2, 0)), u = 0, f = 0 } else t.head && (t.head.extra = null); t.mode = RT; case RT: if (t.flags & 1024 && (p = t.length, p > o && (p = o), p && (t.head && (q = t.head.extra_len - t.length, t.head.extra || (t.head.extra = new Uint8Array(t.head.extra_len)), t.head.extra.set(r.subarray(s, s + p), q)), t.flags & 512 && t.wrap & 4 && (t.check = yu(t.check, r, p, s)), o -= p, s += p, t.length -= p), t.length)) break e; t.length = 0, t.mode = IT; case IT: if (t.flags & 2048) { if (o === 0) break e; p = 0; do q = r[s + p++], t.head && q && t.length < 65536 && (t.head.name += String.fromCharCode(q)); while (q && p < o); if (t.flags & 512 && t.wrap & 4 && (t.check = yu(t.check, r, p, s)), o -= p, s += p, q) break e } else t.head && (t.head.name = null); t.length = 0, t.mode = LT; case LT: if (t.flags & 4096) { if (o === 0) break e; p = 0; do q = r[s + p++], t.head && q && t.length < 65536 && (t.head.comment += String.fromCharCode(q)); while (q && p < o); if (t.flags & 512 && t.wrap & 4 && (t.check = yu(t.check, r, p, s)), o -= p, s += p, q) break e } else t.head && (t.head.comment = null); t.mode = MT; case MT: if (t.flags & 512) { for (; f < 16;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (t.wrap & 4 && u !== (t.check & 65535)) { n.msg = "header crc mismatch", t.mode = ws; break } u = 0, f = 0 } t.head && (t.head.hcrc = t.flags >> 9 & 1, t.head.done = !0), n.adler = t.check = 0, t.mode = sf; break; case QT: for (; f < 32;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } n.adler = t.check = ZT(u), u = 0, f = 0, t.mode = Yw; case Yw: if (t.havedict === 0) return n.next_out = a, n.avail_out = A, n.next_in = s, n.avail_in = o, t.hold = u, t.bits = f, jAe; n.adler = t.check = 1, t.mode = sf; case sf: if (e === PAe || e === n1) break e; case BB: if (t.last) { u >>>= f & 7, f -= f & 7, t.mode = EB; break } for (; f < 3;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } switch (t.last = u & 1, u >>>= 1, f -= 1, u & 3) { case 0: t.mode = DT; break; case 1: if (XAe(t), t.mode = r1, e === n1) { u >>>= 2, f -= 2; break e } break; case 2: t.mode = HT; break; case 3: n.msg = "invalid block type", t.mode = ws }u >>>= 2, f -= 2; break; case DT: for (u >>>= f & 7, f -= f & 7; f < 32;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if ((u & 65535) !== (u >>> 16 ^ 65535)) { n.msg = "invalid stored block lengths", t.mode = ws; break } if (t.length = u & 65535, u = 0, f = 0, t.mode = CB, e === n1) break e; case CB: t.mode = PT; case PT: if (p = t.length, p) { if (p > o && (p = o), p > A && (p = A), p === 0) break e; i.set(r.subarray(s, s + p), a), o -= p, s += p, A -= p, a += p, t.length -= p; break } t.mode = sf; break; case HT: for (; f < 14;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (t.nlen = (u & 31) + 257, u >>>= 5, f -= 5, t.ndist = (u & 31) + 1, u >>>= 5, f -= 5, t.ncode = (u & 15) + 4, u >>>= 4, f -= 4, t.nlen > 286 || t.ndist > 30) { n.msg = "too many length or distance symbols", t.mode = ws; break } t.have = 0, t.mode = jT; case jT: for (; t.have < t.ncode;) { for (; f < 3;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } t.lens[V[t.have++]] = u & 7, u >>>= 3, f -= 3 } for (; t.have < 19;)t.lens[V[t.have++]] = 0; if (t.lencode = t.lendyn, t.lenbits = 7, fe = { bits: t.lenbits }, W = x0(DAe, t.lens, 0, 19, t.lencode, 0, t.work, fe), t.lenbits = fe.bits, W) { n.msg = "invalid code lengths set", t.mode = ws; break } t.have = 0, t.mode = zT; case zT: for (; t.have < t.nlen + t.ndist;) { for (; E = t.lencode[u & (1 << t.lenbits) - 1], _ = E >>> 24, O = E >>> 16 & 255, I = E & 65535, !(_ <= f);) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (I < 16) u >>>= _, f -= _, t.lens[t.have++] = I; else { if (I === 16) { for (ne = _ + 2; f < ne;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (u >>>= _, f -= _, t.have === 0) { n.msg = "invalid bit length repeat", t.mode = ws; break } q = t.lens[t.have - 1], p = 3 + (u & 3), u >>>= 2, f -= 2 } else if (I === 17) { for (ne = _ + 3; f < ne;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } u >>>= _, f -= _, q = 0, p = 3 + (u & 7), u >>>= 3, f -= 3 } else { for (ne = _ + 7; f < ne;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } u >>>= _, f -= _, q = 0, p = 11 + (u & 127), u >>>= 7, f -= 7 } if (t.have + p > t.nlen + t.ndist) { n.msg = "invalid bit length repeat", t.mode = ws; break } for (; p--;)t.lens[t.have++] = q } } if (t.mode === ws) break; if (t.lens[256] === 0) { n.msg = "invalid code -- missing end-of-block", t.mode = ws; break } if (t.lenbits = 9, fe = { bits: t.lenbits }, W = x0(kQ, t.lens, 0, t.nlen, t.lencode, 0, t.work, fe), t.lenbits = fe.bits, W) { n.msg = "invalid literal/lengths set", t.mode = ws; break } if (t.distbits = 6, t.distcode = t.distdyn, fe = { bits: t.distbits }, W = x0(TQ, t.lens, t.nlen, t.ndist, t.distcode, 0, t.work, fe), t.distbits = fe.bits, W) { n.msg = "invalid distances set", t.mode = ws; break } if (t.mode = r1, e === n1) break e; case r1: t.mode = i1; case i1: if (o >= 6 && A >= 258) { n.next_out = a, n.avail_out = A, n.next_in = s, n.avail_in = o, t.hold = u, t.bits = f, OAe(n, m), a = n.next_out, i = n.output, A = n.avail_out, s = n.next_in, r = n.input, o = n.avail_in, u = t.hold, f = t.bits, t.mode === sf && (t.back = -1); break } for (t.back = 0; E = t.lencode[u & (1 << t.lenbits) - 1], _ = E >>> 24, O = E >>> 16 & 255, I = E & 65535, !(_ <= f);) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (O && (O & 240) === 0) { for (D = _, z = O, X = I; E = t.lencode[X + ((u & (1 << D + z) - 1) >> D)], _ = E >>> 24, O = E >>> 16 & 255, I = E & 65535, !(D + _ <= f);) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } u >>>= D, f -= D, t.back += D } if (u >>>= _, f -= _, t.back += _, t.length = I, O === 0) { t.mode = YT; break } if (O & 32) { t.back = -1, t.mode = sf; break } if (O & 64) { n.msg = "invalid literal/length code", t.mode = ws; break } t.extra = O & 15, t.mode = KT; case KT: if (t.extra) { for (ne = t.extra; f < ne;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } t.length += u & (1 << t.extra) - 1, u >>>= t.extra, f -= t.extra, t.back += t.extra } t.was = t.length, t.mode = VT; case VT: for (; E = t.distcode[u & (1 << t.distbits) - 1], _ = E >>> 24, O = E >>> 16 & 255, I = E & 65535, !(_ <= f);) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if ((O & 240) === 0) { for (D = _, z = O, X = I; E = t.distcode[X + ((u & (1 << D + z) - 1) >> D)], _ = E >>> 24, O = E >>> 16 & 255, I = E & 65535, !(D + _ <= f);) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } u >>>= D, f -= D, t.back += D } if (u >>>= _, f -= _, t.back += _, O & 64) { n.msg = "invalid distance code", t.mode = ws; break } t.offset = I, t.extra = O & 15, t.mode = GT; case GT: if (t.extra) { for (ne = t.extra; f < ne;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } t.offset += u & (1 << t.extra) - 1, u >>>= t.extra, f -= t.extra, t.back += t.extra } if (t.offset > t.dmax) { n.msg = "invalid distance too far back", t.mode = ws; break } t.mode = WT; case WT: if (A === 0) break e; if (p = m - A, t.offset > p) { if (p = t.offset - p, p > t.whave && t.sane) { n.msg = "invalid distance too far back", t.mode = ws; break } p > t.wnext ? (p -= t.wnext, b = t.wsize - p) : b = t.wnext - p, p > t.length && (p = t.length), y = t.window } else y = i, b = a - t.offset, p = t.length; p > A && (p = A), A -= p, t.length -= p; do i[a++] = y[b++]; while (--p); t.length === 0 && (t.mode = i1); break; case YT: if (A === 0) break e; i[a++] = t.length, A--, t.mode = i1; break; case EB: if (t.wrap) { for (; f < 32;) { if (o === 0) break e; o--, u |= r[s++] << f, f += 8 } if (m -= A, n.total_out += m, t.total += m, t.wrap & 4 && m && (n.adler = t.check = t.flags ? yu(t.check, i, m, a - m) : x5(t.check, i, m, a - m)), m = A, t.wrap & 4 && (t.flags ? u : ZT(u)) !== t.check) { n.msg = "incorrect data check", t.mode = ws; break } u = 0, f = 0 } t.mode = JT; case JT: if (t.wrap && t.flags) { for (; f < 32;) { if (o === 0) break e; o--, u += r[s++] << f, f += 8 } if (t.wrap & 4 && u !== (t.total & 4294967295)) { n.msg = "incorrect length check", t.mode = ws; break } u = 0, f = 0 } t.mode = XT; case XT: W = HAe; break e; case ws: W = FQ; break e; case OQ: return UQ; case RQ: default: return yc }return n.next_out = a, n.avail_out = A, n.next_in = s, n.avail_in = o, t.hold = u, t.bits = f, (t.wsize || m !== n.avail_out && t.mode < ws && (t.mode < EB || e !== NT)) && DQ(n, n.output, n.next_out, m - n.avail_out), h -= n.avail_in, m -= n.avail_out, n.total_in += h, n.total_out += m, t.total += m, t.wrap & 4 && m && (n.adler = t.check = t.flags ? yu(t.check, i, m, n.next_out - m) : x5(t.check, i, m, n.next_out - m)), n.data_type = t.bits + (t.last ? 64 : 0) + (t.mode === sf ? 128 : 0) + (t.mode === r1 || t.mode === CB ? 256 : 0), (h === 0 && m === 0 || e === NT) && W === op && (W = zAe), W }, qAe = n => { if (fp(n)) return yc; let e = n.state; return e.window && (e.window = null), n.state = null, op }, $Ae = (n, e) => { if (fp(n)) return yc; const t = n.state; return (t.wrap & 2) === 0 ? yc : (t.head = e, e.done = !1, op) }, ece = (n, e) => { const t = e.length; let r, i, s; return fp(n) || (r = n.state, r.wrap !== 0 && r.mode !== Yw) ? yc : r.mode === Yw && (i = 1, i = x5(i, e, t, 0), i !== r.check) ? FQ : (s = DQ(n, e, t, t), s ? (r.mode = OQ, UQ) : (r.havedict = 1, op)) }; var tce = LQ, nce = MQ, rce = IQ, ice = JAe, sce = QQ, ace = ZAe, oce = qAe, lce = $Ae, Ace = ece, cce = "pako inflate (from Nodeca project)", uf = { inflateReset: tce, inflateReset2: nce, inflateResetKeep: rce, inflateInit: ice, inflateInit2: sce, inflate: ace, inflateEnd: oce, inflateGetHeader: lce, inflateSetDictionary: Ace, inflateInfo: cce }; function uce() { this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1 } var fce = uce; const PQ = Object.prototype.toString, { Z_NO_FLUSH: dce, Z_FINISH: hce, Z_OK: G0, Z_STREAM_END: NB, Z_NEED_DICT: kB, Z_STREAM_ERROR: pce, Z_DATA_ERROR: $T, Z_MEM_ERROR: gce } = SQ; function hv(n) { this.options = _Q.assign({ chunkSize: 1024 * 64, windowBits: 15, to: "" }, n || {}); const e = this.options; e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, e.windowBits === 0 && (e.windowBits = -15)), e.windowBits >= 0 && e.windowBits < 16 && !(n && n.windowBits) && (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && (e.windowBits & 15) === 0 && (e.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new FAe, this.strm.avail_out = 0; let t = uf.inflateInit2(this.strm, e.windowBits); if (t !== G0) throw new Error(B5[t]); if (this.header = new fce, uf.inflateGetHeader(this.strm, this.header), e.dictionary && (typeof e.dictionary == "string" ? e.dictionary = C5.string2buf(e.dictionary) : PQ.call(e.dictionary) === "[object ArrayBuffer]" && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (t = uf.inflateSetDictionary(this.strm, e.dictionary), t !== G0))) throw new Error(B5[t]) } hv.prototype.push = function (n, e) { const t = this.strm, r = this.options.chunkSize, i = this.options.dictionary; let s, a, o; if (this.ended) return !1; for (e === ~~e ? a = e : a = e === !0 ? hce : dce, PQ.call(n) === "[object ArrayBuffer]" ? t.input = new Uint8Array(n) : t.input = n, t.next_in = 0, t.avail_in = t.input.length; ;) { for (t.avail_out === 0 && (t.output = new Uint8Array(r), t.next_out = 0, t.avail_out = r), s = uf.inflate(t, a), s === kB && i && (s = uf.inflateSetDictionary(t, i), s === G0 ? s = uf.inflate(t, a) : s === $T && (s = kB)); t.avail_in > 0 && s === NB && t.state.wrap > 0 && n[t.next_in] !== 0;)uf.inflateReset(t), s = uf.inflate(t, a); switch (s) { case pce: case $T: case kB: case gce: return this.onEnd(s), this.ended = !0, !1 }if (o = t.avail_out, t.next_out && (t.avail_out === 0 || s === NB)) if (this.options.to === "string") { let A = C5.utf8border(t.output, t.next_out), u = t.next_out - A, f = C5.buf2string(t.output, A); t.next_out = u, t.avail_out = r - u, u && t.output.set(t.output.subarray(A, A + u), 0), this.onData(f) } else this.onData(t.output.length === t.next_out ? t.output : t.output.subarray(0, t.next_out)); if (!(s === G0 && o === 0)) { if (s === NB) return s = uf.inflateEnd(this.strm), this.onEnd(s), this.ended = !0, !0; if (t.avail_in === 0) break } } return !0 }; hv.prototype.onData = function (n) { this.chunks.push(n) }; hv.prototype.onEnd = function (n) { n === G0 && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = _Q.flattenChunks(this.chunks)), this.chunks = [], this.err = n, this.msg = this.strm.msg }; function mce(n, e) { const t = new hv(e); if (t.push(n), t.err) throw t.msg || B5[t.err]; return t.result } var vce = hv, yce = mce, wce = { Inflate: vce, inflate: yce }; const { Inflate: bce, inflate: xce } = wce; var eF = bce, Bce = xce; const HQ = []; for (let n = 0; n < 256; n++) { let e = n; for (let t = 0; t < 8; t++)e & 1 ? e = 3988292384 ^ e >>> 1 : e = e >>> 1; HQ[n] = e } const tF = 4294967295; function Cce(n, e, t) { let r = n; for (let i = 0; i < t; i++)r = HQ[(r ^ e[i]) & 255] ^ r >>> 8; return r } function Ece(n, e) { return (Cce(tF, n, e) ^ tF) >>> 0 } function nF(n, e, t) { const r = n.readUint32(), i = Ece(new Uint8Array(n.buffer, n.byteOffset + n.offset - e - 4, e), e); if (i !== r) throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`) } function jQ(n, e, t) { for (let r = 0; r < t; r++)e[r] = n[r] } function zQ(n, e, t, r) { let i = 0; for (; i < r; i++)e[i] = n[i]; for (; i < t; i++)e[i] = n[i] + e[i - r] & 255 } function KQ(n, e, t, r) { let i = 0; if (t.length === 0) for (; i < r; i++)e[i] = n[i]; else for (; i < r; i++)e[i] = n[i] + t[i] & 255 } function VQ(n, e, t, r, i) { let s = 0; if (t.length === 0) { for (; s < i; s++)e[s] = n[s]; for (; s < r; s++)e[s] = n[s] + (e[s - i] >> 1) & 255 } else { for (; s < i; s++)e[s] = n[s] + (t[s] >> 1) & 255; for (; s < r; s++)e[s] = n[s] + (e[s - i] + t[s] >> 1) & 255 } } function GQ(n, e, t, r, i) { let s = 0; if (t.length === 0) { for (; s < i; s++)e[s] = n[s]; for (; s < r; s++)e[s] = n[s] + e[s - i] & 255 } else { for (; s < i; s++)e[s] = n[s] + t[s] & 255; for (; s < r; s++)e[s] = n[s] + Sce(e[s - i], t[s], t[s - i]) & 255 } } function Sce(n, e, t) { const r = n + e - t, i = Math.abs(r - n), s = Math.abs(r - e), a = Math.abs(r - t); return i <= s && i <= a ? n : s <= a ? e : t } function _ce(n, e, t, r, i, s) { switch (n) { case 0: jQ(e, t, i); break; case 1: zQ(e, t, i, s); break; case 2: KQ(e, t, r, i); break; case 3: VQ(e, t, r, i, s); break; case 4: GQ(e, t, r, i, s); break; default: throw new Error(`Unsupported filter: ${n}`) } } const Nce = new Uint16Array([255]), kce = new Uint8Array(Nce.buffer), Tce = kce[0] === 255; function Fce(n) { const { data: e, width: t, height: r, channels: i, depth: s } = n, a = [{ x: 0, y: 0, xStep: 8, yStep: 8 }, { x: 4, y: 0, xStep: 8, yStep: 8 }, { x: 0, y: 4, xStep: 4, yStep: 8 }, { x: 2, y: 0, xStep: 4, yStep: 4 }, { x: 0, y: 2, xStep: 2, yStep: 4 }, { x: 1, y: 0, xStep: 2, yStep: 2 }, { x: 0, y: 1, xStep: 1, yStep: 2 }], o = Math.ceil(s / 8) * i, A = new Uint8Array(r * t * o); let u = 0; for (let f = 0; f < 7; f++) { const h = a[f], m = Math.ceil((t - h.x) / h.xStep), p = Math.ceil((r - h.y) / h.yStep); if (m <= 0 || p <= 0) continue; const b = m * o, y = new Uint8Array(b); for (let E = 0; E < p; E++) { const _ = e[u++], O = e.subarray(u, u + b); u += b; const I = new Uint8Array(b); _ce(_, O, I, y, b, o), y.set(I); for (let D = 0; D < m; D++) { const z = h.x + D * h.xStep, X = h.y + E * h.yStep; if (!(z >= t || X >= r)) for (let q = 0; q < o; q++)A[(X * t + z) * o + q] = I[D * o + q] } } } if (s === 16) { const f = new Uint16Array(A.buffer); if (Tce) for (let h = 0; h < f.length; h++)f[h] = Uce(f[h]); return f } else return A } function Uce(n) { return (n & 255) << 8 | n >> 8 & 255 } const Oce = new Uint16Array([255]), Rce = new Uint8Array(Oce.buffer), Ice = Rce[0] === 255, Lce = new Uint8Array(0); function rF(n) { const { data: e, width: t, height: r, channels: i, depth: s } = n, a = Math.ceil(s / 8) * i, o = Math.ceil(s / 8 * i * t), A = new Uint8Array(r * o); let u = Lce, f = 0, h, m; for (let p = 0; p < r; p++) { switch (h = e.subarray(f + 1, f + 1 + o), m = A.subarray(p * o, (p + 1) * o), e[f]) { case 0: jQ(h, m, o); break; case 1: zQ(h, m, o, a); break; case 2: KQ(h, m, u, o); break; case 3: VQ(h, m, u, o, a); break; case 4: GQ(h, m, u, o, a); break; default: throw new Error(`Unsupported filter: ${e[f]}`) }u = m, f += o + 1 } if (s === 16) { const p = new Uint16Array(A.buffer); if (Ice) for (let b = 0; b < p.length; b++)p[b] = Mce(p[b]); return p } else return A } function Mce(n) { return (n & 255) << 8 | n >> 8 & 255 } const E1 = Uint8Array.of(137, 80, 78, 71, 13, 10, 26, 10); function iF(n) { if (!Qce(n.readBytes(E1.length))) throw new Error("wrong PNG signature") } function Qce(n) { if (n.length < E1.length) return !1; for (let e = 0; e < E1.length; e++)if (n[e] !== E1[e]) return !1; return !0 } const Dce = "tEXt", Pce = 0, WQ = new TextDecoder("latin1"); function Hce(n) { if (zce(n), n.length === 0 || n.length > 79) throw new Error("keyword length must be between 1 and 79") } const jce = /^[\u0000-\u00FF]*$/; function zce(n) { if (!jce.test(n)) throw new Error("invalid latin1 text") } function Kce(n, e, t) { const r = YQ(e); n[r] = Vce(e, t - r.length - 1) } function YQ(n) { for (n.mark(); n.readByte() !== Pce;); const e = n.offset; n.reset(); const t = WQ.decode(n.readBytes(e - n.offset - 1)); return n.skip(1), Hce(t), t } function Vce(n, e) { return WQ.decode(n.readBytes(e)) } const OA = { UNKNOWN: -1, GREYSCALE: 0, TRUECOLOUR: 2, INDEXED_COLOUR: 3, GREYSCALE_ALPHA: 4, TRUECOLOUR_ALPHA: 6 }, TB = { UNKNOWN: -1, DEFLATE: 0 }, sF = { UNKNOWN: -1, ADAPTIVE: 0 }, FB = { UNKNOWN: -1, NO_INTERLACE: 0, ADAM7: 1 }, s1 = { NONE: 0, BACKGROUND: 1, PREVIOUS: 2 }, UB = { SOURCE: 0, OVER: 1 }; class Gce extends NS { _checkCrc; _inflator; _png; _apng; _end; _hasPalette; _palette; _hasTransparency; _transparency; _compressionMethod; _filterMethod; _interlaceMethod; _colorType; _isAnimated; _numberOfFrames; _numberOfPlays; _frames; _writingDataChunks; constructor(e, t = {}) { super(e); const { checkCrc: r = !1 } = t; this._checkCrc = r, this._inflator = new eF, this._png = { width: -1, height: -1, channels: -1, data: new Uint8Array(0), depth: 1, text: {} }, this._apng = { width: -1, height: -1, channels: -1, depth: 1, numberOfFrames: 1, numberOfPlays: 0, text: {}, frames: [] }, this._end = !1, this._hasPalette = !1, this._palette = [], this._hasTransparency = !1, this._transparency = new Uint16Array(0), this._compressionMethod = TB.UNKNOWN, this._filterMethod = sF.UNKNOWN, this._interlaceMethod = FB.UNKNOWN, this._colorType = OA.UNKNOWN, this._isAnimated = !1, this._numberOfFrames = 1, this._numberOfPlays = 0, this._frames = [], this._writingDataChunks = !1, this.setBigEndian() } decode() { for (iF(this); !this._end;) { const e = this.readUint32(), t = this.readChars(4); this.decodeChunk(e, t) } return this.decodeImage(), this._png } decodeApng() { for (iF(this); !this._end;) { const e = this.readUint32(), t = this.readChars(4); this.decodeApngChunk(e, t) } return this.decodeApngImage(), this._apng } decodeChunk(e, t) { const r = this.offset; switch (t) { case "IHDR": this.decodeIHDR(); break; case "PLTE": this.decodePLTE(e); break; case "IDAT": this.decodeIDAT(e); break; case "IEND": this._end = !0; break; case "tRNS": this.decodetRNS(e); break; case "iCCP": this.decodeiCCP(e); break; case Dce: Kce(this._png.text, this, e); break; case "pHYs": this.decodepHYs(); break; default: this.skip(e); break }if (this.offset - r !== e) throw new Error(`Length mismatch while decoding chunk ${t}`); this._checkCrc ? nF(this, e + 4, t) : this.skip(4) } decodeApngChunk(e, t) { const r = this.offset; switch (t !== "fdAT" && t !== "IDAT" && this._writingDataChunks && this.pushDataToFrame(), t) { case "acTL": this.decodeACTL(); break; case "fcTL": this.decodeFCTL(); break; case "fdAT": this.decodeFDAT(e); break; default: this.decodeChunk(e, t), this.offset = r + e; break }if (this.offset - r !== e) throw new Error(`Length mismatch while decoding chunk ${t}`); this._checkCrc ? nF(this, e + 4, t) : this.skip(4) } decodeIHDR() { const e = this._png; e.width = this.readUint32(), e.height = this.readUint32(), e.depth = Wce(this.readUint8()); const t = this.readUint8(); this._colorType = t; let r; switch (t) { case OA.GREYSCALE: r = 1; break; case OA.TRUECOLOUR: r = 3; break; case OA.INDEXED_COLOUR: r = 1; break; case OA.GREYSCALE_ALPHA: r = 2; break; case OA.TRUECOLOUR_ALPHA: r = 4; break; case OA.UNKNOWN: default: throw new Error(`Unknown color type: ${t}`) }if (this._png.channels = r, this._compressionMethod = this.readUint8(), this._compressionMethod !== TB.DEFLATE) throw new Error(`Unsupported compression method: ${this._compressionMethod}`); this._filterMethod = this.readUint8(), this._interlaceMethod = this.readUint8() } decodeACTL() { this._numberOfFrames = this.readUint32(), this._numberOfPlays = this.readUint32(), this._isAnimated = !0 } decodeFCTL() { const e = { sequenceNumber: this.readUint32(), width: this.readUint32(), height: this.readUint32(), xOffset: this.readUint32(), yOffset: this.readUint32(), delayNumber: this.readUint16(), delayDenominator: this.readUint16(), disposeOp: this.readUint8(), blendOp: this.readUint8(), data: new Uint8Array(0) }; this._frames.push(e) } decodePLTE(e) { if (e % 3 !== 0) throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`); const t = e / 3; this._hasPalette = !0; const r = []; this._palette = r; for (let i = 0; i < t; i++)r.push([this.readUint8(), this.readUint8(), this.readUint8()]) } decodeIDAT(e) { this._writingDataChunks = !0; const t = e, r = this.offset + this.byteOffset; if (this._inflator.push(new Uint8Array(this.buffer, r, t)), this._inflator.err) throw new Error(`Error while decompressing the data: ${this._inflator.err}`); this.skip(e) } decodeFDAT(e) { this._writingDataChunks = !0; let t = e, r = this.offset + this.byteOffset; if (r += 4, t -= 4, this._inflator.push(new Uint8Array(this.buffer, r, t)), this._inflator.err) throw new Error(`Error while decompressing the data: ${this._inflator.err}`); this.skip(e) } decodetRNS(e) { switch (this._colorType) { case OA.GREYSCALE: case OA.TRUECOLOUR: { if (e % 2 !== 0) throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`); if (e / 2 > this._png.width * this._png.height) throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e / 2} vs ${this._png.width * this._png.height})`); this._hasTransparency = !0, this._transparency = new Uint16Array(e / 2); for (let t = 0; t < e / 2; t++)this._transparency[t] = this.readUint16(); break } case OA.INDEXED_COLOUR: { if (e > this._palette.length) throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`); let t = 0; for (; t < e; t++) { const r = this.readByte(); this._palette[t].push(r) } for (; t < this._palette.length; t++)this._palette[t].push(255); break } case OA.UNKNOWN: case OA.GREYSCALE_ALPHA: case OA.TRUECOLOUR_ALPHA: default: throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`) } } decodeiCCP(e) { const t = YQ(this), r = this.readUint8(); if (r !== TB.DEFLATE) throw new Error(`Unsupported iCCP compression method: ${r}`); const i = this.readBytes(e - t.length - 2); this._png.iccEmbeddedProfile = { name: t, profile: Bce(i) } } decodepHYs() { const e = this.readUint32(), t = this.readUint32(), r = this.readByte(); this._png.resolution = { x: e, y: t, unit: r } } decodeApngImage() { this._apng.width = this._png.width, this._apng.height = this._png.height, this._apng.channels = this._png.channels, this._apng.depth = this._png.depth, this._apng.numberOfFrames = this._numberOfFrames, this._apng.numberOfPlays = this._numberOfPlays, this._apng.text = this._png.text, this._apng.resolution = this._png.resolution; for (let e = 0; e < this._numberOfFrames; e++) { const t = { sequenceNumber: this._frames[e].sequenceNumber, delayNumber: this._frames[e].delayNumber, delayDenominator: this._frames[e].delayDenominator, data: this._apng.depth === 8 ? new Uint8Array(this._apng.width * this._apng.height * this._apng.channels) : new Uint16Array(this._apng.width * this._apng.height * this._apng.channels) }, r = this._frames.at(e); if (r) { if (r.data = rF({ data: r.data, width: r.width, height: r.height, channels: this._apng.channels, depth: this._apng.depth }), this._hasPalette && (this._apng.palette = this._palette), this._hasTransparency && (this._apng.transparency = this._transparency), e === 0 || r.xOffset === 0 && r.yOffset === 0 && r.width === this._png.width && r.height === this._png.height) t.data = r.data; else { const i = this._apng.frames.at(e - 1); this.disposeFrame(r, i, t), this.addFrameDataToCanvas(t, r) } this._apng.frames.push(t) } } return this._apng } disposeFrame(e, t, r) { switch (e.disposeOp) { case s1.NONE: break; case s1.BACKGROUND: for (let i = 0; i < this._png.height; i++)for (let s = 0; s < this._png.width; s++) { const a = (i * e.width + s) * this._png.channels; for (let o = 0; o < this._png.channels; o++)r.data[a + o] = 0 } break; case s1.PREVIOUS: r.data.set(t.data); break; default: throw new Error("Unknown disposeOp") } } addFrameDataToCanvas(e, t) { const r = 1 << this._png.depth, i = (s, a) => { const o = ((s + t.yOffset) * this._png.width + t.xOffset + a) * this._png.channels, A = (s * t.width + a) * this._png.channels; return { index: o, frameIndex: A } }; switch (t.blendOp) { case UB.SOURCE: for (let s = 0; s < t.height; s++)for (let a = 0; a < t.width; a++) { const { index: o, frameIndex: A } = i(s, a); for (let u = 0; u < this._png.channels; u++)e.data[o + u] = t.data[A + u] } break; case UB.OVER: for (let s = 0; s < t.height; s++)for (let a = 0; a < t.width; a++) { const { index: o, frameIndex: A } = i(s, a); for (let u = 0; u < this._png.channels; u++) { const f = t.data[A + this._png.channels - 1] / r, h = u % (this._png.channels - 1) === 0 ? 1 : t.data[A + u], m = Math.floor(f * h + (1 - f) * e.data[o + u]); e.data[o + u] += m } } break; default: throw new Error("Unknown blendOp") } } decodeImage() { if (this._inflator.err) throw new Error(`Error while decompressing the data: ${this._inflator.err}`); const e = this._isAnimated ? (this._frames?.at(0)).data : this._inflator.result; if (this._filterMethod !== sF.ADAPTIVE) throw new Error(`Filter method ${this._filterMethod} not supported`); if (this._interlaceMethod === FB.NO_INTERLACE) this._png.data = rF({ data: e, width: this._png.width, height: this._png.height, channels: this._png.channels, depth: this._png.depth }); else if (this._interlaceMethod === FB.ADAM7) this._png.data = Fce({ data: e, width: this._png.width, height: this._png.height, channels: this._png.channels, depth: this._png.depth }); else throw new Error(`Interlace method ${this._interlaceMethod} not supported`); this._hasPalette && (this._png.palette = this._palette), this._hasTransparency && (this._png.transparency = this._transparency) } pushDataToFrame() { const e = this._inflator.result, t = this._frames.at(-1); t ? t.data = e : this._frames.push({ sequenceNumber: 0, width: this._png.width, height: this._png.height, xOffset: 0, yOffset: 0, delayNumber: 0, delayDenominator: 0, disposeOp: s1.NONE, blendOp: UB.SOURCE, data: e }), this._inflator = new eF, this._writingDataChunks = !1 } } function Wce(n) { if (n !== 1 && n !== 2 && n !== 4 && n !== 8 && n !== 16) throw new Error(`invalid bit depth: ${n}`); return n } var aF; (function (n) { n[n.UNKNOWN = 0] = "UNKNOWN", n[n.METRE = 1] = "METRE" })(aF || (aF = {})); function Yce(n, e) { return new Gce(n, e).decode() } var Xn = (function () { return typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : this })(); function OB() { Xn.console && typeof Xn.console.log == "function" && Xn.console.log.apply(Xn.console, arguments) } var zi = { log: OB, warn: function (n) { Xn.console && (typeof Xn.console.warn == "function" ? Xn.console.warn.apply(Xn.console, arguments) : OB.call(null, arguments)) }, error: function (n) { Xn.console && (typeof Xn.console.error == "function" ? Xn.console.error.apply(Xn.console, arguments) : OB(n)) } }; function RB(n, e, t) { var r = new XMLHttpRequest; r.open("GET", n), r.responseType = "blob", r.onload = function () { Sh(r.response, e, t) }, r.onerror = function () { zi.error("could not download file") }, r.send() } function oF(n) { var e = new XMLHttpRequest; e.open("HEAD", n, !1); try { e.send() } catch { } return e.status >= 200 && e.status <= 299 } function a1(n) { try { n.dispatchEvent(new MouseEvent("click")) } catch { var e = document.createEvent("MouseEvents"); e.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), n.dispatchEvent(e) } } var Sh = Xn.saveAs || ((typeof window > "u" ? "undefined" : Ei(window)) !== "object" || window !== Xn ? function () { } : typeof HTMLAnchorElement < "u" && "download" in HTMLAnchorElement.prototype ? function (n, e, t) { var r = Xn.URL || Xn.webkitURL, i = document.createElement("a"); e = e || n.name || "download", i.download = e, i.rel = "noopener", typeof n == "string" ? (i.href = n, i.origin !== location.origin ? oF(i.href) ? RB(n, e, t) : a1(i, i.target = "_blank") : a1(i)) : (i.href = r.createObjectURL(n), setTimeout(function () { r.revokeObjectURL(i.href) }, 4e4), setTimeout(function () { a1(i) }, 0)) } : "msSaveOrOpenBlob" in navigator ? function (n, e, t) { if (e = e || n.name || "download", typeof n == "string") if (oF(n)) RB(n, e, t); else { var r = document.createElement("a"); r.href = n, r.target = "_blank", setTimeout(function () { a1(r) }) } else navigator.msSaveOrOpenBlob((function (i, s) { return s === void 0 ? s = { autoBom: !1 } : Ei(s) !== "object" && (zi.warn("Deprecated: Expected third argument to be a object"), s = { autoBom: !s }), s.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type) ? new Blob(["\uFEFF", i], { type: i.type }) : i })(n, t), e) } : function (n, e, t, r) { if ((r = r || open("", "_blank")) && (r.document.title = r.document.body.innerText = "downloading..."), typeof n == "string") return RB(n, e, t); var i = n.type === "application/octet-stream", s = /constructor/i.test(Xn.HTMLElement) || Xn.safari, a = /CriOS\/[\d]+/.test(navigator.userAgent); if ((a || i && s) && (typeof FileReader > "u" ? "undefined" : Ei(FileReader)) === "object") { var o = new FileReader; o.onloadend = function () { var f = o.result; f = a ? f : f.replace(/^data:[^;]*;/, "data:attachment/file;"), r ? r.location.href = f : location = f, r = null }, o.readAsDataURL(n) } else { var A = Xn.URL || Xn.webkitURL, u = A.createObjectURL(n); r ? r.location = u : location.href = u, r = null, setTimeout(function () { A.revokeObjectURL(u) }, 4e4) } }); function JQ(n) { var e; n = n || "", this.ok = !1, n.charAt(0) == "#" && (n = n.substr(1, 6)), n = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd", blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dodgerblue: "1e90ff", feldspar: "d19275", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslateblue: "8470ff", lightslategray: "778899", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32", linen: "faf0e6", magenta: "ff00ff", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", red: "ff0000", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", violetred: "d02090", wheat: "f5deb3", white: "ffffff", whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32" }[n = (n = n.replace(/ /g, "")).toLowerCase()] || n; for (var t = [{ re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/, example: ["rgb(123, 234, 45)", "rgb(255,234,245)"], process: function (o) { return [parseInt(o[1]), parseInt(o[2]), parseInt(o[3])] } }, { re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (o) { return [parseInt(o[1], 16), parseInt(o[2], 16), parseInt(o[3], 16)] } }, { re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (o) { return [parseInt(o[1] + o[1], 16), parseInt(o[2] + o[2], 16), parseInt(o[3] + o[3], 16)] } }], r = 0; r < t.length; r++) { var i = t[r].re, s = t[r].process, a = i.exec(n); a && (e = s(a), this.r = e[0], this.g = e[1], this.b = e[2], this.ok = !0) } this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () { return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")" }, this.toHex = function () { var o = this.r.toString(16), A = this.g.toString(16), u = this.b.toString(16); return o.length == 1 && (o = "0" + o), A.length == 1 && (A = "0" + A), u.length == 1 && (u = "0" + u), "#" + o + A + u } } var S1 = Xn.atob.bind(Xn), lF = Xn.btoa.bind(Xn); function IB(n, e) { var t = n[0], r = n[1], i = n[2], s = n[3]; t = ml(t, r, i, s, e[0], 7, -680876936), s = ml(s, t, r, i, e[1], 12, -389564586), i = ml(i, s, t, r, e[2], 17, 606105819), r = ml(r, i, s, t, e[3], 22, -1044525330), t = ml(t, r, i, s, e[4], 7, -176418897), s = ml(s, t, r, i, e[5], 12, 1200080426), i = ml(i, s, t, r, e[6], 17, -1473231341), r = ml(r, i, s, t, e[7], 22, -45705983), t = ml(t, r, i, s, e[8], 7, 1770035416), s = ml(s, t, r, i, e[9], 12, -1958414417), i = ml(i, s, t, r, e[10], 17, -42063), r = ml(r, i, s, t, e[11], 22, -1990404162), t = ml(t, r, i, s, e[12], 7, 1804603682), s = ml(s, t, r, i, e[13], 12, -40341101), i = ml(i, s, t, r, e[14], 17, -1502002290), t = vl(t, r = ml(r, i, s, t, e[15], 22, 1236535329), i, s, e[1], 5, -165796510), s = vl(s, t, r, i, e[6], 9, -1069501632), i = vl(i, s, t, r, e[11], 14, 643717713), r = vl(r, i, s, t, e[0], 20, -373897302), t = vl(t, r, i, s, e[5], 5, -701558691), s = vl(s, t, r, i, e[10], 9, 38016083), i = vl(i, s, t, r, e[15], 14, -660478335), r = vl(r, i, s, t, e[4], 20, -405537848), t = vl(t, r, i, s, e[9], 5, 568446438), s = vl(s, t, r, i, e[14], 9, -1019803690), i = vl(i, s, t, r, e[3], 14, -187363961), r = vl(r, i, s, t, e[8], 20, 1163531501), t = vl(t, r, i, s, e[13], 5, -1444681467), s = vl(s, t, r, i, e[2], 9, -51403784), i = vl(i, s, t, r, e[7], 14, 1735328473), t = yl(t, r = vl(r, i, s, t, e[12], 20, -1926607734), i, s, e[5], 4, -378558), s = yl(s, t, r, i, e[8], 11, -2022574463), i = yl(i, s, t, r, e[11], 16, 1839030562), r = yl(r, i, s, t, e[14], 23, -35309556), t = yl(t, r, i, s, e[1], 4, -1530992060), s = yl(s, t, r, i, e[4], 11, 1272893353), i = yl(i, s, t, r, e[7], 16, -155497632), r = yl(r, i, s, t, e[10], 23, -1094730640), t = yl(t, r, i, s, e[13], 4, 681279174), s = yl(s, t, r, i, e[0], 11, -358537222), i = yl(i, s, t, r, e[3], 16, -722521979), r = yl(r, i, s, t, e[6], 23, 76029189), t = yl(t, r, i, s, e[9], 4, -640364487), s = yl(s, t, r, i, e[12], 11, -421815835), i = yl(i, s, t, r, e[15], 16, 530742520), t = wl(t, r = yl(r, i, s, t, e[2], 23, -995338651), i, s, e[0], 6, -198630844), s = wl(s, t, r, i, e[7], 10, 1126891415), i = wl(i, s, t, r, e[14], 15, -1416354905), r = wl(r, i, s, t, e[5], 21, -57434055), t = wl(t, r, i, s, e[12], 6, 1700485571), s = wl(s, t, r, i, e[3], 10, -1894986606), i = wl(i, s, t, r, e[10], 15, -1051523), r = wl(r, i, s, t, e[1], 21, -2054922799), t = wl(t, r, i, s, e[8], 6, 1873313359), s = wl(s, t, r, i, e[15], 10, -30611744), i = wl(i, s, t, r, e[6], 15, -1560198380), r = wl(r, i, s, t, e[13], 21, 1309151649), t = wl(t, r, i, s, e[4], 6, -145523070), s = wl(s, t, r, i, e[11], 10, -1120210379), i = wl(i, s, t, r, e[2], 15, 718787259), r = wl(r, i, s, t, e[9], 21, -343485551), n[0] = vd(t, n[0]), n[1] = vd(r, n[1]), n[2] = vd(i, n[2]), n[3] = vd(s, n[3]) } function Zb(n, e, t, r, i, s) { return e = vd(vd(e, n), vd(r, s)), vd(e << i | e >>> 32 - i, t) } function ml(n, e, t, r, i, s, a) { return Zb(e & t | ~e & r, n, e, i, s, a) } function vl(n, e, t, r, i, s, a) { return Zb(e & r | t & ~r, n, e, i, s, a) } function yl(n, e, t, r, i, s, a) { return Zb(e ^ t ^ r, n, e, i, s, a) } function wl(n, e, t, r, i, s, a) { return Zb(t ^ (e | ~r), n, e, i, s, a) } function XQ(n) { var e, t = n.length, r = [1732584193, -271733879, -1732584194, 271733878]; for (e = 64; e <= n.length; e += 64)IB(r, Jce(n.substring(e - 64, e))); n = n.substring(e - 64); var i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; for (e = 0; e < n.length; e++)i[e >> 2] |= n.charCodeAt(e) << (e % 4 << 3); if (i[e >> 2] |= 128 << (e % 4 << 3), e > 55) for (IB(r, i), e = 0; e < 16; e++)i[e] = 0; return i[14] = 8 * t, IB(r, i), r } function Jce(n) { var e, t = []; for (e = 0; e < 64; e += 4)t[e >> 2] = n.charCodeAt(e) + (n.charCodeAt(e + 1) << 8) + (n.charCodeAt(e + 2) << 16) + (n.charCodeAt(e + 3) << 24); return t } var AF = "0123456789abcdef".split(""); function Xce(n) { for (var e = "", t = 0; t < 4; t++)e += AF[n >> 8 * t + 4 & 15] + AF[n >> 8 * t & 15]; return e } function Zce(n) { return String.fromCharCode(255 & n, (65280 & n) >> 8, (16711680 & n) >> 16, (4278190080 & n) >> 24) } function E5(n) { return XQ(n).map(Zce).join("") } var qce = (function (n) { for (var e = 0; e < n.length; e++)n[e] = Xce(n[e]); return n.join("") })(XQ("hello")) != "5d41402abc4b2a76b9719d911017c592"; function vd(n, e) { if (qce) { var t = (65535 & n) + (65535 & e); return (n >> 16) + (e >> 16) + (t >> 16) << 16 | 65535 & t } return n + e & 4294967295 } function S5(n, e) { var t, r, i, s; if (n !== t) { for (var a = (i = n, s = 1 + (256 / n.length | 0), new Array(s + 1).join(i)), o = [], A = 0; A < 256; A++)o[A] = A; var u = 0; for (A = 0; A < 256; A++) { var f = o[A]; u = (u + f + a.charCodeAt(A)) % 256, o[A] = o[u], o[u] = f } t = n, r = o } else o = r; var h = e.length, m = 0, p = 0, b = ""; for (A = 0; A < h; A++)p = (p + (f = o[m = (m + 1) % 256])) % 256, o[m] = o[p], o[p] = f, a = o[(o[m] + o[p]) % 256], b += String.fromCharCode(e.charCodeAt(A) ^ a); return b } var cF = { print: 4, modify: 8, copy: 16, "annot-forms": 32 }; function fg(n, e, t, r) { this.v = 1, this.r = 2; var i = 192; n.forEach(function (o) { if (cF.perm !== void 0) throw new Error("Invalid permission: " + o); i += cF[o] }), this.padding = "(N^NuAd\0NV\b..\0h>/\fdSiz"; var s = (e + this.padding).substr(0, 32), a = (t + this.padding).substr(0, 32); this.O = this.processOwnerPassword(s, a), this.P = -(1 + (255 ^ i)), this.encryptionKey = E5(s + this.O + this.lsbFirstWord(this.P) + this.hexToBytes(r)).substr(0, 5), this.U = S5(this.encryptionKey, this.padding) } function dg(n) { if (/[^\u0000-\u00ff]/.test(n)) throw new Error("Invalid PDF Name Object: " + n + ", Only accept ASCII characters."); for (var e = "", t = n.length, r = 0; r < t; r++) { var i = n.charCodeAt(r); e += i < 33 || i === 35 || i === 37 || i === 40 || i === 41 || i === 47 || i === 60 || i === 62 || i === 91 || i === 93 || i === 123 || i === 125 || i > 126 ? "#" + ("0" + i.toString(16)).slice(-2) : n[r] } return e } function uF(n) { if (Ei(n) !== "object") throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)"); var e = {}; this.subscribe = function (t, r, i) { if (i = i || !1, typeof t != "string" || typeof r != "function" || typeof i != "boolean") throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)"); e.hasOwnProperty(t) || (e[t] = {}); var s = Math.random().toString(35); return e[t][s] = [r, !!i], s }, this.unsubscribe = function (t) { for (var r in e) if (e[r][t]) return delete e[r][t], Object.keys(e[r]).length === 0 && delete e[r], !0; return !1 }, this.publish = function (t) { if (e.hasOwnProperty(t)) { var r = Array.prototype.slice.call(arguments, 1), i = []; for (var s in e[t]) { var a = e[t][s]; try { a[0].apply(n, r) } catch (o) { Xn.console && zi.error("jsPDF PubSub Error", o.message, o) } a[1] && i.push(s) } i.length && i.forEach(this.unsubscribe) } }, this.getTopics = function () { return e } } function Jw(n) { if (!(this instanceof Jw)) return new Jw(n); var e = "opacity,stroke-opacity".split(","); for (var t in n) n.hasOwnProperty(t) && e.indexOf(t) >= 0 && (this[t] = n[t]); this.id = "", this.objectNumber = -1 } function ZQ(n, e) { this.gState = n, this.matrix = e, this.id = "", this.objectNumber = -1 } function Oh(n, e, t, r, i) { if (!(this instanceof Oh)) return new Oh(n, e, t, r, i); this.type = n === "axial" ? 2 : 3, this.coords = e, this.colors = t, ZQ.call(this, r, i) } function gg(n, e, t, r, i) { if (!(this instanceof gg)) return new gg(n, e, t, r, i); this.boundingBox = n, this.xStep = e, this.yStep = t, this.stream = "", this.cloneIndex = 0, ZQ.call(this, r, i) } function mn(n) {
    var e, t = typeof arguments[0] == "string" ? arguments[0] : "p", r = arguments[1], i = arguments[2], s = arguments[3], a = [], o = 1, A = 16, u = "S", f = null; Ei(n = n || {}) === "object" && (t = n.orientation, r = n.unit || r, i = n.format || i, s = n.compress || n.compressPdf || s, (f = n.encryption || null) !== null && (f.userPassword = f.userPassword || "", f.ownerPassword = f.ownerPassword || "", f.userPermissions = f.userPermissions || []), o = typeof n.userUnit == "number" ? Math.abs(n.userUnit) : 1, n.precision !== void 0 && (e = n.precision), n.floatPrecision !== void 0 && (A = n.floatPrecision), u = n.defaultPathOperation || "S"), a = n.filters || (s === !0 ? ["FlateEncode"] : a), r = r || "mm", t = ("" + (t || "P")).toLowerCase(); var h = n.putOnlyUsedFonts || !1, m = {}, p = { internal: {}, __private__: {} }; p.__private__.PubSub = uF; var b = "1.3", y = p.__private__.getPdfVersion = function () { return b }; p.__private__.setPdfVersion = function (Q) { b = Q }; var E = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; p.__private__.getPageFormats = function () { return E }; var _ = p.__private__.getPageFormat = function (Q) { return E[Q] }; i = i || "a4"; var O = "compat", I = "advanced", D = O; function z() { this.saveGraphicsState(), Ae(new pn(bn, 0, 0, -bn, 0, Qo() * bn).toString() + " cm"), this.setFontSize(this.getFontSize() / bn), u = "n", D = I } function X() { this.restoreGraphicsState(), u = "S", D = O } var q = p.__private__.combineFontStyleAndFontWeight = function (Q, le) { if (Q == "bold" && le == "normal" || Q == "bold" && le == 400 || Q == "normal" && le == "italic" || Q == "bold" && le == "italic") throw new Error("Invalid Combination of fontweight and fontstyle"); return le && (Q = le == 400 || le === "normal" ? Q === "italic" ? "italic" : "normal" : le != 700 && le !== "bold" || Q !== "normal" ? (le == 700 ? "bold" : le) + "" + Q : "bold"), Q }; p.advancedAPI = function (Q) { var le = D === O; return le && z.call(this), typeof Q != "function" || (Q(this), le && X.call(this)), this }, p.compatAPI = function (Q) { var le = D === I; return le && X.call(this), typeof Q != "function" || (Q(this), le && z.call(this)), this }, p.isAdvancedAPI = function () { return D === I }; var W, G = function (Q) { if (D !== I) throw new Error(Q + " is only available in 'advanced' API mode. You need to call advancedAPI() first.") }, fe = p.roundToPrecision = p.__private__.roundToPrecision = function (Q, le) { var Fe = e || le; if (isNaN(Q) || isNaN(Fe)) throw new Error("Invalid argument passed to jsPDF.roundToPrecision"); return Q.toFixed(Fe).replace(/0+$/, "") }; W = p.hpf = p.__private__.hpf = typeof A == "number" ? function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.hpf"); return fe(Q, A) } : A === "smart" ? function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.hpf"); return fe(Q, Q > -1 && Q < 1 ? 16 : 5) } : function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.hpf"); return fe(Q, 16) }; var ne = p.f2 = p.__private__.f2 = function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.f2"); return fe(Q, 2) }, V = p.__private__.f3 = function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.f3"); return fe(Q, 3) }, se = p.scale = p.__private__.scale = function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.scale"); return D === O ? Q * bn : D === I ? Q : void 0 }, M = function (Q) { return se((function (le) { return D === O ? Qo() - le : D === I ? le : void 0 })(Q)) }; p.__private__.setPrecision = p.setPrecision = function (Q) { typeof parseInt(Q, 10) == "number" && (e = parseInt(Q, 10)) }; var pe, Z = "00000000000000000000000000000000", ae = p.__private__.getFileId = function () { return Z }, me = p.__private__.setFileId = function (Q) { return Z = Q !== void 0 && /^[a-fA-F0-9]{32}$/.test(Q) ? Q.toUpperCase() : Z.split("").map(function () { return "ABCDEF0123456789".charAt(Math.floor(16 * Math.random())) }).join(""), f !== null && (si = new fg(f.userPermissions, f.userPassword, f.ownerPassword, Z)), Z }; p.setFileId = function (Q) { return me(Q), this }, p.getFileId = function () { return ae() }; var ke = p.__private__.convertDateToPDFDate = function (Q) { var le = Q.getTimezoneOffset(), Fe = le < 0 ? "+" : "-", De = Math.floor(Math.abs(le / 60)), Ge = Math.abs(le % 60), gt = [Fe, ie(De), "'", ie(Ge), "'"].join(""); return ["D:", Q.getFullYear(), ie(Q.getMonth() + 1), ie(Q.getDate()), ie(Q.getHours()), ie(Q.getMinutes()), ie(Q.getSeconds()), gt].join("") }, Ce = p.__private__.convertPDFDateToDate = function (Q) { var le = parseInt(Q.substr(2, 4), 10), Fe = parseInt(Q.substr(6, 2), 10) - 1, De = parseInt(Q.substr(8, 2), 10), Ge = parseInt(Q.substr(10, 2), 10), gt = parseInt(Q.substr(12, 2), 10), xt = parseInt(Q.substr(14, 2), 10); return new Date(le, Fe, De, Ge, gt, xt, 0) }, j = p.__private__.setCreationDate = function (Q) { var le; if (Q === void 0 && (Q = new Date), Q instanceof Date) le = ke(Q); else { if (!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Q)) throw new Error("Invalid argument passed to jsPDF.setCreationDate"); le = Q } return pe = le }, L = p.__private__.getCreationDate = function (Q) { var le = pe; return Q === "jsDate" && (le = Ce(pe)), le }; p.setCreationDate = function (Q) { return j(Q), this }, p.getCreationDate = function (Q) { return L(Q) }; var re, ie = p.__private__.padd2 = function (Q) { return ("0" + parseInt(Q)).slice(-2) }, oe = p.__private__.padd2Hex = function (Q) { return ("00" + (Q = Q.toString())).substr(Q.length) }, de = 0, Be = [], Re = [], Ie = 0, Ye = [], $e = [], yt = !1, at = Re; p.__private__.setCustomOutputDestination = function (Q) { yt = !0, at = Q }; var $ = function (Q) { yt || (at = Q) }; p.__private__.resetCustomOutputDestination = function () { yt = !1, at = Re }; var Ae = p.__private__.out = function (Q) { return Q = Q.toString(), Ie += Q.length + 1, at.push(Q), at }, Me = p.__private__.write = function (Q) { return Ae(arguments.length === 1 ? Q.toString() : Array.prototype.join.call(arguments, " ")) }, _e = p.__private__.getArrayBuffer = function (Q) { for (var le = Q.length, Fe = new ArrayBuffer(le), De = new Uint8Array(Fe); le--;)De[le] = Q.charCodeAt(le); return Fe }, we = [["Helvetica", "helvetica", "normal", "WinAnsiEncoding"], ["Helvetica-Bold", "helvetica", "bold", "WinAnsiEncoding"], ["Helvetica-Oblique", "helvetica", "italic", "WinAnsiEncoding"], ["Helvetica-BoldOblique", "helvetica", "bolditalic", "WinAnsiEncoding"], ["Courier", "courier", "normal", "WinAnsiEncoding"], ["Courier-Bold", "courier", "bold", "WinAnsiEncoding"], ["Courier-Oblique", "courier", "italic", "WinAnsiEncoding"], ["Courier-BoldOblique", "courier", "bolditalic", "WinAnsiEncoding"], ["Times-Roman", "times", "normal", "WinAnsiEncoding"], ["Times-Bold", "times", "bold", "WinAnsiEncoding"], ["Times-Italic", "times", "italic", "WinAnsiEncoding"], ["Times-BoldItalic", "times", "bolditalic", "WinAnsiEncoding"], ["ZapfDingbats", "zapfdingbats", "normal", null], ["Symbol", "symbol", "normal", null]]; p.__private__.getStandardFonts = function () { return we }; var Ne = n.fontSize || 16; p.__private__.setFontSize = p.setFontSize = function (Q) { return Ne = D === I ? Q / bn : Q, this }; var tt, Je = p.__private__.getFontSize = p.getFontSize = function () { return D === O ? Ne : Ne * bn }, Qe = n.R2L || !1; p.__private__.setR2L = p.setR2L = function (Q) { return Qe = Q, this }, p.__private__.getR2L = p.getR2L = function () { return Qe }; var lt, Bt = p.__private__.setZoomMode = function (Q) { if (/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Q)) tt = Q; else if (isNaN(Q)) { if ([void 0, null, "fullwidth", "fullheight", "fullpage", "original"].indexOf(Q) === -1) throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "' + Q + '" is not recognized.'); tt = Q } else tt = parseInt(Q, 10) }; p.__private__.getZoomMode = function () { return tt }; var st, Ct = p.__private__.setPageMode = function (Q) { if ([void 0, null, "UseNone", "UseOutlines", "UseThumbs", "FullScreen"].indexOf(Q) == -1) throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "' + Q + '" is not recognized.'); lt = Q }; p.__private__.getPageMode = function () { return lt }; var Xt = p.__private__.setLayoutMode = function (Q) { if ([void 0, null, "continuous", "single", "twoleft", "tworight", "two"].indexOf(Q) == -1) throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "' + Q + '" is not recognized.'); st = Q }; p.__private__.getLayoutMode = function () { return st }, p.__private__.setDisplayMode = p.setDisplayMode = function (Q, le, Fe) { return Bt(Q), Xt(le), Ct(Fe), this }; var Lt = { title: "", subject: "", author: "", keywords: "", creator: "" }; p.__private__.getDocumentProperty = function (Q) { if (Object.keys(Lt).indexOf(Q) === -1) throw new Error("Invalid argument passed to jsPDF.getDocumentProperty"); return Lt[Q] }, p.__private__.getDocumentProperties = function () { return Lt }, p.__private__.setDocumentProperties = p.setProperties = p.setDocumentProperties = function (Q) { for (var le in Lt) Lt.hasOwnProperty(le) && Q[le] && (Lt[le] = Q[le]); return this }, p.__private__.setDocumentProperty = function (Q, le) { if (Object.keys(Lt).indexOf(Q) === -1) throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty"); return Lt[Q] = le }; var Ft, bn, Pt, Br, en, nn = {}, vn = {}, En = [], rn = {}, Fr = {}, Qt = {}, Wt = {}, Cr = null, hn = 0, Zt = [], ar = new uF(p), Xs = n.hotfixes || [], $r = {}, So = {}, Qa = [], pn = function Q(le, Fe, De, Ge, gt, xt) { if (!(this instanceof Q)) return new Q(le, Fe, De, Ge, gt, xt); isNaN(le) && (le = 1), isNaN(Fe) && (Fe = 0), isNaN(De) && (De = 0), isNaN(Ge) && (Ge = 1), isNaN(gt) && (gt = 0), isNaN(xt) && (xt = 0), this._matrix = [le, Fe, De, Ge, gt, xt] }; Object.defineProperty(pn.prototype, "sx", { get: function () { return this._matrix[0] }, set: function (Q) { this._matrix[0] = Q } }), Object.defineProperty(pn.prototype, "shy", { get: function () { return this._matrix[1] }, set: function (Q) { this._matrix[1] = Q } }), Object.defineProperty(pn.prototype, "shx", { get: function () { return this._matrix[2] }, set: function (Q) { this._matrix[2] = Q } }), Object.defineProperty(pn.prototype, "sy", { get: function () { return this._matrix[3] }, set: function (Q) { this._matrix[3] = Q } }), Object.defineProperty(pn.prototype, "tx", { get: function () { return this._matrix[4] }, set: function (Q) { this._matrix[4] = Q } }), Object.defineProperty(pn.prototype, "ty", { get: function () { return this._matrix[5] }, set: function (Q) { this._matrix[5] = Q } }), Object.defineProperty(pn.prototype, "a", { get: function () { return this._matrix[0] }, set: function (Q) { this._matrix[0] = Q } }), Object.defineProperty(pn.prototype, "b", { get: function () { return this._matrix[1] }, set: function (Q) { this._matrix[1] = Q } }), Object.defineProperty(pn.prototype, "c", { get: function () { return this._matrix[2] }, set: function (Q) { this._matrix[2] = Q } }), Object.defineProperty(pn.prototype, "d", { get: function () { return this._matrix[3] }, set: function (Q) { this._matrix[3] = Q } }), Object.defineProperty(pn.prototype, "e", { get: function () { return this._matrix[4] }, set: function (Q) { this._matrix[4] = Q } }), Object.defineProperty(pn.prototype, "f", { get: function () { return this._matrix[5] }, set: function (Q) { this._matrix[5] = Q } }), Object.defineProperty(pn.prototype, "rotation", { get: function () { return Math.atan2(this.shx, this.sx) } }), Object.defineProperty(pn.prototype, "scaleX", { get: function () { return this.decompose().scale.sx } }), Object.defineProperty(pn.prototype, "scaleY", { get: function () { return this.decompose().scale.sy } }), Object.defineProperty(pn.prototype, "isIdentity", { get: function () { return this.sx === 1 && this.shy === 0 && this.shx === 0 && this.sy === 1 && this.tx === 0 && this.ty === 0 } }), pn.prototype.join = function (Q) { return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty].map(W).join(Q) }, pn.prototype.multiply = function (Q) { var le = Q.sx * this.sx + Q.shy * this.shx, Fe = Q.sx * this.shy + Q.shy * this.sy, De = Q.shx * this.sx + Q.sy * this.shx, Ge = Q.shx * this.shy + Q.sy * this.sy, gt = Q.tx * this.sx + Q.ty * this.shx + this.tx, xt = Q.tx * this.shy + Q.ty * this.sy + this.ty; return new pn(le, Fe, De, Ge, gt, xt) }, pn.prototype.decompose = function () { var Q = this.sx, le = this.shy, Fe = this.shx, De = this.sy, Ge = this.tx, gt = this.ty, xt = Math.sqrt(Q * Q + le * le), Gt = (Q /= xt) * Fe + (le /= xt) * De; Fe -= Q * Gt, De -= le * Gt; var tn = Math.sqrt(Fe * Fe + De * De); return Gt /= tn, Q * (De /= tn) < le * (Fe /= tn) && (Q = -Q, le = -le, Gt = -Gt, xt = -xt), { scale: new pn(xt, 0, 0, tn, 0, 0), translate: new pn(1, 0, 0, 1, Ge, gt), rotate: new pn(Q, le, -le, Q, 0, 0), skew: new pn(1, 0, Gt, 1, 0, 0) } }, pn.prototype.toString = function (Q) { return this.join(" ") }, pn.prototype.inversed = function () { var Q = this.sx, le = this.shy, Fe = this.shx, De = this.sy, Ge = this.tx, gt = this.ty, xt = 1 / (Q * De - le * Fe), Gt = De * xt, tn = -le * xt, Sn = -Fe * xt, On = Q * xt; return new pn(Gt, tn, Sn, On, -Gt * Ge - Sn * gt, -tn * Ge - On * gt) }, pn.prototype.applyToPoint = function (Q) { var le = Q.x * this.sx + Q.y * this.shx + this.tx, Fe = Q.x * this.shy + Q.y * this.sy + this.ty; return new ja(le, Fe) }, pn.prototype.applyToRectangle = function (Q) { var le = this.applyToPoint(Q), Fe = this.applyToPoint(new ja(Q.x + Q.w, Q.y + Q.h)); return new Io(le.x, le.y, Fe.x - le.x, Fe.y - le.y) }, pn.prototype.clone = function () { var Q = this.sx, le = this.shy, Fe = this.shx, De = this.sy, Ge = this.tx, gt = this.ty; return new pn(Q, le, Fe, De, Ge, gt) }, p.Matrix = pn; var rl = p.matrixMult = function (Q, le) { return le.multiply(Q) }, ma = new pn(1, 0, 0, 1, 0, 0); p.unitMatrix = p.identityMatrix = ma; var Cs = function (Q, le) { if (!Fr[Q]) { var Fe = (le instanceof Oh ? "Sh" : "P") + (Object.keys(rn).length + 1).toString(10); le.id = Fe, Fr[Q] = Fe, rn[Fe] = le, ar.publish("addPattern", le) } }; p.ShadingPattern = Oh, p.TilingPattern = gg, p.addShadingPattern = function (Q, le) { return G("addShadingPattern()"), Cs(Q, le), this }, p.beginTilingPattern = function (Q) { G("beginTilingPattern()"), Mo(Q.boundingBox[0], Q.boundingBox[1], Q.boundingBox[2] - Q.boundingBox[0], Q.boundingBox[3] - Q.boundingBox[1], Q.matrix) }, p.endTilingPattern = function (Q, le) {
      G("endTilingPattern()"), le.stream = $e[re].join(`
`), Cs(Q, le), ar.publish("endTilingPattern", le), Qa.pop().restore()
    }; var Mr, Ar = p.__private__.newObject = function () { var Q = Kn(); return Li(Q, !0), Q }, Kn = p.__private__.newObjectDeferred = function () { return de++, Be[de] = function () { return Ie }, de }, Li = function (Q, le) { return le = typeof le == "boolean" && le, Be[Q] = Ie, le && Ae(Q + " 0 obj"), Q }, Vi = p.__private__.newAdditionalObject = function () { var Q = { objId: Kn(), content: "" }; return Ye.push(Q), Q }, rr = Kn(), Kr = Kn(), fi = p.__private__.decodeColorString = function (Q) { var le = Q.split(" "); if (le.length !== 2 || le[1] !== "g" && le[1] !== "G") le.length !== 5 || le[4] !== "k" && le[4] !== "K" || (le = [(1 - le[0]) * (1 - le[3]), (1 - le[1]) * (1 - le[3]), (1 - le[2]) * (1 - le[3]), "r"]); else { var Fe = parseFloat(le[0]); le = [Fe, Fe, Fe, "r"] } for (var De = "#", Ge = 0; Ge < 3; Ge++)De += ("0" + Math.floor(255 * parseFloat(le[Ge])).toString(16)).slice(-2); return De }, cs = p.__private__.encodeColorString = function (Q) { var le; typeof Q == "string" && (Q = { ch1: Q }); var Fe = Q.ch1, De = Q.ch2, Ge = Q.ch3, gt = Q.ch4, xt = Q.pdfColorType === "draw" ? ["G", "RG", "K"] : ["g", "rg", "k"]; if (typeof Fe == "string" && Fe.charAt(0) !== "#") { var Gt = new JQ(Fe); if (Gt.ok) Fe = Gt.toHex(); else if (!/^\d*\.?\d*$/.test(Fe)) throw new Error('Invalid color "' + Fe + '" passed to jsPDF.encodeColorString.') } if (typeof Fe == "string" && /^#[0-9A-Fa-f]{3}$/.test(Fe) && (Fe = "#" + Fe[1] + Fe[1] + Fe[2] + Fe[2] + Fe[3] + Fe[3]), typeof Fe == "string" && /^#[0-9A-Fa-f]{6}$/.test(Fe)) { var tn = parseInt(Fe.substr(1), 16); Fe = tn >> 16 & 255, De = tn >> 8 & 255, Ge = 255 & tn } if (De === void 0 || gt === void 0 && Fe === De && De === Ge) le = typeof Fe == "string" ? Fe + " " + xt[0] : Q.precision === 2 ? ne(Fe / 255) + " " + xt[0] : V(Fe / 255) + " " + xt[0]; else if (gt === void 0 || Ei(gt) === "object") { if (gt && !isNaN(gt.a) && gt.a === 0) return ["1.", "1.", "1.", xt[1]].join(" "); le = typeof Fe == "string" ? [Fe, De, Ge, xt[1]].join(" ") : Q.precision === 2 ? [ne(Fe / 255), ne(De / 255), ne(Ge / 255), xt[1]].join(" ") : [V(Fe / 255), V(De / 255), V(Ge / 255), xt[1]].join(" ") } else le = typeof Fe == "string" ? [Fe, De, Ge, gt, xt[2]].join(" ") : Q.precision === 2 ? [ne(Fe), ne(De), ne(Ge), ne(gt), xt[2]].join(" ") : [V(Fe), V(De), V(Ge), V(gt), xt[2]].join(" "); return le }, va = p.__private__.getFilters = function () { return a }, Is = p.__private__.putStream = function (Q) { var le = (Q = Q || {}).data || "", Fe = Q.filters || va(), De = Q.alreadyAppliedFilters || [], Ge = Q.addLength1 || !1, gt = le.length, xt = Q.objectId, Gt = function (di) { return di }; if (f !== null && xt === void 0) throw new Error("ObjectId must be passed to putStream for file encryption"); f !== null && (Gt = si.encryptor(xt, 0)); var tn = {}; Fe === !0 && (Fe = ["FlateEncode"]); var Sn = Q.additionalKeyValues || [], On = (tn = mn.API.processDataByFilters !== void 0 ? mn.API.processDataByFilters(le, Fe) : { data: le, reverseChain: [] }).reverseChain + (Array.isArray(De) ? De.join(" ") : De.toString()); if (tn.data.length !== 0 && (Sn.push({ key: "Length", value: tn.data.length }), Ge === !0 && Sn.push({ key: "Length1", value: gt })), On.length != 0) if (On.split("/").length - 1 == 1) Sn.push({ key: "Filter", value: On }); else { Sn.push({ key: "Filter", value: "[" + On + "]" }); for (var vr = 0; vr < Sn.length; vr += 1)if (Sn[vr].key === "DecodeParms") { for (var yi = [], Qi = 0; Qi < tn.reverseChain.split("/").length - 1; Qi += 1)yi.push("null"); yi.push(Sn[vr].value), Sn[vr].value = "[" + yi.join(" ") + "]" } } Ae("<<"); for (var Vn = 0; Vn < Sn.length; Vn++)Ae("/" + Sn[Vn].key + " " + Sn[Vn].value); Ae(">>"), tn.data.length !== 0 && (Ae("stream"), Ae(Gt(tn.data)), Ae("endstream")) }, Vl = p.__private__.putPage = function (Q) {
      var le = Q.number, Fe = Q.data, De = Q.objId, Ge = Q.contentsObjId; Li(De, !0), Ae("<</Type /Page"), Ae("/Parent " + Q.rootDictionaryObjId + " 0 R"), Ae("/Resources " + Q.resourceDictionaryObjId + " 0 R"), Ae("/MediaBox [" + parseFloat(W(Q.mediaBox.bottomLeftX)) + " " + parseFloat(W(Q.mediaBox.bottomLeftY)) + " " + W(Q.mediaBox.topRightX) + " " + W(Q.mediaBox.topRightY) + "]"), Q.cropBox !== null && Ae("/CropBox [" + W(Q.cropBox.bottomLeftX) + " " + W(Q.cropBox.bottomLeftY) + " " + W(Q.cropBox.topRightX) + " " + W(Q.cropBox.topRightY) + "]"), Q.bleedBox !== null && Ae("/BleedBox [" + W(Q.bleedBox.bottomLeftX) + " " + W(Q.bleedBox.bottomLeftY) + " " + W(Q.bleedBox.topRightX) + " " + W(Q.bleedBox.topRightY) + "]"), Q.trimBox !== null && Ae("/TrimBox [" + W(Q.trimBox.bottomLeftX) + " " + W(Q.trimBox.bottomLeftY) + " " + W(Q.trimBox.topRightX) + " " + W(Q.trimBox.topRightY) + "]"), Q.artBox !== null && Ae("/ArtBox [" + W(Q.artBox.bottomLeftX) + " " + W(Q.artBox.bottomLeftY) + " " + W(Q.artBox.topRightX) + " " + W(Q.artBox.topRightY) + "]"), typeof Q.userUnit == "number" && Q.userUnit !== 1 && Ae("/UserUnit " + Q.userUnit), ar.publish("putPage", { objId: De, pageContext: Zt[le], pageNumber: le, page: Fe }), Ae("/Contents " + Ge + " 0 R"), Ae(">>"), Ae("endobj"); var gt = Fe.join(`
`); return D === I && (gt += `
Q`), Li(Ge, !0), Is({ data: gt, filters: va(), objectId: Ge }), Ae("endobj"), De
    }, $n = p.__private__.putPages = function () { var Q, le, Fe = []; for (Q = 1; Q <= hn; Q++)Zt[Q].objId = Kn(), Zt[Q].contentsObjId = Kn(); for (Q = 1; Q <= hn; Q++)Fe.push(Vl({ number: Q, data: $e[Q], objId: Zt[Q].objId, contentsObjId: Zt[Q].contentsObjId, mediaBox: Zt[Q].mediaBox, cropBox: Zt[Q].cropBox, bleedBox: Zt[Q].bleedBox, trimBox: Zt[Q].trimBox, artBox: Zt[Q].artBox, userUnit: Zt[Q].userUnit, rootDictionaryObjId: rr, resourceDictionaryObjId: Kr })); Li(rr, !0), Ae("<</Type /Pages"); var De = "/Kids ["; for (le = 0; le < hn; le++)De += Fe[le] + " 0 R "; Ae(De + "]"), Ae("/Count " + hn), Ae(">>"), Ae("endobj"), ar.publish("postPutPages") }, cr = function (Q) { ar.publish("putFont", { font: Q, out: Ae, newObject: Ar, putStream: Is }), Q.isAlreadyPutted !== !0 && (Q.objectNumber = Ar(), Ae("<<"), Ae("/Type /Font"), Ae("/BaseFont /" + dg(Q.postScriptName)), Ae("/Subtype /Type1"), typeof Q.encoding == "string" && Ae("/Encoding /" + Q.encoding), Ae("/FirstChar 32"), Ae("/LastChar 255"), Ae(">>"), Ae("endobj")) }, $a = function (Q) {
      Q.objectNumber = Ar(); var le = []; le.push({ key: "Type", value: "/XObject" }), le.push({ key: "Subtype", value: "/Form" }), le.push({ key: "BBox", value: "[" + [W(Q.x), W(Q.y), W(Q.x + Q.width), W(Q.y + Q.height)].join(" ") + "]" }), le.push({ key: "Matrix", value: "[" + Q.matrix.toString() + "]" }); var Fe = Q.pages[1].join(`
`); Is({ data: Fe, additionalKeyValues: le, objectId: Q.objectNumber }), Ae("endobj")
    }, mi = function (Q, le) { le || (le = 21); var Fe = Ar(), De = (function (xt, Gt) { var tn, Sn = [], On = 1 / (Gt - 1); for (tn = 0; tn < 1; tn += On)Sn.push(tn); if (Sn.push(1), xt[0].offset != 0) { var vr = { offset: 0, color: xt[0].color }; xt.unshift(vr) } if (xt[xt.length - 1].offset != 1) { var yi = { offset: 1, color: xt[xt.length - 1].color }; xt.push(yi) } for (var Qi = "", Vn = 0, di = 0; di < Sn.length; di++) { for (tn = Sn[di]; tn > xt[Vn + 1].offset;)Vn++; var _i = xt[Vn].offset, Wi = (tn - _i) / (xt[Vn + 1].offset - _i), ol = xt[Vn].color, _s = xt[Vn + 1].color; Qi += oe(Math.round((1 - Wi) * ol[0] + Wi * _s[0]).toString(16)) + oe(Math.round((1 - Wi) * ol[1] + Wi * _s[1]).toString(16)) + oe(Math.round((1 - Wi) * ol[2] + Wi * _s[2]).toString(16)) } return Qi.trim() })(Q.colors, le), Ge = []; Ge.push({ key: "FunctionType", value: "0" }), Ge.push({ key: "Domain", value: "[0.0 1.0]" }), Ge.push({ key: "Size", value: "[" + le + "]" }), Ge.push({ key: "BitsPerSample", value: "8" }), Ge.push({ key: "Range", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), Ge.push({ key: "Decode", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), Is({ data: De, additionalKeyValues: Ge, alreadyAppliedFilters: ["/ASCIIHexDecode"], objectId: Fe }), Ae("endobj"), Q.objectNumber = Ar(), Ae("<< /ShadingType " + Q.type), Ae("/ColorSpace /DeviceRGB"); var gt = "/Coords [" + W(parseFloat(Q.coords[0])) + " " + W(parseFloat(Q.coords[1])) + " "; Q.type === 2 ? gt += W(parseFloat(Q.coords[2])) + " " + W(parseFloat(Q.coords[3])) : gt += W(parseFloat(Q.coords[2])) + " " + W(parseFloat(Q.coords[3])) + " " + W(parseFloat(Q.coords[4])) + " " + W(parseFloat(Q.coords[5])), Ae(gt += "]"), Q.matrix && Ae("/Matrix [" + Q.matrix.toString() + "]"), Ae("/Function " + Fe + " 0 R"), Ae("/Extend [true true]"), Ae(">>"), Ae("endobj") }, _o = function (Q, le) { var Fe = Kn(), De = Ar(); le.push({ resourcesOid: Fe, objectOid: De }), Q.objectNumber = De; var Ge = []; Ge.push({ key: "Type", value: "/Pattern" }), Ge.push({ key: "PatternType", value: "1" }), Ge.push({ key: "PaintType", value: "1" }), Ge.push({ key: "TilingType", value: "1" }), Ge.push({ key: "BBox", value: "[" + Q.boundingBox.map(W).join(" ") + "]" }), Ge.push({ key: "XStep", value: W(Q.xStep) }), Ge.push({ key: "YStep", value: W(Q.yStep) }), Ge.push({ key: "Resources", value: Fe + " 0 R" }), Q.matrix && Ge.push({ key: "Matrix", value: "[" + Q.matrix.toString() + "]" }), Is({ data: Q.stream, additionalKeyValues: Ge, objectId: Q.objectNumber }), Ae("endobj") }, _l = function (Q) { for (var le in Q.objectNumber = Ar(), Ae("<<"), Q) switch (le) { case "opacity": Ae("/ca " + ne(Q[le])); break; case "stroke-opacity": Ae("/CA " + ne(Q[le])) }Ae(">>"), Ae("endobj") }, No = function (Q) { Li(Q.resourcesOid, !0), Ae("<<"), Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"), (function () { for (var le in Ae("/Font <<"), nn) nn.hasOwnProperty(le) && (h === !1 || h === !0 && m.hasOwnProperty(le)) && Ae("/" + le + " " + nn[le].objectNumber + " 0 R"); Ae(">>") })(), (function () { if (Object.keys(rn).length > 0) { for (var le in Ae("/Shading <<"), rn) rn.hasOwnProperty(le) && rn[le] instanceof Oh && rn[le].objectNumber >= 0 && Ae("/" + le + " " + rn[le].objectNumber + " 0 R"); ar.publish("putShadingPatternDict"), Ae(">>") } })(), (function (le) { if (Object.keys(rn).length > 0) { for (var Fe in Ae("/Pattern <<"), rn) rn.hasOwnProperty(Fe) && rn[Fe] instanceof p.TilingPattern && rn[Fe].objectNumber >= 0 && rn[Fe].objectNumber < le && Ae("/" + Fe + " " + rn[Fe].objectNumber + " 0 R"); ar.publish("putTilingPatternDict"), Ae(">>") } })(Q.objectOid), (function () { if (Object.keys(Qt).length > 0) { var le; for (le in Ae("/ExtGState <<"), Qt) Qt.hasOwnProperty(le) && Qt[le].objectNumber >= 0 && Ae("/" + le + " " + Qt[le].objectNumber + " 0 R"); ar.publish("putGStateDict"), Ae(">>") } })(), (function () { for (var le in Ae("/XObject <<"), $r) $r.hasOwnProperty(le) && $r[le].objectNumber >= 0 && Ae("/" + le + " " + $r[le].objectNumber + " 0 R"); ar.publish("putXobjectDict"), Ae(">>") })(), Ae(">>"), Ae("endobj") }, Si = function (Q) { vn[Q.fontName] = vn[Q.fontName] || {}, vn[Q.fontName][Q.fontStyle] = Q.id }, xc = function (Q, le, Fe, De, Ge) { var gt = { id: "F" + (Object.keys(nn).length + 1).toString(10), postScriptName: Q, fontName: le, fontStyle: Fe, encoding: De, isStandardFont: Ge || !1, metadata: {} }; return ar.publish("addFont", { font: gt, instance: this }), nn[gt.id] = gt, Si(gt), gt.id }, Es = p.__private__.pdfEscape = p.pdfEscape = function (Q, le) { return (function (Fe, De) { var Ge, gt, xt, Gt, tn, Sn, On, vr, yi; if (xt = (De = De || {}).sourceEncoding || "Unicode", tn = De.outputEncoding, (De.autoencode || tn) && nn[Ft].metadata && nn[Ft].metadata[xt] && nn[Ft].metadata[xt].encoding && (Gt = nn[Ft].metadata[xt].encoding, !tn && nn[Ft].encoding && (tn = nn[Ft].encoding), !tn && Gt.codePages && (tn = Gt.codePages[0]), typeof tn == "string" && (tn = Gt[tn]), tn)) { for (On = !1, Sn = [], Ge = 0, gt = Fe.length; Ge < gt; Ge++)(vr = tn[Fe.charCodeAt(Ge)]) ? Sn.push(String.fromCharCode(vr)) : Sn.push(Fe[Ge]), Sn[Ge].charCodeAt(0) >> 8 && (On = !0); Fe = Sn.join("") } for (Ge = Fe.length; On === void 0 && Ge !== 0;)Fe.charCodeAt(Ge - 1) >> 8 && (On = !0), Ge--; if (!On) return Fe; for (Sn = De.noBOM ? [] : [254, 255], Ge = 0, gt = Fe.length; Ge < gt; Ge++) { if ((yi = (vr = Fe.charCodeAt(Ge)) >> 8) >> 8) throw new Error("Character at position " + Ge + " of string '" + Fe + "' exceeds 16bits. Cannot be encoded into UCS-2 BE"); Sn.push(yi), Sn.push(vr - (yi << 8)) } return String.fromCharCode.apply(void 0, Sn) })(Q, le).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, Qr = p.__private__.beginPage = function (Q) { $e[++hn] = [], Zt[hn] = { objId: 0, contentsObjId: 0, userUnit: Number(o), artBox: null, bleedBox: null, cropBox: null, trimBox: null, mediaBox: { bottomLeftX: 0, bottomLeftY: 0, topRightX: Number(Q[0]), topRightY: Number(Q[1]) } }, to(hn), $($e[re]) }, eo = function (Q, le) { var Fe, De, Ge; switch (t = le || t, typeof Q == "string" && (Fe = _(Q.toLowerCase()), Array.isArray(Fe) && (De = Fe[0], Ge = Fe[1])), Array.isArray(Q) && (De = Q[0] * bn, Ge = Q[1] * bn), isNaN(De) && (De = i[0], Ge = i[1]), (De > 14400 || Ge > 14400) && (zi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"), De = Math.min(14400, De), Ge = Math.min(14400, Ge)), i = [De, Ge], t.substr(0, 1)) { case "l": Ge > De && (i = [Ge, De]); break; case "p": De > Ge && (i = [Ge, De]) }Qr(i), xn(il), Ae(Ls), Ha !== 0 && Ae(Ha + " J"), Mi !== 0 && Ae(Mi + " j"), ar.publish("addPage", { pageNumber: hn }) }, Gl = function (Q) { Q > 0 && Q <= hn && ($e.splice(Q, 1), Zt.splice(Q, 1), hn--, re > hn && (re = hn), this.setPage(re)) }, to = function (Q) { Q > 0 && Q <= hn && (re = Q) }, Wl = p.__private__.getNumberOfPages = p.getNumberOfPages = function () { return $e.length - 1 }, su = function (Q, le, Fe) { var De, Ge = void 0; return Fe = Fe || {}, Q = Q !== void 0 ? Q : nn[Ft].fontName, le = le !== void 0 ? le : nn[Ft].fontStyle, De = Q.toLowerCase(), vn[De] !== void 0 && vn[De][le] !== void 0 ? Ge = vn[De][le] : vn[Q] !== void 0 && vn[Q][le] !== void 0 ? Ge = vn[Q][le] : Fe.disableWarning === !1 && zi.warn("Unable to look up font label for font '" + Q + "', '" + le + "'. Refer to getFontList() for available fonts."), Ge || Fe.noFallback || (Ge = vn.times[le]) == null && (Ge = vn.times.normal), Ge }, Da = p.__private__.putInfo = function () { var Q = Ar(), le = function (De) { return De }; for (var Fe in f !== null && (le = si.encryptor(Q, 0)), Ae("<<"), Ae("/Producer (" + Es(le("jsPDF " + mn.version)) + ")"), Lt) Lt.hasOwnProperty(Fe) && Lt[Fe] && Ae("/" + Fe.substr(0, 1).toUpperCase() + Fe.substr(1) + " (" + Es(le(Lt[Fe])) + ")"); Ae("/CreationDate (" + Es(le(pe)) + ")"), Ae(">>"), Ae("endobj") }, ya = p.__private__.putCatalog = function (Q) { var le = (Q = Q || {}).rootDictionaryObjId || rr; switch (Ar(), Ae("<<"), Ae("/Type /Catalog"), Ae("/Pages " + le + " 0 R"), tt || (tt = "fullwidth"), tt) { case "fullwidth": Ae("/OpenAction [3 0 R /FitH null]"); break; case "fullheight": Ae("/OpenAction [3 0 R /FitV null]"); break; case "fullpage": Ae("/OpenAction [3 0 R /Fit]"); break; case "original": Ae("/OpenAction [3 0 R /XYZ null null 1]"); break; default: var Fe = "" + tt; Fe.substr(Fe.length - 1) === "%" && (tt = parseInt(tt) / 100), typeof tt == "number" && Ae("/OpenAction [3 0 R /XYZ null null " + ne(tt) + "]") }switch (st || (st = "continuous"), st) { case "continuous": Ae("/PageLayout /OneColumn"); break; case "single": Ae("/PageLayout /SinglePage"); break; case "two": case "twoleft": Ae("/PageLayout /TwoColumnLeft"); break; case "tworight": Ae("/PageLayout /TwoColumnRight") }lt && Ae("/PageMode /" + lt), ar.publish("putCatalog"), Ae(">>"), Ae("endobj") }, wa = p.__private__.putTrailer = function () { Ae("trailer"), Ae("<<"), Ae("/Size " + (de + 1)), Ae("/Root " + de + " 0 R"), Ae("/Info " + (de - 1) + " 0 R"), f !== null && Ae("/Encrypt " + si.oid + " 0 R"), Ae("/ID [ <" + Z + "> <" + Z + "> ]"), Ae(">>") }, hr = p.__private__.putHeader = function () { Ae("%PDF-" + b), Ae("%") }, no = p.__private__.putXRef = function () { var Q = "0000000000"; Ae("xref"), Ae("0 " + (de + 1)), Ae("0000000000 65535 f "); for (var le = 1; le <= de; le++)typeof Be[le] == "function" ? Ae((Q + Be[le]()).slice(-10) + " 00000 n ") : Be[le] !== void 0 ? Ae((Q + Be[le]).slice(-10) + " 00000 n ") : Ae("0000000000 00000 n ") }, ro = p.__private__.buildDocument = function () {
      var Q; de = 0, Ie = 0, Re = [], Be = [], Ye = [], rr = Kn(), Kr = Kn(), $(Re), ar.publish("buildDocument"), hr(), $n(), (function () { ar.publish("putAdditionalObjects"); for (var Fe = 0; Fe < Ye.length; Fe++) { var De = Ye[Fe]; Li(De.objId, !0), Ae(De.content), Ae("endobj") } ar.publish("postPutAdditionalObjects") })(), Q = [], (function () { for (var Fe in nn) nn.hasOwnProperty(Fe) && (h === !1 || h === !0 && m.hasOwnProperty(Fe)) && cr(nn[Fe]) })(), (function () { var Fe; for (Fe in Qt) Qt.hasOwnProperty(Fe) && _l(Qt[Fe]) })(), (function () { for (var Fe in $r) $r.hasOwnProperty(Fe) && $a($r[Fe]) })(), (function (Fe) { var De; for (De in rn) rn.hasOwnProperty(De) && (rn[De] instanceof Oh ? mi(rn[De]) : rn[De] instanceof gg && _o(rn[De], Fe)) })(Q), ar.publish("putResources"), Q.forEach(No), No({ resourcesOid: Kr, objectOid: Number.MAX_SAFE_INTEGER }), ar.publish("postPutResources"), f !== null && (si.oid = Ar(), Ae("<<"), Ae("/Filter /Standard"), Ae("/V " + si.v), Ae("/R " + si.r), Ae("/U <" + si.toHexString(si.U) + ">"), Ae("/O <" + si.toHexString(si.O) + ">"), Ae("/P " + si.P), Ae(">>"), Ae("endobj")), Da(), ya(); var le = Ie; return no(), wa(), Ae("startxref"), Ae("" + le), Ae("%%EOF"), $($e[re]), Re.join(`
`)
    }, Yl = p.__private__.getBlob = function (Q) { return new Blob([_e(Q)], { type: "application/pdf" }) }, Nl = p.output = p.__private__.output = (Mr = function (Q, le) { switch (typeof (le = le || {}) == "string" ? le = { filename: le } : le.filename = le.filename || "generated.pdf", Q) { case void 0: return ro(); case "save": p.save(le.filename); break; case "arraybuffer": return _e(ro()); case "blob": return Yl(ro()); case "bloburi": case "bloburl": if (Xn.URL !== void 0 && typeof Xn.URL.createObjectURL == "function") return Xn.URL && Xn.URL.createObjectURL(Yl(ro())) || void 0; zi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser."); break; case "datauristring": case "dataurlstring": var Fe = "", De = ro(); try { Fe = lF(De) } catch { Fe = lF(unescape(encodeURIComponent(De))) } return "data:application/pdf;filename=" + le.filename + ";base64," + Fe; case "pdfobjectnewwindow": if (Object.prototype.toString.call(Xn) === "[object Window]") { var Ge = "https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js", gt = ' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"'; le.pdfObjectUrl && (Ge = le.pdfObjectUrl, gt = ""); var xt = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="' + Ge + '"' + gt + '><\/script><script >PDFObject.embed("' + this.output("dataurlstring") + '", ' + JSON.stringify(le) + ");<\/script></body></html>", Gt = Xn.open(); return Gt !== null && Gt.document.write(xt), Gt } throw new Error("The option pdfobjectnewwindow just works in a browser-environment."); case "pdfjsnewwindow": if (Object.prototype.toString.call(Xn) === "[object Window]") { var tn = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="' + (le.pdfJsUrl || "examples/PDF.js/web/viewer.html") + "?file=&downloadName=" + le.filename + '" width="500px" height="400px" /></body></html>', Sn = Xn.open(); if (Sn !== null) { Sn.document.write(tn); var On = this; Sn.document.documentElement.querySelector("#pdfViewer").onload = function () { Sn.document.title = le.filename, Sn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(On.output("bloburl")) } } return Sn } throw new Error("The option pdfjsnewwindow just works in a browser-environment."); case "dataurlnewwindow": if (Object.prototype.toString.call(Xn) !== "[object Window]") throw new Error("The option dataurlnewwindow just works in a browser-environment."); var vr = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="' + this.output("datauristring", le) + '"></iframe></body></html>', yi = Xn.open(); if (yi !== null && (yi.document.write(vr), yi.document.title = le.filename), yi || typeof safari > "u") return yi; break; case "datauri": case "dataurl": return Xn.document.location.href = this.output("datauristring", le); default: return null } }, Mr.foo = function () {
      try { return Mr.apply(this, arguments) } catch (Fe) {
        var Q = Fe.stack || ""; ~Q.indexOf(" at ") && (Q = Q.split(" at ")[1]); var le = "Error in function " + Q.split(`
`)[0].split("<")[0] + ": " + Fe.message; if (!Xn.console) throw new Error(le); Xn.console.error(le, Fe), Xn.alert && alert(le)
      }
    }, Mr.foo.bar = Mr, Mr.foo), pr = function (Q) { return Array.isArray(Xs) === !0 && Xs.indexOf(Q) > -1 }; switch (r) { case "pt": bn = 1; break; case "mm": bn = 72 / 25.4; break; case "cm": bn = 72 / 2.54; break; case "in": bn = 72; break; case "px": bn = pr("px_scaling") == 1 ? .75 : 96 / 72; break; case "pc": case "em": bn = 12; break; case "ex": bn = 6; break; default: if (typeof r != "number") throw new Error("Invalid unit: " + r); bn = r }var si = null; j(), me(); var vi = p.__private__.getPageInfo = p.getPageInfo = function (Q) { if (isNaN(Q) || Q % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfo"); return { objId: Zt[Q].objId, pageNumber: Q, pageContext: Zt[Q] } }, Jl = p.__private__.getPageInfoByObjId = function (Q) { if (isNaN(Q) || Q % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId"); for (var le in Zt) if (Zt[le].objId === Q) break; return vi(le) }, ko = p.__private__.getCurrentPageInfo = p.getCurrentPageInfo = function () { return { objId: Zt[re].objId, pageNumber: re, pageContext: Zt[re] } }; p.addPage = function () { return eo.apply(this, arguments), this }, p.setPage = function () { return to.apply(this, arguments), $.call(this, $e[re]), this }, p.insertPage = function (Q) { return this.addPage(), this.movePage(re, Q), this }, p.movePage = function (Q, le) { var Fe, De; if (Q > le) { Fe = $e[Q], De = Zt[Q]; for (var Ge = Q; Ge > le; Ge--)$e[Ge] = $e[Ge - 1], Zt[Ge] = Zt[Ge - 1]; $e[le] = Fe, Zt[le] = De, this.setPage(le) } else if (Q < le) { Fe = $e[Q], De = Zt[Q]; for (var gt = Q; gt < le; gt++)$e[gt] = $e[gt + 1], Zt[gt] = Zt[gt + 1]; $e[le] = Fe, Zt[le] = De, this.setPage(le) } return this }, p.deletePage = function () { return Gl.apply(this, arguments), this }, p.__private__.text = p.text = function (Q, le, Fe, De, Ge) {
      var gt, xt, Gt, tn, Sn, On, vr, yi, Qi, Vn = (De = De || {}).scope || this; if (typeof Q == "number" && typeof le == "number" && (typeof Fe == "string" || Array.isArray(Fe))) { var di = Fe; Fe = le, le = Q, Q = di } if (arguments[3] instanceof pn == 0 ? (Gt = arguments[4], tn = arguments[5], Ei(vr = arguments[3]) === "object" && vr !== null || (typeof Gt == "string" && (tn = Gt, Gt = null), typeof vr == "string" && (tn = vr, vr = null), typeof vr == "number" && (Gt = vr, vr = null), De = { flags: vr, angle: Gt, align: tn })) : (G("The transform parameter of text() with a Matrix value"), Qi = Ge), isNaN(le) || isNaN(Fe) || Q == null) throw new Error("Invalid arguments passed to jsPDF.text"); if (Q.length === 0) return Vn; var _i, Wi = "", ol = typeof De.lineHeightFactor == "number" ? De.lineHeightFactor : so, _s = Vn.internal.scaleFactor; function Ms(Sr) { return Sr = Sr.split("	").join(Array(De.TabLen || 9).join(" ")), Es(Sr, vr) } function Fl(Sr) { for (var Gn, Dr = Sr.concat(), wi = [], x = Dr.length; x--;)typeof (Gn = Dr.shift()) == "string" ? wi.push(Gn) : Array.isArray(Sr) && (Gn.length === 1 || Gn[1] === void 0 && Gn[2] === void 0) ? wi.push(Gn[0]) : wi.push([Gn[0], Gn[1], Gn[2]]); return wi } function za(Sr, Gn) { var Dr; if (typeof Sr == "string") Dr = Gn(Sr)[0]; else if (Array.isArray(Sr)) { for (var wi, x, S = Sr.concat(), R = [], K = S.length; K--;)typeof (wi = S.shift()) == "string" ? R.push(Gn(wi)[0]) : Array.isArray(wi) && typeof wi[0] == "string" && (x = Gn(wi[0], wi[1], wi[2]), R.push([x[0], x[1], x[2]])); Dr = R } return Dr } var ai = !1, Qs = !0; if (typeof Q == "string") ai = !0; else if (Array.isArray(Q)) { var Er = Q.concat(); xt = []; for (var ds, Yi = Er.length; Yi--;)(typeof (ds = Er.shift()) != "string" || Array.isArray(ds) && typeof ds[0] != "string") && (Qs = !1); ai = Qs } if (ai === !1) throw new Error('Type of text must be string or Array. "' + Q + '" is not recognized.'); typeof Q == "string" && (Q = Q.match(/[\r?\n]/) ? Q.split(/\r\n|\r|\n/g) : [Q]); var oo = Ne / Vn.internal.scaleFactor, Ul = oo * (ol - 1); switch (De.baseline) { case "bottom": Fe -= Ul; break; case "top": Fe += oo - Ul; break; case "hanging": Fe += oo - 2 * Ul; break; case "middle": Fe += oo / 2 - Ul }if ((On = De.maxWidth || 0) > 0 && (typeof Q == "string" ? Q = Vn.splitTextToSize(Q, On) : Object.prototype.toString.call(Q) === "[object Array]" && (Q = Q.reduce(function (Sr, Gn) { return Sr.concat(Vn.splitTextToSize(Gn, On)) }, []))), gt = { text: Q, x: le, y: Fe, options: De, mutex: { pdfEscape: Es, activeFontKey: Ft, fonts: nn, activeFontSize: Ne } }, ar.publish("preProcessText", gt), Q = gt.text, Gt = (De = gt.options).angle, Qi instanceof pn == 0 && Gt && typeof Gt == "number") { Gt *= Math.PI / 180, De.rotationDirection === 0 && (Gt = -Gt), D === I && (Gt = -Gt); var $l = Math.cos(Gt), Do = Math.sin(Gt); Qi = new pn($l, Do, -Do, $l, 0, 0) } else Gt && Gt instanceof pn && (Qi = Gt); D !== I || Qi || (Qi = ma), (Sn = De.charSpace || qs) !== void 0 && (Wi += W(se(Sn)) + ` Tc
`, this.setCharSpace(this.getCharSpace() || 0)), (yi = De.horizontalScale) !== void 0 && (Wi += W(100 * yi) + ` Tz
`), De.lang; var hs = -1, lo = De.renderingMode !== void 0 ? De.renderingMode : De.stroke, Ns = Vn.internal.getCurrentPageInfo().pageContext; switch (lo) { case 0: case !1: case "fill": hs = 0; break; case 1: case !0: case "stroke": hs = 1; break; case 2: case "fillThenStroke": hs = 2; break; case 3: case "invisible": hs = 3; break; case 4: case "fillAndAddForClipping": hs = 4; break; case 5: case "strokeAndAddPathForClipping": hs = 5; break; case 6: case "fillThenStrokeAndAddToPathForClipping": hs = 6; break; case 7: case "addToPathForClipping": hs = 7 }var xA = Ns.usedRenderingMode !== void 0 ? Ns.usedRenderingMode : -1; hs !== -1 ? Wi += hs + ` Tr
`: xA !== -1 && (Wi += `0 Tr
`), hs !== -1 && (Ns.usedRenderingMode = hs), tn = De.align || "left"; var Ds, $s = Ne * ol, Ao = Vn.internal.pageSize.getWidth(), eA = nn[Ft]; Sn = De.charSpace || qs, On = De.maxWidth || 0, vr = Object.assign({ autoencode: !0, noBOM: !0 }, De.flags); var xa = [], Po = function (Sr) { return Vn.getStringUnitWidth(Sr, { font: eA, charSpace: Sn, fontSize: Ne, doKerning: !1 }) * Ne / _s }; if (Object.prototype.toString.call(Q) === "[object Array]") { var Nr; xt = Fl(Q), tn !== "left" && (Ds = xt.map(Po)); var ea, Ps = 0; if (tn === "right") { le -= Ds[0], Q = [], Yi = xt.length; for (var co = 0; co < Yi; co++)co === 0 ? (ea = Zs(le), Nr = Gi(Fe)) : (ea = se(Ps - Ds[co]), Nr = -$s), Q.push([xt[co], ea, Nr]), Ps = Ds[co] } else if (tn === "center") { le -= Ds[0] / 2, Q = [], Yi = xt.length; for (var Ho = 0; Ho < Yi; Ho++)Ho === 0 ? (ea = Zs(le), Nr = Gi(Fe)) : (ea = se((Ps - Ds[Ho]) / 2), Nr = -$s), Q.push([xt[Ho], ea, Nr]), Ps = Ds[Ho] } else if (tn === "left") { Q = [], Yi = xt.length; for (var tA = 0; tA < Yi; tA++)Q.push(xt[tA]) } else if (tn === "justify" && eA.encoding === "Identity-H") { Q = [], Yi = xt.length, On = On !== 0 ? On : Ao; for (var Ol = 0, oi = 0; oi < Yi; oi++)if (Nr = oi === 0 ? Gi(Fe) : -$s, ea = oi === 0 ? Zs(le) : Ol, oi < Yi - 1) { var jo = se((On - Ds[oi]) / (xt[oi].split(" ").length - 1)), zo = xt[oi].split(" "); Q.push([zo[0] + " ", ea, Nr]), Ol = 0; for (var Hs = 1; Hs < zo.length; Hs++) { var Di = (Po(zo[Hs - 1] + " " + zo[Hs]) - Po(zo[Hs])) * _s + jo; Hs == zo.length - 1 ? Q.push([zo[Hs], Di, 0]) : Q.push([zo[Hs] + " ", Di, 0]), Ol -= Di } } else Q.push([xt[oi], ea, Nr]); Q.push(["", Ol, 0]) } else { if (tn !== "justify") throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".'); for (Q = [], Yi = xt.length, On = On !== 0 ? On : Ao, oi = 0; oi < Yi; oi++) { Nr = oi === 0 ? Gi(Fe) : -$s, ea = oi === 0 ? Zs(le) : 0; var ta = xt[oi].split(" ").length - 1, Ko = ta > 0 ? (On - Ds[oi]) / ta : 0; oi < Yi - 1 ? xa.push(W(se(Ko))) : xa.push(0), Q.push([xt[oi], ea, Nr]) } } } (typeof De.R2L == "boolean" ? De.R2L : Qe) === !0 && (Q = za(Q, function (Sr, Gn, Dr) { return [Sr.split("").reverse().join(""), Gn, Dr] })), gt = { text: Q, x: le, y: Fe, options: De, mutex: { pdfEscape: Es, activeFontKey: Ft, fonts: nn, activeFontSize: Ne } }, ar.publish("postProcessText", gt), Q = gt.text, _i = gt.mutex.isHex || !1; var uo = nn[Ft].encoding; uo !== "WinAnsiEncoding" && uo !== "StandardEncoding" || (Q = za(Q, function (Sr, Gn, Dr) { return [Ms(Sr), Gn, Dr] })), xt = Fl(Q), Q = []; for (var na, Vo, Go, Ka = Array.isArray(xt[0]) ? 1 : 0, ks = "", fo = function (Sr, Gn, Dr) {
        var wi = ""; return Dr instanceof pn ? (Dr = typeof De.angle == "number" ? rl(Dr, new pn(1, 0, 0, 1, Sr, Gn)) : rl(new pn(1, 0, 0, 1, Sr, Gn), Dr), D === I && (Dr = rl(new pn(1, 0, 0, -1, 0, 0), Dr)), wi = Dr.join(" ") + ` Tm
`) : wi = W(Sr) + " " + W(Gn) + ` Td
`, wi
      }, Ni = 0; Ni < xt.length; Ni++) {
        switch (ks = "", Ka) { case 1: Go = (_i ? "<" : "(") + xt[Ni][0] + (_i ? ">" : ")"), na = parseFloat(xt[Ni][1]), Vo = parseFloat(xt[Ni][2]); break; case 0: Go = (_i ? "<" : "(") + xt[Ni] + (_i ? ">" : ")"), na = Zs(le), Vo = Gi(Fe) }xa !== void 0 && xa[Ni] !== void 0 && (ks = xa[Ni] + ` Tw
`), Ni === 0 ? Q.push(ks + fo(na, Vo, Qi) + Go) : Ka === 0 ? Q.push(ks + Go) : Ka === 1 && Q.push(ks + fo(na, Vo, Qi) + Go)
      } Q = Ka === 0 ? Q.join(` Tj
T* `) : Q.join(` Tj
`), Q += ` Tj
`; var ra = `BT
/`; return ra += Ft + " " + Ne + ` Tf
`, ra += W(Ne * ol) + ` TL
`, ra += ba + `
`, ra += Wi, ra += Q, Ae(ra += "ET"), m[Ft] = !0, Vn
    }; var yA = p.__private__.clip = p.clip = function (Q) { return Ae(Q === "evenodd" ? "W*" : "W"), this }; p.clipEvenOdd = function () { return yA("evenodd") }, p.__private__.discardPath = p.discardPath = function () { return Ae("n"), this }; var Ss = p.__private__.isValidStyle = function (Q) { var le = !1; return [void 0, null, "S", "D", "F", "DF", "FD", "f", "f*", "B", "B*", "n"].indexOf(Q) !== -1 && (le = !0), le }; p.__private__.setDefaultPathOperation = p.setDefaultPathOperation = function (Q) { return Ss(Q) && (u = Q), this }; var io = p.__private__.getStyle = p.getStyle = function (Q) { var le = u; switch (Q) { case "D": case "S": le = "S"; break; case "F": le = "f"; break; case "FD": case "DF": le = "B"; break; case "f": case "f*": case "B": case "B*": le = Q }return le }, WA = p.close = function () { return Ae("h"), this }; p.stroke = function () { return Ae("S"), this }, p.fill = function (Q) { return To("f", Q), this }, p.fillEvenOdd = function (Q) { return To("f*", Q), this }, p.fillStroke = function (Q) { return To("B", Q), this }, p.fillStrokeEvenOdd = function (Q) { return To("B*", Q), this }; var To = function (Q, le) { Ei(le) === "object" ? au(le, Q) : Ae(Q) }, Pa = function (Q) { Q === null || D === I && Q === void 0 || (Q = io(Q), Ae(Q)) }; function wA(Q, le, Fe, De, Ge) { var gt = new gg(le || this.boundingBox, Fe || this.xStep, De || this.yStep, this.gState, Ge || this.matrix); gt.stream = this.stream; var xt = Q + "$$" + this.cloneIndex++ + "$$"; return Cs(xt, gt), gt } var au = function (Q, le) { var Fe = Fr[Q.key], De = rn[Fe]; if (De instanceof Oh) Ae("q"), Ae(Bc(le)), De.gState && p.setGState(De.gState), Ae(Q.matrix.toString() + " cm"), Ae("/" + Fe + " sh"), Ae("Q"); else if (De instanceof gg) { var Ge = new pn(1, 0, 0, -1, 0, Qo()); Q.matrix && (Ge = Ge.multiply(Q.matrix || ma), Fe = wA.call(De, Q.key, Q.boundingBox, Q.xStep, Q.yStep, Ge).id), Ae("q"), Ae("/Pattern cs"), Ae("/" + Fe + " scn"), De.gState && p.setGState(De.gState), Ae(le), Ae("Q") } }, Bc = function (Q) { switch (Q) { case "f": case "F": case "n": return "W n"; case "f*": return "W* n"; case "B": case "S": return "W S"; case "B*": return "W* S" } }, Cc = p.moveTo = function (Q, le) { return Ae(W(se(Q)) + " " + W(M(le)) + " m"), this }, us = p.lineTo = function (Q, le) { return Ae(W(se(Q)) + " " + W(M(le)) + " l"), this }, ei = p.curveTo = function (Q, le, Fe, De, Ge, gt) { return Ae([W(se(Q)), W(M(le)), W(se(Fe)), W(M(De)), W(se(Ge)), W(M(gt)), "c"].join(" ")), this }; p.__private__.line = p.line = function (Q, le, Fe, De, Ge) { if (isNaN(Q) || isNaN(le) || isNaN(Fe) || isNaN(De) || !Ss(Ge)) throw new Error("Invalid arguments passed to jsPDF.line"); return D === O ? this.lines([[Fe - Q, De - le]], Q, le, [1, 1], Ge || "S") : this.lines([[Fe - Q, De - le]], Q, le, [1, 1]).stroke() }, p.__private__.lines = p.lines = function (Q, le, Fe, De, Ge, gt) { var xt, Gt, tn, Sn, On, vr, yi, Qi, Vn, di, _i, Wi; if (typeof Q == "number" && (Wi = Fe, Fe = le, le = Q, Q = Wi), De = De || [1, 1], gt = gt || !1, isNaN(le) || isNaN(Fe) || !Array.isArray(Q) || !Array.isArray(De) || !Ss(Ge) || typeof gt != "boolean") throw new Error("Invalid arguments passed to jsPDF.lines"); for (Cc(le, Fe), xt = De[0], Gt = De[1], Sn = Q.length, di = le, _i = Fe, tn = 0; tn < Sn; tn++)(On = Q[tn]).length === 2 ? (di = On[0] * xt + di, _i = On[1] * Gt + _i, us(di, _i)) : (vr = On[0] * xt + di, yi = On[1] * Gt + _i, Qi = On[2] * xt + di, Vn = On[3] * Gt + _i, di = On[4] * xt + di, _i = On[5] * Gt + _i, ei(vr, yi, Qi, Vn, di, _i)); return gt && WA(), Pa(Ge), this }, p.path = function (Q) { for (var le = 0; le < Q.length; le++) { var Fe = Q[le], De = Fe.c; switch (Fe.op) { case "m": Cc(De[0], De[1]); break; case "l": us(De[0], De[1]); break; case "c": ei.apply(this, De); break; case "h": WA() } } return this }, p.__private__.rect = p.rect = function (Q, le, Fe, De, Ge) { if (isNaN(Q) || isNaN(le) || isNaN(Fe) || isNaN(De) || !Ss(Ge)) throw new Error("Invalid arguments passed to jsPDF.rect"); return D === O && (De = -De), Ae([W(se(Q)), W(M(le)), W(se(Fe)), W(se(De)), "re"].join(" ")), Pa(Ge), this }, p.__private__.triangle = p.triangle = function (Q, le, Fe, De, Ge, gt, xt) { if (isNaN(Q) || isNaN(le) || isNaN(Fe) || isNaN(De) || isNaN(Ge) || isNaN(gt) || !Ss(xt)) throw new Error("Invalid arguments passed to jsPDF.triangle"); return this.lines([[Fe - Q, De - le], [Ge - Fe, gt - De], [Q - Ge, le - gt]], Q, le, [1, 1], xt, !0), this }, p.__private__.roundedRect = p.roundedRect = function (Q, le, Fe, De, Ge, gt, xt) { if (isNaN(Q) || isNaN(le) || isNaN(Fe) || isNaN(De) || isNaN(Ge) || isNaN(gt) || !Ss(xt)) throw new Error("Invalid arguments passed to jsPDF.roundedRect"); var Gt = 4 / 3 * (Math.SQRT2 - 1); return Ge = Math.min(Ge, .5 * Fe), gt = Math.min(gt, .5 * De), this.lines([[Fe - 2 * Ge, 0], [Ge * Gt, 0, Ge, gt - gt * Gt, Ge, gt], [0, De - 2 * gt], [0, gt * Gt, -Ge * Gt, gt, -Ge, gt], [2 * Ge - Fe, 0], [-Ge * Gt, 0, -Ge, -gt * Gt, -Ge, -gt], [0, 2 * gt - De], [0, -gt * Gt, Ge * Gt, -gt, Ge, -gt]], Q + Ge, le, [1, 1], xt, !0), this }, p.__private__.ellipse = p.ellipse = function (Q, le, Fe, De, Ge) { if (isNaN(Q) || isNaN(le) || isNaN(Fe) || isNaN(De) || !Ss(Ge)) throw new Error("Invalid arguments passed to jsPDF.ellipse"); var gt = 4 / 3 * (Math.SQRT2 - 1) * Fe, xt = 4 / 3 * (Math.SQRT2 - 1) * De; return Cc(Q + Fe, le), ei(Q + Fe, le - xt, Q + gt, le - De, Q, le - De), ei(Q - gt, le - De, Q - Fe, le - xt, Q - Fe, le), ei(Q - Fe, le + xt, Q - gt, le + De, Q, le + De), ei(Q + gt, le + De, Q + Fe, le + xt, Q + Fe, le), Pa(Ge), this }, p.__private__.circle = p.circle = function (Q, le, Fe, De) { if (isNaN(Q) || isNaN(le) || isNaN(Fe) || !Ss(De)) throw new Error("Invalid arguments passed to jsPDF.circle"); return this.ellipse(Q, le, Fe, Fe, De) }, p.setFont = function (Q, le, Fe) { return Fe && (le = q(le, Fe)), Ft = su(Q, le, { disableWarning: !1 }), this }; var Fo = p.__private__.getFont = p.getFont = function () { return nn[su.apply(p, arguments)] }; p.__private__.getFontList = p.getFontList = function () { var Q, le, Fe = {}; for (Q in vn) if (vn.hasOwnProperty(Q)) for (le in Fe[Q] = [], vn[Q]) vn[Q].hasOwnProperty(le) && Fe[Q].push(le); return Fe }, p.addFont = function (Q, le, Fe, De, Ge) { var gt = ["StandardEncoding", "MacRomanEncoding", "Identity-H", "WinAnsiEncoding"]; return arguments[3] && gt.indexOf(arguments[3]) !== -1 ? Ge = arguments[3] : arguments[3] && gt.indexOf(arguments[3]) == -1 && (Fe = q(Fe, De)), xc.call(this, Q, le, Fe, Ge = Ge || "Identity-H") }; var so, il = n.lineWidth || .200025, Xl = p.__private__.getLineWidth = p.getLineWidth = function () { return il }, xn = p.__private__.setLineWidth = p.setLineWidth = function (Q) { return il = Q, Ae(W(se(Q)) + " w"), this }; p.__private__.setLineDash = mn.API.setLineDash = mn.API.setLineDashPattern = function (Q, le) { if (Q = Q || [], le = le || 0, isNaN(le) || !Array.isArray(Q)) throw new Error("Invalid arguments passed to jsPDF.setLineDash"); return Q = Q.map(function (Fe) { return W(se(Fe)) }).join(" "), le = W(se(le)), Ae("[" + Q + "] " + le + " d"), this }; var ao = p.__private__.getLineHeight = p.getLineHeight = function () { return Ne * so }; p.__private__.getLineHeight = p.getLineHeight = function () { return Ne * so }; var bA = p.__private__.setLineHeightFactor = p.setLineHeightFactor = function (Q) { return typeof (Q = Q || 1.15) == "number" && (so = Q), this }, YA = p.__private__.getLineHeightFactor = p.getLineHeightFactor = function () { return so }; bA(n.lineHeight); var Zs = p.__private__.getHorizontalCoordinate = function (Q) { return se(Q) }, Gi = p.__private__.getVerticalCoordinate = function (Q) { return D === I ? Q : Zt[re].mediaBox.topRightY - Zt[re].mediaBox.bottomLeftY - se(Q) }, Ur = p.__private__.getHorizontalCoordinateString = p.getHorizontalCoordinateString = function (Q) { return W(Zs(Q)) }, Uo = p.__private__.getVerticalCoordinateString = p.getVerticalCoordinateString = function (Q) { return W(Gi(Q)) }, Ls = n.strokeColor || "0 G"; p.__private__.getStrokeColor = p.getDrawColor = function () { return fi(Ls) }, p.__private__.setStrokeColor = p.setDrawColor = function (Q, le, Fe, De) { return Ls = cs({ ch1: Q, ch2: le, ch3: Fe, ch4: De, pdfColorType: "draw", precision: 2 }), Ae(Ls), this }; var Oo = n.fillColor || "0 g"; p.__private__.getFillColor = p.getFillColor = function () { return fi(Oo) }, p.__private__.setFillColor = p.setFillColor = function (Q, le, Fe, De) { return Oo = cs({ ch1: Q, ch2: le, ch3: Fe, ch4: De, pdfColorType: "fill", precision: 2 }), Ae(Oo), this }; var ba = n.textColor || "0 g", Zl = p.__private__.getTextColor = p.getTextColor = function () { return fi(ba) }; p.__private__.setTextColor = p.setTextColor = function (Q, le, Fe, De) { return ba = cs({ ch1: Q, ch2: le, ch3: Fe, ch4: De, pdfColorType: "text", precision: 3 }), this }; var qs = n.charSpace, Ro = p.__private__.getCharSpace = p.getCharSpace = function () { return parseFloat(qs || 0) }; p.__private__.setCharSpace = p.setCharSpace = function (Q) { if (isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.setCharSpace"); return qs = Q, this }; var Ha = 0; p.CapJoinStyles = { 0: 0, butt: 0, but: 0, miter: 0, 1: 1, round: 1, rounded: 1, circle: 1, 2: 2, projecting: 2, project: 2, square: 2, bevel: 2 }, p.__private__.setLineCap = p.setLineCap = function (Q) { var le = p.CapJoinStyles[Q]; if (le === void 0) throw new Error("Line cap style of '" + Q + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return Ha = le, Ae(le + " J"), this }; var Mi = 0; p.__private__.setLineJoin = p.setLineJoin = function (Q) { var le = p.CapJoinStyles[Q]; if (le === void 0) throw new Error("Line join style of '" + Q + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return Mi = le, Ae(le + " j"), this }, p.__private__.setLineMiterLimit = p.__private__.setMiterLimit = p.setLineMiterLimit = p.setMiterLimit = function (Q) { if (Q = Q || 0, isNaN(Q)) throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit"); return Ae(W(se(Q)) + " M"), this }, p.GState = Jw, p.setGState = function (Q) { (Q = typeof Q == "string" ? Qt[Wt[Q]] : fs(null, Q)).equals(Cr) || (Ae("/" + Q.id + " gs"), Cr = Q) }; var fs = function (Q, le) { if (!Q || !Wt[Q]) { var Fe = !1; for (var De in Qt) if (Qt.hasOwnProperty(De) && Qt[De].equals(le)) { Fe = !0; break } if (Fe) le = Qt[De]; else { var Ge = "GS" + (Object.keys(Qt).length + 1).toString(10); Qt[Ge] = le, le.id = Ge } return Q && (Wt[Q] = le.id), ar.publish("addGState", le), le } }; p.addGState = function (Q, le) { return fs(Q, le), this }, p.saveGraphicsState = function () { return Ae("q"), En.push({ key: Ft, size: Ne, color: ba }), this }, p.restoreGraphicsState = function () { Ae("Q"); var Q = En.pop(); return Ft = Q.key, Ne = Q.size, ba = Q.color, Cr = null, this }, p.setCurrentTransformationMatrix = function (Q) { return Ae(Q.toString() + " cm"), this }, p.comment = function (Q) { return Ae("#" + Q), this }; var ja = function (Q, le) { var Fe = Q || 0; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return Fe }, set: function (gt) { isNaN(gt) || (Fe = parseFloat(gt)) } }); var De = le || 0; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return De }, set: function (gt) { isNaN(gt) || (De = parseFloat(gt)) } }); var Ge = "pt"; return Object.defineProperty(this, "type", { enumerable: !0, get: function () { return Ge }, set: function (gt) { Ge = gt.toString() } }), this }, Io = function (Q, le, Fe, De) { ja.call(this, Q, le), this.type = "rect"; var Ge = Fe || 0; Object.defineProperty(this, "w", { enumerable: !0, get: function () { return Ge }, set: function (xt) { isNaN(xt) || (Ge = parseFloat(xt)) } }); var gt = De || 0; return Object.defineProperty(this, "h", { enumerable: !0, get: function () { return gt }, set: function (xt) { isNaN(xt) || (gt = parseFloat(xt)) } }), this }, Lo = function () { this.page = hn, this.currentPage = re, this.pages = $e.slice(0), this.pagesContext = Zt.slice(0), this.x = Pt, this.y = Br, this.matrix = en, this.width = al(re), this.height = Ec(re), this.outputDestination = at, this.id = "", this.objectNumber = -1 }; Lo.prototype.restore = function () { hn = this.page, re = this.currentPage, Zt = this.pagesContext, $e = this.pages, Pt = this.x, Br = this.y, en = this.matrix, ql(re, this.width), kl(re, this.height), at = this.outputDestination }; var Mo = function (Q, le, Fe, De, Ge) { Qa.push(new Lo), hn = re = 0, $e = [], Pt = Q, Br = le, en = Ge, Qr([Fe, De]) }; for (var sl in p.beginFormObject = function (Q, le, Fe, De, Ge) { return Mo(Q, le, Fe, De, Ge), this }, p.endFormObject = function (Q) { return (function (le) { if (So[le]) Qa.pop().restore(); else { var Fe = new Lo, De = "Xo" + (Object.keys($r).length + 1).toString(10); Fe.id = De, So[le] = De, $r[De] = Fe, ar.publish("addFormObject", Fe), Qa.pop().restore() } })(Q), this }, p.doFormObject = function (Q, le) { var Fe = $r[So[Q]]; return Ae("q"), Ae(le.toString() + " cm"), Ae("/" + Fe.id + " Do"), Ae("Q"), this }, p.getFormObject = function (Q) { var le = $r[So[Q]]; return { x: le.x, y: le.y, width: le.width, height: le.height, matrix: le.matrix } }, p.save = function (Q, le) { return Q = Q || "generated.pdf", (le = le || {}).returnPromise = le.returnPromise || !1, le.returnPromise === !1 ? (Sh(Yl(ro()), Q), typeof Sh.unload == "function" && Xn.setTimeout && setTimeout(Sh.unload, 911), this) : new Promise(function (Fe, De) { try { var Ge = Sh(Yl(ro()), Q); typeof Sh.unload == "function" && Xn.setTimeout && setTimeout(Sh.unload, 911), Fe(Ge) } catch (gt) { De(gt.message) } }) }, mn.API) mn.API.hasOwnProperty(sl) && (sl === "events" && mn.API.events.length ? (function (Q, le) { var Fe, De, Ge; for (Ge = le.length - 1; Ge !== -1; Ge--)Fe = le[Ge][0], De = le[Ge][1], Q.subscribe.apply(Q, [Fe].concat(typeof De == "function" ? [De] : De)) })(ar, mn.API.events) : p[sl] = mn.API[sl]); function al(Q) { return Zt[Q].mediaBox.topRightX - Zt[Q].mediaBox.bottomLeftX } function ql(Q, le) { Zt[Q].mediaBox.topRightX = le + Zt[Q].mediaBox.bottomLeftX } function Ec(Q) { return Zt[Q].mediaBox.topRightY - Zt[Q].mediaBox.bottomLeftY } function kl(Q, le) { Zt[Q].mediaBox.topRightY = le + Zt[Q].mediaBox.bottomLeftY } var Tl = p.getPageWidth = function (Q) { return al(Q = Q || re) / bn }, ou = p.setPageWidth = function (Q, le) { ql(Q, le * bn) }, Qo = p.getPageHeight = function (Q) { return Ec(Q = Q || re) / bn }, Sc = p.setPageHeight = function (Q, le) { kl(Q, le * bn) }; return p.internal = { pdfEscape: Es, getStyle: io, getFont: Fo, getFontSize: Je, getCharSpace: Ro, getTextColor: Zl, getLineHeight: ao, getLineHeightFactor: YA, getLineWidth: Xl, write: Me, getHorizontalCoordinate: Zs, getVerticalCoordinate: Gi, getCoordinateString: Ur, getVerticalCoordinateString: Uo, collections: {}, newObject: Ar, newAdditionalObject: Vi, newObjectDeferred: Kn, newObjectDeferredBegin: Li, getFilters: va, putStream: Is, events: ar, scaleFactor: bn, pageSize: { getWidth: function () { return Tl(re) }, setWidth: function (Q) { ou(re, Q) }, getHeight: function () { return Qo(re) }, setHeight: function (Q) { Sc(re, Q) } }, encryptionOptions: f, encryption: si, getEncryptor: function (Q) { return f !== null ? si.encryptor(Q, 0) : function (le) { return le } }, output: Nl, getNumberOfPages: Wl, get pages() { return $e }, out: Ae, f2: ne, f3: V, getPageInfo: vi, getPageInfoByObjId: Jl, getCurrentPageInfo: ko, getPDFVersion: y, Point: ja, Rectangle: Io, Matrix: pn, hasHotfix: pr }, Object.defineProperty(p.internal.pageSize, "width", { get: function () { return Tl(re) }, set: function (Q) { ou(re, Q) }, enumerable: !0, configurable: !0 }), Object.defineProperty(p.internal.pageSize, "height", { get: function () { return Qo(re) }, set: function (Q) { Sc(re, Q) }, enumerable: !0, configurable: !0 }), (function (Q) { for (var le = 0, Fe = we.length; le < Fe; le++) { var De = xc.call(this, Q[le][0], Q[le][1], Q[le][2], we[le][3], !0); h === !1 && (m[De] = !0); var Ge = Q[le][0].split("-"); Si({ id: De, fontName: Ge[0], fontStyle: Ge[1] || "" }) } ar.publish("addFonts", { fonts: nn, dictionary: vn }) }).call(p, we), Ft = "F1", eo(i, t), ar.publish("initialized"), p
  } fg.prototype.lsbFirstWord = function (n) { return String.fromCharCode(255 & n, n >> 8 & 255, n >> 16 & 255, n >> 24 & 255) }, fg.prototype.toHexString = function (n) { return n.split("").map(function (e) { return ("0" + (255 & e.charCodeAt(0)).toString(16)).slice(-2) }).join("") }, fg.prototype.hexToBytes = function (n) { for (var e = [], t = 0; t < n.length; t += 2)e.push(String.fromCharCode(parseInt(n.substr(t, 2), 16))); return e.join("") }, fg.prototype.processOwnerPassword = function (n, e) { return S5(E5(e).substr(0, 5), n) }, fg.prototype.encryptor = function (n, e) { var t = E5(this.encryptionKey + String.fromCharCode(255 & n, n >> 8 & 255, n >> 16 & 255, 255 & e, e >> 8 & 255)).substr(0, 10); return function (r) { return S5(t, r) } }, Jw.prototype.equals = function (n) { var e, t = "id,objectNumber,equals"; if (!n || Ei(n) !== Ei(this)) return !1; var r = 0; for (e in this) if (!(t.indexOf(e) >= 0)) { if (this.hasOwnProperty(e) && !n.hasOwnProperty(e) || this[e] !== n[e]) return !1; r++ } for (e in n) n.hasOwnProperty(e) && t.indexOf(e) < 0 && r--; return r === 0 }, mn.API = { events: [] }, mn.version = "3.0.4"; var Ys = mn.API, kS = 1, dp = function (n) { return n.replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, eg = function (n) { return n.replace(/\\\\/g, "\\").replace(/\\\(/g, "(").replace(/\\\)/g, ")") }, nr = function (n) { return n.toFixed(2) }, ed = function (n) { return n.toFixed(5) }; Ys.__acroform__ = {}; var vA = function (n, e) { n.prototype = Object.create(e.prototype), n.prototype.constructor = n }, fF = function (n) { return n * kS }, wu = function (n) { var e = new $Q, t = cn.internal.getHeight(n) || 0, r = cn.internal.getWidth(n) || 0; return e.BBox = [0, 0, Number(nr(r)), Number(nr(t))], e }, $ce = Ys.__acroform__.setBit = function (n, e) { if (n = n || 0, e = e || 0, isNaN(n) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit"); return n | 1 << e }, eue = Ys.__acroform__.clearBit = function (n, e) { if (n = n || 0, e = e || 0, isNaN(n) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit"); return n & ~(1 << e) }, tue = Ys.__acroform__.getBit = function (n, e) { if (isNaN(n) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit"); return n & 1 << e ? 1 : 0 }, da = Ys.__acroform__.getBitForPdf = function (n, e) { if (isNaN(n) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf"); return tue(n, e - 1) }, ha = Ys.__acroform__.setBitForPdf = function (n, e) { if (isNaN(n) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf"); return $ce(n, e - 1) }, pa = Ys.__acroform__.clearBitForPdf = function (n, e) { if (isNaN(n) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf"); return eue(n, e - 1) }, nue = Ys.__acroform__.calculateCoordinates = function (n, e) { var t = e.internal.getHorizontalCoordinate, r = e.internal.getVerticalCoordinate, i = n[0], s = n[1], a = n[2], o = n[3], A = {}; return A.lowerLeft_X = t(i) || 0, A.lowerLeft_Y = r(s + o) || 0, A.upperRight_X = t(i + a) || 0, A.upperRight_Y = r(s) || 0, [Number(nr(A.lowerLeft_X)), Number(nr(A.lowerLeft_Y)), Number(nr(A.upperRight_X)), Number(nr(A.upperRight_Y))] }, rue = function (n) {
    if (n.appearanceStreamContent) return n.appearanceStreamContent; if (n.V || n.DV) {
      var e = [], t = n._V || n.DV, r = _5(n, t), i = n.scope.internal.getFont(n.fontName, n.fontStyle).id; e.push("/Tx BMC"), e.push("q"), e.push("BT"), e.push(n.scope.__private__.encodeColorString(n.color)), e.push("/" + i + " " + nr(r.fontSize) + " Tf"), e.push("1 0 0 1 0 0 Tm"), e.push(r.text), e.push("ET"), e.push("Q"), e.push("EMC"); var s = wu(n); return s.scope = n.scope, s.stream = e.join(`
`), s
    }
  }, _5 = function (n, e) {
    var t = n.fontSize === 0 ? n.maxFontSize : n.fontSize, r = { text: "", fontSize: "" }, i = (e = (e = e.substr(0, 1) == "(" ? e.substr(1) : e).substr(e.length - 1) == ")" ? e.substr(0, e.length - 1) : e).split(" "); i = n.multiline ? i.map(function (ne) {
      return ne.split(`
`)
    }) : i.map(function (ne) { return [ne] }); var s = t, a = cn.internal.getHeight(n) || 0; a = a < 0 ? -a : a; var o = cn.internal.getWidth(n) || 0; o = o < 0 ? -o : o; var A = function (ne, V, se) { if (ne + 1 < i.length) { var M = V + " " + i[ne + 1][0]; return o1(M, n, se).width <= o - 4 } return !1 }; s++; e: for (; s > 0;) {
      e = "", s--; var u, f, h = o1("3", n, s).height, m = n.multiline ? a - s : (a - h) / 2, p = m += 2, b = 0, y = 0, E = 0; if (s <= 0) {
        e = `(...) Tj
`, e += "% Width of Text: " + o1(e, n, s = 12).width + ", FieldWidth:" + o + `
`; break
      } for (var _ = "", O = 0, I = 0; I < i.length; I++)if (i.hasOwnProperty(I)) {
        var D = !1; if (i[I].length !== 1 && E !== i[I].length - 1) { if ((h + 2) * (O + 2) + 2 > a) continue e; _ += i[I][E], D = !0, y = I, I-- } else { _ = (_ += i[I][E] + " ").substr(_.length - 1) == " " ? _.substr(0, _.length - 1) : _; var z = parseInt(I), X = A(z, _, s), q = I >= i.length - 1; if (X && !q) { _ += " ", E = 0; continue } if (X || q) { if (q) y = z; else if (n.multiline && (h + 2) * (O + 2) + 2 > a) continue e } else { if (!n.multiline || (h + 2) * (O + 2) + 2 > a) continue e; y = z } } for (var W = "", G = b; G <= y; G++) { var fe = i[G]; if (n.multiline) { if (G === y) { W += fe[E] + " ", E = (E + 1) % fe.length; continue } if (G === b) { W += fe[fe.length - 1] + " "; continue } } W += fe[0] + " " } switch (W = W.substr(W.length - 1) == " " ? W.substr(0, W.length - 1) : W, f = o1(W, n, s).width, n.textAlign) { case "right": u = o - f - 2; break; case "center": u = (o - f) / 2; break; default: u = 2 }e += nr(u) + " " + nr(p) + ` Td
`, e += "(" + dp(W) + `) Tj
`, e += -nr(u) + ` 0 Td
`, p = -(s + 2), f = 0, b = D ? y : y + 1, O++, _ = ""
      } break
    } return r.text = e, r.fontSize = s, r
  }, o1 = function (n, e, t) { var r = e.scope.internal.getFont(e.fontName, e.fontStyle), i = e.scope.getStringUnitWidth(n, { font: r, fontSize: parseFloat(t), charSpace: 0 }) * parseFloat(t); return { height: e.scope.getStringUnitWidth("3", { font: r, fontSize: parseFloat(t), charSpace: 0 }) * parseFloat(t) * 1.5, width: i } }, iue = { fields: [], xForms: [], acroFormDictionaryRoot: null, printedOut: !1, internal: null, isInitialized: !1 }, sue = function (n, e) { var t = { type: "reference", object: n }; e.internal.getPageInfo(n.page).pageContext.annotations.find(function (r) { return r.type === t.type && r.object === t.object }) === void 0 && e.internal.getPageInfo(n.page).pageContext.annotations.push(t) }, aue = function (n, e) {
    if (e.scope = n, n.internal !== void 0 && (n.internal.acroformPlugin === void 0 || n.internal.acroformPlugin.isInitialized === !1)) {
      if (ru.FieldNum = 0, n.internal.acroformPlugin = JSON.parse(JSON.stringify(iue)), n.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error("Exception while creating AcroformDictionary"); kS = n.internal.scaleFactor, n.internal.acroformPlugin.acroFormDictionaryRoot = new eD, n.internal.acroformPlugin.acroFormDictionaryRoot.scope = n, n.internal.acroformPlugin.acroFormDictionaryRoot._eventID = n.internal.events.subscribe("postPutResources", function () { (function (t) { t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID), delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID, t.internal.acroformPlugin.printedOut = !0 })(n) }), n.internal.events.subscribe("buildDocument", function () { (function (t) { t.internal.acroformPlugin.acroFormDictionaryRoot.objId = void 0; var r = t.internal.acroformPlugin.acroFormDictionaryRoot.Fields; for (var i in r) if (r.hasOwnProperty(i)) { var s = r[i]; s.objId = void 0, s.hasAnnotation && sue(s, t) } })(n) }), n.internal.events.subscribe("putCatalog", function () { (function (t) { if (t.internal.acroformPlugin.acroFormDictionaryRoot === void 0) throw new Error("putCatalogCallback: Root missing."); t.internal.write("/AcroForm " + t.internal.acroformPlugin.acroFormDictionaryRoot.objId + " 0 R") })(n) }), n.internal.events.subscribe("postPutPages", function (t) {
        (function (r, i) {
          var s = !r; for (var a in r || (i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId, !0), i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()), r = r || i.internal.acroformPlugin.acroFormDictionaryRoot.Kids) if (r.hasOwnProperty(a)) {
            var o = r[a], A = [], u = o.Rect; if (o.Rect && (o.Rect = nue(o.Rect, i)), i.internal.newObjectDeferredBegin(o.objId, !0), o.DA = cn.createDefaultAppearanceStream(o), Ei(o) === "object" && typeof o.getKeyValueListForStream == "function" && (A = o.getKeyValueListForStream()), o.Rect = u, o.hasAppearanceStream && !o.appearanceStreamContent) { var f = rue(o); A.push({ key: "AP", value: "<</N " + f + ">>" }), i.internal.acroformPlugin.xForms.push(f) } if (o.appearanceStreamContent) {
              var h = ""; for (var m in o.appearanceStreamContent) if (o.appearanceStreamContent.hasOwnProperty(m)) { var p = o.appearanceStreamContent[m]; if (h += "/" + m + " ", h += "<<", Object.keys(p).length >= 1 || Array.isArray(p)) { for (var a in p) if (p.hasOwnProperty(a)) { var b = p[a]; typeof b == "function" && (b = b.call(i, o)), h += "/" + a + " " + b + " ", i.internal.acroformPlugin.xForms.indexOf(b) >= 0 || i.internal.acroformPlugin.xForms.push(b) } } else typeof (b = p) == "function" && (b = b.call(i, o)), h += "/" + a + " " + b, i.internal.acroformPlugin.xForms.indexOf(b) >= 0 || i.internal.acroformPlugin.xForms.push(b); h += ">>" } A.push({
                key: "AP", value: `<<
`+ h + ">>"
              })
            } i.internal.putStream({ additionalKeyValues: A, objectId: o.objId }), i.internal.out("endobj")
          } s && (function (y, E) { for (var _ in y) if (y.hasOwnProperty(_)) { var O = _, I = y[_]; E.internal.newObjectDeferredBegin(I.objId, !0), Ei(I) === "object" && typeof I.putStream == "function" && I.putStream(), delete y[O] } })(i.internal.acroformPlugin.xForms, i)
        })(t, n)
      }), n.internal.acroformPlugin.isInitialized = !0
    }
  }, qQ = Ys.__acroform__.arrayToPdfArray = function (n, e, t) { var r = function (a) { return a }; if (Array.isArray(n)) { for (var i = "[", s = 0; s < n.length; s++)switch (s !== 0 && (i += " "), Ei(n[s])) { case "boolean": case "number": case "object": i += n[s].toString(); break; case "string": n[s].substr(0, 1) !== "/" ? (e !== void 0 && t && (r = t.internal.getEncryptor(e)), i += "(" + dp(r(n[s].toString())) + ")") : i += n[s].toString() }return i + "]" } throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray") }, LB = function (n, e, t) { var r = function (i) { return i }; return e !== void 0 && t && (r = t.internal.getEncryptor(e)), (n = n || "").toString(), "(" + dp(r(n)) + ")" }, Cu = function () { this._objId = void 0, this._scope = void 0, Object.defineProperty(this, "objId", { get: function () { if (this._objId === void 0) { if (this.scope === void 0) return; this._objId = this.scope.internal.newObjectDeferred() } return this._objId }, set: function (n) { this._objId = n } }), Object.defineProperty(this, "scope", { value: this._scope, writable: !0 }) }; Cu.prototype.toString = function () { return this.objId + " 0 R" }, Cu.prototype.putStream = function () { var n = this.getKeyValueListForStream(); this.scope.internal.putStream({ data: this.stream, additionalKeyValues: n, objectId: this.objId }), this.scope.internal.out("endobj") }, Cu.prototype.getKeyValueListForStream = function () { var n = [], e = Object.getOwnPropertyNames(this).filter(function (s) { return s != "content" && s != "appearanceStreamContent" && s != "scope" && s != "objId" && s.substring(0, 1) != "_" }); for (var t in e) if (Object.getOwnPropertyDescriptor(this, e[t]).configurable === !1) { var r = e[t], i = this[r]; i && (Array.isArray(i) ? n.push({ key: r, value: qQ(i, this.objId, this.scope) }) : i instanceof Cu ? (i.scope = this.scope, n.push({ key: r, value: i.objId + " 0 R" })) : typeof i != "function" && n.push({ key: r, value: i })) } return n }; var $Q = function () { Cu.call(this), Object.defineProperty(this, "Type", { value: "/XObject", configurable: !1, writable: !0 }), Object.defineProperty(this, "Subtype", { value: "/Form", configurable: !1, writable: !0 }), Object.defineProperty(this, "FormType", { value: 1, configurable: !1, writable: !0 }); var n, e = []; Object.defineProperty(this, "BBox", { configurable: !1, get: function () { return e }, set: function (t) { e = t } }), Object.defineProperty(this, "Resources", { value: "2 0 R", configurable: !1, writable: !0 }), Object.defineProperty(this, "stream", { enumerable: !1, configurable: !0, set: function (t) { n = t.trim() }, get: function () { return n || null } }) }; vA($Q, Cu); var eD = function () { Cu.call(this); var n, e = []; Object.defineProperty(this, "Kids", { enumerable: !1, configurable: !0, get: function () { return e.length > 0 ? e : void 0 } }), Object.defineProperty(this, "Fields", { enumerable: !1, configurable: !1, get: function () { return e } }), Object.defineProperty(this, "DA", { enumerable: !1, configurable: !1, get: function () { if (n) { var t = function (r) { return r }; return this.scope && (t = this.scope.internal.getEncryptor(this.objId)), "(" + dp(t(n)) + ")" } }, set: function (t) { n = t } }) }; vA(eD, Cu); var ru = function n() { Cu.call(this); var e = 4; Object.defineProperty(this, "F", { enumerable: !1, configurable: !1, get: function () { return e }, set: function (_) { if (isNaN(_)) throw new Error('Invalid value "' + _ + '" for attribute F supplied.'); e = _ } }), Object.defineProperty(this, "showWhenPrinted", { enumerable: !0, configurable: !0, get: function () { return !!da(e, 3) }, set: function (_) { _ ? this.F = ha(e, 3) : this.F = pa(e, 3) } }); var t = 0; Object.defineProperty(this, "Ff", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (_) { if (isNaN(_)) throw new Error('Invalid value "' + _ + '" for attribute Ff supplied.'); t = _ } }); var r = []; Object.defineProperty(this, "Rect", { enumerable: !1, configurable: !1, get: function () { if (r.length !== 0) return r }, set: function (_) { r = _ !== void 0 ? _ : [] } }), Object.defineProperty(this, "x", { enumerable: !0, configurable: !0, get: function () { return !r || isNaN(r[0]) ? 0 : r[0] }, set: function (_) { r[0] = _ } }), Object.defineProperty(this, "y", { enumerable: !0, configurable: !0, get: function () { return !r || isNaN(r[1]) ? 0 : r[1] }, set: function (_) { r[1] = _ } }), Object.defineProperty(this, "width", { enumerable: !0, configurable: !0, get: function () { return !r || isNaN(r[2]) ? 0 : r[2] }, set: function (_) { r[2] = _ } }), Object.defineProperty(this, "height", { enumerable: !0, configurable: !0, get: function () { return !r || isNaN(r[3]) ? 0 : r[3] }, set: function (_) { r[3] = _ } }); var i = ""; Object.defineProperty(this, "FT", { enumerable: !0, configurable: !1, get: function () { return i }, set: function (_) { switch (_) { case "/Btn": case "/Tx": case "/Ch": case "/Sig": i = _; break; default: throw new Error('Invalid value "' + _ + '" for attribute FT supplied.') } } }); var s = null; Object.defineProperty(this, "T", { enumerable: !0, configurable: !1, get: function () { if (!s || s.length < 1) { if (this instanceof Xw) return; s = "FieldObject" + n.FieldNum++ } var _ = function (O) { return O }; return this.scope && (_ = this.scope.internal.getEncryptor(this.objId)), "(" + dp(_(s)) + ")" }, set: function (_) { s = _.toString() } }), Object.defineProperty(this, "fieldName", { configurable: !0, enumerable: !0, get: function () { return s }, set: function (_) { s = _ } }); var a = "helvetica"; Object.defineProperty(this, "fontName", { enumerable: !0, configurable: !0, get: function () { return a }, set: function (_) { a = _ } }); var o = "normal"; Object.defineProperty(this, "fontStyle", { enumerable: !0, configurable: !0, get: function () { return o }, set: function (_) { o = _ } }); var A = 0; Object.defineProperty(this, "fontSize", { enumerable: !0, configurable: !0, get: function () { return A }, set: function (_) { A = _ } }); var u = void 0; Object.defineProperty(this, "maxFontSize", { enumerable: !0, configurable: !0, get: function () { return u === void 0 ? 50 / kS : u }, set: function (_) { u = _ } }); var f = "black"; Object.defineProperty(this, "color", { enumerable: !0, configurable: !0, get: function () { return f }, set: function (_) { f = _ } }); var h = "/F1 0 Tf 0 g"; Object.defineProperty(this, "DA", { enumerable: !0, configurable: !1, get: function () { if (!(!h || this instanceof Xw || this instanceof Yh)) return LB(h, this.objId, this.scope) }, set: function (_) { _ = _.toString(), h = _ } }); var m = null; Object.defineProperty(this, "DV", { enumerable: !1, configurable: !1, get: function () { if (m) return this instanceof xo == 0 ? LB(m, this.objId, this.scope) : m }, set: function (_) { _ = _.toString(), m = this instanceof xo == 0 ? _.substr(0, 1) === "(" ? eg(_.substr(1, _.length - 2)) : eg(_) : _ } }), Object.defineProperty(this, "defaultValue", { enumerable: !0, configurable: !0, get: function () { return this instanceof xo == 1 ? eg(m.substr(1, m.length - 1)) : m }, set: function (_) { _ = _.toString(), m = this instanceof xo == 1 ? "/" + _ : _ } }); var p = null; Object.defineProperty(this, "_V", { enumerable: !1, configurable: !1, get: function () { if (p) return p }, set: function (_) { this.V = _ } }), Object.defineProperty(this, "V", { enumerable: !1, configurable: !1, get: function () { if (p) return this instanceof xo == 0 ? LB(p, this.objId, this.scope) : p }, set: function (_) { _ = _.toString(), p = this instanceof xo == 0 ? _.substr(0, 1) === "(" ? eg(_.substr(1, _.length - 2)) : eg(_) : _ } }), Object.defineProperty(this, "value", { enumerable: !0, configurable: !0, get: function () { return this instanceof xo == 1 ? eg(p.substr(1, p.length - 1)) : p }, set: function (_) { _ = _.toString(), p = this instanceof xo == 1 ? "/" + _ : _ } }), Object.defineProperty(this, "hasAnnotation", { enumerable: !0, configurable: !0, get: function () { return this.Rect } }), Object.defineProperty(this, "Type", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Annot" : null } }), Object.defineProperty(this, "Subtype", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Widget" : null } }); var b, y = !1; Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return y }, set: function (_) { _ = !!_, y = _ } }), Object.defineProperty(this, "page", { enumerable: !0, configurable: !0, get: function () { if (b) return b }, set: function (_) { b = _ } }), Object.defineProperty(this, "readOnly", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 1) }, set: function (_) { _ ? this.Ff = ha(this.Ff, 1) : this.Ff = pa(this.Ff, 1) } }), Object.defineProperty(this, "required", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 2) }, set: function (_) { _ ? this.Ff = ha(this.Ff, 2) : this.Ff = pa(this.Ff, 2) } }), Object.defineProperty(this, "noExport", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 3) }, set: function (_) { _ ? this.Ff = ha(this.Ff, 3) : this.Ff = pa(this.Ff, 3) } }); var E = null; Object.defineProperty(this, "Q", { enumerable: !0, configurable: !1, get: function () { if (E !== null) return E }, set: function (_) { if ([0, 1, 2].indexOf(_) === -1) throw new Error('Invalid value "' + _ + '" for attribute Q supplied.'); E = _ } }), Object.defineProperty(this, "textAlign", { get: function () { var _; switch (E) { case 0: default: _ = "left"; break; case 1: _ = "center"; break; case 2: _ = "right" }return _ }, configurable: !0, enumerable: !0, set: function (_) { switch (_) { case "right": case 2: E = 2; break; case "center": case 1: E = 1; break; default: E = 0 } } }) }; vA(ru, Cu); var Cg = function () { ru.call(this), this.FT = "/Ch", this.V = "()", this.fontName = "zapfdingbats"; var n = 0; Object.defineProperty(this, "TI", { enumerable: !0, configurable: !1, get: function () { return n }, set: function (t) { n = t } }), Object.defineProperty(this, "topIndex", { enumerable: !0, configurable: !0, get: function () { return n }, set: function (t) { n = t } }); var e = []; Object.defineProperty(this, "Opt", { enumerable: !0, configurable: !1, get: function () { return qQ(e, this.objId, this.scope) }, set: function (t) { var r, i; i = [], typeof (r = t) == "string" && (i = (function (s, a, o) { o || (o = 1); for (var A, u = []; A = a.exec(s);)u.push(A[o]); return u })(r, /\((.*?)\)/g)), e = i } }), this.getOptions = function () { return e }, this.setOptions = function (t) { e = t, this.sort && e.sort() }, this.addOption = function (t) { t = (t = t || "").toString(), e.push(t), this.sort && e.sort() }, this.removeOption = function (t, r) { for (r = r || !1, t = (t = t || "").toString(); e.indexOf(t) !== -1 && (e.splice(e.indexOf(t), 1), r !== !1);); }, Object.defineProperty(this, "combo", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 18) }, set: function (t) { t ? this.Ff = ha(this.Ff, 18) : this.Ff = pa(this.Ff, 18) } }), Object.defineProperty(this, "edit", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 19) }, set: function (t) { this.combo === !0 && (t ? this.Ff = ha(this.Ff, 19) : this.Ff = pa(this.Ff, 19)) } }), Object.defineProperty(this, "sort", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 20) }, set: function (t) { t ? (this.Ff = ha(this.Ff, 20), e.sort()) : this.Ff = pa(this.Ff, 20) } }), Object.defineProperty(this, "multiSelect", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 22) }, set: function (t) { t ? this.Ff = ha(this.Ff, 22) : this.Ff = pa(this.Ff, 22) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 23) }, set: function (t) { t ? this.Ff = ha(this.Ff, 23) : this.Ff = pa(this.Ff, 23) } }), Object.defineProperty(this, "commitOnSelChange", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 27) }, set: function (t) { t ? this.Ff = ha(this.Ff, 27) : this.Ff = pa(this.Ff, 27) } }), this.hasAppearanceStream = !1 }; vA(Cg, ru); var Eg = function () { Cg.call(this), this.fontName = "helvetica", this.combo = !1 }; vA(Eg, Cg); var Sg = function () { Eg.call(this), this.combo = !0 }; vA(Sg, Eg); var _1 = function () { Sg.call(this), this.edit = !0 }; vA(_1, Sg); var xo = function () {
    ru.call(this), this.FT = "/Btn", Object.defineProperty(this, "noToggleToOff", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 15) }, set: function (t) { t ? this.Ff = ha(this.Ff, 15) : this.Ff = pa(this.Ff, 15) } }), Object.defineProperty(this, "radio", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 16) }, set: function (t) { t ? this.Ff = ha(this.Ff, 16) : this.Ff = pa(this.Ff, 16) } }), Object.defineProperty(this, "pushButton", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 17) }, set: function (t) { t ? this.Ff = ha(this.Ff, 17) : this.Ff = pa(this.Ff, 17) } }), Object.defineProperty(this, "radioIsUnison", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 26) }, set: function (t) { t ? this.Ff = ha(this.Ff, 26) : this.Ff = pa(this.Ff, 26) } }); var n, e = {}; Object.defineProperty(this, "MK", {
      enumerable: !1, configurable: !1, get: function () {
        var t = function (s) { return s }; if (this.scope && (t = this.scope.internal.getEncryptor(this.objId)), Object.keys(e).length !== 0) {
          var r, i = []; for (r in i.push("<<"), e) i.push("/" + r + " (" + dp(t(e[r])) + ")"); return i.push(">>"), i.join(`
`)
        }
      }, set: function (t) { Ei(t) === "object" && (e = t) }
    }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return e.CA || "" }, set: function (t) { typeof t == "string" && (e.CA = t) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return n }, set: function (t) { n = t } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return n.substr(1, n.length - 1) }, set: function (t) { n = "/" + t } })
  }; vA(xo, ru); var N1 = function () { xo.call(this), this.pushButton = !0 }; vA(N1, xo); var _g = function () { xo.call(this), this.radio = !0, this.pushButton = !1; var n = []; Object.defineProperty(this, "Kids", { enumerable: !0, configurable: !1, get: function () { return n }, set: function (e) { n = e !== void 0 ? e : [] } }) }; vA(_g, xo); var Xw = function () {
    var n, e; ru.call(this), Object.defineProperty(this, "Parent", { enumerable: !1, configurable: !1, get: function () { return n }, set: function (i) { n = i } }), Object.defineProperty(this, "optionName", { enumerable: !1, configurable: !0, get: function () { return e }, set: function (i) { e = i } }); var t, r = {}; Object.defineProperty(this, "MK", {
      enumerable: !1, configurable: !1, get: function () {
        var i = function (o) { return o }; this.scope && (i = this.scope.internal.getEncryptor(this.objId)); var s, a = []; for (s in a.push("<<"), r) a.push("/" + s + " (" + dp(i(r[s])) + ")"); return a.push(">>"), a.join(`
`)
      }, set: function (i) { Ei(i) === "object" && (r = i) }
    }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return r.CA || "" }, set: function (i) { typeof i == "string" && (r.CA = i) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (i) { t = i } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return t.substr(1, t.length - 1) }, set: function (i) { t = "/" + i } }), this.caption = "l", this.appearanceState = "Off", this._AppearanceType = cn.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(this.optionName)
  }; vA(Xw, ru), _g.prototype.setAppearance = function (n) { if (!("createAppearanceStream" in n) || !("getCA" in n)) throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!"); for (var e in this.Kids) if (this.Kids.hasOwnProperty(e)) { var t = this.Kids[e]; t.appearanceStreamContent = n.createAppearanceStream(t.optionName), t.caption = n.getCA() } }, _g.prototype.createOption = function (n) { var e = new Xw; return e.Parent = this, e.optionName = n, this.Kids.push(e), oue.call(this.scope, e), e }; var k1 = function () { xo.call(this), this.fontName = "zapfdingbats", this.caption = "3", this.appearanceState = "On", this.value = "On", this.textAlign = "center", this.appearanceStreamContent = cn.CheckBox.createAppearanceStream() }; vA(k1, xo); var Yh = function () { ru.call(this), this.FT = "/Tx", Object.defineProperty(this, "multiline", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 13) }, set: function (e) { e ? this.Ff = ha(this.Ff, 13) : this.Ff = pa(this.Ff, 13) } }), Object.defineProperty(this, "fileSelect", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 21) }, set: function (e) { e ? this.Ff = ha(this.Ff, 21) : this.Ff = pa(this.Ff, 21) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 23) }, set: function (e) { e ? this.Ff = ha(this.Ff, 23) : this.Ff = pa(this.Ff, 23) } }), Object.defineProperty(this, "doNotScroll", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 24) }, set: function (e) { e ? this.Ff = ha(this.Ff, 24) : this.Ff = pa(this.Ff, 24) } }), Object.defineProperty(this, "comb", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 25) }, set: function (e) { e ? this.Ff = ha(this.Ff, 25) : this.Ff = pa(this.Ff, 25) } }), Object.defineProperty(this, "richText", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 26) }, set: function (e) { e ? this.Ff = ha(this.Ff, 26) : this.Ff = pa(this.Ff, 26) } }); var n = null; Object.defineProperty(this, "MaxLen", { enumerable: !0, configurable: !1, get: function () { return n }, set: function (e) { n = e } }), Object.defineProperty(this, "maxLength", { enumerable: !0, configurable: !0, get: function () { return n }, set: function (e) { Number.isInteger(e) && (n = e) } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return this.V || this.DV } }) }; vA(Yh, ru); var T1 = function () { Yh.call(this), Object.defineProperty(this, "password", { enumerable: !0, configurable: !0, get: function () { return !!da(this.Ff, 14) }, set: function (n) { n ? this.Ff = ha(this.Ff, 14) : this.Ff = pa(this.Ff, 14) } }), this.password = !0 }; vA(T1, Yh); var cn = {
    CheckBox: {
      createAppearanceStream: function () { return { N: { On: cn.CheckBox.YesNormal }, D: { On: cn.CheckBox.YesPushDown, Off: cn.CheckBox.OffPushDown } } }, YesPushDown: function (n) {
        var e = wu(n); e.scope = n.scope; var t = [], r = n.scope.internal.getFont(n.fontName, n.fontStyle).id, i = n.scope.__private__.encodeColorString(n.color), s = _5(n, n.caption); return t.push("0.749023 g"), t.push("0 0 " + nr(cn.internal.getWidth(n)) + " " + nr(cn.internal.getHeight(n)) + " re"), t.push("f"), t.push("BMC"), t.push("q"), t.push("0 0 1 rg"), t.push("/" + r + " " + nr(s.fontSize) + " Tf " + i), t.push("BT"), t.push(s.text), t.push("ET"), t.push("Q"), t.push("EMC"), e.stream = t.join(`
`), e
      }, YesNormal: function (n) {
        var e = wu(n); e.scope = n.scope; var t = n.scope.internal.getFont(n.fontName, n.fontStyle).id, r = n.scope.__private__.encodeColorString(n.color), i = [], s = cn.internal.getHeight(n), a = cn.internal.getWidth(n), o = _5(n, n.caption); return i.push("1 g"), i.push("0 0 " + nr(a) + " " + nr(s) + " re"), i.push("f"), i.push("q"), i.push("0 0 1 rg"), i.push("0 0 " + nr(a - 1) + " " + nr(s - 1) + " re"), i.push("W"), i.push("n"), i.push("0 g"), i.push("BT"), i.push("/" + t + " " + nr(o.fontSize) + " Tf " + r), i.push(o.text), i.push("ET"), i.push("Q"), e.stream = i.join(`
`), e
      }, OffPushDown: function (n) {
        var e = wu(n); e.scope = n.scope; var t = []; return t.push("0.749023 g"), t.push("0 0 " + nr(cn.internal.getWidth(n)) + " " + nr(cn.internal.getHeight(n)) + " re"), t.push("f"), e.stream = t.join(`
`), e
      }
    }, RadioButton: {
      Circle: {
        createAppearanceStream: function (n) { var e = { D: { Off: cn.RadioButton.Circle.OffPushDown }, N: {} }; return e.N[n] = cn.RadioButton.Circle.YesNormal, e.D[n] = cn.RadioButton.Circle.YesPushDown, e }, getCA: function () { return "l" }, YesNormal: function (n) {
          var e = wu(n); e.scope = n.scope; var t = [], r = cn.internal.getWidth(n) <= cn.internal.getHeight(n) ? cn.internal.getWidth(n) / 4 : cn.internal.getHeight(n) / 4; r = Number((.9 * r).toFixed(5)); var i = cn.internal.Bezier_C, s = Number((r * i).toFixed(5)); return t.push("q"), t.push("1 0 0 1 " + ed(cn.internal.getWidth(n) / 2) + " " + ed(cn.internal.getHeight(n) / 2) + " cm"), t.push(r + " 0 m"), t.push(r + " " + s + " " + s + " " + r + " 0 " + r + " c"), t.push("-" + s + " " + r + " -" + r + " " + s + " -" + r + " 0 c"), t.push("-" + r + " -" + s + " -" + s + " -" + r + " 0 -" + r + " c"), t.push(s + " -" + r + " " + r + " -" + s + " " + r + " 0 c"), t.push("f"), t.push("Q"), e.stream = t.join(`
`), e
        }, YesPushDown: function (n) {
          var e = wu(n); e.scope = n.scope; var t = [], r = cn.internal.getWidth(n) <= cn.internal.getHeight(n) ? cn.internal.getWidth(n) / 4 : cn.internal.getHeight(n) / 4; r = Number((.9 * r).toFixed(5)); var i = Number((2 * r).toFixed(5)), s = Number((i * cn.internal.Bezier_C).toFixed(5)), a = Number((r * cn.internal.Bezier_C).toFixed(5)); return t.push("0.749023 g"), t.push("q"), t.push("1 0 0 1 " + ed(cn.internal.getWidth(n) / 2) + " " + ed(cn.internal.getHeight(n) / 2) + " cm"), t.push(i + " 0 m"), t.push(i + " " + s + " " + s + " " + i + " 0 " + i + " c"), t.push("-" + s + " " + i + " -" + i + " " + s + " -" + i + " 0 c"), t.push("-" + i + " -" + s + " -" + s + " -" + i + " 0 -" + i + " c"), t.push(s + " -" + i + " " + i + " -" + s + " " + i + " 0 c"), t.push("f"), t.push("Q"), t.push("0 g"), t.push("q"), t.push("1 0 0 1 " + ed(cn.internal.getWidth(n) / 2) + " " + ed(cn.internal.getHeight(n) / 2) + " cm"), t.push(r + " 0 m"), t.push(r + " " + a + " " + a + " " + r + " 0 " + r + " c"), t.push("-" + a + " " + r + " -" + r + " " + a + " -" + r + " 0 c"), t.push("-" + r + " -" + a + " -" + a + " -" + r + " 0 -" + r + " c"), t.push(a + " -" + r + " " + r + " -" + a + " " + r + " 0 c"), t.push("f"), t.push("Q"), e.stream = t.join(`
`), e
        }, OffPushDown: function (n) {
          var e = wu(n); e.scope = n.scope; var t = [], r = cn.internal.getWidth(n) <= cn.internal.getHeight(n) ? cn.internal.getWidth(n) / 4 : cn.internal.getHeight(n) / 4; r = Number((.9 * r).toFixed(5)); var i = Number((2 * r).toFixed(5)), s = Number((i * cn.internal.Bezier_C).toFixed(5)); return t.push("0.749023 g"), t.push("q"), t.push("1 0 0 1 " + ed(cn.internal.getWidth(n) / 2) + " " + ed(cn.internal.getHeight(n) / 2) + " cm"), t.push(i + " 0 m"), t.push(i + " " + s + " " + s + " " + i + " 0 " + i + " c"), t.push("-" + s + " " + i + " -" + i + " " + s + " -" + i + " 0 c"), t.push("-" + i + " -" + s + " -" + s + " -" + i + " 0 -" + i + " c"), t.push(s + " -" + i + " " + i + " -" + s + " " + i + " 0 c"), t.push("f"), t.push("Q"), e.stream = t.join(`
`), e
        }
      }, Cross: {
        createAppearanceStream: function (n) { var e = { D: { Off: cn.RadioButton.Cross.OffPushDown }, N: {} }; return e.N[n] = cn.RadioButton.Cross.YesNormal, e.D[n] = cn.RadioButton.Cross.YesPushDown, e }, getCA: function () { return "8" }, YesNormal: function (n) {
          var e = wu(n); e.scope = n.scope; var t = [], r = cn.internal.calculateCross(n); return t.push("q"), t.push("1 1 " + nr(cn.internal.getWidth(n) - 2) + " " + nr(cn.internal.getHeight(n) - 2) + " re"), t.push("W"), t.push("n"), t.push(nr(r.x1.x) + " " + nr(r.x1.y) + " m"), t.push(nr(r.x2.x) + " " + nr(r.x2.y) + " l"), t.push(nr(r.x4.x) + " " + nr(r.x4.y) + " m"), t.push(nr(r.x3.x) + " " + nr(r.x3.y) + " l"), t.push("s"), t.push("Q"), e.stream = t.join(`
`), e
        }, YesPushDown: function (n) {
          var e = wu(n); e.scope = n.scope; var t = cn.internal.calculateCross(n), r = []; return r.push("0.749023 g"), r.push("0 0 " + nr(cn.internal.getWidth(n)) + " " + nr(cn.internal.getHeight(n)) + " re"), r.push("f"), r.push("q"), r.push("1 1 " + nr(cn.internal.getWidth(n) - 2) + " " + nr(cn.internal.getHeight(n) - 2) + " re"), r.push("W"), r.push("n"), r.push(nr(t.x1.x) + " " + nr(t.x1.y) + " m"), r.push(nr(t.x2.x) + " " + nr(t.x2.y) + " l"), r.push(nr(t.x4.x) + " " + nr(t.x4.y) + " m"), r.push(nr(t.x3.x) + " " + nr(t.x3.y) + " l"), r.push("s"), r.push("Q"), e.stream = r.join(`
`), e
        }, OffPushDown: function (n) {
          var e = wu(n); e.scope = n.scope; var t = []; return t.push("0.749023 g"), t.push("0 0 " + nr(cn.internal.getWidth(n)) + " " + nr(cn.internal.getHeight(n)) + " re"), t.push("f"), e.stream = t.join(`
`), e
        }
      }
    }, createDefaultAppearanceStream: function (n) { var e = n.scope.internal.getFont(n.fontName, n.fontStyle).id, t = n.scope.__private__.encodeColorString(n.color); return "/" + e + " " + n.fontSize + " Tf " + t }
  }; cn.internal = { Bezier_C: .551915024494, calculateCross: function (n) { var e = cn.internal.getWidth(n), t = cn.internal.getHeight(n), r = Math.min(e, t); return { x1: { x: (e - r) / 2, y: (t - r) / 2 + r }, x2: { x: (e - r) / 2 + r, y: (t - r) / 2 }, x3: { x: (e - r) / 2, y: (t - r) / 2 }, x4: { x: (e - r) / 2 + r, y: (t - r) / 2 + r } } } }, cn.internal.getWidth = function (n) { var e = 0; return Ei(n) === "object" && (e = fF(n.Rect[2])), e }, cn.internal.getHeight = function (n) { var e = 0; return Ei(n) === "object" && (e = fF(n.Rect[3])), e }; var oue = Ys.addField = function (n) { if (aue(this, n), !(n instanceof ru)) throw new Error("Invalid argument passed to jsPDF.addField."); var e; return (e = n).scope.internal.acroformPlugin.printedOut && (e.scope.internal.acroformPlugin.printedOut = !1, e.scope.internal.acroformPlugin.acroFormDictionaryRoot = null), e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e), n.page = n.scope.internal.getCurrentPageInfo().pageNumber, this }; Ys.AcroFormChoiceField = Cg, Ys.AcroFormListBox = Eg, Ys.AcroFormComboBox = Sg, Ys.AcroFormEditBox = _1, Ys.AcroFormButton = xo, Ys.AcroFormPushButton = N1, Ys.AcroFormRadioButton = _g, Ys.AcroFormCheckBox = k1, Ys.AcroFormTextField = Yh, Ys.AcroFormPasswordField = T1, Ys.AcroFormAppearance = cn, Ys.AcroForm = { ChoiceField: Cg, ListBox: Eg, ComboBox: Sg, EditBox: _1, Button: xo, PushButton: N1, RadioButton: _g, CheckBox: k1, TextField: Yh, PasswordField: T1, Appearance: cn }, mn.AcroForm = { ChoiceField: Cg, ListBox: Eg, ComboBox: Sg, EditBox: _1, Button: xo, PushButton: N1, RadioButton: _g, CheckBox: k1, TextField: Yh, PasswordField: T1, Appearance: cn }; mn.AcroForm; function tD(n) { return n.reduce(function (e, t, r) { return e[t] = r, e }, {}) } (function (n) { var e = "addImage_"; n.__addimage__ = {}; var t = "UNKNOWN", r = { PNG: [[137, 80, 78, 71]], TIFF: [[77, 77, 0, 42], [73, 73, 42, 0]], JPEG: [[255, 216, 255, 224, void 0, void 0, 74, 70, 73, 70, 0], [255, 216, 255, 225, void 0, void 0, 69, 120, 105, 102, 0, 0], [255, 216, 255, 219], [255, 216, 255, 238]], JPEG2000: [[0, 0, 0, 12, 106, 80, 32, 32]], GIF87a: [[71, 73, 70, 56, 55, 97]], GIF89a: [[71, 73, 70, 56, 57, 97]], WEBP: [[82, 73, 70, 70, void 0, void 0, void 0, void 0, 87, 69, 66, 80]], BMP: [[66, 77], [66, 65], [67, 73], [67, 80], [73, 67], [80, 84]] }, i = n.__addimage__.getImageFileTypeByImageData = function (ne, V) { var se, M, pe, Z, ae, me = t; if ((V = V || t) === "RGBA" || ne.data !== void 0 && ne.data instanceof Uint8ClampedArray && "height" in ne && "width" in ne) return "RGBA"; if (X(ne)) for (ae in r) for (pe = r[ae], se = 0; se < pe.length; se += 1) { for (Z = !0, M = 0; M < pe[se].length; M += 1)if (pe[se][M] !== void 0 && pe[se][M] !== ne[M]) { Z = !1; break } if (Z === !0) { me = ae; break } } else for (ae in r) for (pe = r[ae], se = 0; se < pe.length; se += 1) { for (Z = !0, M = 0; M < pe[se].length; M += 1)if (pe[se][M] !== void 0 && pe[se][M] !== ne.charCodeAt(M)) { Z = !1; break } if (Z === !0) { me = ae; break } } return me === t && V !== t && (me = V), me }, s = function ne(V) { for (var se = this.internal.write, M = this.internal.putStream, pe = (0, this.internal.getFilters)(); pe.indexOf("FlateEncode") !== -1;)pe.splice(pe.indexOf("FlateEncode"), 1); V.objectId = this.internal.newObject(); var Z = []; if (Z.push({ key: "Type", value: "/XObject" }), Z.push({ key: "Subtype", value: "/Image" }), Z.push({ key: "Width", value: V.width }), Z.push({ key: "Height", value: V.height }), V.colorSpace === _.INDEXED ? Z.push({ key: "ColorSpace", value: "[/Indexed /DeviceRGB " + (V.palette.length / 3 - 1) + " " + ("sMask" in V && V.sMask !== void 0 ? V.objectId + 2 : V.objectId + 1) + " 0 R]" }) : (Z.push({ key: "ColorSpace", value: "/" + V.colorSpace }), V.colorSpace === _.DEVICE_CMYK && Z.push({ key: "Decode", value: "[1 0 1 0 1 0 1 0]" })), Z.push({ key: "BitsPerComponent", value: V.bitsPerComponent }), "decodeParameters" in V && V.decodeParameters !== void 0 && Z.push({ key: "DecodeParms", value: "<<" + V.decodeParameters + ">>" }), "transparency" in V && Array.isArray(V.transparency) && V.transparency.length > 0) { for (var ae = "", me = 0, ke = V.transparency.length; me < ke; me++)ae += V.transparency[me] + " " + V.transparency[me] + " "; Z.push({ key: "Mask", value: "[" + ae + "]" }) } V.sMask !== void 0 && Z.push({ key: "SMask", value: V.objectId + 1 + " 0 R" }); var Ce = V.filter !== void 0 ? ["/" + V.filter] : void 0; if (M({ data: V.data, additionalKeyValues: Z, alreadyAppliedFilters: Ce, objectId: V.objectId }), se("endobj"), "sMask" in V && V.sMask !== void 0) { var j, L = (j = V.sMaskBitsPerComponent) !== null && j !== void 0 ? j : V.bitsPerComponent, re = { width: V.width, height: V.height, colorSpace: "DeviceGray", bitsPerComponent: L, data: V.sMask }; "filter" in V && (re.decodeParameters = "/Predictor ".concat(V.predictor, " /Colors 1 /BitsPerComponent ").concat(L, " /Columns ").concat(V.width), re.filter = V.filter), ne.call(this, re) } if (V.colorSpace === _.INDEXED) { var ie = this.internal.newObject(); M({ data: W(new Uint8Array(V.palette)), objectId: ie }), se("endobj") } }, a = function () { var ne = this.internal.collections[e + "images"]; for (var V in ne) s.call(this, ne[V]) }, o = function () { var ne, V = this.internal.collections[e + "images"], se = this.internal.write; for (var M in V) se("/I" + (ne = V[M]).index, ne.objectId, "0", "R") }, A = function () { this.internal.collections[e + "images"] || (this.internal.collections[e + "images"] = {}, this.internal.events.subscribe("putResources", a), this.internal.events.subscribe("putXobjectDict", o)) }, u = function () { var ne = this.internal.collections[e + "images"]; return A.call(this), ne }, f = function () { return Object.keys(this.internal.collections[e + "images"]).length }, h = function (ne) { return typeof n["process" + ne.toUpperCase()] == "function" }, m = function (ne) { return Ei(ne) === "object" && ne.nodeType === 1 }, p = function (ne, V) { if (ne.nodeName === "IMG" && ne.hasAttribute("src")) { var se = "" + ne.getAttribute("src"); if (se.indexOf("data:image/") === 0) return S1(unescape(se).split("base64,").pop()); var M = n.loadFile(se, !0); if (M !== void 0) return M } if (ne.nodeName === "CANVAS") { if (ne.width === 0 || ne.height === 0) throw new Error("Given canvas must have data. Canvas width: " + ne.width + ", height: " + ne.height); var pe; switch (V) { case "PNG": pe = "image/png"; break; case "WEBP": pe = "image/webp"; break; default: pe = "image/jpeg" }return S1(ne.toDataURL(pe, 1).split("base64,").pop()) } }, b = function (ne) { var V = this.internal.collections[e + "images"]; if (V) { for (var se in V) if (ne === V[se].alias) return V[se] } }, y = function (ne, V, se) { return ne || V || (ne = -96, V = -96), ne < 0 && (ne = -1 * se.width * 72 / ne / this.internal.scaleFactor), V < 0 && (V = -1 * se.height * 72 / V / this.internal.scaleFactor), ne === 0 && (ne = V * se.width / se.height), V === 0 && (V = ne * se.height / se.width), [ne, V] }, E = function (ne, V, se, M, pe, Z) { var ae = y.call(this, se, M, pe), me = this.internal.getCoordinateString, ke = this.internal.getVerticalCoordinateString, Ce = u.call(this); if (se = ae[0], M = ae[1], Ce[pe.index] = pe, Z) { Z *= Math.PI / 180; var j = Math.cos(Z), L = Math.sin(Z), re = function (oe) { return oe.toFixed(4) }, ie = [re(j), re(L), re(-1 * L), re(j), 0, 0, "cm"] } this.internal.write("q"), Z ? (this.internal.write([1, "0", "0", 1, me(ne), ke(V + M), "cm"].join(" ")), this.internal.write(ie.join(" ")), this.internal.write([me(se), "0", "0", me(M), "0", "0", "cm"].join(" "))) : this.internal.write([me(se), "0", "0", me(M), me(ne), ke(V + M), "cm"].join(" ")), this.isAdvancedAPI() && this.internal.write([1, 0, 0, -1, 0, 0, "cm"].join(" ")), this.internal.write("/I" + pe.index + " Do"), this.internal.write("Q") }, _ = n.color_spaces = { DEVICE_RGB: "DeviceRGB", DEVICE_GRAY: "DeviceGray", DEVICE_CMYK: "DeviceCMYK", CAL_GREY: "CalGray", CAL_RGB: "CalRGB", LAB: "Lab", ICC_BASED: "ICCBased", INDEXED: "Indexed", PATTERN: "Pattern", SEPARATION: "Separation", DEVICE_N: "DeviceN" }; n.decode = { DCT_DECODE: "DCTDecode", FLATE_DECODE: "FlateDecode", LZW_DECODE: "LZWDecode", JPX_DECODE: "JPXDecode", JBIG2_DECODE: "JBIG2Decode", ASCII85_DECODE: "ASCII85Decode", ASCII_HEX_DECODE: "ASCIIHexDecode", RUN_LENGTH_DECODE: "RunLengthDecode", CCITT_FAX_DECODE: "CCITTFaxDecode" }; var O = n.image_compression = { NONE: "NONE", FAST: "FAST", MEDIUM: "MEDIUM", SLOW: "SLOW" }, I = n.__addimage__.sHashCode = function (ne) { var V, se, M = 0; if (typeof ne == "string") for (se = ne.length, V = 0; V < se; V++)M = (M << 5) - M + ne.charCodeAt(V), M |= 0; else if (X(ne)) for (se = ne.byteLength / 2, V = 0; V < se; V++)M = (M << 5) - M + ne[V], M |= 0; return M }, D = n.__addimage__.validateStringAsBase64 = function (ne) { (ne = ne || "").toString().trim(); var V = !0; return ne.length === 0 && (V = !1), ne.length % 4 != 0 && (V = !1), /^[A-Za-z0-9+/]+$/.test(ne.substr(0, ne.length - 2)) === !1 && (V = !1), /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ne.substr(-2)) === !1 && (V = !1), V }, z = n.__addimage__.extractImageFromDataUrl = function (ne) { if (ne == null || !(ne = ne.trim()).startsWith("data:")) return null; var V = ne.indexOf(","); return V < 0 ? null : ne.substring(0, V).trim().endsWith("base64") ? ne.substring(V + 1) : null }; n.__addimage__.isArrayBuffer = function (ne) { return ne instanceof ArrayBuffer }; var X = n.__addimage__.isArrayBufferView = function (ne) { return ne instanceof Int8Array || ne instanceof Uint8Array || ne instanceof Uint8ClampedArray || ne instanceof Int16Array || ne instanceof Uint16Array || ne instanceof Int32Array || ne instanceof Uint32Array || ne instanceof Float32Array || ne instanceof Float64Array }, q = n.__addimage__.binaryStringToUint8Array = function (ne) { for (var V = ne.length, se = new Uint8Array(V), M = 0; M < V; M++)se[M] = ne.charCodeAt(M); return se }, W = n.__addimage__.arrayBufferToBinaryString = function (ne) { for (var V = "", se = X(ne) ? ne : new Uint8Array(ne), M = 0; M < se.length; M += 8192)V += String.fromCharCode.apply(null, se.subarray(M, M + 8192)); return V }; n.addImage = function () { var ne, V, se, M, pe, Z, ae, me, ke; if (typeof arguments[1] == "number" ? (V = t, se = arguments[1], M = arguments[2], pe = arguments[3], Z = arguments[4], ae = arguments[5], me = arguments[6], ke = arguments[7]) : (V = arguments[1], se = arguments[2], M = arguments[3], pe = arguments[4], Z = arguments[5], ae = arguments[6], me = arguments[7], ke = arguments[8]), Ei(ne = arguments[0]) === "object" && !m(ne) && "imageData" in ne) { var Ce = ne; ne = Ce.imageData, V = Ce.format || V || t, se = Ce.x || se || 0, M = Ce.y || M || 0, pe = Ce.w || Ce.width || pe, Z = Ce.h || Ce.height || Z, ae = Ce.alias || ae, me = Ce.compression || me, ke = Ce.rotation || Ce.angle || ke } var j = this.internal.getFilters(); if (me === void 0 && j.indexOf("FlateEncode") !== -1 && (me = "SLOW"), isNaN(se) || isNaN(M)) throw new Error("Invalid coordinates passed to jsPDF.addImage"); A.call(this); var L = G.call(this, ne, V, ae, me); return E.call(this, se, M, pe, Z, L, ke), this }; var G = function (ne, V, se, M) { var pe, Z, ae; if (typeof ne == "string" && i(ne) === t) { ne = unescape(ne); var me = fe(ne, !1); (me !== "" || (me = n.loadFile(ne, !0)) !== void 0) && (ne = me) } if (m(ne) && (ne = p(ne, V)), V = i(ne, V), !h(V)) throw new Error("addImage does not support files of type '" + V + "', please ensure that a plugin for '" + V + "' support is added."); if (((ae = se) == null || ae.length === 0) && (se = (function (ke) { return typeof ke == "string" || X(ke) ? I(ke) : X(ke.data) ? I(ke.data) : null })(ne)), (pe = b.call(this, se)) || (ne instanceof Uint8Array || V === "RGBA" || (Z = ne, ne = q(ne)), pe = this["process" + V.toUpperCase()](ne, f.call(this), se, (function (ke) { return ke && typeof ke == "string" && (ke = ke.toUpperCase()), ke in n.image_compression ? ke : O.NONE })(M), Z)), !pe) throw new Error("An unknown error occurred whilst processing the image."); return pe }, fe = n.__addimage__.convertBase64ToBinaryString = function (ne, V) { V = typeof V != "boolean" || V; var se, M = ""; if (typeof ne == "string") { var pe; se = (pe = z(ne)) !== null && pe !== void 0 ? pe : ne; try { M = S1(se) } catch (Z) { if (V) throw D(se) ? new Error("atob-Error in jsPDF.convertBase64ToBinaryString " + Z.message) : new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ") } } return M }; n.getImageProperties = function (ne) { var V, se, M = ""; if (m(ne) && (ne = p(ne)), typeof ne == "string" && i(ne) === t && ((M = fe(ne, !1)) === "" && (M = n.loadFile(ne) || ""), ne = M), se = i(ne), !h(se)) throw new Error("addImage does not support files of type '" + se + "', please ensure that a plugin for '" + se + "' support is added."); if (ne instanceof Uint8Array || (ne = q(ne)), !(V = this["process" + se.toUpperCase()](ne))) throw new Error("An unknown error occurred whilst processing the image"); return V.fileType = se, V } })(mn.API), (function (n) { var e = function (t) { if (t !== void 0 && t != "") return !0 }; mn.API.events.push(["addPage", function (t) { this.internal.getPageInfo(t.pageNumber).pageContext.annotations = [] }]), n.events.push(["putPage", function (t) { for (var r, i, s, a = this.internal.getCoordinateString, o = this.internal.getVerticalCoordinateString, A = this.internal.getPageInfoByObjId(t.objId), u = t.pageContext.annotations, f = !1, h = 0; h < u.length && !f; h++)switch ((r = u[h]).type) { case "link": (e(r.options.url) || e(r.options.pageNumber)) && (f = !0); break; case "reference": case "text": case "freetext": f = !0 }if (f != 0) { this.internal.write("/Annots ["); for (var m = 0; m < u.length; m++) { r = u[m]; var p = this.internal.pdfEscape, b = this.internal.getEncryptor(t.objId); switch (r.type) { case "reference": this.internal.write(" " + r.object.objId + " 0 R "); break; case "text": var y = this.internal.newAdditionalObject(), E = this.internal.newAdditionalObject(), _ = this.internal.getEncryptor(y.objId), O = r.title || "Note"; s = "<</Type /Annot /Subtype /Text " + (i = "/Rect [" + a(r.bounds.x) + " " + o(r.bounds.y + r.bounds.h) + " " + a(r.bounds.x + r.bounds.w) + " " + o(r.bounds.y) + "] ") + "/Contents (" + p(_(r.contents)) + ")", s += " /Popup " + E.objId + " 0 R", s += " /P " + A.objId + " 0 R", s += " /T (" + p(_(O)) + ") >>", y.content = s; var I = y.objId + " 0 R"; s = "<</Type /Annot /Subtype /Popup " + (i = "/Rect [" + a(r.bounds.x + 30) + " " + o(r.bounds.y + r.bounds.h) + " " + a(r.bounds.x + r.bounds.w + 30) + " " + o(r.bounds.y) + "] ") + " /Parent " + I, r.open && (s += " /Open true"), s += " >>", E.content = s, this.internal.write(y.objId, "0 R", E.objId, "0 R"); break; case "freetext": i = "/Rect [" + a(r.bounds.x) + " " + o(r.bounds.y) + " " + a(r.bounds.x + r.bounds.w) + " " + o(r.bounds.y + r.bounds.h) + "] "; var D = r.color || "#000000"; s = "<</Type /Annot /Subtype /FreeText " + i + "/Contents (" + p(b(r.contents)) + ")", s += " /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#" + D + ")", s += " /Border [0 0 0]", s += " >>", this.internal.write(s); break; case "link": if (r.options.name) { var z = this.annotations._nameMap[r.options.name]; r.options.pageNumber = z.page, r.options.top = z.y } else r.options.top || (r.options.top = 0); if (i = "/Rect [" + r.finalBounds.x + " " + r.finalBounds.y + " " + r.finalBounds.w + " " + r.finalBounds.h + "] ", s = "", r.options.url) s = "<</Type /Annot /Subtype /Link " + i + "/Border [0 0 0] /A <</S /URI /URI (" + p(b(r.options.url)) + ") >>"; else if (r.options.pageNumber) switch (s = "<</Type /Annot /Subtype /Link " + i + "/Border [0 0 0] /Dest [" + this.internal.getPageInfo(r.options.pageNumber).objId + " 0 R", r.options.magFactor = r.options.magFactor || "XYZ", r.options.magFactor) { case "Fit": s += " /Fit]"; break; case "FitH": s += " /FitH " + r.options.top + "]"; break; case "FitV": r.options.left = r.options.left || 0, s += " /FitV " + r.options.left + "]"; break; default: var X = o(r.options.top); r.options.left = r.options.left || 0, r.options.zoom === void 0 && (r.options.zoom = 0), s += " /XYZ " + r.options.left + " " + X + " " + r.options.zoom + "]" }s != "" && (s += " >>", this.internal.write(s)) } } this.internal.write("]") } }]), n.createAnnotation = function (t) { var r = this.internal.getCurrentPageInfo(); switch (t.type) { case "link": this.link(t.bounds.x, t.bounds.y, t.bounds.w, t.bounds.h, t); break; case "text": case "freetext": r.pageContext.annotations.push(t) } }, n.link = function (t, r, i, s, a) { var o = this.internal.getCurrentPageInfo(), A = this.internal.getCoordinateString, u = this.internal.getVerticalCoordinateString; o.pageContext.annotations.push({ finalBounds: { x: A(t), y: u(r), w: A(t + i), h: u(r + s) }, options: a, type: "link" }) }, n.textWithLink = function (t, r, i, s) { var a, o, A = this.getTextWidth(t), u = this.internal.getLineHeight() / this.internal.scaleFactor; if (s.maxWidth !== void 0) { o = s.maxWidth; var f = this.splitTextToSize(t, o).length; a = Math.ceil(u * f) } else o = A, a = u; return this.text(t, r, i, s), i += .2 * u, s.align === "center" && (r -= A / 2), s.align === "right" && (r -= A), this.link(r, i - u, o, a, s), A }, n.getTextWidth = function (t) { var r = this.internal.getFontSize(); return this.getStringUnitWidth(t) * r / this.internal.scaleFactor } })(mn.API), (function (n) { var e = { 1569: [65152], 1570: [65153, 65154], 1571: [65155, 65156], 1572: [65157, 65158], 1573: [65159, 65160], 1574: [65161, 65162, 65163, 65164], 1575: [65165, 65166], 1576: [65167, 65168, 65169, 65170], 1577: [65171, 65172], 1578: [65173, 65174, 65175, 65176], 1579: [65177, 65178, 65179, 65180], 1580: [65181, 65182, 65183, 65184], 1581: [65185, 65186, 65187, 65188], 1582: [65189, 65190, 65191, 65192], 1583: [65193, 65194], 1584: [65195, 65196], 1585: [65197, 65198], 1586: [65199, 65200], 1587: [65201, 65202, 65203, 65204], 1588: [65205, 65206, 65207, 65208], 1589: [65209, 65210, 65211, 65212], 1590: [65213, 65214, 65215, 65216], 1591: [65217, 65218, 65219, 65220], 1592: [65221, 65222, 65223, 65224], 1593: [65225, 65226, 65227, 65228], 1594: [65229, 65230, 65231, 65232], 1601: [65233, 65234, 65235, 65236], 1602: [65237, 65238, 65239, 65240], 1603: [65241, 65242, 65243, 65244], 1604: [65245, 65246, 65247, 65248], 1605: [65249, 65250, 65251, 65252], 1606: [65253, 65254, 65255, 65256], 1607: [65257, 65258, 65259, 65260], 1608: [65261, 65262], 1609: [65263, 65264, 64488, 64489], 1610: [65265, 65266, 65267, 65268], 1649: [64336, 64337], 1655: [64477], 1657: [64358, 64359, 64360, 64361], 1658: [64350, 64351, 64352, 64353], 1659: [64338, 64339, 64340, 64341], 1662: [64342, 64343, 64344, 64345], 1663: [64354, 64355, 64356, 64357], 1664: [64346, 64347, 64348, 64349], 1667: [64374, 64375, 64376, 64377], 1668: [64370, 64371, 64372, 64373], 1670: [64378, 64379, 64380, 64381], 1671: [64382, 64383, 64384, 64385], 1672: [64392, 64393], 1676: [64388, 64389], 1677: [64386, 64387], 1678: [64390, 64391], 1681: [64396, 64397], 1688: [64394, 64395], 1700: [64362, 64363, 64364, 64365], 1702: [64366, 64367, 64368, 64369], 1705: [64398, 64399, 64400, 64401], 1709: [64467, 64468, 64469, 64470], 1711: [64402, 64403, 64404, 64405], 1713: [64410, 64411, 64412, 64413], 1715: [64406, 64407, 64408, 64409], 1722: [64414, 64415], 1723: [64416, 64417, 64418, 64419], 1726: [64426, 64427, 64428, 64429], 1728: [64420, 64421], 1729: [64422, 64423, 64424, 64425], 1733: [64480, 64481], 1734: [64473, 64474], 1735: [64471, 64472], 1736: [64475, 64476], 1737: [64482, 64483], 1739: [64478, 64479], 1740: [64508, 64509, 64510, 64511], 1744: [64484, 64485, 64486, 64487], 1746: [64430, 64431], 1747: [64432, 64433] }, t = { 65247: { 65154: 65269, 65156: 65271, 65160: 65273, 65166: 65275 }, 65248: { 65154: 65270, 65156: 65272, 65160: 65274, 65166: 65276 }, 65165: { 65247: { 65248: { 65258: 65010 } } }, 1617: { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 } }, r = { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 }, i = [1570, 1571, 1573, 1575]; n.__arabicParser__ = {}; var s = n.__arabicParser__.isInArabicSubstitutionA = function (y) { return e[y.charCodeAt(0)] !== void 0 }, a = n.__arabicParser__.isArabicLetter = function (y) { return typeof y == "string" && /^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y) }, o = n.__arabicParser__.isArabicEndLetter = function (y) { return a(y) && s(y) && e[y.charCodeAt(0)].length <= 2 }, A = n.__arabicParser__.isArabicAlfLetter = function (y) { return a(y) && i.indexOf(y.charCodeAt(0)) >= 0 }; n.__arabicParser__.arabicLetterHasIsolatedForm = function (y) { return a(y) && s(y) && e[y.charCodeAt(0)].length >= 1 }; var u = n.__arabicParser__.arabicLetterHasFinalForm = function (y) { return a(y) && s(y) && e[y.charCodeAt(0)].length >= 2 }; n.__arabicParser__.arabicLetterHasInitialForm = function (y) { return a(y) && s(y) && e[y.charCodeAt(0)].length >= 3 }; var f = n.__arabicParser__.arabicLetterHasMedialForm = function (y) { return a(y) && s(y) && e[y.charCodeAt(0)].length == 4 }, h = n.__arabicParser__.resolveLigatures = function (y) { var E = 0, _ = t, O = "", I = 0; for (E = 0; E < y.length; E += 1)_[y.charCodeAt(E)] !== void 0 ? (I++, typeof (_ = _[y.charCodeAt(E)]) == "number" && (O += String.fromCharCode(_), _ = t, I = 0), E === y.length - 1 && (_ = t, O += y.charAt(E - (I - 1)), E -= I - 1, I = 0)) : (_ = t, O += y.charAt(E - I), E -= I, I = 0); return O }; n.__arabicParser__.isArabicDiacritic = function (y) { return y !== void 0 && r[y.charCodeAt(0)] !== void 0 }; var m = n.__arabicParser__.getCorrectForm = function (y, E, _) { return a(y) ? s(y) === !1 ? -1 : !u(y) || !a(E) && !a(_) || !a(_) && o(E) || o(y) && !a(E) || o(y) && A(E) || o(y) && o(E) ? 0 : f(y) && a(E) && !o(E) && a(_) && u(_) ? 3 : o(y) || !a(_) ? 1 : 2 : -1 }, p = function (y) { var E = 0, _ = 0, O = 0, I = "", D = "", z = "", X = (y = y || "").split("\\s+"), q = []; for (E = 0; E < X.length; E += 1) { for (q.push(""), _ = 0; _ < X[E].length; _ += 1)I = X[E][_], D = X[E][_ - 1], z = X[E][_ + 1], a(I) ? (O = m(I, D, z), q[E] += O !== -1 ? String.fromCharCode(e[I.charCodeAt(0)][O]) : I) : q[E] += I; q[E] = h(q[E]) } return q.join(" ") }, b = n.__arabicParser__.processArabic = n.processArabic = function () { var y, E = typeof arguments[0] == "string" ? arguments[0] : arguments[0].text, _ = []; if (Array.isArray(E)) { var O = 0; for (_ = [], O = 0; O < E.length; O += 1)Array.isArray(E[O]) ? _.push([p(E[O][0]), E[O][1], E[O][2]]) : _.push([p(E[O])]); y = _ } else y = p(E); return typeof arguments[0] == "string" ? y : (arguments[0].text = y, arguments[0]) }; n.events.push(["preProcessText", b]) })(mn.API), mn.API.autoPrint = function (n) { var e; return (n = n || {}).variant = n.variant || "non-conform", n.variant === "javascript" ? this.addJS("print({});") : (this.internal.events.subscribe("postPutResources", function () { e = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /Named"), this.internal.out("/Type /Action"), this.internal.out("/N /Print"), this.internal.out(">>"), this.internal.out("endobj") }), this.internal.events.subscribe("putCatalog", function () { this.internal.out("/OpenAction " + e + " 0 R") })), this }, (function (n) { var e = function () { var t = void 0; Object.defineProperty(this, "pdf", { get: function () { return t }, set: function (o) { t = o } }); var r = 150; Object.defineProperty(this, "width", { get: function () { return r }, set: function (o) { r = isNaN(o) || Number.isInteger(o) === !1 || o < 0 ? 150 : o, this.getContext("2d").pageWrapXEnabled && (this.getContext("2d").pageWrapX = r + 1) } }); var i = 300; Object.defineProperty(this, "height", { get: function () { return i }, set: function (o) { i = isNaN(o) || Number.isInteger(o) === !1 || o < 0 ? 300 : o, this.getContext("2d").pageWrapYEnabled && (this.getContext("2d").pageWrapY = i + 1) } }); var s = []; Object.defineProperty(this, "childNodes", { get: function () { return s }, set: function (o) { s = o } }); var a = {}; Object.defineProperty(this, "style", { get: function () { return a }, set: function (o) { a = o } }), Object.defineProperty(this, "parentNode", {}) }; e.prototype.getContext = function (t, r) { var i; if ((t = t || "2d") !== "2d") return null; for (i in r) this.pdf.context2d.hasOwnProperty(i) && (this.pdf.context2d[i] = r[i]); return this.pdf.context2d._canvas = this, this.pdf.context2d }, e.prototype.toDataURL = function () { throw new Error("toDataURL is not implemented.") }, n.events.push(["initialized", function () { this.canvas = new e, this.canvas.pdf = this }]) })(mn.API), (function (n) { var e = { left: 0, top: 0, bottom: 0, right: 0 }, t = !1, r = function () { this.internal.__cell__ === void 0 && (this.internal.__cell__ = {}, this.internal.__cell__.padding = 3, this.internal.__cell__.headerFunction = void 0, this.internal.__cell__.margins = Object.assign({}, e), this.internal.__cell__.margins.width = this.getPageWidth(), i.call(this)) }, i = function () { this.internal.__cell__.lastCell = new s, this.internal.__cell__.pages = 1 }, s = function () { var A = arguments[0]; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return A }, set: function (y) { A = y } }); var u = arguments[1]; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return u }, set: function (y) { u = y } }); var f = arguments[2]; Object.defineProperty(this, "width", { enumerable: !0, get: function () { return f }, set: function (y) { f = y } }); var h = arguments[3]; Object.defineProperty(this, "height", { enumerable: !0, get: function () { return h }, set: function (y) { h = y } }); var m = arguments[4]; Object.defineProperty(this, "text", { enumerable: !0, get: function () { return m }, set: function (y) { m = y } }); var p = arguments[5]; Object.defineProperty(this, "lineNumber", { enumerable: !0, get: function () { return p }, set: function (y) { p = y } }); var b = arguments[6]; return Object.defineProperty(this, "align", { enumerable: !0, get: function () { return b }, set: function (y) { b = y } }), this }; s.prototype.clone = function () { return new s(this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align) }, s.prototype.toArray = function () { return [this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align] }, n.setHeaderFunction = function (A) { return r.call(this), this.internal.__cell__.headerFunction = typeof A == "function" ? A : void 0, this }, n.getTextDimensions = function (A, u) { r.call(this); var f = (u = u || {}).fontSize || this.getFontSize(), h = u.font || this.getFont(), m = u.scaleFactor || this.internal.scaleFactor, p = 0, b = 0, y = 0, E = this; if (!Array.isArray(A) && typeof A != "string") { if (typeof A != "number") throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings."); A = String(A) } var _ = u.maxWidth; _ > 0 ? typeof A == "string" ? A = this.splitTextToSize(A, _) : Object.prototype.toString.call(A) === "[object Array]" && (A = A.reduce(function (I, D) { return I.concat(E.splitTextToSize(D, _)) }, [])) : A = Array.isArray(A) ? A : [A]; for (var O = 0; O < A.length; O++)p < (y = this.getStringUnitWidth(A[O], { font: h }) * f) && (p = y); return p !== 0 && (b = A.length), { w: p /= m, h: Math.max((b * f * this.getLineHeightFactor() - f * (this.getLineHeightFactor() - 1)) / m, 0) } }, n.cellAddPage = function () { r.call(this), this.addPage(); var A = this.internal.__cell__.margins || e; return this.internal.__cell__.lastCell = new s(A.left, A.top, void 0, void 0), this.internal.__cell__.pages += 1, this }; var a = n.cell = function () { var A; A = arguments[0] instanceof s ? arguments[0] : new s(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]), r.call(this); var u = this.internal.__cell__.lastCell, f = this.internal.__cell__.padding, h = this.internal.__cell__.margins || e, m = this.internal.__cell__.tableHeaderRow, p = this.internal.__cell__.printHeaders; return u.lineNumber !== void 0 && (u.lineNumber === A.lineNumber ? (A.x = (u.x || 0) + (u.width || 0), A.y = u.y || 0) : u.y + u.height + A.height + h.bottom > this.getPageHeight() ? (this.cellAddPage(), A.y = h.top, p && m && (this.printHeaderRow(A.lineNumber, !0), A.y += m[0].height)) : A.y = u.y + u.height || A.y), A.text[0] !== void 0 && (this.rect(A.x, A.y, A.width, A.height, t === !0 ? "FD" : void 0), A.align === "right" ? this.text(A.text, A.x + A.width - f, A.y + f, { align: "right", baseline: "top" }) : A.align === "center" ? this.text(A.text, A.x + A.width / 2, A.y + f, { align: "center", baseline: "top", maxWidth: A.width - f - f }) : this.text(A.text, A.x + f, A.y + f, { align: "left", baseline: "top", maxWidth: A.width - f - f })), this.internal.__cell__.lastCell = A, this }; n.table = function (A, u, f, h, m) { if (r.call(this), !f) throw new Error("No data for PDF table."); var p, b, y, E, _ = [], O = [], I = [], D = {}, z = {}, X = [], q = [], W = (m = m || {}).autoSize || !1, G = m.printHeaders !== !1, fe = m.css && m.css["font-size"] !== void 0 ? 16 * m.css["font-size"] : m.fontSize || 12, ne = m.margins || Object.assign({ width: this.getPageWidth() }, e), V = typeof m.padding == "number" ? m.padding : 3, se = m.headerBackgroundColor || "#c8c8c8", M = m.headerTextColor || "#000"; if (i.call(this), this.internal.__cell__.printHeaders = G, this.internal.__cell__.margins = ne, this.internal.__cell__.table_font_size = fe, this.internal.__cell__.padding = V, this.internal.__cell__.headerBackgroundColor = se, this.internal.__cell__.headerTextColor = M, this.setFontSize(fe), h == null) O = _ = Object.keys(f[0]), I = _.map(function () { return "left" }); else if (Array.isArray(h) && Ei(h[0]) === "object") for (_ = h.map(function (Ce) { return Ce.name }), O = h.map(function (Ce) { return Ce.prompt || Ce.name || "" }), I = h.map(function (Ce) { return Ce.align || "left" }), p = 0; p < h.length; p += 1)z[h[p].name] = .7499990551181103 * h[p].width; else Array.isArray(h) && typeof h[0] == "string" && (O = _ = h, I = _.map(function () { return "left" })); if (W || Array.isArray(h) && typeof h[0] == "string") for (p = 0; p < _.length; p += 1) { for (D[E = _[p]] = f.map(function (Ce) { return Ce[E] }), this.setFont(void 0, "bold"), X.push(this.getTextDimensions(O[p], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w), b = D[E], this.setFont(void 0, "normal"), y = 0; y < b.length; y += 1)X.push(this.getTextDimensions(b[y], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w); z[E] = Math.max.apply(null, X) + V + V, X = [] } if (G) { var pe = {}; for (p = 0; p < _.length; p += 1)pe[_[p]] = {}, pe[_[p]].text = O[p], pe[_[p]].align = I[p]; var Z = o.call(this, pe, z); q = _.map(function (Ce) { return new s(A, u, z[Ce], Z, pe[Ce].text, void 0, pe[Ce].align) }), this.setTableHeaderRow(q), this.printHeaderRow(1, !1) } var ae = h.reduce(function (Ce, j) { return Ce[j.name] = j.align, Ce }, {}); for (p = 0; p < f.length; p += 1) { "rowStart" in m && m.rowStart instanceof Function && m.rowStart({ row: p, data: f[p] }, this); var me = o.call(this, f[p], z); for (y = 0; y < _.length; y += 1) { var ke = f[p][_[y]]; "cellStart" in m && m.cellStart instanceof Function && m.cellStart({ row: p, col: y, data: ke }, this), a.call(this, new s(A, u, z[_[y]], me, ke, p + 2, ae[_[y]])) } } return this.internal.__cell__.table_x = A, this.internal.__cell__.table_y = u, this }; var o = function (A, u) { var f = this.internal.__cell__.padding, h = this.internal.__cell__.table_font_size, m = this.internal.scaleFactor; return Object.keys(A).map(function (p) { var b = A[p]; return this.splitTextToSize(b.hasOwnProperty("text") ? b.text : b, u[p] - f - f) }, this).map(function (p) { return this.getLineHeightFactor() * p.length * h / m + f + f }, this).reduce(function (p, b) { return Math.max(p, b) }, 0) }; n.setTableHeaderRow = function (A) { r.call(this), this.internal.__cell__.tableHeaderRow = A }, n.printHeaderRow = function (A, u) { if (r.call(this), !this.internal.__cell__.tableHeaderRow) throw new Error("Property tableHeaderRow does not exist."); var f; if (t = !0, typeof this.internal.__cell__.headerFunction == "function") { var h = this.internal.__cell__.headerFunction(this, this.internal.__cell__.pages); this.internal.__cell__.lastCell = new s(h[0], h[1], h[2], h[3], void 0, -1) } this.setFont(void 0, "bold"); for (var m = [], p = 0; p < this.internal.__cell__.tableHeaderRow.length; p += 1) { f = this.internal.__cell__.tableHeaderRow[p].clone(), u && (f.y = this.internal.__cell__.margins.top || 0, m.push(f)), f.lineNumber = A; var b = this.getTextColor(); this.setTextColor(this.internal.__cell__.headerTextColor), this.setFillColor(this.internal.__cell__.headerBackgroundColor), a.call(this, f), this.setTextColor(b) } m.length > 0 && this.setTableHeaderRow(m), this.setFont(void 0, "normal"), t = !1 } })(mn.API); var nD = { italic: ["italic", "oblique", "normal"], oblique: ["oblique", "italic", "normal"], normal: ["normal", "oblique", "italic"] }, rD = ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded"], N5 = tD(rD), iD = [100, 200, 300, 400, 500, 600, 700, 800, 900], lue = tD(iD); function MB(n) { var e = n.family.replace(/"|'/g, "").toLowerCase(), t = (function (s) { return nD[s = s || "normal"] ? s : "normal" })(n.style), r = (function (s) { return s ? typeof s == "number" ? s >= 100 && s <= 900 && s % 100 == 0 ? s : 400 : /^\d00$/.test(s) ? parseInt(s) : s === "bold" ? 700 : 400 : 400 })(n.weight), i = (function (s) { return typeof N5[s = s || "normal"] == "number" ? s : "normal" })(n.stretch); return { family: e, style: t, weight: r, stretch: i, src: n.src || [], ref: n.ref || { name: e, style: [i, t, r].join(" ") } } } function dF(n, e, t, r) { var i; for (i = t; i >= 0 && i < e.length; i += r)if (n[e[i]]) return n[e[i]]; for (i = t; i >= 0 && i < e.length; i -= r)if (n[e[i]]) return n[e[i]] } var Aue = { "sans-serif": "helvetica", fixed: "courier", monospace: "courier", terminal: "courier", cursive: "times", fantasy: "times", serif: "times" }, hF = { caption: "times", icon: "times", menu: "times", "message-box": "times", "small-caption": "times", "status-bar": "times" }; function pF(n) { return [n.stretch, n.style, n.weight, n.family].join(" ") } function gF(n) { return n.trimLeft() } function cue(n, e) { for (var t = 0; t < n.length;) { if (n.charAt(t) === e) return [n.substring(0, t), n.substring(t + 1)]; t += 1 } return null } function uue(n) { var e = n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i); return e === null ? null : [e[0], n.substring(e[0].length)] } var l1, mF, vF, tg, A1, yF, wF, bF, QB = ["times"]; function xF(n, e, t, r, i) { var s = 4, a = CF; switch (i) { case mn.API.image_compression.FAST: s = 1, a = BF; break; case mn.API.image_compression.MEDIUM: s = 6, a = EF; break; case mn.API.image_compression.SLOW: s = 9, a = SF }n = (function (A, u, f, h) { for (var m, p = A.length / u, b = new Uint8Array(A.length + p), y = [fue, BF, CF, EF, SF], E = 0; E < p; E += 1) { var _ = E * u, O = A.subarray(_, _ + u); if (h) b.set(h(O, f, m), _ + E); else { for (var I = y.length, D = [], z = 0; z < I; z += 1)D[z] = y[z](O, f, m); var X = hue(D.concat()); b.set(D[X], _ + E) } m = O } return b })(n, e, Math.ceil(t * r / 8), a); var o = b5(n, { level: s }); return mn.API.__addimage__.arrayBufferToBinaryString(o) } function fue(n) { var e = Array.apply([], n); return e.unshift(0), e } function BF(n, e) { var t = n.length, r = []; r[0] = 1; for (var i = 0; i < t; i += 1) { var s = n[i - e] || 0; r[i + 1] = n[i] - s + 256 & 255 } return r } function CF(n, e, t) { var r = n.length, i = []; i[0] = 2; for (var s = 0; s < r; s += 1) { var a = t && t[s] || 0; i[s + 1] = n[s] - a + 256 & 255 } return i } function EF(n, e, t) { var r = n.length, i = []; i[0] = 3; for (var s = 0; s < r; s += 1) { var a = n[s - e] || 0, o = t && t[s] || 0; i[s + 1] = n[s] + 256 - (a + o >>> 1) & 255 } return i } function SF(n, e, t) { var r = n.length, i = []; i[0] = 4; for (var s = 0; s < r; s += 1) { var a = due(n[s - e] || 0, t && t[s] || 0, t && t[s - e] || 0); i[s + 1] = n[s] - a + 256 & 255 } return i } function due(n, e, t) { if (n === e && e === t) return n; var r = Math.abs(e - t), i = Math.abs(n - t), s = Math.abs(n + e - t - t); return r <= i && r <= s ? n : i <= s ? e : t } function hue(n) { var e = n.map(function (t) { return t.reduce(function (r, i) { return r + Math.abs(i) }, 0) }); return e.indexOf(Math.min.apply(null, e)) } function DB(n, e, t) { var r = e * t, i = Math.floor(r / 8), s = 16 - (r - 8 * i + t), a = (1 << t) - 1; return sD(n, i) >> s & a } function _F(n, e, t, r) { var i = t * r, s = Math.floor(i / 8), a = 16 - (i - 8 * s + r), o = (1 << r) - 1, A = (e & o) << a; (function (u, f, h) { if (f + 1 < u.byteLength) u.setUint16(f, h, !1); else { var m = h >> 8 & 255; u.setUint8(f, m) } })(n, s, sD(n, s) & ~(o << a) & 65535 | A) } function sD(n, e) { return e + 1 < n.byteLength ? n.getUint16(e, !1) : n.getUint8(e) << 8 } function pue(n) { var e = 0; if (n[e++] !== 71 || n[e++] !== 73 || n[e++] !== 70 || n[e++] !== 56 || (n[e++] + 1 & 253) != 56 || n[e++] !== 97) throw new Error("Invalid GIF 87a/89a header."); var t = n[e++] | n[e++] << 8, r = n[e++] | n[e++] << 8, i = n[e++], s = i >> 7, a = 1 << 1 + (7 & i); n[e++], n[e++]; var o = null, A = null; s && (o = e, A = a, e += 3 * a); var u = !0, f = [], h = 0, m = null, p = 0, b = null; for (this.width = t, this.height = r; u && e < n.length;)switch (n[e++]) { case 33: switch (n[e++]) { case 255: if (n[e] !== 11 || n[e + 1] == 78 && n[e + 2] == 69 && n[e + 3] == 84 && n[e + 4] == 83 && n[e + 5] == 67 && n[e + 6] == 65 && n[e + 7] == 80 && n[e + 8] == 69 && n[e + 9] == 50 && n[e + 10] == 46 && n[e + 11] == 48 && n[e + 12] == 3 && n[e + 13] == 1 && n[e + 16] == 0) e += 14, b = n[e++] | n[e++] << 8, e++; else for (e += 12; ;) { if (!((ne = n[e++]) >= 0)) throw Error("Invalid block size"); if (ne === 0) break; e += ne } break; case 249: if (n[e++] !== 4 || n[e + 4] !== 0) throw new Error("Invalid graphics extension block."); var y = n[e++]; h = n[e++] | n[e++] << 8, m = n[e++], 1 & y || (m = null), p = y >> 2 & 7, e++; break; case 254: for (; ;) { if (!((ne = n[e++]) >= 0)) throw Error("Invalid block size"); if (ne === 0) break; e += ne } break; default: throw new Error("Unknown graphic control label: 0x" + n[e - 1].toString(16)) }break; case 44: var E = n[e++] | n[e++] << 8, _ = n[e++] | n[e++] << 8, O = n[e++] | n[e++] << 8, I = n[e++] | n[e++] << 8, D = n[e++], z = D >> 6 & 1, X = 1 << 1 + (7 & D), q = o, W = A, G = !1; D >> 7 && (G = !0, q = e, W = X, e += 3 * X); var fe = e; for (e++; ;) { var ne; if (!((ne = n[e++]) >= 0)) throw Error("Invalid block size"); if (ne === 0) break; e += ne } f.push({ x: E, y: _, width: O, height: I, has_local_palette: G, palette_offset: q, palette_size: W, data_offset: fe, data_length: e - fe, transparent_index: m, interlaced: !!z, delay: h, disposal: p }); break; case 59: u = !1; break; default: throw new Error("Unknown gif block: 0x" + n[e - 1].toString(16)) }this.numFrames = function () { return f.length }, this.loopCount = function () { return b }, this.frameInfo = function (V) { if (V < 0 || V >= f.length) throw new Error("Frame index out of range."); return f[V] }, this.decodeAndBlitFrameBGRA = function (V, se) { var M = this.frameInfo(V), pe = M.width * M.height, Z = new Uint8Array(pe); NF(n, M.data_offset, Z, pe); var ae = M.palette_offset, me = M.transparent_index; me === null && (me = 256); var ke = M.width, Ce = t - ke, j = ke, L = 4 * (M.y * t + M.x), re = 4 * ((M.y + M.height) * t + M.x), ie = L, oe = 4 * Ce; M.interlaced === !0 && (oe += 4 * t * 7); for (var de = 8, Be = 0, Re = Z.length; Be < Re; ++Be) { var Ie = Z[Be]; if (j === 0 && (j = ke, (ie += oe) >= re && (oe = 4 * Ce + 4 * t * (de - 1), ie = L + (ke + Ce) * (de << 1), de >>= 1)), Ie === me) ie += 4; else { var Ye = n[ae + 3 * Ie], $e = n[ae + 3 * Ie + 1], yt = n[ae + 3 * Ie + 2]; se[ie++] = yt, se[ie++] = $e, se[ie++] = Ye, se[ie++] = 255 } --j } }, this.decodeAndBlitFrameRGBA = function (V, se) { var M = this.frameInfo(V), pe = M.width * M.height, Z = new Uint8Array(pe); NF(n, M.data_offset, Z, pe); var ae = M.palette_offset, me = M.transparent_index; me === null && (me = 256); var ke = M.width, Ce = t - ke, j = ke, L = 4 * (M.y * t + M.x), re = 4 * ((M.y + M.height) * t + M.x), ie = L, oe = 4 * Ce; M.interlaced === !0 && (oe += 4 * t * 7); for (var de = 8, Be = 0, Re = Z.length; Be < Re; ++Be) { var Ie = Z[Be]; if (j === 0 && (j = ke, (ie += oe) >= re && (oe = 4 * Ce + 4 * t * (de - 1), ie = L + (ke + Ce) * (de << 1), de >>= 1)), Ie === me) ie += 4; else { var Ye = n[ae + 3 * Ie], $e = n[ae + 3 * Ie + 1], yt = n[ae + 3 * Ie + 2]; se[ie++] = Ye, se[ie++] = $e, se[ie++] = yt, se[ie++] = 255 } --j } } } function NF(n, e, t, r) { for (var i = n[e++], s = 1 << i, a = s + 1, o = a + 1, A = i + 1, u = (1 << A) - 1, f = 0, h = 0, m = 0, p = n[e++], b = new Int32Array(4096), y = null; ;) { for (; f < 16 && p !== 0;)h |= n[e++] << f, f += 8, p === 1 ? p = n[e++] : --p; if (f < A) break; var E = h & u; if (h >>= A, f -= A, E !== s) { if (E === a) break; for (var _ = E < o ? E : y, O = 0, I = _; I > s;)I = b[I] >> 8, ++O; var D = I; if (m + O + (_ !== E ? 1 : 0) > r) return void zi.log("Warning, gif stream longer than expected."); t[m++] = D; var z = m += O; for (_ !== E && (t[m++] = D), I = _; O--;)I = b[I], t[--z] = 255 & I, I >>= 8; y !== null && o < 4096 && (b[o++] = y << 8 | D, o >= u + 1 && A < 12 && (++A, u = u << 1 | 1)), y = E } else o = a + 1, u = (1 << (A = i + 1)) - 1, y = null } return m !== r && zi.log("Warning, gif stream shorter than expected."), t } function PB(n) { var e, t, r, i, s, a = Math.floor, o = new Array(64), A = new Array(64), u = new Array(64), f = new Array(64), h = new Array(65535), m = new Array(65535), p = new Array(64), b = new Array(64), y = [], E = 0, _ = 7, O = new Array(64), I = new Array(64), D = new Array(64), z = new Array(256), X = new Array(2048), q = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63], W = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], G = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], fe = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125], ne = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250], V = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], se = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], M = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119], pe = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250]; function Z(L, re) { for (var ie = 0, oe = 0, de = new Array, Be = 1; Be <= 16; Be++) { for (var Re = 1; Re <= L[Be]; Re++)de[re[oe]] = [], de[re[oe]][0] = ie, de[re[oe]][1] = Be, oe++, ie++; ie *= 2 } return de } function ae(L) { for (var re = L[0], ie = L[1] - 1; ie >= 0;)re & 1 << ie && (E |= 1 << _), ie--, --_ < 0 && (E == 255 ? (me(255), me(0)) : me(E), _ = 7, E = 0) } function me(L) { y.push(L) } function ke(L) { me(L >> 8 & 255), me(255 & L) } function Ce(L, re, ie, oe, de) { for (var Be, Re = de[0], Ie = de[240], Ye = (function (Ne, tt) { var Je, Qe, lt, Bt, st, Ct, Xt, Lt, Ft, bn, Pt = 0; for (Ft = 0; Ft < 8; ++Ft) { Je = Ne[Pt], Qe = Ne[Pt + 1], lt = Ne[Pt + 2], Bt = Ne[Pt + 3], st = Ne[Pt + 4], Ct = Ne[Pt + 5], Xt = Ne[Pt + 6]; var Br = Je + (Lt = Ne[Pt + 7]), en = Je - Lt, nn = Qe + Xt, vn = Qe - Xt, En = lt + Ct, rn = lt - Ct, Fr = Bt + st, Qt = Bt - st, Wt = Br + Fr, Cr = Br - Fr, hn = nn + En, Zt = nn - En; Ne[Pt] = Wt + hn, Ne[Pt + 4] = Wt - hn; var ar = .707106781 * (Zt + Cr); Ne[Pt + 2] = Cr + ar, Ne[Pt + 6] = Cr - ar; var Xs = .382683433 * ((Wt = Qt + rn) - (Zt = vn + en)), $r = .5411961 * Wt + Xs, So = 1.306562965 * Zt + Xs, Qa = .707106781 * (hn = rn + vn), pn = en + Qa, rl = en - Qa; Ne[Pt + 5] = rl + $r, Ne[Pt + 3] = rl - $r, Ne[Pt + 1] = pn + So, Ne[Pt + 7] = pn - So, Pt += 8 } for (Pt = 0, Ft = 0; Ft < 8; ++Ft) { Je = Ne[Pt], Qe = Ne[Pt + 8], lt = Ne[Pt + 16], Bt = Ne[Pt + 24], st = Ne[Pt + 32], Ct = Ne[Pt + 40], Xt = Ne[Pt + 48]; var ma = Je + (Lt = Ne[Pt + 56]), Cs = Je - Lt, Mr = Qe + Xt, Ar = Qe - Xt, Kn = lt + Ct, Li = lt - Ct, Vi = Bt + st, rr = Bt - st, Kr = ma + Vi, fi = ma - Vi, cs = Mr + Kn, va = Mr - Kn; Ne[Pt] = Kr + cs, Ne[Pt + 32] = Kr - cs; var Is = .707106781 * (va + fi); Ne[Pt + 16] = fi + Is, Ne[Pt + 48] = fi - Is; var Vl = .382683433 * ((Kr = rr + Li) - (va = Ar + Cs)), $n = .5411961 * Kr + Vl, cr = 1.306562965 * va + Vl, $a = .707106781 * (cs = Li + Ar), mi = Cs + $a, _o = Cs - $a; Ne[Pt + 40] = _o + $n, Ne[Pt + 24] = _o - $n, Ne[Pt + 8] = mi + cr, Ne[Pt + 56] = mi - cr, Pt++ } for (Ft = 0; Ft < 64; ++Ft)bn = Ne[Ft] * tt[Ft], p[Ft] = bn > 0 ? bn + .5 | 0 : bn - .5 | 0; return p })(L, re), $e = 0; $e < 64; ++$e)b[q[$e]] = Ye[$e]; var yt = b[0] - ie; ie = b[0], yt == 0 ? ae(oe[0]) : (ae(oe[m[Be = 32767 + yt]]), ae(h[Be])); for (var at = 63; at > 0 && b[at] == 0;)at--; if (at == 0) return ae(Re), ie; for (var $, Ae = 1; Ae <= at;) { for (var Me = Ae; b[Ae] == 0 && Ae <= at;)++Ae; var _e = Ae - Me; if (_e >= 16) { $ = _e >> 4; for (var we = 1; we <= $; ++we)ae(Ie); _e &= 15 } Be = 32767 + b[Ae], ae(de[(_e << 4) + m[Be]]), ae(h[Be]), Ae++ } return at != 63 && ae(Re), ie } function j(L) { L = Math.min(Math.max(L, 1), 100), s != L && ((function (re) { for (var ie = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99], oe = 0; oe < 64; oe++) { var de = a((ie[oe] * re + 50) / 100); de = Math.min(Math.max(de, 1), 255), o[q[oe]] = de } for (var Be = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99], Re = 0; Re < 64; Re++) { var Ie = a((Be[Re] * re + 50) / 100); Ie = Math.min(Math.max(Ie, 1), 255), A[q[Re]] = Ie } for (var Ye = [1, 1.387039845, 1.306562965, 1.175875602, 1, .785694958, .5411961, .275899379], $e = 0, yt = 0; yt < 8; yt++)for (var at = 0; at < 8; at++)u[$e] = 1 / (o[q[$e]] * Ye[yt] * Ye[at] * 8), f[$e] = 1 / (A[q[$e]] * Ye[yt] * Ye[at] * 8), $e++ })(L < 50 ? Math.floor(5e3 / L) : Math.floor(200 - 2 * L)), s = L) } this.encode = function (L, re) { re && j(re), y = new Array, E = 0, _ = 7, ke(65496), ke(65504), ke(16), me(74), me(70), me(73), me(70), me(0), me(1), me(1), me(0), ke(1), ke(1), me(0), me(0), (function () { ke(65499), ke(132), me(0); for (var Qe = 0; Qe < 64; Qe++)me(o[Qe]); me(1); for (var lt = 0; lt < 64; lt++)me(A[lt]) })(), (function (Qe, lt) { ke(65472), ke(17), me(8), ke(lt), ke(Qe), me(3), me(1), me(17), me(0), me(2), me(17), me(1), me(3), me(17), me(1) })(L.width, L.height), (function () { ke(65476), ke(418), me(0); for (var Qe = 0; Qe < 16; Qe++)me(W[Qe + 1]); for (var lt = 0; lt <= 11; lt++)me(G[lt]); me(16); for (var Bt = 0; Bt < 16; Bt++)me(fe[Bt + 1]); for (var st = 0; st <= 161; st++)me(ne[st]); me(1); for (var Ct = 0; Ct < 16; Ct++)me(V[Ct + 1]); for (var Xt = 0; Xt <= 11; Xt++)me(se[Xt]); me(17); for (var Lt = 0; Lt < 16; Lt++)me(M[Lt + 1]); for (var Ft = 0; Ft <= 161; Ft++)me(pe[Ft]) })(), ke(65498), ke(12), me(3), me(1), me(0), me(2), me(17), me(3), me(17), me(0), me(63), me(0); var ie = 0, oe = 0, de = 0; E = 0, _ = 7, this.encode.displayName = "_encode_"; for (var Be, Re, Ie, Ye, $e, yt, at, $, Ae, Me = L.data, _e = L.width, we = L.height, Ne = 4 * _e, tt = 0; tt < we;) { for (Be = 0; Be < Ne;) { for ($e = Ne * tt + Be, at = -1, $ = 0, Ae = 0; Ae < 64; Ae++)yt = $e + ($ = Ae >> 3) * Ne + (at = 4 * (7 & Ae)), tt + $ >= we && (yt -= Ne * (tt + 1 + $ - we)), Be + at >= Ne && (yt -= Be + at - Ne + 4), Re = Me[yt++], Ie = Me[yt++], Ye = Me[yt++], O[Ae] = (X[Re] + X[Ie + 256 | 0] + X[Ye + 512 | 0] >> 16) - 128, I[Ae] = (X[Re + 768 | 0] + X[Ie + 1024 | 0] + X[Ye + 1280 | 0] >> 16) - 128, D[Ae] = (X[Re + 1280 | 0] + X[Ie + 1536 | 0] + X[Ye + 1792 | 0] >> 16) - 128; ie = Ce(O, u, ie, e, r), oe = Ce(I, f, oe, t, i), de = Ce(D, f, de, t, i), Be += 32 } tt += 8 } if (_ >= 0) { var Je = []; Je[1] = _ + 1, Je[0] = (1 << _ + 1) - 1, ae(Je) } return ke(65497), new Uint8Array(y) }, n = n || 50, (function () { for (var L = String.fromCharCode, re = 0; re < 256; re++)z[re] = L(re) })(), e = Z(W, G), t = Z(V, se), r = Z(fe, ne), i = Z(M, pe), (function () { for (var L = 1, re = 2, ie = 1; ie <= 15; ie++) { for (var oe = L; oe < re; oe++)m[32767 + oe] = ie, h[32767 + oe] = [], h[32767 + oe][1] = ie, h[32767 + oe][0] = oe; for (var de = -(re - 1); de <= -L; de++)m[32767 + de] = ie, h[32767 + de] = [], h[32767 + de][1] = ie, h[32767 + de][0] = re - 1 + de; L <<= 1, re <<= 1 } })(), (function () { for (var L = 0; L < 256; L++)X[L] = 19595 * L, X[L + 256 | 0] = 38470 * L, X[L + 512 | 0] = 7471 * L + 32768, X[L + 768 | 0] = -11059 * L, X[L + 1024 | 0] = -21709 * L, X[L + 1280 | 0] = 32768 * L + 8421375, X[L + 1536 | 0] = -27439 * L, X[L + 1792 | 0] = -5329 * L })(), j(n) } function Qc(n, e) { if (this.pos = 0, this.buffer = n, this.datav = new DataView(n.buffer), this.is_with_alpha = !!e, this.bottom_up = !0, this.flag = String.fromCharCode(this.buffer[0]) + String.fromCharCode(this.buffer[1]), this.pos += 2, ["BM", "BA", "CI", "CP", "IC", "PT"].indexOf(this.flag) === -1) throw new Error("Invalid BMP File"); this.parseHeader(), this.parseBGR() } function kF(n) { function e(G) { if (!G) throw Error("assert :P") } function t(G, fe, ne) { for (var V = 0; 4 > V; V++)if (G[fe + V] != ne.charCodeAt(V)) return !0; return !1 } function r(G, fe, ne, V, se) { for (var M = 0; M < se; M++)G[fe + M] = ne[V + M] } function i(G, fe, ne, V) { for (var se = 0; se < V; se++)G[fe + se] = ne } function s(G) { return new Int32Array(G) } function a(G, fe) { for (var ne = [], V = 0; V < G; V++)ne.push(new fe); return ne } function o(G, fe) { var ne = []; return (function V(se, M, pe) { for (var Z = pe[M], ae = 0; ae < Z && (se.push(pe.length > M + 1 ? [] : new fe), !(pe.length < M + 1)); ae++)V(se[ae], M + 1, pe) })(ne, 0, G), ne } var A = function () { var G = this; function fe(C, k) { for (var P = 1 << k - 1 >>> 0; C & P;)P >>>= 1; return P ? (C & P - 1) + P : C } function ne(C, k, P, J, ce) { e(!(J % P)); do C[k + (J -= P)] = ce; while (0 < J) } function V(C, k, P, J, ce) { if (e(2328 >= ce), 512 >= ce) var he = s(512); else if ((he = s(ce)) == null) return 0; return (function (ge, ye, Ee, Se, Pe, et) { var Te, Ke, Xe = ye, pt = 1 << Ee, qe = s(16), ut = s(16); for (e(Pe != 0), e(Se != null), e(ge != null), e(0 < Ee), Ke = 0; Ke < Pe; ++Ke) { if (15 < Se[Ke]) return 0; ++qe[Se[Ke]] } if (qe[0] == Pe) return 0; for (ut[1] = 0, Te = 1; 15 > Te; ++Te) { if (qe[Te] > 1 << Te) return 0; ut[Te + 1] = ut[Te] + qe[Te] } for (Ke = 0; Ke < Pe; ++Ke)Te = Se[Ke], 0 < Se[Ke] && (et[ut[Te]++] = Ke); if (ut[15] == 1) return (Se = new se).g = 0, Se.value = et[0], ne(ge, Xe, 1, pt, Se), pt; var ht, Nt = -1, vt = pt - 1, Yt = 0, Mt = 1, Bn = 1, Dt = 1 << Ee; for (Ke = 0, Te = 1, Pe = 2; Te <= Ee; ++Te, Pe <<= 1) { if (Mt += Bn <<= 1, 0 > (Bn -= qe[Te])) return 0; for (; 0 < qe[Te]; --qe[Te])(Se = new se).g = Te, Se.value = et[Ke++], ne(ge, Xe + Yt, Pe, Dt, Se), Yt = fe(Yt, Te) } for (Te = Ee + 1, Pe = 2; 15 >= Te; ++Te, Pe <<= 1) { if (Mt += Bn <<= 1, 0 > (Bn -= qe[Te])) return 0; for (; 0 < qe[Te]; --qe[Te]) { if (Se = new se, (Yt & vt) != Nt) { for (Xe += Dt, ht = 1 << (Nt = Te) - Ee; 15 > Nt && !(0 >= (ht -= qe[Nt]));)++Nt, ht <<= 1; pt += Dt = 1 << (ht = Nt - Ee), ge[ye + (Nt = Yt & vt)].g = ht + Ee, ge[ye + Nt].value = Xe - ye - Nt } Se.g = Te - Ee, Se.value = et[Ke++], ne(ge, Xe + (Yt >> Ee), Pe, Dt, Se), Yt = fe(Yt, Te) } } return Mt != 2 * ut[15] - 1 ? 0 : pt })(C, k, P, J, ce, he) } function se() { this.value = this.g = 0 } function M() { this.value = this.g = 0 } function pe() { this.G = a(5, se), this.H = s(5), this.jc = this.Qb = this.qb = this.nd = 0, this.pd = a(Po, M) } function Z(C, k, P, J) { e(C != null), e(k != null), e(2147483648 > J), C.Ca = 254, C.I = 0, C.b = -8, C.Ka = 0, C.oa = k, C.pa = P, C.Jd = k, C.Yc = P + J, C.Zc = 4 <= J ? P + J - 4 + 1 : P, Re(C) } function ae(C, k) { for (var P = 0; 0 < k--;)P |= Ye(C, 128) << k; return P } function me(C, k) { var P = ae(C, k); return Ie(C) ? -P : P } function ke(C, k, P, J) { var ce, he = 0; for (e(C != null), e(k != null), e(4294967288 > J), C.Sb = J, C.Ra = 0, C.u = 0, C.h = 0, 4 < J && (J = 4), ce = 0; ce < J; ++ce)he += k[P + ce] << 8 * ce; C.Ra = he, C.bb = J, C.oa = k, C.pa = P } function Ce(C) { for (; 8 <= C.u && C.bb < C.Sb;)C.Ra >>>= 8, C.Ra += C.oa[C.pa + C.bb] << Ps - 8 >>> 0, ++C.bb, C.u -= 8; oe(C) && (C.h = 1, C.u = 0) } function j(C, k) { if (e(0 <= k), !C.h && k <= ea) { var P = ie(C) & Nr[k]; return C.u += k, Ce(C), P } return C.h = 1, C.u = 0 } function L() { this.b = this.Ca = this.I = 0, this.oa = [], this.pa = 0, this.Jd = [], this.Yc = 0, this.Zc = [], this.Ka = 0 } function re() { this.Ra = 0, this.oa = [], this.h = this.u = this.bb = this.Sb = this.pa = 0 } function ie(C) { return C.Ra >>> (C.u & Ps - 1) >>> 0 } function oe(C) { return e(C.bb <= C.Sb), C.h || C.bb == C.Sb && C.u > Ps } function de(C, k) { C.u = k, C.h = oe(C) } function Be(C) { C.u >= co && (e(C.u >= co), Ce(C)) } function Re(C) { e(C != null && C.oa != null), C.pa < C.Zc ? (C.I = (C.oa[C.pa++] | C.I << 8) >>> 0, C.b += 8) : (e(C != null && C.oa != null), C.pa < C.Yc ? (C.b += 8, C.I = C.oa[C.pa++] | C.I << 8) : C.Ka ? C.b = 0 : (C.I <<= 8, C.b += 8, C.Ka = 1)) } function Ie(C) { return ae(C, 1) } function Ye(C, k) { var P = C.Ca; 0 > C.b && Re(C); var J = C.b, ce = P * k >>> 8, he = (C.I >>> J > ce) + 0; for (he ? (P -= ce, C.I -= ce + 1 << J >>> 0) : P = ce + 1, J = P, ce = 0; 256 <= J;)ce += 8, J >>= 8; return J = 7 ^ ce + Ho[J], C.b -= J, C.Ca = (P << J) - 1, he } function $e(C, k, P) { C[k + 0] = P >> 24 & 255, C[k + 1] = P >> 16 & 255, C[k + 2] = P >> 8 & 255, C[k + 3] = 255 & P } function yt(C, k) { return C[k + 0] | C[k + 1] << 8 } function at(C, k) { return yt(C, k) | C[k + 2] << 16 } function $(C, k) { return yt(C, k) | yt(C, k + 2) << 16 } function Ae(C, k) { var P = 1 << k; return e(C != null), e(0 < k), C.X = s(P), C.X == null ? 0 : (C.Mb = 32 - k, C.Xa = k, 1) } function Me(C, k) { e(C != null), e(k != null), e(C.Xa == k.Xa), r(k.X, 0, C.X, 0, 1 << k.Xa) } function _e() { this.X = [], this.Xa = this.Mb = 0 } function we(C, k, P, J) { e(P != null), e(J != null); var ce = P[0], he = J[0]; return ce == 0 && (ce = (C * he + k / 2) / k), he == 0 && (he = (k * ce + C / 2) / C), 0 >= ce || 0 >= he ? 0 : (P[0] = ce, J[0] = he, 1) } function Ne(C, k) { return C + (1 << k) - 1 >>> k } function tt(C, k) { return ((4278255360 & C) + (4278255360 & k) >>> 0 & 4278255360) + ((16711935 & C) + (16711935 & k) >>> 0 & 16711935) >>> 0 } function Je(C, k) { G[k] = function (P, J, ce, he, ge, ye, Ee) { var Se; for (Se = 0; Se < ge; ++Se) { var Pe = G[C](ye[Ee + Se - 1], ce, he + Se); ye[Ee + Se] = tt(P[J + Se], Pe) } } } function Qe() { this.ud = this.hd = this.jd = 0 } function lt(C, k) { return ((4278124286 & (C ^ k)) >>> 1) + (C & k) >>> 0 } function Bt(C) { return 0 <= C && 256 > C ? C : 0 > C ? 0 : 255 < C ? 255 : void 0 } function st(C, k) { return Bt(C + (C - k + .5 >> 1)) } function Ct(C, k, P) { return Math.abs(k - P) - Math.abs(C - P) } function Xt(C, k, P, J, ce, he, ge) { for (J = he[ge - 1], P = 0; P < ce; ++P)he[ge + P] = J = tt(C[k + P], J) } function Lt(C, k, P, J, ce) { var he; for (he = 0; he < P; ++he) { var ge = C[k + he], ye = ge >> 8 & 255, Ee = 16711935 & (Ee = (Ee = 16711935 & ge) + ((ye << 16) + ye)); J[ce + he] = (4278255360 & ge) + Ee >>> 0 } } function Ft(C, k) { k.jd = 255 & C, k.hd = C >> 8 & 255, k.ud = C >> 16 & 255 } function bn(C, k, P, J, ce, he) { var ge; for (ge = 0; ge < J; ++ge) { var ye = k[P + ge], Ee = ye >>> 8, Se = ye, Pe = 255 & (Pe = (Pe = ye >>> 16) + ((C.jd << 24 >> 24) * (Ee << 24 >> 24) >>> 5)); Se = 255 & (Se = (Se += (C.hd << 24 >> 24) * (Ee << 24 >> 24) >>> 5) + ((C.ud << 24 >> 24) * (Pe << 24 >> 24) >>> 5)), ce[he + ge] = (4278255360 & ye) + (Pe << 16) + Se } } function Pt(C, k, P, J, ce) { G[k] = function (he, ge, ye, Ee, Se, Pe, et, Te, Ke) { for (Ee = et; Ee < Te; ++Ee)for (et = 0; et < Ke; ++et)Se[Pe++] = ce(ye[J(he[ge++])]) }, G[C] = function (he, ge, ye, Ee, Se, Pe, et) { var Te = 8 >> he.b, Ke = he.Ea, Xe = he.K[0], pt = he.w; if (8 > Te) for (he = (1 << he.b) - 1, pt = (1 << Te) - 1; ge < ye; ++ge) { var qe, ut = 0; for (qe = 0; qe < Ke; ++qe)qe & he || (ut = J(Ee[Se++])), Pe[et++] = ce(Xe[ut & pt]), ut >>= Te } else G["VP8LMapColor" + P](Ee, Se, Xe, pt, Pe, et, ge, ye, Ke) } } function Br(C, k, P, J, ce) { for (P = k + P; k < P;) { var he = C[k++]; J[ce++] = he >> 16 & 255, J[ce++] = he >> 8 & 255, J[ce++] = 255 & he } } function en(C, k, P, J, ce) { for (P = k + P; k < P;) { var he = C[k++]; J[ce++] = he >> 16 & 255, J[ce++] = he >> 8 & 255, J[ce++] = 255 & he, J[ce++] = he >> 24 & 255 } } function nn(C, k, P, J, ce) { for (P = k + P; k < P;) { var he = (ge = C[k++]) >> 16 & 240 | ge >> 12 & 15, ge = 240 & ge | ge >> 28 & 15; J[ce++] = he, J[ce++] = ge } } function vn(C, k, P, J, ce) { for (P = k + P; k < P;) { var he = (ge = C[k++]) >> 16 & 248 | ge >> 13 & 7, ge = ge >> 5 & 224 | ge >> 3 & 31; J[ce++] = he, J[ce++] = ge } } function En(C, k, P, J, ce) { for (P = k + P; k < P;) { var he = C[k++]; J[ce++] = 255 & he, J[ce++] = he >> 8 & 255, J[ce++] = he >> 16 & 255 } } function rn(C, k, P, J, ce, he) { if (he == 0) for (P = k + P; k < P;)$e(J, ((he = C[k++])[0] >> 24 | he[1] >> 8 & 65280 | he[2] << 8 & 16711680 | he[3] << 24) >>> 0), ce += 32; else r(J, ce, C, k, P) } function Fr(C, k) { G[k][0] = G[C + "0"], G[k][1] = G[C + "1"], G[k][2] = G[C + "2"], G[k][3] = G[C + "3"], G[k][4] = G[C + "4"], G[k][5] = G[C + "5"], G[k][6] = G[C + "6"], G[k][7] = G[C + "7"], G[k][8] = G[C + "8"], G[k][9] = G[C + "9"], G[k][10] = G[C + "10"], G[k][11] = G[C + "11"], G[k][12] = G[C + "12"], G[k][13] = G[C + "13"], G[k][14] = G[C + "0"], G[k][15] = G[C + "0"] } function Qt(C) { return C == Vr || C == ps || C == ho || C == js } function Wt() { this.eb = [], this.size = this.A = this.fb = 0 } function Cr() { this.y = [], this.f = [], this.ea = [], this.F = [], this.Tc = this.Ed = this.Cd = this.Fd = this.lb = this.Db = this.Ab = this.fa = this.J = this.W = this.N = this.O = 0 } function hn() { this.Rd = this.height = this.width = this.S = 0, this.f = {}, this.f.RGBA = new Wt, this.f.kb = new Cr, this.sd = null } function Zt() { this.width = [0], this.height = [0], this.Pd = [0], this.Qd = [0], this.format = [0] } function ar() { this.Id = this.fd = this.Md = this.hb = this.ib = this.da = this.bd = this.cd = this.j = this.v = this.Da = this.Sd = this.ob = 0 } function Xs(C) { return alert("todo:WebPSamplerProcessPlane"), C.T } function $r(C, k) { var P = C.T, J = k.ba.f.RGBA, ce = J.eb, he = J.fb + C.ka * J.A, ge = Hi[k.ba.S], ye = C.y, Ee = C.O, Se = C.f, Pe = C.N, et = C.ea, Te = C.W, Ke = k.cc, Xe = k.dc, pt = k.Mc, qe = k.Nc, ut = C.ka, ht = C.ka + C.T, Nt = C.U, vt = Nt + 1 >> 1; for (ut == 0 ? ge(ye, Ee, null, null, Se, Pe, et, Te, Se, Pe, et, Te, ce, he, null, null, Nt) : (ge(k.ec, k.fc, ye, Ee, Ke, Xe, pt, qe, Se, Pe, et, Te, ce, he - J.A, ce, he, Nt), ++P); ut + 2 < ht; ut += 2)Ke = Se, Xe = Pe, pt = et, qe = Te, Pe += C.Rc, Te += C.Rc, he += 2 * J.A, ge(ye, (Ee += 2 * C.fa) - C.fa, ye, Ee, Ke, Xe, pt, qe, Se, Pe, et, Te, ce, he - J.A, ce, he, Nt); return Ee += C.fa, C.j + ht < C.o ? (r(k.ec, k.fc, ye, Ee, Nt), r(k.cc, k.dc, Se, Pe, vt), r(k.Mc, k.Nc, et, Te, vt), P--) : 1 & ht || ge(ye, Ee, null, null, Se, Pe, et, Te, Se, Pe, et, Te, ce, he + J.A, null, null, Nt), P } function So(C, k, P) { var J = C.F, ce = [C.J]; if (J != null) { var he = C.U, ge = k.ba.S, ye = ge == yr || ge == ho; k = k.ba.f.RGBA; var Ee = [0], Se = C.ka; Ee[0] = C.T, C.Kb && (Se == 0 ? --Ee[0] : (--Se, ce[0] -= C.width), C.j + C.ka + C.T == C.o && (Ee[0] = C.o - C.j - Se)); var Pe = k.eb; Se = k.fb + Se * k.A, C = Ot(J, ce[0], C.width, he, Ee, Pe, Se + (ye ? 0 : 3), k.A), e(P == Ee), C && Qt(ge) && wt(Pe, Se, ye, he, Ee, k.A) } return 0 } function Qa(C) { var k = C.ma, P = k.ba.S, J = 11 > P, ce = P == Pr || P == hi || P == yr || P == li || P == 12 || Qt(P); if (k.memory = null, k.Ib = null, k.Jb = null, k.Nd = null, !Ao(k.Oa, C, ce ? 11 : 12)) return 0; if (ce && Qt(P) && Fl(), C.da) alert("todo:use_scaling"); else { if (J) { if (k.Ib = Xs, C.Kb) { if (P = C.U + 1 >> 1, k.memory = s(C.U + 2 * P), k.memory == null) return 0; k.ec = k.memory, k.fc = 0, k.cc = k.ec, k.dc = k.fc + C.U, k.Mc = k.cc, k.Nc = k.dc + P, k.Ib = $r, Fl() } } else alert("todo:EmitYUV"); ce && (k.Jb = So, J && _s()) } if (J && !Ca) { for (C = 0; 256 > C; ++C)Yr[C] = 89858 * (C - 128) + Va >> Fs, Ks[C] = -22014 * (C - 128) + Va, BA[C] = -45773 * (C - 128), Zi[C] = 113618 * (C - 128) + Va >> Fs; for (C = cl; C < ss; ++C)k = 76283 * (C - 16) + Va >> Fs, Lu[C - cl] = Da(k, 255), Tc[C - cl] = Da(k + 8 >> 4, 15); Ca = 1 } return 1 } function pn(C) { var k = C.ma, P = C.U, J = C.T; return e(!(1 & C.ka)), 0 >= P || 0 >= J ? 0 : (P = k.Ib(C, k), k.Jb != null && k.Jb(C, k, P), k.Dc += P, 1) } function rl(C) { C.ma.memory = null } function ma(C, k, P, J) { return j(C, 8) != 47 ? 0 : (k[0] = j(C, 14) + 1, P[0] = j(C, 14) + 1, J[0] = j(C, 1), j(C, 3) != 0 ? 0 : !C.h) } function Cs(C, k) { if (4 > C) return C + 1; var P = C - 2 >> 1; return (2 + (1 & C) << P) + j(k, P) + 1 } function Mr(C, k) { return 120 < k ? k - 120 : 1 <= (P = ((P = Ti[k - 1]) >> 4) * C + (8 - (15 & P))) ? P : 1; var P } function Ar(C, k, P) { var J = ie(P), ce = C[k += 255 & J].g - 8; return 0 < ce && (de(P, P.u + 8), J = ie(P), k += C[k].value, k += J & (1 << ce) - 1), de(P, P.u + C[k].g), C[k].value } function Kn(C, k, P) { return P.g += C.g, P.value += C.value << k >>> 0, e(8 >= P.g), C.g } function Li(C, k, P) { var J = C.xc; return e((k = J == 0 ? 0 : C.vc[C.md * (P >> J) + (k >> J)]) < C.Wb), C.Ya[k] } function Vi(C, k, P, J) { var ce = C.ab, he = C.c * k, ge = C.C; k = ge + k; var ye = P, Ee = J; for (J = C.Ta, P = C.Ua; 0 < ce--;) { var Se = C.gc[ce], Pe = ge, et = k, Te = ye, Ke = Ee, Xe = (Ee = J, ye = P, Se.Ea); switch (e(Pe < et), e(et <= Se.nc), Se.hc) { case 2: oi(Te, Ke, (et - Pe) * Xe, Ee, ye); break; case 0: var pt = Pe, qe = et, ut = Ee, ht = ye, Nt = (Dt = Se).Ea; pt == 0 && (tA(Te, Ke, null, null, 1, ut, ht), Xt(Te, Ke + 1, 0, 0, Nt - 1, ut, ht + 1), Ke += Nt, ht += Nt, ++pt); for (var vt = 1 << Dt.b, Yt = vt - 1, Mt = Ne(Nt, Dt.b), Bn = Dt.K, Dt = Dt.w + (pt >> Dt.b) * Mt; pt < qe;) { var Jn = Bn, wr = Dt, Hn = 1; for (Ol(Te, Ke, ut, ht - Nt, 1, ut, ht); Hn < Nt;) { var Ht = (Hn & ~Yt) + vt; Ht > Nt && (Ht = Nt), (0, ta[Jn[wr++] >> 8 & 15])(Te, Ke + +Hn, ut, ht + Hn - Nt, Ht - Hn, ut, ht + Hn), Hn = Ht } Ke += Nt, ht += Nt, ++pt & Yt || (Dt += Mt) } et != Se.nc && r(Ee, ye - Xe, Ee, ye + (et - Pe - 1) * Xe, Xe); break; case 1: for (Xe = Te, qe = Ke, Nt = (Te = Se.Ea) - (ht = Te & ~(ut = (Ke = 1 << Se.b) - 1)), pt = Ne(Te, Se.b), vt = Se.K, Se = Se.w + (Pe >> Se.b) * pt; Pe < et;) { for (Yt = vt, Mt = Se, Bn = new Qe, Dt = qe + ht, Jn = qe + Te; qe < Dt;)Ft(Yt[Mt++], Bn), Ko(Bn, Xe, qe, Ke, Ee, ye), qe += Ke, ye += Ke; qe < Jn && (Ft(Yt[Mt++], Bn), Ko(Bn, Xe, qe, Nt, Ee, ye), qe += Nt, ye += Nt), ++Pe & ut || (Se += pt) } break; case 3: if (Te == Ee && Ke == ye && 0 < Se.b) { for (qe = Ee, Te = Xe = ye + (et - Pe) * Xe - (ht = (et - Pe) * Ne(Se.Ea, Se.b)), Ke = Ee, ut = ye, pt = [], ht = (Nt = ht) - 1; 0 <= ht; --ht)pt[ht] = Ke[ut + ht]; for (ht = Nt - 1; 0 <= ht; --ht)qe[Te + ht] = pt[ht]; jo(Se, Pe, et, Ee, Xe, Ee, ye) } else jo(Se, Pe, et, Te, Ke, Ee, ye) }ye = J, Ee = P } Ee != P && r(J, P, ye, Ee, he) } function rr(C, k) { var P = C.V, J = C.Ba + C.c * C.C, ce = k - C.C; if (e(k <= C.l.o), e(16 >= ce), 0 < ce) { var he = C.l, ge = C.Ta, ye = C.Ua, Ee = he.width; if (Vi(C, ce, P, J), ce = ye = [ye], e((P = C.C) < (J = k)), e(he.v < he.va), J > he.o && (J = he.o), P < he.j) { var Se = he.j - P; P = he.j, ce[0] += Se * Ee } if (P >= J ? P = 0 : (ce[0] += 4 * he.v, he.ka = P - he.j, he.U = he.va - he.v, he.T = J - P, P = 1), P) { if (ye = ye[0], 11 > (P = C.ca).S) { var Pe = P.f.RGBA, et = (J = P.S, ce = he.U, he = he.T, Se = Pe.eb, Pe.A), Te = he; for (Pe = Pe.fb + C.Ma * Pe.A; 0 < Te--;) { var Ke = ge, Xe = ye, pt = ce, qe = Se, ut = Pe; switch (J) { case ir: uo(Ke, Xe, pt, qe, ut); break; case Pr: na(Ke, Xe, pt, qe, ut); break; case Vr: na(Ke, Xe, pt, qe, ut), wt(qe, ut, 0, pt, 1, 0); break; case or: Ka(Ke, Xe, pt, qe, ut); break; case hi: rn(Ke, Xe, pt, qe, ut, 1); break; case ps: rn(Ke, Xe, pt, qe, ut, 1), wt(qe, ut, 0, pt, 1, 0); break; case yr: rn(Ke, Xe, pt, qe, ut, 0); break; case ho: rn(Ke, Xe, pt, qe, ut, 0), wt(qe, ut, 1, pt, 1, 0); break; case li: Vo(Ke, Xe, pt, qe, ut); break; case js: Vo(Ke, Xe, pt, qe, ut), ft(qe, ut, pt, 1, 0); break; case ti: Go(Ke, Xe, pt, qe, ut); break; default: e(0) }ye += Ee, Pe += et } C.Ma += he } else alert("todo:EmitRescaledRowsYUVA"); e(C.Ma <= P.height) } } C.C = k, e(C.C <= C.i) } function Kr(C) { var k; if (0 < C.ua) return 0; for (k = 0; k < C.Wb; ++k) { var P = C.Ya[k].G, J = C.Ya[k].H; if (0 < P[1][J[1] + 0].g || 0 < P[2][J[2] + 0].g || 0 < P[3][J[3] + 0].g) return 0 } return 1 } function fi(C, k, P, J, ce, he) { if (C.Z != 0) { var ge = C.qd, ye = C.rd; for (e(Xi[C.Z] != null); k < P; ++k)Xi[C.Z](ge, ye, J, ce, J, ce, he), ge = J, ye = ce, ce += he; C.qd = ge, C.rd = ye } } function cs(C, k) { var P = C.l.ma, J = P.Z == 0 || P.Z == 1 ? C.l.j : C.C; if (J = C.C < J ? J : C.C, e(k <= C.l.o), k > J) { var ce = C.l.width, he = P.ca, ge = P.tb + ce * J, ye = C.V, Ee = C.Ba + C.c * J, Se = C.gc; e(C.ab == 1), e(Se[0].hc == 3), Hs(Se[0], J, k, ye, Ee, he, ge), fi(P, J, k, he, ge, ce) } C.C = C.Ma = k } function va(C, k, P, J, ce, he, ge) { var ye = C.$ / J, Ee = C.$ % J, Se = C.m, Pe = C.s, et = P + C.$, Te = et; ce = P + J * ce; var Ke = P + J * he, Xe = 280 + Pe.ua, pt = C.Pb ? ye : 16777216, qe = 0 < Pe.ua ? Pe.Wa : null, ut = Pe.wc, ht = et < Ke ? Li(Pe, Ee, ye) : null; e(C.C < he), e(Ke <= ce); var Nt = !1; e: for (; ;) { for (; Nt || et < Ke;) { var vt = 0; if (ye >= pt) { var Yt = et - P; e((pt = C).Pb), pt.wd = pt.m, pt.xd = Yt, 0 < pt.s.ua && Me(pt.s.Wa, pt.s.vb), pt = ye + aa } if (Ee & ut || (ht = Li(Pe, Ee, ye)), e(ht != null), ht.Qb && (k[et] = ht.qb, Nt = !0), !Nt) if (Be(Se), ht.jc) { vt = Se, Yt = k; var Mt = et, Bn = ht.pd[ie(vt) & Po - 1]; e(ht.jc), 256 > Bn.g ? (de(vt, vt.u + Bn.g), Yt[Mt] = Bn.value, vt = 0) : (de(vt, vt.u + Bn.g - 256), e(256 <= Bn.value), vt = Bn.value), vt == 0 && (Nt = !0) } else vt = Ar(ht.G[0], ht.H[0], Se); if (Se.h) break; if (Nt || 256 > vt) { if (!Nt) if (ht.nd) k[et] = (ht.qb | vt << 8) >>> 0; else { if (Be(Se), Nt = Ar(ht.G[1], ht.H[1], Se), Be(Se), Yt = Ar(ht.G[2], ht.H[2], Se), Mt = Ar(ht.G[3], ht.H[3], Se), Se.h) break; k[et] = (Mt << 24 | Nt << 16 | vt << 8 | Yt) >>> 0 } if (Nt = !1, ++et, ++Ee >= J && (Ee = 0, ++ye, ge != null && ye <= he && !(ye % 16) && ge(C, ye), qe != null)) for (; Te < et;)vt = k[Te++], qe.X[(506832829 * vt & 4294967295) >>> qe.Mb] = vt } else if (280 > vt) { if (vt = Cs(vt - 256, Se), Yt = Ar(ht.G[4], ht.H[4], Se), Be(Se), Yt = Mr(J, Yt = Cs(Yt, Se)), Se.h) break; if (et - P < Yt || ce - et < vt) break e; for (Mt = 0; Mt < vt; ++Mt)k[et + Mt] = k[et + Mt - Yt]; for (et += vt, Ee += vt; Ee >= J;)Ee -= J, ++ye, ge != null && ye <= he && !(ye % 16) && ge(C, ye); if (e(et <= ce), Ee & ut && (ht = Li(Pe, Ee, ye)), qe != null) for (; Te < et;)vt = k[Te++], qe.X[(506832829 * vt & 4294967295) >>> qe.Mb] = vt } else { if (!(vt < Xe)) break e; for (Nt = vt - 280, e(qe != null); Te < et;)vt = k[Te++], qe.X[(506832829 * vt & 4294967295) >>> qe.Mb] = vt; vt = et, e(!(Nt >>> (Yt = qe).Xa)), k[vt] = Yt.X[Nt], Nt = !0 } Nt || e(Se.h == oe(Se)) } if (C.Pb && Se.h && et < ce) e(C.m.h), C.a = 5, C.m = C.wd, C.$ = C.xd, 0 < C.s.ua && Me(C.s.vb, C.s.Wa); else { if (Se.h) break e; ge?.(C, ye > he ? he : ye), C.a = 0, C.$ = et - P } return 1 } return C.a = 3, 0 } function Is(C) { e(C != null), C.vc = null, C.yc = null, C.Ya = null; var k = C.Wa; k != null && (k.X = null), C.vb = null, e(C != null) } function Vl() { var C = new Sn; return C == null ? null : (C.a = 0, C.xb = kc, Fr("Predictor", "VP8LPredictors"), Fr("Predictor", "VP8LPredictors_C"), Fr("PredictorAdd", "VP8LPredictorsAdd"), Fr("PredictorAdd", "VP8LPredictorsAdd_C"), oi = Lt, Ko = bn, uo = Br, na = en, Vo = nn, Go = vn, Ka = En, G.VP8LMapColor32b = zo, G.VP8LMapColor8b = Di, C) } function $n(C, k, P, J, ce) { var he = 1, ge = [C], ye = [k], Ee = J.m, Se = J.s, Pe = null, et = 0; e: for (; ;) { if (P) for (; he && j(Ee, 1);) { var Te = ge, Ke = ye, Xe = J, pt = 1, qe = Xe.m, ut = Xe.gc[Xe.ab], ht = j(qe, 2); if (Xe.Oc & 1 << ht) he = 0; else { switch (Xe.Oc |= 1 << ht, ut.hc = ht, ut.Ea = Te[0], ut.nc = Ke[0], ut.K = [null], ++Xe.ab, e(4 >= Xe.ab), ht) { case 0: case 1: ut.b = j(qe, 3) + 2, pt = $n(Ne(ut.Ea, ut.b), Ne(ut.nc, ut.b), 0, Xe, ut.K), ut.K = ut.K[0]; break; case 3: var Nt, vt = j(qe, 8) + 1, Yt = 16 < vt ? 0 : 4 < vt ? 1 : 2 < vt ? 2 : 3; if (Te[0] = Ne(ut.Ea, Yt), ut.b = Yt, Nt = pt = $n(vt, 1, 0, Xe, ut.K)) { var Mt, Bn = vt, Dt = ut, Jn = 1 << (8 >> Dt.b), wr = s(Jn); if (wr == null) Nt = 0; else { var Hn = Dt.K[0], Ht = Dt.w; for (wr[0] = Dt.K[0][0], Mt = 1; Mt < 1 * Bn; ++Mt)wr[Mt] = tt(Hn[Ht + Mt], wr[Mt - 1]); for (; Mt < 4 * Jn; ++Mt)wr[Mt] = 0; Dt.K[0] = null, Dt.K[0] = wr, Nt = 1 } } pt = Nt; break; case 2: break; default: e(0) }he = pt } } if (ge = ge[0], ye = ye[0], he && j(Ee, 1) && !(he = 1 <= (et = j(Ee, 4)) && 11 >= et)) { J.a = 3; break e } var Tt; if (Tt = he) t: { var Zr, fn, _n, lr = J, Or = ge, qi = ye, Jr = et, ci = P, w = lr.m, B = lr.s, T = [null], H = 1, Y = 0, ue = Ji[Jr]; n: for (; ;) { if (ci && j(w, 1)) { var xe = j(w, 3) + 2, He = Ne(Or, xe), Oe = Ne(qi, xe), je = He * Oe; if (!$n(He, Oe, 0, lr, T)) break n; for (T = T[0], B.xc = xe, Zr = 0; Zr < je; ++Zr) { var We = T[Zr] >> 8 & 65535; T[Zr] = We, We >= H && (H = We + 1) } } if (w.h) break n; for (fn = 0; 5 > fn; ++fn) { var nt = ki[fn]; !fn && 0 < Jr && (nt += 1 << Jr), Y < nt && (Y = nt) } var _t = a(H * ue, se), St = H, zt = a(St, pe); if (zt == null) var gn = null; else e(65536 >= St), gn = zt; var un = s(Y); if (gn == null || un == null || _t == null) { lr.a = 1; break n } var It = _t; for (Zr = _n = 0; Zr < H; ++Zr) { var Rt = gn[Zr], Fn = Rt.G, qr = Rt.H, bi = 0, sn = 1, ur = 0; for (fn = 0; 5 > fn; ++fn) { nt = ki[fn], Fn[fn] = It, qr[fn] = _n, !fn && 0 < Jr && (nt += 1 << Jr); i: { var jr, Fi = nt, mo = lr, In = un, fl = It, vo = _n, $i = 0, es = mo.m, Fc = j(es, 1); if (i(In, 0, 0, Fi), Fc) { var EA = j(es, 1) + 1, Rl = j(es, 1), rA = j(es, Rl == 0 ? 1 : 8); In[rA] = 1, EA == 2 && (In[rA = j(es, 8)] = 1); var ts = 1 } else { var zr = s(19), dl = j(es, 4) + 4; if (19 < dl) { mo.a = 3; var iA = 0; break i } for (jr = 0; jr < dl; ++jr)zr[sa[jr]] = j(es, 3); var XA = void 0, Il = void 0, ms = mo, Mu = zr, sA = Fi, Qu = In, Du = 0, aA = ms.m, Bf = 8, Cf = a(128, se); r: for (; V(Cf, 0, 7, Mu, 19);) { if (j(aA, 1)) { var Jd = 2 + 2 * j(aA, 3); if ((XA = 2 + j(aA, Jd)) > sA) break r } else XA = sA; for (Il = 0; Il < sA && XA--;) { Be(aA); var Uc = Cf[0 + (127 & ie(aA))]; de(aA, aA.u + Uc.g); var Ea = Uc.value; if (16 > Ea) Qu[Il++] = Ea, Ea != 0 && (Bf = Ea); else { var Xd = Ea == 16, Zd = Ea - 16, cu = Wo[Zd], Ef = j(aA, zs[Zd]) + cu; if (Il + Ef > sA) break r; for (var ZA = Xd ? Bf : 0; 0 < Ef--;)Qu[Il++] = ZA } } Du = 1; break r } Du || (ms.a = 3), ts = Du } (ts = ts && !es.h) && ($i = V(fl, vo, 8, In, Fi)), ts && $i != 0 ? iA = $i : (mo.a = 3, iA = 0) } if (iA == 0) break n; if (sn && ia[fn] == 1 && (sn = It[_n].g == 0), bi += It[_n].g, _n += iA, 3 >= fn) { var Ll, qA = un[0]; for (Ll = 1; Ll < nt; ++Ll)un[Ll] > qA && (qA = un[Ll]); ur += qA } } if (Rt.nd = sn, Rt.Qb = 0, sn && (Rt.qb = (Fn[3][qr[3] + 0].value << 24 | Fn[1][qr[1] + 0].value << 16 | Fn[2][qr[2] + 0].value) >>> 0, bi == 0 && 256 > Fn[0][qr[0] + 0].value && (Rt.Qb = 1, Rt.qb += Fn[0][qr[0] + 0].value << 8)), Rt.jc = !Rt.Qb && 6 > ur, Rt.jc) { var SA, yo = Rt; for (SA = 0; SA < Po; ++SA) { var Sa = SA, Ml = yo.pd[Sa], uu = yo.G[0][yo.H[0] + Sa]; 256 <= uu.value ? (Ml.g = uu.g + 256, Ml.value = uu.value) : (Ml.g = 0, Ml.value = 0, Sa >>= Kn(uu, 8, Ml), Sa >>= Kn(yo.G[1][yo.H[1] + Sa], 16, Ml), Sa >>= Kn(yo.G[2][yo.H[2] + Sa], 0, Ml), Kn(yo.G[3][yo.H[3] + Sa], 24, Ml)) } } } B.vc = T, B.Wb = H, B.Ya = gn, B.yc = _t, Tt = 1; break t } Tt = 0 } if (!(he = Tt)) { J.a = 3; break e } if (0 < et) { if (Se.ua = 1 << et, !Ae(Se.Wa, et)) { J.a = 1, he = 0; break e } } else Se.ua = 0; var oA = J, $A = ge, Pu = ye, Oc = oA.s, lA = Oc.xc; if (oA.c = $A, oA.i = Pu, Oc.md = Ne($A, lA), Oc.wc = lA == 0 ? -1 : (1 << lA) - 1, P) { J.xb = oa; break e } if ((Pe = s(ge * ye)) == null) { J.a = 1, he = 0; break e } he = (he = va(J, Pe, 0, ge, ye, ye, null)) && !Ee.h; break e } return he ? (ce != null ? ce[0] = Pe : (e(Pe == null), e(P)), J.$ = 0, P || Is(Se)) : Is(Se), he } function cr(C, k) { var P = C.c * C.i, J = P + k + 16 * k; return e(C.c <= k), C.V = s(J), C.V == null ? (C.Ta = null, C.Ua = 0, C.a = 1, 0) : (C.Ta = C.V, C.Ua = C.Ba + P + k, 1) } function $a(C, k) { var P = C.C, J = k - P, ce = C.V, he = C.Ba + C.c * P; for (e(k <= C.l.o); 0 < J;) { var ge = 16 < J ? 16 : J, ye = C.l.ma, Ee = C.l.width, Se = Ee * ge, Pe = ye.ca, et = ye.tb + Ee * P, Te = C.Ta, Ke = C.Ua; Vi(C, ge, ce, he), qt(Te, Ke, Pe, et, Se), fi(ye, P, P + ge, Pe, et, Ee), J -= ge, ce += ge * C.c, P += ge } e(P == k), C.C = C.Ma = k } function mi() { this.ub = this.yd = this.td = this.Rb = 0 } function _o() { this.Kd = this.Ld = this.Ud = this.Td = this.i = this.c = 0 } function _l() { this.Fb = this.Bb = this.Cb = 0, this.Zb = s(4), this.Lb = s(4) } function No() { this.Yb = (function () { var C = []; return (function k(P, J, ce) { for (var he = ce[J], ge = 0; ge < he && (P.push(ce.length > J + 1 ? [] : 0), !(ce.length < J + 1)); ge++)k(P[ge], J + 1, ce) })(C, 0, [3, 11]), C })() } function Si() { this.jb = s(3), this.Wc = o([4, 8], No), this.Xc = o([4, 17], No) } function xc() { this.Pc = this.wb = this.Tb = this.zd = 0, this.vd = new s(4), this.od = new s(4) } function Es() { this.ld = this.La = this.dd = this.tc = 0 } function Qr() { this.Na = this.la = 0 } function eo() { this.Sc = [0, 0], this.Eb = [0, 0], this.Qc = [0, 0], this.ia = this.lc = 0 } function Gl() { this.ad = s(384), this.Za = 0, this.Ob = s(16), this.$b = this.Ad = this.ia = this.Gc = this.Hc = this.Dd = 0 } function to() { this.uc = this.M = this.Nb = 0, this.wa = Array(new Es), this.Y = 0, this.ya = Array(new Gl), this.aa = 0, this.l = new ya } function Wl() { this.y = s(16), this.f = s(8), this.ea = s(8) } function su() { this.cb = this.a = 0, this.sc = "", this.m = new L, this.Od = new mi, this.Kc = new _o, this.ed = new xc, this.Qa = new _l, this.Ic = this.$c = this.Aa = 0, this.D = new to, this.Xb = this.Va = this.Hb = this.zb = this.yb = this.Ub = this.za = 0, this.Jc = a(8, L), this.ia = 0, this.pb = a(4, eo), this.Pa = new Si, this.Bd = this.kc = 0, this.Ac = [], this.Bc = 0, this.zc = [0, 0, 0, 0], this.Gd = Array(new Wl), this.Hd = 0, this.rb = Array(new Qr), this.sb = 0, this.wa = Array(new Es), this.Y = 0, this.oc = [], this.pc = 0, this.sa = [], this.ta = 0, this.qa = [], this.ra = 0, this.Ha = [], this.B = this.R = this.Ia = 0, this.Ec = [], this.M = this.ja = this.Vb = this.Fc = 0, this.ya = Array(new Gl), this.L = this.aa = 0, this.gd = o([4, 2], Es), this.ga = null, this.Fa = [], this.Cc = this.qc = this.P = 0, this.Gb = [], this.Uc = 0, this.mb = [], this.nb = 0, this.rc = [], this.Ga = this.Vc = 0 } function Da(C, k) { return 0 > C ? 0 : C > k ? k : C } function ya() { this.T = this.U = this.ka = this.height = this.width = 0, this.y = [], this.f = [], this.ea = [], this.Rc = this.fa = this.W = this.N = this.O = 0, this.ma = "void", this.put = "VP8IoPutHook", this.ac = "VP8IoSetupHook", this.bc = "VP8IoTeardownHook", this.ha = this.Kb = 0, this.data = [], this.hb = this.ib = this.da = this.o = this.j = this.va = this.v = this.Da = this.ob = this.w = 0, this.F = [], this.J = 0 } function wa() { var C = new su; return C != null && (C.a = 0, C.sc = "OK", C.cb = 0, C.Xb = 0, Ts || (Ts = Yl)), C } function hr(C, k, P) { return C.a == 0 && (C.a = k, C.sc = P, C.cb = 0), 0 } function no(C, k, P) { return 3 <= P && C[k + 0] == 157 && C[k + 1] == 1 && C[k + 2] == 42 } function ro(C, k) { if (C == null) return 0; if (C.a = 0, C.sc = "OK", k == null) return hr(C, 2, "null VP8Io passed to VP8GetHeaders()"); var P = k.data, J = k.w, ce = k.ha; if (4 > ce) return hr(C, 7, "Truncated header."); var he = P[J + 0] | P[J + 1] << 8 | P[J + 2] << 16, ge = C.Od; if (ge.Rb = !(1 & he), ge.td = he >> 1 & 7, ge.yd = he >> 4 & 1, ge.ub = he >> 5, 3 < ge.td) return hr(C, 3, "Incorrect keyframe parameters."); if (!ge.yd) return hr(C, 4, "Frame not displayable."); J += 3, ce -= 3; var ye = C.Kc; if (ge.Rb) { if (7 > ce) return hr(C, 7, "cannot parse picture header"); if (!no(P, J, ce)) return hr(C, 3, "Bad code word"); ye.c = 16383 & (P[J + 4] << 8 | P[J + 3]), ye.Td = P[J + 4] >> 6, ye.i = 16383 & (P[J + 6] << 8 | P[J + 5]), ye.Ud = P[J + 6] >> 6, J += 7, ce -= 7, C.za = ye.c + 15 >> 4, C.Ub = ye.i + 15 >> 4, k.width = ye.c, k.height = ye.i, k.Da = 0, k.j = 0, k.v = 0, k.va = k.width, k.o = k.height, k.da = 0, k.ib = k.width, k.hb = k.height, k.U = k.width, k.T = k.height, i((he = C.Pa).jb, 0, 255, he.jb.length), e((he = C.Qa) != null), he.Cb = 0, he.Bb = 0, he.Fb = 1, i(he.Zb, 0, 0, he.Zb.length), i(he.Lb, 0, 0, he.Lb) } if (ge.ub > ce) return hr(C, 7, "bad partition length"); Z(he = C.m, P, J, ge.ub), J += ge.ub, ce -= ge.ub, ge.Rb && (ye.Ld = Ie(he), ye.Kd = Ie(he)), ye = C.Qa; var Ee, Se = C.Pa; if (e(he != null), e(ye != null), ye.Cb = Ie(he), ye.Cb) { if (ye.Bb = Ie(he), Ie(he)) { for (ye.Fb = Ie(he), Ee = 0; 4 > Ee; ++Ee)ye.Zb[Ee] = Ie(he) ? me(he, 7) : 0; for (Ee = 0; 4 > Ee; ++Ee)ye.Lb[Ee] = Ie(he) ? me(he, 6) : 0 } if (ye.Bb) for (Ee = 0; 3 > Ee; ++Ee)Se.jb[Ee] = Ie(he) ? ae(he, 8) : 255 } else ye.Bb = 0; if (he.Ka) return hr(C, 3, "cannot parse segment header"); if ((ye = C.ed).zd = Ie(he), ye.Tb = ae(he, 6), ye.wb = ae(he, 3), ye.Pc = Ie(he), ye.Pc && Ie(he)) { for (Se = 0; 4 > Se; ++Se)Ie(he) && (ye.vd[Se] = me(he, 6)); for (Se = 0; 4 > Se; ++Se)Ie(he) && (ye.od[Se] = me(he, 6)) } if (C.L = ye.Tb == 0 ? 0 : ye.zd ? 1 : 2, he.Ka) return hr(C, 3, "cannot parse filter header"); var Pe = ce; if (ce = Ee = J, J = Ee + Pe, ye = Pe, C.Xb = (1 << ae(C.m, 2)) - 1, Pe < 3 * (Se = C.Xb)) P = 7; else { for (Ee += 3 * Se, ye -= 3 * Se, Pe = 0; Pe < Se; ++Pe) { var et = P[ce + 0] | P[ce + 1] << 8 | P[ce + 2] << 16; et > ye && (et = ye), Z(C.Jc[+Pe], P, Ee, et), Ee += et, ye -= et, ce += 3 } Z(C.Jc[+Se], P, Ee, ye), P = Ee < J ? 0 : 5 } if (P != 0) return hr(C, P, "cannot parse partitions"); for (P = ae(Ee = C.m, 7), ce = Ie(Ee) ? me(Ee, 4) : 0, J = Ie(Ee) ? me(Ee, 4) : 0, ye = Ie(Ee) ? me(Ee, 4) : 0, Se = Ie(Ee) ? me(Ee, 4) : 0, Ee = Ie(Ee) ? me(Ee, 4) : 0, Pe = C.Qa, et = 0; 4 > et; ++et) { if (Pe.Cb) { var Te = Pe.Zb[et]; Pe.Fb || (Te += P) } else { if (0 < et) { C.pb[et] = C.pb[0]; continue } Te = P } var Ke = C.pb[et]; Ke.Sc[0] = Hr[Da(Te + ce, 127)], Ke.Sc[1] = gs[Da(Te + 0, 127)], Ke.Eb[0] = 2 * Hr[Da(Te + J, 127)], Ke.Eb[1] = 101581 * gs[Da(Te + ye, 127)] >> 16, 8 > Ke.Eb[1] && (Ke.Eb[1] = 8), Ke.Qc[0] = Hr[Da(Te + Se, 117)], Ke.Qc[1] = gs[Da(Te + Ee, 127)], Ke.lc = Te + Ee } if (!ge.Rb) return hr(C, 4, "Not a key frame."); for (Ie(he), ge = C.Pa, P = 0; 4 > P; ++P) { for (ce = 0; 8 > ce; ++ce)for (J = 0; 3 > J; ++J)for (ye = 0; 11 > ye; ++ye)Se = Ye(he, ni[P][ce][J][ye]) ? ae(he, 8) : Au[P][ce][J][ye], ge.Wc[P][ce].Yb[J][ye] = Se; for (ce = 0; 17 > ce; ++ce)ge.Xc[P][ce] = ge.Wc[P][Yn[ce]] } return C.kc = Ie(he), C.kc && (C.Bd = ae(he, 8)), C.cb = 1 } function Yl(C, k, P, J, ce, he, ge) { var ye = k[ce].Yb[P]; for (P = 0; 16 > ce; ++ce) { if (!Ye(C, ye[P + 0])) return ce; for (; !Ye(C, ye[P + 1]);)if (ye = k[++ce].Yb[0], P = 0, ce == 16) return 16; var Ee = k[ce + 1].Yb; if (Ye(C, ye[P + 2])) { var Se = C, Pe = 0; if (Ye(Se, (Te = ye)[(et = P) + 3])) if (Ye(Se, Te[et + 6])) { for (ye = 0, et = 2 * (Pe = Ye(Se, Te[et + 8])) + (Te = Ye(Se, Te[et + 9 + Pe])), Pe = 0, Te = lu[et]; Te[ye]; ++ye)Pe += Pe + Ye(Se, Te[ye]); Pe += 3 + (8 << et) } else Ye(Se, Te[et + 7]) ? (Pe = 7 + 2 * Ye(Se, 165), Pe += Ye(Se, 145)) : Pe = 5 + Ye(Se, 159); else Pe = Ye(Se, Te[et + 4]) ? 3 + Ye(Se, Te[et + 5]) : 2; ye = Ee[2] } else Pe = 1, ye = Ee[1]; Ee = ge + _c[ce], 0 > (Se = C).b && Re(Se); var et, Te = Se.b, Ke = (et = Se.Ca >> 1) - (Se.I >> Te) >> 31; --Se.b, Se.Ca += Ke, Se.Ca |= 1, Se.I -= (et + 1 & Ke) << Te, he[Ee] = ((Pe ^ Ke) - Ke) * J[(0 < ce) + 0] } return 16 } function Nl(C) { var k = C.rb[C.sb - 1]; k.la = 0, k.Na = 0, i(C.zc, 0, 0, C.zc.length), C.ja = 0 } function pr(C, k, P, J, ce) { ce = C[k + P + 32 * J] + (ce >> 3), C[k + P + 32 * J] = -256 & ce ? 0 > ce ? 0 : 255 : ce } function si(C, k, P, J, ce, he) { pr(C, k, 0, P, J + ce), pr(C, k, 1, P, J + he), pr(C, k, 2, P, J - he), pr(C, k, 3, P, J - ce) } function vi(C) { return (20091 * C >> 16) + C } function Jl(C, k, P, J) { var ce, he = 0, ge = s(16); for (ce = 0; 4 > ce; ++ce) { var ye = C[k + 0] + C[k + 8], Ee = C[k + 0] - C[k + 8], Se = (35468 * C[k + 4] >> 16) - vi(C[k + 12]), Pe = vi(C[k + 4]) + (35468 * C[k + 12] >> 16); ge[he + 0] = ye + Pe, ge[he + 1] = Ee + Se, ge[he + 2] = Ee - Se, ge[he + 3] = ye - Pe, he += 4, k++ } for (ce = he = 0; 4 > ce; ++ce)ye = (C = ge[he + 0] + 4) + ge[he + 8], Ee = C - ge[he + 8], Se = (35468 * ge[he + 4] >> 16) - vi(ge[he + 12]), pr(P, J, 0, 0, ye + (Pe = vi(ge[he + 4]) + (35468 * ge[he + 12] >> 16))), pr(P, J, 1, 0, Ee + Se), pr(P, J, 2, 0, Ee - Se), pr(P, J, 3, 0, ye - Pe), he++, J += 32 } function ko(C, k, P, J) { var ce = C[k + 0] + 4, he = 35468 * C[k + 4] >> 16, ge = vi(C[k + 4]), ye = 35468 * C[k + 1] >> 16; si(P, J, 0, ce + ge, C = vi(C[k + 1]), ye), si(P, J, 1, ce + he, C, ye), si(P, J, 2, ce - he, C, ye), si(P, J, 3, ce - ge, C, ye) } function yA(C, k, P, J, ce) { Jl(C, k, P, J), ce && Jl(C, k + 16, P, J + 4) } function Ss(C, k, P, J) { fo(C, k + 0, P, J, 1), fo(C, k + 32, P, J + 128, 1) } function io(C, k, P, J) { var ce; for (C = C[k + 0] + 4, ce = 0; 4 > ce; ++ce)for (k = 0; 4 > k; ++k)pr(P, J, k, ce, C) } function WA(C, k, P, J) { C[k + 0] && Sr(C, k + 0, P, J), C[k + 16] && Sr(C, k + 16, P, J + 4), C[k + 32] && Sr(C, k + 32, P, J + 128), C[k + 48] && Sr(C, k + 48, P, J + 128 + 4) } function To(C, k, P, J) { var ce, he = s(16); for (ce = 0; 4 > ce; ++ce) { var ge = C[k + 0 + ce] + C[k + 12 + ce], ye = C[k + 4 + ce] + C[k + 8 + ce], Ee = C[k + 4 + ce] - C[k + 8 + ce], Se = C[k + 0 + ce] - C[k + 12 + ce]; he[0 + ce] = ge + ye, he[8 + ce] = ge - ye, he[4 + ce] = Se + Ee, he[12 + ce] = Se - Ee } for (ce = 0; 4 > ce; ++ce)ge = (C = he[0 + 4 * ce] + 3) + he[3 + 4 * ce], ye = he[1 + 4 * ce] + he[2 + 4 * ce], Ee = he[1 + 4 * ce] - he[2 + 4 * ce], Se = C - he[3 + 4 * ce], P[J + 0] = ge + ye >> 3, P[J + 16] = Se + Ee >> 3, P[J + 32] = ge - ye >> 3, P[J + 48] = Se - Ee >> 3, J += 64 } function Pa(C, k, P) { var J, ce = k - 32, he = Tn, ge = 255 - C[ce - 1]; for (J = 0; J < P; ++J) { var ye, Ee = he, Se = ge + C[k - 1]; for (ye = 0; ye < P; ++ye)C[k + ye] = Ee[Se + C[ce + ye]]; k += 32 } } function wA(C, k) { Pa(C, k, 4) } function au(C, k) { Pa(C, k, 8) } function Bc(C, k) { Pa(C, k, 16) } function Cc(C, k) { var P; for (P = 0; 16 > P; ++P)r(C, k + 32 * P, C, k - 32, 16) } function us(C, k) { var P; for (P = 16; 0 < P; --P)i(C, k, C[k - 1], 16), k += 32 } function ei(C, k, P) { var J; for (J = 0; 16 > J; ++J)i(k, P + 32 * J, C, 16) } function Fo(C, k) { var P, J = 16; for (P = 0; 16 > P; ++P)J += C[k - 1 + 32 * P] + C[k + P - 32]; ei(J >> 5, C, k) } function so(C, k) { var P, J = 8; for (P = 0; 16 > P; ++P)J += C[k - 1 + 32 * P]; ei(J >> 4, C, k) } function il(C, k) { var P, J = 8; for (P = 0; 16 > P; ++P)J += C[k + P - 32]; ei(J >> 4, C, k) } function Xl(C, k) { ei(128, C, k) } function xn(C, k, P) { return C + 2 * k + P + 2 >> 2 } function ao(C, k) { var P, J = k - 32; for (J = new Uint8Array([xn(C[J - 1], C[J + 0], C[J + 1]), xn(C[J + 0], C[J + 1], C[J + 2]), xn(C[J + 1], C[J + 2], C[J + 3]), xn(C[J + 2], C[J + 3], C[J + 4])]), P = 0; 4 > P; ++P)r(C, k + 32 * P, J, 0, J.length) } function bA(C, k) { var P = C[k - 1], J = C[k - 1 + 32], ce = C[k - 1 + 64], he = C[k - 1 + 96]; $e(C, k + 0, 16843009 * xn(C[k - 1 - 32], P, J)), $e(C, k + 32, 16843009 * xn(P, J, ce)), $e(C, k + 64, 16843009 * xn(J, ce, he)), $e(C, k + 96, 16843009 * xn(ce, he, he)) } function YA(C, k) { var P, J = 4; for (P = 0; 4 > P; ++P)J += C[k + P - 32] + C[k - 1 + 32 * P]; for (J >>= 3, P = 0; 4 > P; ++P)i(C, k + 32 * P, J, 4) } function Zs(C, k) { var P = C[k - 1 + 0], J = C[k - 1 + 32], ce = C[k - 1 + 64], he = C[k - 1 - 32], ge = C[k + 0 - 32], ye = C[k + 1 - 32], Ee = C[k + 2 - 32], Se = C[k + 3 - 32]; C[k + 0 + 96] = xn(J, ce, C[k - 1 + 96]), C[k + 1 + 96] = C[k + 0 + 64] = xn(P, J, ce), C[k + 2 + 96] = C[k + 1 + 64] = C[k + 0 + 32] = xn(he, P, J), C[k + 3 + 96] = C[k + 2 + 64] = C[k + 1 + 32] = C[k + 0 + 0] = xn(ge, he, P), C[k + 3 + 64] = C[k + 2 + 32] = C[k + 1 + 0] = xn(ye, ge, he), C[k + 3 + 32] = C[k + 2 + 0] = xn(Ee, ye, ge), C[k + 3 + 0] = xn(Se, Ee, ye) } function Gi(C, k) { var P = C[k + 1 - 32], J = C[k + 2 - 32], ce = C[k + 3 - 32], he = C[k + 4 - 32], ge = C[k + 5 - 32], ye = C[k + 6 - 32], Ee = C[k + 7 - 32]; C[k + 0 + 0] = xn(C[k + 0 - 32], P, J), C[k + 1 + 0] = C[k + 0 + 32] = xn(P, J, ce), C[k + 2 + 0] = C[k + 1 + 32] = C[k + 0 + 64] = xn(J, ce, he), C[k + 3 + 0] = C[k + 2 + 32] = C[k + 1 + 64] = C[k + 0 + 96] = xn(ce, he, ge), C[k + 3 + 32] = C[k + 2 + 64] = C[k + 1 + 96] = xn(he, ge, ye), C[k + 3 + 64] = C[k + 2 + 96] = xn(ge, ye, Ee), C[k + 3 + 96] = xn(ye, Ee, Ee) } function Ur(C, k) { var P = C[k - 1 + 0], J = C[k - 1 + 32], ce = C[k - 1 + 64], he = C[k - 1 - 32], ge = C[k + 0 - 32], ye = C[k + 1 - 32], Ee = C[k + 2 - 32], Se = C[k + 3 - 32]; C[k + 0 + 0] = C[k + 1 + 64] = he + ge + 1 >> 1, C[k + 1 + 0] = C[k + 2 + 64] = ge + ye + 1 >> 1, C[k + 2 + 0] = C[k + 3 + 64] = ye + Ee + 1 >> 1, C[k + 3 + 0] = Ee + Se + 1 >> 1, C[k + 0 + 96] = xn(ce, J, P), C[k + 0 + 64] = xn(J, P, he), C[k + 0 + 32] = C[k + 1 + 96] = xn(P, he, ge), C[k + 1 + 32] = C[k + 2 + 96] = xn(he, ge, ye), C[k + 2 + 32] = C[k + 3 + 96] = xn(ge, ye, Ee), C[k + 3 + 32] = xn(ye, Ee, Se) } function Uo(C, k) { var P = C[k + 0 - 32], J = C[k + 1 - 32], ce = C[k + 2 - 32], he = C[k + 3 - 32], ge = C[k + 4 - 32], ye = C[k + 5 - 32], Ee = C[k + 6 - 32], Se = C[k + 7 - 32]; C[k + 0 + 0] = P + J + 1 >> 1, C[k + 1 + 0] = C[k + 0 + 64] = J + ce + 1 >> 1, C[k + 2 + 0] = C[k + 1 + 64] = ce + he + 1 >> 1, C[k + 3 + 0] = C[k + 2 + 64] = he + ge + 1 >> 1, C[k + 0 + 32] = xn(P, J, ce), C[k + 1 + 32] = C[k + 0 + 96] = xn(J, ce, he), C[k + 2 + 32] = C[k + 1 + 96] = xn(ce, he, ge), C[k + 3 + 32] = C[k + 2 + 96] = xn(he, ge, ye), C[k + 3 + 64] = xn(ge, ye, Ee), C[k + 3 + 96] = xn(ye, Ee, Se) } function Ls(C, k) { var P = C[k - 1 + 0], J = C[k - 1 + 32], ce = C[k - 1 + 64], he = C[k - 1 + 96]; C[k + 0 + 0] = P + J + 1 >> 1, C[k + 2 + 0] = C[k + 0 + 32] = J + ce + 1 >> 1, C[k + 2 + 32] = C[k + 0 + 64] = ce + he + 1 >> 1, C[k + 1 + 0] = xn(P, J, ce), C[k + 3 + 0] = C[k + 1 + 32] = xn(J, ce, he), C[k + 3 + 32] = C[k + 1 + 64] = xn(ce, he, he), C[k + 3 + 64] = C[k + 2 + 64] = C[k + 0 + 96] = C[k + 1 + 96] = C[k + 2 + 96] = C[k + 3 + 96] = he } function Oo(C, k) { var P = C[k - 1 + 0], J = C[k - 1 + 32], ce = C[k - 1 + 64], he = C[k - 1 + 96], ge = C[k - 1 - 32], ye = C[k + 0 - 32], Ee = C[k + 1 - 32], Se = C[k + 2 - 32]; C[k + 0 + 0] = C[k + 2 + 32] = P + ge + 1 >> 1, C[k + 0 + 32] = C[k + 2 + 64] = J + P + 1 >> 1, C[k + 0 + 64] = C[k + 2 + 96] = ce + J + 1 >> 1, C[k + 0 + 96] = he + ce + 1 >> 1, C[k + 3 + 0] = xn(ye, Ee, Se), C[k + 2 + 0] = xn(ge, ye, Ee), C[k + 1 + 0] = C[k + 3 + 32] = xn(P, ge, ye), C[k + 1 + 32] = C[k + 3 + 64] = xn(J, P, ge), C[k + 1 + 64] = C[k + 3 + 96] = xn(ce, J, P), C[k + 1 + 96] = xn(he, ce, J) } function ba(C, k) { var P; for (P = 0; 8 > P; ++P)r(C, k + 32 * P, C, k - 32, 8) } function Zl(C, k) { var P; for (P = 0; 8 > P; ++P)i(C, k, C[k - 1], 8), k += 32 } function qs(C, k, P) { var J; for (J = 0; 8 > J; ++J)i(k, P + 32 * J, C, 8) } function Ro(C, k) { var P, J = 8; for (P = 0; 8 > P; ++P)J += C[k + P - 32] + C[k - 1 + 32 * P]; qs(J >> 4, C, k) } function Ha(C, k) { var P, J = 4; for (P = 0; 8 > P; ++P)J += C[k + P - 32]; qs(J >> 3, C, k) } function Mi(C, k) { var P, J = 4; for (P = 0; 8 > P; ++P)J += C[k - 1 + 32 * P]; qs(J >> 3, C, k) } function fs(C, k) { qs(128, C, k) } function ja(C, k, P) { var J = C[k - P], ce = C[k + 0], he = 3 * (ce - J) + _r[1020 + C[k - 2 * P] - C[k + P]], ge = Xr[112 + (he + 4 >> 3)]; C[k - P] = Tn[255 + J + Xr[112 + (he + 3 >> 3)]], C[k + 0] = Tn[255 + ce - ge] } function Io(C, k, P, J) { var ce = C[k + 0], he = C[k + P]; return Rn[255 + C[k - 2 * P] - C[k - P]] > J || Rn[255 + he - ce] > J } function Lo(C, k, P, J) { return 4 * Rn[255 + C[k - P] - C[k + 0]] + Rn[255 + C[k - 2 * P] - C[k + P]] <= J } function Mo(C, k, P, J, ce) { var he = C[k - 3 * P], ge = C[k - 2 * P], ye = C[k - P], Ee = C[k + 0], Se = C[k + P], Pe = C[k + 2 * P], et = C[k + 3 * P]; return 4 * Rn[255 + ye - Ee] + Rn[255 + ge - Se] > J ? 0 : Rn[255 + C[k - 4 * P] - he] <= ce && Rn[255 + he - ge] <= ce && Rn[255 + ge - ye] <= ce && Rn[255 + et - Pe] <= ce && Rn[255 + Pe - Se] <= ce && Rn[255 + Se - Ee] <= ce } function sl(C, k, P, J) { var ce = 2 * J + 1; for (J = 0; 16 > J; ++J)Lo(C, k + J, P, ce) && ja(C, k + J, P) } function al(C, k, P, J) { var ce = 2 * J + 1; for (J = 0; 16 > J; ++J)Lo(C, k + J * P, 1, ce) && ja(C, k + J * P, 1) } function ql(C, k, P, J) { var ce; for (ce = 3; 0 < ce; --ce)sl(C, k += 4 * P, P, J) } function Ec(C, k, P, J) { var ce; for (ce = 3; 0 < ce; --ce)al(C, k += 4, P, J) } function kl(C, k, P, J, ce, he, ge, ye) { for (he = 2 * he + 1; 0 < ce--;) { if (Mo(C, k, P, he, ge)) if (Io(C, k, P, ye)) ja(C, k, P); else { var Ee = C, Se = k, Pe = P, et = Ee[Se - 2 * Pe], Te = Ee[Se - Pe], Ke = Ee[Se + 0], Xe = Ee[Se + Pe], pt = Ee[Se + 2 * Pe], qe = 27 * (ht = _r[1020 + 3 * (Ke - Te) + _r[1020 + et - Xe]]) + 63 >> 7, ut = 18 * ht + 63 >> 7, ht = 9 * ht + 63 >> 7; Ee[Se - 3 * Pe] = Tn[255 + Ee[Se - 3 * Pe] + ht], Ee[Se - 2 * Pe] = Tn[255 + et + ut], Ee[Se - Pe] = Tn[255 + Te + qe], Ee[Se + 0] = Tn[255 + Ke - qe], Ee[Se + Pe] = Tn[255 + Xe - ut], Ee[Se + 2 * Pe] = Tn[255 + pt - ht] } k += J } } function Tl(C, k, P, J, ce, he, ge, ye) { for (he = 2 * he + 1; 0 < ce--;) { if (Mo(C, k, P, he, ge)) if (Io(C, k, P, ye)) ja(C, k, P); else { var Ee = C, Se = k, Pe = P, et = Ee[Se - Pe], Te = Ee[Se + 0], Ke = Ee[Se + Pe], Xe = Xr[112 + (4 + (pt = 3 * (Te - et)) >> 3)], pt = Xr[112 + (pt + 3 >> 3)], qe = Xe + 1 >> 1; Ee[Se - 2 * Pe] = Tn[255 + Ee[Se - 2 * Pe] + qe], Ee[Se - Pe] = Tn[255 + et + pt], Ee[Se + 0] = Tn[255 + Te - Xe], Ee[Se + Pe] = Tn[255 + Ke - qe] } k += J } } function ou(C, k, P, J, ce, he) { kl(C, k, P, 1, 16, J, ce, he) } function Qo(C, k, P, J, ce, he) { kl(C, k, 1, P, 16, J, ce, he) } function Sc(C, k, P, J, ce, he) { var ge; for (ge = 3; 0 < ge; --ge)Tl(C, k += 4 * P, P, 1, 16, J, ce, he) } function Q(C, k, P, J, ce, he) { var ge; for (ge = 3; 0 < ge; --ge)Tl(C, k += 4, 1, P, 16, J, ce, he) } function le(C, k, P, J, ce, he, ge, ye) { kl(C, k, ce, 1, 8, he, ge, ye), kl(P, J, ce, 1, 8, he, ge, ye) } function Fe(C, k, P, J, ce, he, ge, ye) { kl(C, k, 1, ce, 8, he, ge, ye), kl(P, J, 1, ce, 8, he, ge, ye) } function De(C, k, P, J, ce, he, ge, ye) { Tl(C, k + 4 * ce, ce, 1, 8, he, ge, ye), Tl(P, J + 4 * ce, ce, 1, 8, he, ge, ye) } function Ge(C, k, P, J, ce, he, ge, ye) { Tl(C, k + 4, 1, ce, 8, he, ge, ye), Tl(P, J + 4, 1, ce, 8, he, ge, ye) } function gt() { this.ba = new hn, this.ec = [], this.cc = [], this.Mc = [], this.Dc = this.Nc = this.dc = this.fc = 0, this.Oa = new ar, this.memory = 0, this.Ib = "OutputFunc", this.Jb = "OutputAlphaFunc", this.Nd = "OutputRowFunc" } function xt() { this.data = [], this.offset = this.kd = this.ha = this.w = 0, this.na = [], this.xa = this.gb = this.Ja = this.Sa = this.P = 0 } function Gt() { this.nc = this.Ea = this.b = this.hc = 0, this.K = [], this.w = 0 } function tn() { this.ua = 0, this.Wa = new _e, this.vb = new _e, this.md = this.xc = this.wc = 0, this.vc = [], this.Wb = 0, this.Ya = new pe, this.yc = new se } function Sn() { this.xb = this.a = 0, this.l = new ya, this.ca = new hn, this.V = [], this.Ba = 0, this.Ta = [], this.Ua = 0, this.m = new re, this.Pb = 0, this.wd = new re, this.Ma = this.$ = this.C = this.i = this.c = this.xd = 0, this.s = new tn, this.ab = 0, this.gc = a(4, Gt), this.Oc = 0 } function On() { this.Lc = this.Z = this.$a = this.i = this.c = 0, this.l = new ya, this.ic = 0, this.ca = [], this.tb = 0, this.qd = null, this.rd = 0 } function vr(C, k, P, J, ce, he, ge) { for (C = C == null ? 0 : C[k + 0], k = 0; k < ge; ++k)ce[he + k] = C + P[J + k] & 255, C = ce[he + k] } function yi(C, k, P, J, ce, he, ge) { var ye; if (C == null) vr(null, null, P, J, ce, he, ge); else for (ye = 0; ye < ge; ++ye)ce[he + ye] = C[k + ye] + P[J + ye] & 255 } function Qi(C, k, P, J, ce, he, ge) { if (C == null) vr(null, null, P, J, ce, he, ge); else { var ye, Ee = C[k + 0], Se = Ee, Pe = Ee; for (ye = 0; ye < ge; ++ye)Se = Pe + (Ee = C[k + ye]) - Se, Pe = P[J + ye] + (-256 & Se ? 0 > Se ? 0 : 255 : Se) & 255, Se = Ee, ce[he + ye] = Pe } } function Vn(C, k, P, J) { var ce = k.width, he = k.o; if (e(C != null && k != null), 0 > P || 0 >= J || P + J > he) return null; if (!C.Cc) { if (C.ga == null) { var ge; if (C.ga = new On, (ge = C.ga == null) || (ge = k.width * k.o, e(C.Gb.length == 0), C.Gb = s(ge), C.Uc = 0, C.Gb == null ? ge = 0 : (C.mb = C.Gb, C.nb = C.Uc, C.rc = null, ge = 1), ge = !ge), !ge) { ge = C.ga; var ye = C.Fa, Ee = C.P, Se = C.qc, Pe = C.mb, et = C.nb, Te = Ee + 1, Ke = Se - 1, Xe = ge.l; if (e(ye != null && Pe != null && k != null), Xi[0] = null, Xi[1] = vr, Xi[2] = yi, Xi[3] = Qi, ge.ca = Pe, ge.tb = et, ge.c = k.width, ge.i = k.height, e(0 < ge.c && 0 < ge.i), 1 >= Se) k = 0; else if (ge.$a = 3 & ye[Ee + 0], ge.Z = ye[Ee + 0] >> 2 & 3, ge.Lc = ye[Ee + 0] >> 4 & 3, Ee = ye[Ee + 0] >> 6 & 3, 0 > ge.$a || 1 < ge.$a || 4 <= ge.Z || 1 < ge.Lc || Ee) k = 0; else if (Xe.put = pn, Xe.ac = Qa, Xe.bc = rl, Xe.ma = ge, Xe.width = k.width, Xe.height = k.height, Xe.Da = k.Da, Xe.v = k.v, Xe.va = k.va, Xe.j = k.j, Xe.o = k.o, ge.$a) e: { e(ge.$a == 1), k = Vl(); t: for (; ;) { if (k == null) { k = 0; break e } if (e(ge != null), ge.mc = k, k.c = ge.c, k.i = ge.i, k.l = ge.l, k.l.ma = ge, k.l.width = ge.c, k.l.height = ge.i, k.a = 0, ke(k.m, ye, Te, Ke), !$n(ge.c, ge.i, 1, k, null) || (k.ab == 1 && k.gc[0].hc == 3 && Kr(k.s) ? (ge.ic = 1, ye = k.c * k.i, k.Ta = null, k.Ua = 0, k.V = s(ye), k.Ba = 0, k.V == null ? (k.a = 1, k = 0) : k = 1) : (ge.ic = 0, k = cr(k, ge.c)), !k)) break t; k = 1; break e } ge.mc = null, k = 0 } else k = Ke >= ge.c * ge.i; ge = !k } if (ge) return null; C.ga.Lc != 1 ? C.Ga = 0 : J = he - P } e(C.ga != null), e(P + J <= he); e: { if (k = (ye = C.ga).c, he = ye.l.o, ye.$a == 0) { if (Te = C.rc, Ke = C.Vc, Xe = C.Fa, Ee = C.P + 1 + P * k, Se = C.mb, Pe = C.nb + P * k, e(Ee <= C.P + C.qc), ye.Z != 0) for (e(Xi[ye.Z] != null), ge = 0; ge < J; ++ge)Xi[ye.Z](Te, Ke, Xe, Ee, Se, Pe, k), Te = Se, Ke = Pe, Pe += k, Ee += k; else for (ge = 0; ge < J; ++ge)r(Se, Pe, Xe, Ee, k), Te = Se, Ke = Pe, Pe += k, Ee += k; C.rc = Te, C.Vc = Ke } else { if (e(ye.mc != null), k = P + J, e((ge = ye.mc) != null), e(k <= ge.i), ge.C >= k) k = 1; else if (ye.ic || _s(), ye.ic) { ye = ge.V, Te = ge.Ba, Ke = ge.c; var pt = ge.i, qe = (Xe = 1, Ee = ge.$ / Ke, Se = ge.$ % Ke, Pe = ge.m, et = ge.s, ge.$), ut = Ke * pt, ht = Ke * k, Nt = et.wc, vt = qe < ht ? Li(et, Se, Ee) : null; e(qe <= ut), e(k <= pt), e(Kr(et)); t: for (; ;) { for (; !Pe.h && qe < ht;) { if (Se & Nt || (vt = Li(et, Se, Ee)), e(vt != null), Be(Pe), 256 > (pt = Ar(vt.G[0], vt.H[0], Pe))) ye[Te + qe] = pt, ++qe, ++Se >= Ke && (Se = 0, ++Ee <= k && !(Ee % 16) && cs(ge, Ee)); else { if (!(280 > pt)) { Xe = 0; break t } pt = Cs(pt - 256, Pe); var Yt, Mt = Ar(vt.G[4], vt.H[4], Pe); if (Be(Pe), !(qe >= (Mt = Mr(Ke, Mt = Cs(Mt, Pe))) && ut - qe >= pt)) { Xe = 0; break t } for (Yt = 0; Yt < pt; ++Yt)ye[Te + qe + Yt] = ye[Te + qe + Yt - Mt]; for (qe += pt, Se += pt; Se >= Ke;)Se -= Ke, ++Ee <= k && !(Ee % 16) && cs(ge, Ee); qe < ht && Se & Nt && (vt = Li(et, Se, Ee)) } e(Pe.h == oe(Pe)) } cs(ge, Ee > k ? k : Ee); break t } !Xe || Pe.h && qe < ut ? (Xe = 0, ge.a = Pe.h ? 5 : 3) : ge.$ = qe, k = Xe } else k = va(ge, ge.V, ge.Ba, ge.c, ge.i, k, $a); if (!k) { J = 0; break e } } P + J >= he && (C.Cc = 1), J = 1 } if (!J) return null; if (C.Cc && ((J = C.ga) != null && (J.mc = null), C.ga = null, 0 < C.Ga)) return alert("todo:WebPDequantizeLevels"), null } return C.nb + P * ce } function di(C, k, P, J, ce, he) { for (; 0 < ce--;) { var ge, ye = C, Ee = k + (P ? 1 : 0), Se = C, Pe = k + (P ? 0 : 3); for (ge = 0; ge < J; ++ge) { var et = Se[Pe + 4 * ge]; et != 255 && (et *= 32897, ye[Ee + 4 * ge + 0] = ye[Ee + 4 * ge + 0] * et >> 23, ye[Ee + 4 * ge + 1] = ye[Ee + 4 * ge + 1] * et >> 23, ye[Ee + 4 * ge + 2] = ye[Ee + 4 * ge + 2] * et >> 23) } k += he } } function _i(C, k, P, J, ce) { for (; 0 < J--;) { var he; for (he = 0; he < P; ++he) { var ge = C[k + 2 * he + 0], ye = 15 & (Se = C[k + 2 * he + 1]), Ee = 4369 * ye, Se = (240 & Se | Se >> 4) * Ee >> 16; C[k + 2 * he + 0] = (240 & ge | ge >> 4) * Ee >> 16 & 240 | (15 & ge | ge << 4) * Ee >> 16 >> 4 & 15, C[k + 2 * he + 1] = 240 & Se | ye } k += ce } } function Wi(C, k, P, J, ce, he, ge, ye) { var Ee, Se, Pe = 255; for (Se = 0; Se < ce; ++Se) { for (Ee = 0; Ee < J; ++Ee) { var et = C[k + Ee]; he[ge + 4 * Ee] = et, Pe &= et } k += P, ge += ye } return Pe != 255 } function ol(C, k, P, J, ce) { var he; for (he = 0; he < ce; ++he)P[J + he] = C[k + he] >> 8 } function _s() { wt = di, ft = _i, Ot = Wi, qt = ol } function Ms(C, k, P) { G[C] = function (J, ce, he, ge, ye, Ee, Se, Pe, et, Te, Ke, Xe, pt, qe, ut, ht, Nt) { var vt, Yt = Nt - 1 >> 1, Mt = ye[Ee + 0] | Se[Pe + 0] << 16, Bn = et[Te + 0] | Ke[Xe + 0] << 16; e(J != null); var Dt = 3 * Mt + Bn + 131074 >> 2; for (k(J[ce + 0], 255 & Dt, Dt >> 16, pt, qe), he != null && (Dt = 3 * Bn + Mt + 131074 >> 2, k(he[ge + 0], 255 & Dt, Dt >> 16, ut, ht)), vt = 1; vt <= Yt; ++vt) { var Jn = ye[Ee + vt] | Se[Pe + vt] << 16, wr = et[Te + vt] | Ke[Xe + vt] << 16, Hn = Mt + Jn + Bn + wr + 524296, Ht = Hn + 2 * (Jn + Bn) >> 3; Dt = Ht + Mt >> 1, Mt = (Hn = Hn + 2 * (Mt + wr) >> 3) + Jn >> 1, k(J[ce + 2 * vt - 1], 255 & Dt, Dt >> 16, pt, qe + (2 * vt - 1) * P), k(J[ce + 2 * vt - 0], 255 & Mt, Mt >> 16, pt, qe + (2 * vt - 0) * P), he != null && (Dt = Hn + Bn >> 1, Mt = Ht + wr >> 1, k(he[ge + 2 * vt - 1], 255 & Dt, Dt >> 16, ut, ht + (2 * vt - 1) * P), k(he[ge + 2 * vt + 0], 255 & Mt, Mt >> 16, ut, ht + (2 * vt + 0) * P)), Mt = Jn, Bn = wr } 1 & Nt || (Dt = 3 * Mt + Bn + 131074 >> 2, k(J[ce + Nt - 1], 255 & Dt, Dt >> 16, pt, qe + (Nt - 1) * P), he != null && (Dt = 3 * Bn + Mt + 131074 >> 2, k(he[ge + Nt - 1], 255 & Dt, Dt >> 16, ut, ht + (Nt - 1) * P))) } } function Fl() { Hi[ir] = po, Hi[Pr] = ll, Hi[or] = nA, Hi[hi] = go, Hi[yr] = Al, Hi[li] = Wr, Hi[ti] = la, Hi[Vr] = ll, Hi[ps] = go, Hi[ho] = Al, Hi[js] = Wr } function za(C) { return C & -16384 ? 0 > C ? 0 : 255 : C >> Yo } function ai(C, k) { return za((19077 * C >> 8) + (26149 * k >> 8) - 14234) } function Qs(C, k, P) { return za((19077 * C >> 8) - (6419 * k >> 8) - (13320 * P >> 8) + 8708) } function Er(C, k) { return za((19077 * C >> 8) + (33050 * k >> 8) - 17685) } function ds(C, k, P, J, ce) { J[ce + 0] = ai(C, P), J[ce + 1] = Qs(C, k, P), J[ce + 2] = Er(C, k) } function Yi(C, k, P, J, ce) { J[ce + 0] = Er(C, k), J[ce + 1] = Qs(C, k, P), J[ce + 2] = ai(C, P) } function oo(C, k, P, J, ce) { var he = Qs(C, k, P); k = he << 3 & 224 | Er(C, k) >> 3, J[ce + 0] = 248 & ai(C, P) | he >> 5, J[ce + 1] = k } function Ul(C, k, P, J, ce) { var he = 240 & Er(C, k) | 15; J[ce + 0] = 240 & ai(C, P) | Qs(C, k, P) >> 4, J[ce + 1] = he } function $l(C, k, P, J, ce) { J[ce + 0] = 255, ds(C, k, P, J, ce + 1) } function Do(C, k, P, J, ce) { Yi(C, k, P, J, ce), J[ce + 3] = 255 } function hs(C, k, P, J, ce) { ds(C, k, P, J, ce), J[ce + 3] = 255 } function lo(C, k, P) { G[C] = function (J, ce, he, ge, ye, Ee, Se, Pe, et) { for (var Te = Pe + (-2 & et) * P; Pe != Te;)k(J[ce + 0], he[ge + 0], ye[Ee + 0], Se, Pe), k(J[ce + 1], he[ge + 0], ye[Ee + 0], Se, Pe + P), ce += 2, ++ge, ++Ee, Pe += 2 * P; 1 & et && k(J[ce + 0], he[ge + 0], ye[Ee + 0], Se, Pe) } } function Ns(C, k, P) { return P == 0 ? C == 0 ? k == 0 ? 6 : 5 : k == 0 ? 4 : 0 : P } function xA(C, k, P, J, ce) { switch (C >>> 30) { case 3: fo(k, P, J, ce, 0); break; case 2: Ni(k, P, J, ce); break; case 1: Sr(k, P, J, ce) } } function Ds(C, k) { var P, J, ce = k.M, he = k.Nb, ge = C.oc, ye = C.pc + 40, Ee = C.oc, Se = C.pc + 584, Pe = C.oc, et = C.pc + 600; for (P = 0; 16 > P; ++P)ge[ye + 32 * P - 1] = 129; for (P = 0; 8 > P; ++P)Ee[Se + 32 * P - 1] = 129, Pe[et + 32 * P - 1] = 129; for (0 < ce ? ge[ye - 1 - 32] = Ee[Se - 1 - 32] = Pe[et - 1 - 32] = 129 : (i(ge, ye - 32 - 1, 127, 21), i(Ee, Se - 32 - 1, 127, 9), i(Pe, et - 32 - 1, 127, 9)), J = 0; J < C.za; ++J) { var Te = k.ya[k.aa + J]; if (0 < J) { for (P = -1; 16 > P; ++P)r(ge, ye + 32 * P - 4, ge, ye + 32 * P + 12, 4); for (P = -1; 8 > P; ++P)r(Ee, Se + 32 * P - 4, Ee, Se + 32 * P + 4, 4), r(Pe, et + 32 * P - 4, Pe, et + 32 * P + 4, 4) } var Ke = C.Gd, Xe = C.Hd + J, pt = Te.ad, qe = Te.Hc; if (0 < ce && (r(ge, ye - 32, Ke[Xe].y, 0, 16), r(Ee, Se - 32, Ke[Xe].f, 0, 8), r(Pe, et - 32, Ke[Xe].ea, 0, 8)), Te.Za) { var ut = ge, ht = ye - 32 + 16; for (0 < ce && (J >= C.za - 1 ? i(ut, ht, Ke[Xe].y[15], 4) : r(ut, ht, Ke[Xe + 1].y, 0, 4)), P = 0; 4 > P; P++)ut[ht + 128 + P] = ut[ht + 256 + P] = ut[ht + 384 + P] = ut[ht + 0 + P]; for (P = 0; 16 > P; ++P, qe <<= 2)ut = ge, ht = ye + Ai[P], Gr[Te.Ob[P]](ut, ht), xA(qe, pt, 16 * +P, ut, ht) } else if (ut = Ns(J, ce, Te.Ob[0]), pi[ut](ge, ye), qe != 0) for (P = 0; 16 > P; ++P, qe <<= 2)xA(qe, pt, 16 * +P, ge, ye + Ai[P]); for (P = Te.Gc, ut = Ns(J, ce, Te.Dd), Ba[ut](Ee, Se), Ba[ut](Pe, et), qe = pt, ut = Ee, ht = Se, 255 & (Te = 0 | P) && (170 & Te ? ra(qe, 256, ut, ht) : Gn(qe, 256, ut, ht)), Te = Pe, qe = et, 255 & (P >>= 8) && (170 & P ? ra(pt, 320, Te, qe) : Gn(pt, 320, Te, qe)), ce < C.Ub - 1 && (r(Ke[Xe].y, 0, ge, ye + 480, 16), r(Ke[Xe].f, 0, Ee, Se + 224, 8), r(Ke[Xe].ea, 0, Pe, et + 224, 8)), P = 8 * he * C.B, Ke = C.sa, Xe = C.ta + 16 * J + 16 * he * C.R, pt = C.qa, Te = C.ra + 8 * J + P, qe = C.Ha, ut = C.Ia + 8 * J + P, P = 0; 16 > P; ++P)r(Ke, Xe + P * C.R, ge, ye + 32 * P, 16); for (P = 0; 8 > P; ++P)r(pt, Te + P * C.B, Ee, Se + 32 * P, 8), r(qe, ut + P * C.B, Pe, et + 32 * P, 8) } } function $s(C, k, P, J, ce, he, ge, ye, Ee) { var Se = [0], Pe = [0], et = 0, Te = Ee != null ? Ee.kd : 0, Ke = Ee ?? new xt; if (C == null || 12 > P) return 7; Ke.data = C, Ke.w = k, Ke.ha = P, k = [k], P = [P], Ke.gb = [Ke.gb]; e: { var Xe = k, pt = P, qe = Ke.gb; if (e(C != null), e(pt != null), e(qe != null), qe[0] = 0, 12 <= pt[0] && !t(C, Xe[0], "RIFF")) { if (t(C, Xe[0] + 8, "WEBP")) { qe = 3; break e } var ut = $(C, Xe[0] + 4); if (12 > ut || 4294967286 < ut) { qe = 3; break e } if (Te && ut > pt[0] - 8) { qe = 7; break e } qe[0] = ut, Xe[0] += 12, pt[0] -= 12 } qe = 0 } if (qe != 0) return qe; for (ut = 0 < Ke.gb[0], P = P[0]; ;) { e: { var ht = C; pt = k, qe = P; var Nt = Se, vt = Pe, Yt = Xe = [0]; if ((Dt = et = [et])[0] = 0, 8 > qe[0]) qe = 7; else { if (!t(ht, pt[0], "VP8X")) { if ($(ht, pt[0] + 4) != 10) { qe = 3; break e } if (18 > qe[0]) { qe = 7; break e } var Mt = $(ht, pt[0] + 8), Bn = 1 + at(ht, pt[0] + 12); if (2147483648 <= Bn * (ht = 1 + at(ht, pt[0] + 15))) { qe = 3; break e } Yt != null && (Yt[0] = Mt), Nt != null && (Nt[0] = Bn), vt != null && (vt[0] = ht), pt[0] += 18, qe[0] -= 18, Dt[0] = 1 } qe = 0 } } if (et = et[0], Xe = Xe[0], qe != 0) return qe; if (pt = !!(2 & Xe), !ut && et) return 3; if (he != null && (he[0] = !!(16 & Xe)), ge != null && (ge[0] = pt), ye != null && (ye[0] = 0), ge = Se[0], Xe = Pe[0], et && pt && Ee == null) { qe = 0; break } if (4 > P) { qe = 7; break } if (ut && et || !ut && !et && !t(C, k[0], "ALPH")) { P = [P], Ke.na = [Ke.na], Ke.P = [Ke.P], Ke.Sa = [Ke.Sa]; e: { Mt = C, qe = k, ut = P; var Dt = Ke.gb; Nt = Ke.na, vt = Ke.P, Yt = Ke.Sa, Bn = 22, e(Mt != null), e(ut != null), ht = qe[0]; var Jn = ut[0]; for (e(Nt != null), e(Yt != null), Nt[0] = null, vt[0] = null, Yt[0] = 0; ;) { if (qe[0] = ht, ut[0] = Jn, 8 > Jn) { qe = 7; break e } var wr = $(Mt, ht + 4); if (4294967286 < wr) { qe = 3; break e } var Hn = 8 + wr + 1 & -2; if (Bn += Hn, 0 < Dt && Bn > Dt) { qe = 3; break e } if (!t(Mt, ht, "VP8 ") || !t(Mt, ht, "VP8L")) { qe = 0; break e } if (Jn[0] < Hn) { qe = 7; break e } t(Mt, ht, "ALPH") || (Nt[0] = Mt, vt[0] = ht + 8, Yt[0] = wr), ht += Hn, Jn -= Hn } } if (P = P[0], Ke.na = Ke.na[0], Ke.P = Ke.P[0], Ke.Sa = Ke.Sa[0], qe != 0) break } P = [P], Ke.Ja = [Ke.Ja], Ke.xa = [Ke.xa]; e: if (Dt = C, qe = k, ut = P, Nt = Ke.gb[0], vt = Ke.Ja, Yt = Ke.xa, Mt = qe[0], ht = !t(Dt, Mt, "VP8 "), Bn = !t(Dt, Mt, "VP8L"), e(Dt != null), e(ut != null), e(vt != null), e(Yt != null), 8 > ut[0]) qe = 7; else { if (ht || Bn) { if (Dt = $(Dt, Mt + 4), 12 <= Nt && Dt > Nt - 12) { qe = 3; break e } if (Te && Dt > ut[0] - 8) { qe = 7; break e } vt[0] = Dt, qe[0] += 8, ut[0] -= 8, Yt[0] = Bn } else Yt[0] = 5 <= ut[0] && Dt[Mt + 0] == 47 && !(Dt[Mt + 4] >> 5), vt[0] = ut[0]; qe = 0 } if (P = P[0], Ke.Ja = Ke.Ja[0], Ke.xa = Ke.xa[0], k = k[0], qe != 0) break; if (4294967286 < Ke.Ja) return 3; if (ye == null || pt || (ye[0] = Ke.xa ? 2 : 1), ge = [ge], Xe = [Xe], Ke.xa) { if (5 > P) { qe = 7; break } ye = ge, Te = Xe, pt = he, C == null || 5 > P ? C = 0 : 5 <= P && C[k + 0] == 47 && !(C[k + 4] >> 5) ? (ut = [0], Dt = [0], Nt = [0], ke(vt = new re, C, k, P), ma(vt, ut, Dt, Nt) ? (ye != null && (ye[0] = ut[0]), Te != null && (Te[0] = Dt[0]), pt != null && (pt[0] = Nt[0]), C = 1) : C = 0) : C = 0 } else { if (10 > P) { qe = 7; break } ye = Xe, C == null || 10 > P || !no(C, k + 3, P - 3) ? C = 0 : (Te = C[k + 0] | C[k + 1] << 8 | C[k + 2] << 16, pt = 16383 & (C[k + 7] << 8 | C[k + 6]), C = 16383 & (C[k + 9] << 8 | C[k + 8]), 1 & Te || 3 < (Te >> 1 & 7) || !(Te >> 4 & 1) || Te >> 5 >= Ke.Ja || !pt || !C ? C = 0 : (ge && (ge[0] = pt), ye && (ye[0] = C), C = 1)) } if (!C || (ge = ge[0], Xe = Xe[0], et && (Se[0] != ge || Pe[0] != Xe))) return 3; Ee != null && (Ee[0] = Ke, Ee.offset = k - Ee.w, e(4294967286 > k - Ee.w), e(Ee.offset == Ee.ha - P)); break } return qe == 0 || qe == 7 && et && Ee == null ? (he != null && (he[0] |= Ke.na != null && 0 < Ke.na.length), J != null && (J[0] = ge), ce != null && (ce[0] = Xe), 0) : qe } function Ao(C, k, P) { var J = k.width, ce = k.height, he = 0, ge = 0, ye = J, Ee = ce; if (k.Da = C != null && 0 < C.Da, k.Da && (ye = C.cd, Ee = C.bd, he = C.v, ge = C.j, 11 > P || (he &= -2, ge &= -2), 0 > he || 0 > ge || 0 >= ye || 0 >= Ee || he + ye > J || ge + Ee > ce)) return 0; if (k.v = he, k.j = ge, k.va = he + ye, k.o = ge + Ee, k.U = ye, k.T = Ee, k.da = C != null && 0 < C.da, k.da) { if (!we(ye, Ee, P = [C.ib], he = [C.hb])) return 0; k.ib = P[0], k.hb = he[0] } return k.ob = C != null && C.ob, k.Kb = C == null || !C.Sd, k.da && (k.ob = k.ib < 3 * J / 4 && k.hb < 3 * ce / 4, k.Kb = 0), 1 } function eA(C) { if (C == null) return 2; if (11 > C.S) { var k = C.f.RGBA; k.fb += (C.height - 1) * k.A, k.A = -k.A } else k = C.f.kb, C = C.height, k.O += (C - 1) * k.fa, k.fa = -k.fa, k.N += (C - 1 >> 1) * k.Ab, k.Ab = -k.Ab, k.W += (C - 1 >> 1) * k.Db, k.Db = -k.Db, k.F != null && (k.J += (C - 1) * k.lb, k.lb = -k.lb); return 0 } function xa(C, k, P, J) { if (J == null || 0 >= C || 0 >= k) return 2; if (P != null) { if (P.Da) { var ce = P.cd, he = P.bd, ge = -2 & P.v, ye = -2 & P.j; if (0 > ge || 0 > ye || 0 >= ce || 0 >= he || ge + ce > C || ye + he > k) return 2; C = ce, k = he } if (P.da) { if (!we(C, k, ce = [P.ib], he = [P.hb])) return 2; C = ce[0], k = he[0] } } J.width = C, J.height = k; e: { var Ee = J.width, Se = J.height; if (C = J.S, 0 >= Ee || 0 >= Se || !(C >= ir && 13 > C)) C = 2; else { if (0 >= J.Rd && J.sd == null) { ge = he = ce = k = 0; var Pe = (ye = Ee * ul[C]) * Se; if (11 > C || (he = (Se + 1) / 2 * (k = (Ee + 1) / 2), C == 12 && (ge = (ce = Ee) * Se)), (Se = s(Pe + 2 * he + ge)) == null) { C = 1; break e } J.sd = Se, 11 > C ? ((Ee = J.f.RGBA).eb = Se, Ee.fb = 0, Ee.A = ye, Ee.size = Pe) : ((Ee = J.f.kb).y = Se, Ee.O = 0, Ee.fa = ye, Ee.Fd = Pe, Ee.f = Se, Ee.N = 0 + Pe, Ee.Ab = k, Ee.Cd = he, Ee.ea = Se, Ee.W = 0 + Pe + he, Ee.Db = k, Ee.Ed = he, C == 12 && (Ee.F = Se, Ee.J = 0 + Pe + 2 * he), Ee.Tc = ge, Ee.lb = ce) } if (k = 1, ce = J.S, he = J.width, ge = J.height, ce >= ir && 13 > ce) if (11 > ce) C = J.f.RGBA, k &= (ye = Math.abs(C.A)) * (ge - 1) + he <= C.size, k &= ye >= he * ul[ce], k &= C.eb != null; else { C = J.f.kb, ye = (he + 1) / 2, Pe = (ge + 1) / 2, Ee = Math.abs(C.fa), Se = Math.abs(C.Ab); var et = Math.abs(C.Db), Te = Math.abs(C.lb), Ke = Te * (ge - 1) + he; k &= Ee * (ge - 1) + he <= C.Fd, k &= Se * (Pe - 1) + ye <= C.Cd, k = (k &= et * (Pe - 1) + ye <= C.Ed) & Ee >= he & Se >= ye & et >= ye, k &= C.y != null, k &= C.f != null, k &= C.ea != null, ce == 12 && (k &= Te >= he, k &= Ke <= C.Tc, k &= C.F != null) } else k = 0; C = k ? 0 : 2 } } return C != 0 || P != null && P.fd && (C = eA(J)), C } var Po = 64, Nr = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215], ea = 24, Ps = 32, co = 8, Ho = [0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7]; Je("Predictor0", "PredictorAdd0"), G.Predictor0 = function () { return 4278190080 }, G.Predictor1 = function (C) { return C }, G.Predictor2 = function (C, k, P) { return k[P + 0] }, G.Predictor3 = function (C, k, P) { return k[P + 1] }, G.Predictor4 = function (C, k, P) { return k[P - 1] }, G.Predictor5 = function (C, k, P) { return lt(lt(C, k[P + 1]), k[P + 0]) }, G.Predictor6 = function (C, k, P) { return lt(C, k[P - 1]) }, G.Predictor7 = function (C, k, P) { return lt(C, k[P + 0]) }, G.Predictor8 = function (C, k, P) { return lt(k[P - 1], k[P + 0]) }, G.Predictor9 = function (C, k, P) { return lt(k[P + 0], k[P + 1]) }, G.Predictor10 = function (C, k, P) { return lt(lt(C, k[P - 1]), lt(k[P + 0], k[P + 1])) }, G.Predictor11 = function (C, k, P) { var J = k[P + 0]; return 0 >= Ct(J >> 24 & 255, C >> 24 & 255, (k = k[P - 1]) >> 24 & 255) + Ct(J >> 16 & 255, C >> 16 & 255, k >> 16 & 255) + Ct(J >> 8 & 255, C >> 8 & 255, k >> 8 & 255) + Ct(255 & J, 255 & C, 255 & k) ? J : C }, G.Predictor12 = function (C, k, P) { var J = k[P + 0]; return (Bt((C >> 24 & 255) + (J >> 24 & 255) - ((k = k[P - 1]) >> 24 & 255)) << 24 | Bt((C >> 16 & 255) + (J >> 16 & 255) - (k >> 16 & 255)) << 16 | Bt((C >> 8 & 255) + (J >> 8 & 255) - (k >> 8 & 255)) << 8 | Bt((255 & C) + (255 & J) - (255 & k))) >>> 0 }, G.Predictor13 = function (C, k, P) { var J = k[P - 1]; return (st((C = lt(C, k[P + 0])) >> 24 & 255, J >> 24 & 255) << 24 | st(C >> 16 & 255, J >> 16 & 255) << 16 | st(C >> 8 & 255, J >> 8 & 255) << 8 | st(255 & C, 255 & J)) >>> 0 }; var tA = G.PredictorAdd0; G.PredictorAdd1 = Xt, Je("Predictor2", "PredictorAdd2"), Je("Predictor3", "PredictorAdd3"), Je("Predictor4", "PredictorAdd4"), Je("Predictor5", "PredictorAdd5"), Je("Predictor6", "PredictorAdd6"), Je("Predictor7", "PredictorAdd7"), Je("Predictor8", "PredictorAdd8"), Je("Predictor9", "PredictorAdd9"), Je("Predictor10", "PredictorAdd10"), Je("Predictor11", "PredictorAdd11"), Je("Predictor12", "PredictorAdd12"), Je("Predictor13", "PredictorAdd13"); var Ol = G.PredictorAdd2; Pt("ColorIndexInverseTransform", "MapARGB", "32b", function (C) { return C >> 8 & 255 }, function (C) { return C }), Pt("VP8LColorIndexInverseTransformAlpha", "MapAlpha", "8b", function (C) { return C }, function (C) { return C >> 8 & 255 }); var oi, jo = G.ColorIndexInverseTransform, zo = G.MapARGB, Hs = G.VP8LColorIndexInverseTransformAlpha, Di = G.MapAlpha, ta = G.VP8LPredictorsAdd = []; ta.length = 16, (G.VP8LPredictors = []).length = 16, (G.VP8LPredictorsAdd_C = []).length = 16, (G.VP8LPredictors_C = []).length = 16; var Ko, uo, na, Vo, Go, Ka, ks, fo, Ni, ra, Sr, Gn, Dr, wi, x, S, R, K, ee, be, Ue, ot, ze, At, wt, ft, Ot, qt, Wn = s(511), Pn = s(2041), Mn = s(225), Ln = s(767), zn = 0, _r = Pn, Xr = Mn, Tn = Ln, Rn = Wn, ir = 0, Pr = 1, or = 2, hi = 3, yr = 4, li = 5, ti = 6, Vr = 7, ps = 8, ho = 9, js = 10, zs = [2, 3, 7], Wo = [3, 3, 11], ki = [280, 256, 256, 256, 40], ia = [0, 1, 1, 1, 0], sa = [17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], Ti = [24, 7, 23, 25, 40, 6, 39, 41, 22, 26, 38, 42, 56, 5, 55, 57, 21, 27, 54, 58, 37, 43, 72, 4, 71, 73, 20, 28, 53, 59, 70, 74, 36, 44, 88, 69, 75, 52, 60, 3, 87, 89, 19, 29, 86, 90, 35, 45, 68, 76, 85, 91, 51, 61, 104, 2, 103, 105, 18, 30, 102, 106, 34, 46, 84, 92, 67, 77, 101, 107, 50, 62, 120, 1, 119, 121, 83, 93, 17, 31, 100, 108, 66, 78, 118, 122, 33, 47, 117, 123, 49, 63, 99, 109, 82, 94, 0, 116, 124, 65, 79, 16, 32, 98, 110, 48, 115, 125, 81, 95, 64, 114, 126, 97, 111, 80, 113, 127, 96, 112], Ji = [2954, 2956, 2958, 2962, 2970, 2986, 3018, 3082, 3212, 3468, 3980, 5004], aa = 8, Hr = [4, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 16, 17, 17, 18, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 93, 95, 96, 98, 100, 101, 102, 104, 106, 108, 110, 112, 114, 116, 118, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 143, 145, 148, 151, 154, 157], gs = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167, 170, 173, 177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 217, 221, 225, 229, 234, 239, 245, 249, 254, 259, 264, 269, 274, 279, 284], Ts = null, lu = [[173, 148, 140, 0], [176, 155, 140, 135, 0], [180, 157, 141, 134, 130, 0], [254, 254, 243, 230, 196, 177, 153, 140, 133, 130, 129, 0]], _c = [0, 1, 4, 8, 5, 2, 3, 6, 9, 12, 13, 10, 7, 11, 14, 15], Nc = [-0, 1, -1, 2, -2, 3, 4, 6, -3, 5, -4, -5, -6, 7, -7, 8, -8, -9], Au = [[[[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]], [[253, 136, 254, 255, 228, 219, 128, 128, 128, 128, 128], [189, 129, 242, 255, 227, 213, 255, 219, 128, 128, 128], [106, 126, 227, 252, 214, 209, 255, 255, 128, 128, 128]], [[1, 98, 248, 255, 236, 226, 255, 255, 128, 128, 128], [181, 133, 238, 254, 221, 234, 255, 154, 128, 128, 128], [78, 134, 202, 247, 198, 180, 255, 219, 128, 128, 128]], [[1, 185, 249, 255, 243, 255, 128, 128, 128, 128, 128], [184, 150, 247, 255, 236, 224, 128, 128, 128, 128, 128], [77, 110, 216, 255, 236, 230, 128, 128, 128, 128, 128]], [[1, 101, 251, 255, 241, 255, 128, 128, 128, 128, 128], [170, 139, 241, 252, 236, 209, 255, 255, 128, 128, 128], [37, 116, 196, 243, 228, 255, 255, 255, 128, 128, 128]], [[1, 204, 254, 255, 245, 255, 128, 128, 128, 128, 128], [207, 160, 250, 255, 238, 128, 128, 128, 128, 128, 128], [102, 103, 231, 255, 211, 171, 128, 128, 128, 128, 128]], [[1, 152, 252, 255, 240, 255, 128, 128, 128, 128, 128], [177, 135, 243, 255, 234, 225, 128, 128, 128, 128, 128], [80, 129, 211, 255, 194, 224, 128, 128, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [246, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [255, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[198, 35, 237, 223, 193, 187, 162, 160, 145, 155, 62], [131, 45, 198, 221, 172, 176, 220, 157, 252, 221, 1], [68, 47, 146, 208, 149, 167, 221, 162, 255, 223, 128]], [[1, 149, 241, 255, 221, 224, 255, 255, 128, 128, 128], [184, 141, 234, 253, 222, 220, 255, 199, 128, 128, 128], [81, 99, 181, 242, 176, 190, 249, 202, 255, 255, 128]], [[1, 129, 232, 253, 214, 197, 242, 196, 255, 255, 128], [99, 121, 210, 250, 201, 198, 255, 202, 128, 128, 128], [23, 91, 163, 242, 170, 187, 247, 210, 255, 255, 128]], [[1, 200, 246, 255, 234, 255, 128, 128, 128, 128, 128], [109, 178, 241, 255, 231, 245, 255, 255, 128, 128, 128], [44, 130, 201, 253, 205, 192, 255, 255, 128, 128, 128]], [[1, 132, 239, 251, 219, 209, 255, 165, 128, 128, 128], [94, 136, 225, 251, 218, 190, 255, 255, 128, 128, 128], [22, 100, 174, 245, 186, 161, 255, 199, 128, 128, 128]], [[1, 182, 249, 255, 232, 235, 128, 128, 128, 128, 128], [124, 143, 241, 255, 227, 234, 128, 128, 128, 128, 128], [35, 77, 181, 251, 193, 211, 255, 205, 128, 128, 128]], [[1, 157, 247, 255, 236, 231, 255, 255, 128, 128, 128], [121, 141, 235, 255, 225, 227, 255, 255, 128, 128, 128], [45, 99, 188, 251, 195, 217, 255, 224, 128, 128, 128]], [[1, 1, 251, 255, 213, 255, 128, 128, 128, 128, 128], [203, 1, 248, 255, 255, 128, 128, 128, 128, 128, 128], [137, 1, 177, 255, 224, 255, 128, 128, 128, 128, 128]]], [[[253, 9, 248, 251, 207, 208, 255, 192, 128, 128, 128], [175, 13, 224, 243, 193, 185, 249, 198, 255, 255, 128], [73, 17, 171, 221, 161, 179, 236, 167, 255, 234, 128]], [[1, 95, 247, 253, 212, 183, 255, 255, 128, 128, 128], [239, 90, 244, 250, 211, 209, 255, 255, 128, 128, 128], [155, 77, 195, 248, 188, 195, 255, 255, 128, 128, 128]], [[1, 24, 239, 251, 218, 219, 255, 205, 128, 128, 128], [201, 51, 219, 255, 196, 186, 128, 128, 128, 128, 128], [69, 46, 190, 239, 201, 218, 255, 228, 128, 128, 128]], [[1, 191, 251, 255, 255, 128, 128, 128, 128, 128, 128], [223, 165, 249, 255, 213, 255, 128, 128, 128, 128, 128], [141, 124, 248, 255, 255, 128, 128, 128, 128, 128, 128]], [[1, 16, 248, 255, 255, 128, 128, 128, 128, 128, 128], [190, 36, 230, 255, 236, 255, 128, 128, 128, 128, 128], [149, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 226, 255, 128, 128, 128, 128, 128, 128, 128, 128], [247, 192, 255, 128, 128, 128, 128, 128, 128, 128, 128], [240, 128, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 134, 252, 255, 255, 128, 128, 128, 128, 128, 128], [213, 62, 250, 255, 255, 128, 128, 128, 128, 128, 128], [55, 93, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[202, 24, 213, 235, 186, 191, 220, 160, 240, 175, 255], [126, 38, 182, 232, 169, 184, 228, 174, 255, 187, 128], [61, 46, 138, 219, 151, 178, 240, 170, 255, 216, 128]], [[1, 112, 230, 250, 199, 191, 247, 159, 255, 255, 128], [166, 109, 228, 252, 211, 215, 255, 174, 128, 128, 128], [39, 77, 162, 232, 172, 180, 245, 178, 255, 255, 128]], [[1, 52, 220, 246, 198, 199, 249, 220, 255, 255, 128], [124, 74, 191, 243, 183, 193, 250, 221, 255, 255, 128], [24, 71, 130, 219, 154, 170, 243, 182, 255, 255, 128]], [[1, 182, 225, 249, 219, 240, 255, 224, 128, 128, 128], [149, 150, 226, 252, 216, 205, 255, 171, 128, 128, 128], [28, 108, 170, 242, 183, 194, 254, 223, 255, 255, 128]], [[1, 81, 230, 252, 204, 203, 255, 192, 128, 128, 128], [123, 102, 209, 247, 188, 196, 255, 233, 128, 128, 128], [20, 95, 153, 243, 164, 173, 255, 203, 128, 128, 128]], [[1, 222, 248, 255, 216, 213, 128, 128, 128, 128, 128], [168, 175, 246, 252, 235, 205, 255, 255, 128, 128, 128], [47, 116, 215, 255, 211, 212, 255, 255, 128, 128, 128]], [[1, 121, 236, 253, 212, 214, 255, 255, 128, 128, 128], [141, 84, 213, 252, 201, 202, 255, 219, 128, 128, 128], [42, 80, 160, 240, 162, 185, 255, 205, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [244, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [238, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]]]], Pi = [[[231, 120, 48, 89, 115, 113, 120, 152, 112], [152, 179, 64, 126, 170, 118, 46, 70, 95], [175, 69, 143, 80, 85, 82, 72, 155, 103], [56, 58, 10, 171, 218, 189, 17, 13, 152], [114, 26, 17, 163, 44, 195, 21, 10, 173], [121, 24, 80, 195, 26, 62, 44, 64, 85], [144, 71, 10, 38, 171, 213, 144, 34, 26], [170, 46, 55, 19, 136, 160, 33, 206, 71], [63, 20, 8, 114, 114, 208, 12, 9, 226], [81, 40, 11, 96, 182, 84, 29, 16, 36]], [[134, 183, 89, 137, 98, 101, 106, 165, 148], [72, 187, 100, 130, 157, 111, 32, 75, 80], [66, 102, 167, 99, 74, 62, 40, 234, 128], [41, 53, 9, 178, 241, 141, 26, 8, 107], [74, 43, 26, 146, 73, 166, 49, 23, 157], [65, 38, 105, 160, 51, 52, 31, 115, 128], [104, 79, 12, 27, 217, 255, 87, 17, 7], [87, 68, 71, 44, 114, 51, 15, 186, 23], [47, 41, 14, 110, 182, 183, 21, 17, 194], [66, 45, 25, 102, 197, 189, 23, 18, 22]], [[88, 88, 147, 150, 42, 46, 45, 196, 205], [43, 97, 183, 117, 85, 38, 35, 179, 61], [39, 53, 200, 87, 26, 21, 43, 232, 171], [56, 34, 51, 104, 114, 102, 29, 93, 77], [39, 28, 85, 171, 58, 165, 90, 98, 64], [34, 22, 116, 206, 23, 34, 43, 166, 73], [107, 54, 32, 26, 51, 1, 81, 43, 31], [68, 25, 106, 22, 64, 171, 36, 225, 114], [34, 19, 21, 102, 132, 188, 16, 76, 124], [62, 18, 78, 95, 85, 57, 50, 48, 51]], [[193, 101, 35, 159, 215, 111, 89, 46, 111], [60, 148, 31, 172, 219, 228, 21, 18, 111], [112, 113, 77, 85, 179, 255, 38, 120, 114], [40, 42, 1, 196, 245, 209, 10, 25, 109], [88, 43, 29, 140, 166, 213, 37, 43, 154], [61, 63, 30, 155, 67, 45, 68, 1, 209], [100, 80, 8, 43, 154, 1, 51, 26, 71], [142, 78, 78, 16, 255, 128, 34, 197, 171], [41, 40, 5, 102, 211, 183, 4, 1, 221], [51, 50, 17, 168, 209, 192, 23, 25, 82]], [[138, 31, 36, 171, 27, 166, 38, 44, 229], [67, 87, 58, 169, 82, 115, 26, 59, 179], [63, 59, 90, 180, 59, 166, 93, 73, 154], [40, 40, 21, 116, 143, 209, 34, 39, 175], [47, 15, 16, 183, 34, 223, 49, 45, 183], [46, 17, 33, 183, 6, 98, 15, 32, 183], [57, 46, 22, 24, 128, 1, 54, 17, 37], [65, 32, 73, 115, 28, 128, 23, 128, 205], [40, 3, 9, 115, 51, 192, 18, 6, 223], [87, 37, 9, 115, 59, 77, 64, 21, 47]], [[104, 55, 44, 218, 9, 54, 53, 130, 226], [64, 90, 70, 205, 40, 41, 23, 26, 57], [54, 57, 112, 184, 5, 41, 38, 166, 213], [30, 34, 26, 133, 152, 116, 10, 32, 134], [39, 19, 53, 221, 26, 114, 32, 73, 255], [31, 9, 65, 234, 2, 15, 1, 118, 73], [75, 32, 12, 51, 192, 255, 160, 43, 51], [88, 31, 35, 67, 102, 85, 55, 186, 85], [56, 21, 23, 111, 59, 205, 45, 37, 192], [55, 38, 70, 124, 73, 102, 1, 34, 98]], [[125, 98, 42, 88, 104, 85, 117, 175, 82], [95, 84, 53, 89, 128, 100, 113, 101, 45], [75, 79, 123, 47, 51, 128, 81, 171, 1], [57, 17, 5, 71, 102, 57, 53, 41, 49], [38, 33, 13, 121, 57, 73, 26, 1, 85], [41, 10, 67, 138, 77, 110, 90, 47, 114], [115, 21, 2, 10, 102, 255, 166, 23, 6], [101, 29, 16, 10, 85, 128, 101, 196, 26], [57, 18, 10, 102, 102, 213, 34, 20, 43], [117, 20, 15, 36, 163, 128, 68, 1, 26]], [[102, 61, 71, 37, 34, 53, 31, 243, 192], [69, 60, 71, 38, 73, 119, 28, 222, 37], [68, 45, 128, 34, 1, 47, 11, 245, 171], [62, 17, 19, 70, 146, 85, 55, 62, 70], [37, 43, 37, 154, 100, 163, 85, 160, 1], [63, 9, 92, 136, 28, 64, 32, 201, 85], [75, 15, 9, 9, 64, 255, 184, 119, 16], [86, 6, 28, 5, 64, 255, 25, 248, 1], [56, 8, 17, 132, 137, 255, 55, 116, 128], [58, 15, 20, 82, 135, 57, 26, 121, 40]], [[164, 50, 31, 137, 154, 133, 25, 35, 218], [51, 103, 44, 131, 131, 123, 31, 6, 158], [86, 40, 64, 135, 148, 224, 45, 183, 128], [22, 26, 17, 131, 240, 154, 14, 1, 209], [45, 16, 21, 91, 64, 222, 7, 1, 197], [56, 21, 39, 155, 60, 138, 23, 102, 213], [83, 12, 13, 54, 192, 255, 68, 47, 28], [85, 26, 85, 85, 128, 128, 32, 146, 171], [18, 11, 7, 63, 144, 171, 4, 4, 246], [35, 27, 10, 146, 174, 171, 12, 26, 128]], [[190, 80, 35, 99, 180, 80, 126, 54, 45], [85, 126, 47, 87, 176, 51, 41, 20, 32], [101, 75, 128, 139, 118, 146, 116, 128, 85], [56, 41, 15, 176, 236, 85, 37, 9, 62], [71, 30, 17, 119, 118, 255, 17, 18, 138], [101, 38, 60, 138, 55, 70, 43, 26, 142], [146, 36, 19, 30, 171, 255, 97, 27, 20], [138, 45, 61, 62, 219, 1, 81, 188, 64], [32, 41, 20, 117, 151, 142, 20, 21, 163], [112, 19, 12, 61, 195, 128, 48, 4, 24]]], ni = [[[[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[176, 246, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 241, 252, 255, 255, 255, 255, 255, 255, 255, 255], [249, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 244, 252, 255, 255, 255, 255, 255, 255, 255, 255], [234, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255], [239, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 254, 255, 255, 255, 255, 255, 255], [250, 255, 254, 255, 254, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[217, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [225, 252, 241, 253, 255, 255, 254, 255, 255, 255, 255], [234, 250, 241, 250, 253, 255, 253, 254, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [238, 253, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [249, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255], [247, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[186, 251, 250, 255, 255, 255, 255, 255, 255, 255, 255], [234, 251, 244, 254, 255, 255, 255, 255, 255, 255, 255], [251, 251, 243, 253, 254, 255, 254, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [236, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 253, 253, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [250, 254, 252, 254, 255, 255, 255, 255, 255, 255, 255], [248, 254, 249, 253, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [246, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 254, 251, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 252, 255, 255, 255, 255, 255, 255, 255, 255], [248, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [245, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255], [249, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]]], Yn = [0, 1, 2, 3, 6, 4, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 0], pi = [], Gr = [], Ba = [], oa = 1, kc = 2, Xi = [], Hi = []; Ms("UpsampleRgbLinePair", ds, 3), Ms("UpsampleBgrLinePair", Yi, 3), Ms("UpsampleRgbaLinePair", hs, 4), Ms("UpsampleBgraLinePair", Do, 4), Ms("UpsampleArgbLinePair", $l, 4), Ms("UpsampleRgba4444LinePair", Ul, 2), Ms("UpsampleRgb565LinePair", oo, 2); var po = G.UpsampleRgbLinePair, nA = G.UpsampleBgrLinePair, ll = G.UpsampleRgbaLinePair, go = G.UpsampleBgraLinePair, Al = G.UpsampleArgbLinePair, Wr = G.UpsampleRgba4444LinePair, la = G.UpsampleRgb565LinePair, Fs = 16, Va = 1 << Fs - 1, cl = -227, ss = 482, Yo = 6, Ca = 0, Yr = s(256), Zi = s(256), BA = s(256), Ks = s(256), Lu = s(ss - cl), Tc = s(ss - cl); lo("YuvToRgbRow", ds, 3), lo("YuvToBgrRow", Yi, 3), lo("YuvToRgbaRow", hs, 4), lo("YuvToBgraRow", Do, 4), lo("YuvToArgbRow", $l, 4), lo("YuvToRgba4444Row", Ul, 2), lo("YuvToRgb565Row", oo, 2); var Ai = [0, 4, 8, 12, 128, 132, 136, 140, 256, 260, 264, 268, 384, 388, 392, 396], CA = [0, 2, 8], JA = [8, 7, 6, 4, 4, 2, 2, 2, 1, 1, 1, 1], Ga = 1; this.WebPDecodeRGBA = function (C, k, P, J, ce) { var he = Pr, ge = new gt, ye = new hn; ge.ba = ye, ye.S = he, ye.width = [ye.width], ye.height = [ye.height]; var Ee = ye.width, Se = ye.height, Pe = new Zt; if (Pe == null || C == null) var et = 2; else e(Pe != null), et = $s(C, k, P, Pe.width, Pe.height, Pe.Pd, Pe.Qd, Pe.format, null); if (et != 0 ? Ee = 0 : (Ee != null && (Ee[0] = Pe.width[0]), Se != null && (Se[0] = Pe.height[0]), Ee = 1), Ee) { ye.width = ye.width[0], ye.height = ye.height[0], J != null && (J[0] = ye.width), ce != null && (ce[0] = ye.height); e: { if (J = new ya, (ce = new xt).data = C, ce.w = k, ce.ha = P, ce.kd = 1, k = [0], e(ce != null), ((C = $s(ce.data, ce.w, ce.ha, null, null, null, k, null, ce)) == 0 || C == 7) && k[0] && (C = 4), (k = C) == 0) { if (e(ge != null), J.data = ce.data, J.w = ce.w + ce.offset, J.ha = ce.ha - ce.offset, J.put = pn, J.ac = Qa, J.bc = rl, J.ma = ge, ce.xa) { if ((C = Vl()) == null) { ge = 1; break e } if ((function (Te, Ke) { var Xe = [0], pt = [0], qe = [0]; t: for (; ;) { if (Te == null) return 0; if (Ke == null) return Te.a = 2, 0; if (Te.l = Ke, Te.a = 0, ke(Te.m, Ke.data, Ke.w, Ke.ha), !ma(Te.m, Xe, pt, qe)) { Te.a = 3; break t } if (Te.xb = kc, Ke.width = Xe[0], Ke.height = pt[0], !$n(Xe[0], pt[0], 1, Te, null)) break t; return 1 } return e(Te.a != 0), 0 })(C, J)) { if (J = (k = xa(J.width, J.height, ge.Oa, ge.ba)) == 0) { t: { J = C; n: for (; ;) { if (J == null) { J = 0; break t } if (e(J.s.yc != null), e(J.s.Ya != null), e(0 < J.s.Wb), e((P = J.l) != null), e((ce = P.ma) != null), J.xb != 0) { if (J.ca = ce.ba, J.tb = ce.tb, e(J.ca != null), !Ao(ce.Oa, P, hi)) { J.a = 2; break n } if (!cr(J, P.width) || P.da) break n; if ((P.da || Qt(J.ca.S)) && _s(), 11 > J.ca.S || (alert("todo:WebPInitConvertARGBToYUV"), J.ca.f.kb.F != null && _s()), J.Pb && 0 < J.s.ua && J.s.vb.X == null && !Ae(J.s.vb, J.s.Wa.Xa)) { J.a = 1; break n } J.xb = 0 } if (!va(J, J.V, J.Ba, J.c, J.i, P.o, rr)) break n; ce.Dc = J.Ma, J = 1; break t } e(J.a != 0), J = 0 } J = !J } J && (k = C.a) } else k = C.a } else { if ((C = new wa) == null) { ge = 1; break e } if (C.Fa = ce.na, C.P = ce.P, C.qc = ce.Sa, ro(C, J)) { if ((k = xa(J.width, J.height, ge.Oa, ge.ba)) == 0) { if (C.Aa = 0, P = ge.Oa, e((ce = C) != null), P != null) { if (0 < (Ee = 0 > (Ee = P.Md) ? 0 : 100 < Ee ? 255 : 255 * Ee / 100)) { for (Se = Pe = 0; 4 > Se; ++Se)12 > (et = ce.pb[Se]).lc && (et.ia = Ee * JA[0 > et.lc ? 0 : et.lc] >> 3), Pe |= et.ia; Pe && (alert("todo:VP8InitRandom"), ce.ia = 1) } ce.Ga = P.Id, 100 < ce.Ga ? ce.Ga = 100 : 0 > ce.Ga && (ce.Ga = 0) } (function (Te, Ke) { if (Te == null) return 0; if (Ke == null) return hr(Te, 2, "NULL VP8Io parameter in VP8Decode()."); if (!Te.cb && !ro(Te, Ke)) return 0; if (e(Te.cb), Ke.ac == null || Ke.ac(Ke)) { Ke.ob && (Te.L = 0); var Xe = CA[Te.L]; if (Te.L == 2 ? (Te.yb = 0, Te.zb = 0) : (Te.yb = Ke.v - Xe >> 4, Te.zb = Ke.j - Xe >> 4, 0 > Te.yb && (Te.yb = 0), 0 > Te.zb && (Te.zb = 0)), Te.Va = Ke.o + 15 + Xe >> 4, Te.Hb = Ke.va + 15 + Xe >> 4, Te.Hb > Te.za && (Te.Hb = Te.za), Te.Va > Te.Ub && (Te.Va = Te.Ub), 0 < Te.L) { var pt = Te.ed; for (Xe = 0; 4 > Xe; ++Xe) { var qe; if (Te.Qa.Cb) { var ut = Te.Qa.Lb[Xe]; Te.Qa.Fb || (ut += pt.Tb) } else ut = pt.Tb; for (qe = 0; 1 >= qe; ++qe) { var ht = Te.gd[Xe][qe], Nt = ut; if (pt.Pc && (Nt += pt.vd[0], qe && (Nt += pt.od[0])), 0 < (Nt = 0 > Nt ? 0 : 63 < Nt ? 63 : Nt)) { var vt = Nt; 0 < pt.wb && (vt = 4 < pt.wb ? vt >> 2 : vt >> 1) > 9 - pt.wb && (vt = 9 - pt.wb), 1 > vt && (vt = 1), ht.dd = vt, ht.tc = 2 * Nt + vt, ht.ld = 40 <= Nt ? 2 : 15 <= Nt ? 1 : 0 } else ht.tc = 0; ht.La = qe } } } Xe = 0 } else hr(Te, 6, "Frame setup failed"), Xe = Te.a; if (Xe = Xe == 0) { if (Xe) { Te.$c = 0, 0 < Te.Aa || (Te.Ic = Ga); t: { Xe = Te.Ic, pt = 4 * (vt = Te.za); var Yt = 32 * vt, Mt = vt + 1, Bn = 0 < Te.L ? vt * (0 < Te.Aa ? 2 : 1) : 0, Dt = (Te.Aa == 2 ? 2 : 1) * vt; if ((ht = pt + 832 + (qe = 3 * (16 * Xe + CA[Te.L]) / 2 * Yt) + (ut = Te.Fa != null && 0 < Te.Fa.length ? Te.Kc.c * Te.Kc.i : 0)) != ht) Xe = 0; else { if (ht > Te.Vb) { if (Te.Vb = 0, Te.Ec = s(ht), Te.Fc = 0, Te.Ec == null) { Xe = hr(Te, 1, "no memory during frame initialization."); break t } Te.Vb = ht } ht = Te.Ec, Nt = Te.Fc, Te.Ac = ht, Te.Bc = Nt, Nt += pt, Te.Gd = a(Yt, Wl), Te.Hd = 0, Te.rb = a(Mt + 1, Qr), Te.sb = 1, Te.wa = Bn ? a(Bn, Es) : null, Te.Y = 0, Te.D.Nb = 0, Te.D.wa = Te.wa, Te.D.Y = Te.Y, 0 < Te.Aa && (Te.D.Y += vt), e(!0), Te.oc = ht, Te.pc = Nt, Nt += 832, Te.ya = a(Dt, Gl), Te.aa = 0, Te.D.ya = Te.ya, Te.D.aa = Te.aa, Te.Aa == 2 && (Te.D.aa += vt), Te.R = 16 * vt, Te.B = 8 * vt, vt = (Yt = CA[Te.L]) * Te.R, Yt = Yt / 2 * Te.B, Te.sa = ht, Te.ta = Nt + vt, Te.qa = Te.sa, Te.ra = Te.ta + 16 * Xe * Te.R + Yt, Te.Ha = Te.qa, Te.Ia = Te.ra + 8 * Xe * Te.B + Yt, Te.$c = 0, Nt += qe, Te.mb = ut ? ht : null, Te.nb = ut ? Nt : null, e(Nt + ut <= Te.Fc + Te.Vb), Nl(Te), i(Te.Ac, Te.Bc, 0, pt), Xe = 1 } } if (Xe) { if (Ke.ka = 0, Ke.y = Te.sa, Ke.O = Te.ta, Ke.f = Te.qa, Ke.N = Te.ra, Ke.ea = Te.Ha, Ke.Vd = Te.Ia, Ke.fa = Te.R, Ke.Rc = Te.B, Ke.F = null, Ke.J = 0, !zn) { for (Xe = -255; 255 >= Xe; ++Xe)Wn[255 + Xe] = 0 > Xe ? -Xe : Xe; for (Xe = -1020; 1020 >= Xe; ++Xe)Pn[1020 + Xe] = -128 > Xe ? -128 : 127 < Xe ? 127 : Xe; for (Xe = -112; 112 >= Xe; ++Xe)Mn[112 + Xe] = -16 > Xe ? -16 : 15 < Xe ? 15 : Xe; for (Xe = -255; 510 >= Xe; ++Xe)Ln[255 + Xe] = 0 > Xe ? 0 : 255 < Xe ? 255 : Xe; zn = 1 } ks = To, fo = yA, ra = Ss, Sr = io, Gn = WA, Ni = ko, Dr = ou, wi = Qo, x = le, S = Fe, R = Sc, K = Q, ee = De, be = Ge, Ue = sl, ot = al, ze = ql, At = Ec, Gr[0] = YA, Gr[1] = wA, Gr[2] = ao, Gr[3] = bA, Gr[4] = Zs, Gr[5] = Ur, Gr[6] = Gi, Gr[7] = Uo, Gr[8] = Oo, Gr[9] = Ls, pi[0] = Fo, pi[1] = Bc, pi[2] = Cc, pi[3] = us, pi[4] = so, pi[5] = il, pi[6] = Xl, Ba[0] = Ro, Ba[1] = au, Ba[2] = ba, Ba[3] = Zl, Ba[4] = Mi, Ba[5] = Ha, Ba[6] = fs, Xe = 1 } else Xe = 0 } Xe && (Xe = (function (Jn, wr) { for (Jn.M = 0; Jn.M < Jn.Va; ++Jn.M) { var Hn, Ht = Jn.Jc[Jn.M & Jn.Xb], Tt = Jn.m, Zr = Jn; for (Hn = 0; Hn < Zr.za; ++Hn) { var fn = Tt, _n = Zr, lr = _n.Ac, Or = _n.Bc + 4 * Hn, qi = _n.zc, Jr = _n.ya[_n.aa + Hn]; if (_n.Qa.Bb ? Jr.$b = Ye(fn, _n.Pa.jb[0]) ? 2 + Ye(fn, _n.Pa.jb[2]) : Ye(fn, _n.Pa.jb[1]) : Jr.$b = 0, _n.kc && (Jr.Ad = Ye(fn, _n.Bd)), Jr.Za = !Ye(fn, 145) + 0, Jr.Za) { var ci = Jr.Ob, w = 0; for (_n = 0; 4 > _n; ++_n) { var B, T = qi[0 + _n]; for (B = 0; 4 > B; ++B) { T = Pi[lr[Or + B]][T]; for (var H = Nc[Ye(fn, T[0])]; 0 < H;)H = Nc[2 * H + Ye(fn, T[H])]; T = -H, lr[Or + B] = T } r(ci, w, lr, Or, 4), w += 4, qi[0 + _n] = T } } else T = Ye(fn, 156) ? Ye(fn, 128) ? 1 : 3 : Ye(fn, 163) ? 2 : 0, Jr.Ob[0] = T, i(lr, Or, T, 4), i(qi, 0, T, 4); Jr.Dd = Ye(fn, 142) ? Ye(fn, 114) ? Ye(fn, 183) ? 1 : 3 : 2 : 0 } if (Zr.m.Ka) return hr(Jn, 7, "Premature end-of-partition0 encountered."); for (; Jn.ja < Jn.za; ++Jn.ja) { if (Zr = Ht, fn = (Tt = Jn).rb[Tt.sb - 1], lr = Tt.rb[Tt.sb + Tt.ja], Hn = Tt.ya[Tt.aa + Tt.ja], Or = Tt.kc ? Hn.Ad : 0) fn.la = lr.la = 0, Hn.Za || (fn.Na = lr.Na = 0), Hn.Hc = 0, Hn.Gc = 0, Hn.ia = 0; else { var Y, ue; if (fn = lr, lr = Zr, Or = Tt.Pa.Xc, qi = Tt.ya[Tt.aa + Tt.ja], Jr = Tt.pb[qi.$b], _n = qi.ad, ci = 0, w = Tt.rb[Tt.sb - 1], T = B = 0, i(_n, ci, 0, 384), qi.Za) var xe = 0, He = Or[3]; else { H = s(16); var Oe = fn.Na + w.Na; if (Oe = Ts(lr, Or[1], Oe, Jr.Eb, 0, H, 0), fn.Na = w.Na = (0 < Oe) + 0, 1 < Oe) ks(H, 0, _n, ci); else { var je = H[0] + 3 >> 3; for (H = 0; 256 > H; H += 16)_n[ci + H] = je } xe = 1, He = Or[0] } var We = 15 & fn.la, nt = 15 & w.la; for (H = 0; 4 > H; ++H) { var _t = 1 & nt; for (je = ue = 0; 4 > je; ++je)We = We >> 1 | (_t = (Oe = Ts(lr, He, Oe = _t + (1 & We), Jr.Sc, xe, _n, ci)) > xe) << 7, ue = ue << 2 | (3 < Oe ? 3 : 1 < Oe ? 2 : _n[ci + 0] != 0), ci += 16; We >>= 4, nt = nt >> 1 | _t << 7, B = (B << 8 | ue) >>> 0 } for (He = We, xe = nt >> 4, Y = 0; 4 > Y; Y += 2) { for (ue = 0, We = fn.la >> 4 + Y, nt = w.la >> 4 + Y, H = 0; 2 > H; ++H) { for (_t = 1 & nt, je = 0; 2 > je; ++je)Oe = _t + (1 & We), We = We >> 1 | (_t = 0 < (Oe = Ts(lr, Or[2], Oe, Jr.Qc, 0, _n, ci))) << 3, ue = ue << 2 | (3 < Oe ? 3 : 1 < Oe ? 2 : _n[ci + 0] != 0), ci += 16; We >>= 2, nt = nt >> 1 | _t << 5 } T |= ue << 4 * Y, He |= We << 4 << Y, xe |= (240 & nt) << Y } fn.la = He, w.la = xe, qi.Hc = B, qi.Gc = T, qi.ia = 43690 & T ? 0 : Jr.ia, Or = !(B | T) } if (0 < Tt.L && (Tt.wa[Tt.Y + Tt.ja] = Tt.gd[Hn.$b][Hn.Za], Tt.wa[Tt.Y + Tt.ja].La |= !Or), Zr.Ka) return hr(Jn, 7, "Premature end-of-file encountered.") } if (Nl(Jn), Tt = wr, Zr = 1, Hn = (Ht = Jn).D, fn = 0 < Ht.L && Ht.M >= Ht.zb && Ht.M <= Ht.Va, Ht.Aa == 0) t: { if (Hn.M = Ht.M, Hn.uc = fn, Ds(Ht, Hn), Zr = 1, Hn = (ue = Ht.D).Nb, fn = (T = CA[Ht.L]) * Ht.R, lr = T / 2 * Ht.B, H = 16 * Hn * Ht.R, je = 8 * Hn * Ht.B, Or = Ht.sa, qi = Ht.ta - fn + H, Jr = Ht.qa, _n = Ht.ra - lr + je, ci = Ht.Ha, w = Ht.Ia - lr + je, nt = (We = ue.M) == 0, B = We >= Ht.Va - 1, Ht.Aa == 2 && Ds(Ht, ue), ue.uc) for (_t = (Oe = Ht).D.M, e(Oe.D.uc), ue = Oe.yb; ue < Oe.Hb; ++ue) { xe = ue, He = _t; var St = (zt = (ur = Oe).D).Nb; Y = ur.R; var zt = zt.wa[zt.Y + xe], gn = ur.sa, un = ur.ta + 16 * St * Y + 16 * xe, It = zt.dd, Rt = zt.tc; if (Rt != 0) if (e(3 <= Rt), ur.L == 1) 0 < xe && ot(gn, un, Y, Rt + 4), zt.La && At(gn, un, Y, Rt), 0 < He && Ue(gn, un, Y, Rt + 4), zt.La && ze(gn, un, Y, Rt); else { var Fn = ur.B, qr = ur.qa, bi = ur.ra + 8 * St * Fn + 8 * xe, sn = ur.Ha, ur = ur.Ia + 8 * St * Fn + 8 * xe; St = zt.ld, 0 < xe && (wi(gn, un, Y, Rt + 4, It, St), S(qr, bi, sn, ur, Fn, Rt + 4, It, St)), zt.La && (K(gn, un, Y, Rt, It, St), be(qr, bi, sn, ur, Fn, Rt, It, St)), 0 < He && (Dr(gn, un, Y, Rt + 4, It, St), x(qr, bi, sn, ur, Fn, Rt + 4, It, St)), zt.La && (R(gn, un, Y, Rt, It, St), ee(qr, bi, sn, ur, Fn, Rt, It, St)) } } if (Ht.ia && alert("todo:DitherRow"), Tt.put != null) { if (ue = 16 * We, We = 16 * (We + 1), nt ? (Tt.y = Ht.sa, Tt.O = Ht.ta + H, Tt.f = Ht.qa, Tt.N = Ht.ra + je, Tt.ea = Ht.Ha, Tt.W = Ht.Ia + je) : (ue -= T, Tt.y = Or, Tt.O = qi, Tt.f = Jr, Tt.N = _n, Tt.ea = ci, Tt.W = w), B || (We -= T), We > Tt.o && (We = Tt.o), Tt.F = null, Tt.J = null, Ht.Fa != null && 0 < Ht.Fa.length && ue < We && (Tt.J = Vn(Ht, Tt, ue, We - ue), Tt.F = Ht.mb, Tt.F == null && Tt.F.length == 0)) { Zr = hr(Ht, 3, "Could not decode alpha data."); break t } ue < Tt.j && (T = Tt.j - ue, ue = Tt.j, e(!(1 & T)), Tt.O += Ht.R * T, Tt.N += Ht.B * (T >> 1), Tt.W += Ht.B * (T >> 1), Tt.F != null && (Tt.J += Tt.width * T)), ue < We && (Tt.O += Tt.v, Tt.N += Tt.v >> 1, Tt.W += Tt.v >> 1, Tt.F != null && (Tt.J += Tt.v), Tt.ka = ue - Tt.j, Tt.U = Tt.va - Tt.v, Tt.T = We - ue, Zr = Tt.put(Tt)) } Hn + 1 != Ht.Ic || B || (r(Ht.sa, Ht.ta - fn, Or, qi + 16 * Ht.R, fn), r(Ht.qa, Ht.ra - lr, Jr, _n + 8 * Ht.B, lr), r(Ht.Ha, Ht.Ia - lr, ci, w + 8 * Ht.B, lr)) } if (!Zr) return hr(Jn, 6, "Output aborted.") } return 1 })(Te, Ke)), Ke.bc != null && Ke.bc(Ke), Xe &= 1 } return Xe ? (Te.cb = 0, Xe) : 0 })(C, J) || (k = C.a) } } else k = C.a } k == 0 && ge.Oa != null && ge.Oa.fd && (k = eA(ge.ba)) } ge = k } he = ge != 0 ? null : 11 > he ? ye.f.RGBA.eb : ye.f.kb.y } else he = null; return he }; var ul = [3, 4, 3, 4, 4, 2, 2, 4, 4, 4, 2, 1, 1] }; function u(G, fe) { for (var ne = "", V = 0; V < 4; V++)ne += String.fromCharCode(G[fe++]); return ne } function f(G, fe) { return G[fe + 0] | G[fe + 1] << 8 } function h(G, fe) { return (G[fe + 0] | G[fe + 1] << 8 | G[fe + 2] << 16) >>> 0 } function m(G, fe) { return (G[fe + 0] | G[fe + 1] << 8 | G[fe + 2] << 16 | G[fe + 3] << 24) >>> 0 } new A; var p = [0], b = [0], y = [], E = new A, _ = n, O = (function (G, fe) { var ne = {}, V = 0, se = !1, M = 0, pe = 0; if (ne.frames = [], !(function (L, re) { for (var ie = 0; ie < 4; ie++)if (L[re + ie] != "RIFF".charCodeAt(ie)) return !0; return !1 })(G, fe)) { for (m(G, fe += 4), fe += 8; fe < G.length;) { var Z = u(G, fe), ae = m(G, fe += 4); fe += 4; var me = ae + (1 & ae); switch (Z) { case "VP8 ": case "VP8L": ne.frames[V] === void 0 && (ne.frames[V] = {}), (j = ne.frames[V]).src_off = se ? pe : fe - 8, j.src_size = M + ae + 8, V++, se && (se = !1, M = 0, pe = 0); break; case "VP8X": (j = ne.header = {}).feature_flags = G[fe]; var ke = fe + 4; j.canvas_width = 1 + h(G, ke), ke += 3, j.canvas_height = 1 + h(G, ke), ke += 3; break; case "ALPH": se = !0, M = me + 8, pe = fe - 8; break; case "ANIM": (j = ne.header).bgcolor = m(G, fe), ke = fe + 4, j.loop_count = f(G, ke), ke += 2; break; case "ANMF": var Ce, j; (j = ne.frames[V] = {}).offset_x = 2 * h(G, fe), fe += 3, j.offset_y = 2 * h(G, fe), fe += 3, j.width = 1 + h(G, fe), fe += 3, j.height = 1 + h(G, fe), fe += 3, j.duration = h(G, fe), fe += 3, Ce = G[fe++], j.dispose = 1 & Ce, j.blend = Ce >> 1 & 1 }Z != "ANMF" && (fe += me) } return ne } })(_, 0); O.response = _, O.rgbaoutput = !0, O.dataurl = !1; var I = O.header ? O.header : null, D = O.frames ? O.frames : null; if (I) { I.loop_counter = I.loop_count, p = [I.canvas_height], b = [I.canvas_width]; for (var z = 0; z < D.length && D[z].blend != 0; z++); } var X = D[0], q = E.WebPDecodeRGBA(_, X.src_off, X.src_size, b, p); X.rgba = q, X.imgwidth = b[0], X.imgheight = p[0]; for (var W = 0; W < b[0] * p[0] * 4; W++)y[W] = q[W]; return this.width = b, this.height = p, this.data = y, this } (function (n) { var e, t, r, i, s, a, o, A, u, f = function (L) { return L = L || {}, this.isStrokeTransparent = L.isStrokeTransparent || !1, this.strokeOpacity = L.strokeOpacity || 1, this.strokeStyle = L.strokeStyle || "#000000", this.fillStyle = L.fillStyle || "#000000", this.isFillTransparent = L.isFillTransparent || !1, this.fillOpacity = L.fillOpacity || 1, this.font = L.font || "10px sans-serif", this.textBaseline = L.textBaseline || "alphabetic", this.textAlign = L.textAlign || "left", this.lineWidth = L.lineWidth || 1, this.lineJoin = L.lineJoin || "miter", this.lineCap = L.lineCap || "butt", this.path = L.path || [], this.transform = L.transform !== void 0 ? L.transform.clone() : new A, this.globalCompositeOperation = L.globalCompositeOperation || "normal", this.globalAlpha = L.globalAlpha || 1, this.clip_path = L.clip_path || [], this.currentPoint = L.currentPoint || new a, this.miterLimit = L.miterLimit || 10, this.lastPoint = L.lastPoint || new a, this.lineDashOffset = L.lineDashOffset || 0, this.lineDash = L.lineDash || [], this.margin = L.margin || [0, 0, 0, 0], this.prevPageLastElemOffset = L.prevPageLastElemOffset || 0, this.ignoreClearRect = typeof L.ignoreClearRect != "boolean" || L.ignoreClearRect, this }; n.events.push(["initialized", function () { this.context2d = new h(this), e = this.internal.f2, t = this.internal.getCoordinateString, r = this.internal.getVerticalCoordinateString, i = this.internal.getHorizontalCoordinate, s = this.internal.getVerticalCoordinate, a = this.internal.Point, o = this.internal.Rectangle, A = this.internal.Matrix, u = new f }]); var h = function (L) { Object.defineProperty(this, "canvas", { get: function () { return { parentNode: !1, style: !1 } } }); var re = L; Object.defineProperty(this, "pdf", { get: function () { return re } }); var ie = !1; Object.defineProperty(this, "pageWrapXEnabled", { get: function () { return ie }, set: function (Ae) { ie = !!Ae } }); var oe = !1; Object.defineProperty(this, "pageWrapYEnabled", { get: function () { return oe }, set: function (Ae) { oe = !!Ae } }); var de = 0; Object.defineProperty(this, "posX", { get: function () { return de }, set: function (Ae) { isNaN(Ae) || (de = Ae) } }); var Be = 0; Object.defineProperty(this, "posY", { get: function () { return Be }, set: function (Ae) { isNaN(Ae) || (Be = Ae) } }), Object.defineProperty(this, "margin", { get: function () { return u.margin }, set: function (Ae) { var Me; typeof Ae == "number" ? Me = [Ae, Ae, Ae, Ae] : ((Me = new Array(4))[0] = Ae[0], Me[1] = Ae.length >= 2 ? Ae[1] : Me[0], Me[2] = Ae.length >= 3 ? Ae[2] : Me[0], Me[3] = Ae.length >= 4 ? Ae[3] : Me[1]), u.margin = Me } }); var Re = !1; Object.defineProperty(this, "autoPaging", { get: function () { return Re }, set: function (Ae) { Re = Ae } }); var Ie = 0; Object.defineProperty(this, "lastBreak", { get: function () { return Ie }, set: function (Ae) { Ie = Ae } }); var Ye = []; Object.defineProperty(this, "pageBreaks", { get: function () { return Ye }, set: function (Ae) { Ye = Ae } }), Object.defineProperty(this, "ctx", { get: function () { return u }, set: function (Ae) { Ae instanceof f && (u = Ae) } }), Object.defineProperty(this, "path", { get: function () { return u.path }, set: function (Ae) { u.path = Ae } }); var $e = []; Object.defineProperty(this, "ctxStack", { get: function () { return $e }, set: function (Ae) { $e = Ae } }), Object.defineProperty(this, "fillStyle", { get: function () { return this.ctx.fillStyle }, set: function (Ae) { var Me; Me = m(Ae), this.ctx.fillStyle = Me.style, this.ctx.isFillTransparent = Me.a === 0, this.ctx.fillOpacity = Me.a, this.pdf.setFillColor(Me.r, Me.g, Me.b, { a: Me.a }), this.pdf.setTextColor(Me.r, Me.g, Me.b, { a: Me.a }) } }), Object.defineProperty(this, "strokeStyle", { get: function () { return this.ctx.strokeStyle }, set: function (Ae) { var Me = m(Ae); this.ctx.strokeStyle = Me.style, this.ctx.isStrokeTransparent = Me.a === 0, this.ctx.strokeOpacity = Me.a, Me.a === 0 ? this.pdf.setDrawColor(255, 255, 255) : (Me.a, this.pdf.setDrawColor(Me.r, Me.g, Me.b)) } }), Object.defineProperty(this, "lineCap", { get: function () { return this.ctx.lineCap }, set: function (Ae) { ["butt", "round", "square"].indexOf(Ae) !== -1 && (this.ctx.lineCap = Ae, this.pdf.setLineCap(Ae)) } }), Object.defineProperty(this, "lineWidth", { get: function () { return this.ctx.lineWidth }, set: function (Ae) { isNaN(Ae) || (this.ctx.lineWidth = Ae, this.pdf.setLineWidth(Ae)) } }), Object.defineProperty(this, "lineJoin", { get: function () { return this.ctx.lineJoin }, set: function (Ae) { ["bevel", "round", "miter"].indexOf(Ae) !== -1 && (this.ctx.lineJoin = Ae, this.pdf.setLineJoin(Ae)) } }), Object.defineProperty(this, "miterLimit", { get: function () { return this.ctx.miterLimit }, set: function (Ae) { isNaN(Ae) || (this.ctx.miterLimit = Ae, this.pdf.setMiterLimit(Ae)) } }), Object.defineProperty(this, "textBaseline", { get: function () { return this.ctx.textBaseline }, set: function (Ae) { this.ctx.textBaseline = Ae } }), Object.defineProperty(this, "textAlign", { get: function () { return this.ctx.textAlign }, set: function (Ae) { ["right", "end", "center", "left", "start"].indexOf(Ae) !== -1 && (this.ctx.textAlign = Ae) } }); var yt = null, at = null, $ = null; Object.defineProperty(this, "fontFaces", { get: function () { return $ }, set: function (Ae) { yt = null, at = null, $ = Ae } }), Object.defineProperty(this, "font", { get: function () { return this.ctx.font }, set: function (Ae) { var Me; if (this.ctx.font = Ae, (Me = /^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Ae)) !== null) { var _e = Me[1]; Me[2]; var we = Me[3], Ne = Me[4]; Me[5]; var tt = Me[6], Je = /^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2]; Ne = Math.floor(Je === "px" ? parseFloat(Ne) * this.pdf.internal.scaleFactor : Je === "em" ? parseFloat(Ne) * this.pdf.getFontSize() : parseFloat(Ne) * this.pdf.internal.scaleFactor), this.pdf.setFontSize(Ne); var Qe = (function (Pt) { var Br, en, nn = [], vn = Pt.trim(); if (vn === "") return QB; if (vn in hF) return [hF[vn]]; for (; vn !== "";) { switch (en = null, Br = (vn = gF(vn)).charAt(0)) { case '"': case "'": en = cue(vn.substring(1), Br); break; default: en = uue(vn) }if (en === null || (nn.push(en[0]), (vn = gF(en[1])) !== "" && vn.charAt(0) !== ",")) return QB; vn = vn.replace(/^,/, "") } return nn })(tt); if (this.fontFaces) { var lt = (function (Pt, Br) { var en = Pt.getFontList(), nn = JSON.stringify(en); if (yt === null || at !== nn) { var vn = (function (En) { var rn = []; return Object.keys(En).forEach(function (Fr) { En[Fr].forEach(function (Qt) { var Wt = null; switch (Qt) { case "bold": Wt = { family: Fr, weight: "bold" }; break; case "italic": Wt = { family: Fr, style: "italic" }; break; case "bolditalic": Wt = { family: Fr, weight: "bold", style: "italic" }; break; case "": case "normal": Wt = { family: Fr } }Wt !== null && (Wt.ref = { name: Fr, style: Qt }, rn.push(Wt)) }) }), rn })(en); yt = (function (En) { for (var rn = {}, Fr = 0; Fr < En.length; ++Fr) { var Qt = MB(En[Fr]), Wt = Qt.family, Cr = Qt.stretch, hn = Qt.style, Zt = Qt.weight; rn[Wt] = rn[Wt] || {}, rn[Wt][Cr] = rn[Wt][Cr] || {}, rn[Wt][Cr][hn] = rn[Wt][Cr][hn] || {}, rn[Wt][Cr][hn][Zt] = Qt } return rn })(vn.concat(Br)), at = nn } return yt })(this.pdf, this.fontFaces), Bt = Qe.map(function (Pt) { return { family: Pt, stretch: "normal", weight: we, style: _e } }), st = (function (Pt, Br, en) { for (var nn = (en = en || {}).defaultFontFamily || "times", vn = Object.assign({}, Aue, en.genericFontFamilies || {}), En = null, rn = null, Fr = 0; Fr < Br.length; ++Fr)if (vn[(En = MB(Br[Fr])).family] && (En.family = vn[En.family]), Pt.hasOwnProperty(En.family)) { rn = Pt[En.family]; break } if (!(rn = rn || Pt[nn])) throw new Error("Could not find a font-family for the rule '" + pF(En) + "' and default family '" + nn + "'."); if (rn = (function (Qt, Wt) { if (Wt[Qt]) return Wt[Qt]; var Cr = N5[Qt], hn = Cr <= N5.normal ? -1 : 1, Zt = dF(Wt, rD, Cr, hn); if (!Zt) throw new Error("Could not find a matching font-stretch value for " + Qt); return Zt })(En.stretch, rn), rn = (function (Qt, Wt) { if (Wt[Qt]) return Wt[Qt]; for (var Cr = nD[Qt], hn = 0; hn < Cr.length; ++hn)if (Wt[Cr[hn]]) return Wt[Cr[hn]]; throw new Error("Could not find a matching font-style for " + Qt) })(En.style, rn), !(rn = (function (Qt, Wt) { if (Wt[Qt]) return Wt[Qt]; if (Qt === 400 && Wt[500]) return Wt[500]; if (Qt === 500 && Wt[400]) return Wt[400]; var Cr = lue[Qt], hn = dF(Wt, iD, Cr, Qt < 400 ? -1 : 1); if (!hn) throw new Error("Could not find a matching font-weight for value " + Qt); return hn })(En.weight, rn))) throw new Error("Failed to resolve a font for the rule '" + pF(En) + "'."); return rn })(lt, Bt); this.pdf.setFont(st.ref.name, st.ref.style) } else { var Ct = ""; (we === "bold" || parseInt(we, 10) >= 700 || _e === "bold") && (Ct = "bold"), _e === "italic" && (Ct += "italic"), Ct.length === 0 && (Ct = "normal"); for (var Xt = "", Lt = { arial: "Helvetica", Arial: "Helvetica", verdana: "Helvetica", Verdana: "Helvetica", helvetica: "Helvetica", Helvetica: "Helvetica", "sans-serif": "Helvetica", fixed: "Courier", monospace: "Courier", terminal: "Courier", cursive: "Times", fantasy: "Times", serif: "Times" }, Ft = 0; Ft < Qe.length; Ft++) { if (this.pdf.internal.getFont(Qe[Ft], Ct, { noFallback: !0, disableWarning: !0 }) !== void 0) { Xt = Qe[Ft]; break } if (Ct === "bolditalic" && this.pdf.internal.getFont(Qe[Ft], "bold", { noFallback: !0, disableWarning: !0 }) !== void 0) Xt = Qe[Ft], Ct = "bold"; else if (this.pdf.internal.getFont(Qe[Ft], "normal", { noFallback: !0, disableWarning: !0 }) !== void 0) { Xt = Qe[Ft], Ct = "normal"; break } } if (Xt === "") { for (var bn = 0; bn < Qe.length; bn++)if (Lt[Qe[bn]]) { Xt = Lt[Qe[bn]]; break } } Xt = Xt === "" ? "Times" : Xt, this.pdf.setFont(Xt, Ct) } } } }), Object.defineProperty(this, "globalCompositeOperation", { get: function () { return this.ctx.globalCompositeOperation }, set: function (Ae) { this.ctx.globalCompositeOperation = Ae } }), Object.defineProperty(this, "globalAlpha", { get: function () { return this.ctx.globalAlpha }, set: function (Ae) { this.ctx.globalAlpha = Ae } }), Object.defineProperty(this, "lineDashOffset", { get: function () { return this.ctx.lineDashOffset }, set: function (Ae) { this.ctx.lineDashOffset = Ae, j.call(this) } }), Object.defineProperty(this, "lineDash", { get: function () { return this.ctx.lineDash }, set: function (Ae) { this.ctx.lineDash = Ae, j.call(this) } }), Object.defineProperty(this, "ignoreClearRect", { get: function () { return this.ctx.ignoreClearRect }, set: function (Ae) { this.ctx.ignoreClearRect = !!Ae } }) }; h.prototype.setLineDash = function (L) { this.lineDash = L }, h.prototype.getLineDash = function () { return this.lineDash.length % 2 ? this.lineDash.concat(this.lineDash) : this.lineDash.slice() }, h.prototype.fill = function () { D.call(this, "fill", !1) }, h.prototype.stroke = function () { D.call(this, "stroke", !1) }, h.prototype.beginPath = function () { this.path = [{ type: "begin" }] }, h.prototype.moveTo = function (L, re) { if (isNaN(L) || isNaN(re)) throw zi.error("jsPDF.context2d.moveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.moveTo"); var ie = this.ctx.transform.applyToPoint(new a(L, re)); this.path.push({ type: "mt", x: ie.x, y: ie.y }), this.ctx.lastPoint = new a(L, re) }, h.prototype.closePath = function () { var L = new a(0, 0), re = 0; for (re = this.path.length - 1; re !== -1; re--)if (this.path[re].type === "begin" && Ei(this.path[re + 1]) === "object" && typeof this.path[re + 1].x == "number") { L = new a(this.path[re + 1].x, this.path[re + 1].y); break } this.path.push({ type: "close" }), this.ctx.lastPoint = new a(L.x, L.y) }, h.prototype.lineTo = function (L, re) { if (isNaN(L) || isNaN(re)) throw zi.error("jsPDF.context2d.lineTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.lineTo"); var ie = this.ctx.transform.applyToPoint(new a(L, re)); this.path.push({ type: "lt", x: ie.x, y: ie.y }), this.ctx.lastPoint = new a(ie.x, ie.y) }, h.prototype.clip = function () { this.ctx.clip_path = JSON.parse(JSON.stringify(this.path)), D.call(this, null, !0) }, h.prototype.quadraticCurveTo = function (L, re, ie, oe) { if (isNaN(ie) || isNaN(oe) || isNaN(L) || isNaN(re)) throw zi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo"); var de = this.ctx.transform.applyToPoint(new a(ie, oe)), Be = this.ctx.transform.applyToPoint(new a(L, re)); this.path.push({ type: "qct", x1: Be.x, y1: Be.y, x: de.x, y: de.y }), this.ctx.lastPoint = new a(de.x, de.y) }, h.prototype.bezierCurveTo = function (L, re, ie, oe, de, Be) { if (isNaN(de) || isNaN(Be) || isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe)) throw zi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo"); var Re = this.ctx.transform.applyToPoint(new a(de, Be)), Ie = this.ctx.transform.applyToPoint(new a(L, re)), Ye = this.ctx.transform.applyToPoint(new a(ie, oe)); this.path.push({ type: "bct", x1: Ie.x, y1: Ie.y, x2: Ye.x, y2: Ye.y, x: Re.x, y: Re.y }), this.ctx.lastPoint = new a(Re.x, Re.y) }, h.prototype.arc = function (L, re, ie, oe, de, Be) { if (isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe) || isNaN(de)) throw zi.error("jsPDF.context2d.arc: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.arc"); if (Be = !!Be, !this.ctx.transform.isIdentity) { var Re = this.ctx.transform.applyToPoint(new a(L, re)); L = Re.x, re = Re.y; var Ie = this.ctx.transform.applyToPoint(new a(0, ie)), Ye = this.ctx.transform.applyToPoint(new a(0, 0)); ie = Math.sqrt(Math.pow(Ie.x - Ye.x, 2) + Math.pow(Ie.y - Ye.y, 2)) } Math.abs(de - oe) >= 2 * Math.PI && (oe = 0, de = 2 * Math.PI), this.path.push({ type: "arc", x: L, y: re, radius: ie, startAngle: oe, endAngle: de, counterclockwise: Be }) }, h.prototype.arcTo = function (L, re, ie, oe, de) { throw new Error("arcTo not implemented.") }, h.prototype.rect = function (L, re, ie, oe) { if (isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe)) throw zi.error("jsPDF.context2d.rect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rect"); this.moveTo(L, re), this.lineTo(L + ie, re), this.lineTo(L + ie, re + oe), this.lineTo(L, re + oe), this.lineTo(L, re), this.lineTo(L + ie, re), this.lineTo(L, re) }, h.prototype.fillRect = function (L, re, ie, oe) { if (isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe)) throw zi.error("jsPDF.context2d.fillRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillRect"); if (!p.call(this)) { var de = {}; this.lineCap !== "butt" && (de.lineCap = this.lineCap, this.lineCap = "butt"), this.lineJoin !== "miter" && (de.lineJoin = this.lineJoin, this.lineJoin = "miter"), this.beginPath(), this.rect(L, re, ie, oe), this.fill(), de.hasOwnProperty("lineCap") && (this.lineCap = de.lineCap), de.hasOwnProperty("lineJoin") && (this.lineJoin = de.lineJoin) } }, h.prototype.strokeRect = function (L, re, ie, oe) { if (isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe)) throw zi.error("jsPDF.context2d.strokeRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeRect"); b.call(this) || (this.beginPath(), this.rect(L, re, ie, oe), this.stroke()) }, h.prototype.clearRect = function (L, re, ie, oe) { if (isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe)) throw zi.error("jsPDF.context2d.clearRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.clearRect"); this.ignoreClearRect || (this.fillStyle = "#ffffff", this.fillRect(L, re, ie, oe)) }, h.prototype.save = function (L) { L = typeof L != "boolean" || L; for (var re = this.pdf.internal.getCurrentPageInfo().pageNumber, ie = 0; ie < this.pdf.internal.getNumberOfPages(); ie++)this.pdf.setPage(ie + 1), this.pdf.internal.out("q"); if (this.pdf.setPage(re), L) { this.ctx.fontSize = this.pdf.internal.getFontSize(); var oe = new f(this.ctx); this.ctxStack.push(this.ctx), this.ctx = oe } }, h.prototype.restore = function (L) { L = typeof L != "boolean" || L; for (var re = this.pdf.internal.getCurrentPageInfo().pageNumber, ie = 0; ie < this.pdf.internal.getNumberOfPages(); ie++)this.pdf.setPage(ie + 1), this.pdf.internal.out("Q"); this.pdf.setPage(re), L && this.ctxStack.length !== 0 && (this.ctx = this.ctxStack.pop(), this.fillStyle = this.ctx.fillStyle, this.strokeStyle = this.ctx.strokeStyle, this.font = this.ctx.font, this.lineCap = this.ctx.lineCap, this.lineWidth = this.ctx.lineWidth, this.lineJoin = this.ctx.lineJoin, this.lineDash = this.ctx.lineDash, this.lineDashOffset = this.ctx.lineDashOffset) }, h.prototype.toDataURL = function () { throw new Error("toDataUrl not implemented.") }; var m = function (L) { var re, ie, oe, de; if (L.isCanvasGradient === !0 && (L = L.getColor()), !L) return { r: 0, g: 0, b: 0, a: 0, style: L }; if (/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L)) re = 0, ie = 0, oe = 0, de = 0; else { var Be = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L); if (Be !== null) re = parseInt(Be[1]), ie = parseInt(Be[2]), oe = parseInt(Be[3]), de = 1; else if ((Be = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L)) !== null) re = parseInt(Be[1]), ie = parseInt(Be[2]), oe = parseInt(Be[3]), de = parseFloat(Be[4]); else { if (de = 1, typeof L == "string" && L.charAt(0) !== "#") { var Re = new JQ(L); L = Re.ok ? Re.toHex() : "#000000" } L.length === 4 ? (re = L.substring(1, 2), re += re, ie = L.substring(2, 3), ie += ie, oe = L.substring(3, 4), oe += oe) : (re = L.substring(1, 3), ie = L.substring(3, 5), oe = L.substring(5, 7)), re = parseInt(re, 16), ie = parseInt(ie, 16), oe = parseInt(oe, 16) } } return { r: re, g: ie, b: oe, a: de, style: L } }, p = function () { return this.ctx.isFillTransparent || this.globalAlpha == 0 }, b = function () { return !!(this.ctx.isStrokeTransparent || this.globalAlpha == 0) }; h.prototype.fillText = function (L, re, ie, oe) { if (isNaN(re) || isNaN(ie) || typeof L != "string") throw zi.error("jsPDF.context2d.fillText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillText"); if (oe = isNaN(oe) ? void 0 : oe, !p.call(this)) { var de = me(this.ctx.transform.rotation), Be = this.ctx.transform.scaleX; V.call(this, { text: L, x: re, y: ie, scale: Be, angle: de, align: this.textAlign, maxWidth: oe }) } }, h.prototype.strokeText = function (L, re, ie, oe) { if (isNaN(re) || isNaN(ie) || typeof L != "string") throw zi.error("jsPDF.context2d.strokeText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeText"); if (!b.call(this)) { oe = isNaN(oe) ? void 0 : oe; var de = me(this.ctx.transform.rotation), Be = this.ctx.transform.scaleX; V.call(this, { text: L, x: re, y: ie, scale: Be, renderingMode: "stroke", angle: de, align: this.textAlign, maxWidth: oe }) } }, h.prototype.measureText = function (L) { if (typeof L != "string") throw zi.error("jsPDF.context2d.measureText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.measureText"); var re = this.pdf, ie = this.pdf.internal.scaleFactor, oe = re.internal.getFontSize(), de = re.getStringUnitWidth(L) * oe / re.internal.scaleFactor; return new function (Be) { var Re = (Be = Be || {}).width || 0; return Object.defineProperty(this, "width", { get: function () { return Re } }), this }({ width: de *= Math.round(96 * ie / 72 * 1e4) / 1e4 }) }, h.prototype.scale = function (L, re) { if (isNaN(L) || isNaN(re)) throw zi.error("jsPDF.context2d.scale: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.scale"); var ie = new A(L, 0, 0, re, 0, 0); this.ctx.transform = this.ctx.transform.multiply(ie) }, h.prototype.rotate = function (L) { if (isNaN(L)) throw zi.error("jsPDF.context2d.rotate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rotate"); var re = new A(Math.cos(L), Math.sin(L), -Math.sin(L), Math.cos(L), 0, 0); this.ctx.transform = this.ctx.transform.multiply(re) }, h.prototype.translate = function (L, re) { if (isNaN(L) || isNaN(re)) throw zi.error("jsPDF.context2d.translate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.translate"); var ie = new A(1, 0, 0, 1, L, re); this.ctx.transform = this.ctx.transform.multiply(ie) }, h.prototype.transform = function (L, re, ie, oe, de, Be) { if (isNaN(L) || isNaN(re) || isNaN(ie) || isNaN(oe) || isNaN(de) || isNaN(Be)) throw zi.error("jsPDF.context2d.transform: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.transform"); var Re = new A(L, re, ie, oe, de, Be); this.ctx.transform = this.ctx.transform.multiply(Re) }, h.prototype.setTransform = function (L, re, ie, oe, de, Be) { L = isNaN(L) ? 1 : L, re = isNaN(re) ? 0 : re, ie = isNaN(ie) ? 0 : ie, oe = isNaN(oe) ? 1 : oe, de = isNaN(de) ? 0 : de, Be = isNaN(Be) ? 0 : Be, this.ctx.transform = new A(L, re, ie, oe, de, Be) }; var y = function () { return this.margin[0] > 0 || this.margin[1] > 0 || this.margin[2] > 0 || this.margin[3] > 0 }; h.prototype.drawImage = function (L, re, ie, oe, de, Be, Re, Ie, Ye) { var $e = this.pdf.getImageProperties(L), yt = 1, at = 1, $ = 1, Ae = 1; oe !== void 0 && Ie !== void 0 && ($ = Ie / oe, Ae = Ye / de, yt = $e.width / oe * Ie / oe, at = $e.height / de * Ye / de), Be === void 0 && (Be = re, Re = ie, re = 0, ie = 0), oe !== void 0 && Ie === void 0 && (Ie = oe, Ye = de), oe === void 0 && Ie === void 0 && (Ie = $e.width, Ye = $e.height); var Me = this.ctx.transform.decompose(), _e = me(Me.rotate.shx), we = new A, Ne = (we = (we = (we = we.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(Be - re * $, Re - ie * Ae, oe * yt, de * at)); if (this.autoPaging) { for (var tt, Je = E.call(this, Ne), Qe = [], lt = 0; lt < Je.length; lt += 1)Qe.indexOf(Je[lt]) === -1 && Qe.push(Je[lt]); I(Qe); for (var Bt = Qe[0], st = Qe[Qe.length - 1], Ct = Bt; Ct < st + 1; Ct++) { this.pdf.setPage(Ct); var Xt = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], Lt = Ct === 1 ? this.posY + this.margin[0] : this.margin[0], Ft = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], bn = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], Pt = Ct === 1 ? 0 : Ft + (Ct - 2) * bn; if (this.ctx.clip_path.length !== 0) { var Br = this.path; tt = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = O(tt, this.posX + this.margin[3], -Pt + Lt + this.ctx.prevPageLastElemOffset), z.call(this, "fill", !0), this.path = Br } var en = JSON.parse(JSON.stringify(Ne)); en = O([en], this.posX + this.margin[3], -Pt + Lt + this.ctx.prevPageLastElemOffset)[0]; var nn = (Ct > Bt || Ct < st) && y.call(this); nn && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], Xt, bn, null).clip().discardPath()), this.pdf.addImage(L, "JPEG", en.x, en.y, en.w, en.h, null, null, _e), nn && this.pdf.restoreGraphicsState() } } else this.pdf.addImage(L, "JPEG", Ne.x, Ne.y, Ne.w, Ne.h, null, null, _e) }; var E = function (L, re, ie) { var oe = []; re = re || this.pdf.internal.pageSize.width, ie = ie || this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2]; var de = this.posY + this.ctx.prevPageLastElemOffset; switch (L.type) { default: case "mt": case "lt": oe.push(Math.floor((L.y + de) / ie) + 1); break; case "arc": oe.push(Math.floor((L.y + de - L.radius) / ie) + 1), oe.push(Math.floor((L.y + de + L.radius) / ie) + 1); break; case "qct": var Be = ke(this.ctx.lastPoint.x, this.ctx.lastPoint.y, L.x1, L.y1, L.x, L.y); oe.push(Math.floor((Be.y + de) / ie) + 1), oe.push(Math.floor((Be.y + Be.h + de) / ie) + 1); break; case "bct": var Re = Ce(this.ctx.lastPoint.x, this.ctx.lastPoint.y, L.x1, L.y1, L.x2, L.y2, L.x, L.y); oe.push(Math.floor((Re.y + de) / ie) + 1), oe.push(Math.floor((Re.y + Re.h + de) / ie) + 1); break; case "rect": oe.push(Math.floor((L.y + de) / ie) + 1), oe.push(Math.floor((L.y + L.h + de) / ie) + 1) }for (var Ie = 0; Ie < oe.length; Ie += 1)for (; this.pdf.internal.getNumberOfPages() < oe[Ie];)_.call(this); return oe }, _ = function () { var L = this.fillStyle, re = this.strokeStyle, ie = this.font, oe = this.lineCap, de = this.lineWidth, Be = this.lineJoin; this.pdf.addPage(), this.fillStyle = L, this.strokeStyle = re, this.font = ie, this.lineCap = oe, this.lineWidth = de, this.lineJoin = Be }, O = function (L, re, ie) { for (var oe = 0; oe < L.length; oe++)switch (L[oe].type) { case "bct": L[oe].x2 += re, L[oe].y2 += ie; case "qct": L[oe].x1 += re, L[oe].y1 += ie; default: L[oe].x += re, L[oe].y += ie }return L }, I = function (L) { return L.sort(function (re, ie) { return re - ie }) }, D = function (L, re) { var ie = this.fillStyle, oe = this.strokeStyle, de = this.lineCap, Be = this.lineWidth, Re = Math.abs(Be * this.ctx.transform.scaleX), Ie = this.lineJoin; if (this.autoPaging) { for (var Ye, $e, yt = JSON.parse(JSON.stringify(this.path)), at = JSON.parse(JSON.stringify(this.path)), $ = [], Ae = 0; Ae < at.length; Ae++)if (at[Ae].x !== void 0) for (var Me = E.call(this, at[Ae]), _e = 0; _e < Me.length; _e += 1)$.indexOf(Me[_e]) === -1 && $.push(Me[_e]); for (var we = 0; we < $.length; we++)for (; this.pdf.internal.getNumberOfPages() < $[we];)_.call(this); I($); for (var Ne = $[0], tt = $[$.length - 1], Je = Ne; Je < tt + 1; Je++) { this.pdf.setPage(Je), this.fillStyle = ie, this.strokeStyle = oe, this.lineCap = de, this.lineWidth = Re, this.lineJoin = Ie; var Qe = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], lt = Je === 1 ? this.posY + this.margin[0] : this.margin[0], Bt = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], st = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], Ct = Je === 1 ? 0 : Bt + (Je - 2) * st; if (this.ctx.clip_path.length !== 0) { var Xt = this.path; Ye = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = O(Ye, this.posX + this.margin[3], -Ct + lt + this.ctx.prevPageLastElemOffset), z.call(this, L, !0), this.path = Xt } if ($e = JSON.parse(JSON.stringify(yt)), this.path = O($e, this.posX + this.margin[3], -Ct + lt + this.ctx.prevPageLastElemOffset), re === !1 || Je === 0) { var Lt = (Je > Ne || Je < tt) && y.call(this); Lt && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], Qe, st, null).clip().discardPath()), z.call(this, L, re), Lt && this.pdf.restoreGraphicsState() } this.lineWidth = Be } this.path = yt } else this.lineWidth = Re, z.call(this, L, re), this.lineWidth = Be }, z = function (L, re) { if ((L !== "stroke" || re || !b.call(this)) && (L === "stroke" || re || !p.call(this))) { for (var ie, oe, de = [], Be = this.path, Re = 0; Re < Be.length; Re++) { var Ie = Be[Re]; switch (Ie.type) { case "begin": de.push({ begin: !0 }); break; case "close": de.push({ close: !0 }); break; case "mt": de.push({ start: Ie, deltas: [], abs: [] }); break; case "lt": var Ye = de.length; if (Be[Re - 1] && !isNaN(Be[Re - 1].x) && (ie = [Ie.x - Be[Re - 1].x, Ie.y - Be[Re - 1].y], Ye > 0)) { for (; Ye >= 0; Ye--)if (de[Ye - 1].close !== !0 && de[Ye - 1].begin !== !0) { de[Ye - 1].deltas.push(ie), de[Ye - 1].abs.push(Ie); break } } break; case "bct": ie = [Ie.x1 - Be[Re - 1].x, Ie.y1 - Be[Re - 1].y, Ie.x2 - Be[Re - 1].x, Ie.y2 - Be[Re - 1].y, Ie.x - Be[Re - 1].x, Ie.y - Be[Re - 1].y], de[de.length - 1].deltas.push(ie); break; case "qct": var $e = Be[Re - 1].x + 2 / 3 * (Ie.x1 - Be[Re - 1].x), yt = Be[Re - 1].y + 2 / 3 * (Ie.y1 - Be[Re - 1].y), at = Ie.x + 2 / 3 * (Ie.x1 - Ie.x), $ = Ie.y + 2 / 3 * (Ie.y1 - Ie.y), Ae = Ie.x, Me = Ie.y; ie = [$e - Be[Re - 1].x, yt - Be[Re - 1].y, at - Be[Re - 1].x, $ - Be[Re - 1].y, Ae - Be[Re - 1].x, Me - Be[Re - 1].y], de[de.length - 1].deltas.push(ie); break; case "arc": de.push({ deltas: [], abs: [], arc: !0 }), Array.isArray(de[de.length - 1].abs) && de[de.length - 1].abs.push(Ie) } } oe = re ? null : L === "stroke" ? "stroke" : "fill"; for (var _e = !1, we = 0; we < de.length; we++)if (de[we].arc) for (var Ne = de[we].abs, tt = 0; tt < Ne.length; tt++) { var Je = Ne[tt]; Je.type === "arc" ? W.call(this, Je.x, Je.y, Je.radius, Je.startAngle, Je.endAngle, Je.counterclockwise, void 0, re, !_e) : se.call(this, Je.x, Je.y), _e = !0 } else if (de[we].close === !0) this.pdf.internal.out("h"), _e = !1; else if (de[we].begin !== !0) { var Qe = de[we].start.x, lt = de[we].start.y; M.call(this, de[we].deltas, Qe, lt), _e = !0 } oe && G.call(this, oe), re && fe.call(this) } }, X = function (L) { var re = this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor, ie = re * (this.pdf.internal.getLineHeightFactor() - 1); switch (this.ctx.textBaseline) { case "bottom": return L - ie; case "top": return L + re - ie; case "hanging": return L + re - 2 * ie; case "middle": return L + re / 2 - ie; default: return L } }, q = function (L) { return L + this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor * (this.pdf.internal.getLineHeightFactor() - 1) }; h.prototype.createLinearGradient = function () { var L = function () { }; return L.colorStops = [], L.addColorStop = function (re, ie) { this.colorStops.push([re, ie]) }, L.getColor = function () { return this.colorStops.length === 0 ? "#000000" : this.colorStops[0][1] }, L.isCanvasGradient = !0, L }, h.prototype.createPattern = function () { return this.createLinearGradient() }, h.prototype.createRadialGradient = function () { return this.createLinearGradient() }; var W = function (L, re, ie, oe, de, Be, Re, Ie, Ye) { for (var $e = Z.call(this, ie, oe, de, Be), yt = 0; yt < $e.length; yt++) { var at = $e[yt]; yt === 0 && (Ye ? ne.call(this, at.x1 + L, at.y1 + re) : se.call(this, at.x1 + L, at.y1 + re)), pe.call(this, L, re, at.x2, at.y2, at.x3, at.y3, at.x4, at.y4) } Ie ? fe.call(this) : G.call(this, Re) }, G = function (L) { switch (L) { case "stroke": this.pdf.internal.out("S"); break; case "fill": this.pdf.internal.out("f") } }, fe = function () { this.pdf.clip(), this.pdf.discardPath() }, ne = function (L, re) { this.pdf.internal.out(t(L) + " " + r(re) + " m") }, V = function (L) { var re; switch (L.align) { case "right": case "end": re = "right"; break; case "center": re = "center"; break; default: re = "left" }var ie, oe, de, Be = this.pdf.getTextDimensions(L.text), Re = X.call(this, L.y), Ie = q.call(this, Re) - Be.h, Ye = this.ctx.transform.applyToPoint(new a(L.x, Re)); if (this.autoPaging) { var $e = this.ctx.transform.decompose(), yt = new A; yt = (yt = (yt = yt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale); for (var at = this.ctx.transform.applyToRectangle(new o(L.x, Re, Be.w, Be.h)), $ = yt.applyToRectangle(new o(L.x, Ie, Be.w, Be.h)), Ae = E.call(this, $), Me = [], _e = 0; _e < Ae.length; _e += 1)Me.indexOf(Ae[_e]) === -1 && Me.push(Ae[_e]); I(Me); for (var we = Me[0], Ne = Me[Me.length - 1], tt = we; tt < Ne + 1; tt++) { this.pdf.setPage(tt); var Je = tt === 1 ? this.posY + this.margin[0] : this.margin[0], Qe = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], lt = this.pdf.internal.pageSize.height - this.margin[2], Bt = lt - this.margin[0], st = this.pdf.internal.pageSize.width - this.margin[1], Ct = st - this.margin[3], Xt = tt === 1 ? 0 : Qe + (tt - 2) * Bt; if (this.ctx.clip_path.length !== 0) { var Lt = this.path; ie = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = O(ie, this.posX + this.margin[3], -1 * Xt + Je), z.call(this, "fill", !0), this.path = Lt } var Ft = O([JSON.parse(JSON.stringify($))], this.posX + this.margin[3], -Xt + Je + this.ctx.prevPageLastElemOffset)[0]; L.scale >= .01 && (oe = this.pdf.internal.getFontSize(), this.pdf.setFontSize(oe * L.scale), de = this.lineWidth, this.lineWidth = de * L.scale); var bn = this.autoPaging !== "text"; if (bn || Ft.y + Ft.h <= lt) { if (bn || Ft.y >= Je && Ft.x <= st) { var Pt = bn ? L.text : this.pdf.splitTextToSize(L.text, L.maxWidth || st - Ft.x)[0], Br = O([JSON.parse(JSON.stringify(at))], this.posX + this.margin[3], -Xt + Je + this.ctx.prevPageLastElemOffset)[0], en = bn && (tt > we || tt < Ne) && y.call(this); en && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], Ct, Bt, null).clip().discardPath()), this.pdf.text(Pt, Br.x, Br.y, { angle: L.angle, align: re, renderingMode: L.renderingMode }), en && this.pdf.restoreGraphicsState() } } else Ft.y < lt && (this.ctx.prevPageLastElemOffset += lt - Ft.y); L.scale >= .01 && (this.pdf.setFontSize(oe), this.lineWidth = de) } } else L.scale >= .01 && (oe = this.pdf.internal.getFontSize(), this.pdf.setFontSize(oe * L.scale), de = this.lineWidth, this.lineWidth = de * L.scale), this.pdf.text(L.text, Ye.x + this.posX, Ye.y + this.posY, { angle: L.angle, align: re, renderingMode: L.renderingMode, maxWidth: L.maxWidth }), L.scale >= .01 && (this.pdf.setFontSize(oe), this.lineWidth = de) }, se = function (L, re, ie, oe) { ie = ie || 0, oe = oe || 0, this.pdf.internal.out(t(L + ie) + " " + r(re + oe) + " l") }, M = function (L, re, ie) { return this.pdf.lines(L, re, ie, null, null) }, pe = function (L, re, ie, oe, de, Be, Re, Ie) { this.pdf.internal.out([e(i(ie + L)), e(s(oe + re)), e(i(de + L)), e(s(Be + re)), e(i(Re + L)), e(s(Ie + re)), "c"].join(" ")) }, Z = function (L, re, ie, oe) { for (var de = 2 * Math.PI, Be = Math.PI / 2; re > ie;)re -= de; var Re = Math.abs(ie - re); Re < de && oe && (Re = de - Re); for (var Ie = [], Ye = oe ? -1 : 1, $e = re; Re > 1e-5;) { var yt = $e + Ye * Math.min(Re, Be); Ie.push(ae.call(this, L, $e, yt)), Re -= Math.abs(yt - $e), $e = yt } return Ie }, ae = function (L, re, ie) { var oe = (ie - re) / 2, de = L * Math.cos(oe), Be = L * Math.sin(oe), Re = de, Ie = -Be, Ye = Re * Re + Ie * Ie, $e = Ye + Re * de + Ie * Be, yt = 4 / 3 * (Math.sqrt(2 * Ye * $e) - $e) / (Re * Be - Ie * de), at = Re - yt * Ie, $ = Ie + yt * Re, Ae = at, Me = -$, _e = oe + re, we = Math.cos(_e), Ne = Math.sin(_e); return { x1: L * Math.cos(re), y1: L * Math.sin(re), x2: at * we - $ * Ne, y2: at * Ne + $ * we, x3: Ae * we - Me * Ne, y3: Ae * Ne + Me * we, x4: L * Math.cos(ie), y4: L * Math.sin(ie) } }, me = function (L) { return 180 * L / Math.PI }, ke = function (L, re, ie, oe, de, Be) { var Re = L + .5 * (ie - L), Ie = re + .5 * (oe - re), Ye = de + .5 * (ie - de), $e = Be + .5 * (oe - Be), yt = Math.min(L, de, Re, Ye), at = Math.max(L, de, Re, Ye), $ = Math.min(re, Be, Ie, $e), Ae = Math.max(re, Be, Ie, $e); return new o(yt, $, at - yt, Ae - $) }, Ce = function (L, re, ie, oe, de, Be, Re, Ie) { var Ye, $e, yt, at, $, Ae, Me, _e, we, Ne, tt, Je, Qe, lt, Bt = ie - L, st = oe - re, Ct = de - ie, Xt = Be - oe, Lt = Re - de, Ft = Ie - Be; for ($e = 0; $e < 41; $e++)we = (Me = (yt = L + (Ye = $e / 40) * Bt) + Ye * (($ = ie + Ye * Ct) - yt)) + Ye * ($ + Ye * (de + Ye * Lt - $) - Me), Ne = (_e = (at = re + Ye * st) + Ye * ((Ae = oe + Ye * Xt) - at)) + Ye * (Ae + Ye * (Be + Ye * Ft - Ae) - _e), $e == 0 ? (tt = we, Je = Ne, Qe = we, lt = Ne) : (tt = Math.min(tt, we), Je = Math.min(Je, Ne), Qe = Math.max(Qe, we), lt = Math.max(lt, Ne)); return new o(Math.round(tt), Math.round(Je), Math.round(Qe - tt), Math.round(lt - Je)) }, j = function () { if (this.prevLineDash || this.ctx.lineDash.length || this.ctx.lineDashOffset) { var L, re, ie = (L = this.ctx.lineDash, re = this.ctx.lineDashOffset, JSON.stringify({ lineDash: L, lineDashOffset: re })); this.prevLineDash !== ie && (this.pdf.setLineDash(this.ctx.lineDash, this.ctx.lineDashOffset), this.prevLineDash = ie) } } })(mn.API), (function (n) { var e = function (a) { var o, A, u, f, h, m, p, b, y, E; for (A = [], u = 0, f = (a += o = "\0\0\0\0".slice(a.length % 4 || 4)).length; f > u; u += 4)(h = (a.charCodeAt(u) << 24) + (a.charCodeAt(u + 1) << 16) + (a.charCodeAt(u + 2) << 8) + a.charCodeAt(u + 3)) !== 0 ? (m = (h = ((h = ((h = ((h = (h - (E = h % 85)) / 85) - (y = h % 85)) / 85) - (b = h % 85)) / 85) - (p = h % 85)) / 85) % 85, A.push(m + 33, p + 33, b + 33, y + 33, E + 33)) : A.push(122); return (function (_, O) { for (var I = O; I > 0; I--)_.pop() })(A, o.length), String.fromCharCode.apply(String, A) + "~>" }, t = function (a) { var o, A, u, f, h, m = String, p = "length", b = 255, y = "charCodeAt", E = "slice", _ = "replace"; for (a[E](-2), a = a[E](0, -2)[_](/\s/g, "")[_]("z", "!!!!!"), u = [], f = 0, h = (a += o = "uuuuu"[E](a[p] % 5 || 5))[p]; h > f; f += 5)A = 52200625 * (a[y](f) - 33) + 614125 * (a[y](f + 1) - 33) + 7225 * (a[y](f + 2) - 33) + 85 * (a[y](f + 3) - 33) + (a[y](f + 4) - 33), u.push(b & A >> 24, b & A >> 16, b & A >> 8, b & A); return (function (O, I) { for (var D = I; D > 0; D--)O.pop() })(u, o[p]), m.fromCharCode.apply(m, u) }, r = function (a) { return a.split("").map(function (o) { return ("0" + o.charCodeAt().toString(16)).slice(-2) }).join("") + ">" }, i = function (a) { var o = new RegExp(/^([0-9A-Fa-f]{2})+$/); if ((a = a.replace(/\s/g, "")).indexOf(">") !== -1 && (a = a.substr(0, a.indexOf(">"))), a.length % 2 && (a += "0"), o.test(a) === !1) return ""; for (var A = "", u = 0; u < a.length; u += 2)A += String.fromCharCode("0x" + (a[u] + a[u + 1])); return A }, s = function (a) { for (var o = new Uint8Array(a.length), A = a.length; A--;)o[A] = a.charCodeAt(A); return (o = b5(o)).reduce(function (u, f) { return u + String.fromCharCode(f) }, "") }; n.processDataByFilters = function (a, o) { var A = 0, u = a || "", f = []; for (typeof (o = o || []) == "string" && (o = [o]), A = 0; A < o.length; A += 1)switch (o[A]) { case "ASCII85Decode": case "/ASCII85Decode": u = t(u), f.push("/ASCII85Encode"); break; case "ASCII85Encode": case "/ASCII85Encode": u = e(u), f.push("/ASCII85Decode"); break; case "ASCIIHexDecode": case "/ASCIIHexDecode": u = i(u), f.push("/ASCIIHexEncode"); break; case "ASCIIHexEncode": case "/ASCIIHexEncode": u = r(u), f.push("/ASCIIHexDecode"); break; case "FlateEncode": case "/FlateEncode": u = s(u), f.push("/FlateDecode"); break; default: throw new Error('The filter: "' + o[A] + '" is not implemented') }return { data: u, reverseChain: f.reverse().join(" ") } } })(mn.API), (function (n) { n.loadFile = function (e, t, r) { return (function (i, s, a) { s = s !== !1, a = typeof a == "function" ? a : function () { }; var o = void 0; try { o = (function (A, u, f) { var h = new XMLHttpRequest, m = 0, p = function (b) { var y = b.length, E = [], _ = String.fromCharCode; for (m = 0; m < y; m += 1)E.push(_(255 & b.charCodeAt(m))); return E.join("") }; if (h.open("GET", A, !u), h.overrideMimeType("text/plain; charset=x-user-defined"), u === !1 && (h.onload = function () { h.status === 200 ? f(p(this.responseText)) : f(void 0) }), h.send(null), u && h.status === 200) return p(h.responseText) })(i, s, a) } catch { } return o })(e, t, r) }, n.loadImageFile = n.loadFile })(mn.API), (function (n) { function e() { return (Xn.html2canvas ? Promise.resolve(Xn.html2canvas) : yB(() => Promise.resolve().then(() => Ple), [])).catch(function (o) { return Promise.reject(new Error("Could not load html2canvas: " + o)) }).then(function (o) { return o.default ? o.default : o }) } function t() { return (Xn.DOMPurify ? Promise.resolve(Xn.DOMPurify) : yB(() => import("./purify.es-Bzr520pe.js"), [])).catch(function (o) { return Promise.reject(new Error("Could not load dompurify: " + o)) }).then(function (o) { return o.default ? o.default : o }) } var r = function (o) { var A = Ei(o); return A === "undefined" ? "undefined" : A === "string" || o instanceof String ? "string" : A === "number" || o instanceof Number ? "number" : A === "function" || o instanceof Function ? "function" : o && o.constructor === Array ? "array" : o && o.nodeType === 1 ? "element" : A === "object" ? "object" : "unknown" }, i = function (o, A) { var u = document.createElement(o); for (var f in A.className && (u.className = A.className), A.innerHTML && A.dompurify && (u.innerHTML = A.dompurify.sanitize(A.innerHTML)), A.style) u.style[f] = A.style[f]; return u }, s = function o(A, u) { for (var f = A.nodeType === 3 ? document.createTextNode(A.nodeValue) : A.cloneNode(!1), h = A.firstChild; h; h = h.nextSibling)u !== !0 && h.nodeType === 1 && h.nodeName === "SCRIPT" || f.appendChild(o(h, u)); return A.nodeType === 1 && (A.nodeName === "CANVAS" ? (f.width = A.width, f.height = A.height, f.getContext("2d").drawImage(A, 0, 0)) : A.nodeName !== "TEXTAREA" && A.nodeName !== "SELECT" || (f.value = A.value), f.addEventListener("load", function () { f.scrollTop = A.scrollTop, f.scrollLeft = A.scrollLeft }, !0)), f }, a = function o(A) { var u = Object.assign(o.convert(Promise.resolve()), JSON.parse(JSON.stringify(o.template))), f = o.convert(Promise.resolve(), u); return (f = f.setProgress(1, o, 1, [o])).set(A) }; (a.prototype = Object.create(Promise.prototype)).constructor = a, a.convert = function (o, A) { return o.__proto__ = A || a.prototype, o }, a.template = { prop: { src: null, container: null, overlay: null, canvas: null, img: null, pdf: null, pageSize: null, callback: function () { } }, progress: { val: 0, state: null, n: 0, stack: [] }, opt: { filename: "file.pdf", margin: [0, 0, 0, 0], enableLinks: !0, x: 0, y: 0, html2canvas: {}, jsPDF: {}, backgroundColor: "transparent" } }, a.prototype.from = function (o, A) { return this.then(function () { switch (A = A || (function (u) { switch (r(u)) { case "string": return "string"; case "element": return u.nodeName.toLowerCase() === "canvas" ? "canvas" : "element"; default: return "unknown" } })(o), A) { case "string": return this.then(t).then(function (u) { return this.set({ src: i("div", { innerHTML: o, dompurify: u }) }) }); case "element": return this.set({ src: o }); case "canvas": return this.set({ canvas: o }); case "img": return this.set({ img: o }); default: return this.error("Unknown source type.") } }) }, a.prototype.to = function (o) { switch (o) { case "container": return this.toContainer(); case "canvas": return this.toCanvas(); case "img": return this.toImg(); case "pdf": return this.toPdf(); default: return this.error("Invalid target.") } }, a.prototype.toContainer = function () { return this.thenList([function () { return this.prop.src || this.error("Cannot duplicate - no source HTML.") }, function () { return this.prop.pageSize || this.setPageSize() }]).then(function () { var o = { position: "relative", display: "inline-block", width: (typeof this.opt.width != "number" || isNaN(this.opt.width) || typeof this.opt.windowWidth != "number" || isNaN(this.opt.windowWidth) ? Math.max(this.prop.src.clientWidth, this.prop.src.scrollWidth, this.prop.src.offsetWidth) : this.opt.windowWidth) + "px", left: 0, right: 0, top: 0, margin: "auto", backgroundColor: this.opt.backgroundColor }, A = s(this.prop.src, this.opt.html2canvas.javascriptEnabled); A.tagName === "BODY" && (o.height = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) + "px"), this.prop.overlay = i("div", { className: "html2pdf__overlay", style: { position: "fixed", overflow: "hidden", zIndex: 1e3, left: "-100000px", right: 0, bottom: 0, top: 0 } }), this.prop.container = i("div", { className: "html2pdf__container", style: o }), this.prop.container.appendChild(A), this.prop.container.firstChild.appendChild(i("div", { style: { clear: "both", border: "0 none transparent", margin: 0, padding: 0, height: 0 } })), this.prop.container.style.float = "none", this.prop.overlay.appendChild(this.prop.container), document.body.appendChild(this.prop.overlay), this.prop.container.firstChild.style.position = "relative", this.prop.container.height = Math.max(this.prop.container.firstChild.clientHeight, this.prop.container.firstChild.scrollHeight, this.prop.container.firstChild.offsetHeight) + "px" }) }, a.prototype.toCanvas = function () { var o = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(o).then(e).then(function (A) { var u = Object.assign({}, this.opt.html2canvas); return delete u.onrendered, A(this.prop.container, u) }).then(function (A) { (this.opt.html2canvas.onrendered || function () { })(A), this.prop.canvas = A, document.body.removeChild(this.prop.overlay) }) }, a.prototype.toContext2d = function () { var o = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(o).then(e).then(function (A) { var u = this.opt.jsPDF, f = this.opt.fontFaces, h = typeof this.opt.width != "number" || isNaN(this.opt.width) || typeof this.opt.windowWidth != "number" || isNaN(this.opt.windowWidth) ? 1 : this.opt.width / this.opt.windowWidth, m = Object.assign({ async: !0, allowTaint: !0, scale: h, scrollX: this.opt.scrollX || 0, scrollY: this.opt.scrollY || 0, backgroundColor: "#ffffff", imageTimeout: 15e3, logging: !0, proxy: null, removeContainer: !0, foreignObjectRendering: !1, useCORS: !1 }, this.opt.html2canvas); if (delete m.onrendered, u.context2d.autoPaging = this.opt.autoPaging === void 0 || this.opt.autoPaging, u.context2d.posX = this.opt.x, u.context2d.posY = this.opt.y, u.context2d.margin = this.opt.margin, u.context2d.fontFaces = f, f) for (var p = 0; p < f.length; ++p) { var b = f[p], y = b.src.find(function (E) { return E.format === "truetype" }); y && u.addFont(y.url, b.ref.name, b.ref.style) } return m.windowHeight = m.windowHeight || 0, m.windowHeight = m.windowHeight == 0 ? Math.max(this.prop.container.clientHeight, this.prop.container.scrollHeight, this.prop.container.offsetHeight) : m.windowHeight, u.context2d.save(!0), A(this.prop.container, m) }).then(function (A) { this.opt.jsPDF.context2d.restore(!0), (this.opt.html2canvas.onrendered || function () { })(A), this.prop.canvas = A, document.body.removeChild(this.prop.overlay) }) }, a.prototype.toImg = function () { return this.thenList([function () { return this.prop.canvas || this.toCanvas() }]).then(function () { var o = this.prop.canvas.toDataURL("image/" + this.opt.image.type, this.opt.image.quality); this.prop.img = document.createElement("img"), this.prop.img.src = o }) }, a.prototype.toPdf = function () { return this.thenList([function () { return this.toContext2d() }]).then(function () { this.prop.pdf = this.prop.pdf || this.opt.jsPDF }) }, a.prototype.output = function (o, A, u) { return (u = u || "pdf").toLowerCase() === "img" || u.toLowerCase() === "image" ? this.outputImg(o, A) : this.outputPdf(o, A) }, a.prototype.outputPdf = function (o, A) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then(function () { return this.prop.pdf.output(o, A) }) }, a.prototype.outputImg = function (o) { return this.thenList([function () { return this.prop.img || this.toImg() }]).then(function () { switch (o) { case void 0: case "img": return this.prop.img; case "datauristring": case "dataurlstring": return this.prop.img.src; case "datauri": case "dataurl": return document.location.href = this.prop.img.src; default: throw 'Image output type "' + o + '" is not supported.' } }) }, a.prototype.save = function (o) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).set(o ? { filename: o } : null).then(function () { this.prop.pdf.save(this.opt.filename) }) }, a.prototype.doCallback = function () { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then(function () { this.prop.callback(this.prop.pdf) }) }, a.prototype.set = function (o) { if (r(o) !== "object") return this; var A = Object.keys(o || {}).map(function (u) { if (u in a.template.prop) return function () { this.prop[u] = o[u] }; switch (u) { case "margin": return this.setMargin.bind(this, o.margin); case "jsPDF": return function () { return this.opt.jsPDF = o.jsPDF, this.setPageSize() }; case "pageSize": return this.setPageSize.bind(this, o.pageSize); default: return function () { this.opt[u] = o[u] } } }, this); return this.then(function () { return this.thenList(A) }) }, a.prototype.get = function (o, A) { return this.then(function () { var u = o in a.template.prop ? this.prop[o] : this.opt[o]; return A ? A(u) : u }) }, a.prototype.setMargin = function (o) { return this.then(function () { switch (r(o)) { case "number": o = [o, o, o, o]; case "array": if (o.length === 2 && (o = [o[0], o[1], o[0], o[1]]), o.length === 4) break; default: return this.error("Invalid margin array.") }this.opt.margin = o }).then(this.setPageSize) }, a.prototype.setPageSize = function (o) { function A(u, f) { return Math.floor(u * f / 72 * 96) } return this.then(function () { (o = o || mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner") || (o.inner = { width: o.width - this.opt.margin[1] - this.opt.margin[3], height: o.height - this.opt.margin[0] - this.opt.margin[2] }, o.inner.px = { width: A(o.inner.width, o.k), height: A(o.inner.height, o.k) }, o.inner.ratio = o.inner.height / o.inner.width), this.prop.pageSize = o }) }, a.prototype.setProgress = function (o, A, u, f) { return o != null && (this.progress.val = o), A != null && (this.progress.state = A), u != null && (this.progress.n = u), f != null && (this.progress.stack = f), this.progress.ratio = this.progress.val / this.progress.state, this }, a.prototype.updateProgress = function (o, A, u, f) { return this.setProgress(o ? this.progress.val + o : null, A || null, u ? this.progress.n + u : null, f ? this.progress.stack.concat(f) : null) }, a.prototype.then = function (o, A) { var u = this; return this.thenCore(o, A, function (f, h) { return u.updateProgress(null, null, 1, [f]), Promise.prototype.then.call(this, function (m) { return u.updateProgress(null, f), m }).then(f, h).then(function (m) { return u.updateProgress(1), m }) }) }, a.prototype.thenCore = function (o, A, u) { u = u || Promise.prototype.then; var f = this; o && (o = o.bind(f)), A && (A = A.bind(f)); var h = Promise.toString().indexOf("[native code]") !== -1 && Promise.name === "Promise" ? f : a.convert(Object.assign({}, f), Promise.prototype), m = u.call(h, o, A); return a.convert(m, f.__proto__) }, a.prototype.thenExternal = function (o, A) { return Promise.prototype.then.call(this, o, A) }, a.prototype.thenList = function (o) { var A = this; return o.forEach(function (u) { A = A.thenCore(u) }), A }, a.prototype.catch = function (o) { o && (o = o.bind(this)); var A = Promise.prototype.catch.call(this, o); return a.convert(A, this) }, a.prototype.catchExternal = function (o) { return Promise.prototype.catch.call(this, o) }, a.prototype.error = function (o) { return this.then(function () { throw new Error(o) }) }, a.prototype.using = a.prototype.set, a.prototype.saveAs = a.prototype.save, a.prototype.export = a.prototype.output, a.prototype.run = a.prototype.then, mn.getPageSize = function (o, A, u) { if (Ei(o) === "object") { var f = o; o = f.orientation, A = f.unit || A, u = f.format || u } A = A || "mm", u = u || "a4", o = ("" + (o || "P")).toLowerCase(); var h, m = ("" + u).toLowerCase(), p = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; switch (A) { case "pt": h = 1; break; case "mm": h = 72 / 25.4; break; case "cm": h = 72 / 2.54; break; case "in": h = 72; break; case "px": h = .75; break; case "pc": case "em": h = 12; break; case "ex": h = 6; break; default: throw "Invalid unit: " + A }var b, y = 0, E = 0; if (p.hasOwnProperty(m)) y = p[m][1] / h, E = p[m][0] / h; else try { y = u[1], E = u[0] } catch { throw new Error("Invalid format: " + u) } if (o === "p" || o === "portrait") o = "p", E > y && (b = E, E = y, y = b); else { if (o !== "l" && o !== "landscape") throw "Invalid orientation: " + o; o = "l", y > E && (b = E, E = y, y = b) } return { width: E, height: y, unit: A, k: h, orientation: o } }, n.html = function (o, A) { (A = A || {}).callback = A.callback || function () { }, A.html2canvas = A.html2canvas || {}, A.html2canvas.canvas = A.html2canvas.canvas || this.canvas, A.jsPDF = A.jsPDF || this, A.fontFaces = A.fontFaces ? A.fontFaces.map(MB) : null; var u = new a(A); return A.worker ? u : u.from(o).doCallback() } })(mn.API), mn.API.addJS = function (n) { return vF = n, this.internal.events.subscribe("postPutResources", function () { l1 = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/Names [(EmbeddedJS) " + (l1 + 1) + " 0 R]"), this.internal.out(">>"), this.internal.out("endobj"), mF = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /JavaScript"), this.internal.out("/JS (" + vF + ")"), this.internal.out(">>"), this.internal.out("endobj") }), this.internal.events.subscribe("putCatalog", function () { l1 !== void 0 && mF !== void 0 && this.internal.out("/Names <</JavaScript " + l1 + " 0 R>>") }), this }, (function (n) {
    var e; n.events.push(["postPutResources", function () { var t = this, r = /^(\d+) 0 obj$/; if (this.outline.root.children.length > 0) for (var i = t.outline.render().split(/\r\n/), s = 0; s < i.length; s++) { var a = i[s], o = r.exec(a); if (o != null) { var A = o[1]; t.internal.newObjectDeferredBegin(A, !1) } t.internal.write(a) } if (this.outline.createNamedDestinations) { var u = this.internal.pages.length, f = []; for (s = 0; s < u; s++) { var h = t.internal.newObject(); f.push(h); var m = t.internal.getPageInfo(s + 1); t.internal.write("<< /D[" + m.objId + " 0 R /XYZ null null null]>> endobj") } var p = t.internal.newObject(); for (t.internal.write("<< /Names [ "), s = 0; s < f.length; s++)t.internal.write("(page_" + (s + 1) + ")" + f[s] + " 0 R"); t.internal.write(" ] >>", "endobj"), e = t.internal.newObject(), t.internal.write("<< /Dests " + p + " 0 R"), t.internal.write(">>", "endobj") } }]), n.events.push(["putCatalog", function () { var t = this; t.outline.root.children.length > 0 && (t.internal.write("/Outlines", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && t.internal.write("/Names " + e + " 0 R")) }]), n.events.push(["initialized", function () {
      var t = this; t.outline = { createNamedDestinations: !1, root: { children: [] } }, t.outline.add = function (r, i, s) { var a = { title: i, options: s, children: [] }; return r == null && (r = this.root), r.children.push(a), a }, t.outline.render = function () { return this.ctx = {}, this.ctx.val = "", this.ctx.pdf = t, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val }, t.outline.genIds_r = function (r) { r.id = t.internal.newObjectDeferred(); for (var i = 0; i < r.children.length; i++)this.genIds_r(r.children[i]) }, t.outline.renderRoot = function (r) { this.objStart(r), this.line("/Type /Outlines"), r.children.length > 0 && (this.line("/First " + this.makeRef(r.children[0])), this.line("/Last " + this.makeRef(r.children[r.children.length - 1]))), this.line("/Count " + this.count_r({ count: 0 }, r)), this.objEnd() }, t.outline.renderItems = function (r) { for (var i = this.ctx.pdf.internal.getVerticalCoordinateString, s = 0; s < r.children.length; s++) { var a = r.children[s]; this.objStart(a), this.line("/Title " + this.makeString(a.title)), this.line("/Parent " + this.makeRef(r)), s > 0 && this.line("/Prev " + this.makeRef(r.children[s - 1])), s < r.children.length - 1 && this.line("/Next " + this.makeRef(r.children[s + 1])), a.children.length > 0 && (this.line("/First " + this.makeRef(a.children[0])), this.line("/Last " + this.makeRef(a.children[a.children.length - 1]))); var o = this.count = this.count_r({ count: 0 }, a); if (o > 0 && this.line("/Count " + o), a.options && a.options.pageNumber) { var A = t.internal.getPageInfo(a.options.pageNumber); this.line("/Dest [" + A.objId + " 0 R /XYZ 0 " + i(0) + " 0]") } this.objEnd() } for (var u = 0; u < r.children.length; u++)this.renderItems(r.children[u]) }, t.outline.line = function (r) {
        this.ctx.val += r + `\r
`}, t.outline.makeRef = function (r) { return r.id + " 0 R" }, t.outline.makeString = function (r) { return "(" + t.internal.pdfEscape(r) + ")" }, t.outline.objStart = function (r) {
          this.ctx.val += `\r
`+ r.id + ` 0 obj\r
<<\r
`}, t.outline.objEnd = function () {
          this.ctx.val += `>> \r
endobj\r
`}, t.outline.count_r = function (r, i) { for (var s = 0; s < i.children.length; s++)r.count++, this.count_r(r, i.children[s]); return r.count }
    }])
  })(mn.API), (function (n) { var e = [192, 193, 194, 195, 196, 197, 198, 199]; n.processJPEG = function (t, r, i, s, a, o) { var A, u = this.decode.DCT_DECODE, f = null; if (typeof t == "string" || this.__addimage__.isArrayBuffer(t) || this.__addimage__.isArrayBufferView(t)) { switch (t = a || t, t = this.__addimage__.isArrayBuffer(t) ? new Uint8Array(t) : t, A = (function (h) { for (var m, p = 256 * h.charCodeAt(4) + h.charCodeAt(5), b = h.length, y = { width: 0, height: 0, numcomponents: 1 }, E = 4; E < b; E += 2) { if (E += p, e.indexOf(h.charCodeAt(E + 1)) !== -1) { m = 256 * h.charCodeAt(E + 5) + h.charCodeAt(E + 6), y = { width: 256 * h.charCodeAt(E + 7) + h.charCodeAt(E + 8), height: m, numcomponents: h.charCodeAt(E + 9) }; break } p = 256 * h.charCodeAt(E + 2) + h.charCodeAt(E + 3) } return y })(t = this.__addimage__.isArrayBufferView(t) ? this.__addimage__.arrayBufferToBinaryString(t) : t), A.numcomponents) { case 1: o = this.color_spaces.DEVICE_GRAY; break; case 4: o = this.color_spaces.DEVICE_CMYK; break; case 3: o = this.color_spaces.DEVICE_RGB }f = { data: t, width: A.width, height: A.height, colorSpace: o, bitsPerComponent: 8, filter: u, index: r, alias: i } } return f } })(mn.API), mn.API.processPNG = function (n, e, t, r) { if (this.__addimage__.isArrayBuffer(n) && (n = new Uint8Array(n)), this.__addimage__.isArrayBufferView(n)) { var i, s = Yce(n, { checkCrc: !0 }), a = s.width, o = s.height, A = s.channels, u = s.palette, f = s.depth; i = u && A === 1 ? (function (W) { for (var G = W.width, fe = W.height, ne = W.data, V = W.palette, se = W.depth, M = !1, pe = [], Z = [], ae = void 0, me = !1, ke = 0, Ce = 0; Ce < V.length; Ce++) { var j = xT(V[Ce], 4), L = j[0], re = j[1], ie = j[2], oe = j[3]; pe.push(L, re, ie), oe != null && (oe === 0 ? (ke++, Z.length < 1 && Z.push(Ce)) : oe < 255 && (me = !0)) } if (me || ke > 1) { M = !0, Z = void 0; var de = G * fe; ae = new Uint8Array(de); for (var Be = new DataView(ne.buffer), Re = 0; Re < de; Re++) { var Ie = DB(Be, Re, se), Ye = xT(V[Ie], 4)[3]; ae[Re] = Ye } } else ke === 0 && (Z = void 0); return { colorSpace: "Indexed", colorsPerPixel: 1, sMaskBitsPerComponent: M ? 8 : void 0, colorBytes: ne, alphaBytes: ae, needSMask: M, palette: pe, mask: Z } })(s) : A === 2 || A === 4 ? (function (W) { for (var G = W.data, fe = W.width, ne = W.height, V = W.channels, se = W.depth, M = V === 2 ? "DeviceGray" : "DeviceRGB", pe = V - 1, Z = fe * ne, ae = pe, me = Z * ae, ke = 1 * Z, Ce = Math.ceil(me * se / 8), j = Math.ceil(ke * se / 8), L = new Uint8Array(Ce), re = new Uint8Array(j), ie = new DataView(G.buffer), oe = new DataView(L.buffer), de = new DataView(re.buffer), Be = !1, Re = 0; Re < Z; Re++) { for (var Ie = Re * V, Ye = 0; Ye < ae; Ye++)_F(oe, DB(ie, Ie + Ye, se), Re * ae + Ye, se); var $e = DB(ie, Ie + ae, se); $e < (1 << se) - 1 && (Be = !0), _F(de, $e, 1 * Re, se) } return { colorSpace: M, colorsPerPixel: pe, sMaskBitsPerComponent: Be ? se : void 0, colorBytes: L, alphaBytes: re, needSMask: Be } })(s) : (function (W) { var G = W.data, fe = W.channels === 1 ? "DeviceGray" : "DeviceRGB"; return { colorSpace: fe, colorsPerPixel: fe === "DeviceGray" ? 1 : 3, colorBytes: G instanceof Uint16Array ? (function (ne) { for (var V = ne.length, se = new Uint8Array(2 * V), M = new DataView(se.buffer, se.byteOffset, se.byteLength), pe = 0; pe < V; pe++)M.setUint16(2 * pe, ne[pe], !1); return se })(G) : G, needSMask: !1 } })(s); var h, m, p, b = i, y = b.colorSpace, E = b.colorsPerPixel, _ = b.sMaskBitsPerComponent, O = b.colorBytes, I = b.alphaBytes, D = b.needSMask, z = b.palette, X = b.mask, q = null; return r !== mn.API.image_compression.NONE && typeof b5 == "function" ? (q = (function (W) { var G; switch (W) { case mn.API.image_compression.FAST: G = 11; break; case mn.API.image_compression.MEDIUM: G = 13; break; case mn.API.image_compression.SLOW: G = 14; break; default: G = 12 }return G })(r), h = this.decode.FLATE_DECODE, m = "/Predictor ".concat(q, " /Colors ").concat(E, " /BitsPerComponent ").concat(f, " /Columns ").concat(a), n = xF(O, Math.ceil(a * E * f / 8), E, f, r), D && (p = xF(I, Math.ceil(a * _ / 8), 1, _, r))) : (h = void 0, m = void 0, n = O, D && (p = I)), (this.__addimage__.isArrayBuffer(n) || this.__addimage__.isArrayBufferView(n)) && (n = this.__addimage__.arrayBufferToBinaryString(n)), (p && this.__addimage__.isArrayBuffer(p) || this.__addimage__.isArrayBufferView(p)) && (p = this.__addimage__.arrayBufferToBinaryString(p)), { alias: t, data: n, index: e, filter: h, decodeParameters: m, transparency: X, palette: z, sMask: p, predictor: q, width: a, height: o, bitsPerComponent: f, sMaskBitsPerComponent: _, colorSpace: y } } }, (function (n) { n.processGIF89A = function (e, t, r, i) { var s = new pue(e), a = s.width, o = s.height, A = []; s.decodeAndBlitFrameRGBA(0, A); var u = { data: A, width: a, height: o }, f = new PB(100).encode(u, 100); return n.processJPEG.call(this, f, t, r, i) }, n.processGIF87A = n.processGIF89A })(mn.API), Qc.prototype.parseHeader = function () { if (this.fileSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.reserved = this.datav.getUint32(this.pos, !0), this.pos += 4, this.offset = this.datav.getUint32(this.pos, !0), this.pos += 4, this.headerSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.width = this.datav.getUint32(this.pos, !0), this.pos += 4, this.height = this.datav.getInt32(this.pos, !0), this.pos += 4, this.planes = this.datav.getUint16(this.pos, !0), this.pos += 2, this.bitPP = this.datav.getUint16(this.pos, !0), this.pos += 2, this.compress = this.datav.getUint32(this.pos, !0), this.pos += 4, this.rawSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.hr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.vr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.colors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.importantColors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.bitPP === 16 && this.is_with_alpha && (this.bitPP = 15), this.bitPP < 15) { var n = this.colors === 0 ? 1 << this.bitPP : this.colors; this.palette = new Array(n); for (var e = 0; e < n; e++) { var t = this.datav.getUint8(this.pos++, !0), r = this.datav.getUint8(this.pos++, !0), i = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0); this.palette[e] = { red: i, green: r, blue: t, quad: s } } } this.height < 0 && (this.height *= -1, this.bottom_up = !1) }, Qc.prototype.parseBGR = function () { this.pos = this.offset; try { var n = "bit" + this.bitPP, e = this.width * this.height * 4; this.data = new Uint8Array(e), this[n]() } catch (t) { zi.log("bit decode error:" + t) } }, Qc.prototype.bit1 = function () { var n, e = Math.ceil(this.width / 8), t = e % 4; for (n = this.height - 1; n >= 0; n--) { for (var r = this.bottom_up ? n : this.height - 1 - n, i = 0; i < e; i++)for (var s = this.datav.getUint8(this.pos++, !0), a = r * this.width * 4 + 8 * i * 4, o = 0; o < 8 && 8 * i + o < this.width; o++) { var A = this.palette[s >> 7 - o & 1]; this.data[a + 4 * o] = A.blue, this.data[a + 4 * o + 1] = A.green, this.data[a + 4 * o + 2] = A.red, this.data[a + 4 * o + 3] = 255 } t !== 0 && (this.pos += 4 - t) } }, Qc.prototype.bit4 = function () { for (var n = Math.ceil(this.width / 2), e = n % 4, t = this.height - 1; t >= 0; t--) { for (var r = this.bottom_up ? t : this.height - 1 - t, i = 0; i < n; i++) { var s = this.datav.getUint8(this.pos++, !0), a = r * this.width * 4 + 2 * i * 4, o = s >> 4, A = 15 & s, u = this.palette[o]; if (this.data[a] = u.blue, this.data[a + 1] = u.green, this.data[a + 2] = u.red, this.data[a + 3] = 255, 2 * i + 1 >= this.width) break; u = this.palette[A], this.data[a + 4] = u.blue, this.data[a + 4 + 1] = u.green, this.data[a + 4 + 2] = u.red, this.data[a + 4 + 3] = 255 } e !== 0 && (this.pos += 4 - e) } }, Qc.prototype.bit8 = function () { for (var n = this.width % 4, e = this.height - 1; e >= 0; e--) { for (var t = this.bottom_up ? e : this.height - 1 - e, r = 0; r < this.width; r++) { var i = this.datav.getUint8(this.pos++, !0), s = t * this.width * 4 + 4 * r; if (i < this.palette.length) { var a = this.palette[i]; this.data[s] = a.red, this.data[s + 1] = a.green, this.data[s + 2] = a.blue, this.data[s + 3] = 255 } else this.data[s] = 255, this.data[s + 1] = 255, this.data[s + 2] = 255, this.data[s + 3] = 255 } n !== 0 && (this.pos += 4 - n) } }, Qc.prototype.bit15 = function () { for (var n = this.width % 3, e = parseInt("11111", 2), t = this.height - 1; t >= 0; t--) { for (var r = this.bottom_up ? t : this.height - 1 - t, i = 0; i < this.width; i++) { var s = this.datav.getUint16(this.pos, !0); this.pos += 2; var a = (s & e) / e * 255 | 0, o = (s >> 5 & e) / e * 255 | 0, A = (s >> 10 & e) / e * 255 | 0, u = s >> 15 ? 255 : 0, f = r * this.width * 4 + 4 * i; this.data[f] = A, this.data[f + 1] = o, this.data[f + 2] = a, this.data[f + 3] = u } this.pos += n } }, Qc.prototype.bit16 = function () { for (var n = this.width % 3, e = parseInt("11111", 2), t = parseInt("111111", 2), r = this.height - 1; r >= 0; r--) { for (var i = this.bottom_up ? r : this.height - 1 - r, s = 0; s < this.width; s++) { var a = this.datav.getUint16(this.pos, !0); this.pos += 2; var o = (a & e) / e * 255 | 0, A = (a >> 5 & t) / t * 255 | 0, u = (a >> 11) / e * 255 | 0, f = i * this.width * 4 + 4 * s; this.data[f] = u, this.data[f + 1] = A, this.data[f + 2] = o, this.data[f + 3] = 255 } this.pos += n } }, Qc.prototype.bit24 = function () { for (var n = this.height - 1; n >= 0; n--) { for (var e = this.bottom_up ? n : this.height - 1 - n, t = 0; t < this.width; t++) { var r = this.datav.getUint8(this.pos++, !0), i = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), a = e * this.width * 4 + 4 * t; this.data[a] = s, this.data[a + 1] = i, this.data[a + 2] = r, this.data[a + 3] = 255 } this.pos += this.width % 4 } }, Qc.prototype.bit32 = function () { for (var n = this.height - 1; n >= 0; n--)for (var e = this.bottom_up ? n : this.height - 1 - n, t = 0; t < this.width; t++) { var r = this.datav.getUint8(this.pos++, !0), i = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0), o = e * this.width * 4 + 4 * t; this.data[o] = s, this.data[o + 1] = i, this.data[o + 2] = r, this.data[o + 3] = a } }, Qc.prototype.getData = function () { return this.data }, (function (n) { n.processBMP = function (e, t, r, i) { var s = new Qc(e, !1), a = s.width, o = s.height, A = { data: s.getData(), width: a, height: o }, u = new PB(100).encode(A, 100); return n.processJPEG.call(this, u, t, r, i) } })(mn.API), kF.prototype.getData = function () { return this.data }, (function (n) { n.processWEBP = function (e, t, r, i) { var s = new kF(e), a = s.width, o = s.height, A = { data: s.getData(), width: a, height: o }, u = new PB(100).encode(A, 100); return n.processJPEG.call(this, u, t, r, i) } })(mn.API), mn.API.processRGBA = function (n, e, t) { for (var r = n.data, i = r.length, s = new Uint8Array(i / 4 * 3), a = new Uint8Array(i / 4), o = 0, A = 0, u = 0; u < i; u += 4) { var f = r[u], h = r[u + 1], m = r[u + 2], p = r[u + 3]; s[o++] = f, s[o++] = h, s[o++] = m, a[A++] = p } var b = this.__addimage__.arrayBufferToBinaryString(s); return { alpha: this.__addimage__.arrayBufferToBinaryString(a), data: b, index: e, alias: t, colorSpace: "DeviceRGB", bitsPerComponent: 8, width: n.width, height: n.height } }, mn.API.setLanguage = function (n) { return this.internal.languageSettings === void 0 && (this.internal.languageSettings = {}, this.internal.languageSettings.isSubscribed = !1), { af: "Afrikaans", sq: "Albanian", ar: "Arabic (Standard)", "ar-DZ": "Arabic (Algeria)", "ar-BH": "Arabic (Bahrain)", "ar-EG": "Arabic (Egypt)", "ar-IQ": "Arabic (Iraq)", "ar-JO": "Arabic (Jordan)", "ar-KW": "Arabic (Kuwait)", "ar-LB": "Arabic (Lebanon)", "ar-LY": "Arabic (Libya)", "ar-MA": "Arabic (Morocco)", "ar-OM": "Arabic (Oman)", "ar-QA": "Arabic (Qatar)", "ar-SA": "Arabic (Saudi Arabia)", "ar-SY": "Arabic (Syria)", "ar-TN": "Arabic (Tunisia)", "ar-AE": "Arabic (U.A.E.)", "ar-YE": "Arabic (Yemen)", an: "Aragonese", hy: "Armenian", as: "Assamese", ast: "Asturian", az: "Azerbaijani", eu: "Basque", be: "Belarusian", bn: "Bengali", bs: "Bosnian", br: "Breton", bg: "Bulgarian", my: "Burmese", ca: "Catalan", ch: "Chamorro", ce: "Chechen", zh: "Chinese", "zh-HK": "Chinese (Hong Kong)", "zh-CN": "Chinese (PRC)", "zh-SG": "Chinese (Singapore)", "zh-TW": "Chinese (Taiwan)", cv: "Chuvash", co: "Corsican", cr: "Cree", hr: "Croatian", cs: "Czech", da: "Danish", nl: "Dutch (Standard)", "nl-BE": "Dutch (Belgian)", en: "English", "en-AU": "English (Australia)", "en-BZ": "English (Belize)", "en-CA": "English (Canada)", "en-IE": "English (Ireland)", "en-JM": "English (Jamaica)", "en-NZ": "English (New Zealand)", "en-PH": "English (Philippines)", "en-ZA": "English (South Africa)", "en-TT": "English (Trinidad & Tobago)", "en-GB": "English (United Kingdom)", "en-US": "English (United States)", "en-ZW": "English (Zimbabwe)", eo: "Esperanto", et: "Estonian", fo: "Faeroese", fj: "Fijian", fi: "Finnish", fr: "French (Standard)", "fr-BE": "French (Belgium)", "fr-CA": "French (Canada)", "fr-FR": "French (France)", "fr-LU": "French (Luxembourg)", "fr-MC": "French (Monaco)", "fr-CH": "French (Switzerland)", fy: "Frisian", fur: "Friulian", gd: "Gaelic (Scots)", "gd-IE": "Gaelic (Irish)", gl: "Galacian", ka: "Georgian", de: "German (Standard)", "de-AT": "German (Austria)", "de-DE": "German (Germany)", "de-LI": "German (Liechtenstein)", "de-LU": "German (Luxembourg)", "de-CH": "German (Switzerland)", el: "Greek", gu: "Gujurati", ht: "Haitian", he: "Hebrew", hi: "Hindi", hu: "Hungarian", is: "Icelandic", id: "Indonesian", iu: "Inuktitut", ga: "Irish", it: "Italian (Standard)", "it-CH": "Italian (Switzerland)", ja: "Japanese", kn: "Kannada", ks: "Kashmiri", kk: "Kazakh", km: "Khmer", ky: "Kirghiz", tlh: "Klingon", ko: "Korean", "ko-KP": "Korean (North Korea)", "ko-KR": "Korean (South Korea)", la: "Latin", lv: "Latvian", lt: "Lithuanian", lb: "Luxembourgish", mk: "North Macedonia", ms: "Malay", ml: "Malayalam", mt: "Maltese", mi: "Maori", mr: "Marathi", mo: "Moldavian", nv: "Navajo", ng: "Ndonga", ne: "Nepali", no: "Norwegian", nb: "Norwegian (Bokmal)", nn: "Norwegian (Nynorsk)", oc: "Occitan", or: "Oriya", om: "Oromo", fa: "Persian", "fa-IR": "Persian/Iran", pl: "Polish", pt: "Portuguese", "pt-BR": "Portuguese (Brazil)", pa: "Punjabi", "pa-IN": "Punjabi (India)", "pa-PK": "Punjabi (Pakistan)", qu: "Quechua", rm: "Rhaeto-Romanic", ro: "Romanian", "ro-MO": "Romanian (Moldavia)", ru: "Russian", "ru-MO": "Russian (Moldavia)", sz: "Sami (Lappish)", sg: "Sango", sa: "Sanskrit", sc: "Sardinian", sd: "Sindhi", si: "Singhalese", sr: "Serbian", sk: "Slovak", sl: "Slovenian", so: "Somani", sb: "Sorbian", es: "Spanish", "es-AR": "Spanish (Argentina)", "es-BO": "Spanish (Bolivia)", "es-CL": "Spanish (Chile)", "es-CO": "Spanish (Colombia)", "es-CR": "Spanish (Costa Rica)", "es-DO": "Spanish (Dominican Republic)", "es-EC": "Spanish (Ecuador)", "es-SV": "Spanish (El Salvador)", "es-GT": "Spanish (Guatemala)", "es-HN": "Spanish (Honduras)", "es-MX": "Spanish (Mexico)", "es-NI": "Spanish (Nicaragua)", "es-PA": "Spanish (Panama)", "es-PY": "Spanish (Paraguay)", "es-PE": "Spanish (Peru)", "es-PR": "Spanish (Puerto Rico)", "es-ES": "Spanish (Spain)", "es-UY": "Spanish (Uruguay)", "es-VE": "Spanish (Venezuela)", sx: "Sutu", sw: "Swahili", sv: "Swedish", "sv-FI": "Swedish (Finland)", "sv-SV": "Swedish (Sweden)", ta: "Tamil", tt: "Tatar", te: "Teluga", th: "Thai", tig: "Tigre", ts: "Tsonga", tn: "Tswana", tr: "Turkish", tk: "Turkmen", uk: "Ukrainian", hsb: "Upper Sorbian", ur: "Urdu", ve: "Venda", vi: "Vietnamese", vo: "Volapuk", wa: "Walloon", cy: "Welsh", xh: "Xhosa", ji: "Yiddish", zu: "Zulu" }[n] !== void 0 && (this.internal.languageSettings.languageCode = n, this.internal.languageSettings.isSubscribed === !1 && (this.internal.events.subscribe("putCatalog", function () { this.internal.write("/Lang (" + this.internal.languageSettings.languageCode + ")") }), this.internal.languageSettings.isSubscribed = !0)), this }, tg = mn.API, A1 = tg.getCharWidthsArray = function (n, e) { var t, r, i = (e = e || {}).font || this.internal.getFont(), s = e.fontSize || this.internal.getFontSize(), a = e.charSpace || this.internal.getCharSpace(), o = e.widths ? e.widths : i.metadata.Unicode.widths, A = o.fof ? o.fof : 1, u = e.kerning ? e.kerning : i.metadata.Unicode.kerning, f = u.fof ? u.fof : 1, h = e.doKerning !== !1, m = 0, p = n.length, b = 0, y = o[0] || A, E = []; for (t = 0; t < p; t++)r = n.charCodeAt(t), typeof i.metadata.widthOfString == "function" ? E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r)) + a * (1e3 / s) || 0) / 1e3) : (m = h && Ei(u[r]) === "object" && !isNaN(parseInt(u[r][b], 10)) ? u[r][b] / f : 0, E.push((o[r] || y) / A + m)), b = r; return E }, yF = tg.getStringUnitWidth = function (n, e) { var t = (e = e || {}).fontSize || this.internal.getFontSize(), r = e.font || this.internal.getFont(), i = e.charSpace || this.internal.getCharSpace(); return tg.processArabic && (n = tg.processArabic(n)), typeof r.metadata.widthOfString == "function" ? r.metadata.widthOfString(n, t, i) / t : A1.apply(this, arguments).reduce(function (s, a) { return s + a }, 0) }, wF = function (n, e, t, r) { for (var i = [], s = 0, a = n.length, o = 0; s !== a && o + e[s] < t;)o += e[s], s++; i.push(n.slice(0, s)); var A = s; for (o = 0; s !== a;)o + e[s] > r && (i.push(n.slice(A, s)), o = 0, A = s), o += e[s], s++; return A !== s && i.push(n.slice(A, s)), i }, bF = function (n, e, t) {
    t || (t = {}); var r, i, s, a, o, A, u, f = [], h = [f], m = t.textIndent || 0, p = 0, b = 0, y = n.split(" "), E = A1.apply(this, [" ", t])[0]; if (A = t.lineIndent === -1 ? y[0].length + 2 : t.lineIndent || 0) {
      var _ = Array(A).join(" "), O = []; y.map(function (D) {
        (D = D.split(/\s*\n/)).length > 1 ? O = O.concat(D.map(function (z, X) {
          return (X && z.length ? `
`: "") + z
        })) : O.push(D[0])
      }), y = O, A = yF.apply(this, [_, t])
    } for (s = 0, a = y.length; s < a; s++) {
      var I = 0; if (r = y[s], A && r[0] == `
`&& (r = r.substr(1), I = 1), m + p + (b = (i = A1.apply(this, [r, t])).reduce(function (D, z) { return D + z }, 0)) > e || I) { if (b > e) { for (o = wF.apply(this, [r, i, e - (m + p), e]), f.push(o.shift()), f = [o.pop()]; o.length;)h.push([o.shift()]); b = i.slice(r.length - (f[0] ? f[0].length : 0)).reduce(function (D, z) { return D + z }, 0) } else f = [r]; h.push(f), m = b + A, p = E } else f.push(r), m += p + b, p = E
    } return u = A ? function (D, z) { return (z ? _ : "") + D.join(" ") } : function (D) { return D.join(" ") }, h.map(u)
  }, tg.splitTextToSize = function (n, e, t) { var r, i = (t = t || {}).fontSize || this.internal.getFontSize(), s = (function (f) { if (f.widths && f.kerning) return { widths: f.widths, kerning: f.kerning }; var h = this.internal.getFont(f.fontName, f.fontStyle), m = "Unicode"; return h.metadata[m] ? { widths: h.metadata[m].widths || { 0: 1 }, kerning: h.metadata[m].kerning || {} } : { font: h.metadata, fontSize: this.internal.getFontSize(), charSpace: this.internal.getCharSpace() } }).call(this, t); r = Array.isArray(n) ? n : String(n).split(/\r?\n/); var a = 1 * this.internal.scaleFactor * e / i; s.textIndent = t.textIndent ? 1 * t.textIndent * this.internal.scaleFactor / i : 0, s.lineIndent = t.lineIndent; var o, A, u = []; for (o = 0, A = r.length; o < A; o++)u = u.concat(bF.apply(this, [r[o], a, s])); return u }, (function (n) { n.__fontmetrics__ = n.__fontmetrics__ || {}; for (var e = "0123456789abcdef", t = "klmnopqrstuvwxyz", r = {}, i = {}, s = 0; s < 16; s++)r[t[s]] = e[s], i[e[s]] = t[s]; var a = function (m) { return "0x" + parseInt(m, 10).toString(16) }, o = n.__fontmetrics__.compress = function (m) { var p, b, y, E, _ = ["{"]; for (var O in m) { if (p = m[O], isNaN(parseInt(O, 10)) ? b = "'" + O + "'" : (O = parseInt(O, 10), b = (b = a(O).slice(2)).slice(0, -1) + i[b.slice(-1)]), typeof p == "number") p < 0 ? (y = a(p).slice(3), E = "-") : (y = a(p).slice(2), E = ""), y = E + y.slice(0, -1) + i[y.slice(-1)]; else { if (Ei(p) !== "object") throw new Error("Don't know what to do with value type " + Ei(p) + "."); y = o(p) } _.push(b + y) } return _.push("}"), _.join("") }, A = n.__fontmetrics__.uncompress = function (m) { if (typeof m != "string") throw new Error("Invalid argument passed to uncompress."); for (var p, b, y, E, _ = {}, O = 1, I = _, D = [], z = "", X = "", q = m.length - 1, W = 1; W < q; W += 1)(E = m[W]) == "'" ? p ? (y = p.join(""), p = void 0) : p = [] : p ? p.push(E) : E == "{" ? (D.push([I, y]), I = {}, y = void 0) : E == "}" ? ((b = D.pop())[0][b[1]] = I, y = void 0, I = b[0]) : E == "-" ? O = -1 : y === void 0 ? r.hasOwnProperty(E) ? (z += r[E], y = parseInt(z, 16) * O, O = 1, z = "") : z += E : r.hasOwnProperty(E) ? (X += r[E], I[y] = parseInt(X, 16) * O, O = 1, y = void 0, X = "") : X += E; return _ }, u = { codePages: ["WinAnsiEncoding"], WinAnsiEncoding: A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}") }, f = { Unicode: { Courier: u, "Courier-Bold": u, "Courier-BoldOblique": u, "Courier-Oblique": u, Helvetica: u, "Helvetica-Bold": u, "Helvetica-BoldOblique": u, "Helvetica-Oblique": u, "Times-Roman": u, "Times-Bold": u, "Times-BoldItalic": u, "Times-Italic": u } }, h = { Unicode: { "Courier-Oblique": A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-BoldItalic": A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"), "Helvetica-Bold": A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), Courier: A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-BoldOblique": A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Bold": A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"), Symbol: A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"), Helvetica: A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"), "Helvetica-BoldOblique": A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), ZapfDingbats: A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-Bold": A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Italic": A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"), "Times-Roman": A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"), "Helvetica-Oblique": A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}") } }; n.events.push(["addFont", function (m) { var p = m.font, b = h.Unicode[p.postScriptName]; b && (p.metadata.Unicode = {}, p.metadata.Unicode.widths = b.widths, p.metadata.Unicode.kerning = b.kerning); var y = f.Unicode[p.postScriptName]; y && (p.metadata.Unicode.encoding = y, p.encoding = y.codePages[0]) }]) })(mn.API), (function (n) { var e = function (t) { for (var r = t.length, i = new Uint8Array(r), s = 0; s < r; s++)i[s] = t.charCodeAt(s); return i }; n.API.events.push(["addFont", function (t) { var r = void 0, i = t.font, s = t.instance; if (!i.isStandardFont) { if (s === void 0) throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('" + i.postScriptName + "')."); if (typeof (r = s.existsFileInVFS(i.postScriptName) === !1 ? s.loadFile(i.postScriptName) : s.getFileFromVFS(i.postScriptName)) != "string") throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('" + i.postScriptName + "')."); (function (a, o) { o = /^\x00\x01\x00\x00/.test(o) ? e(o) : e(S1(o)), a.metadata = n.API.TTFFont.open(o), a.metadata.Unicode = a.metadata.Unicode || { encoding: {}, kerning: {}, widths: [] }, a.metadata.glyIdsUsed = [0] })(i, r) } }]) })(mn), mn.API.addSvgAsImage = function (n, e, t, r, i, s, a, o) { if (isNaN(e) || isNaN(t)) throw zi.error("jsPDF.addSvgAsImage: Invalid coordinates", arguments), new Error("Invalid coordinates passed to jsPDF.addSvgAsImage"); if (isNaN(r) || isNaN(i)) throw zi.error("jsPDF.addSvgAsImage: Invalid measurements", arguments), new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage"); var A = document.createElement("canvas"); A.width = r, A.height = i; var u = A.getContext("2d"); u.fillStyle = "#fff", u.fillRect(0, 0, A.width, A.height); var f = { ignoreMouse: !0, ignoreAnimation: !0, ignoreDimensions: !0 }, h = this; return (Xn.canvg ? Promise.resolve(Xn.canvg) : yB(() => import("./index.es-cCrFrquL.js"), [])).catch(function (m) { return Promise.reject(new Error("Could not load canvg: " + m)) }).then(function (m) { return m.default ? m.default : m }).then(function (m) { return m.fromString(u, n, f) }, function () { return Promise.reject(new Error("Could not load canvg.")) }).then(function (m) { return m.render(f) }).then(function () { h.addImage(A.toDataURL("image/jpeg", 1), e, t, r, i, a, o) }) }, mn.API.putTotalPages = function (n) { var e, t = 0; parseInt(this.internal.getFont().id.substr(1), 10) < 15 ? (e = new RegExp(n, "g"), t = this.internal.getNumberOfPages()) : (e = new RegExp(this.pdfEscape16(n, this.internal.getFont()), "g"), t = this.pdfEscape16(this.internal.getNumberOfPages() + "", this.internal.getFont())); for (var r = 1; r <= this.internal.getNumberOfPages(); r++)for (var i = 0; i < this.internal.pages[r].length; i++)this.internal.pages[r][i] = this.internal.pages[r][i].replace(e, t); return this }, mn.API.viewerPreferences = function (n, e) {
    var t; n = n || {}, e = e || !1; var r, i, s, a = { HideToolbar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideMenubar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideWindowUI: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, FitWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, CenterWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, DisplayDocTitle: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.4 }, NonFullScreenPageMode: { defaultValue: "UseNone", value: "UseNone", type: "name", explicitSet: !1, valueSet: ["UseNone", "UseOutlines", "UseThumbs", "UseOC"], pdfVersion: 1.3 }, Direction: { defaultValue: "L2R", value: "L2R", type: "name", explicitSet: !1, valueSet: ["L2R", "R2L"], pdfVersion: 1.3 }, ViewArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, ViewClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintScaling: { defaultValue: "AppDefault", value: "AppDefault", type: "name", explicitSet: !1, valueSet: ["AppDefault", "None"], pdfVersion: 1.6 }, Duplex: { defaultValue: "", value: "none", type: "name", explicitSet: !1, valueSet: ["Simplex", "DuplexFlipShortEdge", "DuplexFlipLongEdge", "none"], pdfVersion: 1.7 }, PickTrayByPDFSize: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.7 }, PrintPageRange: { defaultValue: "", value: "", type: "array", explicitSet: !1, valueSet: null, pdfVersion: 1.7 }, NumCopies: { defaultValue: 1, value: 1, type: "integer", explicitSet: !1, valueSet: null, pdfVersion: 1.7 } }, o = Object.keys(a), A = [], u = 0, f = 0, h = 0; function m(b, y) { var E, _ = !1; for (E = 0; E < b.length; E += 1)b[E] === y && (_ = !0); return _ } if (this.internal.viewerpreferences === void 0 && (this.internal.viewerpreferences = {}, this.internal.viewerpreferences.configuration = JSON.parse(JSON.stringify(a)), this.internal.viewerpreferences.isSubscribed = !1), t = this.internal.viewerpreferences.configuration, n === "reset" || e === !0) { var p = o.length; for (h = 0; h < p; h += 1)t[o[h]].value = t[o[h]].defaultValue, t[o[h]].explicitSet = !1 } if (Ei(n) === "object") { for (i in n) if (s = n[i], m(o, i) && s !== void 0) { if (t[i].type === "boolean" && typeof s == "boolean") t[i].value = s; else if (t[i].type === "name" && m(t[i].valueSet, s)) t[i].value = s; else if (t[i].type === "integer" && Number.isInteger(s)) t[i].value = s; else if (t[i].type === "array") { for (u = 0; u < s.length; u += 1)if (r = !0, s[u].length === 1 && typeof s[u][0] == "number") A.push(String(s[u] - 1)); else if (s[u].length > 1) { for (f = 0; f < s[u].length; f += 1)typeof s[u][f] != "number" && (r = !1); r === !0 && A.push([s[u][0] - 1, s[u][1] - 1].join(" ")) } t[i].value = "[" + A.join(" ") + "]" } else t[i].value = t[i].defaultValue; t[i].explicitSet = !0 } } return this.internal.viewerpreferences.isSubscribed === !1 && (this.internal.events.subscribe("putCatalog", function () {
      var b, y = []; for (b in t) t[b].explicitSet === !0 && (t[b].type === "name" ? y.push("/" + b + " /" + t[b].value) : y.push("/" + b + " " + t[b].value)); y.length !== 0 && this.internal.write(`/ViewerPreferences
<<
`+ y.join(`
`) + `
>>`)
    }), this.internal.viewerpreferences.isSubscribed = !0), this.internal.viewerpreferences.configuration = t, this
  }, (function (n) { var e = function () { var r = '<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="' + this.internal.__metadata__.namespaceuri + '"><jspdf:metadata>', i = unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')), s = unescape(encodeURIComponent(r)), a = unescape(encodeURIComponent(this.internal.__metadata__.metadata)), o = unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")), A = unescape(encodeURIComponent("</x:xmpmeta>")), u = s.length + a.length + o.length + i.length + A.length; this.internal.__metadata__.metadata_object_number = this.internal.newObject(), this.internal.write("<< /Type /Metadata /Subtype /XML /Length " + u + " >>"), this.internal.write("stream"), this.internal.write(i + s + a + o + A), this.internal.write("endstream"), this.internal.write("endobj") }, t = function () { this.internal.__metadata__.metadata_object_number && this.internal.write("/Metadata " + this.internal.__metadata__.metadata_object_number + " 0 R") }; n.addMetadata = function (r, i) { return this.internal.__metadata__ === void 0 && (this.internal.__metadata__ = { metadata: r, namespaceuri: i || "http://jspdf.default.namespaceuri/" }, this.internal.events.subscribe("putCatalog", t), this.internal.events.subscribe("postPutResources", e)), this } })(mn.API), (function (n) {
    var e = n.API, t = e.pdfEscape16 = function (s, a) { for (var o, A = a.metadata.Unicode.widths, u = ["", "0", "00", "000", "0000"], f = [""], h = 0, m = s.length; h < m; ++h) { if (o = a.metadata.characterToGlyph(s.charCodeAt(h)), a.metadata.glyIdsUsed.push(o), a.metadata.toUnicode[o] = s.charCodeAt(h), A.indexOf(o) == -1 && (A.push(o), A.push([parseInt(a.metadata.widthOfGlyph(o), 10)])), o == "0") return f.join(""); o = o.toString(16), f.push(u[4 - o.length], o) } return f.join("") }, r = function (s) {
      var a, o, A, u, f, h, m; for (f = `/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`, A = [], h = 0, m = (o = Object.keys(s).sort(function (p, b) { return p - b })).length; h < m; h++)a = o[h], A.length >= 100 && (f += `
`+ A.length + ` beginbfchar
`+ A.join(`
`) + `
endbfchar`, A = []), s[a] !== void 0 && s[a] !== null && typeof s[a].toString == "function" && (u = ("0000" + s[a].toString(16)).slice(-4), a = ("0000" + (+a).toString(16)).slice(-4), A.push("<" + a + "><" + u + ">")); return A.length && (f += `
`+ A.length + ` beginbfchar
`+ A.join(`
`) + `
endbfchar
`), f + `endcmap
CMapName currentdict /CMap defineresource pop
end
end`}; e.events.push(["putFont", function (s) { (function (a) { var o = a.font, A = a.out, u = a.newObject, f = a.putStream; if (o.metadata instanceof n.API.TTFFont && o.encoding === "Identity-H") { for (var h = o.metadata.Unicode.widths, m = o.metadata.subset.encode(o.metadata.glyIdsUsed, 1), p = "", b = 0; b < m.length; b++)p += String.fromCharCode(m[b]); var y = u(); f({ data: p, addLength1: !0, objectId: y }), A("endobj"); var E = u(); f({ data: r(o.metadata.toUnicode), addLength1: !0, objectId: E }), A("endobj"); var _ = u(); A("<<"), A("/Type /FontDescriptor"), A("/FontName /" + dg(o.fontName)), A("/FontFile2 " + y + " 0 R"), A("/FontBBox " + n.API.PDFObject.convert(o.metadata.bbox)), A("/Flags " + o.metadata.flags), A("/StemV " + o.metadata.stemV), A("/ItalicAngle " + o.metadata.italicAngle), A("/Ascent " + o.metadata.ascender), A("/Descent " + o.metadata.decender), A("/CapHeight " + o.metadata.capHeight), A(">>"), A("endobj"); var O = u(); A("<<"), A("/Type /Font"), A("/BaseFont /" + dg(o.fontName)), A("/FontDescriptor " + _ + " 0 R"), A("/W " + n.API.PDFObject.convert(h)), A("/CIDToGIDMap /Identity"), A("/DW 1000"), A("/Subtype /CIDFontType2"), A("/CIDSystemInfo"), A("<<"), A("/Supplement 0"), A("/Registry (Adobe)"), A("/Ordering (" + o.encoding + ")"), A(">>"), A(">>"), A("endobj"), o.objectNumber = u(), A("<<"), A("/Type /Font"), A("/Subtype /Type0"), A("/ToUnicode " + E + " 0 R"), A("/BaseFont /" + dg(o.fontName)), A("/Encoding /" + o.encoding), A("/DescendantFonts [" + O + " 0 R]"), A(">>"), A("endobj"), o.isAlreadyPutted = !0 } })(s) }]), e.events.push(["putFont", function (s) { (function (a) { var o = a.font, A = a.out, u = a.newObject, f = a.putStream; if (o.metadata instanceof n.API.TTFFont && o.encoding === "WinAnsiEncoding") { for (var h = o.metadata.rawData, m = "", p = 0; p < h.length; p++)m += String.fromCharCode(h[p]); var b = u(); f({ data: m, addLength1: !0, objectId: b }), A("endobj"); var y = u(); f({ data: r(o.metadata.toUnicode), addLength1: !0, objectId: y }), A("endobj"); var E = u(); A("<<"), A("/Descent " + o.metadata.decender), A("/CapHeight " + o.metadata.capHeight), A("/StemV " + o.metadata.stemV), A("/Type /FontDescriptor"), A("/FontFile2 " + b + " 0 R"), A("/Flags 96"), A("/FontBBox " + n.API.PDFObject.convert(o.metadata.bbox)), A("/FontName /" + dg(o.fontName)), A("/ItalicAngle " + o.metadata.italicAngle), A("/Ascent " + o.metadata.ascender), A(">>"), A("endobj"), o.objectNumber = u(); for (var _ = 0; _ < o.metadata.hmtx.widths.length; _++)o.metadata.hmtx.widths[_] = parseInt(o.metadata.hmtx.widths[_] * (1e3 / o.metadata.head.unitsPerEm)); A("<</Subtype/TrueType/Type/Font/ToUnicode " + y + " 0 R/BaseFont/" + dg(o.fontName) + "/FontDescriptor " + E + " 0 R/Encoding/" + o.encoding + " /FirstChar 29 /LastChar 255 /Widths " + n.API.PDFObject.convert(o.metadata.hmtx.widths) + ">>"), A("endobj"), o.isAlreadyPutted = !0 } })(s) }]); var i = function (s) { var a, o = s.text || "", A = s.x, u = s.y, f = s.options || {}, h = s.mutex || {}, m = h.pdfEscape, p = h.activeFontKey, b = h.fonts, y = p, E = "", _ = 0, O = "", I = b[y].encoding; if (b[y].encoding !== "Identity-H") return { text: o, x: A, y: u, options: f, mutex: h }; for (O = o, y = p, Array.isArray(o) && (O = o[0]), _ = 0; _ < O.length; _ += 1)b[y].metadata.hasOwnProperty("cmap") && (a = b[y].metadata.cmap.unicode.codeMap[O[_].charCodeAt(0)]), a || O[_].charCodeAt(0) < 256 && b[y].metadata.hasOwnProperty("Unicode") ? E += O[_] : E += ""; var D = ""; return parseInt(y.slice(1)) < 14 || I === "WinAnsiEncoding" ? D = m(E, y).split("").map(function (z) { return z.charCodeAt(0).toString(16) }).join("") : I === "Identity-H" && (D = t(E, b[y])), h.isHex = !0, { text: D, x: A, y: u, options: f, mutex: h } }; e.events.push(["postProcessText", function (s) { var a = s.text || "", o = [], A = { text: a, x: s.x, y: s.y, options: s.options, mutex: s.mutex }; if (Array.isArray(a)) { var u = 0; for (u = 0; u < a.length; u += 1)Array.isArray(a[u]) && a[u].length === 3 ? o.push([i(Object.assign({}, A, { text: a[u][0] })).text, a[u][1], a[u][2]]) : o.push(i(Object.assign({}, A, { text: a[u] })).text); s.text = o } else s.text = i(Object.assign({}, A, { text: a })).text }])
  })(mn), (function (n) { var e = function () { return this.internal.vFS === void 0 && (this.internal.vFS = {}), !0 }; n.existsFileInVFS = function (t) { return e.call(this), this.internal.vFS[t] !== void 0 }, n.addFileToVFS = function (t, r) { return e.call(this), this.internal.vFS[t] = r, this }, n.getFileFromVFS = function (t) { return e.call(this), this.internal.vFS[t] !== void 0 ? this.internal.vFS[t] : null } })(mn.API), (function (n) { n.__bidiEngine__ = n.prototype.__bidiEngine__ = function (r) { var i, s, a, o, A, u, f, h = e, m = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]], p = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]], b = { L: 0, R: 1, EN: 2, AN: 3, N: 4, B: 5, S: 6 }, y = { 0: 0, 5: 1, 6: 2, 7: 3, 32: 4, 251: 5, 254: 6, 255: 7 }, E = ["(", ")", "(", "<", ">", "<", "[", "]", "[", "{", "}", "{", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], _ = new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/), O = !1, I = 0; this.__bidiEngine__ = {}; var D = function (ne) { var V = ne.charCodeAt(), se = V >> 8, M = y[se]; return M !== void 0 ? h[256 * M + (255 & V)] : se === 252 || se === 253 ? "AL" : _.test(se) ? "L" : se === 8 ? "R" : "N" }, z = function (ne) { for (var V, se = 0; se < ne.length; se++) { if ((V = D(ne.charAt(se))) === "L") return !1; if (V === "R") return !0 } return !1 }, X = function (ne, V, se, M) { var pe, Z, ae, me, ke = V[M]; switch (ke) { case "L": case "R": case "LRE": case "RLE": case "LRO": case "RLO": case "PDF": O = !1; break; case "N": case "AN": break; case "EN": O && (ke = "AN"); break; case "AL": O = !0, ke = "R"; break; case "WS": case "BN": ke = "N"; break; case "CS": M < 1 || M + 1 >= V.length || (pe = se[M - 1]) !== "EN" && pe !== "AN" || (Z = V[M + 1]) !== "EN" && Z !== "AN" ? ke = "N" : O && (Z = "AN"), ke = Z === pe ? Z : "N"; break; case "ES": ke = (pe = M > 0 ? se[M - 1] : "B") === "EN" && M + 1 < V.length && V[M + 1] === "EN" ? "EN" : "N"; break; case "ET": if (M > 0 && se[M - 1] === "EN") { ke = "EN"; break } if (O) { ke = "N"; break } for (ae = M + 1, me = V.length; ae < me && V[ae] === "ET";)ae++; ke = ae < me && V[ae] === "EN" ? "EN" : "N"; break; case "NSM": if (a && !o) { for (me = V.length, ae = M + 1; ae < me && V[ae] === "NSM";)ae++; if (ae < me) { var Ce = ne[M], j = Ce >= 1425 && Ce <= 2303 || Ce === 64286; if (pe = V[ae], j && (pe === "R" || pe === "AL")) { ke = "R"; break } } } ke = M < 1 || (pe = V[M - 1]) === "B" ? "N" : se[M - 1]; break; case "B": O = !1, i = !0, ke = I; break; case "S": s = !0, ke = "N" }return ke }, q = function (ne, V, se) { var M = ne.split(""); return se && W(M, se, { hiLevel: I }), M.reverse(), V && V.reverse(), M.join("") }, W = function (ne, V, se) { var M, pe, Z, ae, me, ke = -1, Ce = ne.length, j = 0, L = [], re = I ? p : m, ie = []; for (O = !1, i = !1, s = !1, pe = 0; pe < Ce; pe++)ie[pe] = D(ne[pe]); for (Z = 0; Z < Ce; Z++) { if (me = j, L[Z] = X(ne, ie, L, Z), M = 240 & (j = re[me][b[L[Z]]]), j &= 15, V[Z] = ae = re[j][5], M > 0) if (M === 16) { for (pe = ke; pe < Z; pe++)V[pe] = 1; ke = -1 } else ke = -1; if (re[j][6]) ke === -1 && (ke = Z); else if (ke > -1) { for (pe = ke; pe < Z; pe++)V[pe] = ae; ke = -1 } ie[Z] === "B" && (V[Z] = 0), se.hiLevel |= ae } s && (function (oe, de, Be) { for (var Re = 0; Re < Be; Re++)if (oe[Re] === "S") { de[Re] = I; for (var Ie = Re - 1; Ie >= 0 && oe[Ie] === "WS"; Ie--)de[Ie] = I } })(ie, V, Ce) }, G = function (ne, V, se, M, pe) { if (!(pe.hiLevel < ne)) { if (ne === 1 && I === 1 && !i) return V.reverse(), void (se && se.reverse()); for (var Z, ae, me, ke, Ce = V.length, j = 0; j < Ce;) { if (M[j] >= ne) { for (me = j + 1; me < Ce && M[me] >= ne;)me++; for (ke = j, ae = me - 1; ke < ae; ke++, ae--)Z = V[ke], V[ke] = V[ae], V[ae] = Z, se && (Z = se[ke], se[ke] = se[ae], se[ae] = Z); j = me } j++ } } }, fe = function (ne, V, se) { var M = ne.split(""), pe = { hiLevel: I }; return se || (se = []), W(M, se, pe), (function (Z, ae, me) { if (me.hiLevel !== 0 && f) for (var ke, Ce = 0; Ce < Z.length; Ce++)ae[Ce] === 1 && (ke = E.indexOf(Z[Ce])) >= 0 && (Z[Ce] = E[ke + 1]) })(M, se, pe), G(2, M, V, se, pe), G(1, M, V, se, pe), M.join("") }; return this.__bidiEngine__.doBidiReorder = function (ne, V, se) { if ((function (pe, Z) { if (Z) for (var ae = 0; ae < pe.length; ae++)Z[ae] = ae; o === void 0 && (o = z(pe)), u === void 0 && (u = z(pe)) })(ne, V), a || !A || u) if (a && A && o ^ u) I = o ? 1 : 0, ne = q(ne, V, se); else if (!a && A && u) I = o ? 1 : 0, ne = fe(ne, V, se), ne = q(ne, V); else if (!a || o || A || u) { if (a && !A && o ^ u) ne = q(ne, V), o ? (I = 0, ne = fe(ne, V, se)) : (I = 1, ne = fe(ne, V, se), ne = q(ne, V)); else if (a && o && !A && u) I = 1, ne = fe(ne, V, se), ne = q(ne, V); else if (!a && !A && o ^ u) { var M = f; o ? (I = 1, ne = fe(ne, V, se), I = 0, f = !1, ne = fe(ne, V, se), f = M) : (I = 0, ne = fe(ne, V, se), ne = q(ne, V), I = 1, f = !1, ne = fe(ne, V, se), f = M, ne = q(ne, V)) } } else I = 0, ne = fe(ne, V, se); else I = o ? 1 : 0, ne = fe(ne, V, se); return ne }, this.__bidiEngine__.setOptions = function (ne) { ne && (a = ne.isInputVisual, A = ne.isOutputVisual, o = ne.isInputRtl, u = ne.isOutputRtl, f = ne.isSymmetricSwapping) }, this.__bidiEngine__.setOptions(r), this.__bidiEngine__ }; var e = ["BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "S", "B", "S", "WS", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "B", "B", "B", "S", "WS", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "BN", "BN", "BN", "BN", "BN", "BN", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "CS", "N", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "L", "N", "N", "BN", "N", "N", "ET", "ET", "EN", "EN", "N", "L", "N", "N", "N", "EN", "L", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "N", "N", "N", "N", "N", "ET", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "NSM", "R", "NSM", "NSM", "R", "NSM", "NSM", "R", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AN", "AN", "AN", "AN", "AN", "AN", "N", "N", "AL", "ET", "ET", "AL", "CS", "AL", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "ET", "AN", "AN", "AL", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "NSM", "NSM", "N", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "R", "N", "N", "N", "N", "R", "N", "N", "N", "N", "N", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "BN", "BN", "BN", "L", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "B", "LRE", "RLE", "PDF", "LRO", "RLO", "CS", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "BN", "BN", "BN", "BN", "BN", "N", "LRI", "RLI", "FSI", "PDI", "BN", "BN", "BN", "BN", "BN", "BN", "EN", "L", "N", "N", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "L", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "R", "NSM", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "ES", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "R", "R", "R", "R", "R", "N", "R", "N", "R", "R", "N", "R", "R", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "CS", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "ET", "N", "N", "ES", "ES", "N", "N", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "BN", "N", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "N", "N", "N", "ET", "ET", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"], t = new n.__bidiEngine__({ isInputVisual: !0 }); n.API.events.push(["postProcessText", function (r) { var i = r.text; r.x, r.y; var s = r.options || {}; r.mutex, s.lang; var a = []; if (s.isInputVisual = typeof s.isInputVisual != "boolean" || s.isInputVisual, t.setOptions(s), Object.prototype.toString.call(i) === "[object Array]") { var o = 0; for (a = [], o = 0; o < i.length; o += 1)Object.prototype.toString.call(i[o]) === "[object Array]" ? a.push([t.doBidiReorder(i[o][0]), i[o][1], i[o][2]]) : a.push([t.doBidiReorder(i[o])]); r.text = a } else r.text = t.doBidiReorder(i); t.setOptions({ isInputVisual: !0 }) }]) })(mn), mn.API.TTFFont = (function () { function n(e) { var t; if (this.rawData = e, t = this.contents = new Id(e), this.contents.pos = 4, t.readString(4) === "ttcf") throw new Error("TTCF not supported."); t.pos = 0, this.parse(), this.subset = new Tue(this), this.registerTTF() } return n.open = function (e) { return new n(e) }, n.prototype.parse = function () { return this.directory = new gue(this.contents), this.head = new vue(this), this.name = new Bue(this), this.cmap = new aD(this), this.toUnicode = {}, this.hhea = new yue(this), this.maxp = new Cue(this), this.hmtx = new Eue(this), this.post = new bue(this), this.os2 = new wue(this), this.loca = new kue(this), this.glyf = new Sue(this), this.ascender = this.os2.exists && this.os2.ascender || this.hhea.ascender, this.decender = this.os2.exists && this.os2.decender || this.hhea.decender, this.lineGap = this.os2.exists && this.os2.lineGap || this.hhea.lineGap, this.bbox = [this.head.xMin, this.head.yMin, this.head.xMax, this.head.yMax] }, n.prototype.registerTTF = function () { var e, t, r, i, s; if (this.scaleFactor = 1e3 / this.head.unitsPerEm, this.bbox = (function () { var a, o, A, u; for (u = [], a = 0, o = (A = this.bbox).length; a < o; a++)e = A[a], u.push(Math.round(e * this.scaleFactor)); return u }).call(this), this.stemV = 0, this.post.exists ? (r = 255 & (i = this.post.italic_angle), 32768 & (t = i >> 16) && (t = -(1 + (65535 ^ t))), this.italicAngle = +(t + "." + r)) : this.italicAngle = 0, this.ascender = Math.round(this.ascender * this.scaleFactor), this.decender = Math.round(this.decender * this.scaleFactor), this.lineGap = Math.round(this.lineGap * this.scaleFactor), this.capHeight = this.os2.exists && this.os2.capHeight || this.ascender, this.xHeight = this.os2.exists && this.os2.xHeight || 0, this.familyClass = (this.os2.exists && this.os2.familyClass || 0) >> 8, this.isSerif = (s = this.familyClass) === 1 || s === 2 || s === 3 || s === 4 || s === 5 || s === 7, this.isScript = this.familyClass === 10, this.flags = 0, this.post.isFixedPitch && (this.flags |= 1), this.isSerif && (this.flags |= 2), this.isScript && (this.flags |= 8), this.italicAngle !== 0 && (this.flags |= 64), this.flags |= 32, !this.cmap.unicode) throw new Error("No unicode cmap for font") }, n.prototype.characterToGlyph = function (e) { var t; return ((t = this.cmap.unicode) != null ? t.codeMap[e] : void 0) || 0 }, n.prototype.widthOfGlyph = function (e) { var t; return t = 1e3 / this.head.unitsPerEm, this.hmtx.forGlyph(e).advance * t }, n.prototype.widthOfString = function (e, t, r) { var i, s, a, o; for (a = 0, s = 0, o = (e = "" + e).length; 0 <= o ? s < o : s > o; s = 0 <= o ? ++s : --s)i = e.charCodeAt(s), a += this.widthOfGlyph(this.characterToGlyph(i)) + r * (1e3 / t) || 0; return a * (t / 1e3) }, n.prototype.lineHeight = function (e, t) { var r; return t == null && (t = !1), r = t ? this.lineGap : 0, (this.ascender + r - this.decender) / 1e3 * e }, n })(); var iu, Id = (function () { function n(e) { this.data = e ?? [], this.pos = 0, this.length = this.data.length } return n.prototype.readByte = function () { return this.data[this.pos++] }, n.prototype.writeByte = function (e) { return this.data[this.pos++] = e }, n.prototype.readUInt32 = function () { return 16777216 * this.readByte() + (this.readByte() << 16) + (this.readByte() << 8) + this.readByte() }, n.prototype.writeUInt32 = function (e) { return this.writeByte(e >>> 24 & 255), this.writeByte(e >> 16 & 255), this.writeByte(e >> 8 & 255), this.writeByte(255 & e) }, n.prototype.readInt32 = function () { var e; return (e = this.readUInt32()) >= 2147483648 ? e - 4294967296 : e }, n.prototype.writeInt32 = function (e) { return e < 0 && (e += 4294967296), this.writeUInt32(e) }, n.prototype.readUInt16 = function () { return this.readByte() << 8 | this.readByte() }, n.prototype.writeUInt16 = function (e) { return this.writeByte(e >> 8 & 255), this.writeByte(255 & e) }, n.prototype.readInt16 = function () { var e; return (e = this.readUInt16()) >= 32768 ? e - 65536 : e }, n.prototype.writeInt16 = function (e) { return e < 0 && (e += 65536), this.writeUInt16(e) }, n.prototype.readString = function (e) { var t, r; for (r = [], t = 0; 0 <= e ? t < e : t > e; t = 0 <= e ? ++t : --t)r[t] = String.fromCharCode(this.readByte()); return r.join("") }, n.prototype.writeString = function (e) { var t, r, i; for (i = [], t = 0, r = e.length; 0 <= r ? t < r : t > r; t = 0 <= r ? ++t : --t)i.push(this.writeByte(e.charCodeAt(t))); return i }, n.prototype.readShort = function () { return this.readInt16() }, n.prototype.writeShort = function (e) { return this.writeInt16(e) }, n.prototype.readLongLong = function () { var e, t, r, i, s, a, o, A; return e = this.readByte(), t = this.readByte(), r = this.readByte(), i = this.readByte(), s = this.readByte(), a = this.readByte(), o = this.readByte(), A = this.readByte(), 128 & e ? -1 * (72057594037927940 * (255 ^ e) + 281474976710656 * (255 ^ t) + 1099511627776 * (255 ^ r) + 4294967296 * (255 ^ i) + 16777216 * (255 ^ s) + 65536 * (255 ^ a) + 256 * (255 ^ o) + (255 ^ A) + 1) : 72057594037927940 * e + 281474976710656 * t + 1099511627776 * r + 4294967296 * i + 16777216 * s + 65536 * a + 256 * o + A }, n.prototype.writeLongLong = function (e) { var t, r; return t = Math.floor(e / 4294967296), r = 4294967295 & e, this.writeByte(t >> 24 & 255), this.writeByte(t >> 16 & 255), this.writeByte(t >> 8 & 255), this.writeByte(255 & t), this.writeByte(r >> 24 & 255), this.writeByte(r >> 16 & 255), this.writeByte(r >> 8 & 255), this.writeByte(255 & r) }, n.prototype.readInt = function () { return this.readInt32() }, n.prototype.writeInt = function (e) { return this.writeInt32(e) }, n.prototype.read = function (e) { var t, r; for (t = [], r = 0; 0 <= e ? r < e : r > e; r = 0 <= e ? ++r : --r)t.push(this.readByte()); return t }, n.prototype.write = function (e) { var t, r, i, s; for (s = [], r = 0, i = e.length; r < i; r++)t = e[r], s.push(this.writeByte(t)); return s }, n })(), gue = (function () { var n; function e(t) { var r, i, s; for (this.scalarType = t.readInt(), this.tableCount = t.readShort(), this.searchRange = t.readShort(), this.entrySelector = t.readShort(), this.rangeShift = t.readShort(), this.tables = {}, i = 0, s = this.tableCount; 0 <= s ? i < s : i > s; i = 0 <= s ? ++i : --i)r = { tag: t.readString(4), checksum: t.readInt(), offset: t.readInt(), length: t.readInt() }, this.tables[r.tag] = r } return e.prototype.encode = function (t) { var r, i, s, a, o, A, u, f, h, m, p, b, y; for (y in p = Object.keys(t).length, A = Math.log(2), h = 16 * Math.floor(Math.log(p) / A), a = Math.floor(h / A), f = 16 * p - h, (i = new Id).writeInt(this.scalarType), i.writeShort(p), i.writeShort(h), i.writeShort(a), i.writeShort(f), s = 16 * p, u = i.pos + s, o = null, b = [], t) for (m = t[y], i.writeString(y), i.writeInt(n(m)), i.writeInt(u), i.writeInt(m.length), b = b.concat(m), y === "head" && (o = u), u += m.length; u % 4;)b.push(0), u++; return i.write(b), r = 2981146554 - n(i.data), i.pos = o + 8, i.writeUInt32(r), i.data }, n = function (t) { var r, i, s, a; for (t = oD.call(t); t.length % 4;)t.push(0); for (s = new Id(t), i = 0, r = 0, a = t.length; r < a; r = r += 4)i += s.readUInt32(); return 4294967295 & i }, e })(), mue = {}.hasOwnProperty, Iu = function (n, e) { for (var t in e) mue.call(e, t) && (n[t] = e[t]); function r() { this.constructor = n } return r.prototype = e.prototype, n.prototype = new r, n.__super__ = e.prototype, n }; iu = (function () { function n(e) { var t; this.file = e, t = this.file.directory.tables[this.tag], this.exists = !!t, t && (this.offset = t.offset, this.length = t.length, this.parse(this.file.contents)) } return n.prototype.parse = function () { }, n.prototype.encode = function () { }, n.prototype.raw = function () { return this.exists ? (this.file.contents.pos = this.offset, this.file.contents.read(this.length)) : null }, n })(); var vue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "head", n.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.revision = e.readInt(), this.checkSumAdjustment = e.readInt(), this.magicNumber = e.readInt(), this.flags = e.readShort(), this.unitsPerEm = e.readShort(), this.created = e.readLongLong(), this.modified = e.readLongLong(), this.xMin = e.readShort(), this.yMin = e.readShort(), this.xMax = e.readShort(), this.yMax = e.readShort(), this.macStyle = e.readShort(), this.lowestRecPPEM = e.readShort(), this.fontDirectionHint = e.readShort(), this.indexToLocFormat = e.readShort(), this.glyphDataFormat = e.readShort() }, n.prototype.encode = function (e) { var t; return (t = new Id).writeInt(this.version), t.writeInt(this.revision), t.writeInt(this.checkSumAdjustment), t.writeInt(this.magicNumber), t.writeShort(this.flags), t.writeShort(this.unitsPerEm), t.writeLongLong(this.created), t.writeLongLong(this.modified), t.writeShort(this.xMin), t.writeShort(this.yMin), t.writeShort(this.xMax), t.writeShort(this.yMax), t.writeShort(this.macStyle), t.writeShort(this.lowestRecPPEM), t.writeShort(this.fontDirectionHint), t.writeShort(e), t.writeShort(this.glyphDataFormat), t.data }, n })(), TF = (function () { function n(e, t) { var r, i, s, a, o, A, u, f, h, m, p, b, y, E, _, O, I; switch (this.platformID = e.readUInt16(), this.encodingID = e.readShort(), this.offset = t + e.readInt(), h = e.pos, e.pos = this.offset, this.format = e.readUInt16(), this.length = e.readUInt16(), this.language = e.readUInt16(), this.isUnicode = this.platformID === 3 && this.encodingID === 1 && this.format === 4 || this.platformID === 0 && this.format === 4, this.codeMap = {}, this.format) { case 0: for (A = 0; A < 256; ++A)this.codeMap[A] = e.readByte(); break; case 4: for (p = e.readUInt16(), m = p / 2, e.pos += 6, s = (function () { var D, z; for (z = [], A = D = 0; 0 <= m ? D < m : D > m; A = 0 <= m ? ++D : --D)z.push(e.readUInt16()); return z })(), e.pos += 2, y = (function () { var D, z; for (z = [], A = D = 0; 0 <= m ? D < m : D > m; A = 0 <= m ? ++D : --D)z.push(e.readUInt16()); return z })(), u = (function () { var D, z; for (z = [], A = D = 0; 0 <= m ? D < m : D > m; A = 0 <= m ? ++D : --D)z.push(e.readUInt16()); return z })(), f = (function () { var D, z; for (z = [], A = D = 0; 0 <= m ? D < m : D > m; A = 0 <= m ? ++D : --D)z.push(e.readUInt16()); return z })(), i = (this.length - e.pos + this.offset) / 2, o = (function () { var D, z; for (z = [], A = D = 0; 0 <= i ? D < i : D > i; A = 0 <= i ? ++D : --D)z.push(e.readUInt16()); return z })(), A = _ = 0, I = s.length; _ < I; A = ++_)for (E = s[A], r = O = b = y[A]; b <= E ? O <= E : O >= E; r = b <= E ? ++O : --O)f[A] === 0 ? a = r + u[A] : (a = o[f[A] / 2 + (r - b) - (m - A)] || 0) !== 0 && (a += u[A]), this.codeMap[r] = 65535 & a }e.pos = h } return n.encode = function (e, t) { var r, i, s, a, o, A, u, f, h, m, p, b, y, E, _, O, I, D, z, X, q, W, G, fe, ne, V, se, M, pe, Z, ae, me, ke, Ce, j, L, re, ie, oe, de, Be, Re, Ie, Ye, $e, yt; switch (M = new Id, a = Object.keys(e).sort(function (at, $) { return at - $ }), t) { case "macroman": for (y = 0, E = (function () { var at = []; for (b = 0; b < 256; ++b)at.push(0); return at })(), O = { 0: 0 }, s = {}, pe = 0, ke = a.length; pe < ke; pe++)O[Ie = e[i = a[pe]]] == null && (O[Ie] = ++y), s[i] = { old: e[i], new: O[e[i]] }, E[i] = O[e[i]]; return M.writeUInt16(1), M.writeUInt16(0), M.writeUInt32(12), M.writeUInt16(0), M.writeUInt16(262), M.writeUInt16(0), M.write(E), { charMap: s, subtable: M.data, maxGlyphID: y + 1 }; case "unicode": for (V = [], h = [], I = 0, O = {}, r = {}, _ = u = null, Z = 0, Ce = a.length; Z < Ce; Z++)O[z = e[i = a[Z]]] == null && (O[z] = ++I), r[i] = { old: z, new: O[z] }, o = O[z] - i, _ != null && o === u || (_ && h.push(_), V.push(i), u = o), _ = i; for (_ && h.push(_), h.push(65535), V.push(65535), fe = 2 * (G = V.length), W = 2 * Math.pow(Math.log(G) / Math.LN2, 2), m = Math.log(W / 2) / Math.LN2, q = 2 * G - W, A = [], X = [], p = [], b = ae = 0, j = V.length; ae < j; b = ++ae) { if (ne = V[b], f = h[b], ne === 65535) { A.push(0), X.push(0); break } if (ne - (se = r[ne].new) >= 32768) for (A.push(0), X.push(2 * (p.length + G - b)), i = me = ne; ne <= f ? me <= f : me >= f; i = ne <= f ? ++me : --me)p.push(r[i].new); else A.push(se - ne), X.push(0) } for (M.writeUInt16(3), M.writeUInt16(1), M.writeUInt32(12), M.writeUInt16(4), M.writeUInt16(16 + 8 * G + 2 * p.length), M.writeUInt16(0), M.writeUInt16(fe), M.writeUInt16(W), M.writeUInt16(m), M.writeUInt16(q), Be = 0, L = h.length; Be < L; Be++)i = h[Be], M.writeUInt16(i); for (M.writeUInt16(0), Re = 0, re = V.length; Re < re; Re++)i = V[Re], M.writeUInt16(i); for (Ye = 0, ie = A.length; Ye < ie; Ye++)o = A[Ye], M.writeUInt16(o); for ($e = 0, oe = X.length; $e < oe; $e++)D = X[$e], M.writeUInt16(D); for (yt = 0, de = p.length; yt < de; yt++)y = p[yt], M.writeUInt16(y); return { charMap: r, subtable: M.data, maxGlyphID: I + 1 } } }, n })(), aD = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "cmap", n.prototype.parse = function (e) { var t, r, i; for (e.pos = this.offset, this.version = e.readUInt16(), i = e.readUInt16(), this.tables = [], this.unicode = null, r = 0; 0 <= i ? r < i : r > i; r = 0 <= i ? ++r : --r)t = new TF(e, this.offset), this.tables.push(t), t.isUnicode && this.unicode == null && (this.unicode = t); return !0 }, n.encode = function (e, t) { var r, i; return t == null && (t = "macroman"), r = TF.encode(e, t), (i = new Id).writeUInt16(0), i.writeUInt16(1), r.table = i.data.concat(r.subtable), r }, n })(), yue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "hhea", n.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.ascender = e.readShort(), this.decender = e.readShort(), this.lineGap = e.readShort(), this.advanceWidthMax = e.readShort(), this.minLeftSideBearing = e.readShort(), this.minRightSideBearing = e.readShort(), this.xMaxExtent = e.readShort(), this.caretSlopeRise = e.readShort(), this.caretSlopeRun = e.readShort(), this.caretOffset = e.readShort(), e.pos += 8, this.metricDataFormat = e.readShort(), this.numberOfMetrics = e.readUInt16() }, n })(), wue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "OS/2", n.prototype.parse = function (e) { if (e.pos = this.offset, this.version = e.readUInt16(), this.averageCharWidth = e.readShort(), this.weightClass = e.readUInt16(), this.widthClass = e.readUInt16(), this.type = e.readShort(), this.ySubscriptXSize = e.readShort(), this.ySubscriptYSize = e.readShort(), this.ySubscriptXOffset = e.readShort(), this.ySubscriptYOffset = e.readShort(), this.ySuperscriptXSize = e.readShort(), this.ySuperscriptYSize = e.readShort(), this.ySuperscriptXOffset = e.readShort(), this.ySuperscriptYOffset = e.readShort(), this.yStrikeoutSize = e.readShort(), this.yStrikeoutPosition = e.readShort(), this.familyClass = e.readShort(), this.panose = (function () { var t, r; for (r = [], t = 0; t < 10; ++t)r.push(e.readByte()); return r })(), this.charRange = (function () { var t, r; for (r = [], t = 0; t < 4; ++t)r.push(e.readInt()); return r })(), this.vendorID = e.readString(4), this.selection = e.readShort(), this.firstCharIndex = e.readShort(), this.lastCharIndex = e.readShort(), this.version > 0 && (this.ascent = e.readShort(), this.descent = e.readShort(), this.lineGap = e.readShort(), this.winAscent = e.readShort(), this.winDescent = e.readShort(), this.codePageRange = (function () { var t, r; for (r = [], t = 0; t < 2; t = ++t)r.push(e.readInt()); return r })(), this.version > 1)) return this.xHeight = e.readShort(), this.capHeight = e.readShort(), this.defaultChar = e.readShort(), this.breakChar = e.readShort(), this.maxContext = e.readShort() }, n })(), bue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "post", n.prototype.parse = function (e) { var t, r, i; switch (e.pos = this.offset, this.format = e.readInt(), this.italicAngle = e.readInt(), this.underlinePosition = e.readShort(), this.underlineThickness = e.readShort(), this.isFixedPitch = e.readInt(), this.minMemType42 = e.readInt(), this.maxMemType42 = e.readInt(), this.minMemType1 = e.readInt(), this.maxMemType1 = e.readInt(), this.format) { case 65536: case 196608: break; case 131072: var s; for (r = e.readUInt16(), this.glyphNameIndex = [], s = 0; 0 <= r ? s < r : s > r; s = 0 <= r ? ++s : --s)this.glyphNameIndex.push(e.readUInt16()); for (this.names = [], i = []; e.pos < this.offset + this.length;)t = e.readByte(), i.push(this.names.push(e.readString(t))); return i; case 151552: return r = e.readUInt16(), this.offsets = e.read(r); case 262144: return this.map = (function () { var a, o, A; for (A = [], s = a = 0, o = this.file.maxp.numGlyphs; 0 <= o ? a < o : a > o; s = 0 <= o ? ++a : --a)A.push(e.readUInt32()); return A }).call(this) } }, n })(), xue = function (n, e) { this.raw = n, this.length = n.length, this.platformID = e.platformID, this.encodingID = e.encodingID, this.languageID = e.languageID }, Bue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "name", n.prototype.parse = function (e) { var t, r, i, s, a, o, A, u, f, h, m; for (e.pos = this.offset, e.readShort(), t = e.readShort(), o = e.readShort(), r = [], s = 0; 0 <= t ? s < t : s > t; s = 0 <= t ? ++s : --s)r.push({ platformID: e.readShort(), encodingID: e.readShort(), languageID: e.readShort(), nameID: e.readShort(), length: e.readShort(), offset: this.offset + o + e.readShort() }); for (A = {}, s = f = 0, h = r.length; f < h; s = ++f)i = r[s], e.pos = i.offset, u = e.readString(i.length), a = new xue(u, i), A[m = i.nameID] == null && (A[m] = []), A[i.nameID].push(a); this.strings = A, this.copyright = A[0], this.fontFamily = A[1], this.fontSubfamily = A[2], this.uniqueSubfamily = A[3], this.fontName = A[4], this.version = A[5]; try { this.postscriptName = A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } catch { this.postscriptName = A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } return this.trademark = A[7], this.manufacturer = A[8], this.designer = A[9], this.description = A[10], this.vendorUrl = A[11], this.designerUrl = A[12], this.license = A[13], this.licenseUrl = A[14], this.preferredFamily = A[15], this.preferredSubfamily = A[17], this.compatibleFull = A[18], this.sampleText = A[19] }, n })(), Cue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "maxp", n.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.numGlyphs = e.readUInt16(), this.maxPoints = e.readUInt16(), this.maxContours = e.readUInt16(), this.maxCompositePoints = e.readUInt16(), this.maxComponentContours = e.readUInt16(), this.maxZones = e.readUInt16(), this.maxTwilightPoints = e.readUInt16(), this.maxStorage = e.readUInt16(), this.maxFunctionDefs = e.readUInt16(), this.maxInstructionDefs = e.readUInt16(), this.maxStackElements = e.readUInt16(), this.maxSizeOfInstructions = e.readUInt16(), this.maxComponentElements = e.readUInt16(), this.maxComponentDepth = e.readUInt16() }, n })(), Eue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "hmtx", n.prototype.parse = function (e) { var t, r, i, s, a, o, A; for (e.pos = this.offset, this.metrics = [], t = 0, o = this.file.hhea.numberOfMetrics; 0 <= o ? t < o : t > o; t = 0 <= o ? ++t : --t)this.metrics.push({ advance: e.readUInt16(), lsb: e.readInt16() }); for (i = this.file.maxp.numGlyphs - this.file.hhea.numberOfMetrics, this.leftSideBearings = (function () { var u, f; for (f = [], t = u = 0; 0 <= i ? u < i : u > i; t = 0 <= i ? ++u : --u)f.push(e.readInt16()); return f })(), this.widths = (function () { var u, f, h, m; for (m = [], u = 0, f = (h = this.metrics).length; u < f; u++)s = h[u], m.push(s.advance); return m }).call(this), r = this.widths[this.widths.length - 1], A = [], t = a = 0; 0 <= i ? a < i : a > i; t = 0 <= i ? ++a : --a)A.push(this.widths.push(r)); return A }, n.prototype.forGlyph = function (e) { return e in this.metrics ? this.metrics[e] : { advance: this.metrics[this.metrics.length - 1].advance, lsb: this.leftSideBearings[e - this.metrics.length] } }, n })(), oD = [].slice, Sue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "glyf", n.prototype.parse = function () { return this.cache = {} }, n.prototype.glyphFor = function (e) { var t, r, i, s, a, o, A, u, f, h; return e in this.cache ? this.cache[e] : (s = this.file.loca, t = this.file.contents, r = s.indexOf(e), (i = s.lengthOf(e)) === 0 ? this.cache[e] = null : (t.pos = this.offset + r, a = (o = new Id(t.read(i))).readShort(), u = o.readShort(), h = o.readShort(), A = o.readShort(), f = o.readShort(), this.cache[e] = a === -1 ? new Nue(o, u, h, A, f) : new _ue(o, a, u, h, A, f), this.cache[e])) }, n.prototype.encode = function (e, t, r) { var i, s, a, o, A; for (a = [], s = [], o = 0, A = t.length; o < A; o++)i = e[t[o]], s.push(a.length), i && (a = a.concat(i.encode(r))); return s.push(a.length), { table: a, offsets: s } }, n })(), _ue = (function () { function n(e, t, r, i, s, a) { this.raw = e, this.numberOfContours = t, this.xMin = r, this.yMin = i, this.xMax = s, this.yMax = a, this.compound = !1 } return n.prototype.encode = function () { return this.raw.data }, n })(), Nue = (function () { function n(e, t, r, i, s) { var a, o; for (this.raw = e, this.xMin = t, this.yMin = r, this.xMax = i, this.yMax = s, this.compound = !0, this.glyphIDs = [], this.glyphOffsets = [], a = this.raw; o = a.readShort(), this.glyphOffsets.push(a.pos), this.glyphIDs.push(a.readUInt16()), 32 & o;)a.pos += 1 & o ? 4 : 2, 128 & o ? a.pos += 8 : 64 & o ? a.pos += 4 : 8 & o && (a.pos += 2) } return n.prototype.encode = function () { var e, t, r; for (t = new Id(oD.call(this.raw.data)), e = 0, r = this.glyphIDs.length; e < r; ++e)t.pos = this.glyphOffsets[e]; return t.data }, n })(), kue = (function () { function n() { return n.__super__.constructor.apply(this, arguments) } return Iu(n, iu), n.prototype.tag = "loca", n.prototype.parse = function (e) { var t, r; return e.pos = this.offset, t = this.file.head.indexToLocFormat, this.offsets = t === 0 ? (function () { var i, s; for (s = [], r = 0, i = this.length; r < i; r += 2)s.push(2 * e.readUInt16()); return s }).call(this) : (function () { var i, s; for (s = [], r = 0, i = this.length; r < i; r += 4)s.push(e.readUInt32()); return s }).call(this) }, n.prototype.indexOf = function (e) { return this.offsets[e] }, n.prototype.lengthOf = function (e) { return this.offsets[e + 1] - this.offsets[e] }, n.prototype.encode = function (e, t) { for (var r = new Uint32Array(this.offsets.length), i = 0, s = 0, a = 0; a < r.length; ++a)if (r[a] = i, s < t.length && t[s] == a) { ++s, r[a] = i; var o = this.offsets[a], A = this.offsets[a + 1] - o; A > 0 && (i += A) } for (var u = new Array(4 * r.length), f = 0; f < r.length; ++f)u[4 * f + 3] = 255 & r[f], u[4 * f + 2] = (65280 & r[f]) >> 8, u[4 * f + 1] = (16711680 & r[f]) >> 16, u[4 * f] = (4278190080 & r[f]) >> 24; return u }, n })(), Tue = (function () { function n(e) { this.font = e, this.subset = {}, this.unicodes = {}, this.next = 33 } return n.prototype.generateCmap = function () { var e, t, r, i, s; for (t in i = this.font.cmap.tables[0].codeMap, e = {}, s = this.subset) r = s[t], e[t] = i[r]; return e }, n.prototype.glyphsFor = function (e) { var t, r, i, s, a, o, A; for (i = {}, a = 0, o = e.length; a < o; a++)i[s = e[a]] = this.font.glyf.glyphFor(s); for (s in t = [], i) (r = i[s]) != null && r.compound && t.push.apply(t, r.glyphIDs); if (t.length > 0) for (s in A = this.glyphsFor(t)) r = A[s], i[s] = r; return i }, n.prototype.encode = function (e, t) { var r, i, s, a, o, A, u, f, h, m, p, b, y, E, _; for (i in r = aD.encode(this.generateCmap(), "unicode"), a = this.glyphsFor(e), p = { 0: 0 }, _ = r.charMap) p[(A = _[i]).old] = A.new; for (b in m = r.maxGlyphID, a) b in p || (p[b] = m++); return f = (function (O) { var I, D; for (I in D = {}, O) D[O[I]] = I; return D })(p), h = Object.keys(f).sort(function (O, I) { return O - I }), y = (function () { var O, I, D; for (D = [], O = 0, I = h.length; O < I; O++)o = h[O], D.push(f[o]); return D })(), s = this.font.glyf.encode(a, y, p), u = this.font.loca.encode(s.offsets, y), E = { cmap: this.font.cmap.raw(), glyf: s.table, loca: u, hmtx: this.font.hmtx.raw(), hhea: this.font.hhea.raw(), maxp: this.font.maxp.raw(), post: this.font.post.raw(), name: this.font.name.raw(), head: this.font.head.encode(t) }, this.font.os2.exists && (E["OS/2"] = this.font.os2.raw()), this.font.directory.encode(E) }, n })(); mn.API.PDFObject = (function () {
    var n; function e() { } return n = function (t, r) { return (Array(r + 1).join("0") + t).slice(-r) }, e.convert = function (t) {
      var r, i, s, a; if (Array.isArray(t)) return "[" + (function () { var o, A, u; for (u = [], o = 0, A = t.length; o < A; o++)r = t[o], u.push(e.convert(r)); return u })().join(" ") + "]"; if (typeof t == "string") return "/" + t; if (t?.isString) return "(" + t + ")"; if (t instanceof Date) return "(D:" + n(t.getUTCFullYear(), 4) + n(t.getUTCMonth(), 2) + n(t.getUTCDate(), 2) + n(t.getUTCHours(), 2) + n(t.getUTCMinutes(), 2) + n(t.getUTCSeconds(), 2) + "Z)"; if ({}.toString.call(t) === "[object Object]") {
        for (i in s = ["<<"], t) a = t[i], s.push("/" + i + " " + e.convert(a)); return s.push(">>"), s.join(`
`)
      } return "" + t
    }, e
  })(); const TS = F.forwardRef(({ arrest: n, suspect: e, preview: t = !1 }, r) => g.jsxs("div", { ref: r, className: `${t ? "" : "hidden"} print:block p-8 max-w-[210mm] mx-auto font-serif`, style: { backgroundColor: "#ffffff", color: "#000000" }, children: [g.jsxs("div", { className: "text-center mb-8 border-b-2 pb-4", style: { borderColor: "#000000" }, children: [g.jsx("div", { className: "w-32 h-32 mx-auto mb-4 flex items-center justify-center", children: g.jsx("img", { src: "/noose-seal.png", alt: "NOOSE Seal", className: "w-full h-full object-contain" }) }), g.jsx("h1", { className: "text-2xl font-bold uppercase tracking-wider mb-2", children: "National Office of Security Enforcement" }), g.jsx("h2", { className: "text-xl font-bold uppercase underline mb-4", children: "RAPPORT D'ARRESTATION" }), g.jsxs("div", { className: "text-sm font-bold space-y-1", children: [g.jsxs("p", { children: ["Date : ", new Date(n.date_of_arrest).toLocaleDateString()] }), g.jsxs("p", { children: ["Rfrence : US-GOV/US-NOOSE/ARR-", n.id.slice(0, 8).toUpperCase()] })] })] }), g.jsxs("div", { className: "text-[10px] text-justify mb-8 leading-tight space-y-2", children: [g.jsxs("p", { children: ["Ce document est class ", g.jsx("strong", { children: "CONFIDENTIEL" }), ". Il consigne les dtails d'une arrestation officielle effectue par les services du NOOSE."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "DHS Directive 100-01" }), " - Usage interne uniquement."] })] }), g.jsxs("div", { className: "flex gap-6 mb-8", children: [g.jsx("div", { className: "w-48 h-48 border flex items-center justify-center overflow-hidden", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: n.mugshot_url || e?.mugshot_url ? g.jsx("img", { src: n.mugshot_url || e?.mugshot_url || "", alt: "Mugshot", className: "w-full h-full object-cover" }) : g.jsx("span", { className: "font-bold", style: { color: "#9ca3af" }, children: "NO PHOTO" }) }), g.jsxs("div", { className: "flex-1", children: [g.jsx("h3", { className: "font-bold uppercase mb-1", children: "INDIVIDU INTERPELL" }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), g.jsx("table", { className: "w-full text-sm", style: { borderCollapse: "collapse", borderColor: "#000000" }, children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold w-1/3", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Nom Complet" }), g.jsx("td", { className: "border p-2 font-bold text-lg", style: { borderColor: "#000000" }, children: n.suspect_name })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "ID Civil" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.civilian_id ? n.civilian_id.slice(0, 8).toUpperCase() : "N/A" })] }), e && g.jsxs(g.Fragment, { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Date de Naissance" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: e.dob ? new Date(e.dob).toLocaleDateString() : "N/A" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Adresse" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: e.address || "N/A" })] })] })] }) })] })] }), g.jsxs("div", { className: "mb-6", children: [g.jsx("h3", { className: "font-bold uppercase mb-1", children: "DTAILS DE L'ARRESTATION" }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), g.jsx("table", { className: "w-full border-collapse border text-sm", style: { borderColor: "#000000" }, children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold w-1/3", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Date / Heure" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: new Date(n.date_of_arrest).toLocaleString() })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Officier Interpellateur" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.officer ? `${n.officer.username}` : "Inconnu" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Statut" }), g.jsx("td", { className: "border p-2 uppercase font-bold", style: { borderColor: "#000000" }, children: n.status })] })] }) })] }), g.jsxs("div", { className: "mb-8 flex-1", children: [g.jsx("h3", { className: "font-bold uppercase mb-2 border-b inline-block", style: { borderColor: "#000000" }, children: "CHARGES RETENUES" }), g.jsx("div", { className: "border p-4 min-h-[150px]", style: { borderColor: "#000000" }, children: n.charges && n.charges.length > 0 ? g.jsx("ul", { className: "list-disc list-inside space-y-2", children: n.charges.map((i, s) => g.jsx("li", { className: "text-sm font-bold", children: i }, s)) }) : g.jsx("p", { className: "italic text-sm", style: { color: "#6b7280" }, children: "Aucune charge spcifie." }) })] }), g.jsx("div", { className: "mt-auto pt-8 border-t", style: { borderColor: "#000000" }, children: g.jsxs("div", { className: "flex justify-between items-end", children: [g.jsxs("div", { children: [g.jsx("p", { className: "font-bold text-sm mb-8", children: "Signature de l'Officier" }), g.jsx("div", { className: "border-b border-black w-48", style: { borderColor: "#000000" } }), g.jsx("p", { className: "text-xs mt-1", children: n.officer?.username || "Officer Signature" })] }), g.jsxs("div", { children: [g.jsx("p", { className: "font-bold text-sm mb-8", children: "Signature du Suspect (Refus possible)" }), g.jsx("div", { className: "border-b border-black w-48", style: { borderColor: "#000000" } })] })] }) })] })); TS.displayName = "ArrestPDF"; function FF() { const { id: n } = $w(), e = bc(), { user: t } = Fu(), r = !n || n === "new", [i, s] = F.useState(""), [a, o] = F.useState(void 0), [A, u] = F.useState(""), [f, h] = F.useState(""), [m, p] = F.useState(""), [b, y] = F.useState("Pending"), [E, _] = F.useState(""), [O, I] = F.useState(!r), [D, z] = F.useState(!1), [X, q] = F.useState(void 0); F.useEffect(() => { if (!r && n) { async function fe() { try { const ne = await xg.getById(n); if (s(ne.suspect_name), o(ne.civilian_id), u(ne.suspect_alias || ""), h(ne.charges.join(", ")), p(ne.location), y(ne.status), _(ne.mugshot_url || ""), ne.civilian_id) try { const V = await Xc.getById(ne.civilian_id); q(V) } catch (V) { console.warn("Could not fetch linked civilian", V) } } catch (ne) { console.error("Failed to fetch arrest:", ne) } finally { I(!1) } } fe() } }, [n, r]); const W = async () => { try { const fe = { suspect_name: i, suspect_alias: A, civilian_id: a, charges: f.split(",").map(ne => ne.trim()).filter(Boolean), location: m, status: b, mugshot_url: E, arresting_officer_id: t?.id, date_of_arrest: new Date().toISOString() }; r ? await xg.create(fe) : await xg.update(n, fe), e("/arrests") } catch (fe) { console.error("Failed to save arrest:", fe) } }, G = async () => { if (r) { alert("Please save the arrest record first."); return } z(!0); try { const fe = { id: n, suspect_name: i, suspect_alias: A, civilian_id: a, charges: f.split(",").map(ke => ke.trim()).filter(Boolean), location: m, status: b, mugshot_url: E, arresting_officer_id: t?.id || "", officer: { username: t?.username || "Unknown", rank: t?.rank || "" }, date_of_arrest: new Date().toISOString(), created_at: new Date().toISOString() }, ne = g.jsx(TS, { arrest: fe, suspect: X, preview: !0 }), V = dM.renderToStaticMarkup(ne), se = document.createElement("div"); se.style.width = "210mm", se.style.position = "absolute", se.style.left = "-9999px", se.style.top = "0", se.innerHTML = V, document.body.appendChild(se); const M = await CS(se, { scale: 2, useCORS: !0, logging: !1, width: 794, windowWidth: 1e3 }), pe = M.toDataURL("image/jpeg", .95), Z = new mn("p", "mm", "a4"), ae = Z.internal.pageSize.getWidth(), me = M.height * ae / M.width; Z.addImage(pe, "JPEG", 0, 0, ae, me), Z.save(`Arrest-${n?.slice(0, 8)}.pdf`), document.body.removeChild(se) } catch (fe) { console.error("Export failed", fe), alert("Failed to generate PDF") } finally { z(!1) } }; return O ? g.jsx("div", { className: "p-8 text-center", children: "Loading arrest record..." }) : g.jsxs("div", { className: "space-y-6 max-w-3xl mx-auto", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { className: "flex items-center gap-4", children: [g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => e("/arrests"), children: g.jsx(ib, { className: "h-4 w-4" }) }), g.jsx("h1", { className: "text-2xl font-bold tracking-tight", children: r ? "New Arrest Record" : `Arrest Record ${n?.slice(0, 8)}` })] }), g.jsxs("div", { className: "flex gap-2", children: [!r && g.jsxs(Vt, { variant: "outline", onClick: G, disabled: D, children: [g.jsx(P1, { className: "mr-2 h-4 w-4" }), D ? "Generating..." : "Export PDF"] }), g.jsxs(Vt, { onClick: W, children: [g.jsx(ab, { className: "mr-2 h-4 w-4" }), " Save Record"] })] })] }), g.jsxs("div", { className: "grid grid-cols-3 gap-6", children: [g.jsxs("div", { className: "col-span-2 space-y-6", children: [g.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "suspectName", children: "Suspect Name" }), g.jsx(ure, { value: i, onSelect: fe => { s(fe.full_name), o(fe.id), q(fe) } })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "alias", children: "Alias (AKA)" }), g.jsx(xr, { id: "alias", value: A, onChange: fe => u(fe.target.value), placeholder: "Nickname / Street Name" })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "charges", children: "Charges (comma separated)" }), g.jsx(Db, { id: "charges", value: f, onChange: fe => h(fe.target.value), placeholder: "e.g. Grand Theft Auto, Evading Arrest, Possession", className: "h-24" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "location", children: "Location of Arrest" }), g.jsx(xr, { id: "location", value: m, onChange: fe => p(fe.target.value), placeholder: "Street Address or Coordinates" })] })] }), g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Mugshot" }), g.jsx("div", { className: "border-2 border-dashed rounded-md h-48 flex flex-col items-center justify-center text-muted-foreground hover:bg-muted/50 transition-colors overflow-hidden relative", children: E ? g.jsx("img", { src: E, alt: "Mugshot Preview", className: "w-full h-full object-cover" }) : g.jsxs(g.Fragment, { children: [g.jsx(nK, { className: "h-8 w-8 mb-2" }), g.jsx("span", { className: "text-xs", children: "No image URL" })] }) }), g.jsx(xr, { placeholder: "https://...", value: E, onChange: fe => _(fe.target.value) }), g.jsx("p", { className: "text-[10px] text-muted-foreground", children: "Paste an image URL here." })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Status" }), g.jsxs(hc, { value: b, onValueChange: fe => y(fe), children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Select status" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "Pending", children: "Pending Processing" }), g.jsx(Zn, { value: "Processed", children: "Processed" }), g.jsx(Zn, { value: "In Custody", children: "In Custody" }), g.jsx(Zn, { value: "Released", children: "Released" })] })] })] })] })] })] }) } const k5 = F.forwardRef(({ username: n, password: e, matricule: t, rank: r, division: i, clearance: s, isPasswordReset: a = !1 }, o) => { const A = u => { switch (u) { case 1: return "Niveau 1"; case 2: return "Niveau 2"; case 3: return "Niveau 3"; case 4: return "Niveau 4"; case 5: return "Niveau 5"; default: return `Niveau ${u}` } }; return g.jsxs("div", { ref: o, className: "print-only hidden print:block p-8 max-w-[210mm] mx-auto bg-white text-black font-serif", children: [g.jsxs("div", { className: "text-center mb-8 border-b-2 border-black pb-4", children: [g.jsx("div", { className: "w-32 h-32 mx-auto mb-4 flex items-center justify-center", children: g.jsx("img", { src: "/noose-seal.png", alt: "NOOSE Seal", className: "w-full h-full object-contain" }) }), g.jsx("h1", { className: "text-2xl font-bold uppercase tracking-wider mb-2", children: "National Office of Security Enforcement" }), g.jsx("h2", { className: "text-xl font-bold uppercase underline mb-4", children: a ? "RINITIALISATION DE COMPTE" : "ASSIGNATION DE COMPTE" }), g.jsx("h3", { className: "text-lg font-bold uppercase", children: "ACCS SCURIS" }), g.jsxs("div", { className: "text-sm font-bold space-y-1 mt-4", children: [g.jsxs("p", { children: ["Classification : ", g.jsx("span", { className: "uppercase", children: "CONFIDENTIEL" })] }), g.jsxs("p", { children: ["Date d'mission : ", new Date().toLocaleDateString("fr-FR")] }), g.jsxs("p", { children: ["Rfrence : US-GOV/US-NOOSE/ACC-", t] })] })] }), g.jsxs("div", { className: "text-[10px] text-justify mb-8 leading-tight space-y-2 border border-black p-3 bg-gray-50", children: [g.jsx("p", { className: "font-bold uppercase text-center mb-2", children: " AVERTISSEMENT DE SCURIT " }), g.jsxs("p", { children: ["Ce document contient des ", g.jsx("strong", { children: "informations d'identification confidentielles" }), " pour accder aux systmes scuriss du NOOSE. Il est de votre responsabilit de protger ces informations et de ne jamais les partager avec des personnes non autorises."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "U.S. Code Title 18  1030" }), " - Accs frauduleux aux systmes informatiques."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "U.S. Code Title 18  1905" }), " - Divulgation de renseignements confidentiels."] }), g.jsx("p", { children: "Conservez ce document dans un endroit sr. En cas de compromission de vos identifiants, contactez immdiatement votre suprieur hirarchique." })] }), g.jsxs("div", { className: "mb-8", children: [g.jsx("h3", { className: "font-bold uppercase mb-3 text-lg border-b-2 border-black pb-1", children: "INFORMATIONS D'IDENTIFICATION" }), g.jsx("table", { className: "w-full border-collapse border-2 border-black text-sm", children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border border-black p-3 w-1/3 font-bold bg-gray-100", children: "Nom d'utilisateur" }), g.jsx("td", { className: "border border-black p-3 font-mono text-base", children: n })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border border-black p-3 font-bold bg-gray-100", children: "Mot de passe" }), g.jsx("td", { className: "border border-black p-3 font-mono text-base font-bold", children: e })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border border-black p-3 font-bold bg-gray-100", children: "Matricule" }), g.jsx("td", { className: "border border-black p-3", children: t })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border border-black p-3 font-bold bg-gray-100", children: "Grade" }), g.jsx("td", { className: "border border-black p-3", children: r })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border border-black p-3 font-bold bg-gray-100", children: "Division" }), g.jsx("td", { className: "border border-black p-3", children: i })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border border-black p-3 font-bold bg-gray-100", children: "Niveau d'habilitation" }), g.jsx("td", { className: "border border-black p-3 font-bold", children: A(s) })] })] }) })] }), g.jsxs("div", { className: "mb-8", children: [g.jsx("h3", { className: "font-bold uppercase mb-3 text-lg border-b-2 border-black pb-1", children: "GUIDE D'UTILISATION DU SYSTME" }), g.jsxs("div", { className: "space-y-4 text-sm", children: [g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "1. ACCS AU SYSTME" }), g.jsx("p", { className: "mb-1", children: "Accdez au systme NOOSE via votre navigateur web scuris  l'adresse fournie par votre administrateur." }), g.jsx("p", { className: "text-xs italic", children: "Note : Utilisez uniquement des connexions rseau scurises. Ne vous connectez jamais depuis un rseau public." })] }), g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "2. CONNEXION" }), g.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-2", children: [g.jsxs("li", { children: ["Entrez votre ", g.jsx("strong", { children: "nom d'utilisateur" }), " dans le premier champ"] }), g.jsxs("li", { children: ["Entrez votre ", g.jsx("strong", { children: "mot de passe" }), " dans le second champ"] }), g.jsx("li", { children: 'Cliquez sur le bouton "Se connecter"' })] }), g.jsx("p", { className: "text-xs italic mt-1", children: "Conseil : Il est recommand de changer votre mot de passe lors de votre premire connexion." })] }), g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "3. TABLEAU DE BORD" }), g.jsx("p", { className: "mb-1", children: "Aprs connexion, vous accdez au tableau de bord principal qui affiche :" }), g.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-2", children: [g.jsx("li", { children: "Statistiques en temps rel (rapports, arrestations, enqutes)" }), g.jsx("li", { children: "Activits rcentes de votre quipe" }), g.jsx("li", { children: "Actions rapides pour crer de nouveaux documents" })] })] }), g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "4. NAVIGATION" }), g.jsx("p", { className: "mb-1", children: "Utilisez le menu latral gauche pour accder aux diffrentes sections :" }), g.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-2", children: [g.jsxs("li", { children: [g.jsx("strong", { children: "Rapports" }), " : Crer et consulter les rapports d'opration"] }), g.jsxs("li", { children: [g.jsx("strong", { children: "Arrestations" }), " : Grer les dossiers d'arrestation"] }), g.jsxs("li", { children: [g.jsx("strong", { children: "Enqutes" }), " : Suivre les enqutes en cours"] }), g.jsxs("li", { children: [g.jsx("strong", { children: "Civils" }), " : Base de donnes des personnes"] }), g.jsxs("li", { children: [g.jsx("strong", { children: "Vhicules" }), " : Registre des vhicules"] }), g.jsxs("li", { children: [g.jsx("strong", { children: "Armes" }), " : Inventaire des armes saisies"] })] })] }), g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "5. CRATION D'UN RAPPORT" }), g.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-2", children: [g.jsx("li", { children: 'Cliquez sur "Rapports" dans le menu latral' }), g.jsx("li", { children: 'Cliquez sur le bouton "+ Nouveau rapport"' }), g.jsx("li", { children: "Remplissez le titre et slectionnez la classification approprie" }), g.jsx("li", { children: "Rdigez le contenu dans l'diteur de texte" }), g.jsx("li", { children: "Ajoutez un suspect si ncessaire (recherche par nom)" }), g.jsx("li", { children: 'Cliquez sur "Save Report" pour enregistrer' })] }), g.jsx("p", { className: "text-xs italic mt-1", children: "Important : Choisissez le niveau de classification appropri selon la sensibilit des informations." })] }), g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "6. RECHERCHE GLOBALE" }), g.jsx("p", { className: "mb-1", children: "Utilisez la barre de recherche en haut de l'cran (icne de loupe) pour :" }), g.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-2", children: [g.jsx("li", { children: "Rechercher des rapports, arrestations, enqutes" }), g.jsx("li", { children: "Trouver des civils dans la base de donnes" }), g.jsx("li", { children: "Localiser des vhicules ou armes" })] }), g.jsx("p", { className: "text-xs italic mt-1", children: "Astuce : Tapez au moins 2 caractres pour lancer la recherche." })] }), g.jsxs("div", { className: "border-l-4 border-black pl-3", children: [g.jsx("h4", { className: "font-bold mb-1", children: "7. BONNES PRATIQUES DE SCURIT" }), g.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-2", children: [g.jsxs("li", { children: ["Ne partagez ", g.jsx("strong", { children: "JAMAIS" }), " vos identifiants avec quiconque"] }), g.jsx("li", { children: "Dconnectez-vous toujours aprs utilisation" }), g.jsx("li", { children: "Ne laissez pas votre session ouverte sans surveillance" }), g.jsx("li", { children: "Signalez immdiatement toute activit suspecte" }), g.jsx("li", { children: "Respectez les niveaux de classification des documents" }), g.jsx("li", { children: "Changez votre mot de passe rgulirement" })] })] })] })] }), g.jsxs("div", { className: "mt-8 pt-4 border-t-2 border-black text-xs", children: [g.jsxs("div", { className: "flex justify-between items-end", children: [g.jsxs("div", { children: [g.jsx("p", { className: "font-bold", children: "Document mis par :" }), g.jsx("p", { children: "NOOSE - Administration Systme" }), g.jsx("p", { children: "Department of Homeland Security" })] }), g.jsxs("div", { className: "text-right", children: [g.jsx("p", { className: "font-bold", children: "Date d'mission :" }), g.jsx("p", { children: new Date().toLocaleDateString("fr-FR", { year: "numeric", month: "long", day: "numeric" }) })] })] }), g.jsxs("div", { className: "mt-4 text-center font-bold uppercase", children: [g.jsx("p", { children: "Ce document est strictement confidentiel et personnel" }), g.jsx("p", { children: "En cas de perte ou de vol, contactez immdiatement votre suprieur" })] })] })] }) }); k5.displayName = "AccountAssignmentPDF"; function c1(n) { throw new Error('Could not dynamically require "' + n + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.') } var HB = { exports: {} }; var UF; function Fue() {
    return UF || (UF = 1, (function (n, e) {
      (function (t) { n.exports = t() })(function () {
        return (function t(r, i, s) { function a(u, f) { if (!i[u]) { if (!r[u]) { var h = typeof c1 == "function" && c1; if (!f && h) return h(u, !0); if (o) return o(u, !0); var m = new Error("Cannot find module '" + u + "'"); throw m.code = "MODULE_NOT_FOUND", m } var p = i[u] = { exports: {} }; r[u][0].call(p.exports, function (b) { var y = r[u][1][b]; return a(y || b) }, p, p.exports, t, r, i, s) } return i[u].exports } for (var o = typeof c1 == "function" && c1, A = 0; A < s.length; A++)a(s[A]); return a })({
          1: [function (t, r, i) { var s = t("./utils"), a = t("./support"), o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; i.encode = function (A) { for (var u, f, h, m, p, b, y, E = [], _ = 0, O = A.length, I = O, D = s.getTypeOf(A) !== "string"; _ < A.length;)I = O - _, h = D ? (u = A[_++], f = _ < O ? A[_++] : 0, _ < O ? A[_++] : 0) : (u = A.charCodeAt(_++), f = _ < O ? A.charCodeAt(_++) : 0, _ < O ? A.charCodeAt(_++) : 0), m = u >> 2, p = (3 & u) << 4 | f >> 4, b = 1 < I ? (15 & f) << 2 | h >> 6 : 64, y = 2 < I ? 63 & h : 64, E.push(o.charAt(m) + o.charAt(p) + o.charAt(b) + o.charAt(y)); return E.join("") }, i.decode = function (A) { var u, f, h, m, p, b, y = 0, E = 0, _ = "data:"; if (A.substr(0, _.length) === _) throw new Error("Invalid base64 input, it looks like a data url."); var O, I = 3 * (A = A.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4; if (A.charAt(A.length - 1) === o.charAt(64) && I--, A.charAt(A.length - 2) === o.charAt(64) && I--, I % 1 != 0) throw new Error("Invalid base64 input, bad content length."); for (O = a.uint8array ? new Uint8Array(0 | I) : new Array(0 | I); y < A.length;)u = o.indexOf(A.charAt(y++)) << 2 | (m = o.indexOf(A.charAt(y++))) >> 4, f = (15 & m) << 4 | (p = o.indexOf(A.charAt(y++))) >> 2, h = (3 & p) << 6 | (b = o.indexOf(A.charAt(y++))), O[E++] = u, p !== 64 && (O[E++] = f), b !== 64 && (O[E++] = h); return O } }, { "./support": 30, "./utils": 32 }], 2: [function (t, r, i) { var s = t("./external"), a = t("./stream/DataWorker"), o = t("./stream/Crc32Probe"), A = t("./stream/DataLengthProbe"); function u(f, h, m, p, b) { this.compressedSize = f, this.uncompressedSize = h, this.crc32 = m, this.compression = p, this.compressedContent = b } u.prototype = { getContentWorker: function () { var f = new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new A("data_length")), h = this; return f.on("end", function () { if (this.streamInfo.data_length !== h.uncompressedSize) throw new Error("Bug : uncompressed data size mismatch") }), f }, getCompressedWorker: function () { return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression) } }, u.createWorkerFrom = function (f, h, m) { return f.pipe(new o).pipe(new A("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new A("compressedSize")).withStreamInfo("compression", h) }, r.exports = u }, { "./external": 6, "./stream/Crc32Probe": 25, "./stream/DataLengthProbe": 26, "./stream/DataWorker": 27 }], 3: [function (t, r, i) { var s = t("./stream/GenericWorker"); i.STORE = { magic: "\0\0", compressWorker: function () { return new s("STORE compression") }, uncompressWorker: function () { return new s("STORE decompression") } }, i.DEFLATE = t("./flate") }, { "./flate": 7, "./stream/GenericWorker": 28 }], 4: [function (t, r, i) { var s = t("./utils"), a = (function () { for (var o, A = [], u = 0; u < 256; u++) { o = u; for (var f = 0; f < 8; f++)o = 1 & o ? 3988292384 ^ o >>> 1 : o >>> 1; A[u] = o } return A })(); r.exports = function (o, A) { return o !== void 0 && o.length ? s.getTypeOf(o) !== "string" ? (function (u, f, h, m) { var p = a, b = m + h; u ^= -1; for (var y = m; y < b; y++)u = u >>> 8 ^ p[255 & (u ^ f[y])]; return -1 ^ u })(0 | A, o, o.length, 0) : (function (u, f, h, m) { var p = a, b = m + h; u ^= -1; for (var y = m; y < b; y++)u = u >>> 8 ^ p[255 & (u ^ f.charCodeAt(y))]; return -1 ^ u })(0 | A, o, o.length, 0) : 0 } }, { "./utils": 32 }], 5: [function (t, r, i) { i.base64 = !1, i.binary = !1, i.dir = !1, i.createFolders = !0, i.date = null, i.compression = null, i.compressionOptions = null, i.comment = null, i.unixPermissions = null, i.dosPermissions = null }, {}], 6: [function (t, r, i) { var s = null; s = typeof Promise < "u" ? Promise : t("lie"), r.exports = { Promise: s } }, { lie: 37 }], 7: [function (t, r, i) { var s = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Uint32Array < "u", a = t("pako"), o = t("./utils"), A = t("./stream/GenericWorker"), u = s ? "uint8array" : "array"; function f(h, m) { A.call(this, "FlateWorker/" + h), this._pako = null, this._pakoAction = h, this._pakoOptions = m, this.meta = {} } i.magic = "\b\0", o.inherits(f, A), f.prototype.processChunk = function (h) { this.meta = h.meta, this._pako === null && this._createPako(), this._pako.push(o.transformTo(u, h.data), !1) }, f.prototype.flush = function () { A.prototype.flush.call(this), this._pako === null && this._createPako(), this._pako.push([], !0) }, f.prototype.cleanUp = function () { A.prototype.cleanUp.call(this), this._pako = null }, f.prototype._createPako = function () { this._pako = new a[this._pakoAction]({ raw: !0, level: this._pakoOptions.level || -1 }); var h = this; this._pako.onData = function (m) { h.push({ data: m, meta: h.meta }) } }, i.compressWorker = function (h) { return new f("Deflate", h) }, i.uncompressWorker = function () { return new f("Inflate", {}) } }, { "./stream/GenericWorker": 28, "./utils": 32, pako: 38 }], 8: [function (t, r, i) {
            function s(p, b) { var y, E = ""; for (y = 0; y < b; y++)E += String.fromCharCode(255 & p), p >>>= 8; return E } function a(p, b, y, E, _, O) {
              var I, D, z = p.file, X = p.compression, q = O !== u.utf8encode, W = o.transformTo("string", O(z.name)), G = o.transformTo("string", u.utf8encode(z.name)), fe = z.comment, ne = o.transformTo("string", O(fe)), V = o.transformTo("string", u.utf8encode(fe)), se = G.length !== z.name.length, M = V.length !== fe.length, pe = "", Z = "", ae = "", me = z.dir, ke = z.date, Ce = { crc32: 0, compressedSize: 0, uncompressedSize: 0 }; b && !y || (Ce.crc32 = p.crc32, Ce.compressedSize = p.compressedSize, Ce.uncompressedSize = p.uncompressedSize); var j = 0; b && (j |= 8), q || !se && !M || (j |= 2048); var L = 0, re = 0; me && (L |= 16), _ === "UNIX" ? (re = 798, L |= (function (oe, de) { var Be = oe; return oe || (Be = de ? 16893 : 33204), (65535 & Be) << 16 })(z.unixPermissions, me)) : (re = 20, L |= (function (oe) { return 63 & (oe || 0) })(z.dosPermissions)), I = ke.getUTCHours(), I <<= 6, I |= ke.getUTCMinutes(), I <<= 5, I |= ke.getUTCSeconds() / 2, D = ke.getUTCFullYear() - 1980, D <<= 4, D |= ke.getUTCMonth() + 1, D <<= 5, D |= ke.getUTCDate(), se && (Z = s(1, 1) + s(f(W), 4) + G, pe += "up" + s(Z.length, 2) + Z), M && (ae = s(1, 1) + s(f(ne), 4) + V, pe += "uc" + s(ae.length, 2) + ae); var ie = ""; return ie += `
\0`, ie += s(j, 2), ie += X.magic, ie += s(I, 2), ie += s(D, 2), ie += s(Ce.crc32, 4), ie += s(Ce.compressedSize, 4), ie += s(Ce.uncompressedSize, 4), ie += s(W.length, 2), ie += s(pe.length, 2), { fileRecord: h.LOCAL_FILE_HEADER + ie + W + pe, dirRecord: h.CENTRAL_FILE_HEADER + s(re, 2) + ie + s(ne.length, 2) + "\0\0\0\0" + s(L, 4) + s(E, 4) + W + pe + ne }
            } var o = t("../utils"), A = t("../stream/GenericWorker"), u = t("../utf8"), f = t("../crc32"), h = t("../signature"); function m(p, b, y, E) { A.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = b, this.zipPlatform = y, this.encodeFileName = E, this.streamFiles = p, this.accumulate = !1, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [] } o.inherits(m, A), m.prototype.push = function (p) { var b = p.meta.percent || 0, y = this.entriesCount, E = this._sources.length; this.accumulate ? this.contentBuffer.push(p) : (this.bytesWritten += p.data.length, A.prototype.push.call(this, { data: p.data, meta: { currentFile: this.currentFile, percent: y ? (b + 100 * (y - E - 1)) / y : 100 } })) }, m.prototype.openedSource = function (p) { this.currentSourceOffset = this.bytesWritten, this.currentFile = p.file.name; var b = this.streamFiles && !p.file.dir; if (b) { var y = a(p, b, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName); this.push({ data: y.fileRecord, meta: { percent: 0 } }) } else this.accumulate = !0 }, m.prototype.closedSource = function (p) { this.accumulate = !1; var b = this.streamFiles && !p.file.dir, y = a(p, b, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName); if (this.dirRecords.push(y.dirRecord), b) this.push({ data: (function (E) { return h.DATA_DESCRIPTOR + s(E.crc32, 4) + s(E.compressedSize, 4) + s(E.uncompressedSize, 4) })(p), meta: { percent: 100 } }); else for (this.push({ data: y.fileRecord, meta: { percent: 0 } }); this.contentBuffer.length;)this.push(this.contentBuffer.shift()); this.currentFile = null }, m.prototype.flush = function () { for (var p = this.bytesWritten, b = 0; b < this.dirRecords.length; b++)this.push({ data: this.dirRecords[b], meta: { percent: 100 } }); var y = this.bytesWritten - p, E = (function (_, O, I, D, z) { var X = o.transformTo("string", z(D)); return h.CENTRAL_DIRECTORY_END + "\0\0\0\0" + s(_, 2) + s(_, 2) + s(O, 4) + s(I, 4) + s(X.length, 2) + X })(this.dirRecords.length, y, p, this.zipComment, this.encodeFileName); this.push({ data: E, meta: { percent: 100 } }) }, m.prototype.prepareNextSource = function () { this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume() }, m.prototype.registerPrevious = function (p) { this._sources.push(p); var b = this; return p.on("data", function (y) { b.processChunk(y) }), p.on("end", function () { b.closedSource(b.previous.streamInfo), b._sources.length ? b.prepareNextSource() : b.end() }), p.on("error", function (y) { b.error(y) }), this }, m.prototype.resume = function () { return !!A.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), !0) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), !0)) }, m.prototype.error = function (p) { var b = this._sources; if (!A.prototype.error.call(this, p)) return !1; for (var y = 0; y < b.length; y++)try { b[y].error(p) } catch { } return !0 }, m.prototype.lock = function () { A.prototype.lock.call(this); for (var p = this._sources, b = 0; b < p.length; b++)p[b].lock() }, r.exports = m
          }, { "../crc32": 4, "../signature": 23, "../stream/GenericWorker": 28, "../utf8": 31, "../utils": 32 }], 9: [function (t, r, i) { var s = t("../compressions"), a = t("./ZipFileWorker"); i.generateWorker = function (o, A, u) { var f = new a(A.streamFiles, u, A.platform, A.encodeFileName), h = 0; try { o.forEach(function (m, p) { h++; var b = (function (O, I) { var D = O || I, z = s[D]; if (!z) throw new Error(D + " is not a valid compression method !"); return z })(p.options.compression, A.compression), y = p.options.compressionOptions || A.compressionOptions || {}, E = p.dir, _ = p.date; p._compressWorker(b, y).withStreamInfo("file", { name: m, dir: E, date: _, comment: p.comment || "", unixPermissions: p.unixPermissions, dosPermissions: p.dosPermissions }).pipe(f) }), f.entriesCount = h } catch (m) { f.error(m) } return f } }, { "../compressions": 3, "./ZipFileWorker": 8 }], 10: [function (t, r, i) { function s() { if (!(this instanceof s)) return new s; if (arguments.length) throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide."); this.files = Object.create(null), this.comment = null, this.root = "", this.clone = function () { var a = new s; for (var o in this) typeof this[o] != "function" && (a[o] = this[o]); return a } } (s.prototype = t("./object")).loadAsync = t("./load"), s.support = t("./support"), s.defaults = t("./defaults"), s.version = "3.10.1", s.loadAsync = function (a, o) { return new s().loadAsync(a, o) }, s.external = t("./external"), r.exports = s }, { "./defaults": 5, "./external": 6, "./load": 11, "./object": 15, "./support": 30 }], 11: [function (t, r, i) { var s = t("./utils"), a = t("./external"), o = t("./utf8"), A = t("./zipEntries"), u = t("./stream/Crc32Probe"), f = t("./nodejsUtils"); function h(m) { return new a.Promise(function (p, b) { var y = m.decompressed.getContentWorker().pipe(new u); y.on("error", function (E) { b(E) }).on("end", function () { y.streamInfo.crc32 !== m.decompressed.crc32 ? b(new Error("Corrupted zip : CRC32 mismatch")) : p() }).resume() }) } r.exports = function (m, p) { var b = this; return p = s.extend(p || {}, { base64: !1, checkCRC32: !1, optimizedBinaryString: !1, createFolders: !1, decodeFileName: o.utf8decode }), f.isNode && f.isStream(m) ? a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : s.prepareContent("the loaded zip file", m, !0, p.optimizedBinaryString, p.base64).then(function (y) { var E = new A(p); return E.load(y), E }).then(function (y) { var E = [a.Promise.resolve(y)], _ = y.files; if (p.checkCRC32) for (var O = 0; O < _.length; O++)E.push(h(_[O])); return a.Promise.all(E) }).then(function (y) { for (var E = y.shift(), _ = E.files, O = 0; O < _.length; O++) { var I = _[O], D = I.fileNameStr, z = s.resolve(I.fileNameStr); b.file(z, I.decompressed, { binary: !0, optimizedBinaryString: !0, date: I.date, dir: I.dir, comment: I.fileCommentStr.length ? I.fileCommentStr : null, unixPermissions: I.unixPermissions, dosPermissions: I.dosPermissions, createFolders: p.createFolders }), I.dir || (b.file(z).unsafeOriginalName = D) } return E.zipComment.length && (b.comment = E.zipComment), b }) } }, { "./external": 6, "./nodejsUtils": 14, "./stream/Crc32Probe": 25, "./utf8": 31, "./utils": 32, "./zipEntries": 33 }], 12: [function (t, r, i) { var s = t("../utils"), a = t("../stream/GenericWorker"); function o(A, u) { a.call(this, "Nodejs stream input adapter for " + A), this._upstreamEnded = !1, this._bindStream(u) } s.inherits(o, a), o.prototype._bindStream = function (A) { var u = this; (this._stream = A).pause(), A.on("data", function (f) { u.push({ data: f, meta: { percent: 0 } }) }).on("error", function (f) { u.isPaused ? this.generatedError = f : u.error(f) }).on("end", function () { u.isPaused ? u._upstreamEnded = !0 : u.end() }) }, o.prototype.pause = function () { return !!a.prototype.pause.call(this) && (this._stream.pause(), !0) }, o.prototype.resume = function () { return !!a.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), !0) }, r.exports = o }, { "../stream/GenericWorker": 28, "../utils": 32 }], 13: [function (t, r, i) { var s = t("readable-stream").Readable; function a(o, A, u) { s.call(this, A), this._helper = o; var f = this; o.on("data", function (h, m) { f.push(h) || f._helper.pause(), u && u(m) }).on("error", function (h) { f.emit("error", h) }).on("end", function () { f.push(null) }) } t("../utils").inherits(a, s), a.prototype._read = function () { this._helper.resume() }, r.exports = a }, { "../utils": 32, "readable-stream": 16 }], 14: [function (t, r, i) { r.exports = { isNode: typeof Buffer < "u", newBufferFrom: function (s, a) { if (Buffer.from && Buffer.from !== Uint8Array.from) return Buffer.from(s, a); if (typeof s == "number") throw new Error('The "data" argument must not be a number'); return new Buffer(s, a) }, allocBuffer: function (s) { if (Buffer.alloc) return Buffer.alloc(s); var a = new Buffer(s); return a.fill(0), a }, isBuffer: function (s) { return Buffer.isBuffer(s) }, isStream: function (s) { return s && typeof s.on == "function" && typeof s.pause == "function" && typeof s.resume == "function" } } }, {}], 15: [function (t, r, i) { function s(z, X, q) { var W, G = o.getTypeOf(X), fe = o.extend(q || {}, f); fe.date = fe.date || new Date, fe.compression !== null && (fe.compression = fe.compression.toUpperCase()), typeof fe.unixPermissions == "string" && (fe.unixPermissions = parseInt(fe.unixPermissions, 8)), fe.unixPermissions && 16384 & fe.unixPermissions && (fe.dir = !0), fe.dosPermissions && 16 & fe.dosPermissions && (fe.dir = !0), fe.dir && (z = _(z)), fe.createFolders && (W = E(z)) && O.call(this, W, !0); var ne = G === "string" && fe.binary === !1 && fe.base64 === !1; q && q.binary !== void 0 || (fe.binary = !ne), (X instanceof h && X.uncompressedSize === 0 || fe.dir || !X || X.length === 0) && (fe.base64 = !1, fe.binary = !0, X = "", fe.compression = "STORE", G = "string"); var V = null; V = X instanceof h || X instanceof A ? X : b.isNode && b.isStream(X) ? new y(z, X) : o.prepareContent(z, X, fe.binary, fe.optimizedBinaryString, fe.base64); var se = new m(z, V, fe); this.files[z] = se } var a = t("./utf8"), o = t("./utils"), A = t("./stream/GenericWorker"), u = t("./stream/StreamHelper"), f = t("./defaults"), h = t("./compressedObject"), m = t("./zipObject"), p = t("./generate"), b = t("./nodejsUtils"), y = t("./nodejs/NodejsStreamInputAdapter"), E = function (z) { z.slice(-1) === "/" && (z = z.substring(0, z.length - 1)); var X = z.lastIndexOf("/"); return 0 < X ? z.substring(0, X) : "" }, _ = function (z) { return z.slice(-1) !== "/" && (z += "/"), z }, O = function (z, X) { return X = X !== void 0 ? X : f.createFolders, z = _(z), this.files[z] || s.call(this, z, null, { dir: !0, createFolders: X }), this.files[z] }; function I(z) { return Object.prototype.toString.call(z) === "[object RegExp]" } var D = { load: function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, forEach: function (z) { var X, q, W; for (X in this.files) W = this.files[X], (q = X.slice(this.root.length, X.length)) && X.slice(0, this.root.length) === this.root && z(q, W) }, filter: function (z) { var X = []; return this.forEach(function (q, W) { z(q, W) && X.push(W) }), X }, file: function (z, X, q) { if (arguments.length !== 1) return z = this.root + z, s.call(this, z, X, q), this; if (I(z)) { var W = z; return this.filter(function (fe, ne) { return !ne.dir && W.test(fe) }) } var G = this.files[this.root + z]; return G && !G.dir ? G : null }, folder: function (z) { if (!z) return this; if (I(z)) return this.filter(function (G, fe) { return fe.dir && z.test(G) }); var X = this.root + z, q = O.call(this, X), W = this.clone(); return W.root = q.name, W }, remove: function (z) { z = this.root + z; var X = this.files[z]; if (X || (z.slice(-1) !== "/" && (z += "/"), X = this.files[z]), X && !X.dir) delete this.files[z]; else for (var q = this.filter(function (G, fe) { return fe.name.slice(0, z.length) === z }), W = 0; W < q.length; W++)delete this.files[q[W].name]; return this }, generate: function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, generateInternalStream: function (z) { var X, q = {}; try { if ((q = o.extend(z || {}, { streamFiles: !1, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: a.utf8encode })).type = q.type.toLowerCase(), q.compression = q.compression.toUpperCase(), q.type === "binarystring" && (q.type = "string"), !q.type) throw new Error("No output type specified."); o.checkSupport(q.type), q.platform !== "darwin" && q.platform !== "freebsd" && q.platform !== "linux" && q.platform !== "sunos" || (q.platform = "UNIX"), q.platform === "win32" && (q.platform = "DOS"); var W = q.comment || this.comment || ""; X = p.generateWorker(this, q, W) } catch (G) { (X = new A("error")).error(G) } return new u(X, q.type || "string", q.mimeType) }, generateAsync: function (z, X) { return this.generateInternalStream(z).accumulate(X) }, generateNodeStream: function (z, X) { return (z = z || {}).type || (z.type = "nodebuffer"), this.generateInternalStream(z).toNodejsStream(X) } }; r.exports = D }, { "./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 12, "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31, "./utils": 32, "./zipObject": 35 }], 16: [function (t, r, i) { r.exports = t("stream") }, { stream: void 0 }], 17: [function (t, r, i) { var s = t("./DataReader"); function a(o) { s.call(this, o); for (var A = 0; A < this.data.length; A++)o[A] = 255 & o[A] } t("../utils").inherits(a, s), a.prototype.byteAt = function (o) { return this.data[this.zero + o] }, a.prototype.lastIndexOfSignature = function (o) { for (var A = o.charCodeAt(0), u = o.charCodeAt(1), f = o.charCodeAt(2), h = o.charCodeAt(3), m = this.length - 4; 0 <= m; --m)if (this.data[m] === A && this.data[m + 1] === u && this.data[m + 2] === f && this.data[m + 3] === h) return m - this.zero; return -1 }, a.prototype.readAndCheckSignature = function (o) { var A = o.charCodeAt(0), u = o.charCodeAt(1), f = o.charCodeAt(2), h = o.charCodeAt(3), m = this.readData(4); return A === m[0] && u === m[1] && f === m[2] && h === m[3] }, a.prototype.readData = function (o) { if (this.checkOffset(o), o === 0) return []; var A = this.data.slice(this.zero + this.index, this.zero + this.index + o); return this.index += o, A }, r.exports = a }, { "../utils": 32, "./DataReader": 18 }], 18: [function (t, r, i) { var s = t("../utils"); function a(o) { this.data = o, this.length = o.length, this.index = 0, this.zero = 0 } a.prototype = { checkOffset: function (o) { this.checkIndex(this.index + o) }, checkIndex: function (o) { if (this.length < this.zero + o || o < 0) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + o + "). Corrupted zip ?") }, setIndex: function (o) { this.checkIndex(o), this.index = o }, skip: function (o) { this.setIndex(this.index + o) }, byteAt: function () { }, readInt: function (o) { var A, u = 0; for (this.checkOffset(o), A = this.index + o - 1; A >= this.index; A--)u = (u << 8) + this.byteAt(A); return this.index += o, u }, readString: function (o) { return s.transformTo("string", this.readData(o)) }, readData: function () { }, lastIndexOfSignature: function () { }, readAndCheckSignature: function () { }, readDate: function () { var o = this.readInt(4); return new Date(Date.UTC(1980 + (o >> 25 & 127), (o >> 21 & 15) - 1, o >> 16 & 31, o >> 11 & 31, o >> 5 & 63, (31 & o) << 1)) } }, r.exports = a }, { "../utils": 32 }], 19: [function (t, r, i) { var s = t("./Uint8ArrayReader"); function a(o) { s.call(this, o) } t("../utils").inherits(a, s), a.prototype.readData = function (o) { this.checkOffset(o); var A = this.data.slice(this.zero + this.index, this.zero + this.index + o); return this.index += o, A }, r.exports = a }, { "../utils": 32, "./Uint8ArrayReader": 21 }], 20: [function (t, r, i) { var s = t("./DataReader"); function a(o) { s.call(this, o) } t("../utils").inherits(a, s), a.prototype.byteAt = function (o) { return this.data.charCodeAt(this.zero + o) }, a.prototype.lastIndexOfSignature = function (o) { return this.data.lastIndexOf(o) - this.zero }, a.prototype.readAndCheckSignature = function (o) { return o === this.readData(4) }, a.prototype.readData = function (o) { this.checkOffset(o); var A = this.data.slice(this.zero + this.index, this.zero + this.index + o); return this.index += o, A }, r.exports = a }, { "../utils": 32, "./DataReader": 18 }], 21: [function (t, r, i) { var s = t("./ArrayReader"); function a(o) { s.call(this, o) } t("../utils").inherits(a, s), a.prototype.readData = function (o) { if (this.checkOffset(o), o === 0) return new Uint8Array(0); var A = this.data.subarray(this.zero + this.index, this.zero + this.index + o); return this.index += o, A }, r.exports = a }, { "../utils": 32, "./ArrayReader": 17 }], 22: [function (t, r, i) { var s = t("../utils"), a = t("../support"), o = t("./ArrayReader"), A = t("./StringReader"), u = t("./NodeBufferReader"), f = t("./Uint8ArrayReader"); r.exports = function (h) { var m = s.getTypeOf(h); return s.checkSupport(m), m !== "string" || a.uint8array ? m === "nodebuffer" ? new u(h) : a.uint8array ? new f(s.transformTo("uint8array", h)) : new o(s.transformTo("array", h)) : new A(h) } }, { "../support": 30, "../utils": 32, "./ArrayReader": 17, "./NodeBufferReader": 19, "./StringReader": 20, "./Uint8ArrayReader": 21 }], 23: [function (t, r, i) { i.LOCAL_FILE_HEADER = "PK", i.CENTRAL_FILE_HEADER = "PK", i.CENTRAL_DIRECTORY_END = "PK", i.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", i.ZIP64_CENTRAL_DIRECTORY_END = "PK", i.DATA_DESCRIPTOR = "PK\x07\b" }, {}], 24: [function (t, r, i) { var s = t("./GenericWorker"), a = t("../utils"); function o(A) { s.call(this, "ConvertWorker to " + A), this.destType = A } a.inherits(o, s), o.prototype.processChunk = function (A) { this.push({ data: a.transformTo(this.destType, A.data), meta: A.meta }) }, r.exports = o }, { "../utils": 32, "./GenericWorker": 28 }], 25: [function (t, r, i) { var s = t("./GenericWorker"), a = t("../crc32"); function o() { s.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0) } t("../utils").inherits(o, s), o.prototype.processChunk = function (A) { this.streamInfo.crc32 = a(A.data, this.streamInfo.crc32 || 0), this.push(A) }, r.exports = o }, { "../crc32": 4, "../utils": 32, "./GenericWorker": 28 }], 26: [function (t, r, i) { var s = t("../utils"), a = t("./GenericWorker"); function o(A) { a.call(this, "DataLengthProbe for " + A), this.propName = A, this.withStreamInfo(A, 0) } s.inherits(o, a), o.prototype.processChunk = function (A) { if (A) { var u = this.streamInfo[this.propName] || 0; this.streamInfo[this.propName] = u + A.data.length } a.prototype.processChunk.call(this, A) }, r.exports = o }, { "../utils": 32, "./GenericWorker": 28 }], 27: [function (t, r, i) { var s = t("../utils"), a = t("./GenericWorker"); function o(A) { a.call(this, "DataWorker"); var u = this; this.dataIsReady = !1, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = !1, A.then(function (f) { u.dataIsReady = !0, u.data = f, u.max = f && f.length || 0, u.type = s.getTypeOf(f), u.isPaused || u._tickAndRepeat() }, function (f) { u.error(f) }) } s.inherits(o, a), o.prototype.cleanUp = function () { a.prototype.cleanUp.call(this), this.data = null }, o.prototype.resume = function () { return !!a.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0, s.delay(this._tickAndRepeat, [], this)), !0) }, o.prototype._tickAndRepeat = function () { this._tickScheduled = !1, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (s.delay(this._tickAndRepeat, [], this), this._tickScheduled = !0)) }, o.prototype._tick = function () { if (this.isPaused || this.isFinished) return !1; var A = null, u = Math.min(this.max, this.index + 16384); if (this.index >= this.max) return this.end(); switch (this.type) { case "string": A = this.data.substring(this.index, u); break; case "uint8array": A = this.data.subarray(this.index, u); break; case "array": case "nodebuffer": A = this.data.slice(this.index, u) }return this.index = u, this.push({ data: A, meta: { percent: this.max ? this.index / this.max * 100 : 0 } }) }, r.exports = o }, { "../utils": 32, "./GenericWorker": 28 }], 28: [function (t, r, i) { function s(a) { this.name = a || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = !0, this.isFinished = !1, this.isLocked = !1, this._listeners = { data: [], end: [], error: [] }, this.previous = null } s.prototype = { push: function (a) { this.emit("data", a) }, end: function () { if (this.isFinished) return !1; this.flush(); try { this.emit("end"), this.cleanUp(), this.isFinished = !0 } catch (a) { this.emit("error", a) } return !0 }, error: function (a) { return !this.isFinished && (this.isPaused ? this.generatedError = a : (this.isFinished = !0, this.emit("error", a), this.previous && this.previous.error(a), this.cleanUp()), !0) }, on: function (a, o) { return this._listeners[a].push(o), this }, cleanUp: function () { this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [] }, emit: function (a, o) { if (this._listeners[a]) for (var A = 0; A < this._listeners[a].length; A++)this._listeners[a][A].call(this, o) }, pipe: function (a) { return a.registerPrevious(this) }, registerPrevious: function (a) { if (this.isLocked) throw new Error("The stream '" + this + "' has already been used."); this.streamInfo = a.streamInfo, this.mergeStreamInfo(), this.previous = a; var o = this; return a.on("data", function (A) { o.processChunk(A) }), a.on("end", function () { o.end() }), a.on("error", function (A) { o.error(A) }), this }, pause: function () { return !this.isPaused && !this.isFinished && (this.isPaused = !0, this.previous && this.previous.pause(), !0) }, resume: function () { if (!this.isPaused || this.isFinished) return !1; var a = this.isPaused = !1; return this.generatedError && (this.error(this.generatedError), a = !0), this.previous && this.previous.resume(), !a }, flush: function () { }, processChunk: function (a) { this.push(a) }, withStreamInfo: function (a, o) { return this.extraStreamInfo[a] = o, this.mergeStreamInfo(), this }, mergeStreamInfo: function () { for (var a in this.extraStreamInfo) Object.prototype.hasOwnProperty.call(this.extraStreamInfo, a) && (this.streamInfo[a] = this.extraStreamInfo[a]) }, lock: function () { if (this.isLocked) throw new Error("The stream '" + this + "' has already been used."); this.isLocked = !0, this.previous && this.previous.lock() }, toString: function () { var a = "Worker " + this.name; return this.previous ? this.previous + " -> " + a : a } }, r.exports = s }, {}], 29: [function (t, r, i) { var s = t("../utils"), a = t("./ConvertWorker"), o = t("./GenericWorker"), A = t("../base64"), u = t("../support"), f = t("../external"), h = null; if (u.nodestream) try { h = t("../nodejs/NodejsStreamOutputAdapter") } catch { } function m(b, y) { return new f.Promise(function (E, _) { var O = [], I = b._internalType, D = b._outputType, z = b._mimeType; b.on("data", function (X, q) { O.push(X), y && y(q) }).on("error", function (X) { O = [], _(X) }).on("end", function () { try { var X = (function (q, W, G) { switch (q) { case "blob": return s.newBlob(s.transformTo("arraybuffer", W), G); case "base64": return A.encode(W); default: return s.transformTo(q, W) } })(D, (function (q, W) { var G, fe = 0, ne = null, V = 0; for (G = 0; G < W.length; G++)V += W[G].length; switch (q) { case "string": return W.join(""); case "array": return Array.prototype.concat.apply([], W); case "uint8array": for (ne = new Uint8Array(V), G = 0; G < W.length; G++)ne.set(W[G], fe), fe += W[G].length; return ne; case "nodebuffer": return Buffer.concat(W); default: throw new Error("concat : unsupported type '" + q + "'") } })(I, O), z); E(X) } catch (q) { _(q) } O = [] }).resume() }) } function p(b, y, E) { var _ = y; switch (y) { case "blob": case "arraybuffer": _ = "uint8array"; break; case "base64": _ = "string" }try { this._internalType = _, this._outputType = y, this._mimeType = E, s.checkSupport(_), this._worker = b.pipe(new a(_)), b.lock() } catch (O) { this._worker = new o("error"), this._worker.error(O) } } p.prototype = { accumulate: function (b) { return m(this, b) }, on: function (b, y) { var E = this; return b === "data" ? this._worker.on(b, function (_) { y.call(E, _.data, _.meta) }) : this._worker.on(b, function () { s.delay(y, arguments, E) }), this }, resume: function () { return s.delay(this._worker.resume, [], this._worker), this }, pause: function () { return this._worker.pause(), this }, toNodejsStream: function (b) { if (s.checkSupport("nodestream"), this._outputType !== "nodebuffer") throw new Error(this._outputType + " is not supported by this method"); return new h(this, { objectMode: this._outputType !== "nodebuffer" }, b) } }, r.exports = p }, { "../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 13, "../support": 30, "../utils": 32, "./ConvertWorker": 24, "./GenericWorker": 28 }], 30: [function (t, r, i) { if (i.base64 = !0, i.array = !0, i.string = !0, i.arraybuffer = typeof ArrayBuffer < "u" && typeof Uint8Array < "u", i.nodebuffer = typeof Buffer < "u", i.uint8array = typeof Uint8Array < "u", typeof ArrayBuffer > "u") i.blob = !1; else { var s = new ArrayBuffer(0); try { i.blob = new Blob([s], { type: "application/zip" }).size === 0 } catch { try { var a = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder); a.append(s), i.blob = a.getBlob("application/zip").size === 0 } catch { i.blob = !1 } } } try { i.nodestream = !!t("readable-stream").Readable } catch { i.nodestream = !1 } }, { "readable-stream": 16 }], 31: [function (t, r, i) { for (var s = t("./utils"), a = t("./support"), o = t("./nodejsUtils"), A = t("./stream/GenericWorker"), u = new Array(256), f = 0; f < 256; f++)u[f] = 252 <= f ? 6 : 248 <= f ? 5 : 240 <= f ? 4 : 224 <= f ? 3 : 192 <= f ? 2 : 1; u[254] = u[254] = 1; function h() { A.call(this, "utf-8 decode"), this.leftOver = null } function m() { A.call(this, "utf-8 encode") } i.utf8encode = function (p) { return a.nodebuffer ? o.newBufferFrom(p, "utf-8") : (function (b) { var y, E, _, O, I, D = b.length, z = 0; for (O = 0; O < D; O++)(64512 & (E = b.charCodeAt(O))) == 55296 && O + 1 < D && (64512 & (_ = b.charCodeAt(O + 1))) == 56320 && (E = 65536 + (E - 55296 << 10) + (_ - 56320), O++), z += E < 128 ? 1 : E < 2048 ? 2 : E < 65536 ? 3 : 4; for (y = a.uint8array ? new Uint8Array(z) : new Array(z), O = I = 0; I < z; O++)(64512 & (E = b.charCodeAt(O))) == 55296 && O + 1 < D && (64512 & (_ = b.charCodeAt(O + 1))) == 56320 && (E = 65536 + (E - 55296 << 10) + (_ - 56320), O++), E < 128 ? y[I++] = E : (E < 2048 ? y[I++] = 192 | E >>> 6 : (E < 65536 ? y[I++] = 224 | E >>> 12 : (y[I++] = 240 | E >>> 18, y[I++] = 128 | E >>> 12 & 63), y[I++] = 128 | E >>> 6 & 63), y[I++] = 128 | 63 & E); return y })(p) }, i.utf8decode = function (p) { return a.nodebuffer ? s.transformTo("nodebuffer", p).toString("utf-8") : (function (b) { var y, E, _, O, I = b.length, D = new Array(2 * I); for (y = E = 0; y < I;)if ((_ = b[y++]) < 128) D[E++] = _; else if (4 < (O = u[_])) D[E++] = 65533, y += O - 1; else { for (_ &= O === 2 ? 31 : O === 3 ? 15 : 7; 1 < O && y < I;)_ = _ << 6 | 63 & b[y++], O--; 1 < O ? D[E++] = 65533 : _ < 65536 ? D[E++] = _ : (_ -= 65536, D[E++] = 55296 | _ >> 10 & 1023, D[E++] = 56320 | 1023 & _) } return D.length !== E && (D.subarray ? D = D.subarray(0, E) : D.length = E), s.applyFromCharCode(D) })(p = s.transformTo(a.uint8array ? "uint8array" : "array", p)) }, s.inherits(h, A), h.prototype.processChunk = function (p) { var b = s.transformTo(a.uint8array ? "uint8array" : "array", p.data); if (this.leftOver && this.leftOver.length) { if (a.uint8array) { var y = b; (b = new Uint8Array(y.length + this.leftOver.length)).set(this.leftOver, 0), b.set(y, this.leftOver.length) } else b = this.leftOver.concat(b); this.leftOver = null } var E = (function (O, I) { var D; for ((I = I || O.length) > O.length && (I = O.length), D = I - 1; 0 <= D && (192 & O[D]) == 128;)D--; return D < 0 || D === 0 ? I : D + u[O[D]] > I ? D : I })(b), _ = b; E !== b.length && (a.uint8array ? (_ = b.subarray(0, E), this.leftOver = b.subarray(E, b.length)) : (_ = b.slice(0, E), this.leftOver = b.slice(E, b.length))), this.push({ data: i.utf8decode(_), meta: p.meta }) }, h.prototype.flush = function () { this.leftOver && this.leftOver.length && (this.push({ data: i.utf8decode(this.leftOver), meta: {} }), this.leftOver = null) }, i.Utf8DecodeWorker = h, s.inherits(m, A), m.prototype.processChunk = function (p) { this.push({ data: i.utf8encode(p.data), meta: p.meta }) }, i.Utf8EncodeWorker = m }, { "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./support": 30, "./utils": 32 }], 32: [function (t, r, i) { var s = t("./support"), a = t("./base64"), o = t("./nodejsUtils"), A = t("./external"); function u(y) { return y } function f(y, E) { for (var _ = 0; _ < y.length; ++_)E[_] = 255 & y.charCodeAt(_); return E } t("setimmediate"), i.newBlob = function (y, E) { i.checkSupport("blob"); try { return new Blob([y], { type: E }) } catch { try { var _ = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder); return _.append(y), _.getBlob(E) } catch { throw new Error("Bug : can't construct the Blob.") } } }; var h = { stringifyByChunk: function (y, E, _) { var O = [], I = 0, D = y.length; if (D <= _) return String.fromCharCode.apply(null, y); for (; I < D;)E === "array" || E === "nodebuffer" ? O.push(String.fromCharCode.apply(null, y.slice(I, Math.min(I + _, D)))) : O.push(String.fromCharCode.apply(null, y.subarray(I, Math.min(I + _, D)))), I += _; return O.join("") }, stringifyByChar: function (y) { for (var E = "", _ = 0; _ < y.length; _++)E += String.fromCharCode(y[_]); return E }, applyCanBeUsed: { uint8array: (function () { try { return s.uint8array && String.fromCharCode.apply(null, new Uint8Array(1)).length === 1 } catch { return !1 } })(), nodebuffer: (function () { try { return s.nodebuffer && String.fromCharCode.apply(null, o.allocBuffer(1)).length === 1 } catch { return !1 } })() } }; function m(y) { var E = 65536, _ = i.getTypeOf(y), O = !0; if (_ === "uint8array" ? O = h.applyCanBeUsed.uint8array : _ === "nodebuffer" && (O = h.applyCanBeUsed.nodebuffer), O) for (; 1 < E;)try { return h.stringifyByChunk(y, _, E) } catch { E = Math.floor(E / 2) } return h.stringifyByChar(y) } function p(y, E) { for (var _ = 0; _ < y.length; _++)E[_] = y[_]; return E } i.applyFromCharCode = m; var b = {}; b.string = { string: u, array: function (y) { return f(y, new Array(y.length)) }, arraybuffer: function (y) { return b.string.uint8array(y).buffer }, uint8array: function (y) { return f(y, new Uint8Array(y.length)) }, nodebuffer: function (y) { return f(y, o.allocBuffer(y.length)) } }, b.array = { string: m, array: u, arraybuffer: function (y) { return new Uint8Array(y).buffer }, uint8array: function (y) { return new Uint8Array(y) }, nodebuffer: function (y) { return o.newBufferFrom(y) } }, b.arraybuffer = { string: function (y) { return m(new Uint8Array(y)) }, array: function (y) { return p(new Uint8Array(y), new Array(y.byteLength)) }, arraybuffer: u, uint8array: function (y) { return new Uint8Array(y) }, nodebuffer: function (y) { return o.newBufferFrom(new Uint8Array(y)) } }, b.uint8array = { string: m, array: function (y) { return p(y, new Array(y.length)) }, arraybuffer: function (y) { return y.buffer }, uint8array: u, nodebuffer: function (y) { return o.newBufferFrom(y) } }, b.nodebuffer = { string: m, array: function (y) { return p(y, new Array(y.length)) }, arraybuffer: function (y) { return b.nodebuffer.uint8array(y).buffer }, uint8array: function (y) { return p(y, new Uint8Array(y.length)) }, nodebuffer: u }, i.transformTo = function (y, E) { if (E = E || "", !y) return E; i.checkSupport(y); var _ = i.getTypeOf(E); return b[_][y](E) }, i.resolve = function (y) { for (var E = y.split("/"), _ = [], O = 0; O < E.length; O++) { var I = E[O]; I === "." || I === "" && O !== 0 && O !== E.length - 1 || (I === ".." ? _.pop() : _.push(I)) } return _.join("/") }, i.getTypeOf = function (y) { return typeof y == "string" ? "string" : Object.prototype.toString.call(y) === "[object Array]" ? "array" : s.nodebuffer && o.isBuffer(y) ? "nodebuffer" : s.uint8array && y instanceof Uint8Array ? "uint8array" : s.arraybuffer && y instanceof ArrayBuffer ? "arraybuffer" : void 0 }, i.checkSupport = function (y) { if (!s[y.toLowerCase()]) throw new Error(y + " is not supported by this platform") }, i.MAX_VALUE_16BITS = 65535, i.MAX_VALUE_32BITS = -1, i.pretty = function (y) { var E, _, O = ""; for (_ = 0; _ < (y || "").length; _++)O += "\\x" + ((E = y.charCodeAt(_)) < 16 ? "0" : "") + E.toString(16).toUpperCase(); return O }, i.delay = function (y, E, _) { setImmediate(function () { y.apply(_ || null, E || []) }) }, i.inherits = function (y, E) { function _() { } _.prototype = E.prototype, y.prototype = new _ }, i.extend = function () { var y, E, _ = {}; for (y = 0; y < arguments.length; y++)for (E in arguments[y]) Object.prototype.hasOwnProperty.call(arguments[y], E) && _[E] === void 0 && (_[E] = arguments[y][E]); return _ }, i.prepareContent = function (y, E, _, O, I) { return A.Promise.resolve(E).then(function (D) { return s.blob && (D instanceof Blob || ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(D)) !== -1) && typeof FileReader < "u" ? new A.Promise(function (z, X) { var q = new FileReader; q.onload = function (W) { z(W.target.result) }, q.onerror = function (W) { X(W.target.error) }, q.readAsArrayBuffer(D) }) : D }).then(function (D) { var z = i.getTypeOf(D); return z ? (z === "arraybuffer" ? D = i.transformTo("uint8array", D) : z === "string" && (I ? D = a.decode(D) : _ && O !== !0 && (D = (function (X) { return f(X, s.uint8array ? new Uint8Array(X.length) : new Array(X.length)) })(D))), D) : A.Promise.reject(new Error("Can't read the data of '" + y + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?")) }) } }, { "./base64": 1, "./external": 6, "./nodejsUtils": 14, "./support": 30, setimmediate: 54 }], 33: [function (t, r, i) { var s = t("./reader/readerFor"), a = t("./utils"), o = t("./signature"), A = t("./zipEntry"), u = t("./support"); function f(h) { this.files = [], this.loadOptions = h } f.prototype = { checkSignature: function (h) { if (!this.reader.readAndCheckSignature(h)) { this.reader.index -= 4; var m = this.reader.readString(4); throw new Error("Corrupted zip or bug: unexpected signature (" + a.pretty(m) + ", expected " + a.pretty(h) + ")") } }, isSignature: function (h, m) { var p = this.reader.index; this.reader.setIndex(h); var b = this.reader.readString(4) === m; return this.reader.setIndex(p), b }, readBlockEndOfCentral: function () { this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2); var h = this.reader.readData(this.zipCommentLength), m = u.uint8array ? "uint8array" : "array", p = a.transformTo(m, h); this.zipComment = this.loadOptions.decodeFileName(p) }, readBlockZip64EndOfCentral: function () { this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {}; for (var h, m, p, b = this.zip64EndOfCentralSize - 44; 0 < b;)h = this.reader.readInt(2), m = this.reader.readInt(4), p = this.reader.readData(m), this.zip64ExtensibleData[h] = { id: h, length: m, value: p } }, readBlockZip64EndOfCentralLocator: function () { if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount) throw new Error("Multi-volumes zip are not supported") }, readLocalFiles: function () { var h, m; for (h = 0; h < this.files.length; h++)m = this.files[h], this.reader.setIndex(m.localHeaderOffset), this.checkSignature(o.LOCAL_FILE_HEADER), m.readLocalPart(this.reader), m.handleUTF8(), m.processAttributes() }, readCentralDir: function () { var h; for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h = new A({ zip64: this.zip64 }, this.loadOptions)).readCentralPart(this.reader), this.files.push(h); if (this.centralDirRecords !== this.files.length && this.centralDirRecords !== 0 && this.files.length === 0) throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length) }, readEndOfCentral: function () { var h = this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END); if (h < 0) throw this.isSignature(0, o.LOCAL_FILE_HEADER) ? new Error("Corrupted zip: can't find end of central directory") : new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"); this.reader.setIndex(h); var m = h; if (this.checkSignature(o.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === a.MAX_VALUE_16BITS || this.diskWithCentralDirStart === a.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === a.MAX_VALUE_16BITS || this.centralDirRecords === a.MAX_VALUE_16BITS || this.centralDirSize === a.MAX_VALUE_32BITS || this.centralDirOffset === a.MAX_VALUE_32BITS) { if (this.zip64 = !0, (h = this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator"); if (this.reader.setIndex(h), this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, o.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0)) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory"); this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral() } var p = this.centralDirOffset + this.centralDirSize; this.zip64 && (p += 20, p += 12 + this.zip64EndOfCentralSize); var b = m - p; if (0 < b) this.isSignature(m, o.CENTRAL_FILE_HEADER) || (this.reader.zero = b); else if (b < 0) throw new Error("Corrupted zip: missing " + Math.abs(b) + " bytes.") }, prepareReader: function (h) { this.reader = s(h) }, load: function (h) { this.prepareReader(h), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles() } }, r.exports = f }, { "./reader/readerFor": 22, "./signature": 23, "./support": 30, "./utils": 32, "./zipEntry": 34 }], 34: [function (t, r, i) { var s = t("./reader/readerFor"), a = t("./utils"), o = t("./compressedObject"), A = t("./crc32"), u = t("./utf8"), f = t("./compressions"), h = t("./support"); function m(p, b) { this.options = p, this.loadOptions = b } m.prototype = { isEncrypted: function () { return (1 & this.bitFlag) == 1 }, useUTF8: function () { return (2048 & this.bitFlag) == 2048 }, readLocalPart: function (p) { var b, y; if (p.skip(22), this.fileNameLength = p.readInt(2), y = p.readInt(2), this.fileName = p.readData(this.fileNameLength), p.skip(y), this.compressedSize === -1 || this.uncompressedSize === -1) throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)"); if ((b = (function (E) { for (var _ in f) if (Object.prototype.hasOwnProperty.call(f, _) && f[_].magic === E) return f[_]; return null })(this.compressionMethod)) === null) throw new Error("Corrupted zip : compression " + a.pretty(this.compressionMethod) + " unknown (inner file : " + a.transformTo("string", this.fileName) + ")"); this.decompressed = new o(this.compressedSize, this.uncompressedSize, this.crc32, b, p.readData(this.compressedSize)) }, readCentralPart: function (p) { this.versionMadeBy = p.readInt(2), p.skip(2), this.bitFlag = p.readInt(2), this.compressionMethod = p.readString(2), this.date = p.readDate(), this.crc32 = p.readInt(4), this.compressedSize = p.readInt(4), this.uncompressedSize = p.readInt(4); var b = p.readInt(2); if (this.extraFieldsLength = p.readInt(2), this.fileCommentLength = p.readInt(2), this.diskNumberStart = p.readInt(2), this.internalFileAttributes = p.readInt(2), this.externalFileAttributes = p.readInt(4), this.localHeaderOffset = p.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported"); p.skip(b), this.readExtraFields(p), this.parseZIP64ExtraField(p), this.fileComment = p.readData(this.fileCommentLength) }, processAttributes: function () { this.unixPermissions = null, this.dosPermissions = null; var p = this.versionMadeBy >> 8; this.dir = !!(16 & this.externalFileAttributes), p == 0 && (this.dosPermissions = 63 & this.externalFileAttributes), p == 3 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || this.fileNameStr.slice(-1) !== "/" || (this.dir = !0) }, parseZIP64ExtraField: function () { if (this.extraFields[1]) { var p = s(this.extraFields[1].value); this.uncompressedSize === a.MAX_VALUE_32BITS && (this.uncompressedSize = p.readInt(8)), this.compressedSize === a.MAX_VALUE_32BITS && (this.compressedSize = p.readInt(8)), this.localHeaderOffset === a.MAX_VALUE_32BITS && (this.localHeaderOffset = p.readInt(8)), this.diskNumberStart === a.MAX_VALUE_32BITS && (this.diskNumberStart = p.readInt(4)) } }, readExtraFields: function (p) { var b, y, E, _ = p.index + this.extraFieldsLength; for (this.extraFields || (this.extraFields = {}); p.index + 4 < _;)b = p.readInt(2), y = p.readInt(2), E = p.readData(y), this.extraFields[b] = { id: b, length: y, value: E }; p.setIndex(_) }, handleUTF8: function () { var p = h.uint8array ? "uint8array" : "array"; if (this.useUTF8()) this.fileNameStr = u.utf8decode(this.fileName), this.fileCommentStr = u.utf8decode(this.fileComment); else { var b = this.findExtraFieldUnicodePath(); if (b !== null) this.fileNameStr = b; else { var y = a.transformTo(p, this.fileName); this.fileNameStr = this.loadOptions.decodeFileName(y) } var E = this.findExtraFieldUnicodeComment(); if (E !== null) this.fileCommentStr = E; else { var _ = a.transformTo(p, this.fileComment); this.fileCommentStr = this.loadOptions.decodeFileName(_) } } }, findExtraFieldUnicodePath: function () { var p = this.extraFields[28789]; if (p) { var b = s(p.value); return b.readInt(1) !== 1 || A(this.fileName) !== b.readInt(4) ? null : u.utf8decode(b.readData(p.length - 5)) } return null }, findExtraFieldUnicodeComment: function () { var p = this.extraFields[25461]; if (p) { var b = s(p.value); return b.readInt(1) !== 1 || A(this.fileComment) !== b.readInt(4) ? null : u.utf8decode(b.readData(p.length - 5)) } return null } }, r.exports = m }, { "./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 22, "./support": 30, "./utf8": 31, "./utils": 32 }], 35: [function (t, r, i) { function s(b, y, E) { this.name = b, this.dir = E.dir, this.date = E.date, this.comment = E.comment, this.unixPermissions = E.unixPermissions, this.dosPermissions = E.dosPermissions, this._data = y, this._dataBinary = E.binary, this.options = { compression: E.compression, compressionOptions: E.compressionOptions } } var a = t("./stream/StreamHelper"), o = t("./stream/DataWorker"), A = t("./utf8"), u = t("./compressedObject"), f = t("./stream/GenericWorker"); s.prototype = { internalStream: function (b) { var y = null, E = "string"; try { if (!b) throw new Error("No output type specified."); var _ = (E = b.toLowerCase()) === "string" || E === "text"; E !== "binarystring" && E !== "text" || (E = "string"), y = this._decompressWorker(); var O = !this._dataBinary; O && !_ && (y = y.pipe(new A.Utf8EncodeWorker)), !O && _ && (y = y.pipe(new A.Utf8DecodeWorker)) } catch (I) { (y = new f("error")).error(I) } return new a(y, E, "") }, async: function (b, y) { return this.internalStream(b).accumulate(y) }, nodeStream: function (b, y) { return this.internalStream(b || "nodebuffer").toNodejsStream(y) }, _compressWorker: function (b, y) { if (this._data instanceof u && this._data.compression.magic === b.magic) return this._data.getCompressedWorker(); var E = this._decompressWorker(); return this._dataBinary || (E = E.pipe(new A.Utf8EncodeWorker)), u.createWorkerFrom(E, b, y) }, _decompressWorker: function () { return this._data instanceof u ? this._data.getContentWorker() : this._data instanceof f ? this._data : new o(this._data) } }; for (var h = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], m = function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, p = 0; p < h.length; p++)s.prototype[h[p]] = m; r.exports = s }, { "./compressedObject": 2, "./stream/DataWorker": 27, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31 }], 36: [function (t, r, i) { (function (s) { var a, o, A = s.MutationObserver || s.WebKitMutationObserver; if (A) { var u = 0, f = new A(b), h = s.document.createTextNode(""); f.observe(h, { characterData: !0 }), a = function () { h.data = u = ++u % 2 } } else if (s.setImmediate || s.MessageChannel === void 0) a = "document" in s && "onreadystatechange" in s.document.createElement("script") ? function () { var y = s.document.createElement("script"); y.onreadystatechange = function () { b(), y.onreadystatechange = null, y.parentNode.removeChild(y), y = null }, s.document.documentElement.appendChild(y) } : function () { setTimeout(b, 0) }; else { var m = new s.MessageChannel; m.port1.onmessage = b, a = function () { m.port2.postMessage(0) } } var p = []; function b() { var y, E; o = !0; for (var _ = p.length; _;) { for (E = p, p = [], y = -1; ++y < _;)E[y](); _ = p.length } o = !1 } r.exports = function (y) { p.push(y) !== 1 || o || a() } }).call(this, typeof ty < "u" ? ty : typeof self < "u" ? self : typeof window < "u" ? window : {}) }, {}], 37: [function (t, r, i) { var s = t("immediate"); function a() { } var o = {}, A = ["REJECTED"], u = ["FULFILLED"], f = ["PENDING"]; function h(_) { if (typeof _ != "function") throw new TypeError("resolver must be a function"); this.state = f, this.queue = [], this.outcome = void 0, _ !== a && y(this, _) } function m(_, O, I) { this.promise = _, typeof O == "function" && (this.onFulfilled = O, this.callFulfilled = this.otherCallFulfilled), typeof I == "function" && (this.onRejected = I, this.callRejected = this.otherCallRejected) } function p(_, O, I) { s(function () { var D; try { D = O(I) } catch (z) { return o.reject(_, z) } D === _ ? o.reject(_, new TypeError("Cannot resolve promise with itself")) : o.resolve(_, D) }) } function b(_) { var O = _ && _.then; if (_ && (typeof _ == "object" || typeof _ == "function") && typeof O == "function") return function () { O.apply(_, arguments) } } function y(_, O) { var I = !1; function D(q) { I || (I = !0, o.reject(_, q)) } function z(q) { I || (I = !0, o.resolve(_, q)) } var X = E(function () { O(z, D) }); X.status === "error" && D(X.value) } function E(_, O) { var I = {}; try { I.value = _(O), I.status = "success" } catch (D) { I.status = "error", I.value = D } return I } (r.exports = h).prototype.finally = function (_) { if (typeof _ != "function") return this; var O = this.constructor; return this.then(function (I) { return O.resolve(_()).then(function () { return I }) }, function (I) { return O.resolve(_()).then(function () { throw I }) }) }, h.prototype.catch = function (_) { return this.then(null, _) }, h.prototype.then = function (_, O) { if (typeof _ != "function" && this.state === u || typeof O != "function" && this.state === A) return this; var I = new this.constructor(a); return this.state !== f ? p(I, this.state === u ? _ : O, this.outcome) : this.queue.push(new m(I, _, O)), I }, m.prototype.callFulfilled = function (_) { o.resolve(this.promise, _) }, m.prototype.otherCallFulfilled = function (_) { p(this.promise, this.onFulfilled, _) }, m.prototype.callRejected = function (_) { o.reject(this.promise, _) }, m.prototype.otherCallRejected = function (_) { p(this.promise, this.onRejected, _) }, o.resolve = function (_, O) { var I = E(b, O); if (I.status === "error") return o.reject(_, I.value); var D = I.value; if (D) y(_, D); else { _.state = u, _.outcome = O; for (var z = -1, X = _.queue.length; ++z < X;)_.queue[z].callFulfilled(O) } return _ }, o.reject = function (_, O) { _.state = A, _.outcome = O; for (var I = -1, D = _.queue.length; ++I < D;)_.queue[I].callRejected(O); return _ }, h.resolve = function (_) { return _ instanceof this ? _ : o.resolve(new this(a), _) }, h.reject = function (_) { var O = new this(a); return o.reject(O, _) }, h.all = function (_) { var O = this; if (Object.prototype.toString.call(_) !== "[object Array]") return this.reject(new TypeError("must be an array")); var I = _.length, D = !1; if (!I) return this.resolve([]); for (var z = new Array(I), X = 0, q = -1, W = new this(a); ++q < I;)G(_[q], q); return W; function G(fe, ne) { O.resolve(fe).then(function (V) { z[ne] = V, ++X !== I || D || (D = !0, o.resolve(W, z)) }, function (V) { D || (D = !0, o.reject(W, V)) }) } }, h.race = function (_) { var O = this; if (Object.prototype.toString.call(_) !== "[object Array]") return this.reject(new TypeError("must be an array")); var I = _.length, D = !1; if (!I) return this.resolve([]); for (var z = -1, X = new this(a); ++z < I;)q = _[z], O.resolve(q).then(function (W) { D || (D = !0, o.resolve(X, W)) }, function (W) { D || (D = !0, o.reject(X, W)) }); var q; return X } }, { immediate: 36 }], 38: [function (t, r, i) { var s = {}; (0, t("./lib/utils/common").assign)(s, t("./lib/deflate"), t("./lib/inflate"), t("./lib/zlib/constants")), r.exports = s }, { "./lib/deflate": 39, "./lib/inflate": 40, "./lib/utils/common": 41, "./lib/zlib/constants": 44 }], 39: [function (t, r, i) { var s = t("./zlib/deflate"), a = t("./utils/common"), o = t("./utils/strings"), A = t("./zlib/messages"), u = t("./zlib/zstream"), f = Object.prototype.toString, h = 0, m = -1, p = 0, b = 8; function y(_) { if (!(this instanceof y)) return new y(_); this.options = a.assign({ level: m, method: b, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: p, to: "" }, _ || {}); var O = this.options; O.raw && 0 < O.windowBits ? O.windowBits = -O.windowBits : O.gzip && 0 < O.windowBits && O.windowBits < 16 && (O.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new u, this.strm.avail_out = 0; var I = s.deflateInit2(this.strm, O.level, O.method, O.windowBits, O.memLevel, O.strategy); if (I !== h) throw new Error(A[I]); if (O.header && s.deflateSetHeader(this.strm, O.header), O.dictionary) { var D; if (D = typeof O.dictionary == "string" ? o.string2buf(O.dictionary) : f.call(O.dictionary) === "[object ArrayBuffer]" ? new Uint8Array(O.dictionary) : O.dictionary, (I = s.deflateSetDictionary(this.strm, D)) !== h) throw new Error(A[I]); this._dict_set = !0 } } function E(_, O) { var I = new y(O); if (I.push(_, !0), I.err) throw I.msg || A[I.err]; return I.result } y.prototype.push = function (_, O) { var I, D, z = this.strm, X = this.options.chunkSize; if (this.ended) return !1; D = O === ~~O ? O : O === !0 ? 4 : 0, typeof _ == "string" ? z.input = o.string2buf(_) : f.call(_) === "[object ArrayBuffer]" ? z.input = new Uint8Array(_) : z.input = _, z.next_in = 0, z.avail_in = z.input.length; do { if (z.avail_out === 0 && (z.output = new a.Buf8(X), z.next_out = 0, z.avail_out = X), (I = s.deflate(z, D)) !== 1 && I !== h) return this.onEnd(I), !(this.ended = !0); z.avail_out !== 0 && (z.avail_in !== 0 || D !== 4 && D !== 2) || (this.options.to === "string" ? this.onData(o.buf2binstring(a.shrinkBuf(z.output, z.next_out))) : this.onData(a.shrinkBuf(z.output, z.next_out))) } while ((0 < z.avail_in || z.avail_out === 0) && I !== 1); return D === 4 ? (I = s.deflateEnd(this.strm), this.onEnd(I), this.ended = !0, I === h) : D !== 2 || (this.onEnd(h), !(z.avail_out = 0)) }, y.prototype.onData = function (_) { this.chunks.push(_) }, y.prototype.onEnd = function (_) { _ === h && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)), this.chunks = [], this.err = _, this.msg = this.strm.msg }, i.Deflate = y, i.deflate = E, i.deflateRaw = function (_, O) { return (O = O || {}).raw = !0, E(_, O) }, i.gzip = function (_, O) { return (O = O || {}).gzip = !0, E(_, O) } }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/deflate": 46, "./zlib/messages": 51, "./zlib/zstream": 53 }], 40: [function (t, r, i) { var s = t("./zlib/inflate"), a = t("./utils/common"), o = t("./utils/strings"), A = t("./zlib/constants"), u = t("./zlib/messages"), f = t("./zlib/zstream"), h = t("./zlib/gzheader"), m = Object.prototype.toString; function p(y) { if (!(this instanceof p)) return new p(y); this.options = a.assign({ chunkSize: 16384, windowBits: 0, to: "" }, y || {}); var E = this.options; E.raw && 0 <= E.windowBits && E.windowBits < 16 && (E.windowBits = -E.windowBits, E.windowBits === 0 && (E.windowBits = -15)), !(0 <= E.windowBits && E.windowBits < 16) || y && y.windowBits || (E.windowBits += 32), 15 < E.windowBits && E.windowBits < 48 && (15 & E.windowBits) == 0 && (E.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new f, this.strm.avail_out = 0; var _ = s.inflateInit2(this.strm, E.windowBits); if (_ !== A.Z_OK) throw new Error(u[_]); this.header = new h, s.inflateGetHeader(this.strm, this.header) } function b(y, E) { var _ = new p(E); if (_.push(y, !0), _.err) throw _.msg || u[_.err]; return _.result } p.prototype.push = function (y, E) { var _, O, I, D, z, X, q = this.strm, W = this.options.chunkSize, G = this.options.dictionary, fe = !1; if (this.ended) return !1; O = E === ~~E ? E : E === !0 ? A.Z_FINISH : A.Z_NO_FLUSH, typeof y == "string" ? q.input = o.binstring2buf(y) : m.call(y) === "[object ArrayBuffer]" ? q.input = new Uint8Array(y) : q.input = y, q.next_in = 0, q.avail_in = q.input.length; do { if (q.avail_out === 0 && (q.output = new a.Buf8(W), q.next_out = 0, q.avail_out = W), (_ = s.inflate(q, A.Z_NO_FLUSH)) === A.Z_NEED_DICT && G && (X = typeof G == "string" ? o.string2buf(G) : m.call(G) === "[object ArrayBuffer]" ? new Uint8Array(G) : G, _ = s.inflateSetDictionary(this.strm, X)), _ === A.Z_BUF_ERROR && fe === !0 && (_ = A.Z_OK, fe = !1), _ !== A.Z_STREAM_END && _ !== A.Z_OK) return this.onEnd(_), !(this.ended = !0); q.next_out && (q.avail_out !== 0 && _ !== A.Z_STREAM_END && (q.avail_in !== 0 || O !== A.Z_FINISH && O !== A.Z_SYNC_FLUSH) || (this.options.to === "string" ? (I = o.utf8border(q.output, q.next_out), D = q.next_out - I, z = o.buf2string(q.output, I), q.next_out = D, q.avail_out = W - D, D && a.arraySet(q.output, q.output, I, D, 0), this.onData(z)) : this.onData(a.shrinkBuf(q.output, q.next_out)))), q.avail_in === 0 && q.avail_out === 0 && (fe = !0) } while ((0 < q.avail_in || q.avail_out === 0) && _ !== A.Z_STREAM_END); return _ === A.Z_STREAM_END && (O = A.Z_FINISH), O === A.Z_FINISH ? (_ = s.inflateEnd(this.strm), this.onEnd(_), this.ended = !0, _ === A.Z_OK) : O !== A.Z_SYNC_FLUSH || (this.onEnd(A.Z_OK), !(q.avail_out = 0)) }, p.prototype.onData = function (y) { this.chunks.push(y) }, p.prototype.onEnd = function (y) { y === A.Z_OK && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)), this.chunks = [], this.err = y, this.msg = this.strm.msg }, i.Inflate = p, i.inflate = b, i.inflateRaw = function (y, E) { return (E = E || {}).raw = !0, b(y, E) }, i.ungzip = b }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/constants": 44, "./zlib/gzheader": 47, "./zlib/inflate": 49, "./zlib/messages": 51, "./zlib/zstream": 53 }], 41: [function (t, r, i) { var s = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Int32Array < "u"; i.assign = function (A) { for (var u = Array.prototype.slice.call(arguments, 1); u.length;) { var f = u.shift(); if (f) { if (typeof f != "object") throw new TypeError(f + "must be non-object"); for (var h in f) f.hasOwnProperty(h) && (A[h] = f[h]) } } return A }, i.shrinkBuf = function (A, u) { return A.length === u ? A : A.subarray ? A.subarray(0, u) : (A.length = u, A) }; var a = { arraySet: function (A, u, f, h, m) { if (u.subarray && A.subarray) A.set(u.subarray(f, f + h), m); else for (var p = 0; p < h; p++)A[m + p] = u[f + p] }, flattenChunks: function (A) { var u, f, h, m, p, b; for (u = h = 0, f = A.length; u < f; u++)h += A[u].length; for (b = new Uint8Array(h), u = m = 0, f = A.length; u < f; u++)p = A[u], b.set(p, m), m += p.length; return b } }, o = { arraySet: function (A, u, f, h, m) { for (var p = 0; p < h; p++)A[m + p] = u[f + p] }, flattenChunks: function (A) { return [].concat.apply([], A) } }; i.setTyped = function (A) { A ? (i.Buf8 = Uint8Array, i.Buf16 = Uint16Array, i.Buf32 = Int32Array, i.assign(i, a)) : (i.Buf8 = Array, i.Buf16 = Array, i.Buf32 = Array, i.assign(i, o)) }, i.setTyped(s) }, {}], 42: [function (t, r, i) { var s = t("./common"), a = !0, o = !0; try { String.fromCharCode.apply(null, [0]) } catch { a = !1 } try { String.fromCharCode.apply(null, new Uint8Array(1)) } catch { o = !1 } for (var A = new s.Buf8(256), u = 0; u < 256; u++)A[u] = 252 <= u ? 6 : 248 <= u ? 5 : 240 <= u ? 4 : 224 <= u ? 3 : 192 <= u ? 2 : 1; function f(h, m) { if (m < 65537 && (h.subarray && o || !h.subarray && a)) return String.fromCharCode.apply(null, s.shrinkBuf(h, m)); for (var p = "", b = 0; b < m; b++)p += String.fromCharCode(h[b]); return p } A[254] = A[254] = 1, i.string2buf = function (h) { var m, p, b, y, E, _ = h.length, O = 0; for (y = 0; y < _; y++)(64512 & (p = h.charCodeAt(y))) == 55296 && y + 1 < _ && (64512 & (b = h.charCodeAt(y + 1))) == 56320 && (p = 65536 + (p - 55296 << 10) + (b - 56320), y++), O += p < 128 ? 1 : p < 2048 ? 2 : p < 65536 ? 3 : 4; for (m = new s.Buf8(O), y = E = 0; E < O; y++)(64512 & (p = h.charCodeAt(y))) == 55296 && y + 1 < _ && (64512 & (b = h.charCodeAt(y + 1))) == 56320 && (p = 65536 + (p - 55296 << 10) + (b - 56320), y++), p < 128 ? m[E++] = p : (p < 2048 ? m[E++] = 192 | p >>> 6 : (p < 65536 ? m[E++] = 224 | p >>> 12 : (m[E++] = 240 | p >>> 18, m[E++] = 128 | p >>> 12 & 63), m[E++] = 128 | p >>> 6 & 63), m[E++] = 128 | 63 & p); return m }, i.buf2binstring = function (h) { return f(h, h.length) }, i.binstring2buf = function (h) { for (var m = new s.Buf8(h.length), p = 0, b = m.length; p < b; p++)m[p] = h.charCodeAt(p); return m }, i.buf2string = function (h, m) { var p, b, y, E, _ = m || h.length, O = new Array(2 * _); for (p = b = 0; p < _;)if ((y = h[p++]) < 128) O[b++] = y; else if (4 < (E = A[y])) O[b++] = 65533, p += E - 1; else { for (y &= E === 2 ? 31 : E === 3 ? 15 : 7; 1 < E && p < _;)y = y << 6 | 63 & h[p++], E--; 1 < E ? O[b++] = 65533 : y < 65536 ? O[b++] = y : (y -= 65536, O[b++] = 55296 | y >> 10 & 1023, O[b++] = 56320 | 1023 & y) } return f(O, b) }, i.utf8border = function (h, m) { var p; for ((m = m || h.length) > h.length && (m = h.length), p = m - 1; 0 <= p && (192 & h[p]) == 128;)p--; return p < 0 || p === 0 ? m : p + A[h[p]] > m ? p : m } }, { "./common": 41 }], 43: [function (t, r, i) { r.exports = function (s, a, o, A) { for (var u = 65535 & s | 0, f = s >>> 16 & 65535 | 0, h = 0; o !== 0;) { for (o -= h = 2e3 < o ? 2e3 : o; f = f + (u = u + a[A++] | 0) | 0, --h;); u %= 65521, f %= 65521 } return u | f << 16 | 0 } }, {}], 44: [function (t, r, i) { r.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 } }, {}], 45: [function (t, r, i) { var s = (function () { for (var a, o = [], A = 0; A < 256; A++) { a = A; for (var u = 0; u < 8; u++)a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1; o[A] = a } return o })(); r.exports = function (a, o, A, u) { var f = s, h = u + A; a ^= -1; for (var m = u; m < h; m++)a = a >>> 8 ^ f[255 & (a ^ o[m])]; return -1 ^ a } }, {}], 46: [function (t, r, i) { var s, a = t("../utils/common"), o = t("./trees"), A = t("./adler32"), u = t("./crc32"), f = t("./messages"), h = 0, m = 4, p = 0, b = -2, y = -1, E = 4, _ = 2, O = 8, I = 9, D = 286, z = 30, X = 19, q = 2 * D + 1, W = 15, G = 3, fe = 258, ne = fe + G + 1, V = 42, se = 113, M = 1, pe = 2, Z = 3, ae = 4; function me($, Ae) { return $.msg = f[Ae], Ae } function ke($) { return ($ << 1) - (4 < $ ? 9 : 0) } function Ce($) { for (var Ae = $.length; 0 <= --Ae;)$[Ae] = 0 } function j($) { var Ae = $.state, Me = Ae.pending; Me > $.avail_out && (Me = $.avail_out), Me !== 0 && (a.arraySet($.output, Ae.pending_buf, Ae.pending_out, Me, $.next_out), $.next_out += Me, Ae.pending_out += Me, $.total_out += Me, $.avail_out -= Me, Ae.pending -= Me, Ae.pending === 0 && (Ae.pending_out = 0)) } function L($, Ae) { o._tr_flush_block($, 0 <= $.block_start ? $.block_start : -1, $.strstart - $.block_start, Ae), $.block_start = $.strstart, j($.strm) } function re($, Ae) { $.pending_buf[$.pending++] = Ae } function ie($, Ae) { $.pending_buf[$.pending++] = Ae >>> 8 & 255, $.pending_buf[$.pending++] = 255 & Ae } function oe($, Ae) { var Me, _e, we = $.max_chain_length, Ne = $.strstart, tt = $.prev_length, Je = $.nice_match, Qe = $.strstart > $.w_size - ne ? $.strstart - ($.w_size - ne) : 0, lt = $.window, Bt = $.w_mask, st = $.prev, Ct = $.strstart + fe, Xt = lt[Ne + tt - 1], Lt = lt[Ne + tt]; $.prev_length >= $.good_match && (we >>= 2), Je > $.lookahead && (Je = $.lookahead); do if (lt[(Me = Ae) + tt] === Lt && lt[Me + tt - 1] === Xt && lt[Me] === lt[Ne] && lt[++Me] === lt[Ne + 1]) { Ne += 2, Me++; do; while (lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && lt[++Ne] === lt[++Me] && Ne < Ct); if (_e = fe - (Ct - Ne), Ne = Ct - fe, tt < _e) { if ($.match_start = Ae, Je <= (tt = _e)) break; Xt = lt[Ne + tt - 1], Lt = lt[Ne + tt] } } while ((Ae = st[Ae & Bt]) > Qe && --we != 0); return tt <= $.lookahead ? tt : $.lookahead } function de($) { var Ae, Me, _e, we, Ne, tt, Je, Qe, lt, Bt, st = $.w_size; do { if (we = $.window_size - $.lookahead - $.strstart, $.strstart >= st + (st - ne)) { for (a.arraySet($.window, $.window, st, st, 0), $.match_start -= st, $.strstart -= st, $.block_start -= st, Ae = Me = $.hash_size; _e = $.head[--Ae], $.head[Ae] = st <= _e ? _e - st : 0, --Me;); for (Ae = Me = st; _e = $.prev[--Ae], $.prev[Ae] = st <= _e ? _e - st : 0, --Me;); we += st } if ($.strm.avail_in === 0) break; if (tt = $.strm, Je = $.window, Qe = $.strstart + $.lookahead, lt = we, Bt = void 0, Bt = tt.avail_in, lt < Bt && (Bt = lt), Me = Bt === 0 ? 0 : (tt.avail_in -= Bt, a.arraySet(Je, tt.input, tt.next_in, Bt, Qe), tt.state.wrap === 1 ? tt.adler = A(tt.adler, Je, Bt, Qe) : tt.state.wrap === 2 && (tt.adler = u(tt.adler, Je, Bt, Qe)), tt.next_in += Bt, tt.total_in += Bt, Bt), $.lookahead += Me, $.lookahead + $.insert >= G) for (Ne = $.strstart - $.insert, $.ins_h = $.window[Ne], $.ins_h = ($.ins_h << $.hash_shift ^ $.window[Ne + 1]) & $.hash_mask; $.insert && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[Ne + G - 1]) & $.hash_mask, $.prev[Ne & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = Ne, Ne++, $.insert--, !($.lookahead + $.insert < G));); } while ($.lookahead < ne && $.strm.avail_in !== 0) } function Be($, Ae) { for (var Me, _e; ;) { if ($.lookahead < ne) { if (de($), $.lookahead < ne && Ae === h) return M; if ($.lookahead === 0) break } if (Me = 0, $.lookahead >= G && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + G - 1]) & $.hash_mask, Me = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart), Me !== 0 && $.strstart - Me <= $.w_size - ne && ($.match_length = oe($, Me)), $.match_length >= G) if (_e = o._tr_tally($, $.strstart - $.match_start, $.match_length - G), $.lookahead -= $.match_length, $.match_length <= $.max_lazy_match && $.lookahead >= G) { for ($.match_length--; $.strstart++, $.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + G - 1]) & $.hash_mask, Me = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart, --$.match_length != 0;); $.strstart++ } else $.strstart += $.match_length, $.match_length = 0, $.ins_h = $.window[$.strstart], $.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + 1]) & $.hash_mask; else _e = o._tr_tally($, 0, $.window[$.strstart]), $.lookahead--, $.strstart++; if (_e && (L($, !1), $.strm.avail_out === 0)) return M } return $.insert = $.strstart < G - 1 ? $.strstart : G - 1, Ae === m ? (L($, !0), $.strm.avail_out === 0 ? Z : ae) : $.last_lit && (L($, !1), $.strm.avail_out === 0) ? M : pe } function Re($, Ae) { for (var Me, _e, we; ;) { if ($.lookahead < ne) { if (de($), $.lookahead < ne && Ae === h) return M; if ($.lookahead === 0) break } if (Me = 0, $.lookahead >= G && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + G - 1]) & $.hash_mask, Me = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart), $.prev_length = $.match_length, $.prev_match = $.match_start, $.match_length = G - 1, Me !== 0 && $.prev_length < $.max_lazy_match && $.strstart - Me <= $.w_size - ne && ($.match_length = oe($, Me), $.match_length <= 5 && ($.strategy === 1 || $.match_length === G && 4096 < $.strstart - $.match_start) && ($.match_length = G - 1)), $.prev_length >= G && $.match_length <= $.prev_length) { for (we = $.strstart + $.lookahead - G, _e = o._tr_tally($, $.strstart - 1 - $.prev_match, $.prev_length - G), $.lookahead -= $.prev_length - 1, $.prev_length -= 2; ++$.strstart <= we && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + G - 1]) & $.hash_mask, Me = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart), --$.prev_length != 0;); if ($.match_available = 0, $.match_length = G - 1, $.strstart++, _e && (L($, !1), $.strm.avail_out === 0)) return M } else if ($.match_available) { if ((_e = o._tr_tally($, 0, $.window[$.strstart - 1])) && L($, !1), $.strstart++, $.lookahead--, $.strm.avail_out === 0) return M } else $.match_available = 1, $.strstart++, $.lookahead-- } return $.match_available && (_e = o._tr_tally($, 0, $.window[$.strstart - 1]), $.match_available = 0), $.insert = $.strstart < G - 1 ? $.strstart : G - 1, Ae === m ? (L($, !0), $.strm.avail_out === 0 ? Z : ae) : $.last_lit && (L($, !1), $.strm.avail_out === 0) ? M : pe } function Ie($, Ae, Me, _e, we) { this.good_length = $, this.max_lazy = Ae, this.nice_length = Me, this.max_chain = _e, this.func = we } function Ye() { this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = O, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new a.Buf16(2 * q), this.dyn_dtree = new a.Buf16(2 * (2 * z + 1)), this.bl_tree = new a.Buf16(2 * (2 * X + 1)), Ce(this.dyn_ltree), Ce(this.dyn_dtree), Ce(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new a.Buf16(W + 1), this.heap = new a.Buf16(2 * D + 1), Ce(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new a.Buf16(2 * D + 1), Ce(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0 } function $e($) { var Ae; return $ && $.state ? ($.total_in = $.total_out = 0, $.data_type = _, (Ae = $.state).pending = 0, Ae.pending_out = 0, Ae.wrap < 0 && (Ae.wrap = -Ae.wrap), Ae.status = Ae.wrap ? V : se, $.adler = Ae.wrap === 2 ? 0 : 1, Ae.last_flush = h, o._tr_init(Ae), p) : me($, b) } function yt($) { var Ae = $e($); return Ae === p && (function (Me) { Me.window_size = 2 * Me.w_size, Ce(Me.head), Me.max_lazy_match = s[Me.level].max_lazy, Me.good_match = s[Me.level].good_length, Me.nice_match = s[Me.level].nice_length, Me.max_chain_length = s[Me.level].max_chain, Me.strstart = 0, Me.block_start = 0, Me.lookahead = 0, Me.insert = 0, Me.match_length = Me.prev_length = G - 1, Me.match_available = 0, Me.ins_h = 0 })($.state), Ae } function at($, Ae, Me, _e, we, Ne) { if (!$) return b; var tt = 1; if (Ae === y && (Ae = 6), _e < 0 ? (tt = 0, _e = -_e) : 15 < _e && (tt = 2, _e -= 16), we < 1 || I < we || Me !== O || _e < 8 || 15 < _e || Ae < 0 || 9 < Ae || Ne < 0 || E < Ne) return me($, b); _e === 8 && (_e = 9); var Je = new Ye; return ($.state = Je).strm = $, Je.wrap = tt, Je.gzhead = null, Je.w_bits = _e, Je.w_size = 1 << Je.w_bits, Je.w_mask = Je.w_size - 1, Je.hash_bits = we + 7, Je.hash_size = 1 << Je.hash_bits, Je.hash_mask = Je.hash_size - 1, Je.hash_shift = ~~((Je.hash_bits + G - 1) / G), Je.window = new a.Buf8(2 * Je.w_size), Je.head = new a.Buf16(Je.hash_size), Je.prev = new a.Buf16(Je.w_size), Je.lit_bufsize = 1 << we + 6, Je.pending_buf_size = 4 * Je.lit_bufsize, Je.pending_buf = new a.Buf8(Je.pending_buf_size), Je.d_buf = 1 * Je.lit_bufsize, Je.l_buf = 3 * Je.lit_bufsize, Je.level = Ae, Je.strategy = Ne, Je.method = Me, yt($) } s = [new Ie(0, 0, 0, 0, function ($, Ae) { var Me = 65535; for (Me > $.pending_buf_size - 5 && (Me = $.pending_buf_size - 5); ;) { if ($.lookahead <= 1) { if (de($), $.lookahead === 0 && Ae === h) return M; if ($.lookahead === 0) break } $.strstart += $.lookahead, $.lookahead = 0; var _e = $.block_start + Me; if (($.strstart === 0 || $.strstart >= _e) && ($.lookahead = $.strstart - _e, $.strstart = _e, L($, !1), $.strm.avail_out === 0) || $.strstart - $.block_start >= $.w_size - ne && (L($, !1), $.strm.avail_out === 0)) return M } return $.insert = 0, Ae === m ? (L($, !0), $.strm.avail_out === 0 ? Z : ae) : ($.strstart > $.block_start && (L($, !1), $.strm.avail_out), M) }), new Ie(4, 4, 8, 4, Be), new Ie(4, 5, 16, 8, Be), new Ie(4, 6, 32, 32, Be), new Ie(4, 4, 16, 16, Re), new Ie(8, 16, 32, 32, Re), new Ie(8, 16, 128, 128, Re), new Ie(8, 32, 128, 256, Re), new Ie(32, 128, 258, 1024, Re), new Ie(32, 258, 258, 4096, Re)], i.deflateInit = function ($, Ae) { return at($, Ae, O, 15, 8, 0) }, i.deflateInit2 = at, i.deflateReset = yt, i.deflateResetKeep = $e, i.deflateSetHeader = function ($, Ae) { return $ && $.state ? $.state.wrap !== 2 ? b : ($.state.gzhead = Ae, p) : b }, i.deflate = function ($, Ae) { var Me, _e, we, Ne; if (!$ || !$.state || 5 < Ae || Ae < 0) return $ ? me($, b) : b; if (_e = $.state, !$.output || !$.input && $.avail_in !== 0 || _e.status === 666 && Ae !== m) return me($, $.avail_out === 0 ? -5 : b); if (_e.strm = $, Me = _e.last_flush, _e.last_flush = Ae, _e.status === V) if (_e.wrap === 2) $.adler = 0, re(_e, 31), re(_e, 139), re(_e, 8), _e.gzhead ? (re(_e, (_e.gzhead.text ? 1 : 0) + (_e.gzhead.hcrc ? 2 : 0) + (_e.gzhead.extra ? 4 : 0) + (_e.gzhead.name ? 8 : 0) + (_e.gzhead.comment ? 16 : 0)), re(_e, 255 & _e.gzhead.time), re(_e, _e.gzhead.time >> 8 & 255), re(_e, _e.gzhead.time >> 16 & 255), re(_e, _e.gzhead.time >> 24 & 255), re(_e, _e.level === 9 ? 2 : 2 <= _e.strategy || _e.level < 2 ? 4 : 0), re(_e, 255 & _e.gzhead.os), _e.gzhead.extra && _e.gzhead.extra.length && (re(_e, 255 & _e.gzhead.extra.length), re(_e, _e.gzhead.extra.length >> 8 & 255)), _e.gzhead.hcrc && ($.adler = u($.adler, _e.pending_buf, _e.pending, 0)), _e.gzindex = 0, _e.status = 69) : (re(_e, 0), re(_e, 0), re(_e, 0), re(_e, 0), re(_e, 0), re(_e, _e.level === 9 ? 2 : 2 <= _e.strategy || _e.level < 2 ? 4 : 0), re(_e, 3), _e.status = se); else { var tt = O + (_e.w_bits - 8 << 4) << 8; tt |= (2 <= _e.strategy || _e.level < 2 ? 0 : _e.level < 6 ? 1 : _e.level === 6 ? 2 : 3) << 6, _e.strstart !== 0 && (tt |= 32), tt += 31 - tt % 31, _e.status = se, ie(_e, tt), _e.strstart !== 0 && (ie(_e, $.adler >>> 16), ie(_e, 65535 & $.adler)), $.adler = 1 } if (_e.status === 69) if (_e.gzhead.extra) { for (we = _e.pending; _e.gzindex < (65535 & _e.gzhead.extra.length) && (_e.pending !== _e.pending_buf_size || (_e.gzhead.hcrc && _e.pending > we && ($.adler = u($.adler, _e.pending_buf, _e.pending - we, we)), j($), we = _e.pending, _e.pending !== _e.pending_buf_size));)re(_e, 255 & _e.gzhead.extra[_e.gzindex]), _e.gzindex++; _e.gzhead.hcrc && _e.pending > we && ($.adler = u($.adler, _e.pending_buf, _e.pending - we, we)), _e.gzindex === _e.gzhead.extra.length && (_e.gzindex = 0, _e.status = 73) } else _e.status = 73; if (_e.status === 73) if (_e.gzhead.name) { we = _e.pending; do { if (_e.pending === _e.pending_buf_size && (_e.gzhead.hcrc && _e.pending > we && ($.adler = u($.adler, _e.pending_buf, _e.pending - we, we)), j($), we = _e.pending, _e.pending === _e.pending_buf_size)) { Ne = 1; break } Ne = _e.gzindex < _e.gzhead.name.length ? 255 & _e.gzhead.name.charCodeAt(_e.gzindex++) : 0, re(_e, Ne) } while (Ne !== 0); _e.gzhead.hcrc && _e.pending > we && ($.adler = u($.adler, _e.pending_buf, _e.pending - we, we)), Ne === 0 && (_e.gzindex = 0, _e.status = 91) } else _e.status = 91; if (_e.status === 91) if (_e.gzhead.comment) { we = _e.pending; do { if (_e.pending === _e.pending_buf_size && (_e.gzhead.hcrc && _e.pending > we && ($.adler = u($.adler, _e.pending_buf, _e.pending - we, we)), j($), we = _e.pending, _e.pending === _e.pending_buf_size)) { Ne = 1; break } Ne = _e.gzindex < _e.gzhead.comment.length ? 255 & _e.gzhead.comment.charCodeAt(_e.gzindex++) : 0, re(_e, Ne) } while (Ne !== 0); _e.gzhead.hcrc && _e.pending > we && ($.adler = u($.adler, _e.pending_buf, _e.pending - we, we)), Ne === 0 && (_e.status = 103) } else _e.status = 103; if (_e.status === 103 && (_e.gzhead.hcrc ? (_e.pending + 2 > _e.pending_buf_size && j($), _e.pending + 2 <= _e.pending_buf_size && (re(_e, 255 & $.adler), re(_e, $.adler >> 8 & 255), $.adler = 0, _e.status = se)) : _e.status = se), _e.pending !== 0) { if (j($), $.avail_out === 0) return _e.last_flush = -1, p } else if ($.avail_in === 0 && ke(Ae) <= ke(Me) && Ae !== m) return me($, -5); if (_e.status === 666 && $.avail_in !== 0) return me($, -5); if ($.avail_in !== 0 || _e.lookahead !== 0 || Ae !== h && _e.status !== 666) { var Je = _e.strategy === 2 ? (function (Qe, lt) { for (var Bt; ;) { if (Qe.lookahead === 0 && (de(Qe), Qe.lookahead === 0)) { if (lt === h) return M; break } if (Qe.match_length = 0, Bt = o._tr_tally(Qe, 0, Qe.window[Qe.strstart]), Qe.lookahead--, Qe.strstart++, Bt && (L(Qe, !1), Qe.strm.avail_out === 0)) return M } return Qe.insert = 0, lt === m ? (L(Qe, !0), Qe.strm.avail_out === 0 ? Z : ae) : Qe.last_lit && (L(Qe, !1), Qe.strm.avail_out === 0) ? M : pe })(_e, Ae) : _e.strategy === 3 ? (function (Qe, lt) { for (var Bt, st, Ct, Xt, Lt = Qe.window; ;) { if (Qe.lookahead <= fe) { if (de(Qe), Qe.lookahead <= fe && lt === h) return M; if (Qe.lookahead === 0) break } if (Qe.match_length = 0, Qe.lookahead >= G && 0 < Qe.strstart && (st = Lt[Ct = Qe.strstart - 1]) === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct]) { Xt = Qe.strstart + fe; do; while (st === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct] && st === Lt[++Ct] && Ct < Xt); Qe.match_length = fe - (Xt - Ct), Qe.match_length > Qe.lookahead && (Qe.match_length = Qe.lookahead) } if (Qe.match_length >= G ? (Bt = o._tr_tally(Qe, 1, Qe.match_length - G), Qe.lookahead -= Qe.match_length, Qe.strstart += Qe.match_length, Qe.match_length = 0) : (Bt = o._tr_tally(Qe, 0, Qe.window[Qe.strstart]), Qe.lookahead--, Qe.strstart++), Bt && (L(Qe, !1), Qe.strm.avail_out === 0)) return M } return Qe.insert = 0, lt === m ? (L(Qe, !0), Qe.strm.avail_out === 0 ? Z : ae) : Qe.last_lit && (L(Qe, !1), Qe.strm.avail_out === 0) ? M : pe })(_e, Ae) : s[_e.level].func(_e, Ae); if (Je !== Z && Je !== ae || (_e.status = 666), Je === M || Je === Z) return $.avail_out === 0 && (_e.last_flush = -1), p; if (Je === pe && (Ae === 1 ? o._tr_align(_e) : Ae !== 5 && (o._tr_stored_block(_e, 0, 0, !1), Ae === 3 && (Ce(_e.head), _e.lookahead === 0 && (_e.strstart = 0, _e.block_start = 0, _e.insert = 0))), j($), $.avail_out === 0)) return _e.last_flush = -1, p } return Ae !== m ? p : _e.wrap <= 0 ? 1 : (_e.wrap === 2 ? (re(_e, 255 & $.adler), re(_e, $.adler >> 8 & 255), re(_e, $.adler >> 16 & 255), re(_e, $.adler >> 24 & 255), re(_e, 255 & $.total_in), re(_e, $.total_in >> 8 & 255), re(_e, $.total_in >> 16 & 255), re(_e, $.total_in >> 24 & 255)) : (ie(_e, $.adler >>> 16), ie(_e, 65535 & $.adler)), j($), 0 < _e.wrap && (_e.wrap = -_e.wrap), _e.pending !== 0 ? p : 1) }, i.deflateEnd = function ($) { var Ae; return $ && $.state ? (Ae = $.state.status) !== V && Ae !== 69 && Ae !== 73 && Ae !== 91 && Ae !== 103 && Ae !== se && Ae !== 666 ? me($, b) : ($.state = null, Ae === se ? me($, -3) : p) : b }, i.deflateSetDictionary = function ($, Ae) { var Me, _e, we, Ne, tt, Je, Qe, lt, Bt = Ae.length; if (!$ || !$.state || (Ne = (Me = $.state).wrap) === 2 || Ne === 1 && Me.status !== V || Me.lookahead) return b; for (Ne === 1 && ($.adler = A($.adler, Ae, Bt, 0)), Me.wrap = 0, Bt >= Me.w_size && (Ne === 0 && (Ce(Me.head), Me.strstart = 0, Me.block_start = 0, Me.insert = 0), lt = new a.Buf8(Me.w_size), a.arraySet(lt, Ae, Bt - Me.w_size, Me.w_size, 0), Ae = lt, Bt = Me.w_size), tt = $.avail_in, Je = $.next_in, Qe = $.input, $.avail_in = Bt, $.next_in = 0, $.input = Ae, de(Me); Me.lookahead >= G;) { for (_e = Me.strstart, we = Me.lookahead - (G - 1); Me.ins_h = (Me.ins_h << Me.hash_shift ^ Me.window[_e + G - 1]) & Me.hash_mask, Me.prev[_e & Me.w_mask] = Me.head[Me.ins_h], Me.head[Me.ins_h] = _e, _e++, --we;); Me.strstart = _e, Me.lookahead = G - 1, de(Me) } return Me.strstart += Me.lookahead, Me.block_start = Me.strstart, Me.insert = Me.lookahead, Me.lookahead = 0, Me.match_length = Me.prev_length = G - 1, Me.match_available = 0, $.next_in = Je, $.input = Qe, $.avail_in = tt, Me.wrap = Ne, p }, i.deflateInfo = "pako deflate (from Nodeca project)" }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./messages": 51, "./trees": 52 }], 47: [function (t, r, i) { r.exports = function () { this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1 } }, {}], 48: [function (t, r, i) { r.exports = function (s, a) { var o, A, u, f, h, m, p, b, y, E, _, O, I, D, z, X, q, W, G, fe, ne, V, se, M, pe; o = s.state, A = s.next_in, M = s.input, u = A + (s.avail_in - 5), f = s.next_out, pe = s.output, h = f - (a - s.avail_out), m = f + (s.avail_out - 257), p = o.dmax, b = o.wsize, y = o.whave, E = o.wnext, _ = o.window, O = o.hold, I = o.bits, D = o.lencode, z = o.distcode, X = (1 << o.lenbits) - 1, q = (1 << o.distbits) - 1; e: do { I < 15 && (O += M[A++] << I, I += 8, O += M[A++] << I, I += 8), W = D[O & X]; t: for (; ;) { if (O >>>= G = W >>> 24, I -= G, (G = W >>> 16 & 255) === 0) pe[f++] = 65535 & W; else { if (!(16 & G)) { if ((64 & G) == 0) { W = D[(65535 & W) + (O & (1 << G) - 1)]; continue t } if (32 & G) { o.mode = 12; break e } s.msg = "invalid literal/length code", o.mode = 30; break e } fe = 65535 & W, (G &= 15) && (I < G && (O += M[A++] << I, I += 8), fe += O & (1 << G) - 1, O >>>= G, I -= G), I < 15 && (O += M[A++] << I, I += 8, O += M[A++] << I, I += 8), W = z[O & q]; n: for (; ;) { if (O >>>= G = W >>> 24, I -= G, !(16 & (G = W >>> 16 & 255))) { if ((64 & G) == 0) { W = z[(65535 & W) + (O & (1 << G) - 1)]; continue n } s.msg = "invalid distance code", o.mode = 30; break e } if (ne = 65535 & W, I < (G &= 15) && (O += M[A++] << I, (I += 8) < G && (O += M[A++] << I, I += 8)), p < (ne += O & (1 << G) - 1)) { s.msg = "invalid distance too far back", o.mode = 30; break e } if (O >>>= G, I -= G, (G = f - h) < ne) { if (y < (G = ne - G) && o.sane) { s.msg = "invalid distance too far back", o.mode = 30; break e } if (se = _, (V = 0) === E) { if (V += b - G, G < fe) { for (fe -= G; pe[f++] = _[V++], --G;); V = f - ne, se = pe } } else if (E < G) { if (V += b + E - G, (G -= E) < fe) { for (fe -= G; pe[f++] = _[V++], --G;); if (V = 0, E < fe) { for (fe -= G = E; pe[f++] = _[V++], --G;); V = f - ne, se = pe } } } else if (V += E - G, G < fe) { for (fe -= G; pe[f++] = _[V++], --G;); V = f - ne, se = pe } for (; 2 < fe;)pe[f++] = se[V++], pe[f++] = se[V++], pe[f++] = se[V++], fe -= 3; fe && (pe[f++] = se[V++], 1 < fe && (pe[f++] = se[V++])) } else { for (V = f - ne; pe[f++] = pe[V++], pe[f++] = pe[V++], pe[f++] = pe[V++], 2 < (fe -= 3);); fe && (pe[f++] = pe[V++], 1 < fe && (pe[f++] = pe[V++])) } break } } break } } while (A < u && f < m); A -= fe = I >> 3, O &= (1 << (I -= fe << 3)) - 1, s.next_in = A, s.next_out = f, s.avail_in = A < u ? u - A + 5 : 5 - (A - u), s.avail_out = f < m ? m - f + 257 : 257 - (f - m), o.hold = O, o.bits = I } }, {}], 49: [function (t, r, i) { var s = t("../utils/common"), a = t("./adler32"), o = t("./crc32"), A = t("./inffast"), u = t("./inftrees"), f = 1, h = 2, m = 0, p = -2, b = 1, y = 852, E = 592; function _(V) { return (V >>> 24 & 255) + (V >>> 8 & 65280) + ((65280 & V) << 8) + ((255 & V) << 24) } function O() { this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new s.Buf16(320), this.work = new s.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0 } function I(V) { var se; return V && V.state ? (se = V.state, V.total_in = V.total_out = se.total = 0, V.msg = "", se.wrap && (V.adler = 1 & se.wrap), se.mode = b, se.last = 0, se.havedict = 0, se.dmax = 32768, se.head = null, se.hold = 0, se.bits = 0, se.lencode = se.lendyn = new s.Buf32(y), se.distcode = se.distdyn = new s.Buf32(E), se.sane = 1, se.back = -1, m) : p } function D(V) { var se; return V && V.state ? ((se = V.state).wsize = 0, se.whave = 0, se.wnext = 0, I(V)) : p } function z(V, se) { var M, pe; return V && V.state ? (pe = V.state, se < 0 ? (M = 0, se = -se) : (M = 1 + (se >> 4), se < 48 && (se &= 15)), se && (se < 8 || 15 < se) ? p : (pe.window !== null && pe.wbits !== se && (pe.window = null), pe.wrap = M, pe.wbits = se, D(V))) : p } function X(V, se) { var M, pe; return V ? (pe = new O, (V.state = pe).window = null, (M = z(V, se)) !== m && (V.state = null), M) : p } var q, W, G = !0; function fe(V) { if (G) { var se; for (q = new s.Buf32(512), W = new s.Buf32(32), se = 0; se < 144;)V.lens[se++] = 8; for (; se < 256;)V.lens[se++] = 9; for (; se < 280;)V.lens[se++] = 7; for (; se < 288;)V.lens[se++] = 8; for (u(f, V.lens, 0, 288, q, 0, V.work, { bits: 9 }), se = 0; se < 32;)V.lens[se++] = 5; u(h, V.lens, 0, 32, W, 0, V.work, { bits: 5 }), G = !1 } V.lencode = q, V.lenbits = 9, V.distcode = W, V.distbits = 5 } function ne(V, se, M, pe) { var Z, ae = V.state; return ae.window === null && (ae.wsize = 1 << ae.wbits, ae.wnext = 0, ae.whave = 0, ae.window = new s.Buf8(ae.wsize)), pe >= ae.wsize ? (s.arraySet(ae.window, se, M - ae.wsize, ae.wsize, 0), ae.wnext = 0, ae.whave = ae.wsize) : (pe < (Z = ae.wsize - ae.wnext) && (Z = pe), s.arraySet(ae.window, se, M - pe, Z, ae.wnext), (pe -= Z) ? (s.arraySet(ae.window, se, M - pe, pe, 0), ae.wnext = pe, ae.whave = ae.wsize) : (ae.wnext += Z, ae.wnext === ae.wsize && (ae.wnext = 0), ae.whave < ae.wsize && (ae.whave += Z))), 0 } i.inflateReset = D, i.inflateReset2 = z, i.inflateResetKeep = I, i.inflateInit = function (V) { return X(V, 15) }, i.inflateInit2 = X, i.inflate = function (V, se) { var M, pe, Z, ae, me, ke, Ce, j, L, re, ie, oe, de, Be, Re, Ie, Ye, $e, yt, at, $, Ae, Me, _e, we = 0, Ne = new s.Buf8(4), tt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]; if (!V || !V.state || !V.output || !V.input && V.avail_in !== 0) return p; (M = V.state).mode === 12 && (M.mode = 13), me = V.next_out, Z = V.output, Ce = V.avail_out, ae = V.next_in, pe = V.input, ke = V.avail_in, j = M.hold, L = M.bits, re = ke, ie = Ce, Ae = m; e: for (; ;)switch (M.mode) { case b: if (M.wrap === 0) { M.mode = 13; break } for (; L < 16;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (2 & M.wrap && j === 35615) { Ne[M.check = 0] = 255 & j, Ne[1] = j >>> 8 & 255, M.check = o(M.check, Ne, 2, 0), L = j = 0, M.mode = 2; break } if (M.flags = 0, M.head && (M.head.done = !1), !(1 & M.wrap) || (((255 & j) << 8) + (j >> 8)) % 31) { V.msg = "incorrect header check", M.mode = 30; break } if ((15 & j) != 8) { V.msg = "unknown compression method", M.mode = 30; break } if (L -= 4, $ = 8 + (15 & (j >>>= 4)), M.wbits === 0) M.wbits = $; else if ($ > M.wbits) { V.msg = "invalid window size", M.mode = 30; break } M.dmax = 1 << $, V.adler = M.check = 1, M.mode = 512 & j ? 10 : 12, L = j = 0; break; case 2: for (; L < 16;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (M.flags = j, (255 & M.flags) != 8) { V.msg = "unknown compression method", M.mode = 30; break } if (57344 & M.flags) { V.msg = "unknown header flags set", M.mode = 30; break } M.head && (M.head.text = j >> 8 & 1), 512 & M.flags && (Ne[0] = 255 & j, Ne[1] = j >>> 8 & 255, M.check = o(M.check, Ne, 2, 0)), L = j = 0, M.mode = 3; case 3: for (; L < 32;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } M.head && (M.head.time = j), 512 & M.flags && (Ne[0] = 255 & j, Ne[1] = j >>> 8 & 255, Ne[2] = j >>> 16 & 255, Ne[3] = j >>> 24 & 255, M.check = o(M.check, Ne, 4, 0)), L = j = 0, M.mode = 4; case 4: for (; L < 16;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } M.head && (M.head.xflags = 255 & j, M.head.os = j >> 8), 512 & M.flags && (Ne[0] = 255 & j, Ne[1] = j >>> 8 & 255, M.check = o(M.check, Ne, 2, 0)), L = j = 0, M.mode = 5; case 5: if (1024 & M.flags) { for (; L < 16;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } M.length = j, M.head && (M.head.extra_len = j), 512 & M.flags && (Ne[0] = 255 & j, Ne[1] = j >>> 8 & 255, M.check = o(M.check, Ne, 2, 0)), L = j = 0 } else M.head && (M.head.extra = null); M.mode = 6; case 6: if (1024 & M.flags && (ke < (oe = M.length) && (oe = ke), oe && (M.head && ($ = M.head.extra_len - M.length, M.head.extra || (M.head.extra = new Array(M.head.extra_len)), s.arraySet(M.head.extra, pe, ae, oe, $)), 512 & M.flags && (M.check = o(M.check, pe, oe, ae)), ke -= oe, ae += oe, M.length -= oe), M.length)) break e; M.length = 0, M.mode = 7; case 7: if (2048 & M.flags) { if (ke === 0) break e; for (oe = 0; $ = pe[ae + oe++], M.head && $ && M.length < 65536 && (M.head.name += String.fromCharCode($)), $ && oe < ke;); if (512 & M.flags && (M.check = o(M.check, pe, oe, ae)), ke -= oe, ae += oe, $) break e } else M.head && (M.head.name = null); M.length = 0, M.mode = 8; case 8: if (4096 & M.flags) { if (ke === 0) break e; for (oe = 0; $ = pe[ae + oe++], M.head && $ && M.length < 65536 && (M.head.comment += String.fromCharCode($)), $ && oe < ke;); if (512 & M.flags && (M.check = o(M.check, pe, oe, ae)), ke -= oe, ae += oe, $) break e } else M.head && (M.head.comment = null); M.mode = 9; case 9: if (512 & M.flags) { for (; L < 16;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (j !== (65535 & M.check)) { V.msg = "header crc mismatch", M.mode = 30; break } L = j = 0 } M.head && (M.head.hcrc = M.flags >> 9 & 1, M.head.done = !0), V.adler = M.check = 0, M.mode = 12; break; case 10: for (; L < 32;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } V.adler = M.check = _(j), L = j = 0, M.mode = 11; case 11: if (M.havedict === 0) return V.next_out = me, V.avail_out = Ce, V.next_in = ae, V.avail_in = ke, M.hold = j, M.bits = L, 2; V.adler = M.check = 1, M.mode = 12; case 12: if (se === 5 || se === 6) break e; case 13: if (M.last) { j >>>= 7 & L, L -= 7 & L, M.mode = 27; break } for (; L < 3;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } switch (M.last = 1 & j, L -= 1, 3 & (j >>>= 1)) { case 0: M.mode = 14; break; case 1: if (fe(M), M.mode = 20, se !== 6) break; j >>>= 2, L -= 2; break e; case 2: M.mode = 17; break; case 3: V.msg = "invalid block type", M.mode = 30 }j >>>= 2, L -= 2; break; case 14: for (j >>>= 7 & L, L -= 7 & L; L < 32;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if ((65535 & j) != (j >>> 16 ^ 65535)) { V.msg = "invalid stored block lengths", M.mode = 30; break } if (M.length = 65535 & j, L = j = 0, M.mode = 15, se === 6) break e; case 15: M.mode = 16; case 16: if (oe = M.length) { if (ke < oe && (oe = ke), Ce < oe && (oe = Ce), oe === 0) break e; s.arraySet(Z, pe, ae, oe, me), ke -= oe, ae += oe, Ce -= oe, me += oe, M.length -= oe; break } M.mode = 12; break; case 17: for (; L < 14;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (M.nlen = 257 + (31 & j), j >>>= 5, L -= 5, M.ndist = 1 + (31 & j), j >>>= 5, L -= 5, M.ncode = 4 + (15 & j), j >>>= 4, L -= 4, 286 < M.nlen || 30 < M.ndist) { V.msg = "too many length or distance symbols", M.mode = 30; break } M.have = 0, M.mode = 18; case 18: for (; M.have < M.ncode;) { for (; L < 3;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } M.lens[tt[M.have++]] = 7 & j, j >>>= 3, L -= 3 } for (; M.have < 19;)M.lens[tt[M.have++]] = 0; if (M.lencode = M.lendyn, M.lenbits = 7, Me = { bits: M.lenbits }, Ae = u(0, M.lens, 0, 19, M.lencode, 0, M.work, Me), M.lenbits = Me.bits, Ae) { V.msg = "invalid code lengths set", M.mode = 30; break } M.have = 0, M.mode = 19; case 19: for (; M.have < M.nlen + M.ndist;) { for (; Ie = (we = M.lencode[j & (1 << M.lenbits) - 1]) >>> 16 & 255, Ye = 65535 & we, !((Re = we >>> 24) <= L);) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (Ye < 16) j >>>= Re, L -= Re, M.lens[M.have++] = Ye; else { if (Ye === 16) { for (_e = Re + 2; L < _e;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (j >>>= Re, L -= Re, M.have === 0) { V.msg = "invalid bit length repeat", M.mode = 30; break } $ = M.lens[M.have - 1], oe = 3 + (3 & j), j >>>= 2, L -= 2 } else if (Ye === 17) { for (_e = Re + 3; L < _e;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } L -= Re, $ = 0, oe = 3 + (7 & (j >>>= Re)), j >>>= 3, L -= 3 } else { for (_e = Re + 7; L < _e;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } L -= Re, $ = 0, oe = 11 + (127 & (j >>>= Re)), j >>>= 7, L -= 7 } if (M.have + oe > M.nlen + M.ndist) { V.msg = "invalid bit length repeat", M.mode = 30; break } for (; oe--;)M.lens[M.have++] = $ } } if (M.mode === 30) break; if (M.lens[256] === 0) { V.msg = "invalid code -- missing end-of-block", M.mode = 30; break } if (M.lenbits = 9, Me = { bits: M.lenbits }, Ae = u(f, M.lens, 0, M.nlen, M.lencode, 0, M.work, Me), M.lenbits = Me.bits, Ae) { V.msg = "invalid literal/lengths set", M.mode = 30; break } if (M.distbits = 6, M.distcode = M.distdyn, Me = { bits: M.distbits }, Ae = u(h, M.lens, M.nlen, M.ndist, M.distcode, 0, M.work, Me), M.distbits = Me.bits, Ae) { V.msg = "invalid distances set", M.mode = 30; break } if (M.mode = 20, se === 6) break e; case 20: M.mode = 21; case 21: if (6 <= ke && 258 <= Ce) { V.next_out = me, V.avail_out = Ce, V.next_in = ae, V.avail_in = ke, M.hold = j, M.bits = L, A(V, ie), me = V.next_out, Z = V.output, Ce = V.avail_out, ae = V.next_in, pe = V.input, ke = V.avail_in, j = M.hold, L = M.bits, M.mode === 12 && (M.back = -1); break } for (M.back = 0; Ie = (we = M.lencode[j & (1 << M.lenbits) - 1]) >>> 16 & 255, Ye = 65535 & we, !((Re = we >>> 24) <= L);) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (Ie && (240 & Ie) == 0) { for ($e = Re, yt = Ie, at = Ye; Ie = (we = M.lencode[at + ((j & (1 << $e + yt) - 1) >> $e)]) >>> 16 & 255, Ye = 65535 & we, !($e + (Re = we >>> 24) <= L);) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } j >>>= $e, L -= $e, M.back += $e } if (j >>>= Re, L -= Re, M.back += Re, M.length = Ye, Ie === 0) { M.mode = 26; break } if (32 & Ie) { M.back = -1, M.mode = 12; break } if (64 & Ie) { V.msg = "invalid literal/length code", M.mode = 30; break } M.extra = 15 & Ie, M.mode = 22; case 22: if (M.extra) { for (_e = M.extra; L < _e;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } M.length += j & (1 << M.extra) - 1, j >>>= M.extra, L -= M.extra, M.back += M.extra } M.was = M.length, M.mode = 23; case 23: for (; Ie = (we = M.distcode[j & (1 << M.distbits) - 1]) >>> 16 & 255, Ye = 65535 & we, !((Re = we >>> 24) <= L);) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if ((240 & Ie) == 0) { for ($e = Re, yt = Ie, at = Ye; Ie = (we = M.distcode[at + ((j & (1 << $e + yt) - 1) >> $e)]) >>> 16 & 255, Ye = 65535 & we, !($e + (Re = we >>> 24) <= L);) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } j >>>= $e, L -= $e, M.back += $e } if (j >>>= Re, L -= Re, M.back += Re, 64 & Ie) { V.msg = "invalid distance code", M.mode = 30; break } M.offset = Ye, M.extra = 15 & Ie, M.mode = 24; case 24: if (M.extra) { for (_e = M.extra; L < _e;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } M.offset += j & (1 << M.extra) - 1, j >>>= M.extra, L -= M.extra, M.back += M.extra } if (M.offset > M.dmax) { V.msg = "invalid distance too far back", M.mode = 30; break } M.mode = 25; case 25: if (Ce === 0) break e; if (oe = ie - Ce, M.offset > oe) { if ((oe = M.offset - oe) > M.whave && M.sane) { V.msg = "invalid distance too far back", M.mode = 30; break } de = oe > M.wnext ? (oe -= M.wnext, M.wsize - oe) : M.wnext - oe, oe > M.length && (oe = M.length), Be = M.window } else Be = Z, de = me - M.offset, oe = M.length; for (Ce < oe && (oe = Ce), Ce -= oe, M.length -= oe; Z[me++] = Be[de++], --oe;); M.length === 0 && (M.mode = 21); break; case 26: if (Ce === 0) break e; Z[me++] = M.length, Ce--, M.mode = 21; break; case 27: if (M.wrap) { for (; L < 32;) { if (ke === 0) break e; ke--, j |= pe[ae++] << L, L += 8 } if (ie -= Ce, V.total_out += ie, M.total += ie, ie && (V.adler = M.check = M.flags ? o(M.check, Z, ie, me - ie) : a(M.check, Z, ie, me - ie)), ie = Ce, (M.flags ? j : _(j)) !== M.check) { V.msg = "incorrect data check", M.mode = 30; break } L = j = 0 } M.mode = 28; case 28: if (M.wrap && M.flags) { for (; L < 32;) { if (ke === 0) break e; ke--, j += pe[ae++] << L, L += 8 } if (j !== (4294967295 & M.total)) { V.msg = "incorrect length check", M.mode = 30; break } L = j = 0 } M.mode = 29; case 29: Ae = 1; break e; case 30: Ae = -3; break e; case 31: return -4; case 32: default: return p }return V.next_out = me, V.avail_out = Ce, V.next_in = ae, V.avail_in = ke, M.hold = j, M.bits = L, (M.wsize || ie !== V.avail_out && M.mode < 30 && (M.mode < 27 || se !== 4)) && ne(V, V.output, V.next_out, ie - V.avail_out) ? (M.mode = 31, -4) : (re -= V.avail_in, ie -= V.avail_out, V.total_in += re, V.total_out += ie, M.total += ie, M.wrap && ie && (V.adler = M.check = M.flags ? o(M.check, Z, ie, V.next_out - ie) : a(M.check, Z, ie, V.next_out - ie)), V.data_type = M.bits + (M.last ? 64 : 0) + (M.mode === 12 ? 128 : 0) + (M.mode === 20 || M.mode === 15 ? 256 : 0), (re == 0 && ie === 0 || se === 4) && Ae === m && (Ae = -5), Ae) }, i.inflateEnd = function (V) { if (!V || !V.state) return p; var se = V.state; return se.window && (se.window = null), V.state = null, m }, i.inflateGetHeader = function (V, se) { var M; return V && V.state ? (2 & (M = V.state).wrap) == 0 ? p : ((M.head = se).done = !1, m) : p }, i.inflateSetDictionary = function (V, se) { var M, pe = se.length; return V && V.state ? (M = V.state).wrap !== 0 && M.mode !== 11 ? p : M.mode === 11 && a(1, se, pe, 0) !== M.check ? -3 : ne(V, se, pe, pe) ? (M.mode = 31, -4) : (M.havedict = 1, m) : p }, i.inflateInfo = "pako inflate (from Nodeca project)" }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./inffast": 48, "./inftrees": 50 }], 50: [function (t, r, i) { var s = t("../utils/common"), a = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], o = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], A = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], u = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]; r.exports = function (f, h, m, p, b, y, E, _) { var O, I, D, z, X, q, W, G, fe, ne = _.bits, V = 0, se = 0, M = 0, pe = 0, Z = 0, ae = 0, me = 0, ke = 0, Ce = 0, j = 0, L = null, re = 0, ie = new s.Buf16(16), oe = new s.Buf16(16), de = null, Be = 0; for (V = 0; V <= 15; V++)ie[V] = 0; for (se = 0; se < p; se++)ie[h[m + se]]++; for (Z = ne, pe = 15; 1 <= pe && ie[pe] === 0; pe--); if (pe < Z && (Z = pe), pe === 0) return b[y++] = 20971520, b[y++] = 20971520, _.bits = 1, 0; for (M = 1; M < pe && ie[M] === 0; M++); for (Z < M && (Z = M), V = ke = 1; V <= 15; V++)if (ke <<= 1, (ke -= ie[V]) < 0) return -1; if (0 < ke && (f === 0 || pe !== 1)) return -1; for (oe[1] = 0, V = 1; V < 15; V++)oe[V + 1] = oe[V] + ie[V]; for (se = 0; se < p; se++)h[m + se] !== 0 && (E[oe[h[m + se]]++] = se); if (q = f === 0 ? (L = de = E, 19) : f === 1 ? (L = a, re -= 257, de = o, Be -= 257, 256) : (L = A, de = u, -1), V = M, X = y, me = se = j = 0, D = -1, z = (Ce = 1 << (ae = Z)) - 1, f === 1 && 852 < Ce || f === 2 && 592 < Ce) return 1; for (; ;) { for (W = V - me, fe = E[se] < q ? (G = 0, E[se]) : E[se] > q ? (G = de[Be + E[se]], L[re + E[se]]) : (G = 96, 0), O = 1 << V - me, M = I = 1 << ae; b[X + (j >> me) + (I -= O)] = W << 24 | G << 16 | fe | 0, I !== 0;); for (O = 1 << V - 1; j & O;)O >>= 1; if (O !== 0 ? (j &= O - 1, j += O) : j = 0, se++, --ie[V] == 0) { if (V === pe) break; V = h[m + E[se]] } if (Z < V && (j & z) !== D) { for (me === 0 && (me = Z), X += M, ke = 1 << (ae = V - me); ae + me < pe && !((ke -= ie[ae + me]) <= 0);)ae++, ke <<= 1; if (Ce += 1 << ae, f === 1 && 852 < Ce || f === 2 && 592 < Ce) return 1; b[D = j & z] = Z << 24 | ae << 16 | X - y | 0 } } return j !== 0 && (b[X + j] = V - me << 24 | 64 << 16 | 0), _.bits = Z, 0 } }, { "../utils/common": 41 }], 51: [function (t, r, i) { r.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" } }, {}], 52: [function (t, r, i) { var s = t("../utils/common"), a = 0, o = 1; function A(we) { for (var Ne = we.length; 0 <= --Ne;)we[Ne] = 0 } var u = 0, f = 29, h = 256, m = h + 1 + f, p = 30, b = 19, y = 2 * m + 1, E = 15, _ = 16, O = 7, I = 256, D = 16, z = 17, X = 18, q = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], W = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], G = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], fe = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], ne = new Array(2 * (m + 2)); A(ne); var V = new Array(2 * p); A(V); var se = new Array(512); A(se); var M = new Array(256); A(M); var pe = new Array(f); A(pe); var Z, ae, me, ke = new Array(p); function Ce(we, Ne, tt, Je, Qe) { this.static_tree = we, this.extra_bits = Ne, this.extra_base = tt, this.elems = Je, this.max_length = Qe, this.has_stree = we && we.length } function j(we, Ne) { this.dyn_tree = we, this.max_code = 0, this.stat_desc = Ne } function L(we) { return we < 256 ? se[we] : se[256 + (we >>> 7)] } function re(we, Ne) { we.pending_buf[we.pending++] = 255 & Ne, we.pending_buf[we.pending++] = Ne >>> 8 & 255 } function ie(we, Ne, tt) { we.bi_valid > _ - tt ? (we.bi_buf |= Ne << we.bi_valid & 65535, re(we, we.bi_buf), we.bi_buf = Ne >> _ - we.bi_valid, we.bi_valid += tt - _) : (we.bi_buf |= Ne << we.bi_valid & 65535, we.bi_valid += tt) } function oe(we, Ne, tt) { ie(we, tt[2 * Ne], tt[2 * Ne + 1]) } function de(we, Ne) { for (var tt = 0; tt |= 1 & we, we >>>= 1, tt <<= 1, 0 < --Ne;); return tt >>> 1 } function Be(we, Ne, tt) { var Je, Qe, lt = new Array(E + 1), Bt = 0; for (Je = 1; Je <= E; Je++)lt[Je] = Bt = Bt + tt[Je - 1] << 1; for (Qe = 0; Qe <= Ne; Qe++) { var st = we[2 * Qe + 1]; st !== 0 && (we[2 * Qe] = de(lt[st]++, st)) } } function Re(we) { var Ne; for (Ne = 0; Ne < m; Ne++)we.dyn_ltree[2 * Ne] = 0; for (Ne = 0; Ne < p; Ne++)we.dyn_dtree[2 * Ne] = 0; for (Ne = 0; Ne < b; Ne++)we.bl_tree[2 * Ne] = 0; we.dyn_ltree[2 * I] = 1, we.opt_len = we.static_len = 0, we.last_lit = we.matches = 0 } function Ie(we) { 8 < we.bi_valid ? re(we, we.bi_buf) : 0 < we.bi_valid && (we.pending_buf[we.pending++] = we.bi_buf), we.bi_buf = 0, we.bi_valid = 0 } function Ye(we, Ne, tt, Je) { var Qe = 2 * Ne, lt = 2 * tt; return we[Qe] < we[lt] || we[Qe] === we[lt] && Je[Ne] <= Je[tt] } function $e(we, Ne, tt) { for (var Je = we.heap[tt], Qe = tt << 1; Qe <= we.heap_len && (Qe < we.heap_len && Ye(Ne, we.heap[Qe + 1], we.heap[Qe], we.depth) && Qe++, !Ye(Ne, Je, we.heap[Qe], we.depth));)we.heap[tt] = we.heap[Qe], tt = Qe, Qe <<= 1; we.heap[tt] = Je } function yt(we, Ne, tt) { var Je, Qe, lt, Bt, st = 0; if (we.last_lit !== 0) for (; Je = we.pending_buf[we.d_buf + 2 * st] << 8 | we.pending_buf[we.d_buf + 2 * st + 1], Qe = we.pending_buf[we.l_buf + st], st++, Je === 0 ? oe(we, Qe, Ne) : (oe(we, (lt = M[Qe]) + h + 1, Ne), (Bt = q[lt]) !== 0 && ie(we, Qe -= pe[lt], Bt), oe(we, lt = L(--Je), tt), (Bt = W[lt]) !== 0 && ie(we, Je -= ke[lt], Bt)), st < we.last_lit;); oe(we, I, Ne) } function at(we, Ne) { var tt, Je, Qe, lt = Ne.dyn_tree, Bt = Ne.stat_desc.static_tree, st = Ne.stat_desc.has_stree, Ct = Ne.stat_desc.elems, Xt = -1; for (we.heap_len = 0, we.heap_max = y, tt = 0; tt < Ct; tt++)lt[2 * tt] !== 0 ? (we.heap[++we.heap_len] = Xt = tt, we.depth[tt] = 0) : lt[2 * tt + 1] = 0; for (; we.heap_len < 2;)lt[2 * (Qe = we.heap[++we.heap_len] = Xt < 2 ? ++Xt : 0)] = 1, we.depth[Qe] = 0, we.opt_len--, st && (we.static_len -= Bt[2 * Qe + 1]); for (Ne.max_code = Xt, tt = we.heap_len >> 1; 1 <= tt; tt--)$e(we, lt, tt); for (Qe = Ct; tt = we.heap[1], we.heap[1] = we.heap[we.heap_len--], $e(we, lt, 1), Je = we.heap[1], we.heap[--we.heap_max] = tt, we.heap[--we.heap_max] = Je, lt[2 * Qe] = lt[2 * tt] + lt[2 * Je], we.depth[Qe] = (we.depth[tt] >= we.depth[Je] ? we.depth[tt] : we.depth[Je]) + 1, lt[2 * tt + 1] = lt[2 * Je + 1] = Qe, we.heap[1] = Qe++, $e(we, lt, 1), 2 <= we.heap_len;); we.heap[--we.heap_max] = we.heap[1], (function (Lt, Ft) { var bn, Pt, Br, en, nn, vn, En = Ft.dyn_tree, rn = Ft.max_code, Fr = Ft.stat_desc.static_tree, Qt = Ft.stat_desc.has_stree, Wt = Ft.stat_desc.extra_bits, Cr = Ft.stat_desc.extra_base, hn = Ft.stat_desc.max_length, Zt = 0; for (en = 0; en <= E; en++)Lt.bl_count[en] = 0; for (En[2 * Lt.heap[Lt.heap_max] + 1] = 0, bn = Lt.heap_max + 1; bn < y; bn++)hn < (en = En[2 * En[2 * (Pt = Lt.heap[bn]) + 1] + 1] + 1) && (en = hn, Zt++), En[2 * Pt + 1] = en, rn < Pt || (Lt.bl_count[en]++, nn = 0, Cr <= Pt && (nn = Wt[Pt - Cr]), vn = En[2 * Pt], Lt.opt_len += vn * (en + nn), Qt && (Lt.static_len += vn * (Fr[2 * Pt + 1] + nn))); if (Zt !== 0) { do { for (en = hn - 1; Lt.bl_count[en] === 0;)en--; Lt.bl_count[en]--, Lt.bl_count[en + 1] += 2, Lt.bl_count[hn]--, Zt -= 2 } while (0 < Zt); for (en = hn; en !== 0; en--)for (Pt = Lt.bl_count[en]; Pt !== 0;)rn < (Br = Lt.heap[--bn]) || (En[2 * Br + 1] !== en && (Lt.opt_len += (en - En[2 * Br + 1]) * En[2 * Br], En[2 * Br + 1] = en), Pt--) } })(we, Ne), Be(lt, Xt, we.bl_count) } function $(we, Ne, tt) { var Je, Qe, lt = -1, Bt = Ne[1], st = 0, Ct = 7, Xt = 4; for (Bt === 0 && (Ct = 138, Xt = 3), Ne[2 * (tt + 1) + 1] = 65535, Je = 0; Je <= tt; Je++)Qe = Bt, Bt = Ne[2 * (Je + 1) + 1], ++st < Ct && Qe === Bt || (st < Xt ? we.bl_tree[2 * Qe] += st : Qe !== 0 ? (Qe !== lt && we.bl_tree[2 * Qe]++, we.bl_tree[2 * D]++) : st <= 10 ? we.bl_tree[2 * z]++ : we.bl_tree[2 * X]++, lt = Qe, Xt = (st = 0) === Bt ? (Ct = 138, 3) : Qe === Bt ? (Ct = 6, 3) : (Ct = 7, 4)) } function Ae(we, Ne, tt) { var Je, Qe, lt = -1, Bt = Ne[1], st = 0, Ct = 7, Xt = 4; for (Bt === 0 && (Ct = 138, Xt = 3), Je = 0; Je <= tt; Je++)if (Qe = Bt, Bt = Ne[2 * (Je + 1) + 1], !(++st < Ct && Qe === Bt)) { if (st < Xt) for (; oe(we, Qe, we.bl_tree), --st != 0;); else Qe !== 0 ? (Qe !== lt && (oe(we, Qe, we.bl_tree), st--), oe(we, D, we.bl_tree), ie(we, st - 3, 2)) : st <= 10 ? (oe(we, z, we.bl_tree), ie(we, st - 3, 3)) : (oe(we, X, we.bl_tree), ie(we, st - 11, 7)); lt = Qe, Xt = (st = 0) === Bt ? (Ct = 138, 3) : Qe === Bt ? (Ct = 6, 3) : (Ct = 7, 4) } } A(ke); var Me = !1; function _e(we, Ne, tt, Je) { ie(we, (u << 1) + (Je ? 1 : 0), 3), (function (Qe, lt, Bt, st) { Ie(Qe), re(Qe, Bt), re(Qe, ~Bt), s.arraySet(Qe.pending_buf, Qe.window, lt, Bt, Qe.pending), Qe.pending += Bt })(we, Ne, tt) } i._tr_init = function (we) { Me || ((function () { var Ne, tt, Je, Qe, lt, Bt = new Array(E + 1); for (Qe = Je = 0; Qe < f - 1; Qe++)for (pe[Qe] = Je, Ne = 0; Ne < 1 << q[Qe]; Ne++)M[Je++] = Qe; for (M[Je - 1] = Qe, Qe = lt = 0; Qe < 16; Qe++)for (ke[Qe] = lt, Ne = 0; Ne < 1 << W[Qe]; Ne++)se[lt++] = Qe; for (lt >>= 7; Qe < p; Qe++)for (ke[Qe] = lt << 7, Ne = 0; Ne < 1 << W[Qe] - 7; Ne++)se[256 + lt++] = Qe; for (tt = 0; tt <= E; tt++)Bt[tt] = 0; for (Ne = 0; Ne <= 143;)ne[2 * Ne + 1] = 8, Ne++, Bt[8]++; for (; Ne <= 255;)ne[2 * Ne + 1] = 9, Ne++, Bt[9]++; for (; Ne <= 279;)ne[2 * Ne + 1] = 7, Ne++, Bt[7]++; for (; Ne <= 287;)ne[2 * Ne + 1] = 8, Ne++, Bt[8]++; for (Be(ne, m + 1, Bt), Ne = 0; Ne < p; Ne++)V[2 * Ne + 1] = 5, V[2 * Ne] = de(Ne, 5); Z = new Ce(ne, q, h + 1, m, E), ae = new Ce(V, W, 0, p, E), me = new Ce(new Array(0), G, 0, b, O) })(), Me = !0), we.l_desc = new j(we.dyn_ltree, Z), we.d_desc = new j(we.dyn_dtree, ae), we.bl_desc = new j(we.bl_tree, me), we.bi_buf = 0, we.bi_valid = 0, Re(we) }, i._tr_stored_block = _e, i._tr_flush_block = function (we, Ne, tt, Je) { var Qe, lt, Bt = 0; 0 < we.level ? (we.strm.data_type === 2 && (we.strm.data_type = (function (st) { var Ct, Xt = 4093624447; for (Ct = 0; Ct <= 31; Ct++, Xt >>>= 1)if (1 & Xt && st.dyn_ltree[2 * Ct] !== 0) return a; if (st.dyn_ltree[18] !== 0 || st.dyn_ltree[20] !== 0 || st.dyn_ltree[26] !== 0) return o; for (Ct = 32; Ct < h; Ct++)if (st.dyn_ltree[2 * Ct] !== 0) return o; return a })(we)), at(we, we.l_desc), at(we, we.d_desc), Bt = (function (st) { var Ct; for ($(st, st.dyn_ltree, st.l_desc.max_code), $(st, st.dyn_dtree, st.d_desc.max_code), at(st, st.bl_desc), Ct = b - 1; 3 <= Ct && st.bl_tree[2 * fe[Ct] + 1] === 0; Ct--); return st.opt_len += 3 * (Ct + 1) + 5 + 5 + 4, Ct })(we), Qe = we.opt_len + 3 + 7 >>> 3, (lt = we.static_len + 3 + 7 >>> 3) <= Qe && (Qe = lt)) : Qe = lt = tt + 5, tt + 4 <= Qe && Ne !== -1 ? _e(we, Ne, tt, Je) : we.strategy === 4 || lt === Qe ? (ie(we, 2 + (Je ? 1 : 0), 3), yt(we, ne, V)) : (ie(we, 4 + (Je ? 1 : 0), 3), (function (st, Ct, Xt, Lt) { var Ft; for (ie(st, Ct - 257, 5), ie(st, Xt - 1, 5), ie(st, Lt - 4, 4), Ft = 0; Ft < Lt; Ft++)ie(st, st.bl_tree[2 * fe[Ft] + 1], 3); Ae(st, st.dyn_ltree, Ct - 1), Ae(st, st.dyn_dtree, Xt - 1) })(we, we.l_desc.max_code + 1, we.d_desc.max_code + 1, Bt + 1), yt(we, we.dyn_ltree, we.dyn_dtree)), Re(we), Je && Ie(we) }, i._tr_tally = function (we, Ne, tt) { return we.pending_buf[we.d_buf + 2 * we.last_lit] = Ne >>> 8 & 255, we.pending_buf[we.d_buf + 2 * we.last_lit + 1] = 255 & Ne, we.pending_buf[we.l_buf + we.last_lit] = 255 & tt, we.last_lit++, Ne === 0 ? we.dyn_ltree[2 * tt]++ : (we.matches++, Ne--, we.dyn_ltree[2 * (M[tt] + h + 1)]++, we.dyn_dtree[2 * L(Ne)]++), we.last_lit === we.lit_bufsize - 1 }, i._tr_align = function (we) { ie(we, 2, 3), oe(we, I, ne), (function (Ne) { Ne.bi_valid === 16 ? (re(Ne, Ne.bi_buf), Ne.bi_buf = 0, Ne.bi_valid = 0) : 8 <= Ne.bi_valid && (Ne.pending_buf[Ne.pending++] = 255 & Ne.bi_buf, Ne.bi_buf >>= 8, Ne.bi_valid -= 8) })(we) } }, { "../utils/common": 41 }], 53: [function (t, r, i) { r.exports = function () { this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0 } }, {}], 54: [function (t, r, i) { (function (s) { (function (a, o) { if (!a.setImmediate) { var A, u, f, h, m = 1, p = {}, b = !1, y = a.document, E = Object.getPrototypeOf && Object.getPrototypeOf(a); E = E && E.setTimeout ? E : a, A = {}.toString.call(a.process) === "[object process]" ? function (D) { process.nextTick(function () { O(D) }) } : (function () { if (a.postMessage && !a.importScripts) { var D = !0, z = a.onmessage; return a.onmessage = function () { D = !1 }, a.postMessage("", "*"), a.onmessage = z, D } })() ? (h = "setImmediate$" + Math.random() + "$", a.addEventListener ? a.addEventListener("message", I, !1) : a.attachEvent("onmessage", I), function (D) { a.postMessage(h + D, "*") }) : a.MessageChannel ? ((f = new MessageChannel).port1.onmessage = function (D) { O(D.data) }, function (D) { f.port2.postMessage(D) }) : y && "onreadystatechange" in y.createElement("script") ? (u = y.documentElement, function (D) { var z = y.createElement("script"); z.onreadystatechange = function () { O(D), z.onreadystatechange = null, u.removeChild(z), z = null }, u.appendChild(z) }) : function (D) { setTimeout(O, 0, D) }, E.setImmediate = function (D) { typeof D != "function" && (D = new Function("" + D)); for (var z = new Array(arguments.length - 1), X = 0; X < z.length; X++)z[X] = arguments[X + 1]; var q = { callback: D, args: z }; return p[m] = q, A(m), m++ }, E.clearImmediate = _ } function _(D) { delete p[D] } function O(D) { if (b) setTimeout(O, 0, D); else { var z = p[D]; if (z) { b = !0; try { (function (X) { var q = X.callback, W = X.args; switch (W.length) { case 0: q(); break; case 1: q(W[0]); break; case 2: q(W[0], W[1]); break; case 3: q(W[0], W[1], W[2]); break; default: q.apply(o, W) } })(z) } finally { _(D), b = !1 } } } } function I(D) { D.source === a && typeof D.data == "string" && D.data.indexOf(h) === 0 && O(+D.data.slice(h.length)) } })(typeof self > "u" ? s === void 0 ? this : s : self) }).call(this, typeof ty < "u" ? ty : typeof self < "u" ? self : typeof window < "u" ? window : {}) }, {}]
        }, {}, [10])(10)
      })
    })(HB)), HB.exports
  } var Uue = Fue(); const lD = Pg(Uue), r0 = async n => {
    const e = dM.renderToStaticMarkup(n), t = document.createElement("div"); t.style.width = "210mm", t.style.padding = "0", t.style.background = "white", t.style.position = "absolute", t.style.left = "-9999px", t.style.top = "0"; const r = e.replace(/hidden /g, "").replace(/print:block/g, "").replace(/print-only/g, "").replace(/oklch\([^)]+\)/g, "#000000"); t.innerHTML = `
        <style>
            /* Force fallback for colors that html2canvas doesn't support (like oklch) */
            * {
                border-color: #000000 !important;
                outline-color: #000000 !important;
            }
            .bg-white { background-color: #ffffff !important; }
            .text-black { color: #000000 !important; }
            .bg-gray-50 { background-color: #f8fafc !important; }
            .bg-gray-100 { background-color: #f1f5f9 !important; }
            .border-black { border-color: #000000 !important; }
        </style>
        ${r}
    `, document.body.appendChild(t); try { const i = await CS(t, { scale: 2, useCORS: !0, logging: !1, width: 794, windowWidth: 1e3 }), s = i.toDataURL("image/jpeg", .95), a = new mn("p", "mm", "a4"), o = a.internal.pageSize.getWidth(), A = a.internal.pageSize.getHeight(), u = i.height * o / i.width; a.addImage(s, "JPEG", 0, 0, o, u); let f = u - A, h = 1; for (; f > 0;)a.addPage(), a.addImage(s, "JPEG", 0, -(A * h), o, u), f -= A, h++; return a.output("blob") } finally { document.body.contains(t) && document.body.removeChild(t) }
  }, FS = F.forwardRef(({ suspect: n, arrests: e = [], investigations: t = [], includeArrests: r = !0, includeInvestigations: i = !0, includeVehicles: s = !0, preview: a = !1 }, o) => g.jsxs("div", { ref: o, className: `${a ? "" : "hidden"} print:block p-8 max-w-[210mm] mx-auto font-serif`, style: { backgroundColor: "#ffffff", color: "#000000" }, children: [g.jsxs("div", { className: "text-center mb-8 border-b-2 pb-4", style: { borderColor: "#000000" }, children: [g.jsx("div", { className: "w-32 h-32 mx-auto mb-4 flex items-center justify-center", children: g.jsx("img", { src: "/noose-seal.png", alt: "NOOSE Seal", className: "w-full h-full object-contain" }) }), g.jsx("h1", { className: "text-2xl font-bold uppercase tracking-wider mb-2", children: "National Office of Security Enforcement" }), g.jsx("h2", { className: "text-xl font-bold uppercase underline mb-4", children: "FICHE INDIVIDU" }), g.jsxs("div", { className: "text-sm font-bold space-y-1", children: [g.jsxs("p", { children: ["Date d'dition : ", new Date().toLocaleDateString()] }), g.jsxs("p", { children: ["Rfrence : US-GOV/US-NOOSE/CIV-", n.id.slice(0, 8).toUpperCase()] })] })] }), g.jsxs("div", { className: "text-[10px] text-justify mb-8 leading-tight space-y-2", children: [g.jsxs("p", { children: ["Ce document est class ", g.jsx("strong", { children: "CONFIDENTIEL" }), ". Il contient des informations personnelles protges par les lois fdrales sur la vie prive."] }), g.jsxs("p", { children: [g.jsx("strong", { children: "DHS Directive 100-01" }), " - Usage interne uniquement."] })] }), g.jsxs("div", { className: "flex gap-6 mb-8", children: [g.jsx("div", { className: "w-48 h-48 border flex items-center justify-center overflow-hidden", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: n.mugshot_url ? g.jsx("img", { src: n.mugshot_url, alt: "Mugshot", className: "w-full h-full object-cover" }) : g.jsx("span", { className: "font-bold", style: { color: "#9ca3af" }, children: "NO PHOTO" }) }), g.jsxs("div", { className: "flex-1", children: [g.jsx("h3", { className: "font-bold uppercase mb-1", children: "IDENTIT" }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), g.jsx("table", { className: "w-full text-sm", style: { borderCollapse: "collapse", borderColor: "#000000" }, children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold w-1/3", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Nom Complet" }), g.jsx("td", { className: "border p-2 font-bold text-lg", style: { borderColor: "#000000" }, children: n.full_name })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Date de Naissance" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.dob ? new Date(n.dob).toLocaleDateString() : "Non renseigne" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Lieu de Naissance" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.pob || "Non renseign" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Adresse" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.address || "SDF" })] })] }) })] })] }), g.jsxs("div", { className: "mb-10 px-1", style: { pageBreakInside: "avoid" }, children: [g.jsx("h3", { className: "font-bold uppercase mb-1", children: "SIGNALEMENT" }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), g.jsx("table", { className: "w-full text-sm", style: { borderCollapse: "collapse", borderColor: "#000000" }, children: g.jsxs("tbody", { children: [g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold w-1/4", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Sexe" }), g.jsx("td", { className: "border p-2 w-1/4", style: { borderColor: "#000000" }, children: n.gender || "N/A" }), g.jsx("td", { className: "border p-2 font-bold w-1/4", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Race" }), g.jsx("td", { className: "border p-2 w-1/4", style: { borderColor: "#000000" }, children: n.race || "N/A" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Cheveux" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.hair_color || "N/A" }), g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Yeux" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.eye_color || "N/A" })] }), g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Poids" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.weight ? `${n.weight}` : "N/A" }), g.jsx("td", { className: "border p-2 font-bold", style: { borderColor: "#000000", backgroundColor: "#f3f4f6" }, children: "Taille" }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: n.height ? `${n.height}` : "N/A" })] })] }) })] }), s && g.jsxs("div", { className: "mb-10 px-1", style: { pageBreakInside: "avoid" }, children: [g.jsx("h3", { className: "font-bold uppercase mb-1", children: "PERMIS ET LICENCES" }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), g.jsx("div", { className: "border p-4 text-sm", style: { borderColor: "#000000" }, children: Object.entries(n.licenses || {}).length > 0 ? g.jsx("div", { className: "grid grid-cols-2 gap-2", children: Object.entries(n.licenses).map(([A, u]) => g.jsxs("div", { className: "flex justify-between items-center p-2 border", style: { backgroundColor: "#f9fafb", borderColor: "#e5e7eb" }, children: [g.jsx("span", { className: "font-bold uppercase", children: A }), g.jsx("span", { className: "px-2 py-0.5 rounded text-xs border", style: u === "valid" ? { backgroundColor: "#dcfce7", borderColor: "#86efac", color: "#15803d" } : u === "suspended" ? { backgroundColor: "#fee2e2", borderColor: "#fca5a5", color: "#b91c1c" } : { backgroundColor: "#f3f4f6", borderColor: "#d1d5db", color: "#374151" }, children: u })] }, A)) }) : g.jsx("p", { className: "italic", style: { color: "#6b7280" }, children: "Aucun permis ou licence enregistr." }) })] }), r && g.jsxs("div", { className: "mb-10 px-1", style: { pageBreakInside: "avoid" }, children: [g.jsxs("h3", { className: "font-bold uppercase mb-1", children: ["HISTORIQUE JUDICIAIRE (", e.length, ")"] }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), e.length > 0 ? g.jsxs("table", { className: "w-full text-sm", style: { borderCollapse: "collapse", borderColor: "#000000" }, children: [g.jsx("thead", { style: { backgroundColor: "#f3f4f6" }, children: g.jsxs("tr", { children: [g.jsx("th", { className: "border p-2 text-left", style: { borderColor: "#000000" }, children: "Date" }), g.jsx("th", { className: "border p-2 text-left", style: { borderColor: "#000000" }, children: "Charges" }), g.jsx("th", { className: "border p-2 text-left", style: { borderColor: "#000000" }, children: "Statut" })] }) }), g.jsx("tbody", { children: e.map(A => g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 align-top w-24", style: { borderColor: "#000000" }, children: new Date(A.date_of_arrest).toLocaleDateString() }), g.jsx("td", { className: "border p-2 align-top", style: { borderColor: "#000000" }, children: g.jsx("ul", { className: "list-disc list-inside", children: A.charges.map((u, f) => g.jsx("li", { children: u }, f)) }) }), g.jsx("td", { className: "border p-2 align-top w-24", style: { borderColor: "#000000" }, children: A.status })] }, A.id)) })] }) : g.jsx("div", { className: "border p-4 text-sm italic", style: { borderColor: "#000000" }, children: "Aucune arrestation enregistre." })] }), i && g.jsxs("div", { className: "mb-10 px-1", style: { pageBreakInside: "avoid" }, children: [g.jsxs("h3", { className: "font-bold uppercase mb-1", children: ["DOSSIERS D'INVESTIGATION (", t.length, ")"] }), g.jsx("div", { className: "border-b mb-2", style: { borderColor: "#000000" } }), t.length > 0 ? g.jsxs("table", { className: "w-full text-sm", style: { borderCollapse: "collapse", borderColor: "#000000" }, children: [g.jsx("thead", { style: { backgroundColor: "#f3f4f6" }, children: g.jsxs("tr", { children: [g.jsx("th", { className: "border p-2 text-left", style: { borderColor: "#000000" }, children: "Dossier #" }), g.jsx("th", { className: "border p-2 text-left", style: { borderColor: "#000000" }, children: "Titre" }), g.jsx("th", { className: "border p-2 text-left", style: { borderColor: "#000000" }, children: "Statut" })] }) }), g.jsx("tbody", { children: t.map(A => g.jsxs("tr", { children: [g.jsx("td", { className: "border p-2 font-mono", style: { borderColor: "#000000" }, children: A.case_number }), g.jsx("td", { className: "border p-2", style: { borderColor: "#000000" }, children: A.title }), g.jsx("td", { className: "border p-2 uppercase text-xs font-bold", style: { borderColor: "#000000" }, children: A.status })] }, A.id)) })] }) : g.jsx("div", { className: "border p-4 text-sm italic", style: { borderColor: "#000000" }, children: "Aucun dossier d'investigation li." })] })] })); FS.displayName = "SuspectPDF"; const Oue = async n => { try { const e = new lD; n("Fetching system data..."); const [{ data: t }, { data: r }, { data: i }, { data: s }, { data: a }] = await Promise.all([jt.from("reports").select("*, author:noose_user(username, rank, matricule), suspect:noose_civilians(full_name, dob, height, weight, pob, address)"), jt.from("noose_civilians").select("*"), jt.from("arrests").select("*, officer:noose_user(username, rank)"), jt.from("investigations").select("*"), jt.from("investigation_links").select("*")]), o = t || [], A = r || [], u = i || [], f = s || [], h = a || []; n("Converting Reports..."); const m = e.folder("Rapports"), p = new Map; for (const X of o) { n(`Processing Report ${X.id.slice(0, 6)}...`); const q = await r0(g.jsx(uS, { report: X, author: X.author, suspect: X.suspect, preview: !0 })); m?.file(`Report-${X.id.slice(0, 8)}.pdf`, q), p.set(X.id, q) } n("Converting Dossiers..."); const b = e.folder("Civils"), y = new Map; for (const X of A) { n(`Processing Civilian ${X.full_name}...`); const q = u.filter(G => G.civilian_id === X.id || G.suspect_name === X.full_name), W = await r0(g.jsx(FS, { suspect: X, arrests: q, includeArrests: !0, includeInvestigations: !0, includeVehicles: !0, preview: !0 })); b?.file(`${X.full_name.replace(/[^a-z0-9]/gi, "_")}.pdf`, W), y.set(X.id, W) } n("Converting Arrests..."); const E = e.folder("Arrestations"), _ = new Map; for (const X of u) { const q = A.find(G => G.id === X.civilian_id) || A.find(G => G.full_name === X.suspect_name), W = await r0(g.jsx(TS, { arrest: X, suspect: q, preview: !0 })); E?.file(`Arrest-${X.id.slice(0, 8)}.pdf`, W), _.set(X.id, W) } n("Processing Investigations..."); const O = e.folder("Investigations"); for (const X of f) { const q = `${X.case_number} - ${X.title.replace(/[^a-z0-9]/gi, "_")}`, W = O?.folder(q), G = await r0(g.jsxs("div", { style: { fontFamily: "sans-serif", padding: "40px", background: "white", color: "black" }, children: [g.jsxs("h1", { style: { fontSize: "24px", fontWeight: "bold" }, children: ["CASE FILE: ", X.case_number] }), g.jsx("h2", { style: { fontSize: "18px", marginBottom: "20px" }, children: X.title }), g.jsx("p", { style: { marginBottom: "20px", whiteSpace: "pre-wrap" }, children: X.description }), g.jsxs("p", { children: [g.jsx("strong", { children: "Status:" }), " ", X.status] })] })); W?.file("CASE_FILE.pdf", G); const fe = h.filter(ne => ne.investigation_id === X.id); for (const ne of fe) { let V = null, se = `Linked-${ne.linked_item_type}-${ne.linked_item_id.slice(0, 8)}.pdf`; ne.linked_item_type === "report" ? (V = p.get(ne.linked_item_id), se = `Report-${ne.linked_item_id.slice(0, 8)}.pdf`) : ne.linked_item_type === "civilian" ? V = y.get(ne.linked_item_id) : ne.linked_item_type === "arrest" && (V = _.get(ne.linked_item_id), se = `Arrest-${ne.linked_item_id.slice(0, 8)}.pdf`), V && W?.file(se, V) } } n("Compressing..."); const I = await e.generateAsync({ type: "blob" }), D = window.URL.createObjectURL(I), z = document.createElement("a"); z.href = D, z.download = `NOOSE_BACKUP_${new Date().toISOString().slice(0, 10)}.zip`, document.body.appendChild(z), z.click(), window.URL.revokeObjectURL(D), document.body.removeChild(z), n("Complete!") } catch (e) { throw console.error("Backup failed", e), e } }, Rue = ["admin.access", "reports.view", "reports.create", "reports.edit", "reports.delete", "reports.validate", "arrests.view", "arrests.create", "arrests.edit", "arrests.delete", "investigations.view", "investigations.create", "investigations.edit", "investigations.delete", "search.global"]; function Iue() {
    const { user: n } = Fu(), [e, t] = F.useState([]), [r, i] = F.useState(!0), [s, a] = F.useState(!1), [o, A] = F.useState(!1), [u, f] = F.useState(null), [h, m] = F.useState(!1), [p, b] = F.useState(null), [y, E] = F.useState(""), [_, O] = F.useState(""), [I, D] = F.useState(!1), [z, X] = F.useState(""), q = async () => { if (!I) { D(!0), X("Starting backup..."); try { await Oue(de => X(de)), X("Downloaded!"), setTimeout(() => X(""), 3e3) } catch (de) { console.error(de), alert("Backup failed. See console for details."), X("") } finally { D(!1) } } }, [W, G] = F.useState(!1), [fe, ne] = F.useState(null), [V, se] = F.useState(!1), [M, pe] = F.useState(""), [Z, ae] = F.useState({ username: "", password: "", matricule: "", rank: "", division: "", clearance: "1" }), me = async () => { try { const { data: de, error: Be } = await jt.from("noose_user").select("id, username, matricule, rank, division, clearance, last_login, permissions").order("username"); if (Be) throw Be; t(de || []) } catch (de) { console.error("Error fetching users:", de) } finally { i(!1) } }; F.useEffect(() => { n?.permissions.includes("admin.access") && me() }, [n]); const ke = async () => { try { if (!Z.username || !Z.password || !Z.matricule) { alert("Veuillez remplir tous les champs obligatoires"); return } const { error: de } = await jt.from("noose_user").insert({ username: Z.username, password: Z.password, matricule: Z.matricule, rank: Z.rank || "Agent", division: Z.division || "General", clearance: parseInt(Z.clearance), permissions: [] }); if (de) throw de; ne({ username: Z.username, password: Z.password, matricule: Z.matricule, rank: Z.rank || "Agent", division: Z.division || "General", clearance: parseInt(Z.clearance), isPasswordReset: !1 }), a(!1), ae({ username: "", password: "", matricule: "", rank: "", division: "", clearance: "1" }), G(!0), me() } catch (de) { console.error("Error creating user:", de), alert("chec de la cration de l'utilisateur.") } }, Ce = async () => { if (u) try { const { error: de } = await jt.from("noose_user").update({ username: u.username, rank: u.rank, division: u.division, permissions: u.permissions, clearance: u.clearance }).eq("id", u.id); if (de) throw de; A(!1), f(null), me() } catch (de) { console.error("Error updating user:", de), alert("chec de la mise  jour de l'utilisateur.") } }, j = async () => { if (p) { if (y !== _) { alert("Les mots de passe ne correspondent pas."); return } if (y.length < 4) { alert("Le mot de passe doit contenir au moins 4 caractres."); return } try { const { error: de } = await jt.from("noose_user").update({ password: y }).eq("id", p.id); if (de) throw de; ne({ username: p.username, password: y, matricule: p.matricule || "N/A", rank: p.rank, division: p.division, clearance: p.clearance, isPasswordReset: !0 }), m(!1), b(null), E(""), O(""), G(!0), me() } catch (de) { console.error("Error resetting password:", de), alert("chec de la rinitialisation du mot de passe.") } } }, L = () => { const de = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*"; let Be = ""; for (let Re = 0, Ie = de.length; Re < 12; ++Re)Be += de.charAt(Math.floor(Math.random() * Ie)); return Be }, re = async () => {
      se(!0), pe("Analysing users..."); try {
        const { data: de, error: Be } = await jt.from("noose_user").select("*").or('password.is.null,password.eq.""'); if (Be) throw Be; if (!de || de.length === 0) { alert("Tous les utilisateurs ont dj un mot de passe configur."), se(!1); return } if (!confirm(`Voulez-vous gnrer les accs pour ${de.length} utilisateurs ?

Ceci rinitialisera leurs mots de passe.`)) { se(!1); return } const Re = new lD; let Ie = 0; for (const at of de) { Ie++, pe(`Processing ${Ie}/${de.length}: ${at.username}`); const $ = L(), { error: Ae } = await jt.from("noose_user").update({ password: $ }).eq("id", at.id); if (Ae) { console.error(`Failed to update user ${at.username}`, Ae); continue } const Me = await r0(g.jsx(k5, { username: at.username, password: $, matricule: at.matricule, rank: at.rank, division: at.division, clearance: at.clearance, isPasswordReset: !0 })), _e = `${at.rank}_${at.username}.pdf`.replace(/[^a-z0-9._-]/gi, "_"); Re.file(_e, Me) } pe("Compressing..."); const Ye = await Re.generateAsync({ type: "blob" }), $e = window.URL.createObjectURL(Ye), yt = document.createElement("a"); yt.href = $e, yt.download = `Initial_Access_${new Date().toISOString().slice(0, 10)}.zip`, document.body.appendChild(yt), yt.click(), window.URL.revokeObjectURL($e), document.body.removeChild(yt), alert(`Accs gnrs et tlchargs pour ${Ie} utilisateurs.`), me()
      } catch (de) { console.error("Error generating batch access:", de), alert("Une erreur est survenue lors de la gnration en masse.") } finally { se(!1), pe("") }
    }, ie = () => { window.print() }, oe = de => { if (!u) return; const Be = u.permissions || [], Re = Be.includes(de) ? Be.filter(Ie => Ie !== de) : [...Be, de]; f({ ...u, permissions: Re }) }; return n?.permissions.includes("admin.access") ? g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Administration" }), g.jsxs("div", { className: "flex gap-2", children: [g.jsx(Vt, { variant: "outline", onClick: q, disabled: I, children: I ? g.jsxs(g.Fragment, { children: [g.jsx(cN, { className: "mr-2 h-4 w-4 animate-spin" }), z] }) : g.jsxs(g.Fragment, { children: [g.jsx(qz, { className: "mr-2 h-4 w-4" }), z || "System Backup"] }) }), g.jsx(Vt, { variant: "destructive", onClick: re, disabled: V, children: V ? g.jsxs(g.Fragment, { children: [g.jsx(cN, { className: "mr-2 h-4 w-4 animate-spin" }), M || "Processing..."] }) : g.jsxs(g.Fragment, { children: [g.jsx(P1, { className: "mr-2 h-4 w-4" }), "Gnrer accs initiaux"] }) }), g.jsxs(Gc, { open: s, onOpenChange: a, children: [g.jsx(j1, { asChild: !0, children: g.jsxs(Vt, { children: [g.jsx(Z0, { className: "mr-2 h-4 w-4" }), " Crer un utilisateur"] }) }), g.jsxs(cc, { children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: "Crer un nouvel utilisateur" }), g.jsx(Yc, { children: "Crez un nouveau compte utilisateur avec des identifiants et des permissions." })] }), g.jsxs("div", { className: "grid gap-4 py-4", children: [g.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "username", children: "Nom d'utilisateur" }), g.jsx(xr, { id: "username", value: Z.username, onChange: de => ae({ ...Z, username: de.target.value }) })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "password", children: "Mot de passe" }), g.jsx(xr, { id: "password", type: "password", value: Z.password, onChange: de => ae({ ...Z, password: de.target.value }) })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "matricule", children: "Matricule (ID)" }), g.jsx(xr, { id: "matricule", value: Z.matricule, onChange: de => ae({ ...Z, matricule: de.target.value }) })] }), g.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "rank", children: "Grade" }), g.jsx(xr, { id: "rank", value: Z.rank, onChange: de => ae({ ...Z, rank: de.target.value }) })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "division", children: "Division" }), g.jsx(xr, { id: "division", value: Z.division, onChange: de => ae({ ...Z, division: de.target.value }) })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "clearance", children: "Niveau d'habilitation" }), g.jsxs(hc, { value: Z.clearance, onValueChange: de => ae({ ...Z, clearance: de }), children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Slectionnez l'habilitation" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "1", children: "Niveau 1 (Confidentiel)" }), g.jsx(Zn, { value: "2", children: "Niveau 2 (Secret)" }), g.jsx(Zn, { value: "3", children: "Niveau 3 (Top Secret)" }), g.jsx(Zn, { value: "4", children: "Niveau 4 (Black Ops)" }), g.jsx(Zn, { value: "5", children: "Niveau 5 (Directeur)" })] })] })] }), g.jsx(Vt, { onClick: ke, children: "Crer le compte" })] })] })] })] }), g.jsx(Gc, { open: o, onOpenChange: A, children: g.jsxs(cc, { className: "max-w-2xl", children: [g.jsxs(Wc, { children: [g.jsxs(uc, { children: ["Modifier l'utilisateur : ", u?.username] }), g.jsx(Yc, { children: "Modifiez les dtails de l'utilisateur, le niveau d'habilitation et les permissions." })] }), g.jsxs("div", { className: "grid gap-6 py-4", children: [g.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Nom d'utilisateur" }), g.jsx(xr, { value: u?.username || "", onChange: de => u && f({ ...u, username: de.target.value }) })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Grade" }), g.jsx(xr, { value: u?.rank || "", onChange: de => u && f({ ...u, rank: de.target.value }) })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Division" }), g.jsx(xr, { value: u?.division || "", onChange: de => u && f({ ...u, division: de.target.value }) })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Niveau d'habilitation" }), g.jsxs(hc, { value: u?.clearance.toString(), onValueChange: de => u && f({ ...u, clearance: parseInt(de) }), children: [g.jsx(jA, { children: g.jsx(pc, {}) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "1", children: "Niveau 1 (Confidentiel)" }), g.jsx(Zn, { value: "2", children: "Niveau 2 (Secret)" }), g.jsx(Zn, { value: "3", children: "Niveau 3 (Top Secret)" }), g.jsx(Zn, { value: "4", children: "Niveau 4 (Black Ops)" }), g.jsx(Zn, { value: "5", children: "Niveau 5 (Directeur)" })] })] })] })] }), g.jsxs("div", { className: "space-y-4", children: [g.jsx(Cn, { children: "Permissions" }), g.jsx("div", { className: "grid grid-cols-3 gap-4", children: Rue.map(de => g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: de, checked: u?.permissions?.includes(de), onCheckedChange: () => oe(de) }), g.jsx("label", { htmlFor: de, className: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70", children: de })] }, de)) })] }), g.jsx(Vt, { onClick: Ce, children: "Enregistrer les modifications" })] })] }) })] }), g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Gestion des utilisateurs" }) }), g.jsx(xs, { children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "Nom d'utilisateur" }), g.jsx(er, { children: "Grade" }), g.jsx(er, { children: "Division" }), g.jsx(er, { children: "Habilitation" }), g.jsx(er, { children: "Dernire connexion" }), g.jsx(er, { children: "Statut" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: r ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 7, className: "text-center py-4", children: "Chargement des utilisateurs..." }) }) : e.map(de => g.jsxs(Ii, { children: [g.jsx(wn, { className: "font-medium", children: de.username }), g.jsx(wn, { children: de.rank }), g.jsx(wn, { children: de.division }), g.jsx(wn, { children: g.jsxs(nl, { variant: de.clearance >= 4 ? "destructive" : "secondary", children: ["Niveau ", de.clearance] }) }), g.jsx(wn, { children: de.last_login ? new Date(de.last_login).toLocaleString() : "Jamais" }), g.jsx(wn, { children: g.jsx(nl, { variant: "outline", className: "text-green-600 border-green-600", children: "Actif" }) }), g.jsx(wn, { className: "text-right", children: g.jsxs("div", { className: "flex items-center justify-end gap-2", children: [g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => { f(de), A(!0) }, title: "Modifier l'utilisateur", children: g.jsx(Z9, { className: "h-4 w-4" }) }), g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => { b(de), m(!0) }, title: "Rinitialiser le mot de passe", children: g.jsx(N9, { className: "h-4 w-4" }) })] }) })] }, de.id)) })] }) })] }), g.jsx(Gc, { open: h, onOpenChange: m, children: g.jsxs(cc, { children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: "Rinitialiser le mot de passe" }), g.jsxs(Yc, { children: ["Dfinir un nouveau mot de passe pour ", p?.username] })] }), g.jsxs("div", { className: "grid gap-4 py-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "new-password", children: "Nouveau mot de passe" }), g.jsx(xr, { id: "new-password", type: "password", value: y, onChange: de => E(de.target.value), placeholder: "Entrez le nouveau mot de passe" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "confirm-password", children: "Confirmer le mot de passe" }), g.jsx(xr, { id: "confirm-password", type: "password", value: _, onChange: de => O(de.target.value), placeholder: "Confirmez le mot de passe" })] }), g.jsx(Vt, { onClick: j, children: "Rinitialiser le mot de passe" })] })] }) }), g.jsx(Gc, { open: W, onOpenChange: G, children: g.jsxs(cc, { children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: fe?.isPasswordReset ? "Mot de passe rinitialis" : "Utilisateur cr avec succs" }), g.jsx(Yc, { children: fe?.isPasswordReset ? "Le mot de passe a t rinitialis. Tlchargez le PDF contenant les nouvelles informations de connexion." : "Le compte utilisateur a t cr. Tlchargez le PDF contenant les informations de connexion et le guide d'utilisation." })] }), g.jsx("div", { className: "py-4", children: g.jsxs(Vt, { onClick: ie, className: "w-full", children: [g.jsx(P1, { className: "mr-2 h-4 w-4" }), "Tlcharger le PDF d'assignation"] }) })] }) }), fe && g.jsx("div", { className: "print-only hidden print:block fixed inset-0 bg-white z-[9999]", children: g.jsx(k5, { username: fe.username, password: fe.password, matricule: fe.matricule, rank: fe.rank, division: fe.division, clearance: fe.clearance, isPasswordReset: fe.isPasswordReset }) })] }) : g.jsxs("div", { className: "p-8 text-center text-destructive", children: [g.jsx("h1", { className: "text-2xl font-bold", children: "Accs refus" }), g.jsx("p", { children: "Vous n'avez pas la permission de voir cette page." })] })
  } function Lue() { const n = bc(), [e, t] = F.useState(""), [r, i] = F.useState([]), [s, a] = F.useState(!0); F.useEffect(() => { async function A() { try { const u = await Af.getAll(); i(u) } catch (u) { console.error("Failed to fetch investigations:", u) } finally { a(!1) } } A() }, []); const o = r.filter(A => A.title.toLowerCase().includes(e.toLowerCase()) || A.case_number.toLowerCase().includes(e.toLowerCase())); return g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Enqutes" }), g.jsxs(Vt, { onClick: () => n("/investigations/new"), children: [g.jsx(Ap, { className: "mr-2 h-4 w-4" }), " Nouveau dossier"] })] }), g.jsxs("div", { className: "flex items-center gap-2", children: [g.jsxs("div", { className: "relative flex-1 max-w-sm", children: [g.jsx(_u, { className: "absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Rechercher des dossiers...", className: "pl-9", value: e, onChange: A => t(A.target.value) })] }), g.jsx(Vt, { variant: "outline", size: "icon", children: g.jsx(eE, { className: "h-4 w-4" }) })] }), g.jsx("div", { className: "rounded-md border bg-card", children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "Numro de dossier" }), g.jsx(er, { children: "Titre" }), g.jsx(er, { children: "Agent principal" }), g.jsx(er, { children: "Classification" }), g.jsx(er, { children: "Statut" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: s ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 6, className: "text-center py-8", children: "Chargement des enqutes..." }) }) : o.length === 0 ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 6, className: "text-center py-8", children: "Aucune enqute trouve." }) }) : o.map(A => g.jsxs(Ii, { className: "cursor-pointer hover:bg-muted/50", onClick: () => n(`/investigations/${A.id}`), children: [g.jsx(wn, { className: "font-medium", children: A.case_number }), g.jsx(wn, { children: A.title }), g.jsx(wn, { children: A.lead_agent_id }), g.jsx(wn, { children: g.jsx(nl, { variant: "outline", children: A.classification }) }), g.jsx(wn, { children: g.jsx(nl, { variant: A.status === "Open" ? "default" : "secondary", children: A.status }) }), g.jsx(wn, { className: "text-right", children: g.jsx(Vt, { variant: "ghost", size: "sm", children: "Voir" }) })] }, A.id)) })] }) })] }) } function OF() { const { id: n } = $w(), e = bc(), { user: t } = Fu(), r = !n || n === "new", [i, s] = F.useState(""), [a, o] = F.useState(""), [A, u] = F.useState(""), [f, h] = F.useState("Restricted"), [m, p] = F.useState("Open"), [b, y] = F.useState(!r), [E, _] = F.useState([]), [O, I] = F.useState(!1), [D, z] = F.useState("report"), [X, q] = F.useState(""), [W, G] = F.useState(""), [fe, ne] = F.useState(""), [V, se] = F.useState(""), [M, pe] = F.useState([]); F.useEffect(() => { if (!r && n) { async function Ce() { try { const j = await Af.getById(n); s(j.title), o(j.case_number), u(j.description || ""), h(j.classification), p(j.status); const L = await Af.getLinks(n); _(L) } catch (j) { console.error("Failed to fetch investigation:", j) } finally { y(!1) } } Ce() } else r && o(`CASE-${new Date().getFullYear()}-${Math.floor(Math.random() * 1e3)}`) }, [n, r]), F.useEffect(() => { const j = setTimeout(async () => { if (V.length < 2) { pe([]); return } try { const L = await fE.search(V, D); pe(L) } catch (L) { console.error(L) } }, 300); return () => clearTimeout(j) }, [V, D]); const Z = async () => { try { const Ce = { title: i, case_number: a, description: A, classification: f, status: m, lead_agent_id: t?.id }; r ? await Af.create(Ce) : await Af.update(n, Ce), e("/investigations") } catch (Ce) { console.error("Failed to save investigation:", Ce) } }, ae = async () => { if (!n || r) { alert("Please save the investigation first."); return } if (!X || !W) { alert("Please select an item to link."); return } try { await Af.addLink(n, D, X, W, fe); const Ce = await Af.getLinks(n); _(Ce), I(!1), q(""), G(""), ne(""), se("") } catch (Ce) { console.error("Failed to add link:", Ce), alert("Failed to add link.") } }, me = async Ce => { try { await Af.removeLink(Ce), _(E.filter(j => j.id !== Ce)) } catch (j) { console.error("Failed to remove link:", j) } }, ke = Ce => { switch (Ce) { case "report": return g.jsx(Eu, { className: "h-4 w-4" }); case "arrest": return g.jsx(yd, { className: "h-4 w-4" }); case "civilian": return g.jsx(nE, { className: "h-4 w-4" }); case "vehicle": return g.jsx(k0, { className: "h-4 w-4" }); case "weapon": return g.jsx(kg, { className: "h-4 w-4" }); default: return g.jsx(U9, { className: "h-4 w-4" }) } }; return b ? g.jsx("div", { className: "p-8 text-center", children: "Loading case file..." }) : g.jsxs("div", { className: "space-y-6 max-w-4xl mx-auto", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { className: "flex items-center gap-4", children: [g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => e("/investigations"), children: g.jsx(ib, { className: "h-4 w-4" }) }), g.jsx("h1", { className: "text-2xl font-bold tracking-tight", children: r ? "New Investigation" : `Case ${a}` })] }), g.jsxs(Vt, { onClick: Z, children: [g.jsx(ab, { className: "mr-2 h-4 w-4" }), " Save Case"] })] }), g.jsxs("div", { className: "grid grid-cols-3 gap-6", children: [g.jsxs("div", { className: "col-span-2 space-y-6", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "title", children: "Case Title" }), g.jsx(xr, { id: "title", value: i, onChange: Ce => s(Ce.target.value), placeholder: "Operation Name or Case Title" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "description", children: "Description / Overview" }), g.jsx(Db, { id: "description", value: A, onChange: Ce => u(Ce.target.value), placeholder: "Brief summary of the investigation...", className: "h-32" })] }), !r && g.jsxs(bs, { children: [g.jsxs(Ua, { className: "flex flex-row items-center justify-between", children: [g.jsx(Oa, { className: "text-lg", children: "Evidence & Links" }), g.jsxs(Gc, { open: O, onOpenChange: I, children: [g.jsx(j1, { asChild: !0, children: g.jsxs(Vt, { size: "sm", variant: "outline", children: [g.jsx(Ap, { className: "h-4 w-4 mr-2" }), " Add Link"] }) }), g.jsxs(cc, { className: "max-w-md", children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: "Link Evidence" }), g.jsx(Yc, { children: "Search and link evidence items to this investigation." })] }), g.jsxs("div", { className: "space-y-4 py-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Type" }), g.jsxs(hc, { value: D, onValueChange: Ce => { z(Ce), se(""), pe([]) }, children: [g.jsx(jA, { children: g.jsx(pc, {}) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "report", children: "Report" }), g.jsx(Zn, { value: "arrest", children: "Arrest" }), g.jsx(Zn, { value: "civilian", children: "Civilian" }), g.jsx(Zn, { value: "vehicle", children: "Vehicle" }), g.jsx(Zn, { value: "weapon", children: "Weapon" })] })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Search Item" }), g.jsx("div", { className: "border rounded-md", children: g.jsxs(ev, { children: [g.jsx(tv, { placeholder: `Search ${D}s...`, value: V, onValueChange: se }), g.jsxs(nv, { children: [g.jsx(rv, { children: "No results found." }), g.jsx(iv, { children: M.map(Ce => g.jsx(sv, { onSelect: () => { q(Ce.id), G(Ce.title), se(Ce.title) }, children: g.jsxs("div", { className: "flex flex-col", children: [g.jsx("span", { children: Ce.title }), g.jsx("span", { className: "text-xs text-muted-foreground", children: Ce.summary })] }) }, Ce.id)) })] })] }) }), W && g.jsxs("p", { className: "text-xs text-green-500", children: ["Selected: ", W] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Notes" }), g.jsx(xr, { value: fe, onChange: Ce => ne(Ce.target.value), placeholder: "Relevance to case..." })] }), g.jsx(Vt, { onClick: ae, className: "w-full", disabled: !X, children: "Add Link" })] })] })] })] }), g.jsx(xs, { children: E.length === 0 ? g.jsx("p", { className: "text-sm text-muted-foreground text-center py-4", children: "No linked evidence." }) : g.jsx("div", { className: "space-y-2", children: E.map(Ce => g.jsxs("div", { className: "flex items-center justify-between p-3 border rounded-md bg-muted/50", children: [g.jsxs("div", { className: "flex items-center gap-3", children: [g.jsx("div", { className: "p-2 bg-background rounded-full border", children: ke(Ce.linked_item_type) }), g.jsxs("div", { children: [g.jsx("p", { className: "font-medium text-sm capitalize", children: Ce.linked_item_type }), g.jsx("p", { className: "text-sm font-semibold", children: Ce.linked_item_title || Ce.linked_item_id }), Ce.notes && g.jsxs("p", { className: "text-xs text-muted-foreground mt-1", children: ['"', Ce.notes, '"'] })] })] }), g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => me(Ce.id), children: g.jsx(tE, { className: "h-4 w-4 text-destructive" }) })] }, Ce.id)) }) })] })] }), g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "caseNumber", children: "Case Number" }), g.jsx(xr, { id: "caseNumber", value: a, onChange: Ce => o(Ce.target.value), placeholder: "CASE-YYYY-XXX", disabled: !r })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Classification" }), g.jsxs(hc, { value: f, onValueChange: h, children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Select classification" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "Unclassified", children: "Unclassified" }), g.jsx(Zn, { value: "Restricted", children: "Restricted" }), g.jsx(Zn, { value: "Confidential", children: "Confidential" }), g.jsx(Zn, { value: "Secret", children: "Secret" }), g.jsx(Zn, { value: "Top Secret", children: "Top Secret" })] })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Status" }), g.jsxs(hc, { value: m, onValueChange: p, children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Select status" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "Open", children: "Open" }), g.jsx(Zn, { value: "Closed", children: "Closed" }), g.jsx(Zn, { value: "Archived", children: "Archived" })] })] })] })] })] })] }) } function Mue() { const [n, e] = F.useState([]), [t, r] = F.useState(!0), [i, s] = F.useState(""), a = async () => { r(!0); try { const o = i ? await Xc.search(i) : await Xc.getAll(); e(o) } catch (o) { console.error("Error fetching civilians:", o) } finally { r(!1) } }; return F.useEffect(() => { const o = setTimeout(() => { a() }, 300); return () => clearTimeout(o) }, [i]), g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Base de donnes civile" }), g.jsx("p", { className: "text-muted-foreground", children: "Grer les dossiers et profils civils." })] }), g.jsx(Vt, { asChild: !0, children: g.jsxs(Ph, { to: "/civilians/new", children: [g.jsx(Z0, { className: "mr-2 h-4 w-4" }), " Nouveau civil"] }) })] }), g.jsx("div", { className: "flex items-center space-x-2", children: g.jsxs("div", { className: "relative flex-1 max-w-sm", children: [g.jsx(_u, { className: "absolute left-2 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Rechercher par nom...", value: i, onChange: o => s(o.target.value), className: "pl-8" })] }) }), g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Civils enregistrs" }) }), g.jsx(xs, { children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "Nom" }), g.jsx(er, { children: "Date de naissance" }), g.jsx(er, { children: "Genre" }), g.jsx(er, { children: "Signalements" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: t ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 5, className: "text-center py-4", children: "Chargement..." }) }) : n.length === 0 ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 5, className: "text-center py-4", children: "Aucun civil trouv." }) }) : n.map(o => g.jsxs(Ii, { children: [g.jsx(wn, { className: "font-medium", children: g.jsx(Ph, { to: `/civilians/${o.id}`, className: "hover:underline", children: o.full_name }) }), g.jsx(wn, { children: o.dob || "Inconnu" }), g.jsx(wn, { children: o.gender || "Inconnu" }), g.jsx(wn, { children: g.jsx("div", { className: "flex gap-1", children: o.flags && o.flags.map(A => g.jsx(nl, { variant: "destructive", className: "text-xs", children: A }, A)) }) }), g.jsx(wn, { className: "text-right", children: g.jsx(Vt, { variant: "ghost", size: "sm", asChild: !0, children: g.jsx(Ph, { to: `/civilians/${o.id}`, children: "Voir le dossier" }) }) })] }, o.id)) })] }) })] })] }) } const T5 = { async getAll() { const { data: n, error: e } = await jt.from("noose_vehicles").select("*, owner:noose_civilians(full_name)").order("created_at", { ascending: !1 }); if (e) throw e; return n }, async getByPlate(n) { const { data: e, error: t } = await jt.from("noose_vehicles").select("*, owner:noose_civilians(full_name)").eq("plate", n).single(); if (t) throw t; return e }, async getByOwnerId(n) { const { data: e, error: t } = await jt.from("noose_vehicles").select("*").eq("owner_id", n); if (t) throw t; return e }, async create(n) { const { data: e, error: t } = await jt.from("noose_vehicles").insert(n).select().single(); if (t) throw t; return e }, async updateStatus(n, e) { const { data: t, error: r } = await jt.from("noose_vehicles").update({ status: e }).eq("plate", n).select().single(); if (r) throw r; return t }, async search(n) { const { data: e, error: t } = await jt.from("noose_vehicles").select("*, owner:noose_civilians(full_name)").ilike("plate", `%${n}%`).limit(10); if (t) throw t; return e } }, F5 = { async getAll() { const { data: n, error: e } = await jt.from("noose_weapons").select("*, owner:noose_civilians(full_name)").order("created_at", { ascending: !1 }); if (e) throw e; return n }, async getBySerial(n) { const { data: e, error: t } = await jt.from("noose_weapons").select("*, owner:noose_civilians(full_name)").eq("serial_number", n).single(); if (t) throw t; return e }, async getByOwnerId(n) { const { data: e, error: t } = await jt.from("noose_weapons").select("*").eq("owner_id", n); if (t) throw t; return e }, async create(n) { const { data: e, error: t } = await jt.from("noose_weapons").insert(n).select().single(); if (t) throw t; return e }, async updateStatus(n, e) { const { data: t, error: r } = await jt.from("noose_weapons").update({ status: e }).eq("serial_number", n).select().single(); if (r) throw r; return t }, async search(n) { const { data: e, error: t } = await jt.from("noose_weapons").select("*, owner:noose_civilians(full_name)").ilike("serial_number", `%${n}%`).limit(10); if (t) throw t; return e } }; function Que(n) { const e = Due(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(Hue); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function Due(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = zue(i), o = jue(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var Pue = Symbol("radix.slottable"); function Hue(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === Pue } function jue(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function zue(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var Kue = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], AD = Kue.reduce((n, e) => { const t = Que(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), jB = "rovingFocusGroup.onEntryFocus", Vue = { bubbles: !1, cancelable: !0 }, pv = "RovingFocusGroup", [U5, cD, Gue] = eR(pv), [Wue, uD] = Dd(pv, [Gue]), [Yue, Jue] = Wue(pv), fD = F.forwardRef((n, e) => g.jsx(U5.Provider, { scope: n.__scopeRovingFocusGroup, children: g.jsx(U5.Slot, { scope: n.__scopeRovingFocusGroup, children: g.jsx(Xue, { ...n, ref: e }) }) })); fD.displayName = pv; var Xue = F.forwardRef((n, e) => { const { __scopeRovingFocusGroup: t, orientation: r, loop: i = !1, dir: s, currentTabStopId: a, defaultCurrentTabStopId: o, onCurrentTabStopIdChange: A, onEntryFocus: u, preventScrollOnEntryFocus: f = !1, ...h } = n, m = F.useRef(null), p = is(e, m), b = dE(s), [y, E] = Jh({ prop: a, defaultProp: o ?? null, onChange: A, caller: pv }), [_, O] = F.useState(!1), I = Nd(u), D = cD(t), z = F.useRef(!1), [X, q] = F.useState(0); return F.useEffect(() => { const W = m.current; if (W) return W.addEventListener(jB, I), () => W.removeEventListener(jB, I) }, [I]), g.jsx(Yue, { scope: t, orientation: r, dir: b, loop: i, currentTabStopId: y, onItemFocus: F.useCallback(W => E(W), [E]), onItemShiftTab: F.useCallback(() => O(!0), []), onFocusableItemAdd: F.useCallback(() => q(W => W + 1), []), onFocusableItemRemove: F.useCallback(() => q(W => W - 1), []), children: g.jsx(AD.div, { tabIndex: _ || X === 0 ? -1 : 0, "data-orientation": r, ...h, ref: p, style: { outline: "none", ...n.style }, onMouseDown: dr(n.onMouseDown, () => { z.current = !0 }), onFocus: dr(n.onFocus, W => { const G = !z.current; if (W.target === W.currentTarget && G && !_) { const fe = new CustomEvent(jB, Vue); if (W.currentTarget.dispatchEvent(fe), !fe.defaultPrevented) { const ne = D().filter(Z => Z.focusable), V = ne.find(Z => Z.active), se = ne.find(Z => Z.id === y), pe = [V, se, ...ne].filter(Boolean).map(Z => Z.ref.current); pD(pe, f) } } z.current = !1 }), onBlur: dr(n.onBlur, () => O(!1)) }) }) }), dD = "RovingFocusGroupItem", hD = F.forwardRef((n, e) => { const { __scopeRovingFocusGroup: t, focusable: r = !0, active: i = !1, tabStopId: s, children: a, ...o } = n, A = Hl(), u = s || A, f = Jue(dD, t), h = f.currentTabStopId === u, m = cD(t), { onFocusableItemAdd: p, onFocusableItemRemove: b, currentTabStopId: y } = f; return F.useEffect(() => { if (r) return p(), () => b() }, [r, p, b]), g.jsx(U5.ItemSlot, { scope: t, id: u, focusable: r, active: i, children: g.jsx(AD.span, { tabIndex: h ? 0 : -1, "data-orientation": f.orientation, ...o, ref: e, onMouseDown: dr(n.onMouseDown, E => { r ? f.onItemFocus(u) : E.preventDefault() }), onFocus: dr(n.onFocus, () => f.onItemFocus(u)), onKeyDown: dr(n.onKeyDown, E => { if (E.key === "Tab" && E.shiftKey) { f.onItemShiftTab(); return } if (E.target !== E.currentTarget) return; const _ = $ue(E, f.orientation, f.dir); if (_ !== void 0) { if (E.metaKey || E.ctrlKey || E.altKey || E.shiftKey) return; E.preventDefault(); let I = m().filter(D => D.focusable).map(D => D.ref.current); if (_ === "last") I.reverse(); else if (_ === "prev" || _ === "next") { _ === "prev" && I.reverse(); const D = I.indexOf(E.currentTarget); I = f.loop ? efe(I, D + 1) : I.slice(D + 1) } setTimeout(() => pD(I)) } }), children: typeof a == "function" ? a({ isCurrentTabStop: h, hasTabStop: y != null }) : a }) }) }); hD.displayName = dD; var Zue = { ArrowLeft: "prev", ArrowUp: "prev", ArrowRight: "next", ArrowDown: "next", PageUp: "first", Home: "first", PageDown: "last", End: "last" }; function que(n, e) { return e !== "rtl" ? n : n === "ArrowLeft" ? "ArrowRight" : n === "ArrowRight" ? "ArrowLeft" : n } function $ue(n, e, t) { const r = que(n.key, t); if (!(e === "vertical" && ["ArrowLeft", "ArrowRight"].includes(r)) && !(e === "horizontal" && ["ArrowUp", "ArrowDown"].includes(r))) return Zue[r] } function pD(n, e = !1) { const t = document.activeElement; for (const r of n) if (r === t || (r.focus({ preventScroll: e }), document.activeElement !== t)) return } function efe(n, e) { return n.map((t, r) => n[(e + r) % n.length]) } var tfe = fD, nfe = hD; function rfe(n) { const e = ife(n), t = F.forwardRef((r, i) => { const { children: s, ...a } = r, o = F.Children.toArray(s), A = o.find(afe); if (A) { const u = A.props.children, f = o.map(h => h === A ? F.Children.count(u) > 1 ? F.Children.only(null) : F.isValidElement(u) ? u.props.children : null : h); return g.jsx(e, { ...a, ref: i, children: F.isValidElement(u) ? F.cloneElement(u, void 0, f) : null }) } return g.jsx(e, { ...a, ref: i, children: s }) }); return t.displayName = `${n}.Slot`, t } function ife(n) { const e = F.forwardRef((t, r) => { const { children: i, ...s } = t; if (F.isValidElement(i)) { const a = lfe(i), o = ofe(s, i.props); return i.type !== F.Fragment && (o.ref = r ? Ia(r, a) : a), F.cloneElement(i, o) } return F.Children.count(i) > 1 ? F.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var sfe = Symbol("radix.slottable"); function afe(n) { return F.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === sfe } function ofe(n, e) { const t = { ...e }; for (const r in e) { const i = n[r], s = e[r]; /^on[A-Z]/.test(r) ? i && s ? t[r] = (...o) => { const A = s(...o); return i(...o), A } : i && (t[r] = i) : r === "style" ? t[r] = { ...i, ...s } : r === "className" && (t[r] = [i, s].filter(Boolean).join(" ")) } return { ...n, ...t } } function lfe(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var Afe = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], qb = Afe.reduce((n, e) => { const t = rfe(`Primitive.${e}`), r = F.forwardRef((i, s) => { const { asChild: a, ...o } = i, A = a ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), g.jsx(A, { ...o, ref: s }) }); return r.displayName = `Primitive.${e}`, { ...n, [e]: r } }, {}), $b = "Tabs", [cfe] = Dd($b, [uD]), gD = uD(), [ufe, US] = cfe($b), mD = F.forwardRef((n, e) => { const { __scopeTabs: t, value: r, onValueChange: i, defaultValue: s, orientation: a = "horizontal", dir: o, activationMode: A = "automatic", ...u } = n, f = dE(o), [h, m] = Jh({ prop: r, onChange: i, defaultProp: s ?? "", caller: $b }); return g.jsx(ufe, { scope: t, baseId: Hl(), value: h, onValueChange: m, orientation: a, dir: f, activationMode: A, children: g.jsx(qb.div, { dir: f, "data-orientation": a, ...u, ref: e }) }) }); mD.displayName = $b; var vD = "TabsList", yD = F.forwardRef((n, e) => { const { __scopeTabs: t, loop: r = !0, ...i } = n, s = US(vD, t), a = gD(t); return g.jsx(tfe, { asChild: !0, ...a, orientation: s.orientation, dir: s.dir, loop: r, children: g.jsx(qb.div, { role: "tablist", "aria-orientation": s.orientation, ...i, ref: e }) }) }); yD.displayName = vD; var wD = "TabsTrigger", bD = F.forwardRef((n, e) => { const { __scopeTabs: t, value: r, disabled: i = !1, ...s } = n, a = US(wD, t), o = gD(t), A = CD(a.baseId, r), u = ED(a.baseId, r), f = r === a.value; return g.jsx(nfe, { asChild: !0, ...o, focusable: !i, active: f, children: g.jsx(qb.button, { type: "button", role: "tab", "aria-selected": f, "aria-controls": u, "data-state": f ? "active" : "inactive", "data-disabled": i ? "" : void 0, disabled: i, id: A, ...s, ref: e, onMouseDown: dr(n.onMouseDown, h => { !i && h.button === 0 && h.ctrlKey === !1 ? a.onValueChange(r) : h.preventDefault() }), onKeyDown: dr(n.onKeyDown, h => { [" ", "Enter"].includes(h.key) && a.onValueChange(r) }), onFocus: dr(n.onFocus, () => { const h = a.activationMode !== "manual"; !f && !i && h && a.onValueChange(r) }) }) }) }); bD.displayName = wD; var xD = "TabsContent", BD = F.forwardRef((n, e) => { const { __scopeTabs: t, value: r, forceMount: i, children: s, ...a } = n, o = US(xD, t), A = CD(o.baseId, r), u = ED(o.baseId, r), f = r === o.value, h = F.useRef(f); return F.useEffect(() => { const m = requestAnimationFrame(() => h.current = !1); return () => cancelAnimationFrame(m) }, []), g.jsx(Pd, { present: i || f, children: ({ present: m }) => g.jsx(qb.div, { "data-state": f ? "active" : "inactive", "data-orientation": o.orientation, role: "tabpanel", "aria-labelledby": A, hidden: !m, id: u, tabIndex: 0, ...a, ref: e, style: { ...n.style, animationDuration: h.current ? "0s" : void 0 }, children: m && s }) }) }); BD.displayName = xD; function CD(n, e) { return `${n}-trigger-${e}` } function ED(n, e) { return `${n}-content-${e}` } var ffe = mD, SD = yD, _D = bD, ND = BD; const dfe = ffe, kD = F.forwardRef(({ className: n, ...e }, t) => g.jsx(SD, { ref: t, className: Dn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground", n), ...e })); kD.displayName = SD.displayName; const F1 = F.forwardRef(({ className: n, ...e }, t) => g.jsx(_D, { ref: t, className: Dn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm", n), ...e })); F1.displayName = _D.displayName; const U1 = F.forwardRef(({ className: n, ...e }, t) => g.jsx(ND, { ref: t, className: Dn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", n), ...e })); U1.displayName = ND.displayName; function hfe() {
    const { id: n } = $w(), e = bc(), t = n === "new", [r, i] = F.useState({}), [s, a] = F.useState([]), [o, A] = F.useState([]), [u, f] = F.useState([]), [h, m] = F.useState(!t), [p, b] = F.useState(t), [y, E] = F.useState(!1), [_, O] = F.useState({ arrests: !0, investigations: !0, vehicles: !0 }), I = F.useRef(null), D = () => { E(!1), setTimeout(() => { window.print() }, 300) }, [z, X] = F.useState({}); F.useEffect(() => { if (t) { X({ full_name: "", dob: "", gender: "", race: "", hair_color: "", eye_color: "", height: "", weight: "", pob: "", address: "", mugshot_url: "" }); return } async function W() { try { const [G, fe, ne, V] = await Promise.all([Xc.getById(n), xg.getByCivilianId(n), T5.getByOwnerId(n), F5.getByOwnerId(n)]); i(G), X(G), a(fe), A(ne), f(V) } catch (G) { console.error("Failed to fetch civilian data:", G) } finally { m(!1) } } W() }, [n, t]); const q = async () => { try { t ? (await Xc.create(z), e("/civilians")) : (await Xc.update(n, z), i(z), b(!1)) } catch (W) { console.error("Failed to save civilian:", W) } }; return h ? g.jsx("div", { className: "p-8 text-center", children: "Loading dossier..." }) : !t && !r.id ? g.jsx("div", { className: "p-8 text-center", children: "Civilian not found." }) : g.jsxs("div", {
      className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { className: "flex items-center gap-4", children: [g.jsx(Vt, { variant: "ghost", size: "icon", onClick: () => e("/civilians"), children: g.jsx(ib, { className: "h-4 w-4" }) }), g.jsxs("div", { children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: t ? "New Civilian" : z.full_name }), g.jsx("p", { className: "text-muted-foreground", children: "Civilian Dossier" })] })] }), g.jsx("div", { className: "flex gap-2", children: p ? g.jsxs(g.Fragment, { children: [g.jsxs(Vt, { variant: "ghost", onClick: () => !t && b(!1), children: [g.jsx(rE, { className: "mr-2 h-4 w-4" }), " Cancel"] }), g.jsxs(Vt, { onClick: q, children: [g.jsx(ab, { className: "mr-2 h-4 w-4" }), " Save Record"] })] }) : g.jsxs(g.Fragment, { children: [g.jsxs(Vt, { variant: "outline", onClick: () => E(!0), children: [g.jsx(K9, { className: "mr-2 h-4 w-4" }), " Export PDF"] }), g.jsxs(Vt, { onClick: () => b(!0), children: [g.jsx(H9, { className: "mr-2 h-4 w-4" }), " Edit Dossier"] })] }) })] }), g.jsxs("div", { className: "print:hidden grid grid-cols-1 md:grid-cols-4 gap-6", children: [g.jsx(bs, { className: "md:col-span-1", children: g.jsxs(xs, { className: "pt-6 flex flex-col items-center text-center space-y-4", children: [g.jsx("div", { className: "h-40 w-40 rounded-full bg-muted flex items-center justify-center overflow-hidden border-4 border-background shadow-sm", children: z.mugshot_url ? g.jsx("img", { src: z.mugshot_url, alt: "Mugshot", className: "h-full w-full object-cover" }) : g.jsx(nE, { className: "h-20 w-20 text-muted-foreground" }) }), p && g.jsx(xr, { placeholder: "Mugshot URL", value: z.mugshot_url || "", onChange: W => X({ ...z, mugshot_url: W.target.value }) }), g.jsxs("div", { children: [g.jsx("h3", { className: "font-semibold text-lg", children: z.full_name }), g.jsxs("p", { className: "text-sm text-muted-foreground", children: ["DOB: ", z.dob || "Unknown"] })] }), g.jsxs("div", { className: "w-full pt-4 border-t space-y-3 text-left text-sm", children: [g.jsxs("div", { className: "space-y-1", children: [g.jsx(Cn, { className: "text-xs text-muted-foreground", children: "Full Name" }), p ? g.jsx(xr, { value: z.full_name || "", onChange: W => X({ ...z, full_name: W.target.value }) }) : g.jsx("p", { children: z.full_name })] }), g.jsxs("div", { className: "space-y-1", children: [g.jsx(Cn, { className: "text-xs text-muted-foreground", children: "Date of Birth" }), p ? g.jsx(xr, { value: z.dob || "", onChange: W => X({ ...z, dob: W.target.value }), placeholder: "YYYY-MM-DD" }) : g.jsx("p", { children: z.dob || "N/A" })] }), g.jsxs("div", { className: "space-y-1", children: [g.jsx(Cn, { className: "text-xs text-muted-foreground", children: "Gender" }), p ? g.jsx(xr, { value: z.gender || "", onChange: W => X({ ...z, gender: W.target.value }) }) : g.jsx("p", { children: z.gender || "N/A" })] }), g.jsxs("div", { className: "space-y-1", children: [g.jsx(Cn, { className: "text-xs text-muted-foreground", children: "Race" }), p ? g.jsx(xr, { value: z.race || "", onChange: W => X({ ...z, race: W.target.value }) }) : g.jsx("p", { children: z.race || "N/A" })] })] })] }) }), g.jsx("div", { className: "md:col-span-3", children: g.jsxs(dfe, { defaultValue: "info", className: "w-full", children: [g.jsxs(kD, { className: "grid w-full grid-cols-3", children: [g.jsx(F1, { value: "info", children: "Personal Info" }), g.jsx(F1, { value: "history", children: "History & Records" }), g.jsx(F1, { value: "assets", children: "Assets" })] }), g.jsxs(U1, { value: "info", className: "space-y-4 mt-4", children: [g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Physical Description & Origin" }) }), g.jsx(xs, { children: g.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Hair Color" }), p ? g.jsx(xr, { value: z.hair_color || "", onChange: W => X({ ...z, hair_color: W.target.value }) }) : g.jsx("p", { className: "p-2 bg-muted/50 rounded", children: z.hair_color || "N/A" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Eye Color" }), p ? g.jsx(xr, { value: z.eye_color || "", onChange: W => X({ ...z, eye_color: W.target.value }) }) : g.jsx("p", { className: "p-2 bg-muted/50 rounded", children: z.eye_color || "N/A" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Height" }), p ? g.jsx(xr, { value: z.height || "", onChange: W => X({ ...z, height: W.target.value }), placeholder: "e.g. 6'1" }) : g.jsx("p", { className: "p-2 bg-muted/50 rounded", children: z.height || "N/A" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Weight" }), p ? g.jsx(xr, { value: z.weight || "", onChange: W => X({ ...z, weight: W.target.value }), placeholder: "e.g. 180 lbs" }) : g.jsx("p", { className: "p-2 bg-muted/50 rounded", children: z.weight || "N/A" })] }), g.jsxs("div", { className: "col-span-2 space-y-2", children: [g.jsx(Cn, { children: "Place of Birth" }), p ? g.jsx(xr, { value: z.pob || "", onChange: W => X({ ...z, pob: W.target.value }) }) : g.jsx("p", { className: "p-2 bg-muted/50 rounded", children: z.pob || "N/A" })] })] }) })] }), g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Contact & Address" }) }), g.jsx(xs, { children: g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { children: "Address" }), p ? g.jsx(xr, { value: z.address || "", onChange: W => X({ ...z, address: W.target.value }) }) : g.jsx("p", { className: "p-2 bg-muted/50 rounded", children: z.address || "No fixed address" })] }) })] })] }), g.jsx(U1, { value: "history", className: "space-y-4 mt-4", children: g.jsxs(bs, { children: [g.jsxs(Ua, { children: [g.jsx(Oa, { children: "Arrest Record" }), g.jsx(q5, { children: "Criminal history and charges." })] }), g.jsx(xs, { children: s.length === 0 ? g.jsx("p", { className: "text-sm text-muted-foreground", children: "No arrest records found." }) : g.jsx("div", { className: "space-y-4", children: s.map(W => g.jsxs("div", { className: "flex items-start justify-between border-b pb-4 last:border-0 last:pb-0", children: [g.jsxs("div", { children: [g.jsx("h4", { className: "font-semibold flex items-center gap-2", children: W.charges.join(", ") }), g.jsxs("p", { className: "text-sm text-muted-foreground", children: [new Date(W.date_of_arrest).toLocaleDateString(), "  Officer: ", W.officer?.username || "Unknown"] })] }), g.jsx(nl, { variant: W.status === "Released" ? "outline" : "destructive", children: W.status })] }, W.id)) }) })] }) }), g.jsxs(U1, { value: "assets", className: "space-y-4 mt-4", children: [g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Registered Vehicles" }) }), g.jsx(xs, { children: o.length === 0 ? g.jsxs("div", { className: "flex flex-col items-center justify-center py-8 text-muted-foreground", children: [g.jsx(k0, { className: "h-10 w-10 mb-2 opacity-20" }), g.jsx("p", { children: "No vehicles registered." })] }) : g.jsx("div", { className: "space-y-4", children: o.map(W => g.jsxs("div", { className: "flex items-center justify-between border-b pb-4 last:border-0 last:pb-0", children: [g.jsxs("div", { className: "flex items-center gap-4", children: [g.jsx("div", { className: "h-10 w-10 rounded bg-muted flex items-center justify-center", children: g.jsx(k0, { className: "h-5 w-5 text-muted-foreground" }) }), g.jsxs("div", { children: [g.jsx("h4", { className: "font-semibold font-mono", children: W.plate }), g.jsxs("p", { className: "text-sm text-muted-foreground", children: [W.color, " ", W.model] })] })] }), g.jsx(nl, { variant: W.status === "Valid" ? "default" : "destructive", children: W.status })] }, W.plate)) }) })] }), g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Registered Weapons" }) }), g.jsx(xs, { children: u.length === 0 ? g.jsxs("div", { className: "flex flex-col items-center justify-center py-8 text-muted-foreground", children: [g.jsx(kg, { className: "h-10 w-10 mb-2 opacity-20" }), g.jsx("p", { children: "No weapons registered." })] }) : g.jsx("div", { className: "space-y-4", children: u.map(W => g.jsxs("div", { className: "flex items-center justify-between border-b pb-4 last:border-0 last:pb-0", children: [g.jsxs("div", { className: "flex items-center gap-4", children: [g.jsx("div", { className: "h-10 w-10 rounded bg-muted flex items-center justify-center", children: g.jsx(kg, { className: "h-5 w-5 text-muted-foreground" }) }), g.jsxs("div", { children: [g.jsx("h4", { className: "font-semibold font-mono", children: W.serial_number }), g.jsxs("p", { className: "text-sm text-muted-foreground", children: [W.type, " ", W.model] })] })] }), g.jsx(nl, { variant: W.status === "Valid" ? "default" : "destructive", children: W.status })] }, W.serial_number)) }) })] })] })] }) })] }), g.jsx(Gc, { open: y, onOpenChange: E, children: g.jsxs(cc, { children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: "Export Options" }), g.jsx(Yc, { children: "Select the information you want to include in the PDF dossier." })] }), g.jsxs("div", { className: "grid gap-4 py-4", children: [g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "inc-arrests", checked: _.arrests, onCheckedChange: W => O(G => ({ ...G, arrests: !!W })) }), g.jsx(Cn, { htmlFor: "inc-arrests", children: "Include Arrest History" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "inc-inv", checked: _.investigations, onCheckedChange: W => O(G => ({ ...G, investigations: !!W })) }), g.jsx(Cn, { htmlFor: "inc-inv", children: "Include Investigations" })] }), g.jsxs("div", { className: "flex items-center space-x-2", children: [g.jsx(Kc, { id: "inc-veh", checked: _.vehicles, onCheckedChange: W => O(G => ({ ...G, vehicles: !!W })) }), g.jsx(Cn, { htmlFor: "inc-veh", children: "Include Vehicles & Weapons" })] })] }), g.jsxs($O, { children: [g.jsx(Vt, { variant: "outline", onClick: () => E(!1), children: "Cancel" }), g.jsx(Vt, { onClick: D, children: "Generate PDF" })] })] }) }), g.jsx("style", {
        children: `
                    @media print {
                        body * {
                            visibility: hidden;
                        }
                        #suspect-pdf-root, #suspect-pdf-root * {
                            visibility: visible;
                        }
                        #suspect-pdf-root {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                            height: auto;
                            z-index: 9999;
                            background: white;
                        }
                        /* Hide the main scrollbar to prevent extra pages */
                        html, body {
                            height: 100vh;
                            overflow: hidden;
                            background: white;
                        }
                    }
                `}), g.jsx("div", { id: "suspect-pdf-root", className: "hidden print:block fixed top-0 left-0 w-full min-h-screen bg-white", children: g.jsx(FS, { ref: I, suspect: r, arrests: s, includeArrests: _.arrests, includeInvestigations: _.investigations, includeVehicles: _.vehicles }) })]
    })
  } function pfe() { const [n, e] = F.useState([]), [t, r] = F.useState(!0), [i, s] = F.useState(""), a = async () => { r(!0); try { const o = i ? await T5.search(i) : await T5.getAll(); e(o) } catch (o) { console.error("Error fetching vehicles:", o) } finally { r(!1) } }; return F.useEffect(() => { const o = setTimeout(() => { a() }, 300); return () => clearTimeout(o) }, [i]), g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Registre des vhicules" }), g.jsx("p", { className: "text-muted-foreground", children: "Grer les vhicules enregistrs et leur statut." })] }), g.jsxs(Vt, { children: [g.jsx(Ap, { className: "mr-2 h-4 w-4" }), " Enregistrer un vhicule"] })] }), g.jsx("div", { className: "flex items-center space-x-2", children: g.jsxs("div", { className: "relative flex-1 max-w-sm", children: [g.jsx(_u, { className: "absolute left-2 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Rechercher par plaque...", value: i, onChange: o => s(o.target.value), className: "pl-8" })] }) }), g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Vhicules enregistrs" }) }), g.jsx(xs, { children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "Plaque" }), g.jsx(er, { children: "Modle" }), g.jsx(er, { children: "Couleur" }), g.jsx(er, { children: "Propritaire" }), g.jsx(er, { children: "Statut" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: t ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 6, className: "text-center py-4", children: "Chargement..." }) }) : n.length === 0 ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 6, className: "text-center py-4", children: "Aucun vhicule trouv." }) }) : n.map(o => g.jsxs(Ii, { children: [g.jsx(wn, { className: "font-mono font-bold", children: o.plate }), g.jsx(wn, { children: o.model }), g.jsx(wn, { children: o.color }), g.jsx(wn, { children: o.owner ? g.jsx(Ph, { to: `/civilians/${o.owner_id}`, className: "hover:underline", children: o.owner.full_name }) : g.jsx("span", { className: "text-muted-foreground", children: "Inconnu" }) }), g.jsx(wn, { children: g.jsx(nl, { variant: o.status === "Valid" ? "default" : "destructive", children: o.status }) }), g.jsx(wn, { className: "text-right", children: g.jsx(Vt, { variant: "ghost", size: "sm", children: "Modifier" }) })] }, o.plate)) })] }) })] })] }) } function gfe() { const [n, e] = F.useState([]), [t, r] = F.useState(!0), [i, s] = F.useState(""), a = async () => { r(!0); try { const o = i ? await F5.search(i) : await F5.getAll(); e(o) } catch (o) { console.error("Error fetching weapons:", o) } finally { r(!1) } }; return F.useEffect(() => { const o = setTimeout(() => { a() }, 300); return () => clearTimeout(o) }, [i]), g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("div", { children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Registre des armes" }), g.jsx("p", { className: "text-muted-foreground", children: "Grer les armes enregistres et leur statut." })] }), g.jsxs(Vt, { children: [g.jsx(Ap, { className: "mr-2 h-4 w-4" }), " Enregistrer une arme"] })] }), g.jsx("div", { className: "flex items-center space-x-2", children: g.jsxs("div", { className: "relative flex-1 max-w-sm", children: [g.jsx(_u, { className: "absolute left-2 top-2.5 h-4 w-4 text-muted-foreground" }), g.jsx(xr, { placeholder: "Rechercher par numro de srie...", value: i, onChange: o => s(o.target.value), className: "pl-8" })] }) }), g.jsxs(bs, { children: [g.jsx(Ua, { children: g.jsx(Oa, { children: "Armes enregistres" }) }), g.jsx(xs, { children: g.jsxs(Hd, { children: [g.jsx(jd, { children: g.jsxs(Ii, { children: [g.jsx(er, { children: "Numro de srie" }), g.jsx(er, { children: "Modle" }), g.jsx(er, { children: "Type" }), g.jsx(er, { children: "Propritaire" }), g.jsx(er, { children: "Statut" }), g.jsx(er, { className: "text-right", children: "Actions" })] }) }), g.jsx(zd, { children: t ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 6, className: "text-center py-4", children: "Chargement..." }) }) : n.length === 0 ? g.jsx(Ii, { children: g.jsx(wn, { colSpan: 6, className: "text-center py-4", children: "Aucune arme trouve." }) }) : n.map(o => g.jsxs(Ii, { children: [g.jsx(wn, { className: "font-mono font-bold", children: o.serial_number }), g.jsx(wn, { children: o.model }), g.jsx(wn, { children: o.type }), g.jsx(wn, { children: o.owner ? g.jsx(Ph, { to: `/civilians/${o.owner_id}`, className: "hover:underline", children: o.owner.full_name }) : g.jsx("span", { className: "text-muted-foreground", children: "Inconnu" }) }), g.jsx(wn, { children: g.jsx(nl, { variant: o.status === "Valid" ? "default" : "destructive", children: o.status }) }), g.jsx(wn, { className: "text-right", children: g.jsx(Vt, { variant: "ghost", size: "sm", children: "Modifier" }) })] }, o.serial_number)) })] }) })] })] }) } function mfe() { const { user: n } = Fu(), [e, t] = F.useState([]), [r, i] = F.useState(null), [s, a] = F.useState(!0), [o, A] = F.useState(!1), [u, f] = F.useState(!1), [h, m] = F.useState(!1), [p, b] = F.useState(""), [y, E] = F.useState(""), [_, O] = F.useState(""), [I, D] = F.useState([]), [z, X] = F.useState(""); F.useEffect(() => { q(), W() }, []); const q = async () => { a(!0); try { const M = n?.permissions.includes("admin.access"), pe = await of.getAll(M ? void 0 : n?.division); t(pe) } catch (M) { console.error("Failed to load teams:", M) } finally { a(!1) } }, W = async () => { try { const { data: M, error: pe } = await jt.from("noose_user").select("id, username, rank, division").order("username"); if (pe) throw pe; D(M || []) } catch (M) { console.error("Failed to load users:", M) } }, G = async () => { if (!p || !y) { alert("Veuillez remplir le nom de l'quipe et la division"); return } try { await of.create({ name: p, division: y, description: _, created_by: n?.id }), A(!1), b(""), E(""), O(""), q() } catch (M) { console.error("Failed to create team:", M), alert("chec de la cration de l'quipe") } }, fe = async M => { try { const pe = await of.getById(M); i(pe), f(!0) } catch (pe) { console.error("Failed to load team details:", pe) } }, ne = async M => { if (confirm("tes-vous sr de vouloir supprimer cette quipe ?")) try { await of.delete(M), q(), f(!1) } catch (pe) { console.error("Failed to delete team:", pe), alert("chec de la suppression de l'quipe") } }, V = async () => { if (!(!r || !z)) try { await of.addMember(r.id, z); const M = await of.getById(r.id); i(M), m(!1), X("") } catch (M) { console.error("Failed to add member:", M), alert("chec de l'ajout du membre") } }, se = async M => { if (r && confirm("Retirer ce membre de l'quipe ?")) try { await of.removeMember(r.id, M); const pe = await of.getById(r.id); i(pe) } catch (pe) { console.error("Failed to remove member:", pe), alert("chec du retrait du membre") } }; return s ? g.jsx("div", { className: "p-8 text-center", children: "Chargement des quipes..." }) : g.jsxs("div", { className: "space-y-6", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "quipes & Divisions" }), g.jsxs(Gc, { open: o, onOpenChange: A, children: [g.jsx(j1, { asChild: !0, children: g.jsxs(Vt, { children: [g.jsx(Ap, { className: "mr-2 h-4 w-4" }), " Crer une quipe"] }) }), g.jsxs(cc, { children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: "Crer une nouvelle quipe" }), g.jsx(Yc, { children: "Crez une quipe au sein de votre division pour collaborer sur des dossiers." })] }), g.jsxs("div", { className: "space-y-4 py-4", children: [g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "teamName", children: "Nom de l'quipe" }), g.jsx(xr, { id: "teamName", value: p, onChange: M => b(M.target.value), placeholder: "ex: Unit Homicides" })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "division", children: "Division" }), g.jsxs(hc, { value: y, onValueChange: E, children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Slectionnez une division" }) }), g.jsxs(zA, { children: [g.jsx(Zn, { value: "Investigation", children: "Investigation" }), g.jsx(Zn, { value: "Patrol", children: "Patrol" }), g.jsx(Zn, { value: "Tactical", children: "Tactical" }), g.jsx(Zn, { value: "Intelligence", children: "Intelligence" }), g.jsx(Zn, { value: "Cybersecurity", children: "Cybersecurity" }), g.jsx(Zn, { value: "General", children: "General" })] })] })] }), g.jsxs("div", { className: "space-y-2", children: [g.jsx(Cn, { htmlFor: "description", children: "Description (Optionnel)" }), g.jsx(Db, { id: "description", value: _, onChange: M => O(M.target.value), placeholder: "Brve description de l'objectif de l'quipe...", className: "h-20" })] }), g.jsx(Vt, { onClick: G, className: "w-full", children: "Crer l'quipe" })] })] })] })] }), g.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: e.length === 0 ? g.jsx(bs, { className: "col-span-full", children: g.jsxs(xs, { className: "p-8 text-center text-muted-foreground", children: [g.jsx(yd, { className: "h-12 w-12 mx-auto mb-4 opacity-50" }), g.jsx("p", { children: "Aucune quipe trouve. Crez votre premire quipe pour commencer." })] }) }) : e.map(M => g.jsxs(bs, { className: "cursor-pointer hover:shadow-lg transition-shadow", onClick: () => fe(M.id), children: [g.jsx(Ua, { children: g.jsxs(Oa, { className: "flex items-center justify-between", children: [g.jsx("span", { children: M.name }), g.jsx(YC, { team: M })] }) }), g.jsx(xs, { children: g.jsx("p", { className: "text-sm text-muted-foreground line-clamp-2", children: M.description || "Aucune description" }) })] }, M.id)) }), g.jsx(Gc, { open: u, onOpenChange: f, children: g.jsxs(cc, { className: "max-w-2xl", children: [g.jsxs(Wc, { children: [g.jsxs(uc, { className: "flex items-center justify-between", children: [g.jsx("span", { children: r?.name }), g.jsx(YC, { team: r })] }), g.jsx(Yc, { children: r?.description || "Aucune description" })] }), g.jsxs("div", { className: "space-y-4", children: [g.jsxs("div", { className: "flex items-center justify-between", children: [g.jsxs("h3", { className: "font-semibold", children: ["Membres (", r?.member_count || 0, ")"] }), g.jsxs(Gc, { open: h, onOpenChange: m, children: [g.jsx(j1, { asChild: !0, children: g.jsxs(Vt, { size: "sm", variant: "outline", children: [g.jsx(Z0, { className: "h-4 w-4 mr-2" }), " Ajouter un membre"] }) }), g.jsxs(cc, { children: [g.jsxs(Wc, { children: [g.jsx(uc, { children: "Ajouter un membre  l'quipe" }), g.jsx(Yc, { children: "Slectionnez un utilisateur  ajouter  cette quipe." })] }), g.jsxs("div", { className: "space-y-4 py-4", children: [g.jsxs(hc, { value: z, onValueChange: X, children: [g.jsx(jA, { children: g.jsx(pc, { placeholder: "Slectionnez un utilisateur" }) }), g.jsx(zA, { children: I.map(M => g.jsxs(Zn, { value: M.id, children: [M.username, " - ", M.rank, " (", M.division, ")"] }, M.id)) })] }), g.jsx(Vt, { onClick: V, className: "w-full", children: "Ajouter un membre" })] })] })] })] }), g.jsx("div", { className: "space-y-2 max-h-60 overflow-y-auto", children: r?.members.map(M => g.jsxs("div", { className: "flex items-center justify-between p-3 border rounded-md", children: [g.jsxs("div", { children: [g.jsx("p", { className: "font-medium", children: M.user?.username }), g.jsxs("p", { className: "text-sm text-muted-foreground", children: [M.user?.rank, "  ", M.user?.division] })] }), g.jsx(Vt, { size: "icon", variant: "ghost", onClick: () => se(M.user_id), children: g.jsx(iK, { className: "h-4 w-4 text-destructive" }) })] }, M.id)) }), g.jsxs("div", { className: "flex gap-2 pt-4 border-t", children: [g.jsxs(Vt, { variant: "destructive", onClick: () => ne(r.id), className: "flex-1", children: [g.jsx(tE, { className: "h-4 w-4 mr-2" }), " Supprimer l'quipe"] }), g.jsx(Vt, { variant: "outline", onClick: () => f(!1), className: "flex-1", children: "Fermer" })] })] })] }) })] }) } function vfe() { return F.useEffect(() => { document.documentElement.classList.add("dark") }, []), g.jsx(tH, { children: g.jsxs(UP, { children: [g.jsx(ua, { path: "/login", element: g.jsx(Kz, {}) }), g.jsx(ua, { element: g.jsx(Vz, {}), children: g.jsxs(ua, { element: g.jsx(LG, {}), children: [g.jsx(ua, { path: "/", element: g.jsx(HG, {}) }), g.jsx(ua, { path: "/reports", element: g.jsx(VG, {}) }), g.jsx(ua, { path: "/reports/new", element: g.jsx(d3, {}) }), g.jsx(ua, { path: "/reports/:id", element: g.jsx(d3, {}) }), g.jsx(ua, { path: "/arrests", element: g.jsx(cre, {}) }), g.jsx(ua, { path: "/arrests/new", element: g.jsx(FF, {}) }), g.jsx(ua, { path: "/arrests/:id", element: g.jsx(FF, {}) }), g.jsx(ua, { path: "/investigations", element: g.jsx(Lue, {}) }), g.jsx(ua, { path: "/investigations/new", element: g.jsx(OF, {}) }), g.jsx(ua, { path: "/investigations/:id", element: g.jsx(OF, {}) }), g.jsx(ua, { path: "/admin", element: g.jsx(Iue, {}) }), g.jsx(ua, { path: "/civilians", element: g.jsx(Mue, {}) }), g.jsx(ua, { path: "/civilians/:id", element: g.jsx(hfe, {}) }), g.jsx(ua, { path: "/vehicles", element: g.jsx(pfe, {}) }), g.jsx(ua, { path: "/weapons", element: g.jsx(gfe, {}) }), g.jsx(ua, { path: "/teams", element: g.jsx(mfe, {}) })] }) }), g.jsx(ua, { path: "*", element: g.jsx(KF, { to: "/", replace: !0 }) })] }) }) } D8.createRoot(document.getElementById("root")).render(g.jsx(F.StrictMode, { children: g.jsx(vfe, {}) })); export { Ei as _, ty as c, Pg as g };
