function ok(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function dh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function V2(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var sg={exports:{}},Xl={};var t1;function q2(){if(t1)return Xl;t1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var n1;function F2(){return n1||(n1=1,sg.exports=q2()),sg.exports}var x=F2(),og={exports:{}},_e={};var r1;function K2(){if(r1)return _e;r1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function T(D,j,K){this.props=D,this.context=j,this.refs=C,this.updater=K||w}T.prototype.isReactComponent={},T.prototype.setState=function(D,j){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,j,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function A(){}A.prototype=T.prototype;function O(D,j,K){this.props=D,this.context=j,this.refs=C,this.updater=K||w}var M=O.prototype=new A;M.constructor=O,E(M,T.prototype),M.isPureReactComponent=!0;var L=Array.isArray;function P(){}var R={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Z(D,j,K){var X=K.ref;return{$$typeof:n,type:D,key:j,ref:X!==void 0?X:null,props:K}}function se(D,j){return Z(D.type,j,D.props)}function me(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function fe(D){var j={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(K){return j[K]})}var Ce=/\/+/g;function oe(D,j){return typeof D=="object"&&D!==null&&D.key!=null?fe(""+D.key):j.toString(36)}function de(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(j){D.status==="pending"&&(D.status="fulfilled",D.value=j)},function(j){D.status==="pending"&&(D.status="rejected",D.reason=j)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,j,K,X,ee){var re=typeof D;(re==="undefined"||re==="boolean")&&(D=null);var J=!1;if(D===null)J=!0;else switch(re){case"bigint":case"string":case"number":J=!0;break;case"object":switch(D.$$typeof){case n:case e:J=!0;break;case p:return J=D._init,z(J(D._payload),j,K,X,ee)}}if(J)return ee=ee(D),J=X===""?"."+oe(D,0):X,L(ee)?(K="",J!=null&&(K=J.replace(Ce,"$&/")+"/"),z(ee,j,K,"",function(Oe){return Oe})):ee!=null&&(me(ee)&&(ee=se(ee,K+(ee.key==null||D&&D.key===ee.key?"":(""+ee.key).replace(Ce,"$&/")+"/")+J)),j.push(ee)),1;J=0;var ve=X===""?".":X+":";if(L(D))for(var ge=0;ge<D.length;ge++)X=D[ge],re=ve+oe(X,ge),J+=z(X,j,K,re,ee);else if(ge=b(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(X=D.next()).done;)X=X.value,re=ve+oe(X,ge++),J+=z(X,j,K,re,ee);else if(re==="object"){if(typeof D.then=="function")return z(de(D),j,K,X,ee);throw j=String(D),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return J}function G(D,j,K){if(D==null)return D;var X=[],ee=0;return z(D,X,"","",function(re){return j.call(K,re,ee++)}),X}function q(D){if(D._status===-1){var j=D._result;j=j(),j.then(function(K){(D._status===0||D._status===-1)&&(D._status=1,D._result=K)},function(K){(D._status===0||D._status===-1)&&(D._status=2,D._result=K)}),D._status===-1&&(D._status=0,D._result=j)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ke={map:G,forEach:function(D,j,K){G(D,function(){j.apply(this,arguments)},K)},count:function(D){var j=0;return G(D,function(){j++}),j},toArray:function(D){return G(D,function(j){return j})||[]},only:function(D){if(!me(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return _e.Activity=m,_e.Children=ke,_e.Component=T,_e.Fragment=t,_e.Profiler=i,_e.PureComponent=O,_e.StrictMode=r,_e.Suspense=d,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,_e.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},_e.cache=function(D){return function(){return D.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(D,j,K){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var X=E({},D.props),ee=D.key;if(j!=null)for(re in j.key!==void 0&&(ee=""+j.key),j)!H.call(j,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&j.ref===void 0||(X[re]=j[re]);var re=arguments.length-2;if(re===1)X.children=K;else if(1<re){for(var J=Array(re),ve=0;ve<re;ve++)J[ve]=arguments[ve+2];X.children=J}return Z(D.type,ee,X)},_e.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},_e.createElement=function(D,j,K){var X,ee={},re=null;if(j!=null)for(X in j.key!==void 0&&(re=""+j.key),j)H.call(j,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ee[X]=j[X]);var J=arguments.length-2;if(J===1)ee.children=K;else if(1<J){for(var ve=Array(J),ge=0;ge<J;ge++)ve[ge]=arguments[ge+2];ee.children=ve}if(D&&D.defaultProps)for(X in J=D.defaultProps,J)ee[X]===void 0&&(ee[X]=J[X]);return Z(D,re,ee)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(D){return{$$typeof:c,render:D}},_e.isValidElement=me,_e.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:q}},_e.memo=function(D,j){return{$$typeof:f,type:D,compare:j===void 0?null:j}},_e.startTransition=function(D){var j=R.T,K={};R.T=K;try{var X=D(),ee=R.S;ee!==null&&ee(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(P,pe)}catch(re){pe(re)}finally{j!==null&&K.types!==null&&(j.types=K.types),R.T=j}},_e.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},_e.use=function(D){return R.H.use(D)},_e.useActionState=function(D,j,K){return R.H.useActionState(D,j,K)},_e.useCallback=function(D,j){return R.H.useCallback(D,j)},_e.useContext=function(D){return R.H.useContext(D)},_e.useDebugValue=function(){},_e.useDeferredValue=function(D,j){return R.H.useDeferredValue(D,j)},_e.useEffect=function(D,j){return R.H.useEffect(D,j)},_e.useEffectEvent=function(D){return R.H.useEffectEvent(D)},_e.useId=function(){return R.H.useId()},_e.useImperativeHandle=function(D,j,K){return R.H.useImperativeHandle(D,j,K)},_e.useInsertionEffect=function(D,j){return R.H.useInsertionEffect(D,j)},_e.useLayoutEffect=function(D,j){return R.H.useLayoutEffect(D,j)},_e.useMemo=function(D,j){return R.H.useMemo(D,j)},_e.useOptimistic=function(D,j){return R.H.useOptimistic(D,j)},_e.useReducer=function(D,j,K){return R.H.useReducer(D,j,K)},_e.useRef=function(D){return R.H.useRef(D)},_e.useState=function(D){return R.H.useState(D)},_e.useSyncExternalStore=function(D,j,K){return R.H.useSyncExternalStore(D,j,K)},_e.useTransition=function(){return R.H.useTransition()},_e.version="19.2.0",_e}var i1;function Vc(){return i1||(i1=1,og.exports=K2()),og.exports}var S=Vc();const jt=dh(S),Sv=ok({__proto__:null,default:jt},[S]);var ag={exports:{}},Ql={},lg={exports:{}},cg={};var s1;function W2(){return s1||(s1=1,(function(n){function e(z,G){var q=z.length;z.push(G);e:for(;0<q;){var pe=q-1>>>1,ke=z[pe];if(0<i(ke,G))z[pe]=G,z[q]=ke,q=pe;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],q=z.pop();if(q!==G){z[0]=q;e:for(var pe=0,ke=z.length,D=ke>>>1;pe<D;){var j=2*(pe+1)-1,K=z[j],X=j+1,ee=z[X];if(0>i(K,q))X<ke&&0>i(ee,K)?(z[pe]=ee,z[X]=q,pe=X):(z[pe]=K,z[j]=q,pe=j);else if(X<ke&&0>i(ee,q))z[pe]=ee,z[X]=q,pe=X;else break e}}return G}function i(z,G){var q=z.sortIndex-G.sortIndex;return q!==0?q:z.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,v=3,b=!1,w=!1,E=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var G=t(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=z)r(f),G.sortIndex=G.expirationTime,e(d,G);else break;G=t(f)}}function L(z){if(E=!1,M(z),!w)if(t(d)!==null)w=!0,P||(P=!0,fe());else{var G=t(f);G!==null&&de(L,G.startTime-z)}}var P=!1,R=-1,H=5,Z=-1;function se(){return C?!0:!(n.unstable_now()-Z<H)}function me(){if(C=!1,P){var z=n.unstable_now();Z=z;var G=!0;try{e:{w=!1,E&&(E=!1,A(R),R=-1),b=!0;var q=v;try{t:{for(M(z),m=t(d);m!==null&&!(m.expirationTime>z&&se());){var pe=m.callback;if(typeof pe=="function"){m.callback=null,v=m.priorityLevel;var ke=pe(m.expirationTime<=z);if(z=n.unstable_now(),typeof ke=="function"){m.callback=ke,M(z),G=!0;break t}m===t(d)&&r(d),M(z)}else r(d);m=t(d)}if(m!==null)G=!0;else{var D=t(f);D!==null&&de(L,D.startTime-z),G=!1}}break e}finally{m=null,v=q,b=!1}G=void 0}}finally{G?fe():P=!1}}}var fe;if(typeof O=="function")fe=function(){O(me)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,oe=Ce.port2;Ce.port1.onmessage=me,fe=function(){oe.postMessage(null)}}else fe=function(){T(me,0)};function de(z,G){R=T(function(){z(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(z){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var q=v;v=G;try{return z()}finally{v=q}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=v;v=z;try{return G()}finally{v=q}},n.unstable_scheduleCallback=function(z,G,q){var pe=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?pe+q:pe):q=pe,z){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=q+ke,z={id:p++,callback:G,priorityLevel:z,startTime:q,expirationTime:ke,sortIndex:-1},q>pe?(z.sortIndex=q,e(f,z),t(d)===null&&z===t(f)&&(E?(A(R),R=-1):E=!0,de(L,q-pe))):(z.sortIndex=ke,e(d,z),w||b||(w=!0,P||(P=!0,fe()))),z},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(z){var G=v;return function(){var q=v;v=G;try{return z.apply(this,arguments)}finally{v=q}}}})(cg)),cg}var o1;function G2(){return o1||(o1=1,lg.exports=W2()),lg.exports}var ug={exports:{}},Yt={};var a1;function J2(){if(a1)return Yt;a1=1;var n=Vc();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},Yt.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Yt.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Yt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Yt.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yt.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Yt.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yt.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Yt.requestFormReset=function(d){r.d.r(d)},Yt.unstable_batchedUpdates=function(d,f){return d(f)},Yt.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Yt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yt.version="19.2.0",Yt}var l1;function ak(){if(l1)return ug.exports;l1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ug.exports=J2(),ug.exports}var c1;function Y2(){if(c1)return Ql;c1=1;var n=G2(),e=Vc(),t=ak();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return d(g),s;if(y===h)return d(g),a;y=y.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=y;else{for(var k=!1,_=g.child;_;){if(_===u){k=!0,u=g,h=y;break}if(_===h){k=!0,h=g,u=y;break}_=_.sibling}if(!k){for(_=y.child;_;){if(_===u){k=!0,u=y,h=g;break}if(_===h){k=!0,h=y,u=g;break}_=_.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=me&&s[me]||s["@@iterator"],typeof s=="function"?s:null)}var Ce=Symbol.for("react.client.reference");function oe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ce?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case Z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case O:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case M:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return a=s.displayName||null,a!==null?a:oe(s.type)||"Memo";case H:a=s._payload,s=s._init;try{return oe(s(a))}catch{}}return null}var de=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},pe=[],ke=-1;function D(s){return{current:s}}function j(s){0>ke||(s.current=pe[ke],pe[ke]=null,ke--)}function K(s,a){ke++,pe[ke]=s.current,s.current=a}var X=D(null),ee=D(null),re=D(null),J=D(null);function ve(s,a){switch(K(re,a),K(ee,s),K(X,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?CS(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=CS(a),s=kS(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}j(X),K(X,s)}function ge(){j(X),j(ee),j(re)}function Oe(s){s.memoizedState!==null&&K(J,s);var a=X.current,u=kS(a,s.type);a!==u&&(K(ee,s),K(X,u))}function Ue(s){ee.current===s&&(j(X),j(ee)),J.current===s&&(j(J),Wl._currentValue=q)}var Fe,on;function an(s){if(Fe===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Fe=a&&a[1]||"",on=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+s+on}var ks=!1;function Ts(s,a){if(!s||ks)return"";ks=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(F){var V=F}Reflect.construct(s,[],Q)}else{try{Q.call()}catch(F){V=F}s.call(Q.prototype)}}else{try{throw Error()}catch(F){V=F}(Q=s())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(F){if(F&&V&&typeof F.stack=="string")return[F.stack,V.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),k=y[0],_=y[1];if(k&&_){var N=k.split(`
`),U=_.split(`
`);for(g=h=0;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(h===N.length||g===U.length)for(h=N.length-1,g=U.length-1;1<=h&&0<=g&&N[h]!==U[g];)g--;for(;1<=h&&0<=g;h--,g--)if(N[h]!==U[g]){if(h!==1||g!==1)do if(h--,g--,0>g||N[h]!==U[g]){var W=`
`+N[h].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=h&&0<=g);break}}}finally{ks=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?an(u):""}function il(s,a){switch(s.tag){case 26:case 27:case 5:return an(s.type);case 16:return an("Lazy");case 13:return s.child!==a&&a!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return Ts(s.type,!1);case 11:return Ts(s.type.render,!1);case 1:return Ts(s.type,!0);case 31:return an("Activity");default:return""}}function tb(s){try{var a="",u=null;do a+=il(s,u),u=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var qh=Object.prototype.hasOwnProperty,Fh=n.unstable_scheduleCallback,Kh=n.unstable_cancelCallback,xR=n.unstable_shouldYield,SR=n.unstable_requestPaint,En=n.unstable_now,ER=n.unstable_getCurrentPriorityLevel,nb=n.unstable_ImmediatePriority,rb=n.unstable_UserBlockingPriority,su=n.unstable_NormalPriority,CR=n.unstable_LowPriority,ib=n.unstable_IdlePriority,kR=n.log,TR=n.unstable_setDisableYieldValue,sl=null,Cn=null;function Si(s){if(typeof kR=="function"&&TR(s),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(sl,s)}catch{}}var kn=Math.clz32?Math.clz32:OR,_R=Math.log,AR=Math.LN2;function OR(s){return s>>>=0,s===0?32:31-(_R(s)/AR|0)|0}var ou=256,au=262144,lu=4194304;function _s(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function cu(s,a,u){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var _=h&134217727;return _!==0?(h=_&~y,h!==0?g=_s(h):(k&=_,k!==0?g=_s(k):u||(u=_&~s,u!==0&&(g=_s(u))))):(_=h&~y,_!==0?g=_s(_):k!==0?g=_s(k):u||(u=h&~s,u!==0&&(g=_s(u)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:g}function ol(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function NR(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sb(){var s=lu;return lu<<=1,(lu&62914560)===0&&(lu=4194304),s}function Wh(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function al(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function RR(s,a,u,h,g,y){var k=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var _=s.entanglements,N=s.expirationTimes,U=s.hiddenUpdates;for(u=k&~u;0<u;){var W=31-kn(u),Q=1<<W;_[W]=0,N[W]=-1;var V=U[W];if(V!==null)for(U[W]=null,W=0;W<V.length;W++){var F=V[W];F!==null&&(F.lane&=-536870913)}u&=~Q}h!==0&&ob(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(k&~a))}function ob(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-kn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|u&261930}function ab(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-kn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}function lb(s,a){var u=a&-a;return u=(u&42)!==0?1:Gh(u),(u&(s.suspendedLanes|a))!==0?0:u}function Gh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Jh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function cb(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:GS(s.type))}function ub(s,a){var u=G.p;try{return G.p=s,a()}finally{G.p=u}}var Ei=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ei,hn="__reactProps$"+Ei,To="__reactContainer$"+Ei,Yh="__reactEvents$"+Ei,MR="__reactListeners$"+Ei,jR="__reactHandles$"+Ei,db="__reactResources$"+Ei,ll="__reactMarker$"+Ei;function Xh(s){delete s[Ut],delete s[hn],delete s[Yh],delete s[MR],delete s[jR]}function _o(s){var a=s[Ut];if(a)return a;for(var u=s.parentNode;u;){if(a=u[To]||u[Ut]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=MS(s);s!==null;){if(u=s[Ut])return u;s=MS(s)}return a}s=u,u=s.parentNode}return null}function Ao(s){if(s=s[Ut]||s[To]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function cl(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Oo(s){var a=s[db];return a||(a=s[db]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Lt(s){s[ll]=!0}var fb=new Set,hb={};function As(s,a){No(s,a),No(s+"Capture",a)}function No(s,a){for(hb[s]=a,s=0;s<a.length;s++)fb.add(a[s])}var DR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pb={},mb={};function LR(s){return qh.call(mb,s)?!0:qh.call(pb,s)?!1:DR.test(s)?mb[s]=!0:(pb[s]=!0,!1)}function uu(s,a,u){if(LR(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function du(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function $r(s,a,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+h)}}function Hn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gb(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function IR(s,a,u){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(k){u=""+k,y.call(this,k)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Qh(s){if(!s._valueTracker){var a=gb(s)?"checked":"value";s._valueTracker=IR(s,a,""+s[a])}}function yb(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=gb(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function fu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var PR=/[\n"\\]/g;function Vn(s){return s.replace(PR,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Zh(s,a,u,h,g,y,k,_){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),a!=null?k==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Hn(a)):s.value!==""+Hn(a)&&(s.value=""+Hn(a)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),a!=null?ep(s,k,Hn(a)):u!=null?ep(s,k,Hn(u)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+Hn(_):s.removeAttribute("name")}function vb(s,a,u,h,g,y,k,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Qh(s);return}u=u!=null?""+Hn(u):"",a=a!=null?""+Hn(a):u,_||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=_?s.checked:!!h,s.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k),Qh(s)}function ep(s,a,u){a==="number"&&fu(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ro(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Hn(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function bb(s,a,u){if(a!=null&&(a=""+Hn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Hn(u):""}function wb(s,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(de(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=Hn(a),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h),Qh(s)}function Mo(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var zR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xb(s,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,u):typeof u!="number"||u===0||zR.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Sb(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&u[g]!==h&&xb(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&xb(s,y,a[y])}function tp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$R=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hu(s){return $R.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ur(){}var np=null;function rp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var jo=null,Do=null;function Eb(s){var a=Ao(s);if(a&&(s=a.stateNode)){var u=s[hn]||null;e:switch(s=a.stateNode,a.type){case"input":if(Zh(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=h[hn]||null;if(!g)throw Error(r(90));Zh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===s.form&&yb(h)}break e;case"textarea":bb(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ro(s,!!u.multiple,a,!1)}}}var ip=!1;function Cb(s,a,u){if(ip)return s(a,u);ip=!0;try{var h=s(a);return h}finally{if(ip=!1,(jo!==null||Do!==null)&&(ed(),jo&&(a=jo,s=Do,Do=jo=null,Eb(a),s)))for(a=0;a<s.length;a++)Eb(s[a])}}function ul(s,a){var u=s.stateNode;if(u===null)return null;var h=u[hn]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=!1;if(Hr)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){sp=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{sp=!1}var Ci=null,op=null,pu=null;function kb(){if(pu)return pu;var s,a=op,u=a.length,h,g="value"in Ci?Ci.value:Ci.textContent,y=g.length;for(s=0;s<u&&a[s]===g[s];s++);var k=u-s;for(h=1;h<=k&&a[u-h]===g[y-h];h++);return pu=g.slice(s,1<h?1-h:void 0)}function mu(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function gu(){return!0}function Tb(){return!1}function pn(s){function a(u,h,g,y,k){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(u=s[_],this[_]=u?u(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?gu:Tb,this.isPropagationStopped=Tb,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),a}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=pn(Os),fl=m({},Os,{view:0,detail:0}),UR=pn(fl),ap,lp,hl,vu=m({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hl&&(hl&&s.type==="mousemove"?(ap=s.screenX-hl.screenX,lp=s.screenY-hl.screenY):lp=ap=0,hl=s),ap)},movementY:function(s){return"movementY"in s?s.movementY:lp}}),_b=pn(vu),HR=m({},vu,{dataTransfer:0}),VR=pn(HR),qR=m({},fl,{relatedTarget:0}),cp=pn(qR),FR=m({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),KR=pn(FR),WR=m({},Os,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),GR=pn(WR),JR=m({},Os,{data:0}),Ab=pn(JR),YR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZR(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=QR[s])?!!a[s]:!1}function up(){return ZR}var eM=m({},fl,{key:function(s){if(s.key){var a=YR[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=mu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?XR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(s){return s.type==="keypress"?mu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tM=pn(eM),nM=m({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ob=pn(nM),rM=m({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),iM=pn(rM),sM=m({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),oM=pn(sM),aM=m({},vu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lM=pn(aM),cM=m({},Os,{newState:0,oldState:0}),uM=pn(cM),dM=[9,13,27,32],dp=Hr&&"CompositionEvent"in window,pl=null;Hr&&"documentMode"in document&&(pl=document.documentMode);var fM=Hr&&"TextEvent"in window&&!pl,Nb=Hr&&(!dp||pl&&8<pl&&11>=pl),Rb=" ",Mb=!1;function jb(s,a){switch(s){case"keyup":return dM.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Db(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function hM(s,a){switch(s){case"compositionend":return Db(a);case"keypress":return a.which!==32?null:(Mb=!0,Rb);case"textInput":return s=a.data,s===Rb&&Mb?null:s;default:return null}}function pM(s,a){if(Lo)return s==="compositionend"||!dp&&jb(s,a)?(s=kb(),pu=op=Ci=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Nb&&a.locale!=="ko"?null:a.data;default:return null}}var mM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lb(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!mM[s.type]:a==="textarea"}function Ib(s,a,u,h){jo?Do?Do.push(h):Do=[h]:jo=h,a=ad(a,"onChange"),0<a.length&&(u=new yu("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var ml=null,gl=null;function gM(s){vS(s,0)}function bu(s){var a=cl(s);if(yb(a))return s}function Pb(s,a){if(s==="change")return a}var zb=!1;if(Hr){var fp;if(Hr){var hp="oninput"in document;if(!hp){var Bb=document.createElement("div");Bb.setAttribute("oninput","return;"),hp=typeof Bb.oninput=="function"}fp=hp}else fp=!1;zb=fp&&(!document.documentMode||9<document.documentMode)}function $b(){ml&&(ml.detachEvent("onpropertychange",Ub),gl=ml=null)}function Ub(s){if(s.propertyName==="value"&&bu(gl)){var a=[];Ib(a,gl,s,rp(s)),Cb(gM,a)}}function yM(s,a,u){s==="focusin"?($b(),ml=a,gl=u,ml.attachEvent("onpropertychange",Ub)):s==="focusout"&&$b()}function vM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bu(gl)}function bM(s,a){if(s==="click")return bu(a)}function wM(s,a){if(s==="input"||s==="change")return bu(a)}function xM(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Tn=typeof Object.is=="function"?Object.is:xM;function yl(s,a){if(Tn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!qh.call(a,g)||!Tn(s[g],a[g]))return!1}return!0}function Hb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vb(s,a){var u=Hb(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Hb(u)}}function qb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?qb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Fb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=fu(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=fu(s.document)}return a}function pp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var SM=Hr&&"documentMode"in document&&11>=document.documentMode,Io=null,mp=null,vl=null,gp=!1;function Kb(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gp||Io==null||Io!==fu(h)||(h=Io,"selectionStart"in h&&pp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),vl&&yl(vl,h)||(vl=h,h=ad(mp,"onSelect"),0<h.length&&(a=new yu("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Io)))}function Ns(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Po={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},yp={},Wb={};Hr&&(Wb=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Rs(s){if(yp[s])return yp[s];if(!Po[s])return s;var a=Po[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Wb)return yp[s]=a[u];return s}var Gb=Rs("animationend"),Jb=Rs("animationiteration"),Yb=Rs("animationstart"),EM=Rs("transitionrun"),CM=Rs("transitionstart"),kM=Rs("transitioncancel"),Xb=Rs("transitionend"),Qb=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function dr(s,a){Qb.set(s,a),As(a,[s])}var wu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qn=[],zo=0,bp=0;function xu(){for(var s=zo,a=bp=zo=0;a<s;){var u=qn[a];qn[a++]=null;var h=qn[a];qn[a++]=null;var g=qn[a];qn[a++]=null;var y=qn[a];if(qn[a++]=null,h!==null&&g!==null){var k=h.pending;k===null?g.next=g:(g.next=k.next,k.next=g),h.pending=g}y!==0&&Zb(u,g,y)}}function Su(s,a,u,h){qn[zo++]=s,qn[zo++]=a,qn[zo++]=u,qn[zo++]=h,bp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function wp(s,a,u,h){return Su(s,a,u,h),Eu(s)}function Ms(s,a){return Su(s,null,null,a),Eu(s)}function Zb(s,a,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var g=!1,y=s.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-kn(u),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=u|536870912),y):null}function Eu(s){if(50<$l)throw $l=0,Om=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Bo={};function TM(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(s,a,u,h){return new TM(s,a,u,h)}function xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Vr(s,a){var u=s.alternate;return u===null?(u=_n(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function ew(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Cu(s,a,u,h,g,y){var k=0;if(h=s,typeof s=="function")xp(s)&&(k=1);else if(typeof s=="string")k=R2(s,u,X.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Z:return s=_n(31,u,a,g),s.elementType=Z,s.lanes=y,s;case E:return js(u.children,g,y,a);case C:k=8,g|=24;break;case T:return s=_n(12,u,a,g|2),s.elementType=T,s.lanes=y,s;case L:return s=_n(13,u,a,g),s.elementType=L,s.lanes=y,s;case P:return s=_n(19,u,a,g),s.elementType=P,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:k=10;break e;case A:k=9;break e;case M:k=11;break e;case R:k=14;break e;case H:k=16,h=null;break e}k=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return a=_n(k,u,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function js(s,a,u,h){return s=_n(7,s,h,a),s.lanes=u,s}function Sp(s,a,u){return s=_n(6,s,null,a),s.lanes=u,s}function tw(s){var a=_n(18,null,null,0);return a.stateNode=s,a}function Ep(s,a,u){return a=_n(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var nw=new WeakMap;function Fn(s,a){if(typeof s=="object"&&s!==null){var u=nw.get(s);return u!==void 0?u:(a={value:s,source:a,stack:tb(a)},nw.set(s,a),a)}return{value:s,source:a,stack:tb(a)}}var $o=[],Uo=0,ku=null,bl=0,Kn=[],Wn=0,ki=null,Tr=1,_r="";function qr(s,a){$o[Uo++]=bl,$o[Uo++]=ku,ku=s,bl=a}function rw(s,a,u){Kn[Wn++]=Tr,Kn[Wn++]=_r,Kn[Wn++]=ki,ki=s;var h=Tr;s=_r;var g=32-kn(h)-1;h&=~(1<<g),u+=1;var y=32-kn(a)+g;if(30<y){var k=g-g%5;y=(h&(1<<k)-1).toString(32),h>>=k,g-=k,Tr=1<<32-kn(a)+g|u<<g|h,_r=y+s}else Tr=1<<y|u<<g|h,_r=s}function Cp(s){s.return!==null&&(qr(s,1),rw(s,1,0))}function kp(s){for(;s===ku;)ku=$o[--Uo],$o[Uo]=null,bl=$o[--Uo],$o[Uo]=null;for(;s===ki;)ki=Kn[--Wn],Kn[Wn]=null,_r=Kn[--Wn],Kn[Wn]=null,Tr=Kn[--Wn],Kn[Wn]=null}function iw(s,a){Kn[Wn++]=Tr,Kn[Wn++]=_r,Kn[Wn++]=ki,Tr=a.id,_r=a.overflow,ki=s}var Ht=null,it=null,Be=!1,Ti=null,Gn=!1,Tp=Error(r(519));function _i(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Fn(a,s)),Tp}function sw(s){var a=s.stateNode,u=s.type,h=s.memoizedProps;switch(a[Ut]=s,a[hn]=h,u){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(u=0;u<Hl.length;u++)Ie(Hl[u],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Ie("invalid",a),vb(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ie("invalid",a);break;case"textarea":Ie("invalid",a),wb(a,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||SS(a.textContent,u)?(h.popover!=null&&(Ie("beforetoggle",a),Ie("toggle",a)),h.onScroll!=null&&Ie("scroll",a),h.onScrollEnd!=null&&Ie("scrollend",a),h.onClick!=null&&(a.onclick=Ur),a=!0):a=!1,a||_i(s,!0)}function ow(s){for(Ht=s.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ht=Ht.return}}function Ho(s){if(s!==Ht)return!1;if(!Be)return ow(s),Be=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||qm(s.type,s.memoizedProps)),u=!u),u&&it&&_i(s),ow(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));it=RS(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));it=RS(s)}else a===27?(a=it,Ui(s.type)?(s=Jm,Jm=null,it=s):it=a):it=Ht?Yn(s.stateNode.nextSibling):null;return!0}function Ds(){it=Ht=null,Be=!1}function _p(){var s=Ti;return s!==null&&(vn===null?vn=s:vn.push.apply(vn,s),Ti=null),s}function wl(s){Ti===null?Ti=[s]:Ti.push(s)}var Ap=D(null),Ls=null,Fr=null;function Ai(s,a,u){K(Ap,a._currentValue),a._currentValue=u}function Kr(s){s._currentValue=Ap.current,j(Ap)}function Op(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Np(s,a,u,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var k=g.child;y=y.firstContext;e:for(;y!==null;){var _=y;y=g;for(var N=0;N<a.length;N++)if(_.context===a[N]){y.lanes|=u,_=y.alternate,_!==null&&(_.lanes|=u),Op(y.return,u,s),h||(k=null);break e}y=_.next}}else if(g.tag===18){if(k=g.return,k===null)throw Error(r(341));k.lanes|=u,y=k.alternate,y!==null&&(y.lanes|=u),Op(k,u,s),k=null}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===s){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}}function Vo(s,a,u,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var k=g.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var _=g.type;Tn(g.pendingProps.value,k.value)||(s!==null?s.push(_):s=[_])}}else if(g===J.current){if(k=g.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Wl):s=[Wl])}g=g.return}s!==null&&Np(a,s,u,h),a.flags|=262144}function Tu(s){for(s=s.firstContext;s!==null;){if(!Tn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Is(s){Ls=s,Fr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Vt(s){return aw(Ls,s)}function _u(s,a){return Ls===null&&Is(s),aw(s,a)}function aw(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Fr===null){if(s===null)throw Error(r(308));Fr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Fr=Fr.next=a;return u}var _M=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},AM=n.unstable_scheduleCallback,OM=n.unstable_NormalPriority,St={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new _M,data:new Map,refCount:0}}function xl(s){s.refCount--,s.refCount===0&&AM(OM,function(){s.controller.abort()})}var Sl=null,Mp=0,qo=0,Fo=null;function NM(s,a){if(Sl===null){var u=Sl=[];Mp=0,qo=Lm(),Fo={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Mp++,a.then(lw,lw),a}function lw(){if(--Mp===0&&Sl!==null){Fo!==null&&(Fo.status="fulfilled");var s=Sl;Sl=null,qo=0,Fo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function RM(s,a){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var cw=z.S;z.S=function(s,a){Kx=En(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&NM(s,a),cw!==null&&cw(s,a)};var Ps=D(null);function jp(){var s=Ps.current;return s!==null?s:Qe.pooledCache}function Au(s,a){a===null?K(Ps,Ps.current):K(Ps,a.pool)}function uw(){var s=jp();return s===null?null:{parent:St._currentValue,pool:s}}var Ko=Error(r(460)),Dp=Error(r(474)),Ou=Error(r(542)),Nu={then:function(){}};function dw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function fw(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Ur,Ur),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,pw(s),s;default:if(typeof a.status=="string")a.then(Ur,Ur);else{if(s=Qe,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,pw(s),s}throw Bs=a,Ko}}function zs(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Bs=u,Ko):u}}var Bs=null;function hw(){if(Bs===null)throw Error(r(459));var s=Bs;return Bs=null,s}function pw(s){if(s===Ko||s===Ou)throw Error(r(483))}var Wo=null,El=0;function Ru(s){var a=El;return El+=1,Wo===null&&(Wo=[]),fw(Wo,s,a)}function Cl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Mu(s,a){throw a.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function mw(s){function a(B,I){if(s){var $=B.deletions;$===null?(B.deletions=[I],B.flags|=16):$.push(I)}}function u(B,I){if(!s)return null;for(;I!==null;)a(B,I),I=I.sibling;return null}function h(B){for(var I=new Map;B!==null;)B.key!==null?I.set(B.key,B):I.set(B.index,B),B=B.sibling;return I}function g(B,I){return B=Vr(B,I),B.index=0,B.sibling=null,B}function y(B,I,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<I?(B.flags|=67108866,I):$):(B.flags|=67108866,I)):(B.flags|=1048576,I)}function k(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function _(B,I,$,Y){return I===null||I.tag!==6?(I=Sp($,B.mode,Y),I.return=B,I):(I=g(I,$),I.return=B,I)}function N(B,I,$,Y){var be=$.type;return be===E?W(B,I,$.props.children,Y,$.key):I!==null&&(I.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===H&&zs(be)===I.type)?(I=g(I,$.props),Cl(I,$),I.return=B,I):(I=Cu($.type,$.key,$.props,null,B.mode,Y),Cl(I,$),I.return=B,I)}function U(B,I,$,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==$.containerInfo||I.stateNode.implementation!==$.implementation?(I=Ep($,B.mode,Y),I.return=B,I):(I=g(I,$.children||[]),I.return=B,I)}function W(B,I,$,Y,be){return I===null||I.tag!==7?(I=js($,B.mode,Y,be),I.return=B,I):(I=g(I,$),I.return=B,I)}function Q(B,I,$){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Sp(""+I,B.mode,$),I.return=B,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return $=Cu(I.type,I.key,I.props,null,B.mode,$),Cl($,I),$.return=B,$;case w:return I=Ep(I,B.mode,$),I.return=B,I;case H:return I=zs(I),Q(B,I,$)}if(de(I)||fe(I))return I=js(I,B.mode,$,null),I.return=B,I;if(typeof I.then=="function")return Q(B,Ru(I),$);if(I.$$typeof===O)return Q(B,_u(B,I),$);Mu(B,I)}return null}function V(B,I,$,Y){var be=I!==null?I.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:_(B,I,""+$,Y);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===be?N(B,I,$,Y):null;case w:return $.key===be?U(B,I,$,Y):null;case H:return $=zs($),V(B,I,$,Y)}if(de($)||fe($))return be!==null?null:W(B,I,$,Y,null);if(typeof $.then=="function")return V(B,I,Ru($),Y);if($.$$typeof===O)return V(B,I,_u(B,$),Y);Mu(B,$)}return null}function F(B,I,$,Y,be){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return B=B.get($)||null,_(I,B,""+Y,be);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return B=B.get(Y.key===null?$:Y.key)||null,N(I,B,Y,be);case w:return B=B.get(Y.key===null?$:Y.key)||null,U(I,B,Y,be);case H:return Y=zs(Y),F(B,I,$,Y,be)}if(de(Y)||fe(Y))return B=B.get($)||null,W(I,B,Y,be,null);if(typeof Y.then=="function")return F(B,I,$,Ru(Y),be);if(Y.$$typeof===O)return F(B,I,$,_u(I,Y),be);Mu(I,Y)}return null}function ae(B,I,$,Y){for(var be=null,He=null,he=I,Ne=I=0,ze=null;he!==null&&Ne<$.length;Ne++){he.index>Ne?(ze=he,he=null):ze=he.sibling;var Ve=V(B,he,$[Ne],Y);if(Ve===null){he===null&&(he=ze);break}s&&he&&Ve.alternate===null&&a(B,he),I=y(Ve,I,Ne),He===null?be=Ve:He.sibling=Ve,He=Ve,he=ze}if(Ne===$.length)return u(B,he),Be&&qr(B,Ne),be;if(he===null){for(;Ne<$.length;Ne++)he=Q(B,$[Ne],Y),he!==null&&(I=y(he,I,Ne),He===null?be=he:He.sibling=he,He=he);return Be&&qr(B,Ne),be}for(he=h(he);Ne<$.length;Ne++)ze=F(he,B,Ne,$[Ne],Y),ze!==null&&(s&&ze.alternate!==null&&he.delete(ze.key===null?Ne:ze.key),I=y(ze,I,Ne),He===null?be=ze:He.sibling=ze,He=ze);return s&&he.forEach(function(Ki){return a(B,Ki)}),Be&&qr(B,Ne),be}function Se(B,I,$,Y){if($==null)throw Error(r(151));for(var be=null,He=null,he=I,Ne=I=0,ze=null,Ve=$.next();he!==null&&!Ve.done;Ne++,Ve=$.next()){he.index>Ne?(ze=he,he=null):ze=he.sibling;var Ki=V(B,he,Ve.value,Y);if(Ki===null){he===null&&(he=ze);break}s&&he&&Ki.alternate===null&&a(B,he),I=y(Ki,I,Ne),He===null?be=Ki:He.sibling=Ki,He=Ki,he=ze}if(Ve.done)return u(B,he),Be&&qr(B,Ne),be;if(he===null){for(;!Ve.done;Ne++,Ve=$.next())Ve=Q(B,Ve.value,Y),Ve!==null&&(I=y(Ve,I,Ne),He===null?be=Ve:He.sibling=Ve,He=Ve);return Be&&qr(B,Ne),be}for(he=h(he);!Ve.done;Ne++,Ve=$.next())Ve=F(he,B,Ne,Ve.value,Y),Ve!==null&&(s&&Ve.alternate!==null&&he.delete(Ve.key===null?Ne:Ve.key),I=y(Ve,I,Ne),He===null?be=Ve:He.sibling=Ve,He=Ve);return s&&he.forEach(function(H2){return a(B,H2)}),Be&&qr(B,Ne),be}function Xe(B,I,$,Y){if(typeof $=="object"&&$!==null&&$.type===E&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var be=$.key;I!==null;){if(I.key===be){if(be=$.type,be===E){if(I.tag===7){u(B,I.sibling),Y=g(I,$.props.children),Y.return=B,B=Y;break e}}else if(I.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===H&&zs(be)===I.type){u(B,I.sibling),Y=g(I,$.props),Cl(Y,$),Y.return=B,B=Y;break e}u(B,I);break}else a(B,I);I=I.sibling}$.type===E?(Y=js($.props.children,B.mode,Y,$.key),Y.return=B,B=Y):(Y=Cu($.type,$.key,$.props,null,B.mode,Y),Cl(Y,$),Y.return=B,B=Y)}return k(B);case w:e:{for(be=$.key;I!==null;){if(I.key===be)if(I.tag===4&&I.stateNode.containerInfo===$.containerInfo&&I.stateNode.implementation===$.implementation){u(B,I.sibling),Y=g(I,$.children||[]),Y.return=B,B=Y;break e}else{u(B,I);break}else a(B,I);I=I.sibling}Y=Ep($,B.mode,Y),Y.return=B,B=Y}return k(B);case H:return $=zs($),Xe(B,I,$,Y)}if(de($))return ae(B,I,$,Y);if(fe($)){if(be=fe($),typeof be!="function")throw Error(r(150));return $=be.call($),Se(B,I,$,Y)}if(typeof $.then=="function")return Xe(B,I,Ru($),Y);if($.$$typeof===O)return Xe(B,I,_u(B,$),Y);Mu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,I!==null&&I.tag===6?(u(B,I.sibling),Y=g(I,$),Y.return=B,B=Y):(u(B,I),Y=Sp($,B.mode,Y),Y.return=B,B=Y),k(B)):u(B,I)}return function(B,I,$,Y){try{El=0;var be=Xe(B,I,$,Y);return Wo=null,be}catch(he){if(he===Ko||he===Ou)throw he;var He=_n(29,he,null,B.mode);return He.lanes=Y,He.return=B,He}finally{}}}var $s=mw(!0),gw=mw(!1),Oi=!1;function Lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ip(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ni(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(qe&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Eu(s),Zb(s,null,u),a}return Su(s,h,a,u),Eu(s)}function kl(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,ab(s,u)}}function Pp(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=k:y=y.next=k,u=u.next}while(u!==null);y===null?g=y=a:y=y.next=a}else g=y=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var zp=!1;function Tl(){if(zp){var s=Fo;if(s!==null)throw s}}function _l(s,a,u,h){zp=!1;var g=s.updateQueue;Oi=!1;var y=g.firstBaseUpdate,k=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var N=_,U=N.next;N.next=null,k===null?y=U:k.next=U,k=N;var W=s.alternate;W!==null&&(W=W.updateQueue,_=W.lastBaseUpdate,_!==k&&(_===null?W.firstBaseUpdate=U:_.next=U,W.lastBaseUpdate=N))}if(y!==null){var Q=g.baseState;k=0,W=U=N=null,_=y;do{var V=_.lane&-536870913,F=V!==_.lane;if(F?(Pe&V)===V:(h&V)===V){V!==0&&V===qo&&(zp=!0),W!==null&&(W=W.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ae=s,Se=_;V=a;var Xe=u;switch(Se.tag){case 1:if(ae=Se.payload,typeof ae=="function"){Q=ae.call(Xe,Q,V);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=Se.payload,V=typeof ae=="function"?ae.call(Xe,Q,V):ae,V==null)break e;Q=m({},Q,V);break e;case 2:Oi=!0}}V=_.callback,V!==null&&(s.flags|=64,F&&(s.flags|=8192),F=g.callbacks,F===null?g.callbacks=[V]:F.push(V))}else F={lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},W===null?(U=W=F,N=Q):W=W.next=F,k|=V;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;F=_,_=F.next,F.next=null,g.lastBaseUpdate=F,g.shared.pending=null}}while(!0);W===null&&(N=Q),g.baseState=N,g.firstBaseUpdate=U,g.lastBaseUpdate=W,y===null&&(g.shared.lanes=0),Ii|=k,s.lanes=k,s.memoizedState=Q}}function yw(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function vw(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)yw(u[s],a)}var Go=D(null),ju=D(0);function bw(s,a){s=ti,K(ju,s),K(Go,a),ti=s|a.baseLanes}function Bp(){K(ju,ti),K(Go,Go.current)}function $p(){ti=ju.current,j(Go),j(ju)}var An=D(null),Jn=null;function Mi(s){var a=s.alternate;K(yt,yt.current&1),K(An,s),Jn===null&&(a===null||Go.current!==null||a.memoizedState!==null)&&(Jn=s)}function Up(s){K(yt,yt.current),K(An,s),Jn===null&&(Jn=s)}function ww(s){s.tag===22?(K(yt,yt.current),K(An,s),Jn===null&&(Jn=s)):ji()}function ji(){K(yt,yt.current),K(An,An.current)}function On(s){j(An),Jn===s&&(Jn=null),j(yt)}var yt=D(0);function Du(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Wm(u)||Gm(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wr=0,Ae=null,Je=null,Et=null,Lu=!1,Jo=!1,Us=!1,Iu=0,Al=0,Yo=null,MM=0;function ht(){throw Error(r(321))}function Hp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Tn(s[u],a[u]))return!1;return!0}function Vp(s,a,u,h,g,y){return Wr=y,Ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=s===null||s.memoizedState===null?rx:im,Us=!1,y=u(h,g),Us=!1,Jo&&(y=Sw(a,u,h,g)),xw(s),y}function xw(s){z.H=Rl;var a=Je!==null&&Je.next!==null;if(Wr=0,Et=Je=Ae=null,Lu=!1,Al=0,Yo=null,a)throw Error(r(300));s===null||Ct||(s=s.dependencies,s!==null&&Tu(s)&&(Ct=!0))}function Sw(s,a,u,h){Ae=s;var g=0;do{if(Jo&&(Yo=null),Al=0,Jo=!1,25<=g)throw Error(r(301));if(g+=1,Et=Je=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=ix,y=a(u,h)}while(Jo);return y}function jM(){var s=z.H,a=s.useState()[0];return a=typeof a.then=="function"?Ol(a):a,s=s.useState()[0],(Je!==null?Je.memoizedState:null)!==s&&(Ae.flags|=1024),a}function qp(){var s=Iu!==0;return Iu=0,s}function Fp(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function Kp(s){if(Lu){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Lu=!1}Wr=0,Et=Je=Ae=null,Jo=!1,Al=Iu=0,Yo=null}function ln(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ae.memoizedState=Et=s:Et=Et.next=s,Et}function vt(){if(Je===null){var s=Ae.alternate;s=s!==null?s.memoizedState:null}else s=Je.next;var a=Et===null?Ae.memoizedState:Et.next;if(a!==null)Et=a,Je=s;else{if(s===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Je=s,s={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Et===null?Ae.memoizedState=Et=s:Et=Et.next=s}return Et}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(s){var a=Al;return Al+=1,Yo===null&&(Yo=[]),s=fw(Yo,s,a),a=Ae,(Et===null?a.memoizedState:Et.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?rx:im),s}function zu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ol(s);if(s.$$typeof===O)return Vt(s)}throw Error(r(438,String(s)))}function Wp(s){var a=null,u=Ae.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Ae.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Pu(),Ae.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),h=0;h<s;h++)u[h]=se;return a.index++,u}function Gr(s,a){return typeof a=="function"?a(s):a}function Bu(s){var a=vt();return Gp(a,Je,s)}function Gp(s,a,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var k=g.next;g.next=y.next,y.next=k}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var _=k=null,N=null,U=a,W=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(Pe&Q)===Q:(Wr&Q)===Q){var V=U.revertLane;if(V===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===qo&&(W=!0);else if((Wr&V)===V){U=U.next,V===qo&&(W=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(_=N=Q,k=y):N=N.next=Q,Ae.lanes|=V,Ii|=V;Q=U.action,Us&&u(y,Q),y=U.hasEagerState?U.eagerState:u(y,Q)}else V={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(_=N=V,k=y):N=N.next=V,Ae.lanes|=Q,Ii|=Q;U=U.next}while(U!==null&&U!==a);if(N===null?k=y:N.next=_,!Tn(y,s.memoizedState)&&(Ct=!0,W&&(u=Fo,u!==null)))throw u;s.memoizedState=y,s.baseState=k,s.baseQueue=N,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Jp(s){var a=vt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,y=a.memoizedState;if(g!==null){u.pending=null;var k=g=g.next;do y=s(y,k.action),k=k.next;while(k!==g);Tn(y,a.memoizedState)||(Ct=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function Ew(s,a,u){var h=Ae,g=vt(),y=Be;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=a();var k=!Tn((Je||g).memoizedState,u);if(k&&(g.memoizedState=u,Ct=!0),g=g.queue,Qp(Tw.bind(null,h,g,s),[s]),g.getSnapshot!==a||k||Et!==null&&Et.memoizedState.tag&1){if(h.flags|=2048,Xo(9,{destroy:void 0},kw.bind(null,h,g,u,a),null),Qe===null)throw Error(r(349));y||(Wr&127)!==0||Cw(h,a,u)}return u}function Cw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Ae.updateQueue,a===null?(a=Pu(),Ae.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function kw(s,a,u,h){a.value=u,a.getSnapshot=h,_w(a)&&Aw(s)}function Tw(s,a,u){return u(function(){_w(a)&&Aw(s)})}function _w(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Tn(s,u)}catch{return!0}}function Aw(s){var a=Ms(s,2);a!==null&&bn(a,s,2)}function Yp(s){var a=ln();if(typeof s=="function"){var u=s;if(s=u(),Us){Si(!0);try{u()}finally{Si(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:s},a}function Ow(s,a,u,h){return s.baseState=u,Gp(s,Je,typeof h=="function"?h:Gr)}function DM(s,a,u,h,g){if(Hu(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};z.T!==null?u(!0):y.isTransition=!1,h(y),u=a.pending,u===null?(y.next=a.pending=y,Nw(a,y)):(y.next=u.next,a.pending=u.next=y)}}function Nw(s,a){var u=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=z.T,k={};z.T=k;try{var _=u(g,h),N=z.S;N!==null&&N(k,_),Rw(s,a,_)}catch(U){Xp(s,a,U)}finally{y!==null&&k.types!==null&&(y.types=k.types),z.T=y}}else try{y=u(g,h),Rw(s,a,y)}catch(U){Xp(s,a,U)}}function Rw(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Mw(s,a,h)},function(h){return Xp(s,a,h)}):Mw(s,a,u)}function Mw(s,a,u){a.status="fulfilled",a.value=u,jw(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,Nw(s,u)))}function Xp(s,a,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,jw(a),a=a.next;while(a!==h)}s.action=null}function jw(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Dw(s,a){return a}function Lw(s,a){if(Be){var u=Qe.formState;if(u!==null){e:{var h=Ae;if(Be){if(it){t:{for(var g=it,y=Gn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Yn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){it=Yn(g.nextSibling),h=g.data==="F!";break e}}_i(h)}h=!1}h&&(a=u[0])}}return u=ln(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dw,lastRenderedState:a},u.queue=h,u=ex.bind(null,Ae,h),h.dispatch=u,h=Yp(!1),y=rm.bind(null,Ae,!1,h.queue),h=ln(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,u=DM.bind(null,Ae,g,y,u),g.dispatch=u,h.memoizedState=s,[a,u,!1]}function Iw(s){var a=vt();return Pw(a,Je,s)}function Pw(s,a,u){if(a=Gp(s,a,Dw)[0],s=Bu(Gr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ol(a)}catch(k){throw k===Ko?Ou:k}else h=a;a=vt();var g=a.queue,y=g.dispatch;return u!==a.memoizedState&&(Ae.flags|=2048,Xo(9,{destroy:void 0},LM.bind(null,g,u),null)),[h,y,s]}function LM(s,a){s.action=a}function zw(s){var a=vt(),u=Je;if(u!==null)return Pw(a,u,s);vt(),a=a.memoizedState,u=vt();var h=u.queue.dispatch;return u.memoizedState=s,[a,h,!1]}function Xo(s,a,u,h){return s={tag:s,create:u,deps:h,inst:a,next:null},a=Ae.updateQueue,a===null&&(a=Pu(),Ae.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s),s}function Bw(){return vt().memoizedState}function $u(s,a,u,h){var g=ln();Ae.flags|=s,g.memoizedState=Xo(1|a,{destroy:void 0},u,h===void 0?null:h)}function Uu(s,a,u,h){var g=vt();h=h===void 0?null:h;var y=g.memoizedState.inst;Je!==null&&h!==null&&Hp(h,Je.memoizedState.deps)?g.memoizedState=Xo(a,y,u,h):(Ae.flags|=s,g.memoizedState=Xo(1|a,y,u,h))}function $w(s,a){$u(8390656,8,s,a)}function Qp(s,a){Uu(2048,8,s,a)}function IM(s){Ae.flags|=4;var a=Ae.updateQueue;if(a===null)a=Pu(),Ae.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function Uw(s){var a=vt().memoizedState;return IM({ref:a,nextImpl:s}),function(){if((qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Hw(s,a){return Uu(4,2,s,a)}function Vw(s,a){return Uu(4,4,s,a)}function qw(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Fw(s,a,u){u=u!=null?u.concat([s]):null,Uu(4,4,qw.bind(null,a,s),u)}function Zp(){}function Kw(s,a){var u=vt();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&Hp(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function Ww(s,a){var u=vt();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&Hp(a,h[1]))return h[0];if(h=s(),Us){Si(!0);try{s()}finally{Si(!1)}}return u.memoizedState=[h,a],h}function em(s,a,u){return u===void 0||(Wr&1073741824)!==0&&(Pe&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=Gx(),Ae.lanes|=s,Ii|=s,u)}function Gw(s,a,u,h){return Tn(u,a)?u:Go.current!==null?(s=em(s,u,h),Tn(s,a)||(Ct=!0),s):(Wr&42)===0||(Wr&1073741824)!==0&&(Pe&261930)===0?(Ct=!0,s.memoizedState=u):(s=Gx(),Ae.lanes|=s,Ii|=s,a)}function Jw(s,a,u,h,g){var y=G.p;G.p=y!==0&&8>y?y:8;var k=z.T,_={};z.T=_,rm(s,!1,a,u);try{var N=g(),U=z.S;if(U!==null&&U(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=RM(N,h);Nl(s,a,W,Mn(s))}else Nl(s,a,h,Mn(s))}catch(Q){Nl(s,a,{then:function(){},status:"rejected",reason:Q},Mn())}finally{G.p=y,k!==null&&_.types!==null&&(k.types=_.types),z.T=k}}function PM(){}function tm(s,a,u,h){if(s.tag!==5)throw Error(r(476));var g=Yw(s).queue;Jw(s,g,a,q,u===null?PM:function(){return Xw(s),u(h)})}function Yw(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:q},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Xw(s){var a=Yw(s);a.next===null&&(a=s.alternate.memoizedState),Nl(s,a.next.queue,{},Mn())}function nm(){return Vt(Wl)}function Qw(){return vt().memoizedState}function Zw(){return vt().memoizedState}function zM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Mn();s=Ni(u);var h=Ri(a,s,u);h!==null&&(bn(h,a,u),kl(h,a,u)),a={cache:Rp()},s.payload=a;return}a=a.return}}function BM(s,a,u){var h=Mn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Hu(s)?tx(a,u):(u=wp(s,a,u,h),u!==null&&(bn(u,s,h),nx(u,a,h)))}function ex(s,a,u){var h=Mn();Nl(s,a,u,h)}function Nl(s,a,u,h){var g={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hu(s))tx(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,_=y(k,u);if(g.hasEagerState=!0,g.eagerState=_,Tn(_,k))return Su(s,a,g,0),Qe===null&&xu(),!1}catch{}finally{}if(u=wp(s,a,g,h),u!==null)return bn(u,s,h),nx(u,a,h),!0}return!1}function rm(s,a,u,h){if(h={lane:2,revertLane:Lm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Hu(s)){if(a)throw Error(r(479))}else a=wp(s,u,h,2),a!==null&&bn(a,s,2)}function Hu(s){var a=s.alternate;return s===Ae||a!==null&&a===Ae}function tx(s,a){Jo=Lu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function nx(s,a,u){if((u&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,ab(s,u)}}var Rl={readContext:Vt,use:zu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Rl.useEffectEvent=ht;var rx={readContext:Vt,use:zu,useCallback:function(s,a){return ln().memoizedState=[s,a===void 0?null:a],s},useContext:Vt,useEffect:$w,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,$u(4194308,4,qw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return $u(4194308,4,s,a)},useInsertionEffect:function(s,a){$u(4,2,s,a)},useMemo:function(s,a){var u=ln();a=a===void 0?null:a;var h=s();if(Us){Si(!0);try{s()}finally{Si(!1)}}return u.memoizedState=[h,a],h},useReducer:function(s,a,u){var h=ln();if(u!==void 0){var g=u(a);if(Us){Si(!0);try{u(a)}finally{Si(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=BM.bind(null,Ae,s),[h.memoizedState,s]},useRef:function(s){var a=ln();return s={current:s},a.memoizedState=s},useState:function(s){s=Yp(s);var a=s.queue,u=ex.bind(null,Ae,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Zp,useDeferredValue:function(s,a){var u=ln();return em(u,s,a)},useTransition:function(){var s=Yp(!1);return s=Jw.bind(null,Ae,s.queue,!0,!1),ln().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var h=Ae,g=ln();if(Be){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Qe===null)throw Error(r(349));(Pe&127)!==0||Cw(h,a,u)}g.memoizedState=u;var y={value:u,getSnapshot:a};return g.queue=y,$w(Tw.bind(null,h,y,s),[s]),h.flags|=2048,Xo(9,{destroy:void 0},kw.bind(null,h,y,u,a),null),u},useId:function(){var s=ln(),a=Qe.identifierPrefix;if(Be){var u=_r,h=Tr;u=(h&~(1<<32-kn(h)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Iu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=MM++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:nm,useFormState:Lw,useActionState:Lw,useOptimistic:function(s){var a=ln();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=rm.bind(null,Ae,!0,u),u.dispatch=a,[s,a]},useMemoCache:Wp,useCacheRefresh:function(){return ln().memoizedState=zM.bind(null,Ae)},useEffectEvent:function(s){var a=ln(),u={impl:s};return a.memoizedState=u,function(){if((qe&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},im={readContext:Vt,use:zu,useCallback:Kw,useContext:Vt,useEffect:Qp,useImperativeHandle:Fw,useInsertionEffect:Hw,useLayoutEffect:Vw,useMemo:Ww,useReducer:Bu,useRef:Bw,useState:function(){return Bu(Gr)},useDebugValue:Zp,useDeferredValue:function(s,a){var u=vt();return Gw(u,Je.memoizedState,s,a)},useTransition:function(){var s=Bu(Gr)[0],a=vt().memoizedState;return[typeof s=="boolean"?s:Ol(s),a]},useSyncExternalStore:Ew,useId:Qw,useHostTransitionStatus:nm,useFormState:Iw,useActionState:Iw,useOptimistic:function(s,a){var u=vt();return Ow(u,Je,s,a)},useMemoCache:Wp,useCacheRefresh:Zw};im.useEffectEvent=Uw;var ix={readContext:Vt,use:zu,useCallback:Kw,useContext:Vt,useEffect:Qp,useImperativeHandle:Fw,useInsertionEffect:Hw,useLayoutEffect:Vw,useMemo:Ww,useReducer:Jp,useRef:Bw,useState:function(){return Jp(Gr)},useDebugValue:Zp,useDeferredValue:function(s,a){var u=vt();return Je===null?em(u,s,a):Gw(u,Je.memoizedState,s,a)},useTransition:function(){var s=Jp(Gr)[0],a=vt().memoizedState;return[typeof s=="boolean"?s:Ol(s),a]},useSyncExternalStore:Ew,useId:Qw,useHostTransitionStatus:nm,useFormState:zw,useActionState:zw,useOptimistic:function(s,a){var u=vt();return Je!==null?Ow(u,Je,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Wp,useCacheRefresh:Zw};ix.useEffectEvent=Uw;function sm(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:m({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var om={enqueueSetState:function(s,a,u){s=s._reactInternals;var h=Mn(),g=Ni(h);g.payload=a,u!=null&&(g.callback=u),a=Ri(s,g,h),a!==null&&(bn(a,s,h),kl(a,s,h))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=Mn(),g=Ni(h);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=Ri(s,g,h),a!==null&&(bn(a,s,h),kl(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Mn(),h=Ni(u);h.tag=2,a!=null&&(h.callback=a),a=Ri(s,h,u),a!==null&&(bn(a,s,u),kl(a,s,u))}};function sx(s,a,u,h,g,y,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,k):a.prototype&&a.prototype.isPureReactComponent?!yl(u,h)||!yl(g,y):!0}function ox(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&om.enqueueReplaceState(a,a.state,null)}function Hs(s,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(s=s.defaultProps){u===a&&(u=m({},u));for(var g in s)u[g]===void 0&&(u[g]=s[g])}return u}function ax(s){wu(s)}function lx(s){console.error(s)}function cx(s){wu(s)}function Vu(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function ux(s,a,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function am(s,a,u){return u=Ni(u),u.tag=3,u.payload={element:null},u.callback=function(){Vu(s,a)},u}function dx(s){return s=Ni(s),s.tag=3,s}function fx(s,a,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){ux(a,u,h)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){ux(a,u,h),typeof g!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function $M(s,a,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&Vo(a,u,g,!0),u=An.current,u!==null){switch(u.tag){case 31:case 13:return Jn===null?td():u.alternate===null&&pt===0&&(pt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Nu?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Mm(s,h,g)),!1;case 22:return u.flags|=65536,h===Nu?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Mm(s,h,g)),!1}throw Error(r(435,u.tag))}return Mm(s,h,g),td(),!1}if(Be)return a=An.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Tp&&(s=Error(r(422),{cause:h}),wl(Fn(s,u)))):(h!==Tp&&(a=Error(r(423),{cause:h}),wl(Fn(a,u))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=Fn(h,u),g=am(s.stateNode,h,g),Pp(s,g),pt!==4&&(pt=2)),!1;var y=Error(r(520),{cause:h});if(y=Fn(y,u),Bl===null?Bl=[y]:Bl.push(y),pt!==4&&(pt=2),a===null)return!0;h=Fn(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=g&-g,u.lanes|=s,s=am(u.stateNode,h,s),Pp(u,s),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pi===null||!Pi.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=dx(g),fx(g,s,u,h),Pp(u,g),!1}u=u.return}while(u!==null);return!1}var lm=Error(r(461)),Ct=!1;function qt(s,a,u,h){a.child=s===null?gw(a,null,u,h):$s(a,s.child,u,h)}function hx(s,a,u,h,g){u=u.render;var y=a.ref;if("ref"in h){var k={};for(var _ in h)_!=="ref"&&(k[_]=h[_])}else k=h;return Is(a),h=Vp(s,a,u,k,y,g),_=qp(),s!==null&&!Ct?(Fp(s,a,g),Jr(s,a,g)):(Be&&_&&Cp(a),a.flags|=1,qt(s,a,h,g),a.child)}function px(s,a,u,h,g){if(s===null){var y=u.type;return typeof y=="function"&&!xp(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,mx(s,a,y,h,g)):(s=Cu(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!gm(s,g)){var k=y.memoizedProps;if(u=u.compare,u=u!==null?u:yl,u(k,h)&&s.ref===a.ref)return Jr(s,a,g)}return a.flags|=1,s=Vr(y,h),s.ref=a.ref,s.return=a,a.child=s}function mx(s,a,u,h,g){if(s!==null){var y=s.memoizedProps;if(yl(y,h)&&s.ref===a.ref)if(Ct=!1,a.pendingProps=h=y,gm(s,g))(s.flags&131072)!==0&&(Ct=!0);else return a.lanes=s.lanes,Jr(s,a,g)}return cm(s,a,u,h,g)}function gx(s,a,u,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,s!==null){for(h=a.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return yx(s,a,y,u,h)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Au(a,y!==null?y.cachePool:null),y!==null?bw(a,y):Bp(),ww(a);else return h=a.lanes=536870912,yx(s,a,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(Au(a,y.cachePool),bw(a,y),ji(),a.memoizedState=null):(s!==null&&Au(a,null),Bp(),ji());return qt(s,a,g,u),a.child}function Ml(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function yx(s,a,u,h,g){var y=jp();return y=y===null?null:{parent:St._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},s!==null&&Au(a,null),Bp(),ww(a),s!==null&&Vo(s,a,h,!0),a.childLanes=g,null}function qu(s,a){return a=Ku({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function vx(s,a,u){return $s(a,s.child,null,u),s=qu(a,a.pendingProps),s.flags|=2,On(a),a.memoizedState=null,s}function UM(s,a,u){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Be){if(h.mode==="hidden")return s=qu(a,h),a.lanes=536870912,Ml(null,s);if(Up(a),(s=it)?(s=NS(s,Gn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ki!==null?{id:Tr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},u=tw(s),u.return=a,a.child=u,Ht=a,it=null)):s=null,s===null)throw _i(a);return a.lanes=536870912,null}return qu(a,h)}var y=s.memoizedState;if(y!==null){var k=y.dehydrated;if(Up(a),g)if(a.flags&256)a.flags&=-257,a=vx(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ct||Vo(s,a,u,!1),g=(u&s.childLanes)!==0,Ct||g){if(h=Qe,h!==null&&(k=lb(h,u),k!==0&&k!==y.retryLane))throw y.retryLane=k,Ms(s,k),bn(h,s,k),lm;td(),a=vx(s,a,u)}else s=y.treeContext,it=Yn(k.nextSibling),Ht=a,Be=!0,Ti=null,Gn=!1,s!==null&&iw(a,s),a=qu(a,h),a.flags|=4096;return a}return s=Vr(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Fu(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function cm(s,a,u,h,g){return Is(a),u=Vp(s,a,u,h,void 0,g),h=qp(),s!==null&&!Ct?(Fp(s,a,g),Jr(s,a,g)):(Be&&h&&Cp(a),a.flags|=1,qt(s,a,u,g),a.child)}function bx(s,a,u,h,g,y){return Is(a),a.updateQueue=null,u=Sw(a,h,u,g),xw(s),h=qp(),s!==null&&!Ct?(Fp(s,a,y),Jr(s,a,y)):(Be&&h&&Cp(a),a.flags|=1,qt(s,a,u,y),a.child)}function wx(s,a,u,h,g){if(Is(a),a.stateNode===null){var y=Bo,k=u.contextType;typeof k=="object"&&k!==null&&(y=Vt(k)),y=new u(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=om,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Lp(a),k=u.contextType,y.context=typeof k=="object"&&k!==null?Vt(k):Bo,y.state=a.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(sm(a,u,k,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&om.enqueueReplaceState(y,y.state,null),_l(a,h,y,g),Tl(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var _=a.memoizedProps,N=Hs(u,_);y.props=N;var U=y.context,W=u.contextType;k=Bo,typeof W=="object"&&W!==null&&(k=Vt(W));var Q=u.getDerivedStateFromProps;W=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||U!==k)&&ox(a,y,h,k),Oi=!1;var V=a.memoizedState;y.state=V,_l(a,h,y,g),Tl(),U=a.memoizedState,_||V!==U||Oi?(typeof Q=="function"&&(sm(a,u,Q,h),U=a.memoizedState),(N=Oi||sx(a,u,N,h,V,U,k))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=U),y.props=h,y.state=U,y.context=k,h=N):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Ip(s,a),k=a.memoizedProps,W=Hs(u,k),y.props=W,Q=a.pendingProps,V=y.context,U=u.contextType,N=Bo,typeof U=="object"&&U!==null&&(N=Vt(U)),_=u.getDerivedStateFromProps,(U=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==Q||V!==N)&&ox(a,y,h,N),Oi=!1,V=a.memoizedState,y.state=V,_l(a,h,y,g),Tl();var F=a.memoizedState;k!==Q||V!==F||Oi||s!==null&&s.dependencies!==null&&Tu(s.dependencies)?(typeof _=="function"&&(sm(a,u,_,h),F=a.memoizedState),(W=Oi||sx(a,u,W,h,V,F,N)||s!==null&&s.dependencies!==null&&Tu(s.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,F,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,F,N)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=F),y.props=h,y.state=F,y.context=N,h=W):(typeof y.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,Fu(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=$s(a,s.child,null,g),a.child=$s(a,null,u,g)):qt(s,a,u,g),a.memoizedState=y.state,s=a.child):s=Jr(s,a,g),s}function xx(s,a,u,h){return Ds(),a.flags|=256,qt(s,a,u,h),a.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(s){return{baseLanes:s,cachePool:uw()}}function fm(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Rn),s}function Sx(s,a,u){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,k;if((k=y)||(k=s!==null&&s.memoizedState===null?!1:(yt.current&2)!==0),k&&(g=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,s===null){if(Be){if(g?Mi(a):ji(),(s=it)?(s=NS(s,Gn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ki!==null?{id:Tr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},u=tw(s),u.return=a,a.child=u,Ht=a,it=null)):s=null,s===null)throw _i(a);return Gm(s)?a.lanes=32:a.lanes=536870912,null}var _=h.children;return h=h.fallback,g?(ji(),g=a.mode,_=Ku({mode:"hidden",children:_},g),h=js(h,g,u,null),_.return=a,h.return=a,_.sibling=h,a.child=_,h=a.child,h.memoizedState=dm(u),h.childLanes=fm(s,k,u),a.memoizedState=um,Ml(null,h)):(Mi(a),hm(a,_))}var N=s.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(y)a.flags&256?(Mi(a),a.flags&=-257,a=pm(s,a,u)):a.memoizedState!==null?(ji(),a.child=s.child,a.flags|=128,a=null):(ji(),_=h.fallback,g=a.mode,h=Ku({mode:"visible",children:h.children},g),_=js(_,g,u,null),_.flags|=2,h.return=a,_.return=a,h.sibling=_,a.child=h,$s(a,s.child,null,u),h=a.child,h.memoizedState=dm(u),h.childLanes=fm(s,k,u),a.memoizedState=um,a=Ml(null,h));else if(Mi(a),Gm(_)){if(k=_.nextSibling&&_.nextSibling.dataset,k)var U=k.dgst;k=U,h=Error(r(419)),h.stack="",h.digest=k,wl({value:h,source:null,stack:null}),a=pm(s,a,u)}else if(Ct||Vo(s,a,u,!1),k=(u&s.childLanes)!==0,Ct||k){if(k=Qe,k!==null&&(h=lb(k,u),h!==0&&h!==N.retryLane))throw N.retryLane=h,Ms(s,h),bn(k,s,h),lm;Wm(_)||td(),a=pm(s,a,u)}else Wm(_)?(a.flags|=192,a.child=s.child,a=null):(s=N.treeContext,it=Yn(_.nextSibling),Ht=a,Be=!0,Ti=null,Gn=!1,s!==null&&iw(a,s),a=hm(a,h.children),a.flags|=4096);return a}return g?(ji(),_=h.fallback,g=a.mode,N=s.child,U=N.sibling,h=Vr(N,{mode:"hidden",children:h.children}),h.subtreeFlags=N.subtreeFlags&65011712,U!==null?_=Vr(U,_):(_=js(_,g,u,null),_.flags|=2),_.return=a,h.return=a,h.sibling=_,a.child=h,Ml(null,h),h=a.child,_=s.child.memoizedState,_===null?_=dm(u):(g=_.cachePool,g!==null?(N=St._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=uw(),_={baseLanes:_.baseLanes|u,cachePool:g}),h.memoizedState=_,h.childLanes=fm(s,k,u),a.memoizedState=um,Ml(s.child,h)):(Mi(a),u=s.child,s=u.sibling,u=Vr(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,s!==null&&(k=a.deletions,k===null?(a.deletions=[s],a.flags|=16):k.push(s)),a.child=u,a.memoizedState=null,u)}function hm(s,a){return a=Ku({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Ku(s,a){return s=_n(22,s,null,a),s.lanes=0,s}function pm(s,a,u){return $s(a,s.child,null,u),s=hm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Ex(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Op(s.return,a,u)}function mm(s,a,u,h,g,y){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g,treeForkCount:y}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=u,k.tailMode=g,k.treeForkCount=y)}function Cx(s,a,u){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var k=yt.current,_=(k&2)!==0;if(_?(k=k&1|2,a.flags|=128):k&=1,K(yt,k),qt(s,a,h,u),h=Be?bl:0,!_&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ex(s,u,a);else if(s.tag===19)Ex(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Du(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),mm(a,!1,g,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Du(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}mm(a,!0,u,null,y,h);break;case"together":mm(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Jr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ii|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Vo(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Vr(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Vr(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function gm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Tu(s)))}function HM(s,a,u){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),Ai(a,St,s.memoizedState.cache),Ds();break;case 27:case 5:Oe(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:Ai(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Up(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Mi(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Sx(s,a,u):(Mi(a),s=Jr(s,a,u),s!==null?s.sibling:null);Mi(a);break;case 19:var g=(s.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(Vo(s,a,u,!1),h=(u&a.childLanes)!==0),g){if(h)return Cx(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(yt,yt.current),h)break;return null;case 22:return a.lanes=0,gx(s,a,u,a.pendingProps);case 24:Ai(a,St,s.memoizedState.cache)}return Jr(s,a,u)}function kx(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ct=!0;else{if(!gm(s,u)&&(a.flags&128)===0)return Ct=!1,HM(s,a,u);Ct=(s.flags&131072)!==0}else Ct=!1,Be&&(a.flags&1048576)!==0&&rw(a,bl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(s=zs(a.elementType),a.type=s,typeof s=="function")xp(s)?(h=Hs(s,h),a.tag=1,a=wx(null,a,s,h,u)):(a.tag=0,a=cm(null,a,s,h,u));else{if(s!=null){var g=s.$$typeof;if(g===M){a.tag=11,a=hx(null,a,s,h,u);break e}else if(g===R){a.tag=14,a=px(null,a,s,h,u);break e}}throw a=oe(s)||s,Error(r(306,a,""))}}return a;case 0:return cm(s,a,a.type,a.pendingProps,u);case 1:return h=a.type,g=Hs(h,a.pendingProps),wx(s,a,h,g,u);case 3:e:{if(ve(a,a.stateNode.containerInfo),s===null)throw Error(r(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,Ip(s,a),_l(a,h,null,u);var k=a.memoizedState;if(h=k.cache,Ai(a,St,h),h!==y.cache&&Np(a,[St],u,!0),Tl(),h=k.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=xx(s,a,h,u);break e}else if(h!==g){g=Fn(Error(r(424)),a),wl(g),a=xx(s,a,h,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(it=Yn(s.firstChild),Ht=a,Be=!0,Ti=null,Gn=!0,u=gw(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ds(),h===g){a=Jr(s,a,u);break e}qt(s,a,h,u)}a=a.child}return a;case 26:return Fu(s,a),s===null?(u=IS(a.type,null,a.pendingProps,null))?a.memoizedState=u:Be||(u=a.type,s=a.pendingProps,h=ld(re.current).createElement(u),h[Ut]=a,h[hn]=s,Ft(h,u,s),Lt(h),a.stateNode=h):a.memoizedState=IS(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Oe(a),s===null&&Be&&(h=a.stateNode=jS(a.type,a.pendingProps,re.current),Ht=a,Gn=!0,g=it,Ui(a.type)?(Jm=g,it=Yn(h.firstChild)):it=g),qt(s,a,a.pendingProps.children,u),Fu(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Be&&((g=h=it)&&(h=v2(h,a.type,a.pendingProps,Gn),h!==null?(a.stateNode=h,Ht=a,it=Yn(h.firstChild),Gn=!1,g=!0):g=!1),g||_i(a)),Oe(a),g=a.type,y=a.pendingProps,k=s!==null?s.memoizedProps:null,h=y.children,qm(g,y)?h=null:k!==null&&qm(g,k)&&(a.flags|=32),a.memoizedState!==null&&(g=Vp(s,a,jM,null,null,u),Wl._currentValue=g),Fu(s,a),qt(s,a,h,u),a.child;case 6:return s===null&&Be&&((s=u=it)&&(u=b2(u,a.pendingProps,Gn),u!==null?(a.stateNode=u,Ht=a,it=null,s=!0):s=!1),s||_i(a)),null;case 13:return Sx(s,a,u);case 4:return ve(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=$s(a,null,h,u):qt(s,a,h,u),a.child;case 11:return hx(s,a,a.type,a.pendingProps,u);case 7:return qt(s,a,a.pendingProps,u),a.child;case 8:return qt(s,a,a.pendingProps.children,u),a.child;case 12:return qt(s,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Ai(a,a.type,h.value),qt(s,a,h.children,u),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Is(a),g=Vt(g),h=h(g),a.flags|=1,qt(s,a,h,u),a.child;case 14:return px(s,a,a.type,a.pendingProps,u);case 15:return mx(s,a,a.type,a.pendingProps,u);case 19:return Cx(s,a,u);case 31:return UM(s,a,u);case 22:return gx(s,a,u,a.pendingProps);case 24:return Is(a),h=Vt(St),s===null?(g=jp(),g===null&&(g=Qe,y=Rp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),a.memoizedState={parent:h,cache:g},Lp(a),Ai(a,St,g)):((s.lanes&u)!==0&&(Ip(s,a),_l(a,null,null,u),Tl()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ai(a,St,h)):(h=y.cache,Ai(a,St,h),h!==g.cache&&Np(a,[St],u,!0))),qt(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Yr(s){s.flags|=4}function ym(s,a,u,h,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Qx())s.flags|=8192;else throw Bs=Nu,Dp}else s.flags&=-16777217}function Tx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!US(a))if(Qx())s.flags|=8192;else throw Bs=Nu,Dp}function Wu(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?sb():536870912,s.lanes|=a,ta|=a)}function jl(s,a){if(!Be)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function st(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function VM(s,a,u){var h=a.pendingProps;switch(kp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(a),null;case 1:return st(a),null;case 3:return u=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Kr(St),ge(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Ho(a)?Yr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_p())),st(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(Yr(a),y!==null?(st(a),Tx(a,y)):(st(a),ym(a,g,null,h,u))):y?y!==s.memoizedState?(Yr(a),st(a),Tx(a,y)):(st(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Yr(a),st(a),ym(a,g,s,h,u)),null;case 27:if(Ue(a),u=re.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Yr(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return st(a),null}s=X.current,Ho(a)?sw(a):(s=jS(g,h,u),a.stateNode=s,Yr(a))}return st(a),null;case 5:if(Ue(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Yr(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return st(a),null}if(y=X.current,Ho(a))sw(a);else{var k=ld(re.current);switch(y){case 1:y=k.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=k.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=k.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?k.createElement(g,{is:h.is}):k.createElement(g)}}y[Ut]=a,y[hn]=h;e:for(k=a.child;k!==null;){if(k.tag===5||k.tag===6)y.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===a)break e;for(;k.sibling===null;){if(k.return===null||k.return===a)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}a.stateNode=y;e:switch(Ft(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Yr(a)}}return st(a),ym(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Yr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(s=re.current,Ho(a)){if(s=a.stateNode,u=a.memoizedProps,h=null,g=Ht,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Ut]=a,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||SS(s.nodeValue,u)),s||_i(a,!0)}else s=ld(s).createTextNode(h),s[Ut]=a,a.stateNode=s}return st(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(h=Ho(a),u!==null){if(s===null){if(!h)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ut]=a}else Ds(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;st(a),s=!1}else u=_p(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(On(a),a):(On(a),null);if((a.flags&128)!==0)throw Error(r(558))}return st(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ho(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Ut]=a}else Ds(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;st(a),g=!1}else g=_p(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(On(a),a):(On(a),null)}return On(a),(a.flags&128)!==0?(a.lanes=u,a):(u=h!==null,s=s!==null&&s.memoizedState!==null,u&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),Wu(a,a.updateQueue),st(a),null);case 4:return ge(),s===null&&Bm(a.stateNode.containerInfo),st(a),null;case 10:return Kr(a.type),st(a),null;case 19:if(j(yt),h=a.memoizedState,h===null)return st(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)jl(h,!1);else{if(pt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Du(s),y!==null){for(a.flags|=128,jl(h,!1),s=y.updateQueue,a.updateQueue=s,Wu(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)ew(u,s),u=u.sibling;return K(yt,yt.current&1|2),Be&&qr(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&En()>Qu&&(a.flags|=128,g=!0,jl(h,!1),a.lanes=4194304)}else{if(!g)if(s=Du(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Wu(a,s),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Be)return st(a),null}else 2*En()-h.renderingStartTime>Qu&&u!==536870912&&(a.flags|=128,g=!0,jl(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=En(),s.sibling=null,u=yt.current,K(yt,g?u&1|2:u&1),Be&&qr(a,h.treeForkCount),s):(st(a),null);case 22:case 23:return On(a),$p(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(st(a),a.subtreeFlags&6&&(a.flags|=8192)):st(a),u=a.updateQueue,u!==null&&Wu(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),s!==null&&j(Ps),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Kr(St),st(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function qM(s,a){switch(kp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Kr(St),ge(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 31:if(a.memoizedState!==null){if(On(a),a.alternate===null)throw Error(r(340));Ds()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(On(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ds()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return j(yt),null;case 4:return ge(),null;case 10:return Kr(a.type),null;case 22:case 23:return On(a),$p(),s!==null&&j(Ps),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Kr(St),null;case 25:return null;default:return null}}function _x(s,a){switch(kp(a),a.tag){case 3:Kr(St),ge();break;case 26:case 27:case 5:Ue(a);break;case 4:ge();break;case 31:a.memoizedState!==null&&On(a);break;case 13:On(a);break;case 19:j(yt);break;case 10:Kr(a.type);break;case 22:case 23:On(a),$p(),s!==null&&j(Ps);break;case 24:Kr(St)}}function Dl(s,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&s)===s){h=void 0;var y=u.create,k=u.inst;h=y(),k.destroy=h}u=u.next}while(u!==g)}}catch(_){We(a,a.return,_)}}function Di(s,a,u){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var k=h.inst,_=k.destroy;if(_!==void 0){k.destroy=void 0,g=a;var N=u,U=_;try{U()}catch(W){We(g,N,W)}}}h=h.next}while(h!==y)}}catch(W){We(a,a.return,W)}}function Ax(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{vw(a,u)}catch(h){We(s,s.return,h)}}}function Ox(s,a,u){u.props=Hs(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){We(s,a,h)}}function Ll(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(g){We(s,a,g)}}function Ar(s,a){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){We(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){We(s,a,g)}else u.current=null}function Nx(s){var a=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){We(s,s.return,g)}}function vm(s,a,u){try{var h=s.stateNode;f2(h,s.type,u,a),h[hn]=a}catch(g){We(s,s.return,g)}}function Rx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ui(s.type)||s.tag===4}function bm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Rx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ui(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ur));else if(h!==4&&(h===27&&Ui(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(wm(s,a,u),s=s.sibling;s!==null;)wm(s,a,u),s=s.sibling}function Gu(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(h===27&&Ui(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Gu(s,a,u),s=s.sibling;s!==null;)Gu(s,a,u),s=s.sibling}function Mx(s){var a=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Ft(a,h,u),a[Ut]=s,a[hn]=u}catch(y){We(s,s.return,y)}}var Xr=!1,kt=!1,xm=!1,jx=typeof WeakSet=="function"?WeakSet:Set,It=null;function FM(s,a){if(s=s.containerInfo,Hm=md,s=Fb(s),pp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var k=0,_=-1,N=-1,U=0,W=0,Q=s,V=null;t:for(;;){for(var F;Q!==u||g!==0&&Q.nodeType!==3||(_=k+g),Q!==y||h!==0&&Q.nodeType!==3||(N=k+h),Q.nodeType===3&&(k+=Q.nodeValue.length),(F=Q.firstChild)!==null;)V=Q,Q=F;for(;;){if(Q===s)break t;if(V===u&&++U===g&&(_=k),V===y&&++W===h&&(N=k),(F=Q.nextSibling)!==null)break;Q=V,V=Q.parentNode}Q=F}u=_===-1||N===-1?null:{start:_,end:N}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vm={focusedElem:s,selectionRange:u},md=!1,It=a;It!==null;)if(a=It,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,It=s;else for(;It!==null;){switch(a=It,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)g=s[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,u=a,g=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var ae=Hs(u.type,g);s=h.getSnapshotBeforeUpdate(ae,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Se){We(u,u.return,Se)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)Km(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Km(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,It=s;break}It=a.return}}function Dx(s,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Zr(s,u),h&4&&Dl(5,u);break;case 1:if(Zr(s,u),h&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(k){We(u,u.return,k)}else{var g=Hs(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){We(u,u.return,k)}}h&64&&Ax(u),h&512&&Ll(u,u.return);break;case 3:if(Zr(s,u),h&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{vw(s,a)}catch(k){We(u,u.return,k)}}break;case 27:a===null&&h&4&&Mx(u);case 26:case 5:Zr(s,u),a===null&&h&4&&Nx(u),h&512&&Ll(u,u.return);break;case 12:Zr(s,u);break;case 31:Zr(s,u),h&4&&Px(s,u);break;case 13:Zr(s,u),h&4&&zx(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=e2.bind(null,u),w2(s,u))));break;case 22:if(h=u.memoizedState!==null||Xr,!h){a=a!==null&&a.memoizedState!==null||kt,g=Xr;var y=kt;Xr=h,(kt=a)&&!y?ei(s,u,(u.subtreeFlags&8772)!==0):Zr(s,u),Xr=g,kt=y}break;case 30:break;default:Zr(s,u)}}function Lx(s){var a=s.alternate;a!==null&&(s.alternate=null,Lx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Xh(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,mn=!1;function Qr(s,a,u){for(u=u.child;u!==null;)Ix(s,a,u),u=u.sibling}function Ix(s,a,u){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(sl,u)}catch{}switch(u.tag){case 26:kt||Ar(u,a),Qr(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kt||Ar(u,a);var h=lt,g=mn;Ui(u.type)&&(lt=u.stateNode,mn=!1),Qr(s,a,u),ql(u.stateNode),lt=h,mn=g;break;case 5:kt||Ar(u,a);case 6:if(h=lt,g=mn,lt=null,Qr(s,a,u),lt=h,mn=g,lt!==null)if(mn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(u.stateNode)}catch(y){We(u,a,y)}else try{lt.removeChild(u.stateNode)}catch(y){We(u,a,y)}break;case 18:lt!==null&&(mn?(s=lt,AS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),ca(s)):AS(lt,u.stateNode));break;case 4:h=lt,g=mn,lt=u.stateNode.containerInfo,mn=!0,Qr(s,a,u),lt=h,mn=g;break;case 0:case 11:case 14:case 15:Di(2,u,a),kt||Di(4,u,a),Qr(s,a,u);break;case 1:kt||(Ar(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Ox(u,a,h)),Qr(s,a,u);break;case 21:Qr(s,a,u);break;case 22:kt=(h=kt)||u.memoizedState!==null,Qr(s,a,u),kt=h;break;default:Qr(s,a,u)}}function Px(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ca(s)}catch(u){We(a,a.return,u)}}}function zx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ca(s)}catch(u){We(a,a.return,u)}}function KM(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new jx),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new jx),a;default:throw Error(r(435,s.tag))}}function Ju(s,a){var u=KM(s);a.forEach(function(h){if(!u.has(h)){u.add(h);var g=t2.bind(null,s,h);h.then(g,g)}})}function gn(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],y=s,k=a,_=k;e:for(;_!==null;){switch(_.tag){case 27:if(Ui(_.type)){lt=_.stateNode,mn=!1;break e}break;case 5:lt=_.stateNode,mn=!1;break e;case 3:case 4:lt=_.stateNode.containerInfo,mn=!0;break e}_=_.return}if(lt===null)throw Error(r(160));Ix(y,k,g),lt=null,mn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Bx(a,s),a=a.sibling}var fr=null;function Bx(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gn(a,s),yn(s),h&4&&(Di(3,s,s.return),Dl(3,s),Di(5,s,s.return));break;case 1:gn(a,s),yn(s),h&512&&(kt||u===null||Ar(u,u.return)),h&64&&Xr&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=fr;if(gn(a,s),yn(s),h&512&&(kt||u===null||Ar(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ll]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Ft(y,h,u),y[Ut]=s,Lt(y),h=y;break e;case"link":var k=BS("link","href",g).get(h+(u.href||""));if(k){for(var _=0;_<k.length;_++)if(y=k[_],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(_,1);break t}}y=g.createElement(h),Ft(y,h,u),g.head.appendChild(y);break;case"meta":if(k=BS("meta","content",g).get(h+(u.content||""))){for(_=0;_<k.length;_++)if(y=k[_],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(_,1);break t}}y=g.createElement(h),Ft(y,h,u),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[Ut]=s,Lt(y),h=y}s.stateNode=h}else $S(g,s.type,s.stateNode);else s.stateNode=zS(g,h,s.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?$S(g,s.type,s.stateNode):zS(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&vm(s,s.memoizedProps,u.memoizedProps)}break;case 27:gn(a,s),yn(s),h&512&&(kt||u===null||Ar(u,u.return)),u!==null&&h&4&&vm(s,s.memoizedProps,u.memoizedProps);break;case 5:if(gn(a,s),yn(s),h&512&&(kt||u===null||Ar(u,u.return)),s.flags&32){g=s.stateNode;try{Mo(g,"")}catch(ae){We(s,s.return,ae)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,vm(s,g,u!==null?u.memoizedProps:g)),h&1024&&(xm=!0);break;case 6:if(gn(a,s),yn(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(ae){We(s,s.return,ae)}}break;case 3:if(dd=null,g=fr,fr=cd(a.containerInfo),gn(a,s),fr=g,yn(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ca(a.containerInfo)}catch(ae){We(s,s.return,ae)}xm&&(xm=!1,$x(s));break;case 4:h=fr,fr=cd(s.stateNode.containerInfo),gn(a,s),yn(s),fr=h;break;case 12:gn(a,s),yn(s);break;case 31:gn(a,s),yn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ju(s,h)));break;case 13:gn(a,s),yn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Xu=En()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ju(s,h)));break;case 22:g=s.memoizedState!==null;var N=u!==null&&u.memoizedState!==null,U=Xr,W=kt;if(Xr=U||g,kt=W||N,gn(a,s),kt=W,Xr=U,yn(s),h&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||N||Xr||kt||Vs(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){N=u=a;try{if(y=N.stateNode,g)k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{_=N.stateNode;var Q=N.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;_.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ae){We(N,N.return,ae)}}}else if(a.tag===6){if(u===null){N=a;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(ae){We(N,N.return,ae)}}}else if(a.tag===18){if(u===null){N=a;try{var F=N.stateNode;g?OS(F,!0):OS(N.stateNode,!1)}catch(ae){We(N,N.return,ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Ju(s,u))));break;case 19:gn(a,s),yn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ju(s,h)));break;case 30:break;case 21:break;default:gn(a,s),yn(s)}}function yn(s){var a=s.flags;if(a&2){try{for(var u,h=s.return;h!==null;){if(Rx(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,y=bm(s);Gu(s,y,g);break;case 5:var k=u.stateNode;u.flags&32&&(Mo(k,""),u.flags&=-33);var _=bm(s);Gu(s,_,k);break;case 3:case 4:var N=u.stateNode.containerInfo,U=bm(s);wm(s,U,N);break;default:throw Error(r(161))}}catch(W){We(s,s.return,W)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function $x(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;$x(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Zr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Dx(s,a.alternate,a),a=a.sibling}function Vs(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Di(4,a,a.return),Vs(a);break;case 1:Ar(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Ox(a,a.return,u),Vs(a);break;case 27:ql(a.stateNode);case 26:case 5:Ar(a,a.return),Vs(a);break;case 22:a.memoizedState===null&&Vs(a);break;case 30:Vs(a);break;default:Vs(a)}s=s.sibling}}function ei(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,k=y.flags;switch(y.tag){case 0:case 11:case 15:ei(g,y,u),Dl(4,y);break;case 1:if(ei(g,y,u),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){We(h,h.return,U)}if(h=y,g=h.updateQueue,g!==null){var _=h.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)yw(N[g],_)}catch(U){We(h,h.return,U)}}u&&k&64&&Ax(y),Ll(y,y.return);break;case 27:Mx(y);case 26:case 5:ei(g,y,u),u&&h===null&&k&4&&Nx(y),Ll(y,y.return);break;case 12:ei(g,y,u);break;case 31:ei(g,y,u),u&&k&4&&Px(g,y);break;case 13:ei(g,y,u),u&&k&4&&zx(g,y);break;case 22:y.memoizedState===null&&ei(g,y,u),Ll(y,y.return);break;case 30:break;default:ei(g,y,u)}a=a.sibling}}function Sm(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&xl(u))}function Em(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xl(s))}function hr(s,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ux(s,a,u,h),a=a.sibling}function Ux(s,a,u,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:hr(s,a,u,h),g&2048&&Dl(9,a);break;case 1:hr(s,a,u,h);break;case 3:hr(s,a,u,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xl(s)));break;case 12:if(g&2048){hr(s,a,u,h),s=a.stateNode;try{var y=a.memoizedProps,k=y.id,_=y.onPostCommit;typeof _=="function"&&_(k,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){We(a,a.return,N)}}else hr(s,a,u,h);break;case 31:hr(s,a,u,h);break;case 13:hr(s,a,u,h);break;case 23:break;case 22:y=a.stateNode,k=a.alternate,a.memoizedState!==null?y._visibility&2?hr(s,a,u,h):Il(s,a):y._visibility&2?hr(s,a,u,h):(y._visibility|=2,Qo(s,a,u,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Sm(k,a);break;case 24:hr(s,a,u,h),g&2048&&Em(a.alternate,a);break;default:hr(s,a,u,h)}}function Qo(s,a,u,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,k=a,_=u,N=h,U=k.flags;switch(k.tag){case 0:case 11:case 15:Qo(y,k,_,N,g),Dl(8,k);break;case 23:break;case 22:var W=k.stateNode;k.memoizedState!==null?W._visibility&2?Qo(y,k,_,N,g):Il(y,k):(W._visibility|=2,Qo(y,k,_,N,g)),g&&U&2048&&Sm(k.alternate,k);break;case 24:Qo(y,k,_,N,g),g&&U&2048&&Em(k.alternate,k);break;default:Qo(y,k,_,N,g)}a=a.sibling}}function Il(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,h=a,g=h.flags;switch(h.tag){case 22:Il(u,h),g&2048&&Sm(h.alternate,h);break;case 24:Il(u,h),g&2048&&Em(h.alternate,h);break;default:Il(u,h)}a=a.sibling}}var Pl=8192;function Zo(s,a,u){if(s.subtreeFlags&Pl)for(s=s.child;s!==null;)Hx(s,a,u),s=s.sibling}function Hx(s,a,u){switch(s.tag){case 26:Zo(s,a,u),s.flags&Pl&&s.memoizedState!==null&&M2(u,fr,s.memoizedState,s.memoizedProps);break;case 5:Zo(s,a,u);break;case 3:case 4:var h=fr;fr=cd(s.stateNode.containerInfo),Zo(s,a,u),fr=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Pl,Pl=16777216,Zo(s,a,u),Pl=h):Zo(s,a,u));break;default:Zo(s,a,u)}}function Vx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function zl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];It=h,Fx(h,s)}Vx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qx(s),s=s.sibling}function qx(s){switch(s.tag){case 0:case 11:case 15:zl(s),s.flags&2048&&Di(9,s,s.return);break;case 3:zl(s);break;case 12:zl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Yu(s)):zl(s);break;default:zl(s)}}function Yu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];It=h,Fx(h,s)}Vx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Di(8,a,a.return),Yu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Yu(a));break;default:Yu(a)}s=s.sibling}}function Fx(s,a){for(;It!==null;){var u=It;switch(u.tag){case 0:case 11:case 15:Di(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:xl(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,It=h;else e:for(u=s;It!==null;){h=It;var g=h.sibling,y=h.return;if(Lx(h),h===u){It=null;break e}if(g!==null){g.return=y,It=g;break e}It=y}}}var WM={getCacheForType:function(s){var a=Vt(St),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return Vt(St).controller.signal}},GM=typeof WeakMap=="function"?WeakMap:Map,qe=0,Qe=null,Le=null,Pe=0,Ke=0,Nn=null,Li=!1,ea=!1,Cm=!1,ti=0,pt=0,Ii=0,qs=0,km=0,Rn=0,ta=0,Bl=null,vn=null,Tm=!1,Xu=0,Kx=0,Qu=1/0,Zu=null,Pi=null,Nt=0,zi=null,na=null,ni=0,_m=0,Am=null,Wx=null,$l=0,Om=null;function Mn(){return(qe&2)!==0&&Pe!==0?Pe&-Pe:z.T!==null?Lm():cb()}function Gx(){if(Rn===0)if((Pe&536870912)===0||Be){var s=au;au<<=1,(au&3932160)===0&&(au=262144),Rn=s}else Rn=536870912;return s=An.current,s!==null&&(s.flags|=32),Rn}function bn(s,a,u){(s===Qe&&(Ke===2||Ke===9)||s.cancelPendingCommit!==null)&&(ra(s,0),Bi(s,Pe,Rn,!1)),al(s,u),((qe&2)===0||s!==Qe)&&(s===Qe&&((qe&2)===0&&(qs|=u),pt===4&&Bi(s,Pe,Rn,!1)),Or(s))}function Jx(s,a,u){if((qe&6)!==0)throw Error(r(327));var h=!u&&(a&127)===0&&(a&s.expiredLanes)===0||ol(s,a),g=h?XM(s,a):Rm(s,a,!0),y=h;do{if(g===0){ea&&!h&&Bi(s,a,0,!1);break}else{if(u=s.current.alternate,y&&!JM(u)){g=Rm(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var _=s;g=Bl;var N=_.current.memoizedState.isDehydrated;if(N&&(ra(_,k).flags|=256),k=Rm(_,k,!1),k!==2){if(Cm&&!N){_.errorRecoveryDisabledLanes|=y,qs|=y,g=4;break e}y=vn,vn=g,y!==null&&(vn===null?vn=y:vn.push.apply(vn,y))}g=k}if(y=!1,g!==2)continue}}if(g===1){ra(s,0),Bi(s,a,0,!0);break}e:{switch(h=s,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Bi(h,a,Rn,!Li);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Xu+300-En(),10<g)){if(Bi(h,a,Rn,!Li),cu(h,0,!0)!==0)break e;ni=a,h.timeoutHandle=TS(Yx.bind(null,h,u,vn,Zu,Tm,a,Rn,qs,ta,Li,y,"Throttled",-0,0),g);break e}Yx(h,u,vn,Zu,Tm,a,Rn,qs,ta,Li,y,null,-0,0)}}break}while(!0);Or(s)}function Yx(s,a,u,h,g,y,k,_,N,U,W,Q,V,F){if(s.timeoutHandle=-1,Q=a.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},Hx(a,y,Q);var ae=(y&62914560)===y?Xu-En():(y&4194048)===y?Kx-En():0;if(ae=j2(Q,ae),ae!==null){ni=y,s.cancelPendingCommit=ae(iS.bind(null,s,a,y,u,h,g,k,_,N,W,Q,null,V,F)),Bi(s,y,k,!U);return}}iS(s,a,y,u,h,g,k,_,N)}function JM(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!Tn(y(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bi(s,a,u,h){a&=~km,a&=~qs,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-kn(g),k=1<<y;h[y]=-1,g&=~k}u!==0&&ob(s,u,a)}function ed(){return(qe&6)===0?(Ul(0),!1):!0}function Nm(){if(Le!==null){if(Ke===0)var s=Le.return;else s=Le,Fr=Ls=null,Kp(s),Wo=null,El=0,s=Le;for(;s!==null;)_x(s.alternate,s),s=s.return;Le=null}}function ra(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,m2(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ni=0,Nm(),Qe=s,Le=u=Vr(s.current,null),Pe=a,Ke=0,Nn=null,Li=!1,ea=ol(s,a),Cm=!1,ta=Rn=km=qs=Ii=pt=0,vn=Bl=null,Tm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-kn(h),y=1<<g;a|=s[g],h&=~y}return ti=a,xu(),u}function Xx(s,a){Ae=null,z.H=Rl,a===Ko||a===Ou?(a=hw(),Ke=3):a===Dp?(a=hw(),Ke=4):Ke=a===lm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Nn=a,Le===null&&(pt=1,Vu(s,Fn(a,s.current)))}function Qx(){var s=An.current;return s===null?!0:(Pe&4194048)===Pe?Jn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?s===Jn:!1}function Zx(){var s=z.H;return z.H=Rl,s===null?Rl:s}function eS(){var s=z.A;return z.A=WM,s}function td(){pt=4,Li||(Pe&4194048)!==Pe&&An.current!==null||(ea=!0),(Ii&134217727)===0&&(qs&134217727)===0||Qe===null||Bi(Qe,Pe,Rn,!1)}function Rm(s,a,u){var h=qe;qe|=2;var g=Zx(),y=eS();(Qe!==s||Pe!==a)&&(Zu=null,ra(s,a)),a=!1;var k=pt;e:do try{if(Ke!==0&&Le!==null){var _=Le,N=Nn;switch(Ke){case 8:Nm(),k=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(a=!0);var U=Ke;if(Ke=0,Nn=null,ia(s,_,N,U),u&&ea){k=0;break e}break;default:U=Ke,Ke=0,Nn=null,ia(s,_,N,U)}}YM(),k=pt;break}catch(W){Xx(s,W)}while(!0);return a&&s.shellSuspendCounter++,Fr=Ls=null,qe=h,z.H=g,z.A=y,Le===null&&(Qe=null,Pe=0,xu()),k}function YM(){for(;Le!==null;)tS(Le)}function XM(s,a){var u=qe;qe|=2;var h=Zx(),g=eS();Qe!==s||Pe!==a?(Zu=null,Qu=En()+500,ra(s,a)):ea=ol(s,a);e:do try{if(Ke!==0&&Le!==null){a=Le;var y=Nn;t:switch(Ke){case 1:Ke=0,Nn=null,ia(s,a,y,1);break;case 2:case 9:if(dw(y)){Ke=0,Nn=null,nS(a);break}a=function(){Ke!==2&&Ke!==9||Qe!==s||(Ke=7),Or(s)},y.then(a,a);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:dw(y)?(Ke=0,Nn=null,nS(a)):(Ke=0,Nn=null,ia(s,a,y,7));break;case 5:var k=null;switch(Le.tag){case 26:k=Le.memoizedState;case 5:case 27:var _=Le;if(k?US(k):_.stateNode.complete){Ke=0,Nn=null;var N=_.sibling;if(N!==null)Le=N;else{var U=_.return;U!==null?(Le=U,nd(U)):Le=null}break t}}Ke=0,Nn=null,ia(s,a,y,5);break;case 6:Ke=0,Nn=null,ia(s,a,y,6);break;case 8:Nm(),pt=6;break e;default:throw Error(r(462))}}QM();break}catch(W){Xx(s,W)}while(!0);return Fr=Ls=null,z.H=h,z.A=g,qe=u,Le!==null?0:(Qe=null,Pe=0,xu(),pt)}function QM(){for(;Le!==null&&!xR();)tS(Le)}function tS(s){var a=kx(s.alternate,s,ti);s.memoizedProps=s.pendingProps,a===null?nd(s):Le=a}function nS(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=bx(u,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=bx(u,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:Kp(a);default:_x(u,a),a=Le=ew(a,ti),a=kx(u,a,ti)}s.memoizedProps=s.pendingProps,a===null?nd(s):Le=a}function ia(s,a,u,h){Fr=Ls=null,Kp(a),Wo=null,El=0;var g=a.return;try{if($M(s,g,a,u,Pe)){pt=1,Vu(s,Fn(u,s.current)),Le=null;return}}catch(y){if(g!==null)throw Le=g,y;pt=1,Vu(s,Fn(u,s.current)),Le=null;return}a.flags&32768?(Be||h===1?s=!0:ea||(Pe&536870912)!==0?s=!1:(Li=s=!0,(h===2||h===9||h===3||h===6)&&(h=An.current,h!==null&&h.tag===13&&(h.flags|=16384))),rS(a,s)):nd(a)}function nd(s){var a=s;do{if((a.flags&32768)!==0){rS(a,Li);return}s=a.return;var u=VM(a.alternate,a,ti);if(u!==null){Le=u;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=s}while(a!==null);pt===0&&(pt=5)}function rS(s,a){do{var u=qM(s.alternate,s);if(u!==null){u.flags&=32767,Le=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Le=s;return}Le=s=u}while(s!==null);pt=6,Le=null}function iS(s,a,u,h,g,y,k,_,N){s.cancelPendingCommit=null;do rd();while(Nt!==0);if((qe&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=bp,RR(s,u,y,k,_,N),s===Qe&&(Le=Qe=null,Pe=0),na=a,zi=s,ni=u,_m=y,Am=g,Wx=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,n2(su,function(){return cS(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,g=G.p,G.p=2,k=qe,qe|=4;try{FM(s,a,u)}finally{qe=k,G.p=g,z.T=h}}Nt=1,sS(),oS(),aS()}}function sS(){if(Nt===1){Nt=0;var s=zi,a=na,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var h=G.p;G.p=2;var g=qe;qe|=4;try{Bx(a,s);var y=Vm,k=Fb(s.containerInfo),_=y.focusedElem,N=y.selectionRange;if(k!==_&&_&&_.ownerDocument&&qb(_.ownerDocument.documentElement,_)){if(N!==null&&pp(_)){var U=N.start,W=N.end;if(W===void 0&&(W=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(W,_.value.length);else{var Q=_.ownerDocument||document,V=Q&&Q.defaultView||window;if(V.getSelection){var F=V.getSelection(),ae=_.textContent.length,Se=Math.min(N.start,ae),Xe=N.end===void 0?Se:Math.min(N.end,ae);!F.extend&&Se>Xe&&(k=Xe,Xe=Se,Se=k);var B=Vb(_,Se),I=Vb(_,Xe);if(B&&I&&(F.rangeCount!==1||F.anchorNode!==B.node||F.anchorOffset!==B.offset||F.focusNode!==I.node||F.focusOffset!==I.offset)){var $=Q.createRange();$.setStart(B.node,B.offset),F.removeAllRanges(),Se>Xe?(F.addRange($),F.extend(I.node,I.offset)):($.setEnd(I.node,I.offset),F.addRange($))}}}}for(Q=[],F=_;F=F.parentNode;)F.nodeType===1&&Q.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Q.length;_++){var Y=Q[_];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}md=!!Hm,Vm=Hm=null}finally{qe=g,G.p=h,z.T=u}}s.current=a,Nt=2}}function oS(){if(Nt===2){Nt=0;var s=zi,a=na,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var h=G.p;G.p=2;var g=qe;qe|=4;try{Dx(s,a.alternate,a)}finally{qe=g,G.p=h,z.T=u}}Nt=3}}function aS(){if(Nt===4||Nt===3){Nt=0,SR();var s=zi,a=na,u=ni,h=Wx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Nt=5:(Nt=0,na=zi=null,lS(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Pi=null),Jh(u),a=a.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(sl,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=z.T,g=G.p,G.p=2,z.T=null;try{for(var y=s.onRecoverableError,k=0;k<h.length;k++){var _=h[k];y(_.value,{componentStack:_.stack})}}finally{z.T=a,G.p=g}}(ni&3)!==0&&rd(),Or(s),g=s.pendingLanes,(u&261930)!==0&&(g&42)!==0?s===Om?$l++:($l=0,Om=s):$l=0,Ul(0)}}function lS(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,xl(a)))}function rd(){return sS(),oS(),aS(),cS()}function cS(){if(Nt!==5)return!1;var s=zi,a=_m;_m=0;var u=Jh(ni),h=z.T,g=G.p;try{G.p=32>u?32:u,z.T=null,u=Am,Am=null;var y=zi,k=ni;if(Nt=0,na=zi=null,ni=0,(qe&6)!==0)throw Error(r(331));var _=qe;if(qe|=4,qx(y.current),Ux(y,y.current,k,u),qe=_,Ul(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(sl,y)}catch{}return!0}finally{G.p=g,z.T=h,lS(s,a)}}function uS(s,a,u){a=Fn(u,a),a=am(s.stateNode,a,2),s=Ri(s,a,2),s!==null&&(al(s,2),Or(s))}function We(s,a,u){if(s.tag===3)uS(s,s,u);else for(;a!==null;){if(a.tag===3){uS(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pi===null||!Pi.has(h))){s=Fn(u,s),u=dx(2),h=Ri(a,u,2),h!==null&&(fx(u,h,a,s),al(h,2),Or(h));break}}a=a.return}}function Mm(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new GM;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(Cm=!0,g.add(u),s=ZM.bind(null,s,a,u),a.then(s,s))}function ZM(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Qe===s&&(Pe&u)===u&&(pt===4||pt===3&&(Pe&62914560)===Pe&&300>En()-Xu?(qe&2)===0&&ra(s,0):km|=u,ta===Pe&&(ta=0)),Or(s)}function dS(s,a){a===0&&(a=sb()),s=Ms(s,a),s!==null&&(al(s,a),Or(s))}function e2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),dS(s,u)}function t2(s,a){var u=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),dS(s,u)}function n2(s,a){return Fh(s,a)}var id=null,sa=null,jm=!1,sd=!1,Dm=!1,$i=0;function Or(s){s!==sa&&s.next===null&&(sa===null?id=sa=s:sa=sa.next=s),sd=!0,jm||(jm=!0,i2())}function Ul(s,a){if(!Dm&&sd){Dm=!0;do for(var u=!1,h=id;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var k=h.suspendedLanes,_=h.pingedLanes;y=(1<<31-kn(42|s)+1)-1,y&=g&~(k&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,mS(h,y))}else y=Pe,y=cu(h,h===Qe?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ol(h,y)||(u=!0,mS(h,y));h=h.next}while(u);Dm=!1}}function r2(){fS()}function fS(){sd=jm=!1;var s=0;$i!==0&&p2()&&(s=$i);for(var a=En(),u=null,h=id;h!==null;){var g=h.next,y=hS(h,a);y===0?(h.next=null,u===null?id=g:u.next=g,g===null&&(sa=u)):(u=h,(s!==0||(y&3)!==0)&&(sd=!0)),h=g}Nt!==0&&Nt!==5||Ul(s),$i!==0&&($i=0)}function hS(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var k=31-kn(y),_=1<<k,N=g[k];N===-1?((_&u)===0||(_&h)!==0)&&(g[k]=NR(_,a)):N<=a&&(s.expiredLanes|=_),y&=~_}if(a=Qe,u=Pe,u=cu(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===a&&(Ke===2||Ke===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Kh(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ol(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(h!==null&&Kh(h),Jh(u)){case 2:case 8:u=rb;break;case 32:u=su;break;case 268435456:u=ib;break;default:u=su}return h=pS.bind(null,s),u=Fh(u,h),s.callbackPriority=a,s.callbackNode=u,a}return h!==null&&h!==null&&Kh(h),s.callbackPriority=2,s.callbackNode=null,2}function pS(s,a){if(Nt!==0&&Nt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(rd()&&s.callbackNode!==u)return null;var h=Pe;return h=cu(s,s===Qe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Jx(s,h,a),hS(s,En()),s.callbackNode!=null&&s.callbackNode===u?pS.bind(null,s):null)}function mS(s,a){if(rd())return null;Jx(s,a,!0)}function i2(){g2(function(){(qe&6)!==0?Fh(nb,r2):fS()})}function Lm(){if($i===0){var s=qo;s===0&&(s=ou,ou<<=1,(ou&261888)===0&&(ou=256)),$i=s}return $i}function gS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hu(""+s)}function yS(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function s2(s,a,u,h,g){if(a==="submit"&&u&&u.stateNode===g){var y=gS((g[hn]||null).action),k=h.submitter;k&&(a=(a=k[hn]||null)?gS(a.formAction):k.getAttribute("formAction"),a!==null&&(y=a,k=null));var _=new yu("action","action",null,h,g);s.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if($i!==0){var N=k?yS(g,k):new FormData(g);tm(u,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(_.preventDefault(),N=k?yS(g,k):new FormData(g),tm(u,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var Im=0;Im<vp.length;Im++){var Pm=vp[Im],o2=Pm.toLowerCase(),a2=Pm[0].toUpperCase()+Pm.slice(1);dr(o2,"on"+a2)}dr(Gb,"onAnimationEnd"),dr(Jb,"onAnimationIteration"),dr(Yb,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(EM,"onTransitionRun"),dr(CM,"onTransitionStart"),dr(kM,"onTransitionCancel"),dr(Xb,"onTransitionEnd"),No("onMouseEnter",["mouseout","mouseover"]),No("onMouseLeave",["mouseout","mouseover"]),No("onPointerEnter",["pointerout","pointerover"]),No("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function vS(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var k=h.length-1;0<=k;k--){var _=h[k],N=_.instance,U=_.currentTarget;if(_=_.listener,N!==y&&g.isPropagationStopped())break e;y=_,g.currentTarget=U;try{y(g)}catch(W){wu(W)}g.currentTarget=null,y=N}else for(k=0;k<h.length;k++){if(_=h[k],N=_.instance,U=_.currentTarget,_=_.listener,N!==y&&g.isPropagationStopped())break e;y=_,g.currentTarget=U;try{y(g)}catch(W){wu(W)}g.currentTarget=null,y=N}}}}function Ie(s,a){var u=a[Yh];u===void 0&&(u=a[Yh]=new Set);var h=s+"__bubble";u.has(h)||(bS(a,s,2,!1),u.add(h))}function zm(s,a,u){var h=0;a&&(h|=4),bS(u,s,h,a)}var od="_reactListening"+Math.random().toString(36).slice(2);function Bm(s){if(!s[od]){s[od]=!0,fb.forEach(function(u){u!=="selectionchange"&&(l2.has(u)||zm(u,!1,s),zm(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[od]||(a[od]=!0,zm("selectionchange",!1,a))}}function bS(s,a,u,h){switch(GS(a)){case 2:var g=I2;break;case 8:g=P2;break;default:g=eg}u=g.bind(null,a,u,s),g=void 0,!sp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function $m(s,a,u,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var _=h.stateNode.containerInfo;if(_===g)break;if(k===4)for(k=h.return;k!==null;){var N=k.tag;if((N===3||N===4)&&k.stateNode.containerInfo===g)return;k=k.return}for(;_!==null;){if(k=_o(_),k===null)return;if(N=k.tag,N===5||N===6||N===26||N===27){h=y=k;continue e}_=_.parentNode}}h=h.return}Cb(function(){var U=y,W=rp(u),Q=[];e:{var V=Qb.get(s);if(V!==void 0){var F=yu,ae=s;switch(s){case"keypress":if(mu(u)===0)break e;case"keydown":case"keyup":F=tM;break;case"focusin":ae="focus",F=cp;break;case"focusout":ae="blur",F=cp;break;case"beforeblur":case"afterblur":F=cp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=_b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=VR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=iM;break;case Gb:case Jb:case Yb:F=KR;break;case Xb:F=oM;break;case"scroll":case"scrollend":F=UR;break;case"wheel":F=lM;break;case"copy":case"cut":case"paste":F=GR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ob;break;case"toggle":case"beforetoggle":F=uM}var Se=(a&4)!==0,Xe=!Se&&(s==="scroll"||s==="scrollend"),B=Se?V!==null?V+"Capture":null:V;Se=[];for(var I=U,$;I!==null;){var Y=I;if($=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||$===null||B===null||(Y=ul(I,B),Y!=null&&Se.push(Vl(I,Y,$))),Xe)break;I=I.return}0<Se.length&&(V=new F(V,ae,null,u,W),Q.push({event:V,listeners:Se}))}}if((a&7)===0){e:{if(V=s==="mouseover"||s==="pointerover",F=s==="mouseout"||s==="pointerout",V&&u!==np&&(ae=u.relatedTarget||u.fromElement)&&(_o(ae)||ae[To]))break e;if((F||V)&&(V=W.window===W?W:(V=W.ownerDocument)?V.defaultView||V.parentWindow:window,F?(ae=u.relatedTarget||u.toElement,F=U,ae=ae?_o(ae):null,ae!==null&&(Xe=o(ae),Se=ae.tag,ae!==Xe||Se!==5&&Se!==27&&Se!==6)&&(ae=null)):(F=null,ae=U),F!==ae)){if(Se=_b,Y="onMouseLeave",B="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(Se=Ob,Y="onPointerLeave",B="onPointerEnter",I="pointer"),Xe=F==null?V:cl(F),$=ae==null?V:cl(ae),V=new Se(Y,I+"leave",F,u,W),V.target=Xe,V.relatedTarget=$,Y=null,_o(W)===U&&(Se=new Se(B,I+"enter",ae,u,W),Se.target=$,Se.relatedTarget=Xe,Y=Se),Xe=Y,F&&ae)t:{for(Se=c2,B=F,I=ae,$=0,Y=B;Y;Y=Se(Y))$++;Y=0;for(var be=I;be;be=Se(be))Y++;for(;0<$-Y;)B=Se(B),$--;for(;0<Y-$;)I=Se(I),Y--;for(;$--;){if(B===I||I!==null&&B===I.alternate){Se=B;break t}B=Se(B),I=Se(I)}Se=null}else Se=null;F!==null&&wS(Q,V,F,Se,!1),ae!==null&&Xe!==null&&wS(Q,Xe,ae,Se,!0)}}e:{if(V=U?cl(U):window,F=V.nodeName&&V.nodeName.toLowerCase(),F==="select"||F==="input"&&V.type==="file")var He=Pb;else if(Lb(V))if(zb)He=wM;else{He=vM;var he=yM}else F=V.nodeName,!F||F.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?U&&tp(U.elementType)&&(He=Pb):He=bM;if(He&&(He=He(s,U))){Ib(Q,He,u,W);break e}he&&he(s,V,U),s==="focusout"&&U&&V.type==="number"&&U.memoizedProps.value!=null&&ep(V,"number",V.value)}switch(he=U?cl(U):window,s){case"focusin":(Lb(he)||he.contentEditable==="true")&&(Io=he,mp=U,vl=null);break;case"focusout":vl=mp=Io=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,Kb(Q,u,W);break;case"selectionchange":if(SM)break;case"keydown":case"keyup":Kb(Q,u,W)}var Ne;if(dp)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Lo?jb(s,u)&&(ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(Nb&&u.locale!=="ko"&&(Lo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Lo&&(Ne=kb()):(Ci=W,op="value"in Ci?Ci.value:Ci.textContent,Lo=!0)),he=ad(U,ze),0<he.length&&(ze=new Ab(ze,s,null,u,W),Q.push({event:ze,listeners:he}),Ne?ze.data=Ne:(Ne=Db(u),Ne!==null&&(ze.data=Ne)))),(Ne=fM?hM(s,u):pM(s,u))&&(ze=ad(U,"onBeforeInput"),0<ze.length&&(he=new Ab("onBeforeInput","beforeinput",null,u,W),Q.push({event:he,listeners:ze}),he.data=Ne)),s2(Q,s,U,u,W)}vS(Q,a)})}function Vl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function ad(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ul(s,u),g!=null&&h.unshift(Vl(s,g,y)),g=ul(s,a),g!=null&&h.push(Vl(s,g,y))),s.tag===3)return h;s=s.return}return[]}function c2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wS(s,a,u,h,g){for(var y=a._reactName,k=[];u!==null&&u!==h;){var _=u,N=_.alternate,U=_.stateNode;if(_=_.tag,N!==null&&N===h)break;_!==5&&_!==26&&_!==27||U===null||(N=U,g?(U=ul(u,y),U!=null&&k.unshift(Vl(u,U,N))):g||(U=ul(u,y),U!=null&&k.push(Vl(u,U,N)))),u=u.return}k.length!==0&&s.push({event:a,listeners:k})}var u2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function xS(s){return(typeof s=="string"?s:""+s).replace(u2,`
`).replace(d2,"")}function SS(s,a){return a=xS(a),xS(s)===a}function Ye(s,a,u,h,g,y){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Mo(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Mo(s,""+h);break;case"className":du(s,"class",h);break;case"tabIndex":du(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":du(s,u,h);break;case"style":Sb(s,h,y);break;case"data":if(a!=="object"){du(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=hu(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&Ye(s,a,"name",g.name,g,null),Ye(s,a,"formEncType",g.formEncType,g,null),Ye(s,a,"formMethod",g.formMethod,g,null),Ye(s,a,"formTarget",g.formTarget,g,null)):(Ye(s,a,"encType",g.encType,g,null),Ye(s,a,"method",g.method,g,null),Ye(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=hu(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Ur);break;case"onScroll":h!=null&&Ie("scroll",s);break;case"onScrollEnd":h!=null&&Ie("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=hu(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":Ie("beforetoggle",s),Ie("toggle",s),uu(s,"popover",h);break;case"xlinkActuate":$r(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":$r(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":$r(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":$r(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":$r(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":$r(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":$r(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":$r(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":$r(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":uu(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=BR.get(u)||u,uu(s,u,h))}}function Um(s,a,u,h,g,y){switch(u){case"style":Sb(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?Mo(s,h):(typeof h=="number"||typeof h=="bigint")&&Mo(s,""+h);break;case"onScroll":h!=null&&Ie("scroll",s);break;case"onScrollEnd":h!=null&&Ie("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hb.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),y=s[hn]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,h,g);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):uu(s,u,h)}}}function Ft(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",s),Ie("load",s);var h=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var k=u[y];if(k!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ye(s,a,y,k,u,null)}}g&&Ye(s,a,"srcSet",u.srcSet,u,null),h&&Ye(s,a,"src",u.src,u,null);return;case"input":Ie("invalid",s);var _=y=k=g=null,N=null,U=null;for(h in u)if(u.hasOwnProperty(h)){var W=u[h];if(W!=null)switch(h){case"name":g=W;break;case"type":k=W;break;case"checked":N=W;break;case"defaultChecked":U=W;break;case"value":y=W;break;case"defaultValue":_=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:Ye(s,a,h,W,u,null)}}vb(s,y,_,N,U,k,g,!1);return;case"select":Ie("invalid",s),h=k=y=null;for(g in u)if(u.hasOwnProperty(g)&&(_=u[g],_!=null))switch(g){case"value":y=_;break;case"defaultValue":k=_;break;case"multiple":h=_;default:Ye(s,a,g,_,u,null)}a=y,u=k,s.multiple=!!h,a!=null?Ro(s,!!h,a,!1):u!=null&&Ro(s,!!h,u,!0);return;case"textarea":Ie("invalid",s),y=g=h=null;for(k in u)if(u.hasOwnProperty(k)&&(_=u[k],_!=null))switch(k){case"value":h=_;break;case"defaultValue":g=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ye(s,a,k,_,u,null)}wb(s,h,g,y);return;case"option":for(N in u)if(u.hasOwnProperty(N)&&(h=u[N],h!=null))switch(N){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ye(s,a,N,h,u,null)}return;case"dialog":Ie("beforetoggle",s),Ie("toggle",s),Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":Ie("load",s);break;case"video":case"audio":for(h=0;h<Hl.length;h++)Ie(Hl[h],s);break;case"image":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"embed":case"source":case"link":Ie("error",s),Ie("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in u)if(u.hasOwnProperty(U)&&(h=u[U],h!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ye(s,a,U,h,u,null)}return;default:if(tp(a)){for(W in u)u.hasOwnProperty(W)&&(h=u[W],h!==void 0&&Um(s,a,W,h,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(h=u[_],h!=null&&Ye(s,a,_,h,u,null))}function f2(s,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,k=null,_=null,N=null,U=null,W=null;for(F in u){var Q=u[F];if(u.hasOwnProperty(F)&&Q!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Q;default:h.hasOwnProperty(F)||Ye(s,a,F,null,h,Q)}}for(var V in h){var F=h[V];if(Q=u[V],h.hasOwnProperty(V)&&(F!=null||Q!=null))switch(V){case"type":y=F;break;case"name":g=F;break;case"checked":U=F;break;case"defaultChecked":W=F;break;case"value":k=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,a));break;default:F!==Q&&Ye(s,a,V,F,h,Q)}}Zh(s,k,_,N,U,W,y,g);return;case"select":F=k=_=V=null;for(y in u)if(N=u[y],u.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":F=N;default:h.hasOwnProperty(y)||Ye(s,a,y,null,h,N)}for(g in h)if(y=h[g],N=u[g],h.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":V=y;break;case"defaultValue":_=y;break;case"multiple":k=y;default:y!==N&&Ye(s,a,g,y,h,N)}a=_,u=k,h=F,V!=null?Ro(s,!!u,V,!1):!!h!=!!u&&(a!=null?Ro(s,!!u,a,!0):Ro(s,!!u,u?[]:"",!1));return;case"textarea":F=V=null;for(_ in u)if(g=u[_],u.hasOwnProperty(_)&&g!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ye(s,a,_,null,h,g)}for(k in h)if(g=h[k],y=u[k],h.hasOwnProperty(k)&&(g!=null||y!=null))switch(k){case"value":V=g;break;case"defaultValue":F=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Ye(s,a,k,g,h,y)}bb(s,V,F);return;case"option":for(var ae in u)if(V=u[ae],u.hasOwnProperty(ae)&&V!=null&&!h.hasOwnProperty(ae))switch(ae){case"selected":s.selected=!1;break;default:Ye(s,a,ae,null,h,V)}for(N in h)if(V=h[N],F=u[N],h.hasOwnProperty(N)&&V!==F&&(V!=null||F!=null))switch(N){case"selected":s.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Ye(s,a,N,V,h,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in u)V=u[Se],u.hasOwnProperty(Se)&&V!=null&&!h.hasOwnProperty(Se)&&Ye(s,a,Se,null,h,V);for(U in h)if(V=h[U],F=u[U],h.hasOwnProperty(U)&&V!==F&&(V!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,a));break;default:Ye(s,a,U,V,h,F)}return;default:if(tp(a)){for(var Xe in u)V=u[Xe],u.hasOwnProperty(Xe)&&V!==void 0&&!h.hasOwnProperty(Xe)&&Um(s,a,Xe,void 0,h,V);for(W in h)V=h[W],F=u[W],!h.hasOwnProperty(W)||V===F||V===void 0&&F===void 0||Um(s,a,W,V,h,F);return}}for(var B in u)V=u[B],u.hasOwnProperty(B)&&V!=null&&!h.hasOwnProperty(B)&&Ye(s,a,B,null,h,V);for(Q in h)V=h[Q],F=u[Q],!h.hasOwnProperty(Q)||V===F||V==null&&F==null||Ye(s,a,Q,V,h,F)}function ES(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var g=u[h],y=g.transferSize,k=g.initiatorType,_=g.duration;if(y&&_&&ES(k)){for(k=0,_=g.responseEnd,h+=1;h<u.length;h++){var N=u[h],U=N.startTime;if(U>_)break;var W=N.transferSize,Q=N.initiatorType;W&&ES(Q)&&(N=N.responseEnd,k+=W*(N<_?1:(_-U)/(N-U)))}if(--h,a+=8*(y+k)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hm=null,Vm=null;function ld(s){return s.nodeType===9?s:s.ownerDocument}function CS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kS(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function qm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fm=null;function p2(){var s=window.event;return s&&s.type==="popstate"?s===Fm?!1:(Fm=s,!0):(Fm=null,!1)}var TS=typeof setTimeout=="function"?setTimeout:void 0,m2=typeof clearTimeout=="function"?clearTimeout:void 0,_S=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof _S<"u"?function(s){return _S.resolve(null).then(s).catch(y2)}:TS;function y2(s){setTimeout(function(){throw s})}function Ui(s){return s==="head"}function AS(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(h===0){s.removeChild(g),ca(a);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")ql(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,ql(u);for(var y=u.firstChild;y;){var k=y.nextSibling,_=y.nodeName;y[ll]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=k}}else u==="body"&&ql(s.ownerDocument.body);u=g}while(u);ca(a)}function OS(s,a){var u=s;s=0;do{var h=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=h}while(u)}function Km(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Km(u),Xh(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function v2(s,a,u,h){for(;s.nodeType===1;){var g=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ll])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Yn(s.nextSibling),s===null)break}return null}function b2(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Yn(s.nextSibling),s===null))return null;return s}function NS(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Yn(s.nextSibling),s===null))return null;return s}function Wm(s){return s.data==="$?"||s.data==="$~"}function Gm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function w2(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Yn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Jm=null;function RS(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return Yn(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function MS(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function jS(s,a,u){switch(a=ld(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ql(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Xh(s)}var Xn=new Map,DS=new Set;function cd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ri=G.d;G.d={f:x2,r:S2,D:E2,C:C2,L:k2,m:T2,X:A2,S:_2,M:O2};function x2(){var s=ri.f(),a=ed();return s||a}function S2(s){var a=Ao(s);a!==null&&a.tag===5&&a.type==="form"?Xw(a):ri.r(s)}var oa=typeof document>"u"?null:document;function LS(s,a,u){var h=oa;if(h&&typeof a=="string"&&a){var g=Vn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),DS.has(g)||(DS.add(g),s={rel:s,crossOrigin:u,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Ft(a,"link",s),Lt(a),h.head.appendChild(a)))}}function E2(s){ri.D(s),LS("dns-prefetch",s,null)}function C2(s,a){ri.C(s,a),LS("preconnect",s,a)}function k2(s,a,u){ri.L(s,a,u);var h=oa;if(h&&s&&a){var g='link[rel="preload"][as="'+Vn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Vn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Vn(u.imageSizes)+'"]')):g+='[href="'+Vn(s)+'"]';var y=g;switch(a){case"style":y=aa(s);break;case"script":y=la(s)}Xn.has(y)||(s=m({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Xn.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(Fl(y))||a==="script"&&h.querySelector(Kl(y))||(a=h.createElement("link"),Ft(a,"link",s),Lt(a),h.head.appendChild(a)))}}function T2(s,a){ri.m(s,a);var u=oa;if(u&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Vn(h)+'"][href="'+Vn(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=la(s)}if(!Xn.has(y)&&(s=m({rel:"modulepreload",href:s},a),Xn.set(y,s),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Kl(y)))return}h=u.createElement("link"),Ft(h,"link",s),Lt(h),u.head.appendChild(h)}}}function _2(s,a,u){ri.S(s,a,u);var h=oa;if(h&&s){var g=Oo(h).hoistableStyles,y=aa(s);a=a||"default";var k=g.get(y);if(!k){var _={loading:0,preload:null};if(k=h.querySelector(Fl(y)))_.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Xn.get(y))&&Ym(s,u);var N=k=h.createElement("link");Lt(N),Ft(N,"link",s),N._p=new Promise(function(U,W){N.onload=U,N.onerror=W}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ud(k,a,h)}k={type:"stylesheet",instance:k,count:1,state:_},g.set(y,k)}}}function A2(s,a){ri.X(s,a);var u=oa;if(u&&s){var h=Oo(u).hoistableScripts,g=la(s),y=h.get(g);y||(y=u.querySelector(Kl(g)),y||(s=m({src:s,async:!0},a),(a=Xn.get(g))&&Xm(s,a),y=u.createElement("script"),Lt(y),Ft(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function O2(s,a){ri.M(s,a);var u=oa;if(u&&s){var h=Oo(u).hoistableScripts,g=la(s),y=h.get(g);y||(y=u.querySelector(Kl(g)),y||(s=m({src:s,async:!0,type:"module"},a),(a=Xn.get(g))&&Xm(s,a),y=u.createElement("script"),Lt(y),Ft(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function IS(s,a,u,h){var g=(g=re.current)?cd(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=aa(u.href),u=Oo(g).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=aa(u.href);var y=Oo(g).hoistableStyles,k=y.get(s);if(k||(g=g.ownerDocument||g,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,k),(y=g.querySelector(Fl(s)))&&!y._p&&(k.instance=y,k.state.loading=5),Xn.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Xn.set(s,u),y||N2(g,s,u,k.state))),a&&h===null)throw Error(r(528,""));return k}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=la(u),u=Oo(g).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function aa(s){return'href="'+Vn(s)+'"'}function Fl(s){return'link[rel="stylesheet"]['+s+"]"}function PS(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function N2(s,a,u,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Ft(a,"link",u),Lt(a),s.head.appendChild(a))}function la(s){return'[src="'+Vn(s)+'"]'}function Kl(s){return"script[async]"+s}function zS(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Vn(u.href)+'"]');if(h)return a.instance=h,Lt(h),h;var g=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Lt(h),Ft(h,"style",g),ud(h,u.precedence,s),a.instance=h;case"stylesheet":g=aa(u.href);var y=s.querySelector(Fl(g));if(y)return a.state.loading|=4,a.instance=y,Lt(y),y;h=PS(u),(g=Xn.get(g))&&Ym(h,g),y=(s.ownerDocument||s).createElement("link"),Lt(y);var k=y;return k._p=new Promise(function(_,N){k.onload=_,k.onerror=N}),Ft(y,"link",h),a.state.loading|=4,ud(y,u.precedence,s),a.instance=y;case"script":return y=la(u.src),(g=s.querySelector(Kl(y)))?(a.instance=g,Lt(g),g):(h=u,(g=Xn.get(y))&&(h=m({},u),Xm(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Lt(g),Ft(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,ud(h,u.precedence,s));return a.instance}function ud(s,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,k=0;k<h.length;k++){var _=h[k];if(_.dataset.precedence===a)y=_;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Ym(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Xm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var dd=null;function BS(s,a,u){if(dd===null){var h=new Map,g=dd=new Map;g.set(u,h)}else g=dd,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),g=0;g<u.length;g++){var y=u[g];if(!(y[ll]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(a)||"";k=s+k;var _=h.get(k);_?_.push(y):h.set(k,[y])}}return h}function $S(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function R2(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function US(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function M2(s,a,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=aa(h.href),y=a.querySelector(Fl(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=fd.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=y,Lt(y);return}y=a.ownerDocument||a,h=PS(h),(g=Xn.get(g))&&Ym(h,g),y=y.createElement("link"),Lt(y);var k=y;k._p=new Promise(function(_,N){k.onload=_,k.onerror=N}),Ft(y,"link",h),u.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=fd.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var Qm=0;function j2(s,a){return s.stylesheets&&s.count===0&&pd(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var h=setTimeout(function(){if(s.stylesheets&&pd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Qm===0&&(Qm=62500*h2());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&pd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Qm?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function fd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hd=null;function pd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hd=new Map,a.forEach(D2,s),hd=null,fd.call(s))}function D2(s,a){if(!(a.state.loading&4)){var u=hd.get(s);if(u)var h=u.get(null);else{u=new Map,hd.set(s,u);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var k=g[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),h=k)}h&&u.set(null,h)}g=a.instance,k=g.getAttribute("data-precedence"),y=u.get(k)||h,y===h&&u.set(null,g),u.set(k,g),this.count++,h=fd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Wl={$$typeof:O,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function L2(s,a,u,h,g,y,k,_,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.hiddenUpdates=Wh(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function HS(s,a,u,h,g,y,k,_,N,U,W,Q){return s=new L2(s,a,u,k,N,U,W,Q,_),a=1,y===!0&&(a|=24),y=_n(3,null,null,a),s.current=y,y.stateNode=s,a=Rp(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:a},Lp(y),s}function VS(s){return s?(s=Bo,s):Bo}function qS(s,a,u,h,g,y){g=VS(g),h.context===null?h.context=g:h.pendingContext=g,h=Ni(a),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=Ri(s,h,a),u!==null&&(bn(u,s,a),kl(u,s,a))}function FS(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Zm(s,a){FS(s,a),(s=s.alternate)&&FS(s,a)}function KS(s){if(s.tag===13||s.tag===31){var a=Ms(s,67108864);a!==null&&bn(a,s,67108864),Zm(s,67108864)}}function WS(s){if(s.tag===13||s.tag===31){var a=Mn();a=Gh(a);var u=Ms(s,a);u!==null&&bn(u,s,a),Zm(s,a)}}var md=!0;function I2(s,a,u,h){var g=z.T;z.T=null;var y=G.p;try{G.p=2,eg(s,a,u,h)}finally{G.p=y,z.T=g}}function P2(s,a,u,h){var g=z.T;z.T=null;var y=G.p;try{G.p=8,eg(s,a,u,h)}finally{G.p=y,z.T=g}}function eg(s,a,u,h){if(md){var g=tg(h);if(g===null)$m(s,a,h,gd,u),JS(s,h);else if(B2(g,s,a,u,h))h.stopPropagation();else if(JS(s,h),a&4&&-1<z2.indexOf(s)){for(;g!==null;){var y=Ao(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=_s(y.pendingLanes);if(k!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;k;){var N=1<<31-kn(k);_.entanglements[1]|=N,k&=~N}Or(y),(qe&6)===0&&(Qu=En()+500,Ul(0))}}break;case 31:case 13:_=Ms(y,2),_!==null&&bn(_,y,2),ed(),Zm(y,2)}if(y=tg(h),y===null&&$m(s,a,h,gd,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else $m(s,a,h,null,u)}}function tg(s){return s=rp(s),ng(s)}var gd=null;function ng(s){if(gd=null,s=_o(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===31){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return gd=s,null}function GS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ER()){case nb:return 2;case rb:return 8;case su:case CR:return 32;case ib:return 268435456;default:return 32}default:return 32}}var rg=!1,Hi=null,Vi=null,qi=null,Gl=new Map,Jl=new Map,Fi=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JS(s,a){switch(s){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Gl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(a.pointerId)}}function Yl(s,a,u,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Ao(a),a!==null&&KS(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function B2(s,a,u,h,g){switch(a){case"focusin":return Hi=Yl(Hi,s,a,u,h,g),!0;case"dragenter":return Vi=Yl(Vi,s,a,u,h,g),!0;case"mouseover":return qi=Yl(qi,s,a,u,h,g),!0;case"pointerover":var y=g.pointerId;return Gl.set(y,Yl(Gl.get(y)||null,s,a,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Jl.set(y,Yl(Jl.get(y)||null,s,a,u,h,g)),!0}return!1}function YS(s){var a=_o(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,ub(s.priority,function(){WS(u)});return}}else if(a===31){if(a=c(u),a!==null){s.blockedOn=a,ub(s.priority,function(){WS(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=tg(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);np=h,u.target.dispatchEvent(h),np=null}else return a=Ao(u),a!==null&&KS(a),s.blockedOn=u,!1;a.shift()}return!0}function XS(s,a,u){yd(s)&&u.delete(a)}function $2(){rg=!1,Hi!==null&&yd(Hi)&&(Hi=null),Vi!==null&&yd(Vi)&&(Vi=null),qi!==null&&yd(qi)&&(qi=null),Gl.forEach(XS),Jl.forEach(XS)}function vd(s,a){s.blockedOn===a&&(s.blockedOn=null,rg||(rg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$2)))}var bd=null;function QS(s){bd!==s&&(bd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bd===s&&(bd=null);for(var a=0;a<s.length;a+=3){var u=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(ng(h||u)===null)continue;break}var y=Ao(u);y!==null&&(s.splice(a,3),a-=3,tm(y,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function ca(s){function a(N){return vd(N,s)}Hi!==null&&vd(Hi,s),Vi!==null&&vd(Vi,s),qi!==null&&vd(qi,s),Gl.forEach(a),Jl.forEach(a);for(var u=0;u<Fi.length;u++){var h=Fi[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Fi.length&&(u=Fi[0],u.blockedOn===null);)YS(u),u.blockedOn===null&&Fi.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],y=u[h+1],k=g[hn]||null;if(typeof y=="function")k||QS(u);else if(k){var _=null;if(y&&y.hasAttribute("formAction")){if(g=y,k=y[hn]||null)_=k.formAction;else if(ng(g)!==null)continue}else _=k.action;typeof _=="function"?u[h+1]=_:(u.splice(h,3),h-=3),QS(u)}}}function ZS(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(k){return g=k})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function ig(s){this._internalRoot=s}wd.prototype.render=ig.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Mn();qS(u,h,s,a,null,null)},wd.prototype.unmount=ig.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;qS(s.current,2,null,s,null,null),ed(),a[To]=null}};function wd(s){this._internalRoot=s}wd.prototype.unstable_scheduleHydration=function(s){if(s){var a=cb();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Fi.length&&a!==0&&a<Fi[u].priority;u++);Fi.splice(u,0,s),u===0&&YS(s)}};var e1=e.version;if(e1!=="19.2.0")throw Error(r(527,e1,"19.2.0"));G.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var U2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{sl=xd.inject(U2),Cn=xd}catch{}}return Ql.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,h="",g=ax,y=lx,k=cx;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=HS(s,1,!1,null,null,u,h,null,g,y,k,ZS),s[To]=a.current,Bm(s),new ig(a)},Ql.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var h=!1,g="",y=ax,k=lx,_=cx,N=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.formState!==void 0&&(N=u.formState)),a=HS(s,1,!0,a,u??null,h,g,N,y,k,_,ZS),a.context=VS(null),u=a.current,h=Mn(),h=Gh(h),g=Ni(h),g.callback=null,Ri(u,g,h),u=h,a.current.lanes=u,al(a,u),Or(a),s[To]=a.current,Bm(s),new wd(a)},Ql.version="19.2.0",Ql}var u1;function X2(){if(u1)return ag.exports;u1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ag.exports=Y2(),ag.exports}var Q2=X2();var d1="popstate";function Z2(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return my("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ec(i)}return tj(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ej(){return Math.random().toString(36).substring(2,10)}function f1(n,e){return{usr:n.state,key:n.key,idx:e}}function my(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ga(e):e,state:t,key:e&&e.key||r||ej()}}function Ec({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ga(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function tj(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=p(),T=C==null?null:C-f;f=C,d&&d({action:c,location:E.location,delta:T})}function v(C,T){c="PUSH";let A=my(E.location,C,T);f=p()+1;let O=f1(A,f),M=E.createHref(A);try{l.pushState(O,"",M)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(M)}o&&d&&d({action:c,location:E.location,delta:1})}function b(C,T){c="REPLACE";let A=my(E.location,C,T);f=p();let O=f1(A,f),M=E.createHref(A);l.replaceState(O,"",M),o&&d&&d({action:c,location:E.location,delta:0})}function w(C){return nj(C)}let E={get action(){return c},get location(){return n(i,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(d1,m),d=C,()=>{i.removeEventListener(d1,m),d=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let T=w(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:b,go(C){return l.go(C)}};return E}function nj(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ec(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function lk(n,e,t="/"){return rj(n,e,t,!1)}function rj(n,e,t,r){let i=typeof e=="string"?Ga(e):e,o=yi(i.pathname||"/",t);if(o==null)return null;let l=ck(n);ij(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=mj(o);c=hj(l[d],f,r)}return c}function ck(n,e=[],t=[],r="",i=!1){let o=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;ct(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=pi([r,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ck(l.children,e,v,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:dj(m,l.index),routesMeta:v})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of uk(l.path))o(l,c,!0,d)}),e}function uk(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=uk(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function ij(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var sj=/^:[\w-]+$/,oj=3,aj=2,lj=1,cj=10,uj=-2,h1=n=>n==="*";function dj(n,e){let t=n.split("/"),r=t.length;return t.some(h1)&&(r+=uj),e&&(r+=aj),t.filter(i=>!h1(i)).reduce((i,o)=>i+(sj.test(o)?oj:o===""?lj:cj),r)}function fj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function hj(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=cf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&t&&!r[r.length-1].route.index&&(m=cf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:pi([o,m.pathname]),pathnameBase:wj(pi([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=pi([o,m.pathnameBase]))}return l}function cf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=pj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let w=c[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[v];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function pj(n,e=!1,t=!0){cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yj=n=>gj.test(n);function vj(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ga(n):n,o;if(t)if(yj(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),cr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?o=p1(t.substring(1),"/"):o=p1(t,e)}else o=e;return{pathname:o,search:xj(r),hash:Sj(i)}}function p1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ev(n){let e=bj(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Cv(n,e,t,r=!1){let i;typeof n=="string"?i=Ga(n):(i={...n},ct(!i.pathname||!i.pathname.includes("?"),dg("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),dg("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),dg("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=vj(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var pi=n=>n.join("/").replace(/\/\/+/g,"/"),wj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Sj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ej(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dk=["POST","PUT","PATCH","DELETE"];new Set(dk);var Cj=["GET",...dk];new Set(Cj);var Ja=S.createContext(null);Ja.displayName="DataRouter";var fh=S.createContext(null);fh.displayName="DataRouterState";S.createContext(!1);var fk=S.createContext({isTransitioning:!1});fk.displayName="ViewTransition";var kj=S.createContext(new Map);kj.displayName="Fetchers";var Tj=S.createContext(null);Tj.displayName="Await";var Cr=S.createContext(null);Cr.displayName="Navigation";var qc=S.createContext(null);qc.displayName="Location";var ur=S.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var kv=S.createContext(null);kv.displayName="RouteError";function _j(n,{relative:e}={}){ct(Ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=S.useContext(Cr),{hash:i,pathname:o,search:l}=Fc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:pi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Ya(){return S.useContext(qc)!=null}function vs(){return ct(Ya(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(qc).location}var hk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pk(n){S.useContext(Cr).static||S.useLayoutEffect(n)}function zr(){let{isDataRoute:n}=S.useContext(ur);return n?Hj():Aj()}function Aj(){ct(Ya(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Ja),{basename:e,navigator:t}=S.useContext(Cr),{matches:r}=S.useContext(ur),{pathname:i}=vs(),o=JSON.stringify(Ev(r)),l=S.useRef(!1);return pk(()=>{l.current=!0}),S.useCallback((d,f={})=>{if(cr(l.current,hk),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=Cv(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:pi([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,i,n])}var Oj=S.createContext(null);function Nj(n){let e=S.useContext(ur).outlet;return S.useMemo(()=>e&&S.createElement(Oj.Provider,{value:n},e),[e,n])}function Tv(){let{matches:n}=S.useContext(ur),e=n[n.length-1];return e?e.params:{}}function Fc(n,{relative:e}={}){let{matches:t}=S.useContext(ur),{pathname:r}=vs(),i=JSON.stringify(Ev(t));return S.useMemo(()=>Cv(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Rj(n,e){return mk(n,e)}function mk(n,e,t,r,i){ct(Ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Cr),{matches:l}=S.useContext(ur),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let A=m&&m.path||"";gk(f,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=vs(),b;if(e){let A=typeof e=="string"?Ga(e):e;ct(p==="/"||A.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let w=b.pathname||"/",E=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=lk(n,{pathname:E});cr(m||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),cr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Ij(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:pi([p,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:pi([p,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,t,r,i);return e&&T?S.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function Mj(){let n=Uj(),e=Ej(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,l)}var jj=S.createElement(Mj,null),Dj=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?S.createElement(ur.Provider,{value:this.props.routeContext},S.createElement(kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lj({routeContext:n,match:e,children:t}){let r=S.useContext(Ja);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ur.Provider,{value:n},t)}function Ij(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:b}=t,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&r?(p,m)=>{r(p,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:m})}:void 0;return o.reduceRight((p,m,v)=>{let b,w=!1,E=null,C=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||jj,c&&(d<0&&v===0?(gk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):d===v&&(w=!0,C=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),A=()=>{let O;return b?O=E:w?O=C:m.route.Component?O=S.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,S.createElement(Lj,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:O})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?S.createElement(Dj,{location:t.location,revalidation:t.revalidation,component:E,error:b,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):A()},null)}function _v(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pj(n){let e=S.useContext(Ja);return ct(e,_v(n)),e}function zj(n){let e=S.useContext(fh);return ct(e,_v(n)),e}function Bj(n){let e=S.useContext(ur);return ct(e,_v(n)),e}function Av(n){let e=Bj(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $j(){return Av("useRouteId")}function Uj(){let n=S.useContext(kv),e=zj("useRouteError"),t=Av("useRouteError");return n!==void 0?n:e.errors?.[t]}function Hj(){let{router:n}=Pj("useNavigate"),e=Av("useNavigate"),t=S.useRef(!1);return pk(()=>{t.current=!0}),S.useCallback(async(i,o={})=>{cr(t.current,hk),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var m1={};function gk(n,e,t){!e&&!m1[n]&&(m1[n]=!0,cr(!1,t))}S.memo(Vj);function Vj({routes:n,future:e,state:t,unstable_onError:r}){return mk(n,void 0,t,r,e)}function yk({to:n,replace:e,state:t,relative:r}){ct(Ya(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Cr);cr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(ur),{pathname:l}=vs(),c=zr(),d=Cv(n,Ev(o),l,r==="path"),f=JSON.stringify(d);return S.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function vk(n){return Nj(n.context)}function Qt(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qj({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){ct(!Ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Ga(t));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=t,b=S.useMemo(()=>{let w=yi(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:v},navigationType:r}},[l,d,f,p,m,v,r]);return cr(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Cr.Provider,{value:c},S.createElement(qc.Provider,{children:e,value:b}))}function Fj({children:n,location:e}){return Rj(gy(n),e)}function gy(n,e=[]){let t=[];return S.Children.forEach(n,(r,i)=>{if(!S.isValidElement(r))return;let o=[...e,i];if(r.type===S.Fragment){t.push.apply(t,gy(r.props.children,o));return}ct(r.type===Qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=gy(r.props.children,o)),t.push(l)}),t}var Qd="get",Zd="application/x-www-form-urlencoded";function hh(n){return n!=null&&typeof n.tagName=="string"}function Kj(n){return hh(n)&&n.tagName.toLowerCase()==="button"}function Wj(n){return hh(n)&&n.tagName.toLowerCase()==="form"}function Gj(n){return hh(n)&&n.tagName.toLowerCase()==="input"}function Jj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Yj(n,e){return n.button===0&&(!e||e==="_self")&&!Jj(n)}var Sd=null;function Xj(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var Qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(n){return n!=null&&!Qj.has(n)?(cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):n}function Zj(n,e){let t,r,i,o,l;if(Wj(n)){let c=n.getAttribute("action");r=c?yi(c,e):null,t=n.getAttribute("method")||Qd,i=fg(n.getAttribute("enctype"))||Zd,o=new FormData(n)}else if(Kj(n)||Gj(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?yi(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Qd,i=fg(n.getAttribute("formenctype"))||fg(c.getAttribute("enctype"))||Zd,o=new FormData(c,n),!Xj()){let{name:f,type:p,value:m}=n;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,m)}}else{if(hh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qd,r=null,i=Zd,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ov(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eD(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&yi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function tD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rD(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await tD(o,t);return l.links?l.links():[]}return[]}));return aD(r.flat(1).filter(nD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function g1(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function iD(n,e,{includeHydrateFallback:t}={}){return sD(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function sD(n){return[...new Set(n)]}function oD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function aD(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(oD(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function bk(){let n=S.useContext(Ja);return Ov(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lD(){let n=S.useContext(fh);return Ov(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Nv=S.createContext(void 0);Nv.displayName="FrameworkContext";function wk(){let n=S.useContext(Nv);return Ov(n,"You must render this element inside a <HydratedRouter> element"),n}function cD(n,e){let t=S.useContext(Nv),[r,i]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,v=S.useRef(null);S.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let E=T=>{T.forEach(A=>{l(A.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),S.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Zl(c,b),onBlur:Zl(d,w),onMouseEnter:Zl(f,b),onMouseLeave:Zl(p,w),onTouchStart:Zl(m,b)}]:[!1,v,{}]}function Zl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uD({page:n,...e}){let{router:t}=bk(),r=S.useMemo(()=>lk(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?S.createElement(fD,{page:n,matches:r,...e}):null}function dD(n){let{manifest:e,routeModules:t}=wk(),[r,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return rD(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function fD({page:n,matches:e,...t}){let r=vs(),{manifest:i,routeModules:o}=wk(),{basename:l}=bk(),{loaderData:c,matches:d}=lD(),f=S.useMemo(()=>g1(n,e,d,i,r,"data"),[n,e,d,i,r]),p=S.useMemo(()=>g1(n,e,d,i,r,"assets"),[n,e,d,i,r]),m=S.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(T=>{let A=i.routes[T.route.id];!A||!A.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in c&&o[T.route.id]?.shouldRevalidate||A.hasClientLoader?E=!0:w.add(T.route.id))}),w.size===0)return[];let C=eD(n,l,"data");return E&&w.size>0&&C.searchParams.set("_routes",e.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[l,c,r,i,f,e,n,o]),v=S.useMemo(()=>iD(p,i),[p,i]),b=dD(p);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:E})=>S.createElement("link",{key:w,nonce:t.nonce,...E})))}function hD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xk&&(window.__reactRouterVersion="7.9.6")}catch{}function pD({basename:n,children:e,window:t}){let r=S.useRef();r.current==null&&(r.current=Z2({window:t,v5Compat:!0}));let i=r.current,[o,l]=S.useState({action:i.action,location:i.location}),c=S.useCallback(d=>{S.startTransition(()=>l(d))},[l]);return S.useLayoutEffect(()=>i.listen(c),[i,c]),S.createElement(qj,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var Sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ek=S.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...v},b){let{basename:w}=S.useContext(Cr),E=typeof f=="string"&&Sk.test(f),C,T=!1;if(typeof f=="string"&&E&&(C=f,xk))try{let Z=new URL(window.location.href),se=f.startsWith("//")?new URL(Z.protocol+f):new URL(f),me=yi(se.pathname,w);se.origin===Z.origin&&me!=null?f=me+se.search+se.hash:T=!0}catch{cr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=_j(f,{relative:i}),[O,M,L]=cD(r,v),P=yD(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m});function R(Z){e&&e(Z),Z.defaultPrevented||P(Z)}let H=S.createElement("a",{...v,...L,href:C||A,onClick:T||o?e:R,ref:hD(b,M),target:d,"data-discover":!E&&t==="render"?"true":void 0});return O&&!E?S.createElement(S.Fragment,null,H,S.createElement(uD,{page:A})):H});Ek.displayName="Link";var Ck=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...f},p){let m=Fc(l,{relative:f.relative}),v=vs(),b=S.useContext(fh),{navigator:w,basename:E}=S.useContext(Cr),C=b!=null&&SD(m)&&c===!0,T=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,A=v.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(A=A.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&E&&(O=yi(O,E)||O);const M=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let L=A===T||!i&&A.startsWith(T)&&A.charAt(M)==="/",P=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),R={isActive:L,isPending:P,isTransitioning:C},H=L?e:void 0,Z;typeof r=="function"?Z=r(R):Z=[r,L?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let se=typeof o=="function"?o(R):o;return S.createElement(Ek,{...f,"aria-current":H,className:Z,ref:p,style:se,to:l,viewTransition:c},typeof d=="function"?d(R):d)});Ck.displayName="NavLink";var mD=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Qd,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...v},b)=>{let w=wD(),E=xD(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&Sk.test(c),A=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,L=M?.getAttribute("formmethod")||l;w(M||O.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return S.createElement("form",{ref:b,method:C,action:E,onSubmit:r?d:A,...v,"data-discover":!T&&n==="render"?"true":void 0})});mD.displayName="Form";function gD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kk(n){let e=S.useContext(Ja);return ct(e,gD(n)),e}function yD(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=zr(),d=vs(),f=Fc(n,{relative:o});return S.useCallback(p=>{if(Yj(p,e)){p.preventDefault();let m=t!==void 0?t:Ec(d)===Ec(f);c(n,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,t,r,e,n,i,o,l])}var vD=0,bD=()=>`__${String(++vD)}__`;function wD(){let{router:n}=kk("useSubmit"),{basename:e}=S.useContext(Cr),t=$j();return S.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=Zj(r,e);if(i.navigate===!1){let p=i.fetcherKey||bD();await n.fetch(p,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function xD(n,{relative:e}={}){let{basename:t}=S.useContext(Cr),r=S.useContext(ur);ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Fc(n||".",{relative:e})},l=vs();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:pi([t,o.pathname])),Ec(o)}function SD(n,{relative:e}={}){let t=S.useContext(fk);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kk("useViewTransitionState"),i=Fc(n,{relative:e});if(!t.isTransitioning)return!1;let o=yi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=yi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return cf(i.pathname,l)!=null||cf(i.pathname,o)!=null}var Kc=ak();const Tk=dh(Kc),y1=n=>{let e;const t=new Set,r=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const v=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(b=>b(e,v))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=n(r,i,c);return c},ED=(n=>n?y1(n):y1),CD=n=>n;function kD(n,e=CD){const t=jt.useSyncExternalStore(n.subscribe,jt.useCallback(()=>e(n.getState()),[n,e]),jt.useCallback(()=>e(n.getInitialState()),[n,e]));return jt.useDebugValue(t),t}const v1=n=>{const e=ED(n),t=r=>kD(e,r);return Object.assign(t,e),t},TD=(n=>n?v1(n):v1),Eo=TD(n=>({user:null,isAuthenticated:!1,login:e=>n({user:e,isAuthenticated:!0}),logout:()=>n({user:null,isAuthenticated:!1})}));var yy=function(n,e){return yy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},yy(n,e)};function _k(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nr=function(){return nr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},nr.apply(this,arguments)};function bs(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ak(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(o=(i<3?l(o):i>3?l(e,t,o):l(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function Ok(n,e){return function(t,r){e(t,r,n)}}function Nk(n,e,t,r,i,o){function l(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!e&&n?r.static?n:n.prototype:null,p=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,v=!1,b=t.length-1;b>=0;b--){var w={};for(var E in r)w[E]=E==="access"?{}:r[E];for(var E in r.access)w.access[E]=r.access[E];w.addInitializer=function(T){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(T||null))};var C=(0,t[b])(c==="accessor"?{get:p.get,set:p.set}:p[d],w);if(c==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=l(C.get))&&(p.get=m),(m=l(C.set))&&(p.set=m),(m=l(C.init))&&i.unshift(m)}else(m=l(C))&&(c==="field"?i.unshift(m):p[d]=m)}f&&Object.defineProperty(f,r.name,p),v=!0}function Rk(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function Mk(n){return typeof n=="symbol"?n:"".concat(n)}function jk(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Dk(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function le(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?o(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})}function Lk(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(t=0)),t;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(p){f=[6,p],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ph=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function Ik(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ph(e,n,t)}function uf(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rv(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o}function Pk(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Rv(arguments[e]));return n}function zk(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,i++)r[i]=o[l];return r}function Mv(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Pa(n){return this instanceof Pa?(this.v=n,this):new Pa(n)}function Bk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(w){return Promise.resolve(w).then(b,m)}}function c(b,w){r[b]&&(i[b]=function(E){return new Promise(function(C,T){o.push([b,E,C,T])>1||d(b,E)})},w&&(i[b]=w(i[b])))}function d(b,w){try{f(r[b](w))}catch(E){v(o[0][3],E)}}function f(b){b.value instanceof Pa?Promise.resolve(b.value.v).then(p,m):v(o[0][2],b)}function p(b){d("next",b)}function m(b){d("throw",b)}function v(b,w){b(w),o.shift(),o.length&&d(o[0][0],o[0][1])}}function $k(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(l){return(t=!t)?{value:Pa(n[i](l)),done:!1}:o?o(l):l}:o}}function Uk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uf=="function"?uf(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(c,d){l=n[o](l),i(c,d,l.done,l.value)})}}function i(o,l,c,d){Promise.resolve(d).then(function(f){o({value:f,done:c})},l)}}function Hk(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var _D=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},vy=function(n){return vy=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},vy(n)};function Vk(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=vy(n),r=0;r<t.length;r++)t[r]!=="default"&&ph(e,n,t[r]);return _D(e,n),e}function qk(n){return n&&n.__esModule?n:{default:n}}function Fk(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Kk(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Wk(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Gk(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var AD=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Jk(n){function e(o){n.error=n.hasError?new AD(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var t,r=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(i,function(l){return e(l),i()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function Yk(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,o,l){return r?e?".jsx":".js":i&&(!o||!l)?t:i+o+"."+l.toLowerCase()+"js"}):n}const OD={__extends:_k,__assign:nr,__rest:bs,__decorate:Ak,__param:Ok,__esDecorate:Nk,__runInitializers:Rk,__propKey:Mk,__setFunctionName:jk,__metadata:Dk,__awaiter:le,__generator:Lk,__createBinding:ph,__exportStar:Ik,__values:uf,__read:Rv,__spread:Pk,__spreadArrays:zk,__spreadArray:Mv,__await:Pa,__asyncGenerator:Bk,__asyncDelegator:$k,__asyncValues:Uk,__makeTemplateObject:Hk,__importStar:Vk,__importDefault:qk,__classPrivateFieldGet:Fk,__classPrivateFieldSet:Kk,__classPrivateFieldIn:Wk,__addDisposableResource:Gk,__disposeResources:Jk,__rewriteRelativeImportExtension:Yk},ND=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Gk,get __assign(){return nr},__asyncDelegator:$k,__asyncGenerator:Bk,__asyncValues:Uk,__await:Pa,__awaiter:le,__classPrivateFieldGet:Fk,__classPrivateFieldIn:Wk,__classPrivateFieldSet:Kk,__createBinding:ph,__decorate:Ak,__disposeResources:Jk,__esDecorate:Nk,__exportStar:Ik,__extends:_k,__generator:Lk,__importDefault:qk,__importStar:Vk,__makeTemplateObject:Hk,__metadata:Dk,__param:Ok,__propKey:Mk,__read:Rv,__rest:bs,__rewriteRelativeImportExtension:Yk,__runInitializers:Rk,__setFunctionName:jk,__spread:Pk,__spreadArray:Mv,__spreadArrays:zk,__values:uf,default:OD},Symbol.toStringTag,{value:"Module"})),RD=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class jv extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class MD extends jv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class b1 extends jv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class w1 extends jv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var by;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(by||(by={}));class jD{constructor(e,{headers:t={},customFetch:r,region:i=by.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=RD(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(t,r={}){var i;let o,l;try{const{headers:c,method:d,body:f,signal:p,timeout:m}=r;let v={},{region:b}=r;b||(b=this.region);const w=new URL(`${this.url}/${t}`);b&&b!=="any"&&(v["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let E;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let C=p;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),p?(C=l.signal,p.addEventListener("abort",()=>l.abort())):C=l.signal);const T=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:E,signal:C}).catch(L=>{throw new MD(L)}),A=T.headers.get("x-relay-error");if(A&&A==="true")throw new b1(T);if(!T.ok)throw new w1(T);let O=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield T.json():O==="application/octet-stream"||O==="application/pdf"?M=yield T.blob():O==="text/event-stream"?M=T:O==="multipart/form-data"?M=yield T.formData():M=yield T.text(),{data:M,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof w1||c instanceof b1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Xt={};const Xa=V2(ND);var Ed={},Cd={},kd={},Td={},_d={},Ad={},x1;function Xk(){if(x1)return Ad;x1=1,Object.defineProperty(Ad,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ad.default=n,Ad}var S1;function Qk(){if(S1)return _d;S1=1,Object.defineProperty(_d,"__esModule",{value:!0});const e=Xa.__importDefault(Xk());class t{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,m,v;let b=null,w=null,E=null,C=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const L=await d.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=L:w=JSON.parse(L))}const O=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),M=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");O&&M&&M.length>1&&(E=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,C=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const O=await d.text();try{b=JSON.parse(O),Array.isArray(b)&&d.status===404&&(w=[],b=null,C=200,T="OK")}catch{d.status===404&&O===""?(C=204,T="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,C=200,T="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:w,count:E,status:C,statusText:T}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,p,m,v,b,w;let E="";const C=d?.cause;if(C){const T=(f=C?.message)!==null&&f!==void 0?f:"",A=(p=C?.code)!==null&&p!==void 0?p:"";E=`${(m=d?.name)!==null&&m!==void 0?m:"FetchError"}: ${d?.message}`,E+=`

Caused by: ${(v=C?.name)!==null&&v!==void 0?v:"Error"}: ${T}`,A&&(E+=` (${A})`),C?.stack&&(E+=`
${C.stack}`)}else E=(b=d?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return _d.default=t,_d}var E1;function Zk(){if(E1)return Td;E1=1,Object.defineProperty(Td,"__esModule",{value:!0});const e=Xa.__importDefault(Qk());class t extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var p;const m=[i?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Td.default=t,Td}var C1;function Dv(){if(C1)return kd;C1=1,Object.defineProperty(kd,"__esModule",{value:!0});const e=Xa.__importDefault(Zk()),t=new RegExp("[,()]");class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${p}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return kd.default=r,kd}var k1;function eT(){if(k1)return Cd;k1=1,Object.defineProperty(Cd,"__esModule",{value:!0});const e=Xa.__importDefault(Dv());class t{constructor(i,{headers:o={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(i,o){const{head:l=!1,count:c}=o??{},d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var c;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Cd.default=t,Cd}var T1;function DD(){if(T1)return Ed;T1=1,Object.defineProperty(Ed,"__esModule",{value:!0});const n=Xa,e=n.__importDefault(eT()),t=n.__importDefault(Dv());class r{constructor(o,{headers:l={},schema:c,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:d=!1,count:f}={}){var p;let m;const v=new URL(`${this.url}/rpc/${o}`);let b;c||d?(m=c?"HEAD":"GET",Object.entries(l).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{v.searchParams.append(E,C)})):(m="POST",b=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new t.default({method:m,url:v,headers:w,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Ed.default=r,Ed}var _1;function LD(){if(_1)return Xt;_1=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const n=Xa,e=n.__importDefault(DD());Xt.PostgrestClient=e.default;const t=n.__importDefault(eT());Xt.PostgrestQueryBuilder=t.default;const r=n.__importDefault(Dv());Xt.PostgrestFilterBuilder=r.default;const i=n.__importDefault(Zk());Xt.PostgrestTransformBuilder=i.default;const o=n.__importDefault(Qk());Xt.PostgrestBuilder=o.default;const l=n.__importDefault(Xk());return Xt.PostgrestError=l.default,Xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Xt}var tT=LD();const nT=dh(tT),ID=ok({__proto__:null,default:nT},[tT]),{PostgrestClient:PD,PostgrestQueryBuilder:I9,PostgrestFilterBuilder:P9,PostgrestTransformBuilder:z9,PostgrestBuilder:B9,PostgrestError:$9}=nT||ID;class zD{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const BD="2.86.0",$D=`realtime-js/${BD}`,rT="1.0.0",UD="2.0.0",A1=rT,wy=1e4,HD=1e3,VD=100;var Ys;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ys||(Ys={}));var Mt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Mt||(Mt={}));var yr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(yr||(yr={}));var xy;(function(n){n.websocket="websocket"})(xy||(xy={}));var Xs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Xs||(Xs={}));class qD{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,r){var i,o;const l=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(b),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,d.length),w.setUint8(E++,c.length),w.setUint8(E++,l.length),w.setUint8(E++,f.length),w.setUint8(E++,m.length),w.setUint8(E++,t),Array.from(d,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(c,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(l,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(f,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(m,T=>w.setUint8(E++,T.charCodeAt(0)));var C=new Uint8Array(b.byteLength+r.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(r),b.byteLength),C.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,l,c,d]=r;return t({join_ref:i,ref:o,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+i));d=d+i;const p=r.decode(e.slice(d,d+o));d=d+o;const m=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class iT{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(nt||(nt={}));const O1=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=FD(l,n,e,i),o),{}):{}},FD=(n,e,t,r)=>{const i=e.find(c=>c.name===n),o=i?.type,l=t[n];return o&&!r.includes(o)?sT(o,l):Sy(l)},sT=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return JD(e,t)}switch(n){case nt.bool:return KD(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return WD(e);case nt.json:case nt.jsonb:return GD(e);case nt.timestamp:return YD(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Sy(e);default:return Sy(e)}},Sy=n=>n,KD=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},WD=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},GD=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},JD=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>sT(e,c))}return n},YD=n=>typeof n=="string"?n.replace(" ","T"):n,oT=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class hg{constructor(e,t,r={},i=wy){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N1;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(N1||(N1={}));class uc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uc.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=uc.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uc.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(o,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const m=o[f];if(m){const v=p.map(C=>C.presence_ref),b=m.map(C=>C.presence_ref),w=p.filter(C=>b.indexOf(C.presence_ref)<0),E=m.filter(C=>v.indexOf(C.presence_ref)<0);w.length>0&&(c[f]=w),E.length>0&&(d[f]=E)}else c[f]=p}),this.syncDiff(o,{joins:c,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const m=e[c].map(b=>b.presence_ref),v=p.filter(b=>m.indexOf(b.presence_ref)<0);e[c].unshift(...v)}r(c,p,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var R1;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(R1||(R1={}));var dc;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(dc||(dc={}));var ci;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ci||(ci={}));class Lv{constructor(e,t={config:{}},r){var i,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new hg(this,yr.join,this.params,this.timeout),this.rejoinTimer=new iT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new uc(this),this.broadcastEndpointURL=oT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[dc.PRESENCE]&&this.bindings[dc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(ci.CHANNEL_ERROR,b)),this._onClose(()=>e?.(ci.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){e?.(ci.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(w=E?.length)!==null&&w!==void 0?w:0,T=[];for(let A=0;A<C;A++){const O=E[A],{filter:{event:M,schema:L,table:P,filter:R}}=O,H=b&&b[A];if(H&&H.event===M&&H.schema===L&&H.table===P&&H.filter===R)T.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=Mt.errored,e?.(ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(ci.SUBSCRIBED);return}}).receive("error",b=>{this.state=Mt.errored,e?.(ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Mt.joined&&e===dc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new hg(this,yr.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hg(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>VD){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=yr;if(r&&[c,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,E,C;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var w,E,C,T,A,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const M=b.id,L=(w=b.filter)===null||w===void 0?void 0:w.event;return M&&((E=t.ids)===null||E===void 0?void 0:E.includes(M))&&(L==="*"||L?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const M=(A=(T=b?.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:E,table:C,commit_timestamp:T,type:A,errors:O}=w;v=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:T,eventType:A,new:{},old:{},errors:O}),this._getPayloadRecords(w))}b.callback(v,r)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Lv.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yr.close,{},e)}_onError(e){this._on(yr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=O1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=O1(e.columns,e.old_record)),t}}const pg=()=>{},Od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XD=[1e3,2e3,5e3,1e4],QD=1e4,ZD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eL{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wy,this.transport=null,this.heartbeatIntervalMs=Od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pg,this.ref=0,this.reconnectTimer=null,this.vsn=A1,this.logger=pg,this.conn=null,this.sendBuffer=[],this.serializer=new qD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${xy.websocket}`,this.httpEndpoint=oT(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zD.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return Xs.Connecting;case Ys.open:return Xs.Open;case Ys.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Lv(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HD,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Od.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=t,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ys.open||this.conn.readyState===Ys.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([ZD],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:$D};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(yr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,l,c,d,f,p,m,v,b;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:wy,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Od.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:pg,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:A1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>XD[w-1]||QD),this.vsn){case rT:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((w,E)=>E(JSON.stringify(w))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((w,E)=>E(JSON.parse(w)));break;case UD:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class mh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class tL extends mh{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ey extends mh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Iv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),nL=()=>Response,Cy=n=>{if(Array.isArray(n))return n.map(t=>Cy(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Cy(r)}),e},rL=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},iL=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),mg=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},sL=(n,e,t)=>le(void 0,void 0,void 0,function*(){const r=yield nL();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{const o=n.status||500,l=i?.statusCode||o+"";e(new tL(mg(i),o,l))}).catch(i=>{e(new Ey(mg(i),i))}):e(new Ey(mg(n),n))}),oL=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(rL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Wc(n,e,t,r,i,o){return le(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,oL(e,r,i,o)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>sL(d,c,r))})})}function Cc(n,e,t,r){return le(this,void 0,void 0,function*(){return Wc(n,"GET",e,t,r)})}function gr(n,e,t,r,i){return le(this,void 0,void 0,function*(){return Wc(n,"POST",e,r,i,t)})}function ky(n,e,t,r,i){return le(this,void 0,void 0,function*(){return Wc(n,"PUT",e,r,i,t)})}function aL(n,e,t,r){return le(this,void 0,void 0,function*(){return Wc(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Pv(n,e,t,r,i){return le(this,void 0,void 0,function*(){return Wc(n,"DELETE",e,r,i,t)})}class lL{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}var aT;class cL{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aT]="BlobDownloadBuilder",this.promise=null}asStream(){return new lL(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}aT=Symbol.toStringTag;const uL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dL{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Iv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return le(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},M1),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),m=yield(e=="PUT"?ky:gr)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ut(o))return{data:null,error:o};throw o}})}upload(e,t,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:M1.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield ky(this.fetch,c.toString(),d,{headers:p});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ut(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new mh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}update(e,t,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return le(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}copy(e,t,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield gr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return le(this,void 0,void 0,function*(){try{const i=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"",c=this._getFinalPath(e),d=()=>Cc(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new cL(d,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Cc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Cy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}exists(e){return le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield aL(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r)&&r instanceof Ey){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield Pv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}list(e,t,r){return le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uL),t),{prefix:e||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}listV2(e,t){return le(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield gr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const lT="2.86.0",cT={"X-Client-Info":`storage-js/${lT}`};class fL{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cT),t),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Cc(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Cc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}createBucket(e){return le(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Pv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var kc=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hL(n,e,t){const r=new URL(e,n);if(t)for(const[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function pL(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function mL(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:o,headers:l}){const c=hL(n.baseUrl,r,i),d=await pL(n.auth),f=await e(c,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),p=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!f.ok){const b=m?v:void 0,w=b?.error;throw new kc(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:f.status,headers:f.headers,data:v}}}}function Nd(n){return n.join("")}var gL=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Nd(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nd(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nd(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nd(n.namespace)}`}),!0}catch(e){if(e instanceof kc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof kc&&t.status===409)return;throw t}}};function ua(n){return n.join("")}var yL=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof kc&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof kc&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},vL=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=mL({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new gL(this.client,e),this.tableOps=new yL(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class bL{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cT),t),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Cc(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Pv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}from(e){if(!iL(e))throw new mh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new vL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const zv={"X-Client-Info":`storage-js/${lT}`,"Content-Type":"application/json"};class uT extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ln(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class gg extends uT{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wL extends uT{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var j1;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(j1||(j1={}));const Bv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),xL=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},D1=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SL=(n,e,t)=>le(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(l=>{const c=l?.statusCode||l?.code||i+"";e(new gg(D1(l),i,c))}).catch(()=>{const l=i+"",c=o.statusText||`HTTP ${i} error`;e(new gg(c,i,l))});else{const l=i+"",c=o.statusText||`HTTP ${i} error`;e(new gg(c,i,l))}}else e(new wL(D1(n),n))}),EL=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return r?(xL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t)):i};function CL(n,e,t,r,i,o){return le(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,EL(e,r,i,o)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>SL(d,c,r))})})}function In(n,e,t,r,i){return le(this,void 0,void 0,function*(){return CL(n,"POST",e,r,i,t)})}class kL{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),t),this.fetch=Bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}getIndex(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return le(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class TL{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),t),this.fetch=Bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield In(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}}class _L{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),t),this.fetch=Bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield In(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ln(t))return{data:null,error:t};throw t}})}}class AL extends _L{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new OL(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return le(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return le(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return le(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return le(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class OL extends kL{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new NL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class NL extends TL{constructor(e,t,r,i,o){super(e,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RL extends fL{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new dL(this.url,this.headers,e,this.fetch)}get vectors(){return new AL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bL(this.url+"/iceberg",this.headers,this.fetch)}}const ML="2.86.0";let ic="";typeof Deno<"u"?ic="deno":typeof document<"u"?ic="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ic="react-native":ic="node";const jL={"X-Client-Info":`supabase-js-${ic}/${ML}`},DL={headers:jL},LL={schema:"public"},IL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PL={},zL=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),BL=()=>Headers,$L=(n,e,t)=>{const r=zL(t),i=BL();return async(o,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:n;let f=new i(l?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))}};function UL(n){return n.endsWith("/")?n:n+"/"}function HL(n,e){var t,r;const{db:i,auth:o,realtime:l,global:c}=n,{db:d,auth:f,realtime:p,global:m}=e,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(t=m?.headers)!==null&&t!==void 0?t:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function VL(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dT="2.86.0",Sa=30*1e3,Ty=3,yg=Ty*Sa,qL="http://localhost:9999",FL="supabase.auth.token",KL={"X-Client-Info":`gotrue-js/${dT}`},_y="X-Supabase-Api-Version",fT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GL=600*1e3;class Tc extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ye(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class JL extends Tc{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function YL(n){return ye(n)&&n.name==="AuthApiError"}class Qs extends Tc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ws extends Tc{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class jn extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XL(n){return ye(n)&&n.name==="AuthSessionMissingError"}class da extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rd extends ws{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Md extends ws{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QL(n){return ye(n)&&n.name==="AuthImplicitGrantRedirectError"}class L1 extends ws{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ay extends ws{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function vg(n){return ye(n)&&n.name==="AuthRetryableFetchError"}class I1 extends ws{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Oy extends ws{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P1=` 	
\r=`.split(""),ZL=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<P1.length;e+=1)n[P1[e].charCodeAt(0)]=-2;for(let e=0;e<df.length;e+=1)n[df[e].charCodeAt(0)]=e;return n})();function z1(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(df[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(df[r]),e.queuedBits-=6}}function hT(n,e,t){const r=ZL[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function B1(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{nI(l,r,t)};for(let l=0;l<n.length;l+=1)hT(n.charCodeAt(l),i,o);return e.join("")}function eI(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function tI(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}eI(r,e)}}function nI(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ra(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)hT(n.charCodeAt(i),t,r);return new Uint8Array(e)}function rI(n){const e=[];return tI(n,t=>e.push(t)),new Uint8Array(e)}function eo(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>z1(i,t,r)),z1(null,t,r),e.join("")}function iI(n){return Math.round(Date.now()/1e3)+n}function sI(){return Symbol("auth-callback")}const Kt=()=>typeof window<"u"&&typeof document<"u",Fs={tested:!1,writable:!1},pT=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fs.tested)return Fs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Fs.tested=!0,Fs.writable=!0}catch{Fs.tested=!0,Fs.writable=!1}return Fs.writable};function oI(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const mT=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),aI=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ea=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ks=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Wi=async(n,e)=>{await n.removeItem(e)};class gh{constructor(){this.promise=new gh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}gh.promiseConstructor=Promise;function bg(n){const e=n.split(".");if(e.length!==3)throw new Oy("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!WL.test(e[r]))throw new Oy("JWT not in base64url format");return{header:JSON.parse(B1(e[0])),payload:JSON.parse(B1(e[1])),signature:Ra(e[2]),raw:{header:e[0],payload:e[1]}}}async function lI(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function cI(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function uI(n){return("0"+n.toString(16)).substr(-2)}function dI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,uI).join("")}async function fI(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function hI(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await fI(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fa(n,e,t=!1){const r=dI();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Ea(n,`${e}-code-verifier`,i);const o=await hI(r);return[o,r===o?"plain":"s256"]}const pI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mI(n){const e=n.headers.get(_y);if(!e||!e.match(pI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gI(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function yI(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ha(n){if(!vI.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wg(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bI(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function $1(n){return JSON.parse(JSON.stringify(n))}const Js=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),wI=[502,503,504];async function U1(n){var e;if(!aI(n))throw new Ay(Js(n),0);if(wI.includes(n.status))throw new Ay(Js(n),n.status);let t;try{t=await n.json()}catch(o){throw new Qs(Js(o),o)}let r;const i=mI(n);if(i&&i.getTime()>=fT["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new I1(Js(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new I1(Js(t),n.status,t.weak_password.reasons);throw new JL(Js(t),n.status||500,r)}const xI=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Ee(n,e,t,r){var i;const o=Object.assign({},r?.headers);o[_y]||(o[_y]=fT["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await SI(n,e,t+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function SI(n,e,t,r,i,o){const l=xI(e,r,i,o);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Ay(Js(d),0)}if(c.ok||await U1(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await U1(d)}}function pr(n){var e;let t=null;kI(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=iI(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function H1(n){const e=pr(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ts(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function EI(n){return{data:n,error:null}}function CI(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,l=bs(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function V1(n){return n}function kI(n){return n.access_token&&n.refresh_token&&n.expires_in}const xg=["global","local","others"];class TI{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=mT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=xg[0]){if(xg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xg.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ts})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=bs(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:CI,redirectTo:t?.redirectTo})}catch(t){if(ye(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ts})}catch(t){if(ye(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:V1});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);f[`${C}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ye(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ha(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ts})}catch(t){if(ye(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ha(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ts})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){ha(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ts})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ha(e.userId);try{const{data:t,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ha(e.userId),ha(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:V1});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);f[`${C}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ye(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}}function q1(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const pa={debug:!!(globalThis&&pT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _I extends gT{}async function AI(n,e,t){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new _I(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(pa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function OI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yT(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function NI(n){return parseInt(n,16)}function RI(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function MI(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:p,uri:m,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=yT(n.address),w=p?`${p}://${r}`:r,E=n.statement?`${n.statement}
`:"",C=`${w} wants you to sign in with your Ethereum account:
${b}

${E}`;let T=`URI: ${m}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let A=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);A+=`
- ${O}`}T+=A}return`${C}
${T}`}class Tt extends Error{constructor({message:e,code:t,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class ff extends Tt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function jI({error:n,options:e}){var t,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Tt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(vT(l)){if(o.rp.id!==l)return new Tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function DI({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Tt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(vT(r)){if(t.rpId!==r)return new Tt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class LI{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const II=new LI;function PI(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=bs(n,["challenge","user","excludeCredentials"]),o=Ra(e).buffer,l=Object.assign(Object.assign({},t),{id:Ra(t.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ra(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function zI(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=bs(n,["challenge","allowCredentials"]),i=Ra(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Ra(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function BI(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:eo(new Uint8Array(n.response.attestationObject)),clientDataJSON:eo(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $I(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:eo(new Uint8Array(i.authenticatorData)),clientDataJSON:eo(new Uint8Array(i.clientDataJSON)),signature:eo(new Uint8Array(i.signature)),userHandle:i.userHandle?eo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vT(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function F1(){var n,e;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function UI(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",e)}:{data:null,error:new ff("Empty credential response",e)}}catch(e){return{data:null,error:jI({error:e,options:n})}}}async function HI(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",e)}:{data:null,error:new ff("Empty credential response",e)}}catch(e){return{data:null,error:DI({error:e,options:n})}}}const VI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hf(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(t(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=hf(c,l):r[o]=hf(l)}else r[o]=l}return r}function FI(n,e){return hf(VI,n,e||{})}function KI(n,e){return hf(qI,n,e||{})}class WI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=i??II.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=FI(l.webauthn.credential_options.publicKey,o?.create),{data:p,error:m}=await UI({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=KI(l.webauthn.credential_options.publicKey,o?.request),{data:p,error:m}=await HI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Qs("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Tc("rpId is required for WebAuthn authentication")};try{if(!F1())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Qs("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Tc("rpId is required for WebAuthn registration")};try{if(!F1())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Qs("Unexpected error in register",l)}}}}OI();const GI={url:qL,storageKey:FL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function K1(n,e,t){return await t()}const ma={};class _c{get jwks(){var e,t;return(t=(e=ma[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ma[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},GI),e);if(this.storageKey=o.storageKey,this.instanceID=(t=_c.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,_c.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Kt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new TI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=mT(o.fetch),this.lock=o.lock||K1,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Kt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=AI:this.lock=K1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:pT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q1(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=q1(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Kt()&&(t=oI(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Kt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QL(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ye(t)?this._returnResult({error:t}):this._returnResult({error:new Qs("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:pr}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:p,password:m,options:v}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await fa(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:w},xform:pr})}else if("phone"in e){const{phone:p,password:m,options:v}=e;o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:pr})}else throw new Rd("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:c}=e;t=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:H1})}else if("phone"in e){const{phone:o,password:l,options:c}=e;t=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:H1})}else throw new Rd("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new da;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,o,l,c,d,f,p,m,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:E,wallet:C,statement:T,options:A}=e;let O;if(Kt())if(typeof C=="object")O=C;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")O=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const M=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href),L=await O.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=yT(L[0]);let R=(r=A?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const Z=await O.request({method:"eth_chainId"});R=NI(Z)}const H={domain:M.host,address:P,statement:T,uri:M.href,version:"1",chainId:R,nonce:(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=MI(H),w=await O.request({method:"personal_sign",params:[RI(b),P]})}try{const{data:E,error:C}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pr});if(C)throw C;if(!E||!E.session||!E.user){const T=new da;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(ye(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var t,r,i,o,l,c,d,f,p,m,v,b;let w,E;if("message"in e)w=e.message,E=e.signature;else{const{chain:C,wallet:T,statement:A,options:O}=e;let M;if(Kt())if(typeof T=="object")M=T;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))M=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const L=new URL((t=O?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const P=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),A?{statement:A}:null));let R;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")R=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)R=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),E=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${L.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((m=(p=O?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...O.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const P=await M.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=P}}try{const{data:C,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:eo(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:pr});if(T)throw T;if(!C||!C.session||!C.user){const A=new da;return this._returnResult({data:{user:null,session:null},error:A})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(ye(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const t=await Ks(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pr});if(await Wi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new da;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:l}=e,c=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:pr}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new da;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,o,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await fa(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Rd("You must provide either an email or phone number.")}catch(c){if(ye(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:pr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await fa(this.storage,this.storageKey));const f=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:EI});return!((o=f.data)===null||o===void 0)&&o.url&&Kt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(ye(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new jn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await Ee(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:c}=await Ee(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new Rd("You must provide either an email or phone number and a type")}catch(t){if(ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Ks(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=wg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=bI(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ts}):await this._useSession(async t=>{var r,i,o;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ts})})}catch(t){if(ye(t))return XL(t)&&(await this._removeSession(),await Wi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new jn;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await fa(this.storage,this.storageKey));const{data:f,error:p}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:ts});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jn;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:l}=bg(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(ye(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new jn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Kt())throw new Md("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Md(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new L1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Md("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L1("No code detected.");const{data:A,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!o||!c||!l||!f)throw new Md("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let v=p+m;d&&(v=parseInt(d));const b=v-p;b*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const w=v-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:E,error:C}=await this._getUser(o);if(C)throw C;const T={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:v,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ks(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(YL(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Wi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=sI(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await fa(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(ye(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var l,c,d,f,p;const{data:m,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Kt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(ye(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:o}}=t;if(i)throw i;const{options:l,provider:c,token:d,access_token:f,nonce:p}=e,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:pr}),{data:v,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new da}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)throw l;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await cI(async i=>(i>0&&await lI(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&vg(o)&&Date.now()+l-r<Sa})}catch(r){if(this._debug(t,"error",r),ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Kt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ks(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ks(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ea(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:wg()}else if(i&&!i.user&&!i.user){const l=await Ks(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Wi(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,i)):i.user=wg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<yg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${yg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),vg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gh;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new jn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),ye(o)){const l={data:null,error:o};return vg(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const o=$1(i);await Ea(this.storage,this.storageKey,o)}else{const i=$1(t);await Ea(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wi(this.storage,this.storageKey),await Wi(this.storage,this.storageKey+"-code-verifier"),await Wi(this.storage,this.storageKey+"-user"),this.userStorage&&await Wi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sa}ms, refresh threshold is ${Ty} ticks`),i<=Ty&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await fa(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?this._returnResult({data:null,error:o}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?BI(e.webauthn.credential_response):$I(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:PI(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:zI(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bg(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jn})})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new jn});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Kt()&&!t?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new jn});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Kt()&&!t?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new jn})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jn})})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+GL>i)return r;const{data:o,error:l}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});r=b.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:d}}=bg(r);t?.allowExpired||gI(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:l},error:null}}const p=yI(i.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,rI(`${c}.${d}`)))throw new Oy("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}}_c.nextInstanceID={};const JI=_c;class YI extends JI{constructor(e){super(e)}}class XI{constructor(e,t,r){var i,o,l;this.supabaseUrl=e,this.supabaseKey=t;const c=VL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:LL,realtime:PL,auth:Object.assign(Object.assign({},IL),{storageKey:d}),global:DL},p=HL(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=$L(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new PD(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new RL(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new jD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:c,lock:d,debug:f,throwOnError:p},m,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YI({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),m),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:c,lock:d,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QI=(n,e,t)=>new XI(n,e,t);function ZI(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eP="https://atwywddjpvlacybbyamc.supabase.co",tP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF0d3l3ZGRqcHZsYWN5YmJ5YW1jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4MDQxMDksImV4cCI6MjA2OTM4MDEwOX0.uIHNYHsVqnmtrrlgSuxZAISm62Nd2delvF8sPRUjFAU",ir=QI(eP,tP),nP={async login(n,e){const{data:t,error:r}=await ir.from("noose_user").select("*").eq("username",n).single();return r||!t?(console.error("Login failed:",r),null):t.password!==e?null:{id:t.id,username:t.username,matricule:t.matricule,rank:t.rank,division:t.division,clearance:t.clearance,permissions:t.permissions||[]}}};function W1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nn(...n){return e=>{let t=!1;const r=n.map(i=>{const o=W1(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():W1(n[i],null)}}}}function wt(...n){return S.useCallback(nn(...n),n)}var rP=Symbol.for("react.lazy"),pf=Sv[" use ".trim().toString()];function iP(n){return typeof n=="object"&&n!==null&&"then"in n}function bT(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===rP&&"_payload"in n&&iP(n._payload)}function wT(n){const e=oP(n),t=S.forwardRef((r,i)=>{let{children:o,...l}=r;bT(o)&&typeof pf=="function"&&(o=pf(o._payload));const c=S.Children.toArray(o),d=c.find(lP);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}var sP=wT("Slot");function oP(n){const e=S.forwardRef((t,r)=>{let{children:i,...o}=t;if(bT(i)&&typeof pf=="function"&&(i=pf(i._payload)),S.isValidElement(i)){const l=uP(i),c=cP(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var aP=Symbol("radix.slottable");function lP(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===aP}function cP(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function uP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function xT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=xT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ST(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=xT(n))&&(r&&(r+=" "),r+=e);return r}const G1=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,J1=ST,$v=(n,e)=>t=>{var r;if(e?.variants==null)return J1(n,t?.class,t?.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(f=>{const p=t?.[f],m=o?.[f];if(p===null)return null;const v=G1(p)||G1(m);return i[f][v]}),c=t&&Object.entries(t).reduce((f,p)=>{let[m,v]=p;return v===void 0||(f[m]=v),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:v,...b}=p;return Object.entries(b).every(w=>{let[E,C]=w;return Array.isArray(C)?C.includes({...o,...c}[E]):{...o,...c}[E]===C})?[...f,m,v]:f},[]);return J1(n,l,d,t?.class,t?.className)},dP=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},fP=(n,e)=>({classGroupId:n,validator:e}),ET=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),mf="-",Y1=[],hP="arbitrary..",pP=n=>{const e=gP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return mP(l);const c=l.split(mf),d=c[0]===""&&c.length>1?1:0;return CT(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=t[l];return d?f?dP(f,d):d:f||Y1}return t[l]||Y1}}},CT=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],o=t.nextPart.get(i);if(o){const f=CT(n,e+1,o);if(f)return f}const l=t.validators;if(l===null)return;const c=e===0?n.join(mf):n.slice(e).join(mf),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},mP=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?hP+r:void 0})(),gP=n=>{const{theme:e,classGroups:t}=n;return yP(t,e)},yP=(n,e)=>{const t=ET();for(const r in n){const i=n[r];Uv(i,t,r,e)}return t},Uv=(n,e,t,r)=>{const i=n.length;for(let o=0;o<i;o++){const l=n[o];vP(l,e,t,r)}},vP=(n,e,t,r)=>{if(typeof n=="string"){bP(n,e,t);return}if(typeof n=="function"){wP(n,e,t,r);return}xP(n,e,t,r)},bP=(n,e,t)=>{const r=n===""?e:kT(e,n);r.classGroupId=t},wP=(n,e,t,r)=>{if(SP(n)){Uv(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(fP(t,n))},xP=(n,e,t,r)=>{const i=Object.entries(n),o=i.length;for(let l=0;l<o;l++){const[c,d]=i[l];Uv(d,kT(e,c),t,r)}},kT=(n,e)=>{let t=n;const r=e.split(mf),i=r.length;for(let o=0;o<i;o++){const l=r[o];let c=t.nextPart.get(l);c||(c=ET(),t.nextPart.set(l,c)),t=c}return t},SP=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,EP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const i=(o,l)=>{t[o]=l,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(o){let l=t[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in t?t[o]=l:i(o,l)}}},Ny="!",X1=":",CP=[],Q1=(n,e,t,r,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:i}),kP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let l=0,c=0,d=0,f;const p=i.length;for(let E=0;E<p;E++){const C=i[E];if(l===0&&c===0){if(C===X1){o.push(i.slice(d,E)),d=E+1;continue}if(C==="/"){f=E;continue}}C==="["?l++:C==="]"?l--:C==="("?c++:C===")"&&c--}const m=o.length===0?i:i.slice(d);let v=m,b=!1;m.endsWith(Ny)?(v=m.slice(0,-1),b=!0):m.startsWith(Ny)&&(v=m.slice(1),b=!0);const w=f&&f>d?f-d:void 0;return Q1(o,b,v,w)};if(e){const i=e+X1,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):Q1(CP,!1,l,void 0,!0)}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},TP=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let i=[];for(let o=0;o<t.length;o++){const l=t[o],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},_P=n=>({cache:EP(n.cacheSize),parseClassName:kP(n),sortModifiers:TP(n),...pP(n)}),AP=/\s+/,OP=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],c=n.trim().split(AP);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:v,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:E}=t(p);if(m){d=p+(d.length>0?" "+d:d);continue}let C=!!E,T=r(C?w.substring(0,E):w);if(!T){if(!C){d=p+(d.length>0?" "+d:d);continue}if(T=r(w),!T){d=p+(d.length>0?" "+d:d);continue}C=!1}const A=v.length===0?"":v.length===1?v[0]:o(v).join(":"),O=b?A+Ny:A,M=O+T;if(l.indexOf(M)>-1)continue;l.push(M);const L=i(T,C);for(let P=0;P<L.length;++P){const R=L[P];l.push(O+R)}d=p+(d.length>0?" "+d:d)}return d},NP=(...n)=>{let e=0,t,r,i="";for(;e<n.length;)(t=n[e++])&&(r=TT(t))&&(i&&(i+=" "),i+=r);return i},TT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=TT(n[r]))&&(t&&(t+=" "),t+=e);return t},RP=(n,...e)=>{let t,r,i,o;const l=d=>{const f=e.reduce((p,m)=>m(p),n());return t=_P(f),r=t.cache.get,i=t.cache.set,o=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=OP(d,t);return i(d,p),p};return o=l,(...d)=>o(NP(...d))},MP=[],Rt=n=>{const e=t=>t[n]||MP;return e.isThemeGetter=!0,e},_T=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jP=/^\d+\/\d+$/,DP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,PP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ga=n=>jP.test(n),je=n=>!!n&&!Number.isNaN(Number(n)),Gi=n=>!!n&&Number.isInteger(Number(n)),Sg=n=>n.endsWith("%")&&je(n.slice(0,-1)),ii=n=>DP.test(n),BP=()=>!0,$P=n=>LP.test(n)&&!IP.test(n),OT=()=>!1,UP=n=>PP.test(n),HP=n=>zP.test(n),VP=n=>!ce(n)&&!ue(n),qP=n=>Qa(n,MT,OT),ce=n=>_T.test(n),Ws=n=>Qa(n,jT,$P),Eg=n=>Qa(n,JP,je),Z1=n=>Qa(n,NT,OT),FP=n=>Qa(n,RT,HP),jd=n=>Qa(n,DT,UP),ue=n=>AT.test(n),ec=n=>Za(n,jT),KP=n=>Za(n,YP),eE=n=>Za(n,NT),WP=n=>Za(n,MT),GP=n=>Za(n,RT),Dd=n=>Za(n,DT,!0),Qa=(n,e,t)=>{const r=_T.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Za=(n,e,t=!1)=>{const r=AT.exec(n);return r?r[1]?e(r[1]):t:!1},NT=n=>n==="position"||n==="percentage",RT=n=>n==="image"||n==="url",MT=n=>n==="length"||n==="size"||n==="bg-size",jT=n=>n==="length",JP=n=>n==="number",YP=n=>n==="family-name",DT=n=>n==="shadow",XP=()=>{const n=Rt("color"),e=Rt("font"),t=Rt("text"),r=Rt("font-weight"),i=Rt("tracking"),o=Rt("leading"),l=Rt("breakpoint"),c=Rt("container"),d=Rt("spacing"),f=Rt("radius"),p=Rt("shadow"),m=Rt("inset-shadow"),v=Rt("text-shadow"),b=Rt("drop-shadow"),w=Rt("blur"),E=Rt("perspective"),C=Rt("aspect"),T=Rt("ease"),A=Rt("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...M(),ue,ce],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],H=()=>[ue,ce,d],Z=()=>[ga,"full","auto",...H()],se=()=>[Gi,"none","subgrid",ue,ce],me=()=>["auto",{span:["full",Gi,ue,ce]},Gi,ue,ce],fe=()=>[Gi,"auto",ue,ce],Ce=()=>["auto","min","max","fr",ue,ce],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...H()],G=()=>[ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],q=()=>[n,ue,ce],pe=()=>[...M(),eE,Z1,{position:[ue,ce]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",WP,qP,{size:[ue,ce]}],j=()=>[Sg,ec,Ws],K=()=>["","none","full",f,ue,ce],X=()=>["",je,ec,Ws],ee=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[je,Sg,eE,Z1],ve=()=>["","none",w,ue,ce],ge=()=>["none",je,ue,ce],Oe=()=>["none",je,ue,ce],Ue=()=>[je,ue,ce],Fe=()=>[ga,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ii],breakpoint:[ii],color:[BP],container:[ii],"drop-shadow":[ii],ease:["in","out","in-out"],font:[VP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ii],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ii],shadow:[ii],spacing:["px",je],text:[ii],"text-shadow":[ii],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ga,ce,ue,C]}],container:["container"],columns:[{columns:[je,ce,ue,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[Gi,"auto",ue,ce]}],basis:[{basis:[ga,"full","auto",c,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,ga,"auto","initial","none",ce]}],grow:[{grow:["",je,ue,ce]}],shrink:[{shrink:["",je,ue,ce]}],order:[{order:[Gi,"first","last","none",ue,ce]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:me()}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:me()}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ce()}],"auto-rows":[{"auto-rows":Ce()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[c,"screen",...G()]}],"min-w":[{"min-w":[c,"screen","none",...G()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",t,ec,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ue,Eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sg,ce]}],"font-family":[{font:[KP,ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ue,ce]}],"line-clamp":[{"line-clamp":[je,"none",ue,Eg]}],leading:[{leading:[o,...H()]}],"list-image":[{"list-image":["none",ue,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",ue,Ws]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[je,"auto",ue,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gi,ue,ce],radial:["",ue,ce],conic:[Gi,ue,ce]},GP,FP]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,ue,ce]}],"outline-w":[{outline:["",je,ec,Ws]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",p,Dd,jd]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",m,Dd,jd]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[je,Ws]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",v,Dd,jd]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[je,ue,ce]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[ue,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,ce]}],filter:[{filter:["","none",ue,ce]}],blur:[{blur:ve()}],brightness:[{brightness:[je,ue,ce]}],contrast:[{contrast:[je,ue,ce]}],"drop-shadow":[{"drop-shadow":["","none",b,Dd,jd]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",je,ue,ce]}],"hue-rotate":[{"hue-rotate":[je,ue,ce]}],invert:[{invert:["",je,ue,ce]}],saturate:[{saturate:[je,ue,ce]}],sepia:[{sepia:["",je,ue,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,ce]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[je,ue,ce]}],"backdrop-contrast":[{"backdrop-contrast":[je,ue,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,ue,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,ue,ce]}],"backdrop-invert":[{"backdrop-invert":["",je,ue,ce]}],"backdrop-opacity":[{"backdrop-opacity":[je,ue,ce]}],"backdrop-saturate":[{"backdrop-saturate":[je,ue,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",je,ue,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",ue,ce]}],ease:[{ease:["linear","initial",T,ue,ce]}],delay:[{delay:[je,ue,ce]}],animate:[{animate:["none",A,ue,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,ue,ce]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[ue,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fe()}],"translate-x":[{"translate-x":Fe()}],"translate-y":[{"translate-y":Fe()}],"translate-z":[{"translate-z":Fe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,ce]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[je,ec,Ws,Eg]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QP=RP(XP);function De(...n){return QP(ST(n))}const ZP=$v("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),rt=S.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},o)=>{const l=r?sP:"button";return x.jsx(l,{className:De(ZP({variant:e,size:t,className:n})),ref:o,...i})});rt.displayName="Button";const sr=S.forwardRef(({className:n,type:e,...t},r)=>x.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));sr.displayName="Input";var ez=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wi=ez.reduce((n,e)=>{const t=wT(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),tz="Label",LT=S.forwardRef((n,e)=>x.jsx(wi.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));LT.displayName=tz;var IT=LT;const nz=$v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=S.forwardRef(({className:n,...e},t)=>x.jsx(IT,{ref:t,className:De(nz(),n),...e}));Pt.displayName=IT.displayName;const br=S.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));br.displayName="Card";const di=S.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:De("flex flex-col space-y-1.5 p-6",n),...e}));di.displayName="CardHeader";const fi=S.forwardRef(({className:n,...e},t)=>x.jsx("h3",{ref:t,className:De("text-2xl font-semibold leading-none tracking-tight",n),...e}));fi.displayName="CardTitle";const PT=S.forwardRef(({className:n,...e},t)=>x.jsx("p",{ref:t,className:De("text-sm text-muted-foreground",n),...e}));PT.displayName="CardDescription";const wr=S.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:De("p-6 pt-0",n),...e}));wr.displayName="CardContent";const zT=S.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:De("flex items-center p-6 pt-0",n),...e}));zT.displayName="CardFooter";function rz(){const[n,e]=S.useState(""),[t,r]=S.useState(""),[i,o]=S.useState(""),l=Eo(f=>f.login),c=zr(),d=async f=>{f.preventDefault(),o("");try{const p=await nP.login(n,t);p?(l(p),c("/")):o("Invalid credentials")}catch{o("An error occurred during login")}};return x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:x.jsxs(br,{className:"w-[350px]",children:[x.jsxs(di,{children:[x.jsx(fi,{children:"NICMS Login"}),x.jsx(PT,{children:"Enter your credentials to access the system."})]}),x.jsxs("form",{onSubmit:d,children:[x.jsx(wr,{children:x.jsxs("div",{className:"grid w-full items-center gap-4",children:[x.jsxs("div",{className:"flex flex-col space-y-1.5",children:[x.jsx(Pt,{htmlFor:"username",children:"Username"}),x.jsx(sr,{id:"username",placeholder:"Username",value:n,onChange:f=>e(f.target.value)})]}),x.jsxs("div",{className:"flex flex-col space-y-1.5",children:[x.jsx(Pt,{htmlFor:"password",children:"Password"}),x.jsx(sr,{id:"password",type:"password",placeholder:"Password",value:t,onChange:f=>r(f.target.value)})]}),i&&x.jsx("p",{className:"text-sm text-red-500",children:i})]})}),x.jsx(zT,{className:"flex justify-between",children:x.jsx(rt,{type:"submit",className:"w-full",children:"Login"})})]})]})})}function iz(){return Eo(e=>e.isAuthenticated)?x.jsx(vk,{}):x.jsx(yk,{to:"/login",replace:!0})}const sz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),tE=n=>{const e=oz(n);return e.charAt(0).toUpperCase()+e.slice(1)},BT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),az=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cz=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>S.createElement("svg",{ref:d,...lz,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BT("lucide",i),...!o&&!az(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>S.createElement(f,p)),...Array.isArray(o)?o:[o]]));const tt=(n,e)=>{const t=S.forwardRef(({className:r,...i},o)=>S.createElement(cz,{ref:o,iconNode:e,className:BT(`lucide-${sz(tE(n))}`,`lucide-${n}`,r),...i}));return t.displayName=tE(n),t};const uz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hv=tt("arrow-left",uz);const dz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fz=tt("bell",dz);const hz=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],pz=tt("bold",hz);const mz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ac=tt("briefcase",mz);const gz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yz=tt("check",gz);const vz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vv=tt("chevron-down",vz);const bz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wz=tt("chevron-right",bz);const xz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sz=tt("chevron-up",xz);const Ez=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Cz=tt("file-down",Ez);const kz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ma=tt("file-text",kz);const Tz=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Cg=tt("folder",Tz);const _z=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qv=tt("funnel",_z);const Az=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Oz=tt("heading-1",Az);const Nz=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Rz=tt("heading-2",Nz);const Mz=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],jz=tt("italic",Mz);const Dz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Lz=tt("layout-dashboard",Dz);const Iz=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Pz=tt("list-ordered",Iz);const zz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Bz=tt("list",zz);const $z=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uz=tt("log-out",$z);const Hz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fv=tt("plus",Hz);const Vz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kv=tt("save",Vz);const qz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gc=tt("search",qz);const Fz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kz=tt("settings",Fz);const Wz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gz=tt("triangle-alert",Wz);const Jz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yz=tt("upload",Jz);const Xz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gf=tt("users",Xz);const Qz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zz=tt("x",Qz);function Qn({icon:n,label:e,to:t,children:r}){const[i,o]=S.useState(!1),l=!!r,c=x.jsxs("div",{className:De("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer","hover:bg-primary/10 hover:text-primary",t&&"hover:bg-primary/10"),onClick:()=>l&&o(!i),children:[l?i?x.jsx(Vv,{className:"h-4 w-4 text-muted-foreground"}):x.jsx(wz,{className:"h-4 w-4 text-muted-foreground"}):x.jsx("span",{className:"w-4"}),x.jsx(n,{className:"h-4 w-4 text-primary"}),x.jsx("span",{className:"flex-1",children:e})]});return x.jsxs("div",{children:[t?x.jsx(Ck,{to:t,className:({isActive:d})=>De("block rounded-md transition-colors",d?"bg-primary/10 text-primary font-semibold":"text-muted-foreground"),children:c}):c,l&&i&&x.jsx("div",{className:"ml-6 mt-1 border-l pl-2 space-y-1",children:r})]})}function e3(){const{user:n,logout:e}=Eo();return x.jsxs("aside",{className:"w-64 border-r bg-background flex flex-col h-screen sticky top-0",children:[x.jsx("div",{className:"p-4 border-b bg-primary/5",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-bold",children:n?.username.substring(0,2).toUpperCase()}),x.jsxs("div",{className:"overflow-hidden",children:[x.jsx("p",{className:"text-sm font-medium truncate",children:n?.username}),x.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[n?.rank," - ",n?.division]})]})]})}),x.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[x.jsx(Qn,{icon:Lz,label:"Dashboard",to:"/"}),x.jsxs(Qn,{icon:Cg,label:"Reports",children:[x.jsx(Qn,{icon:Ma,label:"All Reports",to:"/reports"}),x.jsx(Qn,{icon:Ma,label:"My Reports",to:"/reports?filter=mine"}),x.jsx(Qn,{icon:Ma,label:"Drafts",to:"/reports?filter=drafts"})]}),x.jsxs(Qn,{icon:Cg,label:"Arrests",children:[x.jsx(Qn,{icon:gf,label:"All Arrests",to:"/arrests"}),x.jsx(Qn,{icon:gf,label:"My Arrests",to:"/arrests?filter=mine"})]}),x.jsxs(Qn,{icon:Cg,label:"Investigations",children:[x.jsx(Qn,{icon:Ac,label:"Active Cases",to:"/investigations"}),x.jsx(Qn,{icon:Ac,label:"Archived",to:"/investigations?filter=archived"})]}),x.jsx("div",{className:"pt-4 mt-4 border-t",children:x.jsx(Qn,{icon:Kz,label:"Administration",to:"/admin"})})]}),x.jsx("div",{className:"p-4 border-t bg-muted/20",children:x.jsxs(rt,{variant:"outline",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:e,children:[x.jsx(Uz,{className:"mr-2 h-4 w-4"}),"Logout"]})})]})}function at(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function t3(n,e){const t=S.createContext(e),r=o=>{const{children:l,...c}=o,d=S.useMemo(()=>c,Object.values(c));return x.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function i(o){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function yh(n,e=[]){let t=[];function r(o,l){const c=S.createContext(l),d=t.length;t=[...t,l];const f=m=>{const{scope:v,children:b,...w}=m,E=v?.[n]?.[d]||c,C=S.useMemo(()=>w,Object.values(w));return x.jsx(E.Provider,{value:C,children:b})};f.displayName=o+"Provider";function p(m,v){const b=v?.[n]?.[d]||c,w=S.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,p]}const i=()=>{const o=t.map(l=>S.createContext(l));return function(c){const d=c?.[n]||o;return S.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return i.scopeName=n,[r,n3(i,...e)]}function n3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const m=d(o)[`__scope${f}`];return{...c,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var rn=globalThis?.document?S.useLayoutEffect:()=>{},r3=Sv[" useId ".trim().toString()]||(()=>{}),i3=0;function or(n){const[e,t]=S.useState(r3());return rn(()=>{t(r=>r??String(i3++))},[n]),e?`radix-${e}`:""}var s3=Sv[" useInsertionEffect ".trim().toString()]||rn;function Ry({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,o,l]=o3({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:i;{const p=S.useRef(n!==void 0);S.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=S.useCallback(p=>{if(c){const m=a3(p)?p(n):p;m!==n&&l.current?.(m)}else o(p)},[c,n,o,l]);return[d,f]}function o3({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),i=S.useRef(t),o=S.useRef(e);return s3(()=>{o.current=e},[e]),S.useEffect(()=>{i.current!==t&&(o.current?.(t),i.current=t)},[t,i]),[t,r,o]}function a3(n){return typeof n=="function"}function l3(n){const e=c3(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(d3);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function c3(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=h3(i),c=f3(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var u3=Symbol("radix.slottable");function d3(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===u3}function f3(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function h3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var p3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$T=p3.reduce((n,e)=>{const t=l3(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function m3(n,e){n&&Kc.flushSync(()=>n.dispatchEvent(e))}function uo(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>e.current?.(...t),[])}function g3(n,e=globalThis?.document){const t=uo(n);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var y3="DismissableLayer",My="dismissableLayer.update",v3="dismissableLayer.pointerDownOutside",b3="dismissableLayer.focusOutside",nE,UT=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wv=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=n,f=S.useContext(UT),[p,m]=S.useState(null),v=p?.ownerDocument??globalThis?.document,[,b]=S.useState({}),w=wt(e,R=>m(R)),E=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=E.indexOf(C),A=p?E.indexOf(p):-1,O=f.layersWithOutsidePointerEventsDisabled.size>0,M=A>=T,L=S3(R=>{const H=R.target,Z=[...f.branches].some(se=>se.contains(H));!M||Z||(i?.(R),l?.(R),R.defaultPrevented||c?.())},v),P=E3(R=>{const H=R.target;[...f.branches].some(se=>se.contains(H))||(o?.(R),l?.(R),R.defaultPrevented||c?.())},v);return g3(R=>{A===f.layers.size-1&&(r?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(nE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),rE(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=nE)}},[p,v,t,f]),S.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),rE())},[p,f]),S.useEffect(()=>{const R=()=>b({});return document.addEventListener(My,R),()=>document.removeEventListener(My,R)},[]),x.jsx($T.div,{...d,ref:w,style:{pointerEvents:O?M?"auto":"none":void 0,...n.style},onFocusCapture:at(n.onFocusCapture,P.onFocusCapture),onBlurCapture:at(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:at(n.onPointerDownCapture,L.onPointerDownCapture)})});Wv.displayName=y3;var w3="DismissableLayerBranch",x3=S.forwardRef((n,e)=>{const t=S.useContext(UT),r=S.useRef(null),i=wt(e,r);return S.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),x.jsx($T.div,{...n,ref:i})});x3.displayName=w3;function S3(n,e=globalThis?.document){const t=uo(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){HT(v3,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function E3(n,e=globalThis?.document){const t=uo(n),r=S.useRef(!1);return S.useEffect(()=>{const i=o=>{o.target&&!r.current&&HT(b3,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rE(){const n=new CustomEvent(My);document.dispatchEvent(n)}function HT(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?m3(i,o):i.dispatchEvent(o)}function C3(n){const e=k3(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(_3);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function k3(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=O3(i),c=A3(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var T3=Symbol("radix.slottable");function _3(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===T3}function A3(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function O3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var N3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R3=N3.reduce((n,e)=>{const t=C3(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),kg="focusScope.autoFocusOnMount",Tg="focusScope.autoFocusOnUnmount",iE={bubbles:!1,cancelable:!0},M3="FocusScope",Gv=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=n,[c,d]=S.useState(null),f=uo(i),p=uo(o),m=S.useRef(null),v=wt(e,E=>d(E)),b=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let E=function(O){if(b.paused||!c)return;const M=O.target;c.contains(M)?m.current=M:Yi(m.current,{select:!0})},C=function(O){if(b.paused||!c)return;const M=O.relatedTarget;M!==null&&(c.contains(M)||Yi(m.current,{select:!0}))},T=function(O){if(document.activeElement===document.body)for(const L of O)L.removedNodes.length>0&&Yi(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const A=new MutationObserver(T);return c&&A.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),A.disconnect()}}},[r,c,b.paused]),S.useEffect(()=>{if(c){oE.add(b);const E=document.activeElement;if(!c.contains(E)){const T=new CustomEvent(kg,iE);c.addEventListener(kg,f),c.dispatchEvent(T),T.defaultPrevented||(j3(z3(VT(c)),{select:!0}),document.activeElement===E&&Yi(c))}return()=>{c.removeEventListener(kg,f),setTimeout(()=>{const T=new CustomEvent(Tg,iE);c.addEventListener(Tg,p),c.dispatchEvent(T),T.defaultPrevented||Yi(E??document.body,{select:!0}),c.removeEventListener(Tg,p),oE.remove(b)},0)}}},[c,f,p,b]);const w=S.useCallback(E=>{if(!t&&!r||b.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,T=document.activeElement;if(C&&T){const A=E.currentTarget,[O,M]=D3(A);O&&M?!E.shiftKey&&T===M?(E.preventDefault(),t&&Yi(O,{select:!0})):E.shiftKey&&T===O&&(E.preventDefault(),t&&Yi(M,{select:!0})):T===A&&E.preventDefault()}},[t,r,b.paused]);return x.jsx(R3.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});Gv.displayName=M3;function j3(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Yi(r,{select:e}),document.activeElement!==t)return}function D3(n){const e=VT(n),t=sE(e,n),r=sE(e.reverse(),n);return[t,r]}function VT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function sE(n,e){for(const t of n)if(!L3(t,{upTo:e}))return t}function L3(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function I3(n){return n instanceof HTMLInputElement&&"select"in n}function Yi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&I3(n)&&e&&n.select()}}var oE=P3();function P3(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=aE(n,e),n.unshift(e)},remove(e){n=aE(n,e),n[0]?.resume()}}}function aE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function z3(n){return n.filter(e=>e.tagName!=="A")}function B3(n){const e=$3(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(H3);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function $3(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=q3(i),c=V3(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var U3=Symbol("radix.slottable");function H3(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===U3}function V3(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function q3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var F3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K3=F3.reduce((n,e)=>{const t=B3(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),W3="Portal",Jv=S.forwardRef((n,e)=>{const{container:t,...r}=n,[i,o]=S.useState(!1);rn(()=>o(!0),[]);const l=t||i&&globalThis?.document?.body;return l?Tk.createPortal(x.jsx(K3.div,{...r,ref:e}),l):null});Jv.displayName=W3;function G3(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var vh=n=>{const{present:e,children:t}=n,r=J3(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),o=wt(r.ref,Y3(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:o}):null};vh.displayName="Presence";function J3(n){const[e,t]=S.useState(),r=S.useRef(null),i=S.useRef(n),o=S.useRef("none"),l=n?"mounted":"unmounted",[c,d]=G3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Ld(r.current);o.current=c==="mounted"?f:"none"},[c]),rn(()=>{const f=r.current,p=i.current;if(p!==n){const v=o.current,b=Ld(f);n?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),rn(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,m=b=>{const E=Ld(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&E&&(d("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=b=>{b.target===e&&(o.current=Ld(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,t(f)},[])}}function Ld(n){return n?.animationName||"none"}function Y3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function qT(n){const e=X3(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(Z3);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function X3(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=tB(i),c=eB(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Q3=Symbol("radix.slottable");function Z3(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Q3}function eB(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function tB(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var nB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jc=nB.reduce((n,e)=>{const t=qT(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),_g=0;function FT(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??lE()),document.body.insertAdjacentElement("beforeend",n[1]??lE()),_g++,()=>{_g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_g--}},[])}function lE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ef="right-scroll-bar-position",tf="width-before-scroll-bar",rB="with-scroll-bars-hidden",iB="--removed-body-scroll-bar-size";function Ag(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function sB(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var oB=typeof window<"u"?S.useLayoutEffect:S.useEffect,cE=new WeakMap;function aB(n,e){var t=sB(null,function(r){return n.forEach(function(i){return Ag(i,r)})});return oB(function(){var r=cE.get(t);if(r){var i=new Set(r),o=new Set(n),l=t.current;i.forEach(function(c){o.has(c)||Ag(c,null)}),o.forEach(function(c){i.has(c)||Ag(c,l)})}cE.set(t,n)},[n]),t}function lB(n){return n}function cB(n,e){e===void 0&&(e=lB);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var d=function(){var p=l;l=[],p.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),t}}}};return i}function uB(n){n===void 0&&(n={});var e=cB(null);return e.options=nr({async:!0,ssr:!1},n),e}var KT=function(n){var e=n.sideCar,t=bs(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,nr({},t))};KT.isSideCarExport=!0;function dB(n,e){return n.useMedium(e),KT}var WT=uB(),Og=function(){},bh=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:Og,onWheelCapture:Og,onTouchMoveCapture:Og}),i=r[0],o=r[1],l=n.forwardProps,c=n.children,d=n.className,f=n.removeScrollBar,p=n.enabled,m=n.shards,v=n.sideCar,b=n.noRelative,w=n.noIsolation,E=n.inert,C=n.allowPinchZoom,T=n.as,A=T===void 0?"div":T,O=n.gapMode,M=bs(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,P=aB([t,e]),R=nr(nr({},M),i);return S.createElement(S.Fragment,null,p&&S.createElement(L,{sideCar:WT,removeScrollBar:f,shards:m,noRelative:b,noIsolation:w,inert:E,setCallbacks:o,allowPinchZoom:!!C,lockRef:t,gapMode:O}),l?S.cloneElement(S.Children.only(c),nr(nr({},R),{ref:P})):S.createElement(A,nr({},R,{className:d,ref:P}),c))});bh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bh.classNames={fullWidth:tf,zeroRight:ef};var fB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hB(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=fB();return e&&n.setAttribute("nonce",e),n}function pB(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function mB(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var gB=function(){var n=0,e=null;return{add:function(t){n==0&&(e=hB())&&(pB(e,t),mB(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yB=function(){var n=gB();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},GT=function(){var n=yB(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},vB={left:0,top:0,right:0,gap:0},Ng=function(n){return parseInt(n||"",10)||0},bB=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Ng(t),Ng(r),Ng(i)]},wB=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return vB;var e=bB(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},xB=GT(),ja="data-scroll-locked",SB=function(n,e,t,r){var i=n.left,o=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ef,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(tf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ef," .").concat(ef,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ja,`] {
    `).concat(iB,": ").concat(c,`px;
  }
`)},uE=function(){var n=parseInt(document.body.getAttribute(ja)||"0",10);return isFinite(n)?n:0},EB=function(){S.useEffect(function(){return document.body.setAttribute(ja,(uE()+1).toString()),function(){var n=uE()-1;n<=0?document.body.removeAttribute(ja):document.body.setAttribute(ja,n.toString())}},[])},CB=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;EB();var o=S.useMemo(function(){return wB(i)},[i]);return S.createElement(xB,{styles:SB(o,!e,i,t?"":"!important")})},jy=!1;if(typeof window<"u")try{var Id=Object.defineProperty({},"passive",{get:function(){return jy=!0,!0}});window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{jy=!1}var ya=jy?{passive:!1}:!1,kB=function(n){return n.tagName==="TEXTAREA"},JT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!kB(n)&&t[e]==="visible")},TB=function(n){return JT(n,"overflowY")},_B=function(n){return JT(n,"overflowX")},dE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=YT(n,r);if(i){var o=XT(n,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},AB=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},OB=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},YT=function(n,e){return n==="v"?TB(e):_B(e)},XT=function(n,e){return n==="v"?AB(e):OB(e)},NB=function(n,e){return n==="h"&&e==="rtl"?-1:1},RB=function(n,e,t,r,i){var o=NB(n,window.getComputedStyle(e).direction),l=o*r,c=t.target,d=e.contains(c),f=!1,p=l>0,m=0,v=0;do{if(!c)break;var b=XT(n,c),w=b[0],E=b[1],C=b[2],T=E-C-o*w;(w||T)&&YT(n,c)&&(m+=T,v+=w);var A=c.parentNode;c=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(v)<1)&&(f=!0),f},Pd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},fE=function(n){return[n.deltaX,n.deltaY]},hE=function(n){return n&&"current"in n?n.current:n},MB=function(n,e){return n[0]===e[0]&&n[1]===e[1]},jB=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},DB=0,va=[];function LB(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),i=S.useState(DB++)[0],o=S.useState(GT)[0],l=S.useRef(n);S.useEffect(function(){l.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var E=Mv([n.lockRef.current],(n.shards||[]).map(hE),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=S.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var T=Pd(E),A=t.current,O="deltaX"in E?E.deltaX:A[0]-T[0],M="deltaY"in E?E.deltaY:A[1]-T[1],L,P=E.target,R=Math.abs(O)>Math.abs(M)?"h":"v";if("touches"in E&&R==="h"&&P.type==="range")return!1;var H=window.getSelection(),Z=H&&H.anchorNode,se=Z?Z===P||Z.contains(P):!1;if(se)return!1;var me=dE(R,P);if(!me)return!0;if(me?L=R:(L=R==="v"?"h":"v",me=dE(R,P)),!me)return!1;if(!r.current&&"changedTouches"in E&&(O||M)&&(r.current=L),!L)return!0;var fe=r.current||L;return RB(fe,C,E,fe==="h"?O:M)},[]),d=S.useCallback(function(E){var C=E;if(!(!va.length||va[va.length-1]!==o)){var T="deltaY"in C?fE(C):Pd(C),A=e.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&MB(L.delta,T)})[0];if(A&&A.should){C.cancelable&&C.preventDefault();return}if(!A){var O=(l.current.shards||[]).map(hE).filter(Boolean).filter(function(L){return L.contains(C.target)}),M=O.length>0?c(C,O[0]):!l.current.noIsolation;M&&C.cancelable&&C.preventDefault()}}},[]),f=S.useCallback(function(E,C,T,A){var O={name:E,delta:C,target:T,should:A,shadowParent:IB(T)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(M){return M!==O})},1)},[]),p=S.useCallback(function(E){t.current=Pd(E),r.current=void 0},[]),m=S.useCallback(function(E){f(E.type,fE(E),E.target,c(E,n.lockRef.current))},[]),v=S.useCallback(function(E){f(E.type,Pd(E),E.target,c(E,n.lockRef.current))},[]);S.useEffect(function(){return va.push(o),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,ya),document.addEventListener("touchmove",d,ya),document.addEventListener("touchstart",p,ya),function(){va=va.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,ya),document.removeEventListener("touchmove",d,ya),document.removeEventListener("touchstart",p,ya)}},[]);var b=n.removeScrollBar,w=n.inert;return S.createElement(S.Fragment,null,w?S.createElement(o,{styles:jB(i)}):null,b?S.createElement(CB,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function IB(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const PB=dB(WT,LB);var Yv=S.forwardRef(function(n,e){return S.createElement(bh,nr({},n,{ref:e,sideCar:PB}))});Yv.classNames=bh.classNames;var zB=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ba=new WeakMap,zd=new WeakMap,Bd={},Rg=0,QT=function(n){return n&&(n.host||QT(n.parentNode))},BB=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=QT(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},$B=function(n,e,t,r){var i=BB(e,Array.isArray(n)?n:[n]);Bd[t]||(Bd[t]=new WeakMap);var o=Bd[t],l=[],c=new Set,d=new Set(i),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(c.has(v))p(v);else try{var b=v.getAttribute(r),w=b!==null&&b!=="false",E=(ba.get(v)||0)+1,C=(o.get(v)||0)+1;ba.set(v,E),o.set(v,C),l.push(v),E===1&&w&&zd.set(v,!0),C===1&&v.setAttribute(t,"true"),w||v.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return p(e),c.clear(),Rg++,function(){l.forEach(function(m){var v=ba.get(m)-1,b=o.get(m)-1;ba.set(m,v),o.set(m,b),v||(zd.has(m)||m.removeAttribute(r),zd.delete(m)),b||m.removeAttribute(t)}),Rg--,Rg||(ba=new WeakMap,ba=new WeakMap,zd=new WeakMap,Bd={})}},ZT=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=zB(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),$B(r,i,t,"aria-hidden")):function(){return null}},wh="Dialog",[e_]=yh(wh),[UB,kr]=e_(wh),t_=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=n,c=S.useRef(null),d=S.useRef(null),[f,p]=Ry({prop:r,defaultProp:i??!1,onChange:o,caller:wh});return x.jsx(UB,{scope:e,triggerRef:c,contentRef:d,contentId:or(),titleId:or(),descriptionId:or(),open:f,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(m=>!m),[p]),modal:l,children:t})};t_.displayName=wh;var n_="DialogTrigger",HB=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=kr(n_,t),o=wt(e,i.triggerRef);return x.jsx(Jc.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Zv(i.open),...r,ref:o,onClick:at(n.onClick,i.onOpenToggle)})});HB.displayName=n_;var Xv="DialogPortal",[VB,r_]=e_(Xv,{forceMount:void 0}),i_=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=kr(Xv,e);return x.jsx(VB,{scope:e,forceMount:t,children:S.Children.map(r,l=>x.jsx(vh,{present:t||o.open,children:x.jsx(Jv,{asChild:!0,container:i,children:l})}))})};i_.displayName=Xv;var yf="DialogOverlay",s_=S.forwardRef((n,e)=>{const t=r_(yf,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=kr(yf,n.__scopeDialog);return o.modal?x.jsx(vh,{present:r||o.open,children:x.jsx(FB,{...i,ref:e})}):null});s_.displayName=yf;var qB=qT("DialogOverlay.RemoveScroll"),FB=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=kr(yf,t);return x.jsx(Yv,{as:qB,allowPinchZoom:!0,shards:[i.contentRef],children:x.jsx(Jc.div,{"data-state":Zv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fo="DialogContent",o_=S.forwardRef((n,e)=>{const t=r_(fo,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=kr(fo,n.__scopeDialog);return x.jsx(vh,{present:r||o.open,children:o.modal?x.jsx(KB,{...i,ref:e}):x.jsx(WB,{...i,ref:e})})});o_.displayName=fo;var KB=S.forwardRef((n,e)=>{const t=kr(fo,n.__scopeDialog),r=S.useRef(null),i=wt(e,t.contentRef,r);return S.useEffect(()=>{const o=r.current;if(o)return ZT(o)},[]),x.jsx(a_,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(n.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:at(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:at(n.onFocusOutside,o=>o.preventDefault())})}),WB=S.forwardRef((n,e)=>{const t=kr(fo,n.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return x.jsx(a_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||t.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;t.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),a_=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=n,c=kr(fo,t),d=S.useRef(null),f=wt(e,d);return FT(),x.jsxs(x.Fragment,{children:[x.jsx(Gv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:x.jsx(Wv,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Zv(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(GB,{titleId:c.titleId}),x.jsx(YB,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Qv="DialogTitle",l_=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=kr(Qv,t);return x.jsx(Jc.h2,{id:i.titleId,...r,ref:e})});l_.displayName=Qv;var c_="DialogDescription",u_=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=kr(c_,t);return x.jsx(Jc.p,{id:i.descriptionId,...r,ref:e})});u_.displayName=c_;var d_="DialogClose",f_=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=kr(d_,t);return x.jsx(Jc.button,{type:"button",...r,ref:e,onClick:at(n.onClick,()=>i.onOpenChange(!1))})});f_.displayName=d_;function Zv(n){return n?"open":"closed"}var h_="DialogTitleWarning",[U9,p_]=t3(h_,{contentName:fo,titleName:Qv,docsSlug:"dialog"}),GB=({titleId:n})=>{const e=p_(h_),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},JB="DialogDescriptionWarning",YB=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p_(JB).contentName}}.`;return S.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},m_=t_,g_=i_,e0=s_,t0=o_,y_=l_,v_=u_,XB=f_,pE=1,QB=.9,ZB=.8,e4=.17,Mg=.1,jg=.999,t4=.9999,n4=.99,r4=/[\\\/_+.#"@\[\(\{&]/,i4=/[\\\/_+.#"@\[\(\{&]/g,s4=/[\s-]/,b_=/[\s-]/g;function Dy(n,e,t,r,i,o,l){if(o===e.length)return i===n.length?pE:n4;var c=`${i},${o}`;if(l[c]!==void 0)return l[c];for(var d=r.charAt(o),f=t.indexOf(d,i),p=0,m,v,b,w;f>=0;)m=Dy(n,e,t,r,f+1,o+1,l),m>p&&(f===i?m*=pE:r4.test(n.charAt(f-1))?(m*=ZB,b=n.slice(i,f-1).match(i4),b&&i>0&&(m*=Math.pow(jg,b.length))):s4.test(n.charAt(f-1))?(m*=QB,w=n.slice(i,f-1).match(b_),w&&i>0&&(m*=Math.pow(jg,w.length))):(m*=e4,i>0&&(m*=Math.pow(jg,f-i))),n.charAt(f)!==e.charAt(o)&&(m*=t4)),(m<Mg&&t.charAt(f-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&t.charAt(f-1)!==r.charAt(o))&&(v=Dy(n,e,t,r,f+1,o+2,l),v*Mg>m&&(m=v*Mg)),m>p&&(p=m),f=t.indexOf(d,f+1);return l[c]=p,p}function mE(n){return n.toLowerCase().replace(b_," ")}function o4(n,e,t){return n=t&&t.length>0?`${n+" "+t.join(" ")}`:n,Dy(n,e,mE(n),mE(e),0,0,{})}var tc='[cmdk-group=""]',Dg='[cmdk-group-items=""]',a4='[cmdk-group-heading=""]',w_='[cmdk-item=""]',gE=`${w_}:not([aria-disabled="true"])`,Ly="cmdk-item-select",Ca="data-value",l4=(n,e,t)=>o4(n,e,t),x_=S.createContext(void 0),Yc=()=>S.useContext(x_),S_=S.createContext(void 0),n0=()=>S.useContext(S_),E_=S.createContext(void 0),C_=S.forwardRef((n,e)=>{let t=ka(()=>{var j,K;return{search:"",value:(K=(j=n.value)!=null?j:n.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=ka(()=>new Set),i=ka(()=>new Map),o=ka(()=>new Map),l=ka(()=>new Set),c=k_(n),{label:d,children:f,value:p,onValueChange:m,filter:v,shouldFilter:b,loop:w,disablePointerSelection:E=!1,vimBindings:C=!0,...T}=n,A=or(),O=or(),M=or(),L=S.useRef(null),P=b4();ho(()=>{if(p!==void 0){let j=p.trim();t.current.value=j,R.emit()}},[p]),ho(()=>{P(6,Ce)},[]);let R=S.useMemo(()=>({subscribe:j=>(l.current.add(j),()=>l.current.delete(j)),snapshot:()=>t.current,setState:(j,K,X)=>{var ee,re,J,ve;if(!Object.is(t.current[j],K)){if(t.current[j]=K,j==="search")fe(),se(),P(1,me);else if(j==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ge=document.getElementById(M);ge?ge.focus():(ee=document.getElementById(A))==null||ee.focus()}if(P(7,()=>{var ge;t.current.selectedItemId=(ge=oe())==null?void 0:ge.id,R.emit()}),X||P(5,Ce),((re=c.current)==null?void 0:re.value)!==void 0){let ge=K??"";(ve=(J=c.current).onValueChange)==null||ve.call(J,ge);return}}R.emit()}},emit:()=>{l.current.forEach(j=>j())}}),[]),H=S.useMemo(()=>({value:(j,K,X)=>{var ee;K!==((ee=o.current.get(j))==null?void 0:ee.value)&&(o.current.set(j,{value:K,keywords:X}),t.current.filtered.items.set(j,Z(K,X)),P(2,()=>{se(),R.emit()}))},item:(j,K)=>(r.current.add(j),K&&(i.current.has(K)?i.current.get(K).add(j):i.current.set(K,new Set([j]))),P(3,()=>{fe(),se(),t.current.value||me(),R.emit()}),()=>{o.current.delete(j),r.current.delete(j),t.current.filtered.items.delete(j);let X=oe();P(4,()=>{fe(),X?.getAttribute("id")===j&&me(),R.emit()})}),group:j=>(i.current.has(j)||i.current.set(j,new Set),()=>{o.current.delete(j),i.current.delete(j)}),filter:()=>c.current.shouldFilter,label:d||n["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:A,inputId:M,labelId:O,listInnerRef:L}),[]);function Z(j,K){var X,ee;let re=(ee=(X=c.current)==null?void 0:X.filter)!=null?ee:l4;return j?re(j,t.current.search,K):0}function se(){if(!t.current.search||c.current.shouldFilter===!1)return;let j=t.current.filtered.items,K=[];t.current.filtered.groups.forEach(ee=>{let re=i.current.get(ee),J=0;re.forEach(ve=>{let ge=j.get(ve);J=Math.max(ge,J)}),K.push([ee,J])});let X=L.current;de().sort((ee,re)=>{var J,ve;let ge=ee.getAttribute("id"),Oe=re.getAttribute("id");return((J=j.get(Oe))!=null?J:0)-((ve=j.get(ge))!=null?ve:0)}).forEach(ee=>{let re=ee.closest(Dg);re?re.appendChild(ee.parentElement===re?ee:ee.closest(`${Dg} > *`)):X.appendChild(ee.parentElement===X?ee:ee.closest(`${Dg} > *`))}),K.sort((ee,re)=>re[1]-ee[1]).forEach(ee=>{var re;let J=(re=L.current)==null?void 0:re.querySelector(`${tc}[${Ca}="${encodeURIComponent(ee[0])}"]`);J?.parentElement.appendChild(J)})}function me(){let j=de().find(X=>X.getAttribute("aria-disabled")!=="true"),K=j?.getAttribute(Ca);R.setState("value",K||void 0)}function fe(){var j,K,X,ee;if(!t.current.search||c.current.shouldFilter===!1){t.current.filtered.count=r.current.size;return}t.current.filtered.groups=new Set;let re=0;for(let J of r.current){let ve=(K=(j=o.current.get(J))==null?void 0:j.value)!=null?K:"",ge=(ee=(X=o.current.get(J))==null?void 0:X.keywords)!=null?ee:[],Oe=Z(ve,ge);t.current.filtered.items.set(J,Oe),Oe>0&&re++}for(let[J,ve]of i.current)for(let ge of ve)if(t.current.filtered.items.get(ge)>0){t.current.filtered.groups.add(J);break}t.current.filtered.count=re}function Ce(){var j,K,X;let ee=oe();ee&&(((j=ee.parentElement)==null?void 0:j.firstChild)===ee&&((X=(K=ee.closest(tc))==null?void 0:K.querySelector(a4))==null||X.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function oe(){var j;return(j=L.current)==null?void 0:j.querySelector(`${w_}[aria-selected="true"]`)}function de(){var j;return Array.from(((j=L.current)==null?void 0:j.querySelectorAll(gE))||[])}function z(j){let K=de()[j];K&&R.setState("value",K.getAttribute(Ca))}function G(j){var K;let X=oe(),ee=de(),re=ee.findIndex(ve=>ve===X),J=ee[re+j];(K=c.current)!=null&&K.loop&&(J=re+j<0?ee[ee.length-1]:re+j===ee.length?ee[0]:ee[re+j]),J&&R.setState("value",J.getAttribute(Ca))}function q(j){let K=oe(),X=K?.closest(tc),ee;for(;X&&!ee;)X=j>0?y4(X,tc):v4(X,tc),ee=X?.querySelector(gE);ee?R.setState("value",ee.getAttribute(Ca)):G(j)}let pe=()=>z(de().length-1),ke=j=>{j.preventDefault(),j.metaKey?pe():j.altKey?q(1):G(1)},D=j=>{j.preventDefault(),j.metaKey?z(0):j.altKey?q(-1):G(-1)};return S.createElement(wi.div,{ref:e,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:j=>{var K;(K=T.onKeyDown)==null||K.call(T,j);let X=j.nativeEvent.isComposing||j.keyCode===229;if(!(j.defaultPrevented||X))switch(j.key){case"n":case"j":{C&&j.ctrlKey&&ke(j);break}case"ArrowDown":{ke(j);break}case"p":case"k":{C&&j.ctrlKey&&D(j);break}case"ArrowUp":{D(j);break}case"Home":{j.preventDefault(),z(0);break}case"End":{j.preventDefault(),pe();break}case"Enter":{j.preventDefault();let ee=oe();if(ee){let re=new Event(Ly);ee.dispatchEvent(re)}}}}},S.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:x4},d),xh(n,j=>S.createElement(S_.Provider,{value:R},S.createElement(x_.Provider,{value:H},j))))}),c4=S.forwardRef((n,e)=>{var t,r;let i=or(),o=S.useRef(null),l=S.useContext(E_),c=Yc(),d=k_(n),f=(r=(t=d.current)==null?void 0:t.forceMount)!=null?r:l?.forceMount;ho(()=>{if(!f)return c.item(i,l?.id)},[f]);let p=T_(i,o,[n.value,n.children,o],n.keywords),m=n0(),v=hs(P=>P.value&&P.value===p.current),b=hs(P=>f||c.filter()===!1?!0:P.search?P.filtered.items.get(i)>0:!0);S.useEffect(()=>{let P=o.current;if(!(!P||n.disabled))return P.addEventListener(Ly,w),()=>P.removeEventListener(Ly,w)},[b,n.onSelect,n.disabled]);function w(){var P,R;E(),(R=(P=d.current).onSelect)==null||R.call(P,p.current)}function E(){m.setState("value",p.current,!0)}if(!b)return null;let{disabled:C,value:T,onSelect:A,forceMount:O,keywords:M,...L}=n;return S.createElement(wi.div,{ref:nn(o,e),...L,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!v,"data-disabled":!!C,"data-selected":!!v,onPointerMove:C||c.getDisablePointerSelection()?void 0:E,onClick:C?void 0:w},n.children)}),u4=S.forwardRef((n,e)=>{let{heading:t,children:r,forceMount:i,...o}=n,l=or(),c=S.useRef(null),d=S.useRef(null),f=or(),p=Yc(),m=hs(b=>i||p.filter()===!1?!0:b.search?b.filtered.groups.has(l):!0);ho(()=>p.group(l),[]),T_(l,c,[n.value,n.heading,d]);let v=S.useMemo(()=>({id:l,forceMount:i}),[i]);return S.createElement(wi.div,{ref:nn(c,e),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},t&&S.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:f},t),xh(n,b=>S.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?f:void 0},S.createElement(E_.Provider,{value:v},b))))}),d4=S.forwardRef((n,e)=>{let{alwaysRender:t,...r}=n,i=S.useRef(null),o=hs(l=>!l.search);return!t&&!o?null:S.createElement(wi.div,{ref:nn(i,e),...r,"cmdk-separator":"",role:"separator"})}),f4=S.forwardRef((n,e)=>{let{onValueChange:t,...r}=n,i=n.value!=null,o=n0(),l=hs(f=>f.search),c=hs(f=>f.selectedItemId),d=Yc();return S.useEffect(()=>{n.value!=null&&o.setState("search",n.value)},[n.value]),S.createElement(wi.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:i?n.value:l,onChange:f=>{i||o.setState("search",f.target.value),t?.(f.target.value)}})}),h4=S.forwardRef((n,e)=>{let{children:t,label:r="Suggestions",...i}=n,o=S.useRef(null),l=S.useRef(null),c=hs(f=>f.selectedItemId),d=Yc();return S.useEffect(()=>{if(l.current&&o.current){let f=l.current,p=o.current,m,v=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let b=f.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return v.observe(f),()=>{cancelAnimationFrame(m),v.unobserve(f)}}},[]),S.createElement(wi.div,{ref:nn(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:d.listId},xh(n,f=>S.createElement("div",{ref:nn(l,d.listInnerRef),"cmdk-list-sizer":""},f)))}),p4=S.forwardRef((n,e)=>{let{open:t,onOpenChange:r,overlayClassName:i,contentClassName:o,container:l,...c}=n;return S.createElement(m_,{open:t,onOpenChange:r},S.createElement(g_,{container:l},S.createElement(e0,{"cmdk-overlay":"",className:i}),S.createElement(t0,{"aria-label":n.label,"cmdk-dialog":"",className:o},S.createElement(C_,{ref:e,...c}))))}),m4=S.forwardRef((n,e)=>hs(t=>t.filtered.count===0)?S.createElement(wi.div,{ref:e,...n,"cmdk-empty":"",role:"presentation"}):null),g4=S.forwardRef((n,e)=>{let{progress:t,children:r,label:i="Loading...",...o}=n;return S.createElement(wi.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},xh(n,l=>S.createElement("div",{"aria-hidden":!0},l)))}),Sn=Object.assign(C_,{List:h4,Item:c4,Input:f4,Group:u4,Separator:d4,Dialog:p4,Empty:m4,Loading:g4});function y4(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function v4(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function k_(n){let e=S.useRef(n);return ho(()=>{e.current=n}),e}var ho=typeof window>"u"?S.useEffect:S.useLayoutEffect;function ka(n){let e=S.useRef();return e.current===void 0&&(e.current=n()),e}function hs(n){let e=n0(),t=()=>n(e.snapshot());return S.useSyncExternalStore(e.subscribe,t,t)}function T_(n,e,t,r=[]){let i=S.useRef(),o=Yc();return ho(()=>{var l;let c=(()=>{var f;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(f=p.current.textContent)==null?void 0:f.trim():i.current}})(),d=r.map(f=>f.trim());o.value(n,c,d),(l=e.current)==null||l.setAttribute(Ca,c),i.current=c}),i}var b4=()=>{let[n,e]=S.useState(),t=ka(()=>new Map);return ho(()=>{t.current.forEach(r=>r()),t.current=new Map},[n]),(r,i)=>{t.current.set(r,i),e({})}};function w4(n){let e=n.type;return typeof e=="function"?e(n.props):"render"in e?e.render(n.props):n}function xh({asChild:n,children:e},t){return n&&S.isValidElement(e)?S.cloneElement(w4(e),{ref:e.ref},t(e.props.children)):t(e)}var x4={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const S4=m_,E4=g_,__=S.forwardRef(({className:n,...e},t)=>x.jsx(e0,{ref:t,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));__.displayName=e0.displayName;const A_=S.forwardRef(({className:n,children:e,...t},r)=>x.jsxs(E4,{children:[x.jsx(__,{}),x.jsxs(t0,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,x.jsxs(XB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[x.jsx(Zz,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));A_.displayName=t0.displayName;const O_=S.forwardRef(({className:n,...e},t)=>x.jsx(y_,{ref:t,className:De("text-lg font-semibold leading-none tracking-tight",n),...e}));O_.displayName=y_.displayName;const C4=S.forwardRef(({className:n,...e},t)=>x.jsx(v_,{ref:t,className:De("text-sm text-muted-foreground",n),...e}));C4.displayName=v_.displayName;const N_=S.forwardRef(({className:n,...e},t)=>x.jsx(Sn,{ref:t,className:De("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...e}));N_.displayName=Sn.displayName;const k4=({children:n,...e})=>x.jsx(S4,{...e,children:x.jsxs(A_,{className:"overflow-hidden p-0 shadow-lg",children:[x.jsx(O_,{className:"sr-only",children:"Command Menu"}),x.jsx(N_,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})]})}),R_=S.forwardRef(({className:n,...e},t)=>x.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[x.jsx(Gc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),x.jsx(Sn.Input,{ref:t,className:De("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...e})]}));R_.displayName=Sn.Input.displayName;const M_=S.forwardRef(({className:n,...e},t)=>x.jsx(Sn.List,{ref:t,className:De("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...e}));M_.displayName=Sn.List.displayName;const j_=S.forwardRef((n,e)=>x.jsx(Sn.Empty,{ref:e,className:"py-6 text-center text-sm",...n}));j_.displayName=Sn.Empty.displayName;const D_=S.forwardRef(({className:n,...e},t)=>x.jsx(Sn.Group,{ref:t,className:De("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...e}));D_.displayName=Sn.Group.displayName;const T4=S.forwardRef(({className:n,...e},t)=>x.jsx(Sn.Separator,{ref:t,className:De("-mx-1 h-px bg-border",n),...e}));T4.displayName=Sn.Separator.displayName;const L_=S.forwardRef(({className:n,...e},t)=>x.jsx(Sn.Item,{ref:t,className:De("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e}));L_.displayName=Sn.Item.displayName;const _4={async search(n){if(!n||n.length<2)return[];const{data:e,error:t}=await ir.from("global_search_index").select("*").or(`title.ilike.%${n}%,summary.ilike.%${n}%`).limit(10);return t?(console.error("Search failed:",t),[]):e}};function A4(){const[n,e]=S.useState(!1),[t,r]=S.useState(""),[i,o]=S.useState([]),[l,c]=S.useState(!1),d=zr();S.useEffect(()=>{const p=m=>{m.key==="k"&&(m.metaKey||m.ctrlKey)&&(m.preventDefault(),e(v=>!v))};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[]),S.useEffect(()=>{const m=setTimeout(async()=>{if(t.length<2){o([]);return}c(!0);try{const v=await _4.search(t);o(v)}catch(v){console.error(v)}finally{c(!1)}},300);return()=>clearTimeout(m)},[t]);const f=p=>{e(!1),p.type==="report"&&d(`/reports/${p.id}`),p.type==="arrest"&&d(`/arrests/${p.id}`),p.type==="investigation"&&d(`/investigations/${p.id}`)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative w-full max-w-sm cursor-pointer",onClick:()=>e(!0),children:[x.jsx(Gc,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx("div",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 pl-9 text-sm text-muted-foreground shadow-sm ring-offset-background",children:"Search... (Cmd+K)"})]}),x.jsxs(k4,{open:n,onOpenChange:e,children:[x.jsx(R_,{placeholder:"Search reports, arrests, cases...",value:t,onValueChange:r}),x.jsxs(M_,{children:[x.jsx(j_,{children:l?"Searching...":"No results found."}),i.length>0&&x.jsx(D_,{heading:"Results",children:i.map(p=>x.jsxs(L_,{onSelect:()=>f(p),children:[p.type==="report"&&x.jsx(Ma,{className:"mr-2 h-4 w-4"}),p.type==="arrest"&&x.jsx(gf,{className:"mr-2 h-4 w-4"}),p.type==="investigation"&&x.jsx(Ac,{className:"mr-2 h-4 w-4"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{children:p.title}),x.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[300px]",children:p.summary})]}),p.classification!=="Unclassified"&&x.jsx("span",{className:"ml-auto text-xs font-bold text-red-500",children:p.classification.toUpperCase()})]},`${p.type}-${p.id}`))})]})]})]})}function O4(){return x.jsxs("header",{className:"h-16 border-b bg-primary text-primary-foreground flex items-center px-6 justify-between shadow-md",children:[x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("h1",{className:"text-lg font-bold tracking-wide uppercase",children:["NOOSE ",x.jsx("span",{className:"text-xs font-normal opacity-80 normal-case ml-2",children:"National Office of Security Enforcement"})]})}),x.jsx("div",{className:"flex-1 max-w-xl mx-8",children:x.jsx(A4,{})}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsx(rt,{variant:"ghost",size:"sm",className:"text-primary-foreground hover:bg-primary/80 hover:text-white",children:x.jsx(fz,{className:"h-5 w-5"})})})]})}function N4(){return x.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[x.jsx(e3,{}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx(O4,{}),x.jsx("main",{className:"flex-1 overflow-y-auto bg-muted/10 p-6",children:x.jsx(vk,{})})]})]})}function R4(){return x.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 col-span-2",children:[x.jsxs(br,{children:[x.jsxs(di,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(fi,{className:"text-sm font-medium",children:"Total Reports"}),x.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(wr,{children:[x.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"+20.1% from last month"})]})]}),x.jsxs(br,{children:[x.jsxs(di,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(fi,{className:"text-sm font-medium",children:"Active Arrests"}),x.jsx(gf,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(wr,{children:[x.jsx("div",{className:"text-2xl font-bold",children:"45"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 since yesterday"})]})]}),x.jsxs(br,{children:[x.jsxs(di,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(fi,{className:"text-sm font-medium",children:"Open Cases"}),x.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(wr,{children:[x.jsx("div",{className:"text-2xl font-bold",children:"12"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"-1 closed this week"})]})]}),x.jsxs(br,{children:[x.jsxs(di,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(fi,{className:"text-sm font-medium",children:"Alert Level"}),x.jsx(Gz,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(wr,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-500",children:"ELEVATED"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Threat assessment active"})]})]})]})}const fc={async getAll(){const{data:n,error:e}=await ir.from("reports").select("*").order("created_at",{ascending:!1});if(e)throw e;return n},async getById(n){const{data:e,error:t}=await ir.from("reports").select("*").eq("id",n).single();if(t)throw t;return e},async create(n){const{data:e,error:t}=await ir.from("reports").insert(n).select().single();if(t)throw t;return e},async update(n,e){const{data:t,error:r}=await ir.from("reports").update(e).eq("id",n).select().single();if(r)throw r;return t}};function M4(){const[n,e]=S.useState([]),[t,r]=S.useState(!0);return S.useEffect(()=>{async function i(){try{const o=await fc.getAll();e(o.slice(0,5))}catch(o){console.error("Failed to fetch reports:",o)}finally{r(!1)}}i()},[]),t?x.jsx(br,{className:"col-span-1",children:x.jsx(wr,{className:"p-6",children:"Loading reports..."})}):x.jsxs(br,{className:"col-span-1",children:[x.jsxs(di,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(fi,{className:"text-sm font-medium",children:"Recent Reports"}),x.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsx(wr,{children:x.jsx("div",{className:"space-y-4",children:n.length===0?x.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent reports."}):n.map(i=>x.jsxs("div",{className:"flex items-center justify-between border-b pb-2 last:border-0 last:pb-0",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-sm font-medium leading-none",children:i.title}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.id,"  ",new Date(i.created_at).toLocaleDateString()]})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i.status==="Validated"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"}`,children:i.status})})]},i.id))})})]})}const r0={async getAll(){const{data:n,error:e}=await ir.from("investigations").select("*").order("created_at",{ascending:!1});if(e)throw e;return n},async getById(n){const{data:e,error:t}=await ir.from("investigations").select("*").eq("id",n).single();if(t)throw t;return e}};function j4(){const[n,e]=S.useState([]),[t,r]=S.useState(!0);return S.useEffect(()=>{async function i(){try{const o=await r0.getAll();e(o.slice(0,5))}catch(o){console.error("Failed to fetch investigations:",o)}finally{r(!1)}}i()},[]),t?x.jsx(br,{className:"col-span-1",children:x.jsx(wr,{className:"p-6",children:"Loading cases..."})}):x.jsxs(br,{className:"col-span-1",children:[x.jsxs(di,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(fi,{className:"text-sm font-medium",children:"Active Investigations"}),x.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsx(wr,{children:x.jsx("div",{className:"space-y-4",children:n.length===0?x.jsx("p",{className:"text-sm text-muted-foreground",children:"No active investigations."}):n.map(i=>x.jsxs("div",{className:"flex items-center justify-between border-b pb-2 last:border-0 last:pb-0",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-sm font-medium leading-none",children:i.title}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.case_number,"  Lead: ",i.lead_agent_id]})]}),x.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100 px-2 py-0.5 rounded-full",children:i.status})]},i.id))})})]})}function D4(){return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"})}),x.jsx(R4,{}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2",children:[x.jsx(M4,{}),x.jsx(j4,{})]})]})}const Xc=S.forwardRef(({className:n,...e},t)=>x.jsx("div",{className:"relative w-full overflow-auto",children:x.jsx("table",{ref:t,className:De("w-full caption-bottom text-sm",n),...e})}));Xc.displayName="Table";const Qc=S.forwardRef(({className:n,...e},t)=>x.jsx("thead",{ref:t,className:De("[&_tr]:border-b",n),...e}));Qc.displayName="TableHeader";const Zc=S.forwardRef(({className:n,...e},t)=>x.jsx("tbody",{ref:t,className:De("[&_tr:last-child]:border-0",n),...e}));Zc.displayName="TableBody";const L4=S.forwardRef(({className:n,...e},t)=>x.jsx("tfoot",{ref:t,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));L4.displayName="TableFooter";const en=S.forwardRef(({className:n,...e},t)=>x.jsx("tr",{ref:t,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));en.displayName="TableRow";const Ze=S.forwardRef(({className:n,...e},t)=>x.jsx("th",{ref:t,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));Ze.displayName="TableHead";const $e=S.forwardRef(({className:n,...e},t)=>x.jsx("td",{ref:t,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));$e.displayName="TableCell";const I4=S.forwardRef(({className:n,...e},t)=>x.jsx("caption",{ref:t,className:De("mt-4 text-sm text-muted-foreground",n),...e}));I4.displayName="TableCaption";const P4=$v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function po({className:n,variant:e,...t}){return x.jsx("div",{className:De(P4({variant:e}),n),...t})}function z4(){const n=zr(),[e,t]=S.useState(""),[r,i]=S.useState([]),[o,l]=S.useState(!0);S.useEffect(()=>{async function d(){try{const f=await fc.getAll();i(f)}catch(f){console.error("Failed to fetch reports:",f)}finally{l(!1)}}d()},[]);const c=r.filter(d=>d.title.toLowerCase().includes(e.toLowerCase())||d.id.toLowerCase().includes(e.toLowerCase()));return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reports"}),x.jsxs(rt,{onClick:()=>n("/reports/new"),children:[x.jsx(Fv,{className:"mr-2 h-4 w-4"})," New Report"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Gc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx(sr,{placeholder:"Search reports...",className:"pl-9",value:e,onChange:d=>t(d.target.value)})]}),x.jsx(rt,{variant:"outline",size:"icon",children:x.jsx(qv,{className:"h-4 w-4"})})]}),x.jsx("div",{className:"rounded-md border bg-card",children:x.jsxs(Xc,{children:[x.jsx(Qc,{children:x.jsxs(en,{children:[x.jsx(Ze,{children:"ID"}),x.jsx(Ze,{children:"Title"}),x.jsx(Ze,{children:"Author"}),x.jsx(Ze,{children:"Date"}),x.jsx(Ze,{children:"Classification"}),x.jsx(Ze,{children:"Status"}),x.jsx(Ze,{className:"text-right",children:"Actions"})]})}),x.jsx(Zc,{children:o?x.jsx(en,{children:x.jsx($e,{colSpan:7,className:"text-center py-8",children:"Loading reports..."})}):c.length===0?x.jsx(en,{children:x.jsx($e,{colSpan:7,className:"text-center py-8",children:"No reports found."})}):c.map(d=>x.jsxs(en,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>n(`/reports/${d.id}`),children:[x.jsx($e,{className:"font-medium",children:d.id}),x.jsx($e,{children:d.title}),x.jsx($e,{children:d.author_id}),x.jsx($e,{children:new Date(d.created_at).toLocaleDateString()}),x.jsx($e,{children:x.jsx(po,{variant:"outline",children:d.classification})}),x.jsx($e,{children:x.jsx(po,{variant:d.status==="Validated"?"default":"secondary",children:d.status})}),x.jsx($e,{className:"text-right",children:x.jsx(rt,{variant:"ghost",size:"sm",children:"View"})})]},d.id))})]})})]})}function yE(n,[e,t]){return Math.min(t,Math.max(e,n))}function vE(n){const e=B4(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(U4);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function B4(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=V4(i),c=H4(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $4=Symbol("radix.slottable");function U4(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$4}function H4(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function V4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function q4(n){const e=n+"CollectionProvider",[t,r]=yh(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:C,children:T}=E,A=jt.useRef(null),O=jt.useRef(new Map).current;return x.jsx(i,{scope:C,itemMap:O,collectionRef:A,children:T})};l.displayName=e;const c=n+"CollectionSlot",d=vE(c),f=jt.forwardRef((E,C)=>{const{scope:T,children:A}=E,O=o(c,T),M=wt(C,O.collectionRef);return x.jsx(d,{ref:M,children:A})});f.displayName=c;const p=n+"CollectionItemSlot",m="data-radix-collection-item",v=vE(p),b=jt.forwardRef((E,C)=>{const{scope:T,children:A,...O}=E,M=jt.useRef(null),L=wt(C,M),P=o(p,T);return jt.useEffect(()=>(P.itemMap.set(M,{ref:M,...O}),()=>void P.itemMap.delete(M))),x.jsx(v,{[m]:"",ref:L,children:A})});b.displayName=p;function w(E){const C=o(n+"CollectionConsumer",E);return jt.useCallback(()=>{const A=C.collectionRef.current;if(!A)return[];const O=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((P,R)=>O.indexOf(P.ref.current)-O.indexOf(R.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:f,ItemSlot:b},w,r]}var F4=S.createContext(void 0);function K4(n){const e=S.useContext(F4);return n||e||"ltr"}const W4=["top","right","bottom","left"],ps=Math.min,Dn=Math.max,vf=Math.round,$d=Math.floor,Dr=n=>({x:n,y:n}),G4={left:"right",right:"left",bottom:"top",top:"bottom"},J4={start:"end",end:"start"};function Iy(n,e,t){return Dn(n,ps(e,t))}function vi(n,e){return typeof n=="function"?n(e):n}function bi(n){return n.split("-")[0]}function el(n){return n.split("-")[1]}function i0(n){return n==="x"?"y":"x"}function s0(n){return n==="y"?"height":"width"}const Y4=new Set(["top","bottom"]);function jr(n){return Y4.has(bi(n))?"y":"x"}function o0(n){return i0(jr(n))}function X4(n,e,t){t===void 0&&(t=!1);const r=el(n),i=o0(n),o=s0(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=bf(l)),[l,bf(l)]}function Q4(n){const e=bf(n);return[Py(n),e,Py(e)]}function Py(n){return n.replace(/start|end/g,e=>J4[e])}const bE=["left","right"],wE=["right","left"],Z4=["top","bottom"],e$=["bottom","top"];function t$(n,e,t){switch(n){case"top":case"bottom":return t?e?wE:bE:e?bE:wE;case"left":case"right":return e?Z4:e$;default:return[]}}function n$(n,e,t,r){const i=el(n);let o=t$(bi(n),t==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Py)))),o}function bf(n){return n.replace(/left|right|bottom|top/g,e=>G4[e])}function r$(n){return{top:0,right:0,bottom:0,left:0,...n}}function I_(n){return typeof n!="number"?r$(n):{top:n,right:n,bottom:n,left:n}}function wf(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function xE(n,e,t){let{reference:r,floating:i}=n;const o=jr(e),l=o0(e),c=s0(l),d=bi(e),f=o==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let b;switch(d){case"top":b={x:p,y:r.y-i.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(el(e)){case"start":b[l]-=v*(t&&f?-1:1);break;case"end":b[l]+=v*(t&&f?-1:1);break}return b}const i$=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:m}=xE(f,r,d),v=r,b={},w=0;for(let E=0;E<c.length;E++){const{name:C,fn:T}=c[E],{x:A,y:O,data:M,reset:L}=await T({x:p,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:n,floating:e}});p=A??p,m=O??m,b={...b,[C]:{...b[C],...M}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(f=L.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):L.rects),{x:p,y:m}=xE(f,v,d)),E=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:b}};async function Oc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:b=0}=vi(e,n),w=I_(b),C=c[v?m==="floating"?"reference":"floating":m],T=wf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),A=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),M=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},L=wf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:A,offsetParent:O,strategy:d}):A);return{top:(T.top-L.top+w.top)/M.y,bottom:(L.bottom-T.bottom+w.bottom)/M.y,left:(T.left-L.left+w.left)/M.x,right:(L.right-T.right+w.right)/M.x}}const s$=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=vi(n,e)||{};if(f==null)return{};const m=I_(p),v={x:t,y:r},b=o0(i),w=s0(b),E=await l.getDimensions(f),C=b==="y",T=C?"top":"left",A=C?"bottom":"right",O=C?"clientHeight":"clientWidth",M=o.reference[w]+o.reference[b]-v[b]-o.floating[w],L=v[b]-o.reference[b],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let R=P?P[O]:0;(!R||!await(l.isElement==null?void 0:l.isElement(P)))&&(R=c.floating[O]||o.floating[w]);const H=M/2-L/2,Z=R/2-E[w]/2-1,se=ps(m[T],Z),me=ps(m[A],Z),fe=se,Ce=R-E[w]-me,oe=R/2-E[w]/2+H,de=Iy(fe,oe,Ce),z=!d.arrow&&el(i)!=null&&oe!==de&&o.reference[w]/2-(oe<fe?se:me)-E[w]/2<0,G=z?oe<fe?oe-fe:oe-Ce:0;return{[b]:v[b]+G,data:{[b]:de,centerOffset:oe-de-G,...z&&{alignmentOffset:G}},reset:z}}}),o$=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...C}=vi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const T=bi(i),A=jr(c),O=bi(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(f.floating)),L=v||(O||!E?[bf(c)]:Q4(c)),P=w!=="none";!v&&P&&L.push(...n$(c,E,w,M));const R=[c,...L],H=await Oc(e,C),Z=[];let se=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&Z.push(H[T]),m){const oe=X4(i,l,M);Z.push(H[oe[0]],H[oe[1]])}if(se=[...se,{placement:i,overflows:Z}],!Z.every(oe=>oe<=0)){var me,fe;const oe=(((me=o.flip)==null?void 0:me.index)||0)+1,de=R[oe];if(de&&(!(m==="alignment"?A!==jr(de):!1)||se.every(q=>jr(q.placement)===A?q.overflows[0]>0:!0)))return{data:{index:oe,overflows:se},reset:{placement:de}};let z=(fe=se.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:fe.placement;if(!z)switch(b){case"bestFit":{var Ce;const G=(Ce=se.filter(q=>{if(P){const pe=jr(q.placement);return pe===A||pe==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(pe=>pe>0).reduce((pe,ke)=>pe+ke,0)]).sort((q,pe)=>q[1]-pe[1])[0])==null?void 0:Ce[0];G&&(z=G);break}case"initialPlacement":z=c;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function SE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function EE(n){return W4.some(e=>n[e]>=0)}const a$=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=vi(n,e);switch(r){case"referenceHidden":{const o=await Oc(e,{...i,elementContext:"reference"}),l=SE(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:EE(l)}}}case"escaped":{const o=await Oc(e,{...i,altBoundary:!0}),l=SE(o,t.floating);return{data:{escapedOffsets:l,escaped:EE(l)}}}default:return{}}}}},P_=new Set(["left","top"]);async function l$(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=bi(t),c=el(t),d=jr(t)==="y",f=P_.has(l)?-1:1,p=o&&d?-1:1,m=vi(e,n);let{mainAxis:v,crossAxis:b,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(b=c==="end"?w*-1:w),d?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const c$=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await l$(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},u$=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:T,y:A}=C;return{x:T,y:A}}},...d}=vi(n,e),f={x:t,y:r},p=await Oc(e,d),m=jr(bi(i)),v=i0(m);let b=f[v],w=f[m];if(o){const C=v==="y"?"top":"left",T=v==="y"?"bottom":"right",A=b+p[C],O=b-p[T];b=Iy(A,b,O)}if(l){const C=m==="y"?"top":"left",T=m==="y"?"bottom":"right",A=w+p[C],O=w-p[T];w=Iy(A,w,O)}const E=c.fn({...e,[v]:b,[m]:w});return{...E,data:{x:E.x-t,y:E.y-r,enabled:{[v]:o,[m]:l}}}}}},d$=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=vi(n,e),p={x:t,y:r},m=jr(i),v=i0(m);let b=p[v],w=p[m];const E=vi(c,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const O=v==="y"?"height":"width",M=o.reference[v]-o.floating[O]+C.mainAxis,L=o.reference[v]+o.reference[O]-C.mainAxis;b<M?b=M:b>L&&(b=L)}if(f){var T,A;const O=v==="y"?"width":"height",M=P_.has(bi(i)),L=o.reference[m]-o.floating[O]+(M&&((T=l.offset)==null?void 0:T[m])||0)+(M?0:C.crossAxis),P=o.reference[m]+o.reference[O]+(M?0:((A=l.offset)==null?void 0:A[m])||0)-(M?C.crossAxis:0);w<L?w=L:w>P&&(w=P)}return{[v]:b,[m]:w}}}},f$=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...f}=vi(n,e),p=await Oc(e,f),m=bi(i),v=el(i),b=jr(i)==="y",{width:w,height:E}=o.floating;let C,T;m==="top"||m==="bottom"?(C=m,T=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(T=m,C=v==="end"?"top":"bottom");const A=E-p.top-p.bottom,O=w-p.left-p.right,M=ps(E-p[C],A),L=ps(w-p[T],O),P=!e.middlewareData.shift;let R=M,H=L;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(H=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=A),P&&!v){const se=Dn(p.left,0),me=Dn(p.right,0),fe=Dn(p.top,0),Ce=Dn(p.bottom,0);b?H=w-2*(se!==0||me!==0?se+me:Dn(p.left,p.right)):R=E-2*(fe!==0||Ce!==0?fe+Ce:Dn(p.top,p.bottom))}await d({...e,availableWidth:H,availableHeight:R});const Z=await l.getDimensions(c.floating);return w!==Z.width||E!==Z.height?{reset:{rects:!0}}:{}}}};function Sh(){return typeof window<"u"}function tl(n){return z_(n)?(n.nodeName||"").toLowerCase():"#document"}function zn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Br(n){var e;return(e=(z_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function z_(n){return Sh()?n instanceof Node||n instanceof zn(n).Node:!1}function Sr(n){return Sh()?n instanceof Element||n instanceof zn(n).Element:!1}function Lr(n){return Sh()?n instanceof HTMLElement||n instanceof zn(n).HTMLElement:!1}function CE(n){return!Sh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zn(n).ShadowRoot}const h$=new Set(["inline","contents"]);function eu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Er(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!h$.has(i)}const p$=new Set(["table","td","th"]);function m$(n){return p$.has(tl(n))}const g$=[":popover-open",":modal"];function Eh(n){return g$.some(e=>{try{return n.matches(e)}catch{return!1}})}const y$=["transform","translate","scale","rotate","perspective"],v$=["transform","translate","scale","rotate","perspective","filter"],b$=["paint","layout","strict","content"];function a0(n){const e=l0(),t=Sr(n)?Er(n):n;return y$.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||v$.some(r=>(t.willChange||"").includes(r))||b$.some(r=>(t.contain||"").includes(r))}function w$(n){let e=ms(n);for(;Lr(e)&&!za(e);){if(a0(e))return e;if(Eh(e))return null;e=ms(e)}return null}function l0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x$=new Set(["html","body","#document"]);function za(n){return x$.has(tl(n))}function Er(n){return zn(n).getComputedStyle(n)}function Ch(n){return Sr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ms(n){if(tl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||CE(n)&&n.host||Br(n);return CE(e)?e.host:e}function B_(n){const e=ms(n);return za(e)?n.ownerDocument?n.ownerDocument.body:n.body:Lr(e)&&eu(e)?e:B_(e)}function Nc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=B_(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),l=zn(i);if(o){const c=zy(l);return e.concat(l,l.visualViewport||[],eu(i)?i:[],c&&t?Nc(c):[])}return e.concat(i,Nc(i,[],t))}function zy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function $_(n){const e=Er(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Lr(n),o=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=vf(t)!==o||vf(r)!==l;return c&&(t=o,r=l),{width:t,height:r,$:c}}function c0(n){return Sr(n)?n:n.contextElement}function Da(n){const e=c0(n);if(!Lr(e))return Dr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=$_(e);let l=(o?vf(t.width):t.width)/r,c=(o?vf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const S$=Dr(0);function U_(n){const e=zn(n);return!l0()||!e.visualViewport?S$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E$(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==zn(n)?!1:e}function mo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=c0(n);let l=Dr(1);e&&(r?Sr(r)&&(l=Da(r)):l=Da(n));const c=E$(o,t,r)?U_(o):Dr(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(o){const v=zn(o),b=r&&Sr(r)?zn(r):r;let w=v,E=zy(w);for(;E&&r&&b!==w;){const C=Da(E),T=E.getBoundingClientRect(),A=Er(E),O=T.left+(E.clientLeft+parseFloat(A.paddingLeft))*C.x,M=T.top+(E.clientTop+parseFloat(A.paddingTop))*C.y;d*=C.x,f*=C.y,p*=C.x,m*=C.y,d+=O,f+=M,w=zn(E),E=zy(w)}}return wf({width:p,height:m,x:d,y:f})}function kh(n,e){const t=Ch(n).scrollLeft;return e?e.left+t:mo(Br(n)).left+t}function H_(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-kh(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function C$(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",l=Br(r),c=e?Eh(e.floating):!1;if(r===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},f=Dr(1);const p=Dr(0),m=Lr(r);if((m||!m&&!o)&&((tl(r)!=="body"||eu(l))&&(d=Ch(r)),Lr(r))){const b=mo(r);f=Da(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const v=l&&!m&&!o?H_(l,d):Dr(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-d.scrollTop*f.y+p.y+v.y}}function k$(n){return Array.from(n.getClientRects())}function T$(n){const e=Br(n),t=Ch(n),r=n.ownerDocument.body,i=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+kh(n);const c=-t.scrollTop;return Er(r).direction==="rtl"&&(l+=Dn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const kE=25;function _$(n,e){const t=zn(n),r=Br(n),i=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const p=l0();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=kh(r);if(f<=0){const p=r.ownerDocument,m=p.body,v=getComputedStyle(m),b=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-b);w<=kE&&(o-=w)}else f<=kE&&(o+=f);return{width:o,height:l,x:c,y:d}}const A$=new Set(["absolute","fixed"]);function O$(n,e){const t=mo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Lr(n)?Da(n):Dr(1),l=n.clientWidth*o.x,c=n.clientHeight*o.y,d=i*o.x,f=r*o.y;return{width:l,height:c,x:d,y:f}}function TE(n,e,t){let r;if(e==="viewport")r=_$(n,t);else if(e==="document")r=T$(Br(n));else if(Sr(e))r=O$(e,t);else{const i=U_(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wf(r)}function V_(n,e){const t=ms(n);return t===e||!Sr(t)||za(t)?!1:Er(t).position==="fixed"||V_(t,e)}function N$(n,e){const t=e.get(n);if(t)return t;let r=Nc(n,[],!1).filter(c=>Sr(c)&&tl(c)!=="body"),i=null;const o=Er(n).position==="fixed";let l=o?ms(n):n;for(;Sr(l)&&!za(l);){const c=Er(l),d=a0(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&A$.has(i.position)||eu(l)&&!d&&V_(n,l))?r=r.filter(p=>p!==l):i=c,l=ms(l)}return e.set(n,r),r}function R$(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Eh(e)?[]:N$(e,this._c):[].concat(t),r],c=l[0],d=l.reduce((f,p)=>{const m=TE(e,p,i);return f.top=Dn(m.top,f.top),f.right=ps(m.right,f.right),f.bottom=ps(m.bottom,f.bottom),f.left=Dn(m.left,f.left),f},TE(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function M$(n){const{width:e,height:t}=$_(n);return{width:e,height:t}}function j$(n,e,t){const r=Lr(e),i=Br(e),o=t==="fixed",l=mo(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Dr(0);function f(){d.x=kh(i)}if(r||!r&&!o)if((tl(e)!=="body"||eu(i))&&(c=Ch(e)),r){const b=mo(e,!0,o,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else i&&f();o&&!r&&i&&f();const p=i&&!r&&!o?H_(i,c):Dr(0),m=l.left+c.scrollLeft-d.x-p.x,v=l.top+c.scrollTop-d.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function Lg(n){return Er(n).position==="static"}function _E(n,e){if(!Lr(n)||Er(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Br(n)===t&&(t=t.ownerDocument.body),t}function q_(n,e){const t=zn(n);if(Eh(n))return t;if(!Lr(n)){let i=ms(n);for(;i&&!za(i);){if(Sr(i)&&!Lg(i))return i;i=ms(i)}return t}let r=_E(n,e);for(;r&&m$(r)&&Lg(r);)r=_E(r,e);return r&&za(r)&&Lg(r)&&!a0(r)?t:r||w$(n)||t}const D$=async function(n){const e=this.getOffsetParent||q_,t=this.getDimensions,r=await t(n.floating);return{reference:j$(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function L$(n){return Er(n).direction==="rtl"}const I$={convertOffsetParentRelativeRectToViewportRelativeRect:C$,getDocumentElement:Br,getClippingRect:R$,getOffsetParent:q_,getElementRects:D$,getClientRects:k$,getDimensions:M$,getScale:Da,isElement:Sr,isRTL:L$};function F_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function P$(n,e){let t=null,r;const i=Br(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=n.getBoundingClientRect(),{left:p,top:m,width:v,height:b}=f;if(c||e(),!v||!b)return;const w=$d(m),E=$d(i.clientWidth-(p+v)),C=$d(i.clientHeight-(m+b)),T=$d(p),O={rootMargin:-w+"px "+-E+"px "+-C+"px "+-T+"px",threshold:Dn(0,ps(1,d))||1};let M=!0;function L(P){const R=P[0].intersectionRatio;if(R!==d){if(!M)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!F_(f,n.getBoundingClientRect())&&l(),M=!1}try{t=new IntersectionObserver(L,{...O,root:i.ownerDocument})}catch{t=new IntersectionObserver(L,O)}t.observe(n)}return l(!0),o}function z$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=c0(n),p=i||o?[...f?Nc(f):[],...Nc(e)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",t,{passive:!0}),o&&T.addEventListener("resize",t)});const m=f&&c?P$(f,t):null;let v=-1,b=null;l&&(b=new ResizeObserver(T=>{let[A]=T;A&&A.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let w,E=d?mo(n):null;d&&C();function C(){const T=mo(n);E&&!F_(E,T)&&t(),E=T,w=requestAnimationFrame(C)}return t(),()=>{var T;p.forEach(A=>{i&&A.removeEventListener("scroll",t),o&&A.removeEventListener("resize",t)}),m?.(),(T=b)==null||T.disconnect(),b=null,d&&cancelAnimationFrame(w)}}const B$=c$,$$=u$,U$=o$,H$=f$,V$=a$,AE=s$,q$=d$,F$=(n,e,t)=>{const r=new Map,i={platform:I$,...t},o={...i.platform,_c:r};return i$(n,e,{...i,platform:o})};var K$=typeof document<"u",W$=function(){},nf=K$?S.useLayoutEffect:W$;function xf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!xf(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!xf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function K_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function OE(n,e){const t=K_(n);return Math.round(e*t)/t}function Ig(n){const e=S.useRef(n);return nf(()=>{e.current=n}),e}function G$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=n,[p,m]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=S.useState(r);xf(v,r)||b(r);const[w,E]=S.useState(null),[C,T]=S.useState(null),A=S.useCallback(q=>{q!==P.current&&(P.current=q,E(q))},[]),O=S.useCallback(q=>{q!==R.current&&(R.current=q,T(q))},[]),M=o||w,L=l||C,P=S.useRef(null),R=S.useRef(null),H=S.useRef(p),Z=d!=null,se=Ig(d),me=Ig(i),fe=Ig(f),Ce=S.useCallback(()=>{if(!P.current||!R.current)return;const q={placement:e,strategy:t,middleware:v};me.current&&(q.platform=me.current),F$(P.current,R.current,q).then(pe=>{const ke={...pe,isPositioned:fe.current!==!1};oe.current&&!xf(H.current,ke)&&(H.current=ke,Kc.flushSync(()=>{m(ke)}))})},[v,e,t,me,fe]);nf(()=>{f===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[f]);const oe=S.useRef(!1);nf(()=>(oe.current=!0,()=>{oe.current=!1}),[]),nf(()=>{if(M&&(P.current=M),L&&(R.current=L),M&&L){if(se.current)return se.current(M,L,Ce);Ce()}},[M,L,Ce,se,Z]);const de=S.useMemo(()=>({reference:P,floating:R,setReference:A,setFloating:O}),[A,O]),z=S.useMemo(()=>({reference:M,floating:L}),[M,L]),G=S.useMemo(()=>{const q={position:t,left:0,top:0};if(!z.floating)return q;const pe=OE(z.floating,p.x),ke=OE(z.floating,p.y);return c?{...q,transform:"translate("+pe+"px, "+ke+"px)",...K_(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:pe,top:ke}},[t,c,z.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:Ce,refs:de,elements:z,floatingStyles:G}),[p,Ce,de,z,G])}const J$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?AE({element:r.current,padding:i}).fn(t):{}:r?AE({element:r,padding:i}).fn(t):{}}}},Y$=(n,e)=>({...B$(n),options:[n,e]}),X$=(n,e)=>({...$$(n),options:[n,e]}),Q$=(n,e)=>({...q$(n),options:[n,e]}),Z$=(n,e)=>({...U$(n),options:[n,e]}),eU=(n,e)=>({...H$(n),options:[n,e]}),tU=(n,e)=>({...V$(n),options:[n,e]}),nU=(n,e)=>({...J$(n),options:[n,e]});function rU(n){const e=iU(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(oU);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function iU(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=lU(i),c=aU(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var sU=Symbol("radix.slottable");function oU(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===sU}function aU(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function lU(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var cU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uU=cU.reduce((n,e)=>{const t=rU(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),dU="Arrow",W_=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return x.jsx(uU.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});W_.displayName=dU;var fU=W_;function hU(n){const e=pU(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(gU);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function pU(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=vU(i),c=yU(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var mU=Symbol("radix.slottable");function gU(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===mU}function yU(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function vU(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var bU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],G_=bU.reduce((n,e)=>{const t=hU(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function wU(n){const[e,t]=S.useState(void 0);return rn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var u0="Popper",[J_,Y_]=yh(u0),[xU,X_]=J_(u0),Q_=n=>{const{__scopePopper:e,children:t}=n,[r,i]=S.useState(null);return x.jsx(xU,{scope:e,anchor:r,onAnchorChange:i,children:t})};Q_.displayName=u0;var Z_="PopperAnchor",eA=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=X_(Z_,t),l=S.useRef(null),c=wt(e,l),d=S.useRef(null);return S.useEffect(()=>{const f=d.current;d.current=r?.current||l.current,f!==d.current&&o.onAnchorChange(d.current)}),r?null:x.jsx(G_.div,{...i,ref:c})});eA.displayName=Z_;var d0="PopperContent",[SU,EU]=J_(d0),tA=S.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:w,...E}=n,C=X_(d0,t),[T,A]=S.useState(null),O=wt(e,J=>A(J)),[M,L]=S.useState(null),P=wU(M),R=P?.width??0,H=P?.height??0,Z=r+(o!=="center"?"-"+o:""),se=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},me=Array.isArray(f)?f:[f],fe=me.length>0,Ce={padding:se,boundary:me.filter(kU),altBoundary:fe},{refs:oe,floatingStyles:de,placement:z,isPositioned:G,middlewareData:q}=G$({strategy:"fixed",placement:Z,whileElementsMounted:(...J)=>z$(...J,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[Y$({mainAxis:i+H,alignmentAxis:l}),d&&X$({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Q$():void 0,...Ce}),d&&Z$({...Ce}),eU({...Ce,apply:({elements:J,rects:ve,availableWidth:ge,availableHeight:Oe})=>{const{width:Ue,height:Fe}=ve.reference,on=J.floating.style;on.setProperty("--radix-popper-available-width",`${ge}px`),on.setProperty("--radix-popper-available-height",`${Oe}px`),on.setProperty("--radix-popper-anchor-width",`${Ue}px`),on.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),M&&nU({element:M,padding:c}),TU({arrowWidth:R,arrowHeight:H}),v&&tU({strategy:"referenceHidden",...Ce})]}),[pe,ke]=iA(z),D=uo(w);rn(()=>{G&&D?.()},[G,D]);const j=q.arrow?.x,K=q.arrow?.y,X=q.arrow?.centerOffset!==0,[ee,re]=S.useState();return rn(()=>{T&&re(window.getComputedStyle(T).zIndex)},[T]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:G?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:x.jsx(SU,{scope:t,placedSide:pe,onArrowChange:L,arrowX:j,arrowY:K,shouldHideArrow:X,children:x.jsx(G_.div,{"data-side":pe,"data-align":ke,...E,ref:O,style:{...E.style,animation:G?void 0:"none"}})})})});tA.displayName=d0;var nA="PopperArrow",CU={top:"bottom",right:"left",bottom:"top",left:"right"},rA=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=EU(nA,r),l=CU[o.placedSide];return x.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:x.jsx(fU,{...i,ref:t,style:{...i.style,display:"block"}})})});rA.displayName=nA;function kU(n){return n!==null}var TU=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[f,p]=iA(t),m={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,b=(i.arrow?.y??0)+d/2;let w="",E="";return f==="bottom"?(w=l?m:`${v}px`,E=`${-d}px`):f==="top"?(w=l?m:`${v}px`,E=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,E=l?m:`${b}px`):f==="left"&&(w=`${r.floating.width+d}px`,E=l?m:`${b}px`),{data:{x:w,y:E}}}});function iA(n){const[e,t="center"]=n.split("-");return[e,t]}var _U=Q_,AU=eA,OU=tA,NU=rA;function sA(n){const e=RU(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(jU);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function RU(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=LU(i),c=DU(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var MU=Symbol("radix.slottable");function jU(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===MU}function DU(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function LU(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var IU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$n=IU.reduce((n,e)=>{const t=sA(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function PU(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function zU(n){const e=BU(n),t=S.forwardRef((r,i)=>{const{children:o,...l}=r,c=S.Children.toArray(o),d=c.find(UU);if(d){const f=d.props.children,p=c.map(m=>m===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return x.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function BU(n){const e=S.forwardRef((t,r)=>{const{children:i,...o}=t;if(S.isValidElement(i)){const l=VU(i),c=HU(o,i.props);return i.type!==S.Fragment&&(c.ref=r?nn(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $U=Symbol("radix.slottable");function UU(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$U}function HU(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const d=o(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function VU(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var qU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FU=qU.reduce((n,e)=>{const t=zU(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),oA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KU="VisuallyHidden",WU=S.forwardRef((n,e)=>x.jsx(FU.span,{...n,ref:e,style:{...oA,...n.style}}));WU.displayName=KU;var GU=[" ","Enter","ArrowUp","ArrowDown"],JU=[" ","Enter"],go="Select",[Th,_h,YU]=q4(go),[nl]=yh(go,[YU,Y_]),Ah=Y_(),[XU,xs]=nl(go),[QU,ZU]=nl(go),aA=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:m,disabled:v,required:b,form:w}=n,E=Ah(e),[C,T]=S.useState(null),[A,O]=S.useState(null),[M,L]=S.useState(!1),P=K4(f),[R,H]=Ry({prop:r,defaultProp:i??!1,onChange:o,caller:go}),[Z,se]=Ry({prop:l,defaultProp:c,onChange:d,caller:go}),me=S.useRef(null),fe=C?w||!!C.closest("form"):!0,[Ce,oe]=S.useState(new Set),de=Array.from(Ce).map(z=>z.props.value).join(";");return x.jsx(_U,{...E,children:x.jsxs(XU,{required:b,scope:e,trigger:C,onTriggerChange:T,valueNode:A,onValueNodeChange:O,valueNodeHasChildren:M,onValueNodeHasChildrenChange:L,contentId:or(),value:Z,onValueChange:se,open:R,onOpenChange:H,dir:P,triggerPointerDownPosRef:me,disabled:v,children:[x.jsx(Th.Provider,{scope:e,children:x.jsx(QU,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(z=>{oe(G=>new Set(G).add(z))},[]),onNativeOptionRemove:S.useCallback(z=>{oe(G=>{const q=new Set(G);return q.delete(z),q})},[]),children:t})}),fe?x.jsxs(RA,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:Z,onChange:z=>se(z.target.value),disabled:v,form:w,children:[Z===void 0?x.jsx("option",{value:""}):null,Array.from(Ce)]},de):null]})})};aA.displayName=go;var lA="SelectTrigger",cA=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,o=Ah(t),l=xs(lA,t),c=l.disabled||r,d=wt(e,l.onTriggerChange),f=_h(t),p=S.useRef("touch"),[m,v,b]=jA(E=>{const C=f().filter(O=>!O.disabled),T=C.find(O=>O.value===l.value),A=DA(C,E,T);A!==void 0&&l.onValueChange(A.value)}),w=E=>{c||(l.onOpenChange(!0),b()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return x.jsx(AU,{asChild:!0,...o,children:x.jsx($n.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":MA(l.value)?"":void 0,...i,ref:d,onClick:at(i.onClick,E=>{E.currentTarget.focus(),p.current!=="mouse"&&w(E)}),onPointerDown:at(i.onPointerDown,E=>{p.current=E.pointerType;const C=E.target;C.hasPointerCapture(E.pointerId)&&C.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(w(E),E.preventDefault())}),onKeyDown:at(i.onKeyDown,E=>{const C=m.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&v(E.key),!(C&&E.key===" ")&&GU.includes(E.key)&&(w(),E.preventDefault())})})})});cA.displayName=lA;var uA="SelectValue",dA=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:o,placeholder:l="",...c}=n,d=xs(uA,t),{onValueNodeHasChildrenChange:f}=d,p=o!==void 0,m=wt(e,d.onValueNodeChange);return rn(()=>{f(p)},[f,p]),x.jsx($n.span,{...c,ref:m,style:{pointerEvents:"none"},children:MA(d.value)?x.jsx(x.Fragment,{children:l}):o})});dA.displayName=uA;var e5="SelectIcon",fA=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return x.jsx($n.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});fA.displayName=e5;var t5="SelectPortal",hA=n=>x.jsx(Jv,{asChild:!0,...n});hA.displayName=t5;var yo="SelectContent",pA=S.forwardRef((n,e)=>{const t=xs(yo,n.__scopeSelect),[r,i]=S.useState();if(rn(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?Kc.createPortal(x.jsx(mA,{scope:n.__scopeSelect,children:x.jsx(Th.Slot,{scope:n.__scopeSelect,children:x.jsx("div",{children:n.children})})}),o):null}return x.jsx(gA,{...n,ref:e})});pA.displayName=yo;var mr=10,[mA,Ss]=nl(yo),n5="SelectContentImpl",r5=sA("SelectContent.RemoveScroll"),gA=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:b,sticky:w,hideWhenDetached:E,avoidCollisions:C,...T}=n,A=xs(yo,t),[O,M]=S.useState(null),[L,P]=S.useState(null),R=wt(e,J=>M(J)),[H,Z]=S.useState(null),[se,me]=S.useState(null),fe=_h(t),[Ce,oe]=S.useState(!1),de=S.useRef(!1);S.useEffect(()=>{if(O)return ZT(O)},[O]),FT();const z=S.useCallback(J=>{const[ve,...ge]=fe().map(Fe=>Fe.ref.current),[Oe]=ge.slice(-1),Ue=document.activeElement;for(const Fe of J)if(Fe===Ue||(Fe?.scrollIntoView({block:"nearest"}),Fe===ve&&L&&(L.scrollTop=0),Fe===Oe&&L&&(L.scrollTop=L.scrollHeight),Fe?.focus(),document.activeElement!==Ue))return},[fe,L]),G=S.useCallback(()=>z([H,O]),[z,H,O]);S.useEffect(()=>{Ce&&G()},[Ce,G]);const{onOpenChange:q,triggerPointerDownPosRef:pe}=A;S.useEffect(()=>{if(O){let J={x:0,y:0};const ve=Oe=>{J={x:Math.abs(Math.round(Oe.pageX)-(pe.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(pe.current?.y??0))}},ge=Oe=>{J.x<=10&&J.y<=10?Oe.preventDefault():O.contains(Oe.target)||q(!1),document.removeEventListener("pointermove",ve),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",ge,{capture:!0})}}},[O,q,pe]),S.useEffect(()=>{const J=()=>q(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[q]);const[ke,D]=jA(J=>{const ve=fe().filter(Ue=>!Ue.disabled),ge=ve.find(Ue=>Ue.ref.current===document.activeElement),Oe=DA(ve,J,ge);Oe&&setTimeout(()=>Oe.ref.current.focus())}),j=S.useCallback((J,ve,ge)=>{const Oe=!de.current&&!ge;(A.value!==void 0&&A.value===ve||Oe)&&(Z(J),Oe&&(de.current=!0))},[A.value]),K=S.useCallback(()=>O?.focus(),[O]),X=S.useCallback((J,ve,ge)=>{const Oe=!de.current&&!ge;(A.value!==void 0&&A.value===ve||Oe)&&me(J)},[A.value]),ee=r==="popper"?By:yA,re=ee===By?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:b,sticky:w,hideWhenDetached:E,avoidCollisions:C}:{};return x.jsx(mA,{scope:t,content:O,viewport:L,onViewportChange:P,itemRefCallback:j,selectedItem:H,onItemLeave:K,itemTextRefCallback:X,focusSelectedItem:G,selectedItemText:se,position:r,isPositioned:Ce,searchRef:ke,children:x.jsx(Yv,{as:r5,allowPinchZoom:!0,children:x.jsx(Gv,{asChild:!0,trapped:A.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:at(i,J=>{A.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:x.jsx(Wv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:x.jsx(ee,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:J=>J.preventDefault(),...T,...re,onPlaced:()=>oe(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:at(T.onKeyDown,J=>{const ve=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ve&&J.key.length===1&&D(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Oe=fe().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Ue=J.target,Fe=Oe.indexOf(Ue);Oe=Oe.slice(Fe+1)}setTimeout(()=>z(Oe)),J.preventDefault()}})})})})})})});gA.displayName=n5;var i5="SelectItemAlignedPosition",yA=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=xs(yo,t),l=Ss(yo,t),[c,d]=S.useState(null),[f,p]=S.useState(null),m=wt(e,R=>p(R)),v=_h(t),b=S.useRef(!1),w=S.useRef(!0),{viewport:E,selectedItem:C,selectedItemText:T,focusSelectedItem:A}=l,O=S.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&f&&E&&C&&T){const R=o.trigger.getBoundingClientRect(),H=f.getBoundingClientRect(),Z=o.valueNode.getBoundingClientRect(),se=T.getBoundingClientRect();if(o.dir!=="rtl"){const Ue=se.left-H.left,Fe=Z.left-Ue,on=R.left-Fe,an=R.width+on,ks=Math.max(an,H.width),Ts=window.innerWidth-mr,il=yE(Fe,[mr,Math.max(mr,Ts-ks)]);c.style.minWidth=an+"px",c.style.left=il+"px"}else{const Ue=H.right-se.right,Fe=window.innerWidth-Z.right-Ue,on=window.innerWidth-R.right-Fe,an=R.width+on,ks=Math.max(an,H.width),Ts=window.innerWidth-mr,il=yE(Fe,[mr,Math.max(mr,Ts-ks)]);c.style.minWidth=an+"px",c.style.right=il+"px"}const me=v(),fe=window.innerHeight-mr*2,Ce=E.scrollHeight,oe=window.getComputedStyle(f),de=parseInt(oe.borderTopWidth,10),z=parseInt(oe.paddingTop,10),G=parseInt(oe.borderBottomWidth,10),q=parseInt(oe.paddingBottom,10),pe=de+z+Ce+q+G,ke=Math.min(C.offsetHeight*5,pe),D=window.getComputedStyle(E),j=parseInt(D.paddingTop,10),K=parseInt(D.paddingBottom,10),X=R.top+R.height/2-mr,ee=fe-X,re=C.offsetHeight/2,J=C.offsetTop+re,ve=de+z+J,ge=pe-ve;if(ve<=X){const Ue=me.length>0&&C===me[me.length-1].ref.current;c.style.bottom="0px";const Fe=f.clientHeight-E.offsetTop-E.offsetHeight,on=Math.max(ee,re+(Ue?K:0)+Fe+G),an=ve+on;c.style.height=an+"px"}else{const Ue=me.length>0&&C===me[0].ref.current;c.style.top="0px";const on=Math.max(X,de+E.offsetTop+(Ue?j:0)+re)+ge;c.style.height=on+"px",E.scrollTop=ve-X+E.offsetTop}c.style.margin=`${mr}px 0`,c.style.minHeight=ke+"px",c.style.maxHeight=fe+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[v,o.trigger,o.valueNode,c,f,E,C,T,o.dir,r]);rn(()=>O(),[O]);const[M,L]=S.useState();rn(()=>{f&&L(window.getComputedStyle(f).zIndex)},[f]);const P=S.useCallback(R=>{R&&w.current===!0&&(O(),A?.(),w.current=!1)},[O,A]);return x.jsx(o5,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:P,children:x.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:x.jsx($n.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yA.displayName=i5;var s5="SelectPopperPosition",By=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=mr,...o}=n,l=Ah(t);return x.jsx(OU,{...l,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});By.displayName=s5;var[o5,f0]=nl(yo,{}),$y="SelectViewport",vA=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,o=Ss($y,t),l=f0($y,t),c=wt(e,o.onViewportChange),d=S.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(Th.Slot,{scope:t,children:x.jsx($n.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:at(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=l;if(v?.current&&m){const b=Math.abs(d.current-p.scrollTop);if(b>0){const w=window.innerHeight-mr*2,E=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),T=Math.max(E,C);if(T<w){const A=T+b,O=Math.min(w,A),M=A-O;m.style.height=O+"px",m.style.bottom==="0px"&&(p.scrollTop=M>0?M:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});vA.displayName=$y;var bA="SelectGroup",[a5,l5]=nl(bA),c5=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=or();return x.jsx(a5,{scope:t,id:i,children:x.jsx($n.div,{role:"group","aria-labelledby":i,...r,ref:e})})});c5.displayName=bA;var wA="SelectLabel",xA=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=l5(wA,t);return x.jsx($n.div,{id:i.id,...r,ref:e})});xA.displayName=wA;var Sf="SelectItem",[u5,SA]=nl(Sf),EA=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...l}=n,c=xs(Sf,t),d=Ss(Sf,t),f=c.value===r,[p,m]=S.useState(o??""),[v,b]=S.useState(!1),w=wt(e,A=>d.itemRefCallback?.(A,r,i)),E=or(),C=S.useRef("touch"),T=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(u5,{scope:t,value:r,disabled:i,textId:E,isSelected:f,onItemTextChange:S.useCallback(A=>{m(O=>O||(A?.textContent??"").trim())},[]),children:x.jsx(Th.ItemSlot,{scope:t,value:r,disabled:i,textValue:p,children:x.jsx($n.div,{role:"option","aria-labelledby":E,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:w,onFocus:at(l.onFocus,()=>b(!0)),onBlur:at(l.onBlur,()=>b(!1)),onClick:at(l.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:at(l.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:at(l.onPointerDown,A=>{C.current=A.pointerType}),onPointerMove:at(l.onPointerMove,A=>{C.current=A.pointerType,i?d.onItemLeave?.():C.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(l.onPointerLeave,A=>{A.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:at(l.onKeyDown,A=>{d.searchRef?.current!==""&&A.key===" "||(JU.includes(A.key)&&T(),A.key===" "&&A.preventDefault())})})})})});EA.displayName=Sf;var sc="SelectItemText",CA=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,l=xs(sc,t),c=Ss(sc,t),d=SA(sc,t),f=ZU(sc,t),[p,m]=S.useState(null),v=wt(e,T=>m(T),d.onItemTextChange,T=>c.itemTextRefCallback?.(T,d.value,d.disabled)),b=p?.textContent,w=S.useMemo(()=>x.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:E,onNativeOptionRemove:C}=f;return rn(()=>(E(w),()=>C(w)),[E,C,w]),x.jsxs(x.Fragment,{children:[x.jsx($n.span,{id:d.textId,...o,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Kc.createPortal(o.children,l.valueNode):null]})});CA.displayName=sc;var kA="SelectItemIndicator",TA=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return SA(kA,t).isSelected?x.jsx($n.span,{"aria-hidden":!0,...r,ref:e}):null});TA.displayName=kA;var Uy="SelectScrollUpButton",_A=S.forwardRef((n,e)=>{const t=Ss(Uy,n.__scopeSelect),r=f0(Uy,n.__scopeSelect),[i,o]=S.useState(!1),l=wt(e,r.onScrollButtonChange);return rn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollTop>0;o(f)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?x.jsx(OA,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});_A.displayName=Uy;var Hy="SelectScrollDownButton",AA=S.forwardRef((n,e)=>{const t=Ss(Hy,n.__scopeSelect),r=f0(Hy,n.__scopeSelect),[i,o]=S.useState(!1),l=wt(e,r.onScrollButtonChange);return rn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;o(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?x.jsx(OA,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});AA.displayName=Hy;var OA=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=Ss("SelectScrollButton",t),l=S.useRef(null),c=_h(t),d=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),rn(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),x.jsx($n.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:at(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:at(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:at(i.onPointerLeave,()=>{d()})})}),d5="SelectSeparator",NA=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return x.jsx($n.div,{"aria-hidden":!0,...r,ref:e})});NA.displayName=d5;var Vy="SelectArrow",f5=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ah(t),o=xs(Vy,t),l=Ss(Vy,t);return o.open&&l.position==="popper"?x.jsx(NU,{...i,...r,ref:e}):null});f5.displayName=Vy;var h5="SelectBubbleInput",RA=S.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=S.useRef(null),o=wt(r,i),l=PU(e);return S.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[l,e]),x.jsx($n.select,{...t,style:{...oA,...t.style},ref:o,defaultValue:e})});RA.displayName=h5;function MA(n){return n===""||n===void 0}function jA(n){const e=uo(n),t=S.useRef(""),r=S.useRef(0),i=S.useCallback(l=>{const c=t.current+l;e(c),(function d(f){t.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),o=S.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function DA(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=p5(n,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function p5(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var m5=aA,LA=cA,g5=dA,y5=fA,v5=hA,IA=pA,b5=vA,PA=xA,zA=EA,w5=CA,x5=TA,BA=_A,$A=AA,UA=NA;const Rc=m5,Mc=g5,Ba=S.forwardRef(({className:n,children:e,...t},r)=>x.jsxs(LA,{ref:r,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,x.jsx(y5,{asChild:!0,children:x.jsx(Vv,{className:"h-4 w-4 opacity-50"})})]}));Ba.displayName=LA.displayName;const HA=S.forwardRef(({className:n,...e},t)=>x.jsx(BA,{ref:t,className:De("flex cursor-default items-center justify-center py-1",n),...e,children:x.jsx(Sz,{className:"h-4 w-4"})}));HA.displayName=BA.displayName;const VA=S.forwardRef(({className:n,...e},t)=>x.jsx($A,{ref:t,className:De("flex cursor-default items-center justify-center py-1",n),...e,children:x.jsx(Vv,{className:"h-4 w-4"})}));VA.displayName=$A.displayName;const $a=S.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>x.jsx(v5,{children:x.jsxs(IA,{ref:i,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[x.jsx(HA,{}),x.jsx(b5,{className:De("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),x.jsx(VA,{})]})}));$a.displayName=IA.displayName;const S5=S.forwardRef(({className:n,...e},t)=>x.jsx(PA,{ref:t,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));S5.displayName=PA.displayName;const bt=S.forwardRef(({className:n,children:e,...t},r)=>x.jsxs(zA,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(x5,{children:x.jsx(yz,{className:"h-4 w-4"})})}),x.jsx(w5,{children:e})]}));bt.displayName=zA.displayName;const E5=S.forwardRef(({className:n,...e},t)=>x.jsx(UA,{ref:t,className:De("-mx-1 my-1 h-px bg-muted",n),...e}));E5.displayName=UA.displayName;var Pg={exports:{}},zg={};var NE;function C5(){if(NE)return zg;NE=1;var n=Vc();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(m,v){var b=v(),w=r({inst:{value:b,getSnapshot:v}}),E=w[0].inst,C=w[1];return o(function(){E.value=b,E.getSnapshot=v,d(E)&&C({inst:E})},[m,b,v]),i(function(){return d(E)&&C({inst:E}),m(function(){d(E)&&C({inst:E})})},[m]),l(b),b}function d(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!t(m,b)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return zg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,zg}var RE;function qA(){return RE||(RE=1,Pg.exports=C5()),Pg.exports}var FA=qA();function Wt(n){this.content=n}Wt.prototype={constructor:Wt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new Wt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Wt(t)},addToStart:function(n,e){return new Wt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Wt(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new Wt(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Wt.from(n),n.size?new Wt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Wt.from(n),n.size?new Wt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Wt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Wt.from=function(n){if(n instanceof Wt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Wt(e)};function KA(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)t++;return t}if(i.content.size||o.content.size){let l=KA(i.content,o.content,t+1);if(l!=null)return l}t+=i.nodeSize}}function WA(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let l=n.child(--i),c=e.child(--o),d=l.nodeSize;if(l==c){t-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:t,b:r};if(l.isText&&l.text!=c.text){let f=0,p=Math.min(l.text.length,c.text.length);for(;f<p&&l.text[l.text.length-f-1]==c.text[c.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(l.content.size||c.content.size){let f=WA(l.content,c.content,t-1,r-1);if(f)return f}t-=d,r-=d}}class te{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let l=0,c=0;c<t;l++){let d=this.content[l],f=c+d.nodeSize;if(f>e&&r(d,i+c,o||null,l)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,t-p),r,i+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",l=!0;return this.nodesBetween(e,t,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(l?l=!1:o+=r),o+=f},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new te(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,l=0;l<t;o++){let c=this.content[o],d=l+c.nodeSize;d>e&&((l<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,t-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,t-l-1))),r.push(c),i+=c.nodeSize),l=d}return new te(r,i)}cutByIndex(e,t){return e==t?te.empty:e==0&&t==this.content.length?this:new te(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new te(i,o)}addToStart(e){return new te([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new te(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return KA(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return WA(this,e,t,r)}findIndex(e){if(e==0)return Ud(0,e);if(e==this.size)return Ud(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),o=r+i.nodeSize;if(o>=e)return o==e?Ud(t+1,o):Ud(t,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return te.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new te(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return te.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new te(t||e,r)}static from(e){if(!e)return te.empty;if(e instanceof te)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new te([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}te.empty=new te([],0);const Bg={index:0,offset:0};function Ud(n,e){return Bg.index=n,Bg.offset=e,Bg}function Ef(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Ef(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Ef(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let et=class qy{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ef(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return qy.none;if(e instanceof qy)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};et.none=[];class Cf extends Error{}class ie{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=JA(this.content,e+this.openStart,t);return r&&new ie(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ie(GA(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ie.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ie(te.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new ie(e,r,i)}}ie.empty=new ie(te.empty,0,0);function GA(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:l,offset:c}=n.findIndex(t);if(i==e||o.isText){if(c!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(GA(o.content,e-i-1,t-i-1)))}function JA(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),l=n.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let c=JA(l.content,e-o-1,t,l);return c&&n.replaceChild(i,l.copy(c))}function k5(n,e,t){if(t.openStart>n.depth)throw new Cf("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Cf("Inconsistent open depths");return YA(n,e,t,0)}function YA(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let l=YA(n,e,t,r+1);return o.copy(o.content.replaceChild(i,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,c=l.content;return oo(l,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=T5(t,n);return oo(o,QA(n,l,c,e,r))}else return oo(o,kf(n,e,r))}function XA(n,e){if(!e.type.compatibleContent(n.type))throw new Cf("Cannot join "+e.type.name+" onto "+n.type.name)}function Fy(n,e,t){let r=n.node(t);return XA(r,e.node(t)),r}function so(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function hc(n,e,t,r){let i=(e||n).node(t),o=0,l=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(so(n.nodeAfter,r),o++));for(let c=o;c<l;c++)so(i.child(c),r);e&&e.depth==t&&e.textOffset&&so(e.nodeBefore,r)}function oo(n,e){return n.type.checkContent(e),n.copy(e)}function QA(n,e,t,r,i){let o=n.depth>i&&Fy(n,e,i+1),l=r.depth>i&&Fy(t,r,i+1),c=[];return hc(null,n,i,c),o&&l&&e.index(i)==t.index(i)?(XA(o,l),so(oo(o,QA(n,e,t,r,i+1)),c)):(o&&so(oo(o,kf(n,e,i+1)),c),hc(e,t,i,c),l&&so(oo(l,kf(t,r,i+1)),c)),hc(r,null,i,c),new te(c)}function kf(n,e,t){let r=[];if(hc(null,n,t,r),n.depth>t){let i=Fy(n,e,t+1);so(oo(i,kf(n,e,t+1)),r)}return hc(e,null,t,r),new te(r)}function T5(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(te.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class jc{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return et.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let c=r;r=i,i=c}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Tf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(o),f=o-d;if(r.push(l,c,i+d),!f||(l=l.child(c),l.isText))break;o=f-1,i+=d+1}return new jc(t,r,o)}static resolveCached(e,t){let r=ME.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==t)return l}else ME.set(e,r=new _5);let i=r.elts[r.i]=jc.resolve(e,t);return r.i=(r.i+1)%A5,i}}class _5{constructor(){this.elts=[],this.i=0}}const A5=12,ME=new WeakMap;class Tf{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const O5=Object.create(null);let ls=class Ky{constructor(e,t,r,i=et.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||te.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Ef(this.attrs,t||e.defaultAttrs||O5)&&et.sameSet(this.marks,r||et.none)}copy(e=null){return e==this.content?this:new Ky(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ky(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ie.empty;let i=this.resolve(e),o=this.resolve(t),l=r?0:i.sharedDepth(t),c=i.start(l),f=i.node(l).content.cut(i.pos-c,o.pos-c);return new ie(f,i.depth-l,o.depth-l)}replace(e,t,r){return k5(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return jc.resolveCached(this,e)}resolveNoCache(e){return jc.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ZA(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=te.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),c=l&&l.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=i;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=et.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!et.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=te.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};ls.prototype.text=void 0;class _f extends ls{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ZA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new _f(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new _f(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ZA(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class vo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new N5(e,t);if(r.next==null)return vo.empty;let i=eO(r);r.next&&r.err("Unexpected trailing text");let o=P5(I5(i));return z5(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(l,c){let d=l.matchFragment(e,r);if(d&&(!t||d.validEnd))return te.from(c.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:p,next:m}=l.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=o(m,c.concat(p));if(v)return v}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:c,next:d}=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}vo.empty=new vo(!0);class N5{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function eO(n){let e=[];do e.push(R5(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function R5(n){let e=[];do e.push(M5(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function M5(n){let e=L5(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=j5(n,e);else break;return e}function jE(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function j5(n,e){let t=jE(n),r=t;return n.eat(",")&&(n.next!="}"?r=jE(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function D5(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let l=t[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function L5(n){if(n.eat("(")){let e=eO(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=D5(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function I5(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(l,c,d){let f={term:d,to:c};return e[l].push(f),f}function i(l,c){l.forEach(d=>d.to=c)}function o(l,c){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(o(f,c)),[]);if(l.type=="seq")for(let d=0;;d++){let f=o(l.exprs[d],c);if(d==l.exprs.length-1)return f;i(f,c=t())}else if(l.type=="star"){let d=t();return r(c,d),i(o(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=t();return i(o(l.expr,c),d),i(o(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(o(l.expr,c));if(l.type=="range"){let d=c;for(let f=0;f<l.min;f++){let p=t();i(o(l.expr,d),p),d=p}if(l.max==-1)i(o(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let p=t();r(d,p),i(o(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function tO(n,e){return e-n}function DE(n,e){let t=[];return r(e),t.sort(tO);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let l=0;l<o.length;l++){let{term:c,to:d}=o[l];!c&&t.indexOf(d)==-1&&r(d)}}}function P5(n){let e=Object.create(null);return t(DE(n,0));function t(r){let i=[];r.forEach(l=>{n[l].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let p=0;p<i.length;p++)i[p][0]==c&&(f=i[p][1]);DE(n,d).forEach(p=>{f||i.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let o=e[r.join(",")]=new vo(r.indexOf(n.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(tO);o.next.push({type:i[l][0],next:e[c.join(",")]||t(c)})}return o}}function z5(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:d,next:f}=i.next[c];l.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nO(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function rO(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function iO(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function sO(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new $5(n,r,e[r]);return t}let LE=class oO{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=sO(e,r.attrs),this.defaultAttrs=nO(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:rO(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ls(this,this.computeAttrs(e),te.from(t),et.setFrom(r))}createChecked(e=null,t,r){return t=te.from(t),this.checkContent(t),new ls(this,this.computeAttrs(e),t,et.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=te.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(te.empty,!0);return o?new ls(this,e,t.append(o),et.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){iO(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:et.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,l)=>r[o]=new oO(o,t,l));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function B5(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class $5{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?B5(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Oh{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=sO(e,i.attrs),this.excluded=null;let o=nO(this.attrs);this.instance=o?new et(this,o):null}create(e=null){return!e&&this.instance?this.instance:new et(this,rO(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new Oh(o,i++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){iO(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class aO{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Wt.from(e.nodes),t.marks=Wt.from(e.marks||{}),this.nodes=LE.compile(this.spec.nodes,this),this.marks=Oh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=vo.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?IE(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:IE(this,l.split(" "))}this.nodeFromJSON=i=>ls.fromJSON(this,i),this.markFromJSON=i=>et.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof LE){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new _f(r,r.defaultAttrs,e,et.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function IE(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],l=o;if(o)t.push(o);else for(let c in n.marks){let d=n.marks[c];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&t.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function U5(n){return n.tag!=null}function H5(n){return n.style!=null}class cs{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(U5(i))this.tags.push(i);else if(H5(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new zE(this,t,!1);return r.addAll(e,et.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new zE(this,t,!0);return r.addAll(e,et.none,t.from,t.to),ie.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(F5(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(l.getAttrs){let d=l.getAttrs(t);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<t.length;l++){let c=t[l];if((c.priority==null?50:c.priority)<o)break}t.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=BE(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=BE(l)),l.node||l.ignore||l.mark||(l.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new cs(e,cs.schemaRules(e)))}}const lO={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},V5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},cO={ol:!0,ul:!0},Dc=1,Wy=2,pc=4;function PE(n,e,t){return e!=null?(e?Dc:0)|(e==="full"?Wy:0):n&&n.whitespace=="pre"?Dc|Wy:t&~pc}class Hd{constructor(e,t,r,i,o,l){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=et.none,this.match=o||(l&pc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(te.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Dc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=te.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(te.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!lO.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zE{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,l=PE(null,t.preserveWhitespace,0)|(r?pc:0);i?o=new Hd(i.type,i.attrs,et.none,!0,t.topMatch||i.type.contentMatch,l):r?o=new Hd(null,null,et.none,!0,null,l):o=new Hd(e.schema.topNodeType,null,et.none,!0,null,l),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&Wy?"full":this.localPreserveWS||(i.options&Dc)>0,{schema:l}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let d=0;d<c.length;d++)d&&this.insertNode(l.linebreakReplacement.create(),t,!0),c[d]&&this.insertNode(l.text(c[d]),t,!/\S/.test(c[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],d=e.previousSibling;(!c||d&&d.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;cO.hasOwnProperty(l)&&this.parser.normalizeLists&&q5(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:V5.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(lO.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),f=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=d&&d.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),f&&this.sync(o),this.needsBlock=p}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(o,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(f=>!d.clearMark(f)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,i){let o,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,t);this.findAtPoint(e,o)}findPlace(e,t,r){let i,o;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],f=d.findWrapping(e);if(f&&(!i||i.length>f.length+c)&&(i=f,o=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!i)return null;this.sync(o);for(let l=0;l<i.length;l++)t=this.enterInner(i[l],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=et.none;for(let c of i.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):$E(c.type,e.type))&&(l=c.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=PE(e,o,l.options);l.options&pc&&l.content.length==0&&(c|=pc);let d=et.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):$E(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Hd(e,t,d,i,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Dc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(c,d)=>{for(;c>=0;c--){let f=t[c];if(f==""){if(c==t.length-1||c==0)continue;for(;d>=o;d--)if(l(c-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function q5(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&cO.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function F5(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function BE(n){let e={};for(let t in n)e[t]=n[t];return e}function $E(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],l=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:p}=c.edge(d);if(f==e||o.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class Co{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=$g(t).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let c=0,d=0;for(;c<o.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(o[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)i=o.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],p=this.serializeMark(f,l.isInline,t);p&&(o.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=rf($g(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&rf($g(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return rf(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Co(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=UE(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return UE(e.marks)}}function UE(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function $g(n){return n.document||window.document}const HE=new WeakMap;function K5(n){let e=HE.get(n);return e===void 0&&HE.set(n,e=W5(n)),e}function W5(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function rf(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=K5(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(t=i.slice(0,l),i=i.slice(l+1));let c,d=t?n.createElementNS(t,i):n.createElement(i),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let v=m.indexOf(" ");v>0?d.setAttributeNS(m.slice(0,v),m.slice(v+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:w}=rf(n,v,t,r);if(d.appendChild(b),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:d,contentDOM:c}}const uO=65535,dO=Math.pow(2,16);function G5(n,e){return n+e*dO}function VE(n){return n&uO}function J5(n){return(n-(n&uO))/dO}const fO=1,hO=2,sf=4,pO=8;class Gy{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&pO)>0}get deletedBefore(){return(this.delInfo&(fO|sf))>0}get deletedAfter(){return(this.delInfo&(hO|sf))>0}get deletedAcross(){return(this.delInfo&sf)>0}}class Pn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Pn.empty)return Pn.empty}recover(e){let t=0,r=VE(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+J5(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let f=this.ranges[c+o],p=this.ranges[c+l],m=d+f;if(e<=m){let v=f?e==d?-1:e==m?1:t:t,b=d+i+(v<0?0:p);if(r)return b;let w=e==(t<0?d:m)?null:G5(c/3,e-d),E=e==d?hO:e==m?fO:sf;return(t<0?e!=d:e!=m)&&(E|=pO),new Gy(b,E,w)}i+=p-f}return r?e+i:new Gy(e+i,0,null)}touches(e,t){let r=0,i=VE(t),o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+o],p=d+f;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?o:0),d=l+(this.inverted?0:o),f=this.ranges[i+t],p=this.ranges[i+r];e(c,c+f,d,d+p),o+=p-f}}invert(){return new Pn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Pn.empty:new Pn(e<0?[0,-e,0]:[0,0,e])}}Pn.empty=new Pn([]);class Lc{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Lc(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Lc;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],c=l.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new Gy(e,i,null)}}const Ug=Object.create(null);class sn{getMap(){return Pn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ug[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Ug)throw new RangeError("Duplicate use of step JSON ID "+e);return Ug[e]=t,t.prototype.jsonID=e,t}}class _t{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new _t(e,null)}static fail(e){return new _t(null,e)}static fromReplace(e,t,r,i){try{return _t.ok(e.replace(t,r,i))}catch(o){if(o instanceof Cf)return _t.fail(o.message);throw o}}}function h0(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(h0(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return te.fromArray(r)}class is extends sn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ie(h0(t.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),t.openStart,t.openEnd);return _t.fromReplace(e,this.from,this.to,o)}invert(){return new xr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new is(t.pos,r.pos,this.mark)}merge(e){return e instanceof is&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new is(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new is(t.from,t.to,e.markFromJSON(t.mark))}}sn.jsonID("addMark",is);class xr extends sn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ie(h0(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return _t.fromReplace(e,this.from,this.to,r)}invert(){return new is(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new xr(t.pos,r.pos,this.mark)}merge(e){return e instanceof xr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new xr(t.from,t.to,e.markFromJSON(t.mark))}}sn.jsonID("removeMark",xr);class ss extends sn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return _t.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return _t.fromReplace(e,this.pos,this.pos+1,new ie(te.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new ss(this.pos,t.marks[i]);return new ss(this.pos,this.mark)}}return new bo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ss(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ss(t.pos,e.markFromJSON(t.mark))}}sn.jsonID("addNodeMark",ss);class bo extends sn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return _t.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return _t.fromReplace(e,this.pos,this.pos+1,new ie(te.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ss(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new bo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bo(t.pos,e.markFromJSON(t.mark))}}sn.jsonID("removeNodeMark",bo);class zt extends sn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Jy(e,this.from,this.to)?_t.fail("Structure replace would overwrite content"):_t.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Pn([this.from,this.to-this.from,this.slice.size])}invert(e){return new zt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new zt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof zt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ie.empty:new ie(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ie.empty:new ie(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zt(t.from,t.to,ie.fromJSON(e,t.slice),!!t.structure)}}sn.jsonID("replace",zt);class Bt extends sn{constructor(e,t,r,i,o,l,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Jy(e,this.from,this.gapFrom)||Jy(e,this.gapTo,this.to)))return _t.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return _t.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?_t.fromReplace(e,this.from,this.to,r):_t.fail("Content does not fit in gap")}getMap(){return new Pn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Bt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new Bt(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Bt(t.from,t.to,t.gapFrom,t.gapTo,ie.fromJSON(e,t.slice),t.insert,!!t.structure)}}sn.jsonID("replaceAround",Bt);function Jy(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function Y5(n,e,t,r){let i=[],o=[],l,c;n.doc.nodesBetween(e,t,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(f,e),b=Math.min(f+d.nodeSize,t),w=r.addToSet(m);for(let E=0;E<m.length;E++)m[E].isInSet(w)||(l&&l.to==v&&l.mark.eq(m[E])?l.to=b:i.push(l=new xr(v,b,m[E])));c&&c.to==v?c.to=b:o.push(c=new is(v,b,r))}}),i.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function X5(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(l,c)=>{if(!l.isInline)return;o++;let d=null;if(r instanceof Oh){let f=l.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(c+l.nodeSize,t);for(let p=0;p<d.length;p++){let m=d[p],v;for(let b=0;b<i.length;b++){let w=i[b];w.step==o-1&&m.eq(i[b].style)&&(v=w)}v?(v.to=f,v.step=o):i.push({style:m,from:Math.max(c,e),to:f,step:o})}}}),i.forEach(l=>n.step(new xr(l.from,l.to,l.style)))}function p0(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<o.childCount;d++){let f=o.child(d),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)l.push(new zt(c,p,ie.empty));else{r=m;for(let v=0;v<f.marks.length;v++)t.allowsMarkType(f.marks[v].type)||n.step(new xr(c,p,f.marks[v]));if(i&&f.isText&&t.whitespace!="pre"){let v,b=/\r?\n|\r/g,w;for(;v=b.exec(f.text);)w||(w=new ie(te.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),l.push(new zt(c+v.index,c+v.index+v[0].length,w))}}c=p}if(!r.validEnd){let d=r.fillBefore(te.empty,!0);n.replace(c,c,new ie(d,0,0))}for(let d=l.length-1;d>=0;d--)n.step(l[d])}function Q5(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function rl(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,o=0;;--r){let l=n.$from.node(r),c=n.$from.index(r)+i,d=n.$to.indexAfter(r)-o;if(r<n.depth&&l.canReplace(c,d,t))return r;if(r==0||l.type.spec.isolating||!Q5(l,c,d))break;c&&(i=1),d<l.childCount&&(o=1)}return null}function Z5(n,e,t){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),c=i.after(o+1),d=l,f=c,p=te.empty,m=0;for(let w=o,E=!1;w>t;w--)E||r.index(w)>0?(E=!0,p=te.from(r.node(w).copy(p)),m++):d--;let v=te.empty,b=0;for(let w=o,E=!1;w>t;w--)E||i.after(w+1)<i.end(w)?(E=!0,v=te.from(i.node(w).copy(v)),b++):f++;n.step(new Bt(d,f,l,c,new ie(p.append(v),m,b),p.size-m,!0))}function m0(n,e,t=null,r=n){let i=eH(n,e),o=i&&tH(r,e);return o?i.map(qE).concat({type:e,attrs:t}).concat(o.map(qE)):null}function qE(n){return{type:n,attrs:null}}function eH(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return t.canReplaceWith(r,i,l)?o:null}function tH(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(t.child(f).type);return!d||!d.validEnd?null:l}function nH(n,e,t){let r=te.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let c=t[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=te.from(t[l].type.create(t[l].attrs,r))}let i=e.start,o=e.end;n.step(new Bt(i,o,i,o,new ie(r,0,0),t.length,!0))}function rH(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(l,c)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&iH(n.doc,n.mapping.slice(o).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!w?f=!1:!b&&w&&(f=!0)}f===!1&&gO(n,l,c,o),p0(n,n.mapping.slice(o).map(c,1),r,void 0,f===null);let p=n.mapping.slice(o),m=p.map(c,1),v=p.map(c+l.nodeSize,1);return n.step(new Bt(m,v,m+1,v-1,new ie(te.from(r.create(d,null,l.marks)),0,0),1,!0)),f===!0&&mO(n,l,c,o),!1}})}function mO(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let d=n.mapping.slice(r).map(t+1+o+l.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function gO(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(t+1+o);n.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function iH(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function sH(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let l=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,l);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Bt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ie(te.from(l),0,0),1,!0))}function mi(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=t-2;f>o;f--,p--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(v,m.childCount),w=r&&r[p+1];w&&(b=b.replaceChild(0,w.type.create(w.attrs)));let E=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!E.type.validContent(b))return!1}let c=i.indexAfter(o),d=r&&r[0];return i.node(o).canReplaceWith(c,c,d?d.type:i.node(o+1).type)}function oH(n,e,t=1,r){let i=n.doc.resolve(e),o=te.empty,l=te.empty;for(let c=i.depth,d=i.depth-t,f=t-1;c>d;c--,f--){o=te.from(i.node(c).copy(o));let p=r&&r[f];l=te.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}n.step(new zt(e,e,new ie(o.append(l),t,t),!0))}function Es(n,e){let t=n.resolve(e),r=t.index();return yO(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function aH(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(l),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function yO(n,e){return!!(n&&e&&!n.isLeaf&&aH(n,e))}function Nh(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,l,c=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):t>0?(o=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(o=r.node(i).maybeChild(c-1),l=r.node(i+1)),o&&!o.isTextblock&&yO(o,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function lH(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),l=o.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);gO(n,p.node(),p.before(),c)}l.inlineContent&&p0(n,e+t-1,l,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(c),f=d.map(e-t);if(n.step(new zt(f,d.map(e+t,-1),ie.empty,!0)),r===!0){let p=n.doc.resolve(f);mO(n,p.node(),p.before(),n.steps.length)}return n}function cH(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function vO(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),f=r.node(l),p=!1;if(o==1)p=f.canReplace(d,d,i);else{let m=f.contentMatchAt(d).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function Rh(n,e,t=e,r=ie.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return bO(i,o,r)?new zt(e,t,r):new uH(i,o,r).fit()}function bO(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class uH{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=te.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=te.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,c=i.depth;for(;l&&c&&o.childCount==1;)o=o.firstChild.content,l--,c--;let d=new ie(o,l,c);return e>-1?new Bt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new zt(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Hg(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],p,m=null;if(t==1&&(l?f.matchType(l.type)||(m=f.fillBefore(te.from(l),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:m};if(t==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Hg(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ie(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Hg(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new ie(oc(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new ie(oc(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:v}=this.frontier[t];if(i){for(let E=0;E<i.childCount;E++)p.push(i.child(E));m=m.matchFragment(i)}let b=c.size+e-(l.content.size-l.openEnd);for(;f<c.childCount;){let E=c.child(f),C=m.matchType(E.type);if(!C)break;f++,(f>1||d==0||E.content.size)&&(m=C,p.push(wO(E.mark(v.allowedMarks(E.marks)),f==1?d:0,f==c.childCount?b:-1)))}let w=f==c.childCount;w||(b=-1),this.placed=ac(this.placed,t,te.from(p)),this.frontier[t].match=m,w&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,C=c;E<b;E++){let T=C.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),C=T.content}this.unplaced=w?e==0?ie.empty:new ie(oc(l.content,e-1,1),e-1,b<0?l.openEnd:e-1):new ie(oc(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Vg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=Vg(e,t,i,r,o);if(l){for(let c=t-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],p=Vg(e,c,f,d,!0);if(!p||p.childCount)continue e}return{depth:t,fit:l,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ac(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ac(this.placed,this.depth,te.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(te.empty,!0);t.childCount&&(this.placed=ac(this.placed,this.frontier.length,t))}}function oc(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(oc(n.firstChild.content,e-1,t)))}function ac(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ac(n.lastChild.content,e-1,t)))}function Hg(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function wO(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,wO(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(te.empty,!0)))),n.copy(r)}function Vg(n,e,t,r,i){let o=n.node(e),l=i?n.indexAfter(e):n.index(e);if(l==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,l);return c&&!dH(t,o.content,l)?c:null}function dH(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function fH(n){return n.spec.defining||n.spec.definingForContent}function hH(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(bO(i,o,r))return n.step(new zt(e,t,r));let l=SO(i,o);l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let v=i.depth,b=i.pos-1;v>0;v--,b--){let w=i.node(v).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(v)>-1?c=v:i.before(v)==b&&l.splice(1,0,-v)}let d=l.indexOf(c),f=[],p=r.openStart;for(let v=r.content,b=0;;b++){let w=v.firstChild;if(f.push(w),b==r.openStart)break;v=w.content}for(let v=p-1;v>=0;v--){let b=f[v],w=fH(b.type);if(w&&!b.sameMarkup(i.node(Math.abs(c)-1)))p=v;else if(w||!b.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let b=(v+p+1)%(r.openStart+1),w=f[b];if(w)for(let E=0;E<l.length;E++){let C=l[(E+d)%l.length],T=!0;C<0&&(T=!1,C=-C);let A=i.node(C-1),O=i.index(C-1);if(A.canReplaceWith(O,O,w.type,w.marks))return n.replace(i.before(C),T?o.after(C):t,new ie(xO(r.content,0,r.openStart,b),b,r.openEnd))}}let m=n.steps.length;for(let v=l.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>m));v--){let b=l[v];b<0||(e=i.before(b),t=o.after(b))}}function xO(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(xO(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(n).append(n);n=l.append(o.matchFragment(l).fillBefore(te.empty,!0))}return n}function pH(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=cH(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ie(te.from(r),0,0))}function mH(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=SO(r,i);for(let l=0;l<o.length;l++){let c=o[l],d=l==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),i.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return n.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&i.end(l)-t!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return n.delete(r.before(l),t);n.delete(e,t)}function SO(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class La extends sn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return _t.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return _t.fromReplace(e,this.pos,this.pos+1,new ie(te.from(i),0,t.isLeaf?0:1))}getMap(){return Pn.empty}invert(e){return new La(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new La(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new La(t.pos,t.attr,t.value)}}sn.jsonID("attr",La);class Ic extends sn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return _t.ok(r)}getMap(){return Pn.empty}invert(e){return new Ic(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ic(t.attr,t.value)}}sn.jsonID("docAttr",Ic);let Ua=class extends Error{};Ua=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Ua.prototype=Object.create(Error.prototype);Ua.prototype.constructor=Ua;Ua.prototype.name="TransformError";class EO{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Lc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ua(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ie.empty){let i=Rh(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ie(te.from(r),0,0))}delete(e,t){return this.replace(e,t,ie.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return hH(this,e,t,r),this}replaceRangeWith(e,t,r){return pH(this,e,t,r),this}deleteRange(e,t){return mH(this,e,t),this}lift(e,t){return Z5(this,e,t),this}join(e,t=1){return lH(this,e,t),this}wrap(e,t){return nH(this,e,t),this}setBlockType(e,t=e,r,i=null){return rH(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return sH(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new La(e,t,r)),this}setDocAttribute(e,t){return this.step(new Ic(e,t)),this}addNodeMark(e,t){return this.step(new ss(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof et)t.isInSet(r.marks)&&this.step(new bo(e,t));else{let i=r.marks,o,l=[];for(;o=t.isInSet(i);)l.push(new bo(e,o)),i=o.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,t=1,r){return oH(this,e,t,r),this}addMark(e,t,r){return Y5(this,e,t,r),this}removeMark(e,t,r){return X5(this,e,t,r),this}clearIncompatible(e,t,r){return p0(this,e,t,r),this}}const qg=Object.create(null);class Me{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new gH(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ie.empty){let r=t.content.lastChild,i=null;for(let c=0;c<t.openEnd;c++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:f}=l[c],p=e.mapping.slice(o);e.replaceRange(p.map(d.pos),p.map(f.pos),c?ie.empty:t),c==0&&WE(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:c}=i[o],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(c.pos);o?e.deleteRange(f,p):(e.replaceRangeWith(f,p,t),WE(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Te(e):Ta(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=t<0?Ta(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Ta(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Bn(e.node(0))}static atStart(e){return Ta(e,e,0,0,1)||new Bn(e)}static atEnd(e){return Ta(e,e,e.content.size,e.childCount,-1)||new Bn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=qg[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in qg)throw new RangeError("Duplicate use of selection JSON ID "+e);return qg[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Te.between(this.$anchor,this.$head).getBookmark()}}Me.prototype.visible=!0;class gH{constructor(e,t){this.$from=e,this.$to=t}}let FE=!1;function KE(n){!FE&&!n.parent.inlineContent&&(FE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Te extends Me{constructor(e,t=e){KE(e),KE(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Me.near(r);let i=e.resolve(t.map(this.anchor));return new Te(i.parent.inlineContent?i:r,r)}replace(e,t=ie.empty){if(super.replace(e,t),t==ie.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Te&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Mh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Te(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=Me.findFrom(t,r,!0)||Me.findFrom(t,-r,!0);if(o)t=o.$head;else return Me.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Me.findFrom(e,-r,!0)||Me.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Te(e,t)}}Me.jsonID("text",Te);class Mh{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Mh(e.map(this.anchor),e.map(this.head))}resolve(e){return Te.between(e.resolve(this.anchor),e.resolve(this.head))}}class xe extends Me{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?Me.near(o):new xe(o)}content(){return new ie(te.from(this.node),0,0)}eq(e){return e instanceof xe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new g0(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new xe(e.resolve(t.anchor))}static create(e,t){return new xe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}xe.prototype.visible=!1;Me.jsonID("node",xe);class g0{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Mh(r,r):new g0(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&xe.isSelectable(r)?new xe(t):Me.near(t)}}class Bn extends Me{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ie.empty){if(t==ie.empty){e.delete(0,e.doc.content.size);let r=Me.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bn(e)}map(e){return new Bn(e)}eq(e){return e instanceof Bn}getBookmark(){return yH}}Me.jsonID("all",Bn);const yH={map(){return this},resolve(n){return new Bn(n)}};function Ta(n,e,t,r,i,o=!1){if(e.inlineContent)return Te.create(n,t);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!o&&xe.isSelectable(c))return xe.create(n,t-(i<0?c.nodeSize:0))}else{let d=Ta(n,c,t+i,i<0?c.childCount:0,i,o);if(d)return d}t+=c.nodeSize*i}return null}function WE(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof zt||i instanceof Bt))return;let o=n.mapping.maps[r],l;o.forEach((c,d,f,p)=>{l==null&&(l=p)}),n.setSelection(Me.near(n.doc.resolve(l),t))}const GE=1,Vd=2,JE=4;class vH extends EO{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|GE)&~Vd,this.storedMarks=null,this}get selectionSet(){return(this.updated&GE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Vd,this}ensureMarks(e){return et.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Vd)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Vd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||et.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(t);o=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(Me.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=JE,this}get scrolledIntoView(){return(this.updated&JE)>0}}function YE(n,e){return!e||!n?n:n.bind(e)}class lc{constructor(e,t,r){this.name=e,this.init=YE(t.init,r),this.apply=YE(t.apply,r)}}const bH=[new lc("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new lc("selection",{init(n,e){return n.selection||Me.atStart(e.doc)},apply(n){return n.selection}}),new lc("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new lc("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Fg{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bH.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new lc(r.key,r.spec.state,r))})}}class Na{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=i?i[l].n:0,f=i?i[l].state:this,p=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,f,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),o=!0}i&&(i[l]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Na(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new vH(this)}static create(e){let t=new Fg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Na(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Fg(this.schema,e.plugins),r=t.fields,i=new Na(t);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Fg(e.schema,e.plugins),o=new Na(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=ls.fromJSON(e.schema,t.doc);else if(l.name=="selection")o.selection=Me.fromJSON(o.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[l.name]=f.fromJSON.call(d,e,t[c],o);return}}o[l.name]=l.init(e,o)}}),o}}function CO(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=CO(i,e,{})),t[r]=i}return t}class ft{constructor(e){this.spec=e,this.props={},e.props&&CO(e.props,this,this.props),this.key=e.key?e.key.key:kO("plugin")}getState(e){return e[this.key]}}const Kg=Object.create(null);function kO(n){return n in Kg?n+"$"+ ++Kg[n]:(Kg[n]=0,n+"$")}class Dt{constructor(e="key"){this.key=kO(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const y0=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function TO(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const _O=(n,e,t)=>{let r=TO(n,t);if(!r)return!1;let i=v0(r);if(!i){let l=r.blockRange(),c=l&&rl(l);return c==null?!1:(e&&e(n.tr.lift(l,c).scrollIntoView()),!0)}let o=i.nodeBefore;if(IO(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Ha(o,"end")||xe.isSelectable(o)))for(let l=r.depth;;l--){let c=Rh(n.doc,r.before(l),r.after(l),ie.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(Ha(o,"end")?Me.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):xe.create(d.doc,i.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},wH=(n,e,t)=>{let r=TO(n,t);if(!r)return!1;let i=v0(r);return i?AO(n,i,e):!1},xH=(n,e,t)=>{let r=NO(n,t);if(!r)return!1;let i=b0(r);return i?AO(n,i,e):!1};function AO(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=Rh(n.doc,o,d,ie.empty);if(!f||f.from!=o||f instanceof zt&&f.slice.size>=d-o)return!1;if(t){let p=n.tr.step(f);p.setSelection(Te.create(p.doc,o)),t(p.scrollIntoView())}return!0}function Ha(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const OO=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=v0(r)}let l=o&&o.nodeBefore;return!l||!xe.isSelectable(l)?!1:(e&&e(n.tr.setSelection(xe.create(n.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function v0(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function NO(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const RO=(n,e,t)=>{let r=NO(n,t);if(!r)return!1;let i=b0(r);if(!i)return!1;let o=i.nodeAfter;if(IO(n,i,e,1))return!0;if(r.parent.content.size==0&&(Ha(o,"start")||xe.isSelectable(o))){let l=Rh(n.doc,r.before(),r.after(),ie.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=n.tr.step(l);c.setSelection(Ha(o,"start")?Me.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):xe.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},MO=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=b0(r)}let l=o&&o.nodeAfter;return!l||!xe.isSelectable(l)?!1:(e&&e(n.tr.setSelection(xe.create(n.doc,o.pos)).scrollIntoView()),!0)};function b0(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const SH=(n,e)=>{let t=n.selection,r=t instanceof xe,i;if(r){if(t.node.isTextblock||!Es(n.doc,t.from))return!1;i=t.from}else if(i=Nh(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(xe.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},EH=(n,e)=>{let t=n.selection,r;if(t instanceof xe){if(t.node.isTextblock||!Es(n.doc,t.to))return!1;r=t.to}else if(r=Nh(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},CH=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&rl(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},jO=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function w0(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const kH=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),l=w0(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,l.createAndFill());d.setSelection(Me.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},DO=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Bn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=w0(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=n.tr.insert(l,o.createAndFill());c.setSelection(Te.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},LO=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(mi(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&rl(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function TH(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof xe&&e.selection.node.isBlock)return!r.parentOffset||!mi(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,c,d=!1,f=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){d=r.end(b)==r.pos+(r.depth-b),f=r.start(b)==r.pos-(r.depth-b),c=w0(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),o.unshift(d&&c?{type:c}:null),l=b;break}else{if(b==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof Te||e.selection instanceof Bn)&&p.deleteSelection();let m=p.mapping.map(r.pos),v=mi(p.doc,m,o.length,o);if(v||(o[0]=c?{type:c}:null,v=mi(p.doc,m,o.length,o)),!v)return!1;if(p.split(m,o.length,o),!d&&f&&r.node(l).type!=c){let b=p.mapping.map(r.before(l)),w=p.doc.resolve(b);c&&r.node(l-1).canReplaceWith(w.index(),w.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return t&&t(p.scrollIntoView()),!0}}const _H=TH(),AH=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(xe.create(n.doc,i))),!0)};function OH(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Es(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function IO(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,l,c,d=i.type.spec.isolating||o.type.spec.isolating;if(!d&&OH(n,e,t))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&c.matchType(l[0]||o.type).validEnd){if(t){let b=e.pos+o.nodeSize,w=te.empty;for(let T=l.length-1;T>=0;T--)w=te.from(l[T].create(null,w));w=te.from(i.copy(w));let E=n.tr.step(new Bt(e.pos-1,b,e.pos,b,new ie(w,1,0),l.length,!0)),C=E.doc.resolve(b+2*l.length);C.nodeAfter&&C.nodeAfter.type==i.type&&Es(E.doc,C.pos)&&E.join(C.pos),t(E.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&d?null:Me.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&rl(m);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(m,v).scrollIntoView()),!0;if(f&&Ha(o,"start",!0)&&Ha(i,"end")){let b=i,w=[];for(;w.push(b),!b.isTextblock;)b=b.lastChild;let E=o,C=1;for(;!E.isTextblock;E=E.firstChild)C++;if(b.canReplace(b.childCount,b.childCount,E.content)){if(t){let T=te.empty;for(let O=w.length-1;O>=0;O--)T=te.from(w[O].copy(T));let A=n.tr.step(new Bt(e.pos-w.length,e.pos+o.nodeSize,e.pos+C,e.pos+o.nodeSize-C,new ie(T,w.length,0),0,!0));t(A.scrollIntoView())}return!0}}return!1}function PO(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Te.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const NH=PO(-1),RH=PO(1);function MH(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,l=i.blockRange(o),c=l&&m0(l,n,e);return c?(r&&r(t.tr.wrap(l,c).scrollIntoView()),!0):!1}}function XE(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(l,c,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)i=!0;else{let p=t.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[l];o.setBlockType(c,d,n,e)}r(o.scrollIntoView())}return!0}}function x0(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}x0(y0,_O,OO);x0(y0,RO,MO);x0(jO,DO,LO,_H);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jH(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,l=i.blockRange(o);if(!l)return!1;let c=r?t.tr:null;return DH(c,l,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function DH(n,e,t,r=null){let i=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);o=new Tf(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Tf(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=m0(o,t,r,e);return c?(n&&LH(n,e,c,i,t),!0):!1}function LH(n,e,t,r,i){let o=te.empty;for(let p=t.length-1;p>=0;p--)o=te.from(t[p].type.create(t[p].attrs,o));n.step(new Bt(e.start-(r?2:0),e.end,e.start,e.end,new ie(o,0,0),t.length,!0));let l=0;for(let p=0;p<t.length;p++)t[p].type==i&&(l=p+1);let c=t.length-l,d=e.start+t.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&mi(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return n}function IH(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?PH(e,t,n,o):zH(e,t,o):!0:!1}}function PH(n,e,t,r){let i=n.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new Bt(o-1,l,o,l,new ie(te.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Tf(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=rl(r);if(c==null)return!1;i.lift(r,c);let d=i.doc.resolve(i.mapping.map(o,-1)-1);return Es(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function zH(n,e,t){let r=n.tr,i=t.parent;for(let b=t.end,w=t.endIndex-1,E=t.startIndex;w>E;w--)b-=i.child(w).nodeSize,r.delete(b-1,b+1);let o=r.doc.resolve(t.start),l=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==i.childCount,f=o.node(-1),p=o.index(-1);if(!f.canReplace(p+(c?0:1),p+1,l.content.append(d?te.empty:te.from(i))))return!1;let m=o.pos,v=m+l.nodeSize;return r.step(new Bt(m-(c?1:0),v+(d?1:0),m+1,v-1,new ie((c?te.empty:te.from(i.copy(te.empty))).append(d?te.empty:te.from(i.copy(te.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function BH(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==n);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let c=o.parent,d=c.child(l-1);if(d.type!=n)return!1;if(t){let f=d.lastChild&&d.lastChild.type==c.type,p=te.from(f?n.create():null),m=new ie(te.from(n.create(null,te.from(c.type.create(null,p)))),f?3:1,0),v=o.start,b=o.end;t(e.tr.step(new Bt(v-(f?3:1),b,v,b,m,1,!0)).scrollIntoView())}return!0}}const Gt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Va=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Yy=null;const ui=function(n,e,t){let r=Yy||(Yy=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},$H=function(){Yy=null},wo=function(n,e,t,r){return t&&(QE(n,e,t,r,-1)||QE(n,e,t,r,1))},UH=/^(img|br|input|textarea|hr)$/i;function QE(n,e,t,r,i){for(var o;;){if(n==t&&e==r)return!0;if(e==(i<0?0:rr(n))){let l=n.parentNode;if(!l||l.nodeType!=1||tu(n)||UH.test(n.nodeName)||n.contentEditable=="false")return!1;e=Gt(n)+(i<0?0:1),n=l}else if(n.nodeType==1){let l=n.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else n=l,e=i<0?rr(n):0}else return!1}}function rr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function HH(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=rr(n)}else if(n.parentNode&&!tu(n))e=Gt(n),n=n.parentNode;else return null}}function VH(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!tu(n))e=Gt(n)+1,n=n.parentNode;else return null}}function qH(n,e,t){for(let r=e==0,i=e==rr(n);r||i;){if(n==t)return!0;let o=Gt(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==rr(n)}}function tu(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const jh=function(n){return n.focusNode&&wo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Zs(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function FH(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function KH(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(rr(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(rr(r.startContainer),r.startOffset)}}}const Ir=typeof navigator<"u"?navigator:null,ZE=typeof document<"u"?document:null,Cs=Ir&&Ir.userAgent||"",Xy=/Edge\/(\d+)/.exec(Cs),zO=/MSIE \d/.exec(Cs),Qy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cs),xn=!!(zO||Qy||Xy),us=zO?document.documentMode:Qy?+Qy[1]:Xy?+Xy[1]:0,ar=!xn&&/gecko\/(\d+)/i.test(Cs);ar&&+(/Firefox\/(\d+)/.exec(Cs)||[0,0])[1];const Zy=!xn&&/Chrome\/(\d+)/.exec(Cs),tn=!!Zy,BO=Zy?+Zy[1]:0,un=!xn&&!!Ir&&/Apple Computer/.test(Ir.vendor),qa=un&&(/Mobile\/\w+/.test(Cs)||!!Ir&&Ir.maxTouchPoints>2),tr=qa||(Ir?/Mac/.test(Ir.platform):!1),WH=Ir?/Win/.test(Ir.platform):!1,hi=/Android \d/.test(Cs),nu=!!ZE&&"webkitFontSmoothing"in ZE.documentElement.style,GH=nu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function JH(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function si(n,e){return typeof n=="number"?n:n[e]}function YH(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function eC(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let l=t||n.dom;l;){if(l.nodeType!=1){l=Va(l);continue}let c=l,d=c==o.body,f=d?JH(o):YH(c),p=0,m=0;if(e.top<f.top+si(r,"top")?m=-(f.top-e.top+si(i,"top")):e.bottom>f.bottom-si(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+si(i,"top")-f.top:e.bottom-f.bottom+si(i,"bottom")),e.left<f.left+si(r,"left")?p=-(f.left-e.left+si(i,"left")):e.right>f.right-si(r,"right")&&(p=e.right-f.right+si(i,"right")),p||m)if(d)o.defaultView.scrollBy(p,m);else{let b=c.scrollLeft,w=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let E=c.scrollLeft-b,C=c.scrollTop-w;e={left:e.left-E,top:e.top-C,right:e.right-E,bottom:e.bottom-C}}let v=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:Va(l)}}function XH(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=n.root.elementFromPoint(o,l);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,i=d.top;break}}return{refDOM:r,refTop:i,stack:$O(n.dom)}}function $O(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Va(r));return e}function QH({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;UO(t,r==0?0:r-e)}function UO(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let wa=null;function ZH(n){if(n.setActive)return n.setActive();if(wa)return n.focus(wa);let e=$O(n);n.focus(wa==null?{get preventScroll(){return wa={preventScroll:!0},!0}}:void 0),wa||(wa=!1,UO(e,0))}function HO(n,e){let t,r=2e8,i,o=0,l=e.top,c=e.top,d,f;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=ui(p).getClientRects();else continue;for(let b=0;b<v.length;b++){let w=v[b];if(w.top<=l&&w.bottom>=c){l=Math.max(w.bottom,l),c=Math.min(w.top,c);let E=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(E<r){t=p,r=E,i=E&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&E&&(o=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=p,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=m+1)}}return!t&&d&&(t=d,i=f,r=0),t&&t.nodeType==3?eV(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:HO(t,i)}function eV(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Xi(r,1);if(o.top!=o.bottom&&S0(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function S0(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function tV(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function nV(n,e,t){let{node:r,offset:i}=HO(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function rV(n,e,t,r){let i=-1;for(let o=e,l=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function VO(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let l=n.childNodes[o];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(S0(e,f))return VO(l,e,f)}}if((o=(o+1)%r)==i)break}return n}function iV(n,e){let t=n.dom.ownerDocument,r,i=0,o=KH(t,e.left,e.top);o&&({node:r,offset:i}=o);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=n.dom.getBoundingClientRect();if(!S0(e,f)||(l=VO(n.dom,e,f),!l))return null}if(un)for(let f=l;r&&f;f=Va(f))f.draggable&&(r=void 0);if(l=tV(l,e),r){if(ar&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;nu&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=rV(n,r,i,e))}c==null&&(c=nV(n,l,e));let d=n.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function tC(n){return n.top<n.bottom||n.left<n.right}function Xi(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(tC(r))return r}return Array.prototype.find.call(t,tC)||n.getBoundingClientRect()}const sV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function qO(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),l=nu||ar;if(r.nodeType==3)if(l&&(sV.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let d=Xi(ui(r,i,i),t);if(ar&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Xi(ui(r,i-1,i-1),-1);if(f.top==d.top){let p=Xi(ui(r,i,i+1),-1);if(p.top!=d.top)return nc(p,p.left<f.left)}}return d}else{let d=i,f=i,p=t<0?1:-1;return t<0&&!i?(f++,p=-1):t>=0&&i==r.nodeValue.length?(d--,p=1):t<0?d--:f++,nc(Xi(ui(r,d,f),p),p<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==rr(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return Wg(d.getBoundingClientRect(),!1)}if(o==null&&i<rr(r)){let d=r.childNodes[i];if(d.nodeType==1)return Wg(d.getBoundingClientRect(),!0)}return Wg(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==rr(r))){let d=r.childNodes[i-1],f=d.nodeType==3?ui(d,rr(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return nc(Xi(f,1),!1)}if(o==null&&i<rr(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?ui(d,0,l?0:1):d.nodeType==1?d:null:null;if(f)return nc(Xi(f,-1),!0)}return nc(Xi(r.nodeType==3?ui(r):r,-t),t>=0)}function nc(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Wg(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function FO(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function oV(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return FO(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let l=qO(n,i.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=ui(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(t=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const aV=/[\u0590-\u08ac]/;function lV(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,c=n.domSelection();return c?!aV.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:l:FO(n,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:w,focusOffset:E}=n.domSelectionRange(),C=w&&!b.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==E;try{c.collapse(p,m),d&&(d!=p||f!=m)&&c.extend&&c.extend(d,f)}catch{}return v!=null&&(c.caretBidiLevel=v),C}):r.pos==r.start()||r.pos==r.end()}let nC=null,rC=null,iC=!1;function cV(n,e,t){return nC==e&&rC==t?iC:(nC=e,rC=t,iC=t=="up"||t=="down"?oV(n,e,t):lV(n,e,t))}const lr=0,sC=1,to=2,Pr=3;class ru{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=lr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Gt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!t||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],c=o+l.size;if(c>e||l instanceof WO){i=e-o;break}o=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof KO&&o.side>=0;r--);if(t<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&t&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Gt(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Gt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,c=0;;c++){let d=this.children[c],f=l+d.size;if(i==-1&&e<=f){let p=l+d.border;if(e>=p&&t<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,p);e=l;for(let m=c;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=Gt(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>t||c==this.children.length-1)){t=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=Gt(m.dom);break}t+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),l=Math.max(e,t);for(let b=0,w=0;b<this.children.length;b++){let E=this.children[b],C=w+E.size;if(o>w&&l<C)return E.setSelection(e-w-E.border,t-w-E.border,r,i);w=C}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((ar||un)&&e==t){let{node:b,offset:w}=c;if(b.nodeType==3){if(m=!!(w&&b.nodeValue[w-1]==`
`),m&&w==b.nodeValue.length)for(let E=b,C;E;E=E.parentNode){if(C=E.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:Gt(C)+1});break}let T=E.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let E=b.childNodes[w-1];m=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(ar&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||m&&un)&&wo(c.node,c.offset,p.anchorNode,p.anchorOffset)&&wo(d.node,d.offset,p.focusNode,p.focusOffset))return;let v=!1;if((f.extend||e==t)&&!(m&&ar)){f.collapse(c.node,c.offset);try{e!=t&&f.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>t){let w=c;c=d,d=w}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let c=r+o.border,d=l-o.border;if(e>=c&&t<=d){this.dirty=e==r||t==l?to:sC,e==c&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Pr:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?to:Pr}r=l}this.dirty=to}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?to:sC;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class KO extends ru{constructor(e,t,r,i){let o,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==lr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class uV extends ru{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xo extends ru{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],l=o&&o(t,i,r);return(!l||!l.dom)&&(l=Co.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new xo(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Pr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Pr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=lr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=lr}}slice(e,t,r){let i=xo.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;t<l&&(o=tv(o,t,l,r)),e>0&&(o=tv(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ds extends ru{constructor(e,t,r,i,o,l,c,d,f){super(e,[],o,l),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,t,r,i,o,l){let c=o.nodeViews[t.type.name],d,f=c&&c(t,o,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Co.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=YO(p,r,t),f?d=new dV(e,t,r,i,p,m||null,v,f,o,l+1):t.isText?new Dh(e,t,r,i,p,v,o):new ds(e,t,r,i,p,m||null,v,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>te.empty)}return e}matchesNode(e,t,r){return this.dirty==lr&&e.eq(this.node)&&Af(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,l=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new hV(this,l&&l.node,e);gV(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?et.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,i)},(f,p,m,v)=>{d.syncToMarks(f.marks,r,e);let b;d.findNodeMatch(f,p,m,v)||c&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(b=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(f,p,m,b,e)||d.updateNextNode(f,p,m,e,v,i)||d.addNode(f,p,m,e,i),i+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==to)&&(l&&this.protectLocalComposition(e,l),GO(this.contentDOM,this.children,e),qa&&yV(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Te)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=vV(this.node.content,l,r-t,i-t);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new uV(this,o,t,i);e.input.compositionNodes.push(l),this.children=tv(this.children,r,r+i.length,e,l)}update(e,t,r,i){return this.dirty==Pr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=lr}updateOuterDeco(e){if(Af(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=JO(this.dom,this.nodeDOM,ev(this.outerDeco,this.node,t),ev(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function oC(n,e,t,r,i){YO(r,e,n);let o=new ds(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Dh extends ds{constructor(e,t,r,i,o,l,c){super(e,t,r,i,o,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Pr||this.dirty!=lr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=lr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=lr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new Dh(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Pr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class WO extends ru{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==lr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class dV extends ds{constructor(e,t,r,i,o,l,c,d,f,p){super(e,t,r,i,o,l,c,f,p),this.spec=d}update(e,t,r,i){if(this.dirty==Pr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function GO(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],c=l.dom;if(c.parentNode==n){for(;c!=r;)r=aC(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(c,r);if(l instanceof xo){let d=r?r.previousSibling:n.lastChild;GO(l.contentDOM,l.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=aC(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const mc=function(n){n&&(this.nodeName=n)};mc.prototype=Object.create(null);const no=[new mc];function ev(n,e,t){if(n.length==0)return no;let r=t?no[0]:new mc,i=[r];for(let o=0;o<n.length;o++){let l=n[o].type.attrs;if(l){l.nodeName&&i.push(r=new mc(l.nodeName));for(let c in l){let d=l[c];d!=null&&(t&&i.length==1&&i.push(r=new mc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return i}function JO(n,e,t,r){if(t==no&&r==no)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],c=t[o];if(o){let d;c&&c.nodeName==l.nodeName&&i!=n&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),c=no[0]),i=d}fV(i,c||no[0],l)}return i}function fV(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function YO(n,e,t){return JO(n,n,no,ev(e,t,n.nodeType!=1))}function Af(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function aC(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class hV{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=pV(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=lr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=xo.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))o=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let l=this.top.children[i];return l.dirty==Pr&&l.dom==l.contentDOM&&(l.dirty=to),l.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof ds){let f=this.preMatch.matched.get(d);if(f!=null&&f!=o)return!1;let p=d.dom,m,v=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Pr&&Af(t,d.outerDeco));if(!v&&d.update(e,t,r,i))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(d,e,t,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=to,m.updateChildren(i,l+1),m.dirty=lr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Af(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=ds.create(this.top,t,r,i,o,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,i,o){let l=ds.create(this.top,e,t,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new KO(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xo;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Dh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((un||tn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new WO(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function pV(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let f=t.children[r-1];if(f instanceof xo)t=f,r=f.children.length;else{c=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(i-1))break;--i,o.set(c,i),l.push(c)}}return{index:i,matched:o,matches:l.reverse()}}function mV(n,e){return n.type.side-e.type.side}function gV(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let f=0;f<n.childCount;f++){let p=n.child(f);r(p,i,e.forChild(o,p),f),o+=p.nodeSize}return}let l=0,c=[],d=null;for(let f=0;;){let p,m;for(;l<i.length&&i[l].to==o;){let C=i[l++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(mV);for(let C=0;C<m.length;C++)t(m[C],f,!!d)}else t(p,f,!!d);let v,b;if(d)b=-1,v=d,d=null;else if(f<n.childCount)b=f,v=n.child(f++);else break;for(let C=0;C<c.length;C++)c[C].to<=o&&c.splice(C--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);let w=o+v.nodeSize;if(v.isText){let C=w;l<i.length&&i[l].from<C&&(C=i[l].from);for(let T=0;T<c.length;T++)c[T].to<C&&(C=c[T].to);C<w&&(d=v.cut(C-o),v=v.cut(0,C-o),w=C,b=-1)}else for(;l<i.length&&i[l].to<w;)l++;let E=v.isInline&&!v.isLeaf?c.filter(C=>!C.inline):c.slice();r(v,E,e.forChild(o,v),b),o=w}}function yV(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function vV(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let l=n.child(i++),c=o;if(o+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<n.childCount;){let f=n.child(i++);if(o+=f.nodeSize,!f.isText)break;d+=f.text}if(o>=t){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=t)return c+f;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function tv(n,e,t,r,i){let o=[];for(let l=0,c=0;l<n.length;l++){let d=n[l],f=c,p=c+=d.size;f>=t||p<=e?o.push(d):(f<e&&o.push(d.slice(0,e-f,r)),i&&(o.push(i),i=void 0),p>t&&o.push(d.slice(t-f,d.size,r)))}return o}function E0(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,f;if(jh(t)){for(d=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&xe.isSelectable(m)&&i.parent&&!(m.isInline&&qH(t.focusNode,t.focusOffset,i.dom))){let v=i.posBefore;f=new xe(l==v?c:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=l,v=l;for(let b=0;b<t.rangeCount;b++){let w=t.getRangeAt(b);m=Math.min(m,n.docView.posFromDOM(w.startContainer,w.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[d,l]=v==n.state.selection.anchor?[v,m]:[m,v],c=r.resolve(l)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;f=C0(n,p,c,m)}return f}function XO(n){return n.editable?n.hasFocus():ZO(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function gi(n,e=!1){let t=n.state.selection;if(QO(n,t),!!XO(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&tn){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&wo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)wV(n);else{let{anchor:r,head:i}=t,o,l;lC&&!(t instanceof Te)&&(t.$from.parent.inlineContent||(o=cC(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=cC(n,t.to))),n.docView.setSelection(r,i,n,e),lC&&(o&&uC(o),l&&uC(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&bV(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const lC=un||tn&&BO<63;function cC(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(un&&i&&i.contentEditable=="false")return Gg(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Gg(i);if(o)return Gg(o)}}function Gg(n){return n.contentEditable="true",un&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function uC(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function bV(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!XO(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function wV(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Gt(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&xn&&us<=11&&(t.disabled=!0,t.disabled=!1)}function QO(n,e){if(e instanceof xe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(dC(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else dC(n)}function dC(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function C0(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Te.between(e,t,r)}function fC(n){return n.editable&&!n.hasFocus()?!1:ZO(n)}function ZO(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function xV(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return wo(e.node,e.offset,t.anchorNode,t.anchorOffset)}function nv(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Me.findFrom(o,e)}function Qi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function hC(n,e,t){let r=n.state.selection;if(r instanceof Te)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Qi(n,new Te(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=nv(n.state,e);return i&&i instanceof xe?Qi(n,i):!1}else if(!(tr&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let c=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=n.docView.descAt(c))&&!l.contentDOM?xe.isSelectable(o)?Qi(n,new xe(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):nu?Qi(n,new Te(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof xe&&r.node.isInline)return Qi(n,new Te(e>0?r.$to:r.$from));{let i=nv(n.state,e);return i?Qi(n,i):!1}}}function Of(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function gc(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function xa(n,e){return e<0?SV(n):EV(n)}function SV(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,l=!1;for(ar&&t.nodeType==1&&r<Of(t)&&gc(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(gc(c,-1))i=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(eN(t))break;{let c=t.previousSibling;for(;c&&gc(c,-1);)i=t.parentNode,o=Gt(c),c=c.previousSibling;if(c)t=c,r=Of(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?rv(n,t,r):i&&rv(n,i,o)}function EV(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Of(t),o,l;for(;;)if(r<i){if(t.nodeType!=1)break;let c=t.childNodes[r];if(gc(c,1))o=t,l=++r;else break}else{if(eN(t))break;{let c=t.nextSibling;for(;c&&gc(c,1);)o=c.parentNode,l=Gt(c)+1,c=c.nextSibling;if(c)t=c,r=0,i=Of(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&rv(n,o,l)}function eN(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function CV(n,e){for(;n&&e==n.childNodes.length&&!tu(n);)e=Gt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function kV(n,e){for(;n&&!e&&!tu(n);)e=Gt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function rv(n,e,t){if(e.nodeType!=3){let o,l;(l=CV(e,t))?(e=l,t=0):(o=kV(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(jh(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&gi(n)},50)}function pC(n,e){let t=n.state.doc.resolve(e);if(!(tn||WH)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function mC(n,e,t){let r=n.state.selection;if(r instanceof Te&&!r.empty||t.indexOf("s")>-1||tr&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=nv(n.state,e);if(l&&l instanceof xe)return Qi(n,l)}if(!i.parent.inlineContent){let l=e<0?i:o,c=r instanceof Bn?Me.near(l,e):Me.findFrom(l,e);return c?Qi(n,c):!1}return!1}function gC(n,e){if(!(n.state.selection instanceof Te))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let l=n.state.tr;return e<0?l.delete(t.pos-o.nodeSize,t.pos):l.delete(t.pos,t.pos+o.nodeSize),n.dispatch(l),!0}return!1}function yC(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function TV(n){if(!un||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;yC(n,r,"true"),setTimeout(()=>yC(n,r,"false"),20)}return!1}function _V(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function AV(n,e){let t=e.keyCode,r=_V(e);if(t==8||tr&&t==72&&r=="c")return gC(n,-1)||xa(n,-1);if(t==46&&!e.shiftKey||tr&&t==68&&r=="c")return gC(n,1)||xa(n,1);if(t==13||t==27)return!0;if(t==37||tr&&t==66&&r=="c"){let i=t==37?pC(n,n.state.selection.from)=="ltr"?-1:1:-1;return hC(n,i,r)||xa(n,i)}else if(t==39||tr&&t==70&&r=="c"){let i=t==39?pC(n,n.state.selection.from)=="ltr"?1:-1:1;return hC(n,i,r)||xa(n,i)}else{if(t==38||tr&&t==80&&r=="c")return mC(n,-1,r)||xa(n,-1);if(t==40||tr&&t==78&&r=="c")return TV(n)||mC(n,1,r)||xa(n,1);if(r==(tr?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function k0(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let l=n.someProp("clipboardSerializer")||Co.fromSchema(n.state.schema),c=oN(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=sN[f.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let w=c.createElement(p[b]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function tN(n,e,t,r,i){let o=i.parent.type.spec.code,l,c;if(!t&&!e)return null;let d=!!e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",v=>{e=v(e,o||r,n)}),o)return c=new ie(te.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",v=>{c=v(c,n,!0)}),c;let m=n.someProp("clipboardTextParser",v=>v(e,i,r,n));if(m)c=m;else{let v=i.marks(),{schema:b}=n.state,w=Co.fromSchema(b);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let C=l.appendChild(document.createElement("p"));E&&C.appendChild(w.serializeNode(b.text(E,v)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),l=MV(t),nu&&jV(l);let f=l&&l.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||cs.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!OV.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=DV(vC(c,+p[1],+p[2]),p[4]);else if(c=ie.maxOpen(NV(c.content,i),!0),c.openStart||c.openEnd){let m=0,v=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;v<c.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);c=vC(c,m,v)}return n.someProp("transformPasted",m=>{c=m(c,n,d)}),c}const OV=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function NV(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,l=[];if(n.forEach(c=>{if(!l)return;let d=i.findWrapping(c.type),f;if(!d)return l=null;if(f=l.length&&o.length&&rN(d,o,c,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=iN(l[l.length-1],o.length));let p=nN(c,d);l.push(p),i=i.matchType(p.type),o=d}}),l)return te.from(l)}return n}function nN(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,te.from(n));return n}function rN(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=rN(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(te.from(nN(t,n,i+1))))}}function iN(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,iN(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(te.empty,!0);return n.copy(t.append(r))}function iv(n,e,t,r,i,o){let l=e<0?n.firstChild:n.lastChild,c=l.content;return n.childCount>1&&(o=0),i<r-1&&(c=iv(c,e,t,r,i+1,o)),i>=t&&(c=e<0?l.contentMatchAt(0).fillBefore(c,o<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(te.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(c))}function vC(n,e,t){return e<n.openStart&&(n=new ie(iv(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ie(iv(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const sN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bC=null;function oN(){return bC||(bC=document.implementation.createHTMLDocument("title"))}let Jg=null;function RV(n){let e=window.trustedTypes;return e?(Jg||(Jg=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Jg.createHTML(n)):n}function MV(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=oN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&sN[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=RV(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function jV(n){let e=n.querySelectorAll(tn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function DV(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:l}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;i=te.from(d.create(r[c+1],i)),o++,l++}return new ie(i,o,l)}const dn={},fn={},LV={touchstart:!0,touchmove:!0};class IV{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function PV(n){for(let e in dn){let t=dn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{BV(n,r)&&!T0(n,r)&&(n.editable||!(r.type in fn))&&t(n,r)},LV[e]?{passive:!0}:void 0)}un&&n.dom.addEventListener("input",()=>null),sv(n)}function as(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function zV(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function sv(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>T0(n,r))})}function T0(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function BV(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function $V(n,e){!T0(n,e)&&dn[e.type]&&(n.editable||!(e.type in fn))&&dn[e.type](n,e)}fn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!lN(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(hi&&tn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),qa&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Zs(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||AV(n,t)?t.preventDefault():as(n,"key")};fn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};fn.keypress=(n,e)=>{let t=e;if(lN(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||tr&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Te)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,i,o))&&n.dispatch(o()),t.preventDefault()}};function Lh(n){return{left:n.clientX,top:n.clientY}}function UV(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function _0(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(n.someProp(e,c=>l>o.depth?c(n,t,o.nodeAfter,o.before(l),i,!0):c(n,t,o.node(l),o.before(l),i,!1)))return!0;return!1}function Ia(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function HV(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&xe.isSelectable(r)?(Ia(n,new xe(t)),!0):!1}function VV(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof xe&&(r=t.node);let o=n.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l);if(xe.isSelectable(c)){r&&t.$from.depth>0&&l>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(l);break}}return i!=null?(Ia(n,xe.create(n.state.doc,i)),!0):!1}function qV(n,e,t,r,i){return _0(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?VV(n,t):HV(n,t))}function FV(n,e,t,r){return _0(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function KV(n,e,t,r){return _0(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||WV(n,t,r)}function WV(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ia(n,Te.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),c=i.before(o);if(l.inlineContent)Ia(n,Te.create(r,c+1,c+1+l.content.size));else if(xe.isSelectable(l))Ia(n,xe.create(r,c));else continue;return!0}}function A0(n){return Nf(n)}const aN=tr?"metaKey":"ctrlKey";dn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=A0(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&UV(t,n.input.lastClick)&&!t[aN]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o,button:t.button};let l=n.posAtCoords(Lh(t));l&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new GV(n,l,t,!!r)):(o=="doubleClick"?FV:KV)(n,l.pos,l.inside,t)?t.preventDefault():as(n,"pointer"))};class GV{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[aN],this.allowDefault=r.shiftKey;let o,l;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),l=t.inside;else{let p=e.state.doc.resolve(t.pos);o=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof xe&&f.from<=l&&f.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ar&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),as(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>gi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Lh(e))),this.updateAllowDefault(e),this.allowDefault||!t?as(this.view,"pointer"):qV(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||un&&this.mightDrag&&!this.mightDrag.node.isAtom||tn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ia(this.view,Me.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):as(this.view,"pointer")}move(e){this.updateAllowDefault(e),as(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dn.touchstart=n=>{n.input.lastTouch=Date.now(),A0(n),as(n,"pointer")};dn.touchmove=n=>{n.input.lastTouch=Date.now(),as(n,"pointer")};dn.contextmenu=n=>A0(n);function lN(n,e){return n.composing?!0:un&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const JV=hi?5e3:-1;fn.compositionstart=fn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Te&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Nf(n,!0),n.markCursor=null;else if(Nf(n,!e.selection.empty),ar&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let c=n.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}n.input.composing=!0}cN(n,JV)};fn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,cN(n,20))};function cN(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Nf(n),e))}function uN(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=XV());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function YV(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=HH(e.focusNode,e.focusOffset),r=VH(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return r}}return t||r}function XV(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Nf(n,e=!1){if(!(hi&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),uN(n),e||n.docView&&n.docView.dirty){let t=E0(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function QV(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Pc=xn&&us<15||qa&&GH<604;dn.copy=fn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Pc?null:t.clipboardData,l=r.content(),{dom:c,text:d}=k0(n,l);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):QV(n,c),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ZV(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function e6(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?zc(n,r.value,null,i,e):zc(n,r.textContent,r.innerHTML,i,e)},50)}function zc(n,e,t,r,i){let o=tN(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,i,o||ie.empty)))return!0;if(!o)return!1;let l=ZV(o),c=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function dN(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}fn.paste=(n,e)=>{let t=e;if(n.composing&&!hi)return;let r=Pc?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&zc(n,dN(r),r.getData("text/html"),i,t)?t.preventDefault():e6(n,t)};class fN{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const t6=tr?"altKey":"ctrlKey";function hN(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[t6]}dn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(Lh(t)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof xe?i.to-1:i.to))){if(r&&r.mightDrag)l=xe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(l=xe.create(n.state.doc,m.posBefore))}}let c=(l||n.state.selection).content(),{dom:d,text:f,slice:p}=k0(n,c);(!t.dataTransfer.files.length||!tn||BO>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Pc?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",Pc||t.dataTransfer.setData("text/plain",f),n.dragging=new fN(p,hN(n,t),l)};dn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};fn.dragover=fn.dragenter=(n,e)=>e.preventDefault();fn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Lh(t));if(!i)return;let o=n.state.doc.resolve(i.pos),l=r&&r.slice;l?n.someProp("transformPasted",w=>{l=w(l,n,!1)}):l=tN(n,dN(t.dataTransfer),Pc?null:t.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&hN(n,t));if(n.someProp("handleDrop",w=>w(n,t,l||ie.empty,c))){t.preventDefault();return}if(!l)return;t.preventDefault();let d=l?vO(n.state.doc,o.pos,l):o.pos;d==null&&(d=o.pos);let f=n.state.tr;if(c){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=f.doc;if(m?f.replaceRangeWith(p,p,l.content.firstChild):f.replaceRange(p,p,l),f.doc.eq(v))return;let b=f.doc.resolve(p);if(m&&xe.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new xe(b));else{let w=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((E,C,T,A)=>w=A),f.setSelection(C0(n,b,f.doc.resolve(w)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};dn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&gi(n)},20))};dn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};dn.beforeinput=(n,e)=>{if(tn&&hi&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Zs(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in fn)dn[n]=fn[n];function Bc(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Rf{constructor(e,t){this.toDOM=e,this.spec=t||ao,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:l}=e.mapResult(t.from+i,this.side<0?-1:1);return l?null:new cn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Rf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class fs{constructor(e,t){this.attrs=e,this.spec=t||ao}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new cn(o,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof fs&&Bc(this.attrs,e.attrs)&&Bc(this.spec,e.spec)}static is(e){return e.type instanceof fs}destroy(){}}class O0{constructor(e,t){this.attrs=e,this.spec=t||ao}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let l=e.mapResult(t.to+i,-1);return l.deleted||l.pos<=o.pos?null:new cn(o.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof O0&&Bc(this.attrs,e.attrs)&&Bc(this.spec,e.spec)}destroy(){}}class cn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new cn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new cn(e,e,new Rf(t,r))}static inline(e,t,r,i){return new cn(e,t,new fs(r,i))}static node(e,t,r,i){return new cn(e,t,new O0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof fs}get widget(){return this.type instanceof Rf}}const _a=[],ao={};class dt{constructor(e,t){this.local=e.length?e:_a,this.children=t.length?t:_a}static create(e,t){return t.length?Mf(t,e,0,ao):Zt}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,t-c,r,i+c,o)}}map(e,t,r){return this==Zt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ao)}mapInner(e,t,r,i,o){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,i);d&&d.type.valid(t,d)?(l||(l=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?n6(this.children,l||[],e,t,r,i,o):l?new dt(l.sort(lo),_a):Zt}add(e,t){return t.length?this==Zt?dt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((c,d)=>{let f=d+r,p;if(p=mN(t,c,f)){for(i||(i=this.children.slice());o<i.length&&i[o]<d;)o+=3;i[o]==d?i[o+2]=i[o+2].addInner(c,p,f+1):i.splice(o,0,d,d+c.nodeSize,Mf(p,c,f+1,ao)),o+=3}});let l=pN(o?gN(t):t,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new dt(l.length?this.local.concat(l).sort(lo):this.local,i||this.children)}remove(e){return e.length==0||this==Zt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,c=r[o]+t,d=r[o+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(l,c+1);f!=Zt?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let c=0;c<i.length;c++)i[c].eq(l,t)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new dt(i,r):Zt}forChild(e,t){if(this==Zt)return this;if(t.isLeaf)return dt.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,l=o+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>o&&d.type instanceof fs){let f=Math.max(o,d.from)-o,p=Math.min(l,d.to)-o;f<p&&(i||(i=[])).push(d.copy(f,p))}}if(i){let c=new dt(i.sort(lo),_a);return r?new ns([c,r]):c}return r||Zt}eq(e){if(this==e)return!0;if(!(e instanceof dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return N0(this.localsInner(e))}localsInner(e){if(this==Zt)return _a;if(e.inlineContent||!this.local.some(fs.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof fs||t.push(this.local[r]);return t}forEachSet(e){e(this)}}dt.empty=new dt([],[]);dt.removeOverlap=N0;const Zt=dt.empty;class ns{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,ao));return ns.from(r)}forChild(e,t){if(t.isLeaf)return dt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=Zt&&(o instanceof ns?r=r.concat(o.members):r.push(o))}return ns.from(r)}eq(e){if(!(e instanceof ns)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let l=0;l<o.length;l++)t.push(o[l])}}return t?N0(r?t:t.sort(lo)):_a}static from(e){switch(e.length){case 0:return Zt;case 1:return e[0];default:return new ns(e.every(t=>t instanceof dt)?e:e.reduce((t,r)=>t.concat(r instanceof dt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function n6(n,e,t,r,i,o,l){let c=n.slice();for(let f=0,p=o;f<t.maps.length;f++){let m=0;t.maps[f].forEach((v,b,w,E)=>{let C=E-w-(b-v);for(let T=0;T<c.length;T+=3){let A=c[T+1];if(A<0||v>A+p-m)continue;let O=c[T]+p-m;b>=O?c[T+1]=v<=O?-2:-1:v>=p&&C&&(c[T]+=C,c[T+1]+=C)}m+=C}),p=t.maps[f].map(p,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let p=t.map(n[f]+o),m=p-i;if(m<0||m>=r.content.size){d=!0;continue}let v=t.map(n[f+1]+o,-1),b=v-i,{index:w,offset:E}=r.content.findIndex(m),C=r.maybeChild(w);if(C&&E==m&&E+C.nodeSize==b){let T=c[f+2].mapInner(t,C,p+1,n[f]+o+1,l);T!=Zt?(c[f]=m,c[f+1]=b,c[f+2]=T):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=r6(c,n,e,t,i,o,l),p=Mf(f,r,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let b=p.children[m];for(;v<c.length&&c[v]<b;)v+=3;c.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new dt(e.sort(lo),c)}function pN(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new cn(i.from+e,i.to+e,i.type))}return t}function r6(n,e,t,r,i,o,l){function c(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,i,f);m?t.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+o+1);return t}function mN(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,l;o<n.length;o++)(l=n[o])&&l.from>t&&l.to<r&&((i||(i=[])).push(l),n[o]=null);return i}function gN(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Mf(n,e,t,r){let i=[],o=!1;e.forEach((c,d)=>{let f=mN(n,c,d+t);if(f){o=!0;let p=Mf(f,c,t+d+1,r);p!=Zt&&i.push(d,d+c.nodeSize,p)}});let l=pN(o?gN(n):n,-t).sort(lo);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new dt(l,i):Zt}function lo(n,e){return n.from-e.from||n.to-e.to}function N0(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),wC(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),wC(e,i,r.copy(o.from,r.to)));break}}}return e}function wC(n,e,t){for(;e<n.length&&lo(t,n[e])>0;)e++;n.splice(e,0,t)}function Yg(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Zt&&e.push(r)}),n.cursorWrapper&&e.push(dt.create(n.state.doc,[n.cursorWrapper.deco])),ns.from(e)}const i6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},s6=xn&&us<=11;class o6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class a6{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new o6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);xn&&us<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),s6&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,i6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(fC(this.view)){if(this.suppressingSelectionUpdates)return gi(this.view);if(xn&&us<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&wo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Va(o))t.add(o);for(let o=e.anchorNode;o;o=Va(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&fC(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,c=!1,d=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],d);m&&(o=o<0?m.from:Math.min(m.from,o),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(ar&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let b=v.parentNode;b&&b.nodeName=="LI"&&(!m||u6(e,m)!=b)&&v.remove()}}}let f=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&jh(r)&&(f=E0(e))&&f.eq(Me.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,gi(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),l6(e)),this.handleDOMChange(o,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||gi(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(xn&&us<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(o=v)}let l=i&&i.parentNode==e.target?Gt(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=o&&o.parentNode==e.target?Gt(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let xC=new WeakMap,SC=!1;function l6(n){if(!xC.has(n)&&(xC.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=ar,SC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),SC=!0}}function EC(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return wo(l.node,l.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function c6(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return EC(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?EC(n,t):null}function u6(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function d6(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:l,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),f,p=d.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],jh(d)||f.push({node:d.focusNode,offset:d.focusOffset})),tn&&n.input.lastKeyCode===8)for(let C=o;C>i;C--){let T=r.childNodes[C-1],A=T.pmViewDesc;if(T.nodeName=="BR"&&!A){o=C;break}if(!A||A.size)break}let m=n.state.doc,v=n.someProp("domParser")||cs.fromSchema(n.state.schema),b=m.resolve(l),w=null,E=v.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:f6,context:b});if(f&&f[0].pos!=null){let C=f[0].pos,T=f[1]&&f[1].pos;T==null&&(T=C),w={anchor:C+l,head:T+l}}return{doc:E,sel:w,from:l,to:c}}function f6(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(un&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||un&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const h6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function p6(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let R=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,H=E0(n,R);if(H&&!n.state.selection.eq(H)){if(tn&&hi&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",se=>se(n,Zs(13,"Enter"))))return;let Z=n.state.tr.setSelection(H);R=="pointer"?Z.setMeta("pointer",!0):R=="key"&&Z.scrollIntoView(),o&&Z.setMeta("composition",o),n.dispatch(Z)}return}let l=n.state.doc.resolve(e),c=l.sharedDepth(t);e=l.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,f=d6(n,e,t),p=n.state.doc,m=p.slice(f.from,f.to),v,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,b="end"):(v=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let w=y6(m.content,f.doc.content,f.from,v,b);if(w&&n.input.domChangeCount++,(qa&&n.input.lastIOSEnter>Date.now()-225||hi)&&i.some(R=>R.nodeType==1&&!h6.test(R.nodeName))&&(!w||w.endA>=w.endB)&&n.someProp("handleKeyDown",R=>R(n,Zs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof Te&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let R=CC(n,n.state.doc,f.sel);if(R&&!R.eq(n.state.selection)){let H=n.state.tr.setSelection(R);o&&H.setMeta("composition",o),n.dispatch(H)}}return}n.state.selection.from<n.state.selection.to&&w.start==w.endB&&n.state.selection instanceof Te&&(w.start>n.state.selection.from&&w.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?w.start=n.state.selection.from:w.endA<n.state.selection.to&&w.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(w.endB+=n.state.selection.to-w.endA,w.endA=n.state.selection.to)),xn&&us<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let E=f.doc.resolveNoCache(w.start-f.from),C=f.doc.resolveNoCache(w.endB-f.from),T=p.resolve(w.start),A=E.sameParent(C)&&E.parent.inlineContent&&T.end()>=w.endA;if((qa&&n.input.lastIOSEnter>Date.now()-225&&(!A||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!A&&E.pos<f.doc.content.size&&(!E.sameParent(C)||!E.parent.inlineContent)&&E.pos<C.pos&&!/\S/.test(f.doc.textBetween(E.pos,C.pos,"","")))&&n.someProp("handleKeyDown",R=>R(n,Zs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>w.start&&g6(p,w.start,w.endA,E,C)&&n.someProp("handleKeyDown",R=>R(n,Zs(8,"Backspace")))){hi&&tn&&n.domObserver.suppressSelectionUpdates();return}tn&&w.endB==w.start&&(n.input.lastChromeDelete=Date.now()),hi&&!A&&E.start()!=C.start()&&C.parentOffset==0&&E.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,C=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(R){return R(n,Zs(13,"Enter"))})},20));let O=w.start,M=w.endA,L=R=>{let H=R||n.state.tr.replace(O,M,f.doc.slice(w.start-f.from,w.endB-f.from));if(f.sel){let Z=CC(n,H.doc,f.sel);Z&&!(tn&&n.composing&&Z.empty&&(w.start!=w.endB||n.input.lastChromeDelete<Date.now()-100)&&(Z.head==O||Z.head==H.mapping.map(M)-1)||xn&&Z.empty&&Z.head==O)&&H.setSelection(Z)}return o&&H.setMeta("composition",o),H.scrollIntoView()},P;if(A)if(E.pos==C.pos){xn&&us<=11&&E.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>gi(n),20));let R=L(n.state.tr.delete(O,M)),H=p.resolve(w.start).marksAcross(p.resolve(w.endA));H&&R.ensureMarks(H),n.dispatch(R)}else if(w.endA==w.endB&&(P=m6(E.parent.content.cut(E.parentOffset,C.parentOffset),T.parent.content.cut(T.parentOffset,w.endA-T.start())))){let R=L(n.state.tr);P.type=="add"?R.addMark(O,M,P.mark):R.removeMark(O,M,P.mark),n.dispatch(R)}else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){let R=E.parent.textBetween(E.parentOffset,C.parentOffset),H=()=>L(n.state.tr.insertText(R,O,M));n.someProp("handleTextInput",Z=>Z(n,O,M,R,H))||n.dispatch(H())}else n.dispatch(L());else n.dispatch(L())}function CC(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:C0(n,e.resolve(t.anchor),e.resolve(t.head))}function m6(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,l,c,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)o=t[p].removeFromSet(o);if(i.length==1&&o.length==0)c=i[0],l="add",d=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&o.length==1)c=o[0],l="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(te.from(f).eq(n))return{mark:c,type:l}}function g6(n,e,t,r,i){if(t-e<=i.pos-r.pos||Xg(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=n.resolve(Xg(o,!0,!0));return!l.parent.isTextblock||l.pos>t||Xg(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Xg(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function y6(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:l,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let d=Math.max(0,o-Math.min(l,c));r-=l+d-o}if(l<o&&n.size<e.size){let d=r<=o&&r>=l?o-r:0;o-=d,o&&o<e.size&&kC(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-l),l=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<n.size&&kC(n.textBetween(o-1,o+1))&&(o+=d?1:-1),l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function kC(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class yN{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new IV,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(NC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=AC(this),_C(this),this.nodeViews=OC(this),this.docView=oC(this.state.doc,TC(this),Yg(this),this.dom,this),this.domObserver=new a6(this,(r,i,o,l)=>p6(this,r,i,o,l)),this.domObserver.start(),PV(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&sv(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(NC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(uN(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=OC(this);b6(b,this.nodeViews)&&(this.nodeViews=b,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&sv(this),this.editable=AC(this),_C(this);let d=Yg(this),f=TC(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(i.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&XH(this);if(l){this.domObserver.stop();let b=m&&(xn||tn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&v6(i.selection,e.selection);if(m){let w=tn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=YV(this)),(o||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=oC(e.doc,f,d,this.dom,this)),w&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&xV(this))?gi(this,b):(QO(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&QH(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof xe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&eC(this,t.getBoundingClientRect(),e)}else eC(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new fN(e.slice,e.move,i<0?void 0:xe.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=t?t(c):c))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let c=o[l].props[e];if(c!=null&&(i=t?t(c):c))return i}}hasFocus(){if(xn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ZH(this.dom),gi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return iV(this,e)}coordsAtPos(e,t=1){return qO(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return cV(this,t||this.state,e)}pasteHTML(e,t){return zc(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return zc(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return k0(this,e)}destroy(){this.docView&&(zV(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Yg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$H())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $V(this,e)}domSelectionRange(){let e=this.domSelection();return e?un&&this.root.nodeType===11&&FH(this.dom.ownerDocument)==this.dom&&c6(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}yN.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function TC(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[cn.node(0,n.state.doc.content.size,e)]}function _C(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:cn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function AC(n){return!n.someProp("editable",e=>e(n.state)===!1)}function v6(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function OC(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function b6(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function NC(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var gs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},w6=typeof navigator<"u"&&/Mac/.test(navigator.platform),x6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jt=0;Jt<10;Jt++)gs[48+Jt]=gs[96+Jt]=String(Jt);for(var Jt=1;Jt<=24;Jt++)gs[Jt+111]="F"+Jt;for(var Jt=65;Jt<=90;Jt++)gs[Jt]=String.fromCharCode(Jt+32),jf[Jt]=String.fromCharCode(Jt);for(var Qg in gs)jf.hasOwnProperty(Qg)||(jf[Qg]=gs[Qg]);function S6(n){var e=w6&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||x6&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?jf:gs)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const E6=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),C6=typeof navigator<"u"&&/Win/.test(navigator.platform);function k6(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))E6?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),l&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function T6(n){let e=Object.create(null);for(let t in n)e[k6(t)]=n[t];return e}function Zg(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function _6(n){return new ft({props:{handleKeyDown:vN(n)}})}function vN(n){let e=T6(n);return function(t,r){let i=S6(r),o,l=e[Zg(i,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[Zg(i,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(C6&&r.ctrlKey&&r.altKey)&&(o=gs[r.keyCode])&&o!=i){let c=e[Zg(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}var A6=Object.defineProperty,R0=(n,e)=>{for(var t in e)A6(n,t,{get:e[t],enumerable:!0})};function Ih(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}var Ph=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:i}=t,o=this.buildProps(i);return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...f)=>{const p=c(...f)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:i}=this,{view:o}=r,l=[],c=!!n,d=n||i.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(t).map(([m,v])=>[m,(...w)=>{const E=this.buildProps(d,e),C=v(...w)(E);return l.push(C),p}])),run:f};return p}createCan(n){const{rawCommands:e,state:t}=this,r=!1,i=n||t.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:i}=this,{view:o}=r,l={tr:n,editor:r,view:o,state:Ih({state:i,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...f)=>d(...f)(l)]))}};return l}},bN={};R0(bN,{blur:()=>O6,clearContent:()=>N6,clearNodes:()=>R6,command:()=>M6,createParagraphNear:()=>j6,cut:()=>D6,deleteCurrentNode:()=>L6,deleteNode:()=>I6,deleteRange:()=>P6,deleteSelection:()=>z6,enter:()=>B6,exitCode:()=>$6,extendMarkRange:()=>U6,first:()=>H6,focus:()=>q6,forEach:()=>F6,insertContent:()=>K6,insertContentAt:()=>J6,joinBackward:()=>Q6,joinDown:()=>X6,joinForward:()=>Z6,joinItemBackward:()=>e8,joinItemForward:()=>t8,joinTextblockBackward:()=>n8,joinTextblockForward:()=>r8,joinUp:()=>Y6,keyboardShortcut:()=>s8,lift:()=>o8,liftEmptyBlock:()=>a8,liftListItem:()=>l8,newlineInCode:()=>c8,resetAttributes:()=>u8,scrollIntoView:()=>d8,selectAll:()=>f8,selectNodeBackward:()=>h8,selectNodeForward:()=>p8,selectParentNode:()=>m8,selectTextblockEnd:()=>g8,selectTextblockStart:()=>y8,setContent:()=>v8,setMark:()=>I8,setMeta:()=>P8,setNode:()=>z8,setNodeSelection:()=>B8,setTextDirection:()=>$8,setTextSelection:()=>U8,sinkListItem:()=>H8,splitBlock:()=>V8,splitListItem:()=>q8,toggleList:()=>F8,toggleMark:()=>K8,toggleNode:()=>W8,toggleWrap:()=>G8,undoInputRule:()=>J8,unsetAllMarks:()=>Y8,unsetMark:()=>X8,unsetTextDirection:()=>Q8,updateAttributes:()=>Z8,wrapIn:()=>eq,wrapInList:()=>tq});var O6=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),N6=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),R6=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:l})=>{n.doc.nodesBetween(o.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),v=f.resolve(p.map(d+c.nodeSize)),b=m.blockRange(v);if(!b)return;const w=rl(b);if(c.type.isTextblock){const{defaultType:E}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,E)}(w||w===0)&&e.lift(b,w)})}),!0},M6=n=>e=>n(e),j6=()=>({state:n,dispatch:e})=>DO(n,e),D6=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new Te(r.doc.resolve(Math.max(l-1,0)))),!0},L6=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const c=i.before(o),d=i.after(o);n.delete(c,d).scrollIntoView()}return!0}return!1};function At(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var I6=n=>({tr:e,state:t,dispatch:r})=>{const i=At(n,t.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const d=o.before(l),f=o.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},P6=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},z6=()=>({state:n,dispatch:e})=>y0(n,e),B6=()=>({commands:n})=>n.keyboardShortcut("Enter"),$6=()=>({state:n,dispatch:e})=>kH(n,e);function M0(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function Df(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:M0(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function wN(n,e,t={}){return n.find(r=>r.type===e&&Df(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function RC(n,e,t={}){return!!wN(n,e,t)}function j0(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(t=t||((r=i.node.marks[0])==null?void 0:r.attrs),!wN([...i.node.marks],e,t)))return;let l=i.index,c=n.start()+i.offset,d=l+1,f=c+i.node.nodeSize;for(;l>0&&RC([...n.parent.child(l-1).marks],e,t);)l-=1,c-=n.parent.child(l).nodeSize;for(;d<n.parent.childCount&&RC([...n.parent.child(d).marks],e,t);)f+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function xi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var U6=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=xi(n,r.schema),{doc:l,selection:c}=t,{$from:d,from:f,to:p}=c;if(i){const m=j0(d,o,e);if(m&&m.from<=f&&m.to>=p){const v=Te.create(l,m.from,m.to);t.setSelection(v)}}return!0},H6=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function xN(n){return n instanceof Te}function ro(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function SN(n,e=null){if(!e)return null;const t=Me.atStart(n),r=Me.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Te.create(n,ro(0,i,o),ro(n.content.size,i,o)):Te.create(n,ro(e,i,o),ro(e,i,o))}function V6(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function D0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var q6=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(D0()||V6())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!xN(t.state.selection))return l(),!0;const c=SN(i.doc,n)||t.state.selection,d=t.state.selection.eq(c);return o&&(d||i.setSelection(c),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},F6=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),K6=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),EN=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&EN(r)}return n};function qd(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return EN(t)}function $c(n,e,t){if(n instanceof ls||n instanceof te)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return te.fromArray(n.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(n);return t.errorOnInvalidContent&&l.check(),l}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),$c("",e,t)}if(i){if(t.errorOnInvalidContent){let l=!1,c="";const d=new aO({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?cs.fromSchema(d).parseSlice(qd(n),t.parseOptions):cs.fromSchema(d).parse(qd(n),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=cs.fromSchema(e);return t.slice?o.parseSlice(qd(n),t.parseOptions).content:o.parse(qd(n),t.parseOptions)}return $c("",e,t)}function W6(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof zt||i instanceof Bt))return;const o=n.mapping.maps[r];let l=0;o.forEach((c,d,f,p)=>{l===0&&(l=p)}),n.setSelection(Me.near(n.doc.resolve(l),t))}var G6=n=>!("type"in n),J6=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const d=C=>{o.emit("contentError",{editor:o,error:C,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{$c(e,o.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){d(C)}try{c=$c(e,o.schema,{parseOptions:f,errorOnInvalidContent:(l=t.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(C){return d(C),!1}let{from:p,to:m}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},v=!0,b=!0;if((G6(c)?c:[c]).forEach(C=>{C.check(),v=v?C.isText&&C.marks.length===0:!1,b=b?C.isBlock:!1}),p===m&&b){const{parent:C}=r.doc.resolve(p);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(p-=1,m+=1)}let E;if(v){if(Array.isArray(e))E=e.map(C=>C.text||"").join("");else if(e instanceof te){let C="";e.forEach(T=>{T.text&&(C+=T.text)}),E=C}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,p,m)}else{E=c;const C=r.doc.resolve(p),T=C.node(),A=C.parentOffset===0,O=T.isText||T.isTextblock,M=T.content.size>0;A&&O&&M&&(p=Math.max(0,p-1)),r.replaceWith(p,m,E)}t.updateSelection&&W6(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:E}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:E})}return!0},Y6=()=>({state:n,dispatch:e})=>SH(n,e),X6=()=>({state:n,dispatch:e})=>EH(n,e),Q6=()=>({state:n,dispatch:e})=>_O(n,e),Z6=()=>({state:n,dispatch:e})=>RO(n,e),e8=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Nh(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},t8=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Nh(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},n8=()=>({state:n,dispatch:e})=>wH(n,e),r8=()=>({state:n,dispatch:e})=>xH(n,e);function CN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function i8(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))D0()||CN()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}var s8=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=i8(n).split(/-(?!$)/),l=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,c))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function ys(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,l=e?At(e,n.schema):null,c=[];n.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const b=Math.max(r,v),w=Math.min(i,v+m.nodeSize);c.push({node:m,from:b,to:w})});const d=i-r,f=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>Df(m.node.attrs,t,{strict:!1}));return o?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=d}var o8=(n,e={})=>({state:t,dispatch:r})=>{const i=At(n,t.schema);return ys(t,i,e)?CH(t,r):!1},a8=()=>({state:n,dispatch:e})=>LO(n,e),l8=n=>({state:e,dispatch:t})=>{const r=At(n,e.schema);return IH(r)(e,t)},c8=()=>({state:n,dispatch:e})=>jO(n,e);function zh(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function MC(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}var u8=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,l=null;const c=zh(typeof n=="string"?n:n.name,r.schema);if(!c)return!1;c==="node"&&(o=At(n,r.schema)),c==="mark"&&(l=xi(n,r.schema));let d=!1;return t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,m)=>{o&&o===p.type&&(d=!0,i&&t.setNodeMarkup(m,void 0,MC(p.attrs,e))),l&&p.marks.length&&p.marks.forEach(v=>{l===v.type&&(d=!0,i&&t.addMark(m,m+p.nodeSize,l.create(MC(v.attrs,e))))})})}),d},d8=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),f8=()=>({tr:n,dispatch:e})=>{if(e){const t=new Bn(n.doc);n.setSelection(t)}return!0},h8=()=>({state:n,dispatch:e})=>OO(n,e),p8=()=>({state:n,dispatch:e})=>MO(n,e),m8=()=>({state:n,dispatch:e})=>AH(n,e),g8=()=>({state:n,dispatch:e})=>RH(n,e),y8=()=>({state:n,dispatch:e})=>NH(n,e);function ov(n,e,t={},r={}){return $c(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}var v8=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:l,commands:c})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const f=ov(n,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&o.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!t),!0}return l&&o.setMeta("preventUpdate",!t),c.insertContentAt({from:0,to:d.content.size},n,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function kN(n,e){const t=xi(e,n.schema),{from:r,to:i,empty:o}=n.selection,l=[];o?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function TN(n,e){const t=new EO(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function b8(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function w8(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}function x8(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Bh(n){return e=>x8(e.$from,n)}function we(n,e,t){return n.config[e]===void 0&&n.parent?we(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?we(n.parent,e,t):null}):n.config[e]}function L0(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=we(e,"addExtensions",t);return r?[e,...L0(r())]:e}).flat(10)}function I0(n,e){const t=Co.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function _N(n){return typeof n=="function"}function Ge(n,e=void 0,...t){return _N(n)?e?n.bind(e)(...t):n(...t):n}function S8(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Fa(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function AN(n){const e=[],{nodeExtensions:t,markExtensions:r}=Fa(n),i=[...t,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},d=we(l,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,b])=>{e.push({type:m,name:v,attribute:{...o,...b}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=we(l,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const v={...o,...m};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:l.name,name:p,attribute:v})})}),e}function Ot(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const c=o?String(o).split(" "):[],d=r[i]?r[i].split(" "):[],f=c.filter(p=>!d.includes(p));r[i]=[...d,...f].join(" ")}else if(i==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,v]=p.split(":").map(b=>b.trim());f.set(m,v)}),c.forEach(p=>{const[m,v]=p.split(":").map(b=>b.trim());f.set(m,v)}),r[i]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=o}),r},{})}function Lf(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Ot(t,r),{})}function E8(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function jC(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(t):E8(t.getAttribute(l.name));return c==null?o:{...o,[l.name]:c}},{});return{...r,...i}}}}function DC(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&S8(t)?!1:t!=null))}function LC(n){var e,t;const r={};return!((e=n?.attribute)!=null&&e.isRequired)&&"default"in(n?.attribute||{})&&(r.default=n.attribute.default),((t=n?.attribute)==null?void 0:t.validate)!==void 0&&(r.validate=n.attribute.validate),[n.name,r]}function C8(n,e){var t;const r=AN(n),{nodeExtensions:i,markExtensions:o}=Fa(n),l=(t=i.find(f=>we(f,"topNode")))==null?void 0:t.name,c=Object.fromEntries(i.map(f=>{const p=r.filter(T=>T.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=n.reduce((T,A)=>{const O=we(A,"extendNodeSchema",m);return{...T,...O?O(f):{}}},{}),b=DC({...v,content:Ge(we(f,"content",m)),marks:Ge(we(f,"marks",m)),group:Ge(we(f,"group",m)),inline:Ge(we(f,"inline",m)),atom:Ge(we(f,"atom",m)),selectable:Ge(we(f,"selectable",m)),draggable:Ge(we(f,"draggable",m)),code:Ge(we(f,"code",m)),whitespace:Ge(we(f,"whitespace",m)),linebreakReplacement:Ge(we(f,"linebreakReplacement",m)),defining:Ge(we(f,"defining",m)),isolating:Ge(we(f,"isolating",m)),attrs:Object.fromEntries(p.map(LC))}),w=Ge(we(f,"parseHTML",m));w&&(b.parseDOM=w.map(T=>jC(T,p)));const E=we(f,"renderHTML",m);E&&(b.toDOM=T=>E({node:T,HTMLAttributes:Lf(T,p)}));const C=we(f,"renderText",m);return C&&(b.toText=C),[f.name,b]})),d=Object.fromEntries(o.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=n.reduce((C,T)=>{const A=we(T,"extendMarkSchema",m);return{...C,...A?A(f):{}}},{}),b=DC({...v,inclusive:Ge(we(f,"inclusive",m)),excludes:Ge(we(f,"excludes",m)),group:Ge(we(f,"group",m)),spanning:Ge(we(f,"spanning",m)),code:Ge(we(f,"code",m)),attrs:Object.fromEntries(p.map(LC))}),w=Ge(we(f,"parseHTML",m));w&&(b.parseDOM=w.map(C=>jC(C,p)));const E=we(f,"renderHTML",m);return E&&(b.toDOM=C=>E({mark:C,HTMLAttributes:Lf(C,p)})),[f.name,b]}));return new aO({topNode:l,nodes:c,marks:d})}function k8(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function P0(n){return n.sort((t,r)=>{const i=we(t,"priority")||100,o=we(r,"priority")||100;return i>o?-1:i<o?1:0})}function ON(n){const e=P0(L0(n)),t=k8(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function NN(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:l={}}=t||{};let c="";return n.nodesBetween(r,i,(d,f,p,m)=>{var v;d.isBlock&&f>r&&(c+=o);const b=l?.[d.type.name];if(b)return p&&(c+=b({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(c+=(v=d?.text)==null?void 0:v.slice(Math.max(r,f)-f,i-f))}),c}function T8(n,e){const t={from:0,to:n.content.size};return NN(n,t,e)}function RN(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function _8(n,e){const t=At(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,c=>{o.push(c)});const l=o.reverse().find(c=>c.type.name===t.name);return l?{...l.attrs}:{}}function MN(n,e){const t=zh(typeof e=="string"?e:e.name,n.schema);return t==="node"?_8(n,e):t==="mark"?kN(n,e):{}}function A8(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function O8(n){const e=A8(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,l)=>l!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function jN(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const l=[];if(i.ranges.length)i.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=t[o];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const f=e.slice(o).map(c,-1),p=e.slice(o).map(d),m=e.invert().map(f,-1),v=e.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:p}})})}),O8(r)}function z0(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),l=j0(o,i.type);l&&r.push({mark:i,...l})}):t.nodesBetween(n,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}var N8=(n,e,t,r=20)=>{const i=n.doc.resolve(t);let o=r,l=null;for(;o>0&&l===null;){const c=i.node(o);c?.type.name===e?l=c:o-=1}return[l,o]};function ey(n,e){return e.nodes[n]||e.marks[n]||null}function of(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var R8=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,l,c)=>{var d,f;const p=((f=(d=i.type.spec).toText)==null?void 0:f.call(d,{node:i,pos:o,parent:l,index:c}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-o))}),t};function av(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?xi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>Df(m.attrs,t,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:m,$to:v})=>{const b=m.pos,w=v.pos;n.doc.nodesBetween(b,w,(E,C)=>{if(!E.isText&&!E.marks.length)return;const T=Math.max(b,C),A=Math.min(w,C+E.nodeSize),O=A-T;l+=O,c.push(...E.marks.map(M=>({mark:M,from:T,to:A})))})}),l===0)return!1;const d=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>Df(m.mark.attrs,t,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,v)=>m+v.to-v.from,0);return(d>0?d+f:d)>=l}function M8(n,e,t={}){if(!e)return ys(n,null,t)||av(n,null,t);const r=zh(e,n.schema);return r==="node"?ys(n,e,t):r==="mark"?av(n,e,t):!1}var j8=(n,e)=>{const{$from:t,$to:r,$anchor:i}=n.selection;if(e){const o=Bh(c=>c.type.name===e)(n.selection);if(!o)return!1;const l=n.doc.resolve(o.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},D8=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function IC(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function PC(n,e){const{nodeExtensions:t}=Fa(e),r=t.find(l=>l.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ge(we(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function $h(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&($h(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function DN(n){return n instanceof xe}function L8(n,e,t){var r;const{selection:i}=e;let o=null;if(xN(i)&&(o=i.$cursor),o){const c=(r=n.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(t)&&(!!t.isInSet(c)||!c.some(f=>f.type.excludes(t)))}const{ranges:l}=i;return l.some(({$from:c,$to:d})=>{let f=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(p,m,v)=>{if(f)return!1;if(p.isInline){const b=!v||v.type.allowsMarkType(t),w=!!t.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(t));f=b&&w}return!f}),f})}var I8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:l,ranges:c}=o,d=xi(n,r.schema);if(i)if(l){const f=kN(r,d);t.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(v,b)=>{const w=Math.max(b,p),E=Math.min(b+v.nodeSize,m);v.marks.find(T=>T.type===d)?v.marks.forEach(T=>{d===T.type&&t.addMark(w,E,d.create({...T.attrs,...e}))}):t.addMark(w,E,d.create(e))})});return L8(r,t,d)},P8=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),z8=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=At(n,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:c})=>XE(o,{...l,...e})(t)?!0:c.clearNodes()).command(({state:c})=>XE(o,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},B8=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=ro(n,0,r.content.size),o=xe.create(r,i);e.setSelection(o)}return!0},$8=(n,e)=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=r;let l,c;return typeof e=="number"?(l=e,c=e):e&&"from"in e&&"to"in e?(l=e.from,c=e.to):(l=o.from,c=o.to),i&&t.doc.nodesBetween(l,c,(d,f)=>{d.isText||t.setNodeMarkup(f,void 0,{...d.attrs,dir:n})}),!0},U8=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,l=Te.atStart(r).from,c=Te.atEnd(r).to,d=ro(i,l,c),f=ro(o,l,c),p=Te.create(r,d,f);e.setSelection(p)}return!0},H8=n=>({state:e,dispatch:t})=>{const r=At(n,e.schema);return BH(r)(e,t)};function zC(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e?.includes(i.type.name));n.tr.ensureMarks(r)}}var V8=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:l}=e,{$from:c,$to:d}=o,f=i.extensionManager.attributes,p=of(f,c.node().type.name,c.node().attrs);if(o instanceof xe&&o.node.isBlock)return!c.parentOffset||!mi(l,c.pos)?!1:(r&&(n&&zC(t,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:b8(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&v?[{type:v,attrs:p}]:void 0,w=mi(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!w&&mi(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(w=!0,b=v?[{type:v,attrs:p}]:void 0),r){if(w&&(o instanceof Te&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),v&&!m&&!c.parentOffset&&c.parent.type!==v)){const E=e.mapping.map(c.before()),C=e.doc.resolve(E);c.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}n&&zC(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},q8=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var l;const c=At(n,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==c)return!1;const v=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let T=te.empty;const A=d.index(-1)?1:d.index(-2)?2:3;for(let H=d.depth-A;H>=d.depth-3;H-=1)T=te.from(d.node(H).copy(T));const O=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,M={...of(v,d.node().type.name,d.node().attrs),...e},L=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(M))||void 0;T=T.append(te.from(c.createAndFill(null,L)||void 0));const P=d.before(d.depth-(A-1));t.replace(P,d.after(-O),new ie(T,4-A,0));let R=-1;t.doc.nodesBetween(P,t.doc.content.size,(H,Z)=>{if(R>-1)return!1;H.isTextblock&&H.content.size===0&&(R=Z+1)}),R>-1&&t.setSelection(Te.near(t.doc.resolve(R))),t.scrollIntoView()}return!0}const b=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,w={...of(v,m.type.name,m.attrs),...e},E={...of(v,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,f.pos);const C=b?[{type:c,attrs:w},{type:b,attrs:E}]:[{type:c,attrs:w}];if(!mi(t.doc,d.pos,2))return!1;if(i){const{selection:T,storedMarks:A}=r,{splittableMarks:O}=o.extensionManager,M=A||T.$to.parentOffset&&T.$from.marks();if(t.split(d.pos,2,C).scrollIntoView(),!M||!i)return!0;const L=M.filter(P=>O.includes(P.type.name));t.ensureMarks(L)}return!0},ty=(n,e)=>{const t=Bh(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&Es(n.doc,t.pos)&&n.join(t.pos),!0},ny=(n,e)=>{const t=Bh(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&Es(n.doc,r)&&n.join(r),!0},F8=(n,e,t,r={})=>({editor:i,tr:o,state:l,dispatch:c,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,b=At(n,l.schema),w=At(e,l.schema),{selection:E,storedMarks:C}=l,{$from:T,$to:A}=E,O=T.blockRange(A),M=C||E.$to.parentOffset&&E.$from.marks();if(!O)return!1;const L=Bh(P=>PC(P.type.name,m))(E);if(O.depth>=1&&L&&O.depth-L.depth<=1){if(L.node.type===b)return f.liftListItem(w);if(PC(L.node.type.name,m)&&b.validContent(L.node.content)&&c)return d().command(()=>(o.setNodeMarkup(L.pos,b),!0)).command(()=>ty(o,b)).command(()=>ny(o,b)).run()}return!t||!M||!c?d().command(()=>p().wrapInList(b,r)?!0:f.clearNodes()).wrapInList(b,r).command(()=>ty(o,b)).command(()=>ny(o,b)).run():d().command(()=>{const P=p().wrapInList(b,r),R=M.filter(H=>v.includes(H.type.name));return o.ensureMarks(R),P?!0:f.clearNodes()}).wrapInList(b,r).command(()=>ty(o,b)).command(()=>ny(o,b)).run()},K8=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,l=xi(n,r.schema);return av(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,e)},W8=(n,e,t={})=>({state:r,commands:i})=>{const o=At(n,r.schema),l=At(e,r.schema),c=ys(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?i.setNode(l,d):i.setNode(o,{...d,...t})},G8=(n,e={})=>({state:t,commands:r})=>{const i=At(n,t.schema);return ys(t,i,e)?r.lift(i):r.wrapIn(i,e)},J8=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const l=n.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else l.delete(o.from,o.to)}return!0}}return!1},Y8=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},X8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=t,d=xi(n,r.schema),{$from:f,empty:p,ranges:m}=c;if(!i)return!0;if(p&&l){let{from:v,to:b}=c;const w=(o=f.marks().find(C=>C.type===d))==null?void 0:o.attrs,E=j0(f,d,w);E&&(v=E.from,b=E.to),t.removeMark(v,b,d)}else m.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,d)});return t.removeStoredMark(d),!0},Q8=n=>({tr:e,state:t,dispatch:r})=>{const{selection:i}=t;let o,l;return typeof n=="number"?(o=n,l=n):n&&"from"in n&&"to"in n?(o=n.from,l=n.to):(o=i.from,l=i.to),r&&e.doc.nodesBetween(o,l,(c,d)=>{if(c.isText)return;const f={...c.attrs};delete f.dir,e.setNodeMarkup(d,void 0,f)}),!0},Z8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,l=null;const c=zh(typeof n=="string"?n:n.name,r.schema);if(!c)return!1;c==="node"&&(o=At(n,r.schema)),c==="mark"&&(l=xi(n,r.schema));let d=!1;return t.selection.ranges.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;let v,b,w,E;t.selection.empty?r.doc.nodesBetween(p,m,(C,T)=>{o&&o===C.type&&(d=!0,w=Math.max(T,p),E=Math.min(T+C.nodeSize,m),v=T,b=C)}):r.doc.nodesBetween(p,m,(C,T)=>{T<p&&o&&o===C.type&&(d=!0,w=Math.max(T,p),E=Math.min(T+C.nodeSize,m),v=T,b=C),T>=p&&T<=m&&(o&&o===C.type&&(d=!0,i&&t.setNodeMarkup(T,void 0,{...C.attrs,...e})),l&&C.marks.length&&C.marks.forEach(A=>{if(l===A.type&&(d=!0,i)){const O=Math.max(T,p),M=Math.min(T+C.nodeSize,m);t.addMark(O,M,l.create({...A.attrs,...e}))}}))}),b&&(v!==void 0&&i&&t.setNodeMarkup(v,void 0,{...b.attrs,...e}),l&&b.marks.length&&b.marks.forEach(C=>{l===C.type&&i&&t.addMark(w,E,l.create({...C.attrs,...e}))}))}),d},eq=(n,e={})=>({state:t,dispatch:r})=>{const i=At(n,t.schema);return MH(i,e)(t,r)},tq=(n,e={})=>({state:t,dispatch:r})=>{const i=At(n,t.schema);return jH(i,e)(t,r)},nq=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},Uh=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},rq=(n,e)=>{if(M0(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Fd(n){var e;const{editor:t,from:r,to:i,text:o,rules:l,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=R8(f)+o;return l.forEach(v=>{if(p)return;const b=rq(m,v.find);if(!b)return;const w=d.state.tr,E=Ih({state:d.state,transaction:w}),C={from:r-(b[0].length-o.length),to:i},{commands:T,chain:A,can:O}=new Ph({editor:t,state:E});v.handler({state:E,range:C,match:b,commands:T,chain:A,can:O})===null||!w.steps.length||(v.undoable&&w.setMeta(c,{transform:w,from:r,to:i,text:o}),d.dispatch(w),p=!0)}),p}function iq(n){const{editor:e,rules:t}=n,r=new ft({state:{init(){return null},apply(i,o,l){const c=i.getMeta(r);if(c)return c;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=I0(te.from(p),l.schema);const{from:m}=d,v=m+p.length;Fd({editor:e,from:m,to:v,text:p,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,c){return Fd({editor:e,from:o,to:l,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Fd({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Fd({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function sq(n){return Object.prototype.toString.call(n).slice(8,-1)}function Kd(n){return sq(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function LN(n,e){const t={...n};return Kd(n)&&Kd(e)&&Object.keys(e).forEach(r=>{Kd(e[r])&&Kd(n[r])?t[r]=LN(n[r],e[r]):t[r]=e[r]}),t}var B0=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Ge(we(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ge(we(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>LN(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},ko=class IN extends B0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new IN(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(f=>f?.type.name===t.name))return!1;const d=l.find(f=>f?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function oq(n){return typeof n=="number"}var aq=class{constructor(n){this.find=n.find,this.handler=n.handler}},lq=(n,e,t)=>{if(M0(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function cq(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:l,dropEvent:c}=n,{commands:d,chain:f,can:p}=new Ph({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(b,w)=>{var E,C,T,A,O;if((C=(E=b.type)==null?void 0:E.spec)!=null&&C.code||!(b.isText||b.isTextblock||b.isInline))return;const M=(O=(A=(T=b.content)==null?void 0:T.size)!=null?A:b.nodeSize)!=null?O:0,L=Math.max(r,w),P=Math.min(i,w+M);if(L>=P)return;const R=b.isText?b.text||"":b.textBetween(L-w,P-w,void 0,"");lq(R,o.find,l).forEach(Z=>{if(Z.index===void 0)return;const se=L+Z.index+1,me=se+Z[0].length,fe={from:t.tr.mapping.map(se),to:t.tr.mapping.map(me)},Ce=o.handler({state:t,range:fe,match:Z,commands:d,chain:f,can:p,pasteEvent:l,dropEvent:c});m.push(Ce)})}),m.every(b=>b!==null)}var Wd=null,uq=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function dq(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:m,to:v,rule:b,pasteEvt:w})=>{const E=p.tr,C=Ih({state:p,transaction:E});if(!(!cq({editor:e,state:C,from:Math.max(m-1,0),to:v.b-1,rule:b,pasteEvent:w,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return t.map(p=>new ft({view(m){const v=w=>{var E;r=(E=m.dom.parentElement)!=null&&E.contains(w.target)?m.dom.parentElement:null,r&&(Wd=e)},b=()=>{Wd&&(Wd=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,v)=>{if(o=r===m.dom.parentElement,c=v,!o){const b=Wd;b?.isEditable&&setTimeout(()=>{const w=b.state.selection;w&&b.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,v)=>{var b;const w=(b=v.clipboardData)==null?void 0:b.getData("text/html");return l=v,i=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(m,v,b)=>{const w=m[0],E=w.getMeta("uiEvent")==="paste"&&!i,C=w.getMeta("uiEvent")==="drop"&&!o,T=w.getMeta("applyPasteRules"),A=!!T;if(!E&&!C&&!A)return;if(A){let{text:L}=T;typeof L=="string"?L=L:L=I0(te.from(L),b.schema);const{from:P}=T,R=P+L.length,H=uq(L);return d({rule:p,state:b,from:P,to:{b:R},pasteEvt:H})}const O=v.doc.content.findDiffStart(b.doc.content),M=v.doc.content.findDiffEnd(b.doc.content);if(!(!oq(O)||!M||O===M.b))return d({rule:p,state:b,from:O,to:M,pasteEvt:l})}}))}var Hh=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=ON(n),this.schema=C8(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ey(e.name,this.schema)},r=we(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this;return P0([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:n,type:ey(r.name,this.schema)},o=[],l=we(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&we(r,"exitable",i)&&(c.ArrowRight=()=>ko.handleExit({editor:n,mark:r})),l){const v=Object.fromEntries(Object.entries(l()).map(([b,w])=>[b,()=>w({editor:n})]));c={...c,...v}}const d=_6(c);o.push(d);const f=we(r,"addInputRules",i);if(IC(r,n.options.enableInputRules)&&f){const v=f();if(v&&v.length){const b=iq({editor:n,rules:v}),w=Array.isArray(b)?b:[b];o.push(...w)}}const p=we(r,"addPasteRules",i);if(IC(r,n.options.enablePasteRules)&&p){const v=p();if(v&&v.length){const b=dq({editor:n,rules:v});o.push(...b)}}const m=we(r,"addProseMirrorPlugins",i);if(m){const v=m();o.push(...v)}return o})}get attributes(){return AN(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Fa(this.extensions);return Object.fromEntries(e.filter(t=>!!we(t,"addNodeView")).map(t=>{const r=this.attributes.filter(d=>d.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:At(t.name,this.schema)},o=we(t,"addNodeView",i);if(!o)return[];const l=o();if(!l)return[];const c=(d,f,p,m,v)=>{const b=Lf(d,r);return l({node:d,view:f,getPos:p,decorations:m,innerDecorations:v,editor:n,extension:t,HTMLAttributes:b})};return[t.name,c]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=Fa(this.extensions);return Object.fromEntries(e.filter(t=>!!we(t,"addMarkView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:xi(t.name,this.schema)},o=we(t,"addMarkView",i);if(!o)return[];const l=(c,d,f)=>{const p=Lf(c,r);return o()({mark:c,view:d,inline:f,editor:n,extension:t,HTMLAttributes:p,updateAttributes:m=>{kq(c,n,m)}})};return[t.name,l]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ey(e.name,this.schema)};e.type==="mark"&&((t=Ge(we(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const i=we(e,"onBeforeCreate",r),o=we(e,"onCreate",r),l=we(e,"onUpdate",r),c=we(e,"onSelectionUpdate",r),d=we(e,"onTransaction",r),f=we(e,"onFocus",r),p=we(e,"onBlur",r),m=we(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Hh.resolve=ON;Hh.sort=P0;Hh.flatten=L0;var fq={};R0(fq,{ClipboardTextSerializer:()=>zN,Commands:()=>BN,Delete:()=>$N,Drop:()=>UN,Editable:()=>HN,FocusEvents:()=>qN,Keymap:()=>FN,Paste:()=>KN,Tabindex:()=>WN,TextDirection:()=>GN,focusEventsPluginKey:()=>VN});var xt=class PN extends B0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new PN(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},zN=xt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ft({key:new Dt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,l=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),d=RN(t);return NN(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),BN=xt.create({name:"commands",addCommands(){return{...bN}}}),$N=xt.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,i;const o=()=>{var l,c,d,f;if((f=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,n))!=null?f:n.getMeta("y-sync$"))return;const p=TN(n.before,[n,...e]);jN(p).forEach(b=>{p.mapping.mapResult(b.oldRange.from).deletedAfter&&p.mapping.mapResult(b.oldRange.to).deletedBefore&&p.before.nodesBetween(b.oldRange.from,b.oldRange.to,(w,E)=>{const C=E+w.nodeSize-2,T=b.oldRange.from<=E&&C<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:E,to:C,newFrom:p.mapping.map(E),newTo:p.mapping.map(C),deletedRange:b.oldRange,newRange:b.newRange,partial:!T,editor:this.editor,transaction:n,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((b,w)=>{var E,C;if(b instanceof xr){const T=v.slice(w).map(b.from,-1),A=v.slice(w).map(b.to),O=v.invert().map(T,-1),M=v.invert().map(A),L=(E=p.doc.nodeAt(T-1))==null?void 0:E.marks.some(R=>R.eq(b.mark)),P=(C=p.doc.nodeAt(A))==null?void 0:C.marks.some(R=>R.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:O,to:M},newRange:{from:T,to:A},partial:!!(P||L),editor:this.editor,transaction:n,combinedTransform:p})}})};(i=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),UN=xt.create({name:"drop",addProseMirrorPlugins(){return[new ft({key:new Dt("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),HN=xt.create({name:"editable",addProseMirrorPlugins(){return[new ft({key:new Dt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),VN=new Dt("focusEvents"),qN=xt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new ft({key:VN,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),FN=xt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:p,$anchor:m}=d,{pos:v,parent:b}=m,w=m.parent.isTextblock&&v>0?c.doc.resolve(v-1):m,E=w.parent.type.spec.isolating,C=m.pos-m.parentOffset,T=E&&w.parent.childCount===1?C===m.pos:Me.atStart(f).from===v;return!p||!b.type.isTextblock||b.textContent.length||!T||T&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return D0()||CN()?o:i},addProseMirrorPlugins(){return[new ft({key:new Dt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(E=>E.getMeta("composition")))return;const r=n.some(E=>E.docChanged)&&!e.doc.eq(t.doc),i=n.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:c}=e.selection,d=Me.atStart(e.doc).from,f=Me.atEnd(e.doc).to;if(o||!(l===d&&c===f)||!$h(t.doc))return;const v=t.tr,b=Ih({state:t,transaction:v}),{commands:w}=new Ph({editor:this.editor,state:b});if(w.clearNodes(),!!v.steps.length)return v}})]}}),KN=xt.create({name:"paste",addProseMirrorPlugins(){return[new ft({key:new Dt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),WN=xt.create({name:"tabindex",addProseMirrorPlugins(){return[new ft({key:new Dt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),GN=xt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=Fa(this.extensions);return[{types:n.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new ft({key:new Dt("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),hq=class Aa{constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Aa(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Aa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Aa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const d=new Aa(c,this.editor,i,i?t:null);i&&(d.actualDepth=this.depth+1),e.push(new Aa(c,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,l=Object.keys(t);for(let c=0;c<l.length;c+=1){const d=l[c];if(o[d]!==t[d])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&o.every(d=>t[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},pq=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function mq(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}var gq=class extends nq{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=SN(e,this.options.autofocus);this.editorState=Na.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n?.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=mq(pq,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=_N(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;t=t.filter(l=>!l.key.startsWith(o))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[HN,zN.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),BN,qN,FN,WN,UN,KN,$N,GN.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Hh(r,this)}createCommandManager(){this.commandManager=new Ph({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=ov(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=ov(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new yN(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(f=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(f)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),i=t.includes(n),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const l=t.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=l?.getMeta("focus"),d=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(n.getMeta("preventUpdate")||!t.some(f=>f.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return MN(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return M8(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return I0(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return T8(this.state.doc,{blockSeparator:e,textSerializers:{...RN(this.schema),...t}})}get isEmpty(){return $h(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new hq(e,this)}get $doc(){return this.$pos(0)}};function Ka(n){return new Uh({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ge(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),f=t.from+c.indexOf(l),p=f+l.length;if(z0(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(E=>E===n.type&&E!==b.mark.type)).filter(b=>b.to>f).length)return null;p<t.to&&o.delete(p,t.to),f>t.from&&o.delete(t.from+d,f);const v=t.from+d+l.length;o.addMark(t.from+d,v,n.type.create(i||{})),o.removeStoredMark(n.type)}},undoable:n.undoable})}function yq(n){return new Uh({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ge(n.getAttributes,void 0,r)||{},{tr:o}=e,l=t.from;let c=t.to;const d=n.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=l+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,l+r[0].length-1),o.replaceWith(p,c,d)}else if(r[0]){const f=n.type.isInline?l:l-1;o.insert(f,n.type.create(i)).delete(o.mapping.map(l),o.mapping.map(c))}o.scrollIntoView()},undoable:n.undoable})}function lv(n){return new Uh({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=Ge(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)},undoable:n.undoable})}function Wa(n){return new Uh({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=Ge(n.getAttributes,void 0,r)||{},l=e.tr.delete(t.from,t.to),d=l.doc.resolve(t.from).blockRange(),f=d&&m0(d,n.type,o);if(!f)return null;if(l.wrap(d,f),n.keepMarks&&n.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:b}=n.editor.extensionManager,w=v||m.$to.parentOffset&&m.$from.marks();if(w){const E=w.filter(C=>b.includes(C.type.name));l.ensureMarks(E)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,o).run()}const p=l.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&Es(l.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&l.join(t.from-1)},undoable:n.undoable})}function vq(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof xe){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var bq={};R0(bq,{createAtomBlockMarkdownSpec:()=>wq,createBlockMarkdownSpec:()=>xq,createInlineMarkdownSpec:()=>Cq,parseAttributes:()=>$0,parseIndentedBlocks:()=>cv,renderNestedMarkdownContent:()=>H0,serializeAttributes:()=>U0});function $0(n){if(!n?.trim())return{};const e={},t=[],r=n.replace(/["']([^"']*)["']/g,f=>(t.push(f),`__QUOTED_${t.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const f=i.map(p=>p.trim().slice(1));e.class=f.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,f,p])=>{var m;const v=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),b=t[v];b&&(e[f]=b.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function U0(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,r])=>{t==="class"||t==="id"||(r===!0?e.push(t):r!==!1&&r!=null&&e.push(`${t}="${String(r)}"`))}),e.join(" ")}function wq(n){const{nodeName:e,name:t,parseAttributes:r=$0,serializeAttributes:i=U0,defaultAttributes:o={},requiredAttributes:l=[],allowedAttributes:c}=n,d=t||e,f=p=>{if(!c)return p;const m={};return c.forEach(v=>{v in p&&(m[v]=p[v])}),m};return{parseMarkdown:(p,m)=>{const v={...o,...p.attributes};return m.createNode(e,v,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const v=new RegExp(`^:::${d}(?:\\s|$)`,"m"),b=(m=p.match(v))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(p,m,v){const b=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(b);if(!w)return;const E=w[1]||"",C=r(E);if(!l.find(A=>!(A in C)))return{type:e,raw:w[0],attributes:C}}},renderMarkdown:p=>{const m=f(p.attrs||{}),v=i(m),b=v?` {${v}}`:"";return`:::${d}${b} :::`}}}function xq(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=$0,serializeAttributes:o=U0,defaultAttributes:l={},content:c="block",allowedAttributes:d}=n,f=t||e,p=m=>{if(!d)return m;const v={};return d.forEach(b=>{b in m&&(v[b]=m[b])}),v};return{parseMarkdown:(m,v)=>{let b;if(r){const E=r(m);b=typeof E=="string"?[{type:"text",text:E}]:E}else c==="block"?b=v.parseChildren(m.tokens||[]):b=v.parseInline(m.tokens||[]);const w={...l,...m.attributes};return v.createNode(e,w,b)},markdownTokenizer:{name:e,level:"block",start(m){var v;const b=new RegExp(`^:::${f}`,"m"),w=(v=m.match(b))==null?void 0:v.index;return w!==void 0?w:-1},tokenize(m,v,b){var w;const E=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=m.match(E);if(!C)return;const[T,A=""]=C,O=i(A);let M=1;const L=T.length;let P="";const R=/^:::([\w-]*)(\s.*)?/gm,H=m.slice(L);for(R.lastIndex=0;;){const Z=R.exec(H);if(Z===null)break;const se=Z.index,me=Z[1];if(!((w=Z[2])!=null&&w.endsWith(":::"))){if(me)M+=1;else if(M-=1,M===0){const fe=H.slice(0,se);P=fe.trim();const Ce=m.slice(0,L+se+Z[0].length);let oe=[];if(P)if(c==="block")for(oe=b.blockTokens(fe),oe.forEach(de=>{de.text&&(!de.tokens||de.tokens.length===0)&&(de.tokens=b.inlineTokens(de.text))});oe.length>0;){const de=oe[oe.length-1];if(de.type==="paragraph"&&(!de.text||de.text.trim()===""))oe.pop();else break}else oe=b.inlineTokens(P);return{type:e,raw:Ce,attributes:O,content:P,tokens:oe}}}}}},renderMarkdown:(m,v)=>{const b=p(m.attrs||{}),w=o(b),E=w?` {${w}}`:"",C=v.renderChildren(m.content||[],`

`);return`:::${f}${E}

${C}

:::`}}}function Sq(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=t.exec(n);for(;r!==null;){const[,i,o,l]=r;e[i]=o||l,r=t.exec(n)}return e}function Eq(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function Cq(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=Sq,serializeAttributes:o=Eq,defaultAttributes:l={},selfClosing:c=!1,allowedAttributes:d}=n,f=t||e,p=v=>{if(!d)return v;const b={};return d.forEach(w=>{w in v&&(b[w]=v[w])}),b},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(v,b)=>{const w={...l,...v.attributes};if(c)return b.createNode(e,w);const E=r?r(v):v.content||"";return E?b.createNode(e,w,[b.createTextNode(E)]):b.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(v){const b=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),w=v.match(b),E=w?.index;return E!==void 0?E:-1},tokenize(v,b,w){const E=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),C=v.match(E);if(!C)return;let T="",A="";if(c){const[,M]=C;A=M}else{const[,M,L]=C;A=M,T=L||""}const O=i(A.trim());return{type:e,raw:C[0],content:T.trim(),attributes:O}}},renderMarkdown:v=>{let b="";r?b=r(v):v.content&&v.content.length>0&&(b=v.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const w=p(v.attrs||{}),E=o(w),C=E?` ${E}`:"";return c?`[${f}${C}]`:`[${f}${C}]${b}[/${f}]`}}}function cv(n,e,t){var r,i,o,l;const c=n.split(`
`),d=[];let f="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const v=c[p],b=v.match(e.itemPattern);if(!b){if(d.length>0)break;if(v.trim()===""){p+=1,f=`${f}${v}
`;continue}else return}const w=e.extractItemData(b),{indentLevel:E,mainContent:C}=w;f=`${f}${v}
`;const T=[C];for(p+=1;p<c.length;){const L=c[p];if(L.trim()===""){const R=c.slice(p+1).findIndex(se=>se.trim()!=="");if(R===-1)break;if((((i=(r=c[p+1+R].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>E){T.push(L),f=`${f}${L}
`,p+=1;continue}else break}if((((l=(o=L.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:l.length)||0)>E)T.push(L),f=`${f}${L}
`,p+=1;else break}let A;const O=T.slice(1);if(O.length>0){const L=O.map(P=>P.slice(E+m)).join(`
`);L.trim()&&(e.customNestedParser?A=e.customNestedParser(L):A=t.blockTokens(L))}const M=e.createToken(w,A);d.push(M)}if(d.length!==0)return{items:d,raw:f}}function H0(n,e,t,r){if(!n||!Array.isArray(n.content))return"";const i=typeof t=="function"?t(r):t,[o,...l]=n.content,c=e.renderChildren([o]),d=[`${i}${c}`];return l&&l.length>0&&l.forEach(f=>{const p=e.renderChildren([f]);if(p){const m=p.split(`
`).map(v=>v?e.indent(v):"").join(`
`);d.push(m)}}),d.join(`
`)}function kq(n,e,t={}){const{state:r}=e,{doc:i,tr:o}=r,l=n;i.descendants((c,d)=>{const f=o.mapping.map(d),p=o.mapping.map(d)+c.nodeSize;let m=null;if(c.marks.forEach(b=>{if(b!==l)return!1;m=b}),!m)return;let v=!1;if(Object.keys(t).forEach(b=>{t[b]!==m.attrs[b]&&(v=!0)}),v){const b=n.type.create({...n.attrs,...t});o.removeMark(f,p,n.type),o.addMark(f,p,b)}}),o.docChanged&&e.view.dispatch(o)}var Un=class JN extends B0{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new JN(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function So(n){return new aq({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=Ge(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let f=t.to;if(c){const p=d.search(/\S/),m=t.from+d.indexOf(c),v=m+c.length;if(z0(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(C=>C===n.type&&C!==w.mark.type)).filter(w=>w.to>m).length)return null;v<t.to&&l.delete(v,t.to),m>t.from&&l.delete(t.from+p,m),f=t.from+p+c.length,l.addMark(t.from+p,f,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}var ry,BC;function Tq(){return BC||(BC=1,ry=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),ry}var _q=Tq();const Aq=dh(_q);var iy={exports:{}},sy={};var $C;function Oq(){if($C)return sy;$C=1;var n=Vc(),e=qA();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return sy.useSyncExternalStoreWithSelector=function(f,p,m,v,b){var w=o(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function T(P){if(!A){if(A=!0,O=P,P=v(P),b!==void 0&&E.hasValue){var R=E.value;if(b(R,P))return M=R}return M=P}if(R=M,r(O,P))return R;var H=v(P);return b!==void 0&&b(R,H)?(O=P,R):(O=P,M=H)}var A=!1,O,M,L=m===void 0?null:m;return[function(){return T(p())},L===null?void 0:function(){return T(L())}]},[p,m,v,b]);var C=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},sy}var UC;function Nq(){return UC||(UC=1,iy.exports=Oq()),iy.exports}var Rq=Nq(),Mq=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},jq=({contentComponent:n})=>{const e=FA.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})};function Dq(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Tk.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}var Lq=class extends jt.Component{constructor(n){var e;super(n),this.editorContentRef=jt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(n.view.dom),n.setOptions({element:e}),n.contentComponent=Dq(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.firstChild))return;const t=document.createElement("div");t.append(e.view.dom),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:Mq(e,this.editorContentRef),...t}),n?.contentComponent&&x.jsx(jq,{contentComponent:n.contentComponent})]})}},Iq=S.forwardRef((n,e)=>{const t=jt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return jt.createElement(Lq,{key:t,innerRef:e,...n})}),Pq=jt.memo(Iq),zq=typeof window<"u"?S.useLayoutEffect:S.useEffect,Bq=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function $q(n){var e;const[t]=S.useState(()=>new Bq(n.editor)),r=Rq.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:Aq);return zq(()=>t.watch(n.editor),[n.editor,t]),S.useDebugValue(r),r}var Uq=!1,uv=typeof window>"u",Hq=uv||!!(typeof window<"u"&&window.next),Vq=class YN{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?uv||Hq?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new gq(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,o)=>{var l;return i===((l=t.extensions)==null?void 0:l[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?YN.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function qq(n={},e=[]){const t=S.useRef(n);t.current=n;const[r]=S.useState(()=>new Vq(t)),i=FA.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return S.useDebugValue(i),S.useEffect(r.onRender(e)),$q({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&o===0?0:o+1}),i}var Fq=S.createContext({editor:null});Fq.Consumer;var Kq=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Wq=()=>S.useContext(Kq);jt.forwardRef((n,e)=>{const{onDragStart:t}=Wq(),r=n.as||"div";return x.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});jt.createContext({markViewContentRef:()=>{}});var If=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},Gq=/^\s*>\s$/,Jq=Un.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return If("blockquote",{...Ot(this.options.HTMLAttributes,n),children:If("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=">",r=[];return n.content.forEach(i=>{const c=e.renderChildren([i]).split(`
`).map(d=>d.trim()===""?t:`${t} ${d}`);r.push(c.join(`
`))}),r.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Wa({find:Gq,type:this.type})]}}),Yq=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Xq=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Qq=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Zq=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,eF=ko.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return If("strong",{...Ot(this.options.HTMLAttributes,n),children:If("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ka({find:Yq,type:this.type}),Ka({find:Qq,type:this.type})]},addPasteRules(){return[So({find:Xq,type:this.type}),So({find:Zq,type:this.type})]}}),tF=/(^|[^`])`([^`]+)`(?!`)$/,nF=/(^|[^`])`([^`]+)`(?!`)/g,rF=ko.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Ot(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ka({find:tF,type:this.type})]},addPasteRules(){return[So({find:nF,type:this.type})]}}),oy=4,iF=/^```([a-z]+)?[\s\n]$/,sF=/^~~~([a-z]+)?[\s\n]$/,oF=Un.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:oy,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const o=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(t)).map(l=>l.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Ot(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let r="";const i=((t=n.attrs)==null?void 0:t.language)||"";return n.content?r=[`\`\`\`${i}`,e.renderChildren(n.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:oy,{state:r}=n,{selection:i}=r,{$from:o,empty:l}=i;if(o.parent.type!==this.type)return!1;const c=" ".repeat(t);return l?n.commands.insertContent(c):n.commands.command(({tr:d})=>{const{from:f,to:p}=i,b=r.doc.textBetween(f,p,`
`,`
`).split(`
`).map(w=>c+w).join(`
`);return d.replaceWith(f,p,r.schema.text(b)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:oy,{state:r}=n,{selection:i}=r,{$from:o,empty:l}=i;return o.parent.type!==this.type?!1:l?n.commands.command(({tr:c})=>{var d;const{pos:f}=o,p=o.start(),m=o.end(),b=r.doc.textBetween(p,m,`
`,`
`).split(`
`);let w=0,E=0;const C=f-p;for(let P=0;P<b.length;P+=1){if(E+b[P].length>=C){w=P;break}E+=b[P].length+1}const A=((d=b[w].match(/^ */))==null?void 0:d[0])||"",O=Math.min(A.length,t);if(O===0)return!0;let M=p;for(let P=0;P<w;P+=1)M+=b[P].length+1;return c.delete(M,M+O),f-M<=O&&c.setSelection(Te.create(c.doc,M)),!0}):n.commands.command(({tr:c})=>{const{from:d,to:f}=i,v=r.doc.textBetween(d,f,`
`,`
`).split(`
`).map(b=>{var w;const E=((w=b.match(/^ */))==null?void 0:w[0])||"",C=Math.min(E.length,t);return b.slice(C)}).join(`
`);return c.replaceWith(d,f,r.schema.text(v)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:f})=>(f.setSelection(Me.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[lv({find:iF,type:this.type,getAttributes:n=>({language:n[1]})}),lv({find:sF,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new ft({key:new Dt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!t||!o)return!1;const{tr:l,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Te.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),n.dispatch(l),!0}}})]}}),aF=Un.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),lF=Un.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Ot(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&l){const m=d.filter(v=>c.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cF=Un.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Ot(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const r=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,i="#".repeat(r);return n.content?`${i} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>lv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),uF=Un.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Ot(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!vq(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,i=n();return DN(t)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:l,dispatch:c})=>{if(c){const{$to:d}=l.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?l.setSelection(Te.create(l.doc,d.pos+1)):d.nodeAfter.isBlock?l.setSelection(xe.create(l.doc,d.pos)):l.setSelection(Te.create(l.doc,d.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,m=p?.create();m&&(l.insert(f,m),l.setSelection(Te.create(l.doc,f+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yq({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),dF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,fF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,pF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mF=ko.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Ot(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ka({find:dF,type:this.type}),Ka({find:hF,type:this.type})]},addPasteRules(){return[So({find:fF,type:this.type}),So({find:pF,type:this.type})]}});const gF="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",yF="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",dv="numeric",fv="ascii",hv="alpha",yc="asciinumeric",cc="alphanumeric",pv="domain",XN="emoji",vF="scheme",bF="slashscheme",ay="whitespace";function wF(n,e){return n in e||(e[n]=[]),e[n]}function io(n,e,t){e[dv]&&(e[yc]=!0,e[cc]=!0),e[fv]&&(e[yc]=!0,e[hv]=!0),e[yc]&&(e[cc]=!0),e[hv]&&(e[cc]=!0),e[cc]&&(e[pv]=!0),e[XN]&&(e[pv]=!0);for(const r in e){const i=wF(r,t);i.indexOf(n)<0&&i.push(n)}}function xF(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function wn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}wn.groups={};wn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||wn.groups;let i;return e&&e.j?i=e:(i=new wn(e),t&&r&&io(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(n[l]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||wn.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let l,c=i.go(n);if(c?(l=new wn,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new wn,o){if(r)if(l.t&&typeof l.t=="string"){const d=Object.assign(xF(l.t,r),t);io(o,d,r)}else t&&io(o,t,r);l.t=o}return i.j[n]=l,l}};const Re=(n,e,t,r,i)=>n.ta(e,t,r,i),mt=(n,e,t,r,i)=>n.tr(e,t,r,i),HC=(n,e,t,r,i)=>n.ts(e,t,r,i),ne=(n,e,t,r,i)=>n.tt(e,t,r,i),li="WORD",mv="UWORD",QN="ASCIINUMERICAL",ZN="ALPHANUMERICAL",Uc="LOCALHOST",gv="TLD",yv="UTLD",af="SCHEME",Oa="SLASH_SCHEME",V0="NUM",vv="WS",q0="NL",vc="OPENBRACE",bc="CLOSEBRACE",Pf="OPENBRACKET",zf="CLOSEBRACKET",Bf="OPENPAREN",$f="CLOSEPAREN",Uf="OPENANGLEBRACKET",Hf="CLOSEANGLEBRACKET",Vf="FULLWIDTHLEFTPAREN",qf="FULLWIDTHRIGHTPAREN",Ff="LEFTCORNERBRACKET",Kf="RIGHTCORNERBRACKET",Wf="LEFTWHITECORNERBRACKET",Gf="RIGHTWHITECORNERBRACKET",Jf="FULLWIDTHLESSTHAN",Yf="FULLWIDTHGREATERTHAN",Xf="AMPERSAND",Qf="APOSTROPHE",Zf="ASTERISK",Zi="AT",eh="BACKSLASH",th="BACKTICK",nh="CARET",rs="COLON",F0="COMMA",rh="DOLLAR",Nr="DOT",ih="EQUALS",K0="EXCLAMATION",er="HYPHEN",wc="PERCENT",sh="PIPE",oh="PLUS",ah="POUND",xc="QUERY",W0="QUOTE",eR="FULLWIDTHMIDDLEDOT",G0="SEMI",Rr="SLASH",Sc="TILDE",lh="UNDERSCORE",tR="EMOJI",ch="SYM";var nR=Object.freeze({__proto__:null,ALPHANUMERICAL:ZN,AMPERSAND:Xf,APOSTROPHE:Qf,ASCIINUMERICAL:QN,ASTERISK:Zf,AT:Zi,BACKSLASH:eh,BACKTICK:th,CARET:nh,CLOSEANGLEBRACKET:Hf,CLOSEBRACE:bc,CLOSEBRACKET:zf,CLOSEPAREN:$f,COLON:rs,COMMA:F0,DOLLAR:rh,DOT:Nr,EMOJI:tR,EQUALS:ih,EXCLAMATION:K0,FULLWIDTHGREATERTHAN:Yf,FULLWIDTHLEFTPAREN:Vf,FULLWIDTHLESSTHAN:Jf,FULLWIDTHMIDDLEDOT:eR,FULLWIDTHRIGHTPAREN:qf,HYPHEN:er,LEFTCORNERBRACKET:Ff,LEFTWHITECORNERBRACKET:Wf,LOCALHOST:Uc,NL:q0,NUM:V0,OPENANGLEBRACKET:Uf,OPENBRACE:vc,OPENBRACKET:Pf,OPENPAREN:Bf,PERCENT:wc,PIPE:sh,PLUS:oh,POUND:ah,QUERY:xc,QUOTE:W0,RIGHTCORNERBRACKET:Kf,RIGHTWHITECORNERBRACKET:Gf,SCHEME:af,SEMI:G0,SLASH:Rr,SLASH_SCHEME:Oa,SYM:ch,TILDE:Sc,TLD:gv,UNDERSCORE:lh,UTLD:yv,UWORD:mv,WORD:li,WS:vv});const oi=/[a-z]/,rc=new RegExp("\\p{L}","u"),ly=new RegExp("\\p{Emoji}","u"),ai=/\d/,cy=/\s/,VC="\r",uy=`
`,SF="",EF="",dy="";let Gd=null,Jd=null;function CF(n=[]){const e={};wn.groups=e;const t=new wn;Gd==null&&(Gd=qC(gF)),Jd==null&&(Jd=qC(yF)),ne(t,"'",Qf),ne(t,"{",vc),ne(t,"}",bc),ne(t,"[",Pf),ne(t,"]",zf),ne(t,"(",Bf),ne(t,")",$f),ne(t,"<",Uf),ne(t,">",Hf),ne(t,"",Vf),ne(t,"",qf),ne(t,"",Ff),ne(t,"",Kf),ne(t,"",Wf),ne(t,"",Gf),ne(t,"",Jf),ne(t,"",Yf),ne(t,"&",Xf),ne(t,"*",Zf),ne(t,"@",Zi),ne(t,"`",th),ne(t,"^",nh),ne(t,":",rs),ne(t,",",F0),ne(t,"$",rh),ne(t,".",Nr),ne(t,"=",ih),ne(t,"!",K0),ne(t,"-",er),ne(t,"%",wc),ne(t,"|",sh),ne(t,"+",oh),ne(t,"#",ah),ne(t,"?",xc),ne(t,'"',W0),ne(t,"/",Rr),ne(t,";",G0),ne(t,"~",Sc),ne(t,"_",lh),ne(t,"\\",eh),ne(t,"",eR);const r=mt(t,ai,V0,{[dv]:!0});mt(r,ai,r);const i=mt(r,oi,QN,{[yc]:!0}),o=mt(r,rc,ZN,{[cc]:!0}),l=mt(t,oi,li,{[fv]:!0});mt(l,ai,i),mt(l,oi,l),mt(i,ai,i),mt(i,oi,i);const c=mt(t,rc,mv,{[hv]:!0});mt(c,oi),mt(c,ai,o),mt(c,rc,c),mt(o,ai,o),mt(o,oi),mt(o,rc,o);const d=ne(t,uy,q0,{[ay]:!0}),f=ne(t,VC,vv,{[ay]:!0}),p=mt(t,cy,vv,{[ay]:!0});ne(t,dy,p),ne(f,uy,d),ne(f,dy,p),mt(f,cy,p),ne(p,VC),ne(p,uy),mt(p,cy,p),ne(p,dy,p);const m=mt(t,ly,tR,{[XN]:!0});ne(m,"#"),mt(m,ly,m),ne(m,SF,m);const v=ne(m,EF);ne(v,"#"),mt(v,ly,m);const b=[[oi,l],[ai,i]],w=[[oi,null],[rc,c],[ai,o]];for(let E=0;E<Gd.length;E++)Ji(t,Gd[E],gv,li,b);for(let E=0;E<Jd.length;E++)Ji(t,Jd[E],yv,mv,w);io(gv,{tld:!0,ascii:!0},e),io(yv,{utld:!0,alpha:!0},e),Ji(t,"file",af,li,b),Ji(t,"mailto",af,li,b),Ji(t,"http",Oa,li,b),Ji(t,"https",Oa,li,b),Ji(t,"ftp",Oa,li,b),Ji(t,"ftps",Oa,li,b),io(af,{scheme:!0,ascii:!0},e),io(Oa,{slashscheme:!0,ascii:!0},e),n=n.sort((E,C)=>E[0]>C[0]?1:-1);for(let E=0;E<n.length;E++){const C=n[E][0],A=n[E][1]?{[vF]:!0}:{[bF]:!0};C.indexOf("-")>=0?A[pv]=!0:oi.test(C)?ai.test(C)?A[yc]=!0:A[fv]=!0:A[dv]=!0,HC(t,C,C,A)}return HC(t,"localhost",Uc,{ascii:!0}),t.jd=new wn(ch),{start:t,tokens:Object.assign({groups:e},nR)}}function rR(n,e){const t=kF(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,i=[];let o=0,l=0;for(;l<r;){let c=n,d=null,f=0,p=null,m=-1,v=-1;for(;l<r&&(d=c.go(t[l]));)c=d,c.accepts()?(m=0,v=0,p=c):m>=0&&(m+=t[l].length,v++),f+=t[l].length,o+=t[l].length,l++;o-=m,l-=v,f-=m,i.push({t:p.t,v:e.slice(o-f,o),s:o-f,e:o})}return i}function kF(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,l=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(l),r+=l.length}return e}function Ji(n,e,t,r,i){let o;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];n.j[d]?o=n.j[d]:(o=new wn(r),o.jr=i.slice(),n.j[d]=o),n=o}return o=new wn(t),o.jr=i.slice(),n.j[e[l-1]]=o,o}function qC(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let l=parseInt(n.substring(r,r+o),10);l>0;l--)t.pop();r+=o}else t.push(n[r]),r++}return e}const Hc={defaultProtocol:"http",events:null,format:FC,formatHref:FC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function J0(n,e=null){let t=Object.assign({},Hc);n&&(t=Object.assign(t,n instanceof J0?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}J0.prototype={o:Hc,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Hc[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function FC(n){return n}function iR(n,e){this.t="token",this.v=n,this.tk=e}iR.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Hc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),l={},c=n.get("className",t,e),d=n.get("target",t,e),f=n.get("rel",t,e),p=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),f&&(l.rel=f),p&&Object.assign(l,p),{tagName:i,attributes:l,content:o,eventListeners:m}}};function Vh(n,e){class t extends iR{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const KC=Vh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),WC=Vh("text"),TF=Vh("nl"),Yd=Vh("url",{isLink:!0,toHref(n=Hc.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Uc&&n[1].t===rs}}),Zn=n=>new wn(n);function _F({groups:n}){const e=n.domain.concat([Xf,Zf,Zi,eh,th,nh,rh,ih,er,V0,wc,sh,oh,ah,Rr,ch,Sc,lh]),t=[Qf,rs,F0,Nr,K0,wc,xc,W0,G0,Uf,Hf,vc,bc,zf,Pf,Bf,$f,Vf,qf,Ff,Kf,Wf,Gf,Jf,Yf],r=[Xf,Qf,Zf,eh,th,nh,rh,ih,er,vc,bc,wc,sh,oh,ah,xc,Rr,ch,Sc,lh],i=Zn(),o=ne(i,Sc);Re(o,r,o),Re(o,n.domain,o);const l=Zn(),c=Zn(),d=Zn();Re(i,n.domain,l),Re(i,n.scheme,c),Re(i,n.slashscheme,d),Re(l,r,o),Re(l,n.domain,l);const f=ne(l,Zi);ne(o,Zi,f),ne(c,Zi,f),ne(d,Zi,f);const p=ne(o,Nr);Re(p,r,o),Re(p,n.domain,o);const m=Zn();Re(f,n.domain,m),Re(m,n.domain,m);const v=ne(m,Nr);Re(v,n.domain,m);const b=Zn(KC);Re(v,n.tld,b),Re(v,n.utld,b),ne(f,Uc,b);const w=ne(m,er);ne(w,er,w),Re(w,n.domain,m),Re(b,n.domain,m),ne(b,Nr,v),ne(b,er,w);const E=ne(b,rs);Re(E,n.numeric,KC);const C=ne(l,er),T=ne(l,Nr);ne(C,er,C),Re(C,n.domain,l),Re(T,r,o),Re(T,n.domain,l);const A=Zn(Yd);Re(T,n.tld,A),Re(T,n.utld,A),Re(A,n.domain,l),Re(A,r,o),ne(A,Nr,T),ne(A,er,C),ne(A,Zi,f);const O=ne(A,rs),M=Zn(Yd);Re(O,n.numeric,M);const L=Zn(Yd),P=Zn();Re(L,e,L),Re(L,t,P),Re(P,e,L),Re(P,t,P),ne(A,Rr,L),ne(M,Rr,L);const R=ne(c,rs),H=ne(d,rs),Z=ne(H,Rr),se=ne(Z,Rr);Re(c,n.domain,l),ne(c,Nr,T),ne(c,er,C),Re(d,n.domain,l),ne(d,Nr,T),ne(d,er,C),Re(R,n.domain,L),ne(R,Rr,L),ne(R,xc,L),Re(se,n.domain,L),Re(se,e,L),ne(se,Rr,L);const me=[[vc,bc],[Pf,zf],[Bf,$f],[Uf,Hf],[Vf,qf],[Ff,Kf],[Wf,Gf],[Jf,Yf]];for(let fe=0;fe<me.length;fe++){const[Ce,oe]=me[fe],de=ne(L,Ce);ne(P,Ce,de),ne(de,oe,L);const z=Zn(Yd);Re(de,e,z);const G=Zn();Re(de,t),Re(z,e,z),Re(z,t,G),Re(G,e,z),Re(G,t,G),ne(z,oe,L),ne(G,oe,L)}return ne(i,Uc,A),ne(i,q0,TF),{start:i,tokens:nR}}function AF(n,e,t){let r=t.length,i=0,o=[],l=[];for(;i<r;){let c=n,d=null,f=null,p=0,m=null,v=-1;for(;i<r&&!(d=c.go(t[i].t));)l.push(t[i++]);for(;i<r&&(f=d||c.go(t[i].t));)d=null,c=f,c.accepts()?(v=0,m=c):v>=0&&v++,i++,p++;if(v<0)i-=p,i<r&&(l.push(t[i]),i++);else{l.length>0&&(o.push(fy(WC,e,l)),l=[]),i-=v,p-=v;const b=m.t,w=t.slice(i-p,i);o.push(fy(b,e,w))}}return l.length>0&&o.push(fy(WC,e,l)),o}function fy(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const OF=typeof console<"u"&&console&&console.warn||(()=>{}),NF="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function RF(){return wn.groups={},ot.scanner=null,ot.parser=null,ot.tokenQueue=[],ot.pluginQueue=[],ot.customSchemes=[],ot.initialized=!1,ot}function GC(n,e=!1){if(ot.initialized&&OF(`linkifyjs: already initialized - will not register custom scheme "${n}" ${NF}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ot.customSchemes.push([n,e])}function MF(){ot.scanner=CF(ot.customSchemes);for(let n=0;n<ot.tokenQueue.length;n++)ot.tokenQueue[n][1]({scanner:ot.scanner});ot.parser=_F(ot.scanner.tokens);for(let n=0;n<ot.pluginQueue.length;n++)ot.pluginQueue[n][1]({scanner:ot.scanner,parser:ot.parser});return ot.initialized=!0,ot}function Y0(n){return ot.initialized||MF(),AF(ot.parser.start,n,rR(ot.scanner.start,n))}Y0.scan=rR;function sR(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new J0(t),i=Y0(n),o=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var X0="[\0- -\u2029]",jF=new RegExp(X0),DF=new RegExp(`${X0}$`),LF=new RegExp(X0,"g");function IF(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function PF(n){return new ft({key:new Dt("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(f=>f.docChanged)&&!t.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!i||o)return;const{tr:l}=r,c=TN(t.doc,[...e]);if(jN(c).forEach(({newRange:f})=>{const p=w8(r.doc,f,b=>b.isTextblock);let m,v;if(p.length>1)m=p[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const b=r.doc.textBetween(f.from,f.to," "," ");if(!DF.test(b))return;m=p[0],v=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&v){const b=v.split(jF).filter(Boolean);if(b.length<=0)return!1;const w=b[b.length-1],E=m.pos+v.lastIndexOf(w);if(!w)return!1;const C=Y0(w).map(T=>T.toObject(n.defaultProtocol));if(!IF(C))return!1;C.filter(T=>T.isLink).map(T=>({...T,from:E+T.start+1,to:E+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>n.validate(T.value)).filter(T=>n.shouldAutoLink(T.value)).forEach(T=>{z0(T.from,T.to,r.doc).some(A=>A.mark.type===n.type)||l.addMark(T.from,T.to,n.type.create({href:T.href}))})}}),!!l.steps.length)return l}})}function zF(n){return new ft({key:new Dt("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;l=m.find(v=>v.nodeName==="A")}if(!l)return!1;const c=MN(e.state,n.type.name),d=(i=l?.href)!=null?i:c.href,f=(o=l?.target)!=null?o:c.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),l&&d?(window.open(d,f),!0):!1}}})}function BF(n){return new ft({key:new Dt("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{shouldAutoLink:i}=n,{state:o}=e,{selection:l}=o,{empty:c}=l;if(c)return!1;let d="";r.content.forEach(p=>{d+=p.textContent});const f=sR(d,{defaultProtocol:n.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!f||i!==void 0&&!i(f.href)?!1:n.editor.commands.setMark(n.type,{href:f.href})}}})}function Gs(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(LF,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var $F=ko.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){GC(n);return}GC(n.scheme,n.optionalSlashes)})},onDestroy(){RF()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Gs(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Gs(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Gs(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ot(this.options.HTMLAttributes,n),0]:["a",Ot(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const r=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${r})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Gs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Gs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[So({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=sR(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!Gs(l,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(PF({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Gs(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(zF({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(BF({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),UF=Object.defineProperty,HF=(n,e)=>{for(var t in e)UF(n,t,{get:e[t],enumerable:!0})},VF="listItem",JC="textStyle",YC=/^\s*([-+*])\s$/,oR=Un.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Ot(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(VF,this.editor.getAttributes(JC)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Wa({find:YC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Wa({find:YC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(JC),editor:this.editor})),[n]}}),aR=Un.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Ot(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(i=>i.type==="paragraph"))t=e.parseChildren(n.tokens);else{const i=n.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(i.tokens)}],n.tokens.length>1){const l=n.tokens.slice(1),c=e.parseChildren(l);t.push(...c)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>H0(n,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qF={};HF(qF,{findListItemPos:()=>iu,getNextListDepth:()=>Q0,handleBackspace:()=>bv,handleDelete:()=>wv,hasListBefore:()=>lR,hasListItemAfter:()=>FF,hasListItemBefore:()=>cR,listItemHasSubList:()=>uR,nextListIsDeeper:()=>dR,nextListIsHigher:()=>fR});var iu=(n,e)=>{const{$from:t}=e.selection,r=At(n,e.schema);let i=null,o=t.depth,l=t.pos,c=null;for(;o>0&&c===null;)i=t.node(o),i.type===r?c=o:(o-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Q0=(n,e)=>{const t=iu(n,e);if(!t)return!1;const[,r]=N8(e,n,t.$pos.pos+4);return r},lR=(n,e,t)=>{const{$anchor:r}=n.selection,i=Math.max(0,r.pos-2),o=n.doc.resolve(i).node();return!(!o||!t.includes(o.type.name))},cR=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((t=i.nodeBefore)==null?void 0:t.type.name)!==n)},uR=(n,e,t)=>{if(!t)return!1;const r=At(n,e.schema);let i=!1;return t.descendants(o=>{o.type===r&&(i=!0)}),i},bv=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!ys(n.state,e)&&lR(n.state,e,t)){const{$anchor:c}=n.state.selection,d=n.state.doc.resolve(c.before()-1),f=[];d.node().descendants((v,b)=>{v.type.name===e&&f.push({node:v,pos:b})});const p=f.at(-1);if(!p)return!1;const m=n.state.doc.resolve(d.start()+p.pos+1);return n.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!ys(n.state,e)||!D8(n.state))return!1;const r=iu(e,n.state);if(!r)return!1;const o=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=uR(e,n.state,o);return cR(e,n.state)&&!l?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},dR=(n,e)=>{const t=Q0(n,e),r=iu(n,e);return!r||!t?!1:t>r.depth},fR=(n,e)=>{const t=Q0(n,e),r=iu(n,e);return!r||!t?!1:t<r.depth},wv=(n,e)=>{if(!ys(n.state,e)||!j8(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:i}=t;return!t.empty&&r.sameParent(i)?!1:dR(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():fR(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},FF=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((t=i.nodeAfter)==null?void 0:t.type.name)!==n)},hR=xt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&wv(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&wv(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&bv(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&bv(n,t,r)&&(e=!0)}),e}}}}),XC=/^(\s*)(\d+)\.\s+(.*)$/,KF=/^\s/;function WF(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t],o=i.match(XC);if(!o)break;const[,l,c,d]=o,f=l.length;let p=d,m=t+1;const v=[i];for(;m<n.length;){const b=n[m];if(b.match(XC))break;if(b.trim()==="")v.push(b),p+=`
`,m+=1;else if(b.match(KF))v.push(b),p+=`
${b.slice(f+2)}`,m+=1;else break}e.push({indent:f,number:parseInt(c,10),content:p.trim(),raw:v.join(`
`)}),r=m,t=m}return[e,r]}function pR(n,e,t){var r;const i=[];let o=0;for(;o<n.length;){const l=n[o];if(l.indent===e){const c=l.content.split(`
`),d=((r=c[0])==null?void 0:r.trim())||"",f=[];d&&f.push({type:"paragraph",raw:d,tokens:t.inlineTokens(d)});const p=c.slice(1).join(`
`).trim();if(p){const b=t.blockTokens(p);f.push(...b)}let m=o+1;const v=[];for(;m<n.length&&n[m].indent>e;)v.push(n[m]),m+=1;if(v.length>0){const b=Math.min(...v.map(E=>E.indent)),w=pR(v,b,t);f.push({type:"list",ordered:!0,start:v[0].number,items:w,raw:v.map(E=>E.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:f}),o=m}else o+=1}return i}function GF(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const r=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var JF="listItem",QC="textStyle",ZC=/^(\d+)\.\s$/,mR=Un.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Ot(this.options.HTMLAttributes,t),0]:["ol",Ot(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,r=n.items?GF(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:r}:{type:"orderedList",content:r}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var r;const i=n.split(`
`),[o,l]=WF(i);if(o.length===0)return;const c=pR(o,0,t);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:c,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(JF,this.editor.getAttributes(QC)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Wa({find:ZC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Wa({find:ZC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(QC)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),YF=/^\s*(\[([( |x])?\])\s$/,XF=Un.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",Ot(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const r=e.parseChildren(n.nestedTokens);t.push(...r)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const i=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return H0(n,e,i)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=p=>{var m,v;c.ariaLabel=((v=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:v.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return f(n),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const b=t();if(typeof b!="number")return!1;const w=v.doc.nodeAt(b);return v.setNodeMarkup(b,void 0,{...w?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{i.setAttribute(p,m)}),i.dataset.checked=n.attrs.checked,c.checked=n.attrs.checked,o.append(c,l),i.append(o,d),Object.entries(e).forEach(([p,m])=>{i.setAttribute(p,m)}),{dom:i,contentDOM:d,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,f(p),!0)}}},addInputRules(){return[Wa({find:YF,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),QF=Un.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",Ot(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const r=o=>{const l=cv(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,d)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:t.inlineTokens(c.mainContent),nestedTokens:d}),customNestedParser:r},t);return l?[{type:"taskList",raw:l.raw,items:l.items}]:t.blockTokens(o)},i=cv(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:t.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},t);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});xt.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(oR.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(aR.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(hR.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(mR.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(XF.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(QF.configure(this.options.taskList)),n}});var ZF=Un.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Ot(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(n,e)=>!n||!Array.isArray(n.content)?"":e.renderChildren(n.content),addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),e9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,t9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,n9=ko.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Ot(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ka({find:e9,type:this.type})]},addPasteRules(){return[So({find:t9,type:this.type})]}}),r9=Un.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),i9=ko.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Ot(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:t.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function s9(n={}){return new ft({view(e){return new o9(e,n)}})}class o9{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),l=o.width/i.offsetWidth,c=o.height/i.offsetHeight;if(t){let m=e.nodeBefore,v=e.nodeAfter;if(m||v){let b=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(b){let w=b.getBoundingClientRect(),E=m?w.bottom:w.top;m&&v&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*c;r={left:w.left,right:w.right,top:E-C,bottom:E+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*l;r={left:m.left-v,right:m.left+v,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),v=m.width/d.offsetWidth,b=m.height/d.offsetHeight;f=m.left-d.scrollLeft*v,p=m.top-d.scrollTop*b}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=vO(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class gt extends Me{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return gt.valid(r)?new gt(r):Me.near(r)}content(){return ie.empty}eq(e){return e instanceof gt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new gt(e.resolve(t.pos))}getBookmark(){return new Z0(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!a9(e)||!l9(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&gt.valid(e))return e;let i=e.pos,o=null;for(let l=e.depth;;l--){let c=e.node(l);if(t>0?e.indexAfter(l)<c.childCount:e.index(l)>0){o=c.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=t;let d=e.doc.resolve(i);if(gt.valid(d))return d}for(;;){let l=t>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!xe.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=l,i+=t;let c=e.doc.resolve(i);if(gt.valid(c))return c}return null}}}gt.prototype.visible=!1;gt.findFrom=gt.findGapCursorFrom;Me.jsonID("gapcursor",gt);class Z0{constructor(e){this.pos=e}map(e){return new Z0(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return gt.valid(t)?new gt(t):Me.near(t)}}function gR(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function a9(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||gR(i.type))return!0;if(i.inlineContent)return!1}}return!0}function l9(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||gR(i.type))return!0;if(i.inlineContent)return!1}}return!0}function c9(){return new ft({props:{decorations:h9,createSelectionBetween(n,e,t){return e.pos==t.pos&&gt.valid(t)?new gt(t):null},handleClick:d9,handleKeyDown:u9,handleDOMEvents:{beforeinput:f9}}})}const u9=vN({ArrowLeft:Xd("horiz",-1),ArrowRight:Xd("horiz",1),ArrowUp:Xd("vert",-1),ArrowDown:Xd("vert",1)});function Xd(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Te){if(!o.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=gt.findGapCursorFrom(c,e,d);return f?(i&&i(r.tr.setSelection(new gt(f))),!0):!1}}function d9(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!gt.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&xe.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new gt(r))),!0)}function f9(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof gt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=te.empty;for(let l=r.length-1;l>=0;l--)i=te.from(r[l].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new ie(i,0,0));return o.setSelection(Te.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function h9(n){if(!(n.selection instanceof gt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",dt.create(n.doc,[cn.widget(n.selection.head,e,{key:"gapcursor"})])}var uh=200,$t=function(){};$t.prototype.append=function(e){return e.length?(e=$t.from(e),!this.length&&e||e.length<uh&&this.leafAppend(e)||this.length<uh&&e.leafPrepend(this)||this.appendInner(e)):this};$t.prototype.prepend=function(e){return e.length?$t.from(e).append(this):this};$t.prototype.appendInner=function(e){return new p9(this,e)};$t.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?$t.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};$t.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};$t.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};$t.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},t,r),i};$t.from=function(e){return e instanceof $t?e:e&&e.length?new yR(e):$t.empty};var yR=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,c){for(var d=o;d<l;d++)if(i(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,c){for(var d=o-1;d>=l;d--)if(i(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=uh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=uh)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})($t);$t.empty=new yR([]);var p9=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(o,c),l)===!1||o>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,o)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(o,c)-c,l+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(i,c),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})($t);const m9=500;class vr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,c,d,f=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,p.push(m);return}if(i){p.push(new Mr(m.map));let b=m.step.map(i.slice(o)),w;b&&l.maybeStep(b).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new Mr(w,void 0,void 0,f.length+p.length))),o--,w&&i.appendMap(w,o)}else l.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(o)):m.selection,d=new vr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,t,r,i){let o=[],l=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new Mr(e.mapping.maps[p],m,t),b;(b=d&&d.merge(v))&&(v=b,p?o.pop():c=c.slice(0,c.length-1)),o.push(v),t&&(l++,t=void 0),i||(d=v)}let f=l-r.depth;return f>y9&&(c=g9(c,f),l-=f),new vr(c.append(o),l)}remapping(e,t){let r=new Lc;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new vr(this.items.append(e.map(t=>new Mr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},i);let d=t;this.items.forEach(v=>{let b=o.getMirror(--d);if(b==null)return;l=Math.min(l,b);let w=o.maps[b];if(v.step){let E=e.steps[b].invert(e.docs[b]),C=v.selection&&v.selection.map(o.slice(d+1,b));C&&c++,r.push(new Mr(w,E,C))}else r.push(new Mr(w))},i);let f=[];for(let v=t;v<l;v++)f.push(new Mr(o.maps[v]));let p=this.items.slice(0,i).append(f).append(r),m=new vr(p,c);return m.emptyItemCount()>m9&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&o++;else if(l.step){let d=l.step.map(t.slice(r)),f=d&&d.getMap();if(r--,f&&t.appendMap(f,r),d){let p=l.selection&&l.selection.map(t.slice(r));p&&o++;let m=new Mr(f.invert(),d,p),v,b=i.length-1;(v=i.length&&i[b].merge(m))?i[b]=v:i.push(m)}}else l.map&&r--},this.items.length,0),new vr($t.from(i.reverse()),o)}}vr.empty=new vr($t.empty,0);function g9(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Mr{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Mr(t.getMap().invert(),t,this.selection)}}}class es{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const y9=20;function v9(n,e,t,r){let i=t.getMeta(co),o;if(i)return i.historyState;t.getMeta(x9)&&(n=new es(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(co))return l.getMeta(co).redo?new es(n.done.addTransform(t,void 0,r,lf(e)),n.undone,ek(t.mapping.maps),n.prevTime,n.prevComposition):new es(n.done,n.undone.addTransform(t,void 0,r,lf(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!l&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!b9(t,n.prevRanges)),f=l?hy(n.prevRanges,t.mapping):ek(t.mapping.maps);return new es(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,lf(e)),vr.empty,f,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new es(n.done.rebased(t,o),n.undone.rebased(t,o),hy(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new es(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),hy(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function b9(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function ek(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,l)=>e.push(o,l));return e}function hy(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function w9(n,e,t){let r=lf(e),i=co.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),d=new es(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(l).setMeta(co,{redo:t,historyState:d})}let py=!1,tk=null;function lf(n){let e=n.plugins;if(tk!=e){py=!1,tk=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){py=!0;break}}return py}const co=new Dt("history"),x9=new Dt("closeHistory");function S9(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new ft({key:co,state:{init(){return new es(vr.empty,vr.empty,null,0,-1)},apply(e,t,r){return v9(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?bR:r=="historyRedo"?wR:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function vR(n,e){return(t,r)=>{let i=co.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=w9(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const bR=vR(!1,!0),wR=vR(!0,!0);xt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new ft({key:new Dt("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const i=this.options.limit;if(i==null||i===0){n=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const l=o-i,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return n=!0,f}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-r,f=c-d,p=c;return e.deleteRange(f,p),!(this.storage.characters({node:e.doc})>r)}})]}});var E9=xt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[s9(this.options)]}});xt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ft({key:new Dt("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!t||!r)return dt.create(n,[]);let l=0;this.options.mode==="deepest"&&n.descendants((d,f)=>{if(d.isText)return;if(!(i>=f&&i<=f+d.nodeSize-1))return!1;l+=1});let c=0;return n.descendants((d,f)=>{if(d.isText||!(i>=f&&i<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(cn.node(f,f+d.nodeSize,{class:this.options.className}))}),dt.create(n,o)}}})]}});var C9=xt.create({name:"gapCursor",addProseMirrorPlugins(){return[c9()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ge(we(n,"allowGapCursor",t)))!=null?e:null}}}),k9=xt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ft({key:new Dt("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const o=this.editor.isEmpty;return n.descendants((l,c)=>{const d=r>=c&&r<=c+l.nodeSize,f=!l.isLeaf&&$h(l);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=cn.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),dt.create(n,i)}}})]}});xt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new ft({key:new Dt("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||DN(t.selection)||n.view.dragging?null:dt.create(t.doc,[cn.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function nk({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var T9=xt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new Dt(this.name),t=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(t).includes(i.name));return[new ft({key:e,appendTransaction:(i,o,l)=>{const{doc:c,tr:d,schema:f}=l,p=e.getState(l),m=c.content.size,v=f.nodes[t];if(p)return d.insert(m,v.create())},state:{init:(i,o)=>{const l=o.tr.doc.lastChild;return!nk({node:l,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const l=i.doc.lastChild;return!nk({node:l,types:r})}}})]}}),_9=xt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>bR(n,e),redo:()=>({state:n,dispatch:e})=>wR(n,e)}},addProseMirrorPlugins(){return[S9(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),A9=xt.create({name:"starterKit",addExtensions(){var n,e,t,r;const i=[];return this.options.bold!==!1&&i.push(eF.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Jq.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(oR.configure(this.options.bulletList)),this.options.code!==!1&&i.push(rF.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(oF.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(aF.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(E9.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(C9.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(lF.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(cF.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(_9.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(uF.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(mF.configure(this.options.italic)),this.options.listItem!==!1&&i.push(aR.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(hR.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&i.push($F.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(mR.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(ZF.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(n9.configure(this.options.strike)),this.options.text!==!1&&i.push(r9.configure(this.options.text)),this.options.underline!==!1&&i.push(i9.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&i.push(T9.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),O9=A9,N9=k9;function R9({content:n="",onChange:e,readOnly:t=!1}){const r=qq({extensions:[O9,N9.configure({placeholder:"Write your report here..."})],content:n,editable:!t,onUpdate:({editor:i})=>{e?.(i.getHTML())}});return r?x.jsxs("div",{className:"border rounded-md",children:[!t&&x.jsxs("div",{className:"border-b p-2 flex gap-1 bg-muted/20",children:[x.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleBold().run(),className:r.isActive("bold")?"bg-muted":"",children:x.jsx(pz,{className:"h-4 w-4"})}),x.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleItalic().run(),className:r.isActive("italic")?"bg-muted":"",children:x.jsx(jz,{className:"h-4 w-4"})}),x.jsx("div",{className:"w-px h-6 bg-border mx-1"}),x.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleHeading({level:1}).run(),className:r.isActive("heading",{level:1})?"bg-muted":"",children:x.jsx(Oz,{className:"h-4 w-4"})}),x.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),className:r.isActive("heading",{level:2})?"bg-muted":"",children:x.jsx(Rz,{className:"h-4 w-4"})}),x.jsx("div",{className:"w-px h-6 bg-border mx-1"}),x.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleBulletList().run(),className:r.isActive("bulletList")?"bg-muted":"",children:x.jsx(Bz,{className:"h-4 w-4"})}),x.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleOrderedList().run(),className:r.isActive("orderedList")?"bg-muted":"",children:x.jsx(Pz,{className:"h-4 w-4"})})]}),x.jsx("div",{className:"p-4 min-h-[300px] prose dark:prose-invert max-w-none",children:x.jsx(Pq,{editor:r})})]}):null}function rk(){const{id:n}=Tv(),e=zr(),{user:t}=Eo(),r=!n||n==="new",[i,o]=S.useState(""),[l,c]=S.useState("Unclassified"),[d,f]=S.useState(""),[p,m]=S.useState("Draft"),[v,b]=S.useState(!r);S.useEffect(()=>{if(!r&&n){async function E(){try{const C=await fc.getById(n);o(C.title),c(C.classification),f(C.content),m(C.status)}catch(C){console.error("Failed to fetch report:",C)}finally{b(!1)}}E()}},[n,r]);const w=async()=>{try{const E={title:i,classification:l,content:d,status:p,author_id:t?.id};r?await fc.create(E):n&&await fc.update(n,E),e("/reports")}catch(E){console.error("Failed to save report:",E)}};return v?x.jsx("div",{className:"p-8 text-center",children:"Loading report..."}):x.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>e("/reports"),children:x.jsx(Hv,{className:"h-4 w-4"})}),x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:r?"New Report":`Report ${n}`}),!r&&x.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${p==="Validated"?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:p})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[!r&&x.jsxs(rt,{variant:"outline",children:[x.jsx(Cz,{className:"mr-2 h-4 w-4"})," Export PDF"]}),x.jsxs(rt,{onClick:w,children:[x.jsx(Kv,{className:"mr-2 h-4 w-4"})," Save Report"]})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[x.jsxs("div",{className:"col-span-2 space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"title",children:"Report Title"}),x.jsx(sr,{id:"title",value:i,onChange:E=>o(E.target.value),placeholder:"Enter report title"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Content"}),x.jsx(R9,{content:d,onChange:f})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Classification"}),x.jsxs(Rc,{value:l,onValueChange:c,children:[x.jsx(Ba,{children:x.jsx(Mc,{placeholder:"Select classification"})}),x.jsxs($a,{children:[x.jsx(bt,{value:"Unclassified",children:"Unclassified"}),x.jsx(bt,{value:"Restricted",children:"Restricted"}),x.jsx(bt,{value:"Confidential",children:"Confidential"}),x.jsx(bt,{value:"Secret",children:"Secret"}),x.jsx(bt,{value:"Top Secret",children:"Top Secret"})]})]}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher classification restricts access to authorized personnel only."})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Status"}),x.jsxs(Rc,{value:p,onValueChange:m,children:[x.jsx(Ba,{children:x.jsx(Mc,{placeholder:"Select status"})}),x.jsxs($a,{children:[x.jsx(bt,{value:"Draft",children:"Draft"}),x.jsx(bt,{value:"Validated",children:"Validated"}),x.jsx(bt,{value:"Archived",children:"Archived"})]})]})]})]})]})]})}const xv={async getAll(){const{data:n,error:e}=await ir.from("arrests").select("*").order("created_at",{ascending:!1});if(e)throw e;return n},async getById(n){const{data:e,error:t}=await ir.from("arrests").select("*").eq("id",n).single();if(t)throw t;return e},async create(n){const{data:e,error:t}=await ir.from("arrests").insert(n).select().single();if(t)throw t;return e}};function M9(){const n=zr(),[e,t]=S.useState(""),[r,i]=S.useState([]),[o,l]=S.useState(!0);S.useEffect(()=>{async function d(){try{const f=await xv.getAll();i(f)}catch(f){console.error("Failed to fetch arrests:",f)}finally{l(!1)}}d()},[]);const c=r.filter(d=>d.suspect_name.toLowerCase().includes(e.toLowerCase())||d.id.toLowerCase().includes(e.toLowerCase()));return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Arrests"}),x.jsxs(rt,{onClick:()=>n("/arrests/new"),children:[x.jsx(Fv,{className:"mr-2 h-4 w-4"})," New Arrest Record"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Gc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx(sr,{placeholder:"Search arrests...",className:"pl-9",value:e,onChange:d=>t(d.target.value)})]}),x.jsx(rt,{variant:"outline",size:"icon",children:x.jsx(qv,{className:"h-4 w-4"})})]}),x.jsx("div",{className:"rounded-md border bg-card",children:x.jsxs(Xc,{children:[x.jsx(Qc,{children:x.jsxs(en,{children:[x.jsx(Ze,{children:"ID"}),x.jsx(Ze,{children:"Suspect"}),x.jsx(Ze,{children:"Charges"}),x.jsx(Ze,{children:"Date"}),x.jsx(Ze,{children:"Officer"}),x.jsx(Ze,{children:"Status"}),x.jsx(Ze,{className:"text-right",children:"Actions"})]})}),x.jsx(Zc,{children:o?x.jsx(en,{children:x.jsx($e,{colSpan:7,className:"text-center py-8",children:"Loading arrests..."})}):c.length===0?x.jsx(en,{children:x.jsx($e,{colSpan:7,className:"text-center py-8",children:"No arrests found."})}):c.map(d=>x.jsxs(en,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>n(`/arrests/${d.id}`),children:[x.jsx($e,{className:"font-medium",children:d.id}),x.jsx($e,{children:d.suspect_name}),x.jsx($e,{className:"max-w-[200px] truncate",children:d.charges.join(", ")}),x.jsx($e,{children:new Date(d.created_at).toLocaleDateString()}),x.jsx($e,{children:d.arresting_officer_id}),x.jsx($e,{children:x.jsx(po,{variant:d.status==="Processed"?"default":"secondary",children:d.status})}),x.jsx($e,{className:"text-right",children:x.jsx(rt,{variant:"ghost",size:"sm",children:"View"})})]},d.id))})]})})]})}const eb=S.forwardRef(({className:n,...e},t)=>x.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));eb.displayName="Textarea";function ik(){const{id:n}=Tv(),e=zr(),{user:t}=Eo(),r=!n||n==="new",[i,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(""),[v,b]=S.useState("Pending"),[w,E]=S.useState(!r);S.useEffect(()=>{if(!r&&n){async function T(){try{const A=await xv.getById(n);o(A.suspect_name),c(A.suspect_alias||""),f(A.charges.join(", ")),m(A.location),b(A.status)}catch(A){console.error("Failed to fetch arrest:",A)}finally{E(!1)}}T()}},[n,r]);const C=async()=>{try{const T={suspect_name:i,suspect_alias:l,charges:d.split(",").map(A=>A.trim()).filter(Boolean),location:p,status:v,arresting_officer_id:t?.id,date_of_arrest:new Date().toISOString()};r?await xv.create(T):console.warn("Update not implemented for arrests yet"),e("/arrests")}catch(T){console.error("Failed to save arrest:",T)}};return w?x.jsx("div",{className:"p-8 text-center",children:"Loading arrest record..."}):x.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>e("/arrests"),children:x.jsx(Hv,{className:"h-4 w-4"})}),x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:r?"New Arrest Record":`Arrest Record ${n}`})]}),x.jsxs(rt,{onClick:C,children:[x.jsx(Kv,{className:"mr-2 h-4 w-4"})," Save Record"]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[x.jsxs("div",{className:"col-span-2 space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"suspectName",children:"Suspect Name"}),x.jsx(sr,{id:"suspectName",value:i,onChange:T=>o(T.target.value),placeholder:"Full Name"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"alias",children:"Alias (AKA)"}),x.jsx(sr,{id:"alias",value:l,onChange:T=>c(T.target.value),placeholder:"Nickname / Street Name"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"charges",children:"Charges (comma separated)"}),x.jsx(eb,{id:"charges",value:d,onChange:T=>f(T.target.value),placeholder:"e.g. Grand Theft Auto, Evading Arrest, Possession",className:"h-24"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"location",children:"Location of Arrest"}),x.jsx(sr,{id:"location",value:p,onChange:T=>m(T.target.value),placeholder:"Street Address or Coordinates"})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Mugshot"}),x.jsxs("div",{className:"border-2 border-dashed rounded-md h-48 flex flex-col items-center justify-center text-muted-foreground hover:bg-muted/50 cursor-pointer transition-colors",children:[x.jsx(Yz,{className:"h-8 w-8 mb-2"}),x.jsx("span",{className:"text-xs",children:"Click to upload"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Status"}),x.jsxs(Rc,{value:v,onValueChange:b,children:[x.jsx(Ba,{children:x.jsx(Mc,{placeholder:"Select status"})}),x.jsxs($a,{children:[x.jsx(bt,{value:"Pending",children:"Pending Processing"}),x.jsx(bt,{value:"Processed",children:"Processed"}),x.jsx(bt,{value:"In Custody",children:"In Custody"}),x.jsx(bt,{value:"Released",children:"Released"})]})]})]})]})]})]})}function j9(){const{user:n}=Eo(),[e,t]=S.useState([]),[r,i]=S.useState(!0);return S.useEffect(()=>{async function o(){try{const{data:l,error:c}=await ir.from("noose_user").select("id, username, rank, division, clearance, last_login").order("username");if(c)throw c;t(l||[])}catch(l){console.error("Error fetching users:",l)}finally{i(!1)}}n?.permissions.includes("admin.access")&&o()},[n]),n?.permissions.includes("admin.access")?x.jsxs("div",{className:"space-y-6",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Administration"}),x.jsxs(br,{children:[x.jsx(di,{children:x.jsx(fi,{children:"User Management"})}),x.jsx(wr,{children:x.jsxs(Xc,{children:[x.jsx(Qc,{children:x.jsxs(en,{children:[x.jsx(Ze,{children:"Username"}),x.jsx(Ze,{children:"Rank"}),x.jsx(Ze,{children:"Division"}),x.jsx(Ze,{children:"Clearance"}),x.jsx(Ze,{children:"Last Login"}),x.jsx(Ze,{children:"Status"})]})}),x.jsx(Zc,{children:r?x.jsx(en,{children:x.jsx($e,{colSpan:6,className:"text-center py-4",children:"Loading users..."})}):e.map(o=>x.jsxs(en,{children:[x.jsx($e,{className:"font-medium",children:o.username}),x.jsx($e,{children:o.rank}),x.jsx($e,{children:o.division}),x.jsx($e,{children:x.jsxs(po,{variant:o.clearance>=4?"destructive":"secondary",children:["Level ",o.clearance]})}),x.jsx($e,{children:o.last_login?new Date(o.last_login).toLocaleString():"Never"}),x.jsx($e,{children:x.jsx(po,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"})})]},o.id))})]})})]})]}):x.jsxs("div",{className:"p-8 text-center text-destructive",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),x.jsx("p",{children:"You do not have permission to view this page."})]})}function D9(){const n=zr(),[e,t]=S.useState(""),[r,i]=S.useState([]),[o,l]=S.useState(!0);S.useEffect(()=>{async function d(){try{const f=await r0.getAll();i(f)}catch(f){console.error("Failed to fetch investigations:",f)}finally{l(!1)}}d()},[]);const c=r.filter(d=>d.title.toLowerCase().includes(e.toLowerCase())||d.case_number.toLowerCase().includes(e.toLowerCase()));return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Investigations"}),x.jsxs(rt,{onClick:()=>n("/investigations/new"),children:[x.jsx(Fv,{className:"mr-2 h-4 w-4"})," New Case"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Gc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx(sr,{placeholder:"Search cases...",className:"pl-9",value:e,onChange:d=>t(d.target.value)})]}),x.jsx(rt,{variant:"outline",size:"icon",children:x.jsx(qv,{className:"h-4 w-4"})})]}),x.jsx("div",{className:"rounded-md border bg-card",children:x.jsxs(Xc,{children:[x.jsx(Qc,{children:x.jsxs(en,{children:[x.jsx(Ze,{children:"Case Number"}),x.jsx(Ze,{children:"Title"}),x.jsx(Ze,{children:"Lead Agent"}),x.jsx(Ze,{children:"Classification"}),x.jsx(Ze,{children:"Status"}),x.jsx(Ze,{className:"text-right",children:"Actions"})]})}),x.jsx(Zc,{children:o?x.jsx(en,{children:x.jsx($e,{colSpan:6,className:"text-center py-8",children:"Loading investigations..."})}):c.length===0?x.jsx(en,{children:x.jsx($e,{colSpan:6,className:"text-center py-8",children:"No investigations found."})}):c.map(d=>x.jsxs(en,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>n(`/investigations/${d.id}`),children:[x.jsx($e,{className:"font-medium",children:d.case_number}),x.jsx($e,{children:d.title}),x.jsx($e,{children:d.lead_agent_id}),x.jsx($e,{children:x.jsx(po,{variant:"outline",children:d.classification})}),x.jsx($e,{children:x.jsx(po,{variant:d.status==="Open"?"default":"secondary",children:d.status})}),x.jsx($e,{className:"text-right",children:x.jsx(rt,{variant:"ghost",size:"sm",children:"View"})})]},d.id))})]})})]})}function sk(){const{id:n}=Tv(),e=zr(),{user:t}=Eo(),r=!n||n==="new",[i,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState("Restricted"),[v,b]=S.useState("Open"),[w,E]=S.useState(!r);S.useEffect(()=>{if(!r&&n){async function T(){try{const A=await r0.getById(n);o(A.title),c(A.case_number),f(A.description||""),m(A.classification),b(A.status)}catch(A){console.error("Failed to fetch investigation:",A)}finally{E(!1)}}T()}else r&&c(`CASE-${new Date().getFullYear()}-${Math.floor(Math.random()*1e3)}`)},[n,r]);const C=async()=>{try{const T={title:i,case_number:l,description:d,classification:p,status:v,lead_agent_id:t?.id};console.log("Saving investigation:",T),e("/investigations")}catch(T){console.error("Failed to save investigation:",T)}};return w?x.jsx("div",{className:"p-8 text-center",children:"Loading case file..."}):x.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>e("/investigations"),children:x.jsx(Hv,{className:"h-4 w-4"})}),x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:r?"New Investigation":`Case ${l}`})]}),x.jsxs(rt,{onClick:C,children:[x.jsx(Kv,{className:"mr-2 h-4 w-4"})," Save Case"]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[x.jsxs("div",{className:"col-span-2 space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"title",children:"Case Title"}),x.jsx(sr,{id:"title",value:i,onChange:T=>o(T.target.value),placeholder:"Operation Name or Case Title"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"description",children:"Description / Overview"}),x.jsx(eb,{id:"description",value:d,onChange:T=>f(T.target.value),placeholder:"Brief summary of the investigation...",className:"h-32"})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{htmlFor:"caseNumber",children:"Case Number"}),x.jsx(sr,{id:"caseNumber",value:l,onChange:T=>c(T.target.value),placeholder:"CASE-YYYY-XXX",disabled:!r})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Classification"}),x.jsxs(Rc,{value:p,onValueChange:m,children:[x.jsx(Ba,{children:x.jsx(Mc,{placeholder:"Select classification"})}),x.jsxs($a,{children:[x.jsx(bt,{value:"Unclassified",children:"Unclassified"}),x.jsx(bt,{value:"Restricted",children:"Restricted"}),x.jsx(bt,{value:"Confidential",children:"Confidential"}),x.jsx(bt,{value:"Secret",children:"Secret"}),x.jsx(bt,{value:"Top Secret",children:"Top Secret"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Pt,{children:"Status"}),x.jsxs(Rc,{value:v,onValueChange:b,children:[x.jsx(Ba,{children:x.jsx(Mc,{placeholder:"Select status"})}),x.jsxs($a,{children:[x.jsx(bt,{value:"Open",children:"Open"}),x.jsx(bt,{value:"Closed",children:"Closed"}),x.jsx(bt,{value:"Archived",children:"Archived"})]})]})]})]})]})]})}function L9(){return x.jsx(pD,{children:x.jsxs(Fj,{children:[x.jsx(Qt,{path:"/login",element:x.jsx(rz,{})}),x.jsx(Qt,{element:x.jsx(iz,{}),children:x.jsxs(Qt,{element:x.jsx(N4,{}),children:[x.jsx(Qt,{path:"/",element:x.jsx(D4,{})}),x.jsx(Qt,{path:"/reports",element:x.jsx(z4,{})}),x.jsx(Qt,{path:"/reports/new",element:x.jsx(rk,{})}),x.jsx(Qt,{path:"/reports/:id",element:x.jsx(rk,{})}),x.jsx(Qt,{path:"/arrests",element:x.jsx(M9,{})}),x.jsx(Qt,{path:"/arrests/new",element:x.jsx(ik,{})}),x.jsx(Qt,{path:"/arrests/:id",element:x.jsx(ik,{})}),x.jsx(Qt,{path:"/investigations",element:x.jsx(D9,{})}),x.jsx(Qt,{path:"/investigations/new",element:x.jsx(sk,{})}),x.jsx(Qt,{path:"/investigations/:id",element:x.jsx(sk,{})}),x.jsx(Qt,{path:"/admin",element:x.jsx(j9,{})})]})}),x.jsx(Qt,{path:"*",element:x.jsx(yk,{to:"/",replace:!0})})]})})}Q2.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(L9,{})}));
